{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12734935","self":"https://issues.apache.org/jira/rest/api/2/issue/12734935","key":"HDFS-6869","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2014-08-19T07:03:06.523+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 19 07:03:06 UTC 2014","customfield_12310420":"412875","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6869/watchers","watchCount":2,"isWatching":false},"created":"2014-08-19T03:14:30.026+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-08-19T07:03:06.523+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312927","id":"12312927","name":"datanode"}],"timeoriginalestimate":null,"description":"Logfile mode in secure datanode is expected to be 644.\n\n[root@centos64-2 hadoop-hdfs]# ll\ntotal 136\n-rw-r--r-- 1 hdfs hadoop 19455 Aug 18 22:40 hadoop-hdfs-journalnode-centos64-2.log\n-rw-r--r-- 1 hdfs hadoop   718 Aug 18 22:38 hadoop-hdfs-journalnode-centos64-2.out\n-rw-r--r-- 1 hdfs hadoop 62316 Aug 18 22:40 hadoop-hdfs-namenode-centos64-2.log\n-rw-r--r-- 1 hdfs hadoop   718 Aug 18 22:38 hadoop-hdfs-namenode-centos64-2.out\n-rw-r--r-- 1 hdfs hadoop 15485 Aug 18 22:39 hadoop-hdfs-zkfc-centos64-2.log\n-rw-r--r-- 1 hdfs hadoop   718 Aug 18 22:39 hadoop-hdfs-zkfc-centos64-2.out\ndrwxr-xr-x 2 hdfs root    4096 Aug 18 22:38 hdfs\n-rw-r--r-- 1 hdfs hadoop     0 Aug 18 22:38 hdfs-audit.log\n-rw-r--r-- 1 hdfs hadoop 15029 Aug 18 22:40 SecurityAuth-hdfs.audit\n[root@centos64-2 hadoop-hdfs]#\n[root@centos64-2 hadoop-hdfs]#\n[root@centos64-2 hadoop-hdfs]# ll hdfs/\ntotal 52\n-rw------- 1 hdfs hadoop 43526 Aug 18 22:41 hadoop-hdfs-datanode-centos64-2.log   <<<   expected -rw-r--r-- (same with namenode log)\n-rw-r--r-- 1 root root     734 Aug 18 22:38 hadoop-hdfs-datanode-centos64-2.out\n-rw------- 1 root root     343 Aug 18 22:38 jsvc.err\n-rw------- 1 root root       0 Aug 18 22:38 jsvc.out\n-rw------- 1 hdfs hadoop     0 Aug 18 22:38 SecurityAuth-hdfs.audit\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"412861","customfield_12312823":null,"summary":"Logfile mode in secure datanode is expected to be 644","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rguo","name":"rguo","key":"rguo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guo Ruijing","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rguo","name":"rguo","key":"rguo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guo Ruijing","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12734935/comment/14101944","id":"14101944","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rpidva","name":"rpidva","key":"rpidva","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rishi Pidva","active":true,"timeZone":"America/Los_Angeles"},"body":"The question I have is do datanode logs directory really need to have permission as 700? It looks to be the umask is set to 077 in case of secure DN which leads to all files being created with permission 600. Will be nice to know the reason behind it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rpidva","name":"rpidva","key":"rpidva","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rishi Pidva","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-19T07:03:06.523+0000","updated":"2014-08-19T07:03:06.523+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6869/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1z0wn:"}}