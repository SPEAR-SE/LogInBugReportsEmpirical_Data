{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12833077","self":"https://issues.apache.org/jira/rest/api/2/issue/12833077","key":"HDFS-8485","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2015-05-27T16:31:21.345+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Nov 25 19:48:30 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_112292796_*|*_5_*:*_2_*:*_118926_*|*_4_*:*_1_*:*_21254","customfield_12312321":null,"resolutiondate":"2015-05-28T22:48:02.957+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-8485/watchers","watchCount":9,"isWatching":false},"created":"2015-05-27T15:34:10.062+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-11-25T19:48:30.197+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Running a simple MapReduce job that writes to a path configured as an encryption zone throws exception\n\n11:26:26,343 INFO  [org.apache.hadoop.mapreduce.Job] (pool-14-thread-1) Task Id : attempt_1432740034176_0001_m_000000_2, Status : FAILED\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) Error: java.io.IOException: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.createConnection(KMSClientProvider.java:424)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.decryptEncryptedKey(KMSClientProvider.java:710)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.crypto.key.KeyProviderCryptoExtension.decryptEncryptedKey(KeyProviderCryptoExtension.java:388)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.decryptEncryptedDataEncryptionKey(DFSClient.java:1358)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.createWrappedOutputStream(DFSClient.java:1457)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.createWrappedOutputStream(DFSClient.java:1442)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem$6.doCall(DistributedFileSystem.java:400)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem$6.doCall(DistributedFileSystem.java:393)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\n11:26:26,346 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:393)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:337)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:908)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:889)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:786)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat com.s3.ingestion.S3ImportMR$S3ImportMapper.map(S3ImportMR.java:112)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat com.s3.ingestion.S3ImportMR$S3ImportMapper.map(S3ImportMR.java:43)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:145)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:784)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n11:26:26,347 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) Caused by: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.doSpnegoSequence(KerberosAuthenticator.java:306)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.authenticate(KerberosAuthenticator.java:196)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticator.authenticate(DelegationTokenAuthenticator.java:127)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.authentication.client.AuthenticatedURL.openConnection(AuthenticatedURL.java:216)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticatedURL.openConnection(DelegationTokenAuthenticatedURL.java:322)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider$1.run(KMSClientProvider.java:418)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider$1.run(KMSClientProvider.java:413)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\n11:26:26,348 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.createConnection(KMSClientProvider.java:413)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \t... 23 more\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) Caused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:147)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:122)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat sun.security.jgss.krb5.Krb5MechFactory.getMechanismContext(Krb5MechFactory.java:187)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat sun.security.jgss.GSSManagerImpl.getMechanismContext(GSSManagerImpl.java:224)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:212)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:179)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator$1.run(KerberosAuthenticator.java:285)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator$1.run(KerberosAuthenticator.java:261)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n11:26:26,349 ERROR [stderr] (pool-14-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.doSpnegoSequence(KerberosAuthenticator.java:261)\n11:26:26,350 ERROR [stderr] (pool-14-thread-1) \t... 33 more\n11:26:26,350 ERROR [stderr] (pool-14-thread-1) ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12735615","id":"12735615","filename":"core-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T15:41:42.500+0000","size":1476,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12735615/core-site.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12735616","id":"12735616","filename":"hdfs-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T15:41:42.506+0000","size":3555,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12735616/hdfs-site.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12735620","id":"12735620","filename":"kms-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T15:42:30.518+0000","size":6280,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12735620/kms-site.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12735617","id":"12735617","filename":"mapred-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T15:41:42.513+0000","size":1519,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12735617/mapred-site.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12735618","id":"12735618","filename":"yarn-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T15:41:42.518+0000","size":2575,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12735618/yarn-site.xml"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Transparent Encryption Fails to work with Yarn/MapReduce","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"RHEL-7, Kerberos 5","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14561220","id":"14561220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"body":"Seems like YARN is failing to get the delegation token to authenticate with Hadoop KMS. \n\nI am using a proxy user to launch the job on behalf of another user (hdfs/superadmin).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T16:29:31.521+0000","updated":"2015-05-27T16:29:31.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14561223","id":"14561223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xyao","name":"xyao","key":"xyao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xiaoyu Yao","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi, [~ashar103], Thanks for reporting the issue. \nCan you add the Hadoop version you are using? This might be one of the known issues in 2.6 that has been fixed in 2.7.\nCan you do a klist -kt /data/security/kms/keytab/kms.keytab to see if the configured kerberos principle HTTP/kdchostname is there?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xyao","name":"xyao","key":"xyao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xiaoyu Yao","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T16:31:21.345+0000","updated":"2015-05-27T16:31:21.345+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14561486","id":"14561486","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes I am using 2.6 since 2.7 is listed to have bugs and not ready for prod use.\n\nHere's the output of kms.keytab (HTTP principal in does exist)\n\n[root@ip-x-x-x-x user]# klist -k -t /data/security/kms/keytab/kms.keytab \nKeytab name: FILE:/data/security/kms/keytab/kms.keytab\nKVNO Timestamp           Principal\n---- ------------------- ------------------------------------------------------\n   1 04/21/2015 13:08:05 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:08:05 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:08:05 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:08:05 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:17:45 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:17:45 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:17:45 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:17:45 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:42:57 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:42:57 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:42:57 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 13:42:57 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 19:56:46 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 19:56:46 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 19:56:46 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 04/21/2015 19:56:46 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 16:42:56 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 16:42:56 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 16:42:56 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 16:42:56 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 17:46:15 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 17:46:15 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 17:46:15 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n   1 05/05/2015 17:46:15 HTTP/ip-x-x-x-x.s3.example.com@S3.EXAMPLE.COM\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-27T18:49:42.046+0000","updated":"2015-05-27T18:49:42.046+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14563665","id":"14563665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"body":"I have tried 2.7 and the error still exists\n\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) Error: java.io.IOException: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.createConnection(KMSClientProvider.java:489)\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.decryptEncryptedKey(KMSClientProvider.java:776)\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.KeyProviderCryptoExtension.decryptEncryptedKey(KeyProviderCryptoExtension.java:388)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.decryptEncryptedDataEncryptionKey(DFSClient.java:1392)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.createWrappedOutputStream(DFSClient.java:1494)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.createWrappedOutputStream(DFSClient.java:1479)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem$7.doCall(DistributedFileSystem.java:451)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem$7.doCall(DistributedFileSystem.java:444)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:459)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:387)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:909)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:890)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:787)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat com.s3.ingestion.S3ImportMR$S3ImportMapper.map(S3ImportMR.java:112)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat com.s3.ingestion.S3ImportMR$S3ImportMapper.map(S3ImportMR.java:43)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) Caused by: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.doSpnegoSequence(KerberosAuthenticator.java:332)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.authenticate(KerberosAuthenticator.java:205)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticator.authenticate(DelegationTokenAuthenticator.java:128)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.AuthenticatedURL.openConnection(AuthenticatedURL.java:215)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticatedURL.openConnection(DelegationTokenAuthenticatedURL.java:322)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider$1.run(KMSClientProvider.java:483)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider$1.run(KMSClientProvider.java:478)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.createConnection(KMSClientProvider.java:478)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \t... 23 more\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) Caused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:147)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:122)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.krb5.Krb5MechFactory.getMechanismContext(Krb5MechFactory.java:187)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.GSSManagerImpl.getMechanismContext(GSSManagerImpl.java:224)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:212)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:179)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator$1.run(KerberosAuthenticator.java:311)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator$1.run(KerberosAuthenticator.java:287)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.doSpnegoSequence(KerberosAuthenticator.java:287)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \t... 33 more\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-28T20:47:00.108+0000","updated":"2015-05-28T20:47:00.108+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14563670","id":"14563670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"body":"I have tried 2.7 and the error still exists\n\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) Error: java.io.IOException: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.createConnection(KMSClientProvider.java:489)\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.decryptEncryptedKey(KMSClientProvider.java:776)\n16:46:31,542 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.KeyProviderCryptoExtension.decryptEncryptedKey(KeyProviderCryptoExtension.java:388)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.decryptEncryptedDataEncryptionKey(DFSClient.java:1392)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.createWrappedOutputStream(DFSClient.java:1494)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DFSClient.createWrappedOutputStream(DFSClient.java:1479)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem$7.doCall(DistributedFileSystem.java:451)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem$7.doCall(DistributedFileSystem.java:444)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:459)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:387)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:909)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:890)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:787)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat com.s3.ingestion.S3ImportMR$S3ImportMapper.map(S3ImportMR.java:112)\n16:46:31,543 ERROR [stderr] (pool-17-thread-1) \tat com.s3.ingestion.S3ImportMR$S3ImportMapper.map(S3ImportMR.java:43)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) Caused by: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.doSpnegoSequence(KerberosAuthenticator.java:332)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.authenticate(KerberosAuthenticator.java:205)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticator.authenticate(DelegationTokenAuthenticator.java:128)\n16:46:31,544 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.AuthenticatedURL.openConnection(AuthenticatedURL.java:215)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticatedURL.openConnection(DelegationTokenAuthenticatedURL.java:322)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider$1.run(KMSClientProvider.java:483)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider$1.run(KMSClientProvider.java:478)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.crypto.key.kms.KMSClientProvider.createConnection(KMSClientProvider.java:478)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \t... 23 more\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) Caused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:147)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:122)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.krb5.Krb5MechFactory.getMechanismContext(Krb5MechFactory.java:187)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.GSSManagerImpl.getMechanismContext(GSSManagerImpl.java:224)\n16:46:31,545 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:212)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:179)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator$1.run(KerberosAuthenticator.java:311)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator$1.run(KerberosAuthenticator.java:287)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat java.security.AccessController.doPrivileged(Native Method)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat javax.security.auth.Subject.doAs(Subject.java:422)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \tat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.doSpnegoSequence(KerberosAuthenticator.java:287)\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) \t... 33 more\n16:46:31,546 ERROR [stderr] (pool-17-thread-1) ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-28T20:48:15.601+0000","updated":"2015-05-28T20:48:15.601+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14563817","id":"14563817","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"body":"Was missing the key provider property. Tested and working with 2.7.0 upgrade.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashar103","name":"ashar103","key":"ashar103","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ambud Sharma","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-28T22:45:14.876+0000","updated":"2015-05-28T22:45:14.876+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14944107","id":"14944107","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=PrasadAlle","name":"PrasadAlle","key":"prasadalle","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasad Alle","active":true,"timeZone":"Etc/UTC"},"body":"Can you please describe fix in more details. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=PrasadAlle","name":"PrasadAlle","key":"prasadalle","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasad Alle","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-05T21:46:32.406+0000","updated":"2015-10-05T21:46:32.406+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/14944109","id":"14944109","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=PrasadAlle","name":"PrasadAlle","key":"prasadalle","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasad Alle","active":true,"timeZone":"Etc/UTC"},"body":"I am getting the following exception when I read data from the HDFS Encryption zone either through Java MR or Spark\n\nDiagnostics: No KeyProvider is configured, cannot access an encrypted file\njava.io.IOException: No KeyProvider is configured, cannot access an encrypted file\n        at org.apache.hadoop.hdfs.DFSClient.decryptEncryptedDataEncryptionKey(DFSClient.java:1352)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=PrasadAlle","name":"PrasadAlle","key":"prasadalle","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasad Alle","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-05T21:49:25.467+0000","updated":"2015-10-05T21:49:25.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12833077/comment/15027466","id":"15027466","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xyao","name":"xyao","key":"xyao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xiaoyu Yao","active":true,"timeZone":"America/Los_Angeles"},"body":"[~PrasadAlle], Do you have *dfs.encryption.key.provider.uri* configured in your hdfs-site.xml? It should be something like:\n\n{code}\nOn hdfs-site.xml:\nKey:       dfs.encryption.key.provider.uri\nValue:    kms://http@myhost.mydomain:16000/kms\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xyao","name":"xyao","key":"xyao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xiaoyu Yao","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-25T19:48:30.197+0000","updated":"2015-11-25T19:48:30.197+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-8485/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2f9ev:"}}