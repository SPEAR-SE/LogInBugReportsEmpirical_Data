{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12518508","self":"https://issues.apache.org/jira/rest/api/2/issue/12518508","key":"HDFS-2243","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2011-08-10T20:11:02.079+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Sep 28 21:08:33 UTC 2015","customfield_12310420":"1803","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_858107096_*|*_1_*:*_2_*:*_3181123069_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-09-26T13:37:58.855+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-2243/watchers","watchCount":6,"isWatching":false},"created":"2011-08-10T19:37:28.784+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315571","id":"12315571","description":"","name":"0.23.0","archived":false,"released":true,"releaseDate":"2011-11-11"}],"issuelinks":[{"id":"12346415","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12346415","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12446436","key":"HDFS-918","self":"https://issues.apache.org/jira/rest/api/2/issue/12446436","fields":{"summary":"Use single Selector and small thread pool to replace many instances of BlockSender for reads","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-28T21:08:33.448+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312927","id":"12312927","name":"datanode"}],"timeoriginalestimate":null,"description":"I am running the YCSB benchmark against HBase, sometimes against a single node, sometimes against a cluster of 6 systems. As the load increases into thousands of TPS, especially on the single node, I can see that the datanode runs very high system time and seems to be bottlenecked by how fast it can create the threads to handle the new connections in DataXceiverServer.run. By \"perf top\" I can see the process spends about 12% of all its time in pthread_create, and in hprof profiles I can see there are tens of thousands of threads created in just a few minutes of test execution.\n\nDoes anyone else observe this bottleneck? Is there a major challenge to using a thread pool of DataXceivers in this situation?\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12490032","id":"12490032","filename":"datanode-perf-110808.gif","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-10T20:31:41.367+0000","size":9573,"mimeType":"image/gif","content":"https://issues.apache.org/jira/secure/attachment/12490032/datanode-perf-110808.gif"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12491351","id":"12491351","filename":"HDFS-2234-branch-0.20-append.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-23T15:42:41.080+0000","size":9766,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12491351/HDFS-2234-branch-0.20-append.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12494802","id":"12494802","filename":"HDFS-2243-0.23-110909.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-16T15:19:38.165+0000","size":2994,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12494802/HDFS-2243-0.23-110909.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12494031","id":"12494031","filename":"HDFS-2243-0.23-110909.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-12T13:47:09.394+0000","size":2994,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12494031/HDFS-2243-0.23-110909.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"113825","customfield_12312823":null,"summary":"DataXceiver per accept seems to be a bottleneck in HBase/YCSB test","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Using Fedora 14 on a quad core phenom system","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13082641","id":"13082641","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Hi Eric. HDFS-918 addresses part of this problem. HDFS-941 also addresses it substantially for the HBase workload.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2011-08-10T20:11:02.079+0000","updated":"2011-08-10T20:11:02.079+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13082642","id":"13082642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdcryans","name":"jdcryans","key":"jdcryans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Daniel Cryans","active":true,"timeZone":"America/Los_Angeles"},"body":"You might want to look at HDFS-941 \"Datanode xceiver protocol should allow reuse of a connection\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdcryans","name":"jdcryans","key":"jdcryans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Daniel Cryans","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-10T20:11:24.512+0000","updated":"2011-08-10T20:11:24.512+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13082646","id":"13082646","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"BTW, you may want to also look into SocketIOWithTimeout - I think we're doing some dumb things with the way we use epoll, etc. I've tried to hack it out but couldn't quite get the NIO magic right. Do you see epoll_wait taking a lot of systime?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2011-08-10T20:17:35.563+0000","updated":"2011-08-10T20:17:35.563+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13082654","id":"13082654","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"Last week I tried the patch called \"hdfs-918-branch20-append.patch\" but it didn't seem to help this problem, I am using what seems to be the recommended hdfs for hbase 0.90.3. I can upgrade to hdfs 0.22, it should work with hbase 0.90.3, right?\n\nI will upload my screen shot from perf, it was doing 1000tps at that point. I have not seen epoll taking time, at least on that testbed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-10T20:29:47.832+0000","updated":"2011-08-10T20:29:47.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13082655","id":"13082655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"perf top of datanode at 1000 tps. This was using hdfs from the branch-0.20-append.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-10T20:31:41.399+0000","updated":"2011-08-10T20:31:41.399+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13089547","id":"13089547","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"Here is a thread pool patch based on branch-0.20-append, since that is what is documented to work with HBase 0.90.3. I reused the dfs.datanode.max.xcievers to indicate the thread pool size, which is probably cheating.\nI tested this patch with YCSB workloadb on 3 AMD and 2 Intel systems I have handy. It gives at least equal if not better response times and reduces cpu consumption of the datanode process by 5-10% depending on the system and load.\nIs this a viable approach? If so, I'll forward port it to 0.23 and I can retest if I can find out which HBase works with 0.23 hdfs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-23T15:42:41.139+0000","updated":"2011-08-23T15:42:41.139+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13089627","id":"13089627","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Hey Eric. This is reasonable, but I think the gains will be zeroed out in trunk by HDFS-941 -- since we keepalive a single TCP connection, only one thread will be created when the connection is first accepted.\n\nYou can run HBase trunk with HDFS trunk using HBASE-4221 - I was able to run a 25 node cluster last week for some benchmarks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2011-08-23T18:10:32.006+0000","updated":"2011-08-23T18:10:32.006+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13089665","id":"13089665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"OK, I will try that and re-profile it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-23T19:01:53.004+0000","updated":"2011-08-23T19:01:53.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13089684","id":"13089684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Great. Feel free to ping me on IRC (tlipcon in #hadoop or #hbase) if you have any issues getting it up and running.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2011-08-23T19:29:25.405+0000","updated":"2011-08-23T19:29:25.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13102655","id":"13102655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"Here is the patch merged into trunk. I switched to use j.u.c.ThreadPoolExecutor which seemed a better way then my first version. In YCSB I don't see any performance difference over the trunk, it just uses the available Java API to avoid launching our own threads.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-12T13:47:09.467+0000","updated":"2011-09-12T13:47:09.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13106515","id":"13106515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"The HDFS-2243-0.23-110909.patch should apply to trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-16T15:21:28.143+0000","updated":"2011-09-16T15:21:28.143+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13106545","id":"13106545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12494031/HDFS-2243-0.23-110909.txt\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed these unit tests:\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestHost2NodesMap\n                  org.apache.hadoop.hdfs.TestDfsOverAvroRpc\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/1260//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/1260//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-16T15:52:44.673+0000","updated":"2011-09-16T15:52:44.673+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13106565","id":"13106565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12494802/HDFS-2243-0.23-110909.patch\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed these unit tests:\n                  org.apache.hadoop.hdfs.TestDfsOverAvroRpc\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestHost2NodesMap\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/1261//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/1261//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-16T16:13:28.247+0000","updated":"2011-09-16T16:13:28.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/13114668","id":"13114668","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"body":"Doesn't show any benefit after HDFS-941 fix, closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ecaspole","name":"ecaspole","key":"ecaspole","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Caspole","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-26T13:37:58.895+0000","updated":"2011-09-26T13:37:58.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518508/comment/14934011","id":"14934011","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Dropping fix-version from 'non-fixed' (didn't have code-fixes) JIRAs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-28T21:08:33.440+0000","updated":"2015-09-28T21:08:33.440+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-2243/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ju7r:"}}