{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12895360","self":"https://issues.apache.org/jira/rest/api/2/issue/12895360","key":"HDFS-9120","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-09-23T05:48:56.249+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 25 23:03:26 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-9120/watchers","watchCount":4,"isWatching":false},"created":"2015-09-22T07:36:17.707+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kanaka","name":"kanaka","key":"kanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kanaka&avatarId=24828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kanaka&avatarId=24828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kanaka&avatarId=24828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kanaka&avatarId=24828"},"displayName":"Kanaka Kumar Avvaru","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-25T23:03:26.221+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327638","id":"12327638","name":"logging"}],"timeoriginalestimate":null,"description":"In namenode-metrics.log when metric name value pair is more than 128 characters, it is truncated as below --\n\nExample for LiveNodes information is ---\nvi namenode-metrics.log\n{color:red}\n2015-09-22 10:34:37,891 NameNodeInfo:LiveNodes={\"host-10-xx-xxx-88:50076\":{\"infoAddr\":\"10.xx.xxx.88:0\",\"infoSecureAddr\":\"10.xx.xxx.88:52100\",\"xferaddr\":\"10.xx.xxx.88:50076\",\"l...\n{color}\n\nHere complete information of metric value is not logged.\netc information being displayed as \"...\"\nSilimarly for other metric values in NN metrics.\n\nwhere as DN metric logs complete metric values.\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Metric logging values are truncated in NN Metrics log.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=archanat","name":"archanat","key":"archanat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Archana T","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=archanat","name":"archanat","key":"archanat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Archana T","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12895360/comment/14904002","id":"14904002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kanaka","name":"kanaka","key":"kanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kanaka&avatarId=24828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kanaka&avatarId=24828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kanaka&avatarId=24828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kanaka&avatarId=24828"},"displayName":"Kanaka Kumar Avvaru","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks for reporting the issue [~archanat].\n\nI think message was truncated to avoid excessive logging. But true there should be option to get the complete information or limit the content size in different way by extracting  important details (Ex- Log only live node name ignoring all other details like infoAddr,etc.)\n\nFor simplicity I am thinking to make the truncate length configurable and don't truncate by default . [~arpitagarwal], do you have any other view on this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kanaka","name":"kanaka","key":"kanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kanaka&avatarId=24828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kanaka&avatarId=24828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kanaka&avatarId=24828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kanaka&avatarId=24828"},"displayName":"Kanaka Kumar Avvaru","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-09-23T05:48:56.249+0000","updated":"2015-09-23T05:48:56.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12895360/comment/14904927","id":"14904927","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"body":"The truncation was intentional.\n\nInstead of an option to avoid truncating, I suggest adding an option to filter out specific metrics from the output and add the more verbose metrics to that option as deaults. Then you can remove the truncation altogether. What do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-23T17:59:29.529+0000","updated":"2015-09-23T17:59:29.529+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12895360/comment/14906419","id":"14906419","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kanaka","name":"kanaka","key":"kanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kanaka&avatarId=24828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kanaka&avatarId=24828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kanaka&avatarId=24828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kanaka&avatarId=24828"},"displayName":"Kanaka Kumar Avvaru","active":true,"timeZone":"Asia/Kolkata"},"body":"Yes fine [~arpitagarwal]. Let user configure comma separated prefixes like {{excludekeystartwith = NameNodeInfo:LiveNodes, IPCLoggerChannel}} then NameNodeInfo:LiveNodes and all the metrics like IPCLoggerChannel-XXX will be ignored. \n\nAlso shall we consider flatten and log values from TabularData & CompositeData types which are ignored currently?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kanaka","name":"kanaka","key":"kanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kanaka&avatarId=24828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kanaka&avatarId=24828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kanaka&avatarId=24828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kanaka&avatarId=24828"},"displayName":"Kanaka Kumar Avvaru","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-09-24T14:35:12.540+0000","updated":"2015-09-24T14:35:12.540+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12895360/comment/14908839","id":"14908839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~kanaka], that sounds fine to me.\n\nbq. Also shall we consider flatten and log values from TabularData & CompositeData types which are ignored currently?\nGood idea, we could add them to the default exclude list if they are too verbose.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T23:03:26.221+0000","updated":"2015-09-25T23:03:26.221+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-9120/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2ldx3:"}}