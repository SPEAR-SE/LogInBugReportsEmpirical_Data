{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12527110","self":"https://issues.apache.org/jira/rest/api/2/issue/12527110","key":"HDFS-2446","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2011-10-25T09:18:55.371+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Nov 11 15:10:42 UTC 2011","customfield_12310420":"85481","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2481512322_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-11-11T15:11:28.518+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-2446/watchers","watchCount":1,"isWatching":false},"created":"2011-10-13T21:52:56.256+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316392","id":"12316392","description":"Merge append/sync support with security","name":"0.20.205.0","archived":false,"released":true,"releaseDate":"2011-10-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-11-11T15:11:28.573+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312928","id":"12312928","name":"hdfs-client"}],"timeoriginalestimate":null,"description":"If we add following config parameter in core-site.xml in all the compute nodes and client side, we get extra two INFO message in STDOUT for every hadoop command\n\ncore-site.xml\n=============\n...\n  <property>\n    <name>hadoop.security.group.mapping</name>\n    <value>org.apache.hadoop.security.JniBasedUnixGroupsNetgroupMapping</value>\n    <description>\n    Class for user to group mapping (get groups for a given user) for ACL\n    </description>\n  </property>\n....\n\n$hadoop dfs -lsr /tmp\n11/10/12 19:04:58 INFO util.NativeCodeLoader: Loaded the native-hadoop library\n11/10/12 19:04:58 INFO security.JniBasedUnixGroupsMapping: Using JniBasedUnixGroupsMapping for Group resolution\ndrwx------   - hadoopqa hdfs          0 2011-10-12 19:04 /tmp/file1\ndrwx------   - hadoopqa hdfs          0 2011-10-12 19:04 /tmp/file2\n$hadoop dfs -rmr -skipTrash /tmp/file2\n11/10/12 19:04:54 INFO util.NativeCodeLoader: Loaded the native-hadoop library\n11/10/12 19:04:54 INFO security.JniBasedUnixGroupsMapping: Using JniBasedUnixGroupsMapping for Group resolution\nDeleted hdfs://<NN Hostname>/tmp/file2","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74152","customfield_12312823":null,"summary":"with hadoop.security.group.mapping settings two extra INFO with every hadoop command","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajsaha","name":"rajsaha","key":"rajsaha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajsaha&avatarId=16507","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajsaha&avatarId=16507","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajsaha&avatarId=16507","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajsaha&avatarId=16507"},"displayName":"Rajit Saha","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajsaha","name":"rajsaha","key":"rajsaha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajsaha&avatarId=16507","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajsaha&avatarId=16507","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajsaha&avatarId=16507","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajsaha&avatarId=16507"},"displayName":"Rajit Saha","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527110/comment/13126992","id":"13126992","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajsaha","name":"rajsaha","key":"rajsaha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajsaha&avatarId=16507","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajsaha&avatarId=16507","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajsaha&avatarId=16507","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajsaha&avatarId=16507"},"displayName":"Rajit Saha","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks to Kihwal Lee , we got a workaround as following\n\nAdding the following in $HADOOP_CONF_DIR/log4j.properties in only client side, get rid of two extra INFO logging\n\nlog4j.logger.org.apache.hadoop.security.JniBasedUnixGroupsMapping=WARN,console\nlog4j.logger.org.apache.hadoop.util.NativeCodeLoader=WARN,console\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajsaha","name":"rajsaha","key":"rajsaha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajsaha&avatarId=16507","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajsaha&avatarId=16507","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajsaha&avatarId=16507","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajsaha&avatarId=16507"},"displayName":"Rajit Saha","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-10-13T21:55:57.672+0000","updated":"2011-10-13T21:55:57.672+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527110/comment/13134860","id":"13134860","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"The one time info messages are useful on servers, but DEBUG seems better suited for clients. What will be a sane and generic way to support this? Some are programmatically using hadoop client, bypassing the hadoop script, so tweaking the env vars within scripts won't cover all cases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2011-10-25T09:18:55.371+0000","updated":"2011-10-25T09:18:55.371+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527110/comment/13148526","id":"13148526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"There is no generic log level setting change that can satisfy all. With the current architecture, the only way of achieving this is to control it through config. So, it depends on the flexibility of deployment/installation method user is using. This can be done through passing HADOOP_*_OPS env vars. Or something like HADOOP-7814 could help supporting multiple config in a cluster. Since there is no code change for directly addressing this problem, I will close this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2011-11-11T15:10:42.103+0000","updated":"2011-11-11T15:10:42.103+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-2446/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d2bj:"}}