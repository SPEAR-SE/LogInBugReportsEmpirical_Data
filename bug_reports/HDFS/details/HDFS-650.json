{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12436497","self":"https://issues.apache.org/jira/rest/api/2/issue/12436497","key":"HDFS-650","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2009-09-24T18:10:13.273+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Jan 08 08:12:30 UTC 2011","customfield_12310420":"16691","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_40689709182_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-01-08T08:12:30.075+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-650/watchers","watchCount":4,"isWatching":false},"created":"2009-09-24T09:30:40.893+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-01-08T08:12:30.049+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.LeaseManager: Lease Monitor: Removing lease [Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], sortedLeases.size()=: 1\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Recovering lease=[Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], src=/54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO\n2009-09-23 18:05:48,929 WARN org.apache.hadoop.hdfs.StateChange: DIR* NameSystem.internalReleaseCreate: attempt to release a create lock on /54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO but file is already closed.\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.LeaseManager: Lease Monitor: Removing lease [Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], sortedLeases.size()=: 1\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Recovering lease=[Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], src=/54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO\n2009-09-23 18:05:48,929 WARN org.apache.hadoop.hdfs.StateChange: DIR* NameSystem.internalReleaseCreate: attempt to release a create lock on /54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO but file is already closed.\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.LeaseManager: Lease Monitor: Removing lease [Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], sortedLeases.size()=: 1\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Recovering lease=[Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], src=/54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO\n2009-09-23 18:05:48,929 WARN org.apache.hadoop.hdfs.StateChange: DIR* NameSystem.internalReleaseCreate: attempt to release a create lock on /54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO but file is already closed.\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.LeaseManager: Lease Monitor: Removing lease [Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], sortedLeases.size()=: 1\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Recovering lease=[Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], src=/54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO\n2009-09-23 18:05:48,929 WARN org.apache.hadoop.hdfs.StateChange: DIR* NameSystem.internalReleaseCreate: attempt to release a create lock on /54_upload/GALGAME/<风子の漂流瓶@Sumisora+2Dgal>CANVAS3V1.ISO but file is already closed.\n2009-09-23 18:05:48,929 INFO org.apache.hadoop.hdfs.server.namenode.LeaseManager: Lease Monitor: Removing lease [Lease.  Holder: DFSClient_2121971893, pendingcreates: 1], sortedLeases.size()=: 1","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"113000","customfield_12312823":null,"summary":"Namenode in infinite loop for removing/recovering lease.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dongtalk%40gmail.com","name":"dongtalk@gmail.com","key":"dongtalk@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yajun Dong","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dongtalk%40gmail.com","name":"dongtalk@gmail.com","key":"dongtalk@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yajun Dong","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12759197","id":"12759197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Yajun, what is the version of Hadoop are you using?  You may find it from the NameNode's web page (http://namenode:50070/dfshealth.jsp).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-24T18:10:13.273+0000","updated":"2009-09-24T18:10:13.273+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12759353","id":"12759353","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dongtalk%40gmail.com","name":"dongtalk@gmail.com","key":"dongtalk@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yajun Dong","active":true,"timeZone":"Etc/UTC"},"body":"Hadoop-0.19.0\n\nOn Fri, Sep 25, 2009 at 2:11 AM, Tsz Wo (Nicholas), SZE (JIRA) <\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dongtalk%40gmail.com","name":"dongtalk@gmail.com","key":"dongtalk@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yajun Dong","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-25T01:25:17.752+0000","updated":"2009-09-25T01:25:17.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12759642","id":"12759642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cos","name":"cos","key":"cos","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cos&avatarId=16741","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cos&avatarId=16741","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cos&avatarId=16741","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cos&avatarId=16741"},"displayName":"Konstantin Boudnik","active":true,"timeZone":"America/Los_Angeles"},"body":"I'm changing 'Affects version' value to {{Unknown}} because:\n- Append branch is the part of 0.21 release and this JIRA is mistakenly assigned to the wrong release\n- 0.19 version isn't listed among the available releases\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cos","name":"cos","key":"cos","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cos&avatarId=16741","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cos&avatarId=16741","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cos&avatarId=16741","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cos&avatarId=16741"},"displayName":"Konstantin Boudnik","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-25T17:36:41.706+0000","updated":"2009-09-25T17:36:41.706+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12759853","id":"12759853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dongtalk%40gmail.com","name":"dongtalk@gmail.com","key":"dongtalk@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yajun Dong","active":true,"timeZone":"Etc/UTC"},"body":"The issue is that the file has been closed and the lease dit not removed. The logic from the code point of view in NameNode, it seems to be unlikely. \n\nAt this point, I could provide some information is that the user request the APPEND operation before the file is not closed.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dongtalk%40gmail.com","name":"dongtalk@gmail.com","key":"dongtalk@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yajun Dong","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-26T03:44:30.837+0000","updated":"2009-09-26T03:44:30.837+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12881552","id":"12881552","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slukog","name":"slukog","key":"slukog","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gokul","active":true,"timeZone":"Etc/UTC"},"body":"\n{quote}\nAt this point, I could provide some information is that the user request the APPEND operation before the file is not closed.\n{quote}\n\nSo this issue is there only in this scenario?? (When user tries to append before closing the file)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slukog","name":"slukog","key":"slukog","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gokul","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-23T05:29:10.830+0000","updated":"2010-06-23T05:29:10.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12979076","id":"12979076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Quite a bit of work has been done on the leases since 19, particularly with the new append.  Has this been seen again?  If not, I'd like to go ahead and resolve it and it appears unlikely that any more progress will be made in determining the problem.  Any objections?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-01-08T02:51:31.232+0000","updated":"2011-01-08T02:51:31.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12979102","id":"12979102","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"No objection on closing on my side. 0.19 been a long time ago.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-01-08T07:55:26.671+0000","updated":"2011-01-08T07:55:26.671+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12436497/comment/12979104","id":"12979104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-01-08T08:12:30.001+0000","updated":"2011-01-08T08:12:30.001+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-650/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0jp4f:"}}