{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13001170","self":"https://issues.apache.org/jira/rest/api/2/issue/13001170","key":"HDFS-10815","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-09-19T06:58:59.401+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Nov 21 03:38:41 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-10815/watchers","watchCount":11,"isWatching":false},"created":"2016-08-30T02:53:10.868+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[{"id":"12487515","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12487515","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13004376","key":"HDFS-10858","self":"https://issues.apache.org/jira/rest/api/2/issue/13004376","fields":{"summary":"FBR processing may generate incorrect reportedBlock-blockGroup mapping","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12478962","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12478962","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12998129","key":"HDFS-10775","self":"https://issues.apache.org/jira/rest/api/2/issue/12998129","fields":{"summary":"Under-Replicated Blocks can not be recovered","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-11-28T05:41:24.177+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327961","id":"12327961","name":"erasure-coding"}],"timeoriginalestimate":null,"description":"After carrying out an examination in the following procedures, an EC files came to be recognized as corrupt files.\nThese files were able to get in \"hdfs dfs -get\".\nNameNode might be causing the false recognition.\n\nDataNodes: datanode[1-5]\nRack awareness: not set\nCopy target files: /tmp/tpcds-generate/25/store_sales/*\n{code}\n$ hdfs dfs -ls /tmp/tpcds-generate/25/store_sales\nFound 25 items\n-rw-r--r--   0 root supergroup  399430918 2016-08-16 15:11 /tmp/tpcds-generate/25/store_sales/data-m-00000\n-rw-r--r--   0 root supergroup  399054598 2016-08-16 15:11 /tmp/tpcds-generate/25/store_sales/data-m-00001\n-rw-r--r--   0 root supergroup  399329373 2016-08-16 15:11 /tmp/tpcds-generate/25/store_sales/data-m-00002\n-rw-r--r--   0 root supergroup  399528459 2016-08-16 15:11 /tmp/tpcds-generate/25/store_sales/data-m-00003\n-rw-r--r--   0 root supergroup  399329624 2016-08-16 15:11 /tmp/tpcds-generate/25/store_sales/data-m-00004\n-rw-r--r--   0 root supergroup  399085924 2016-08-16 15:11 /tmp/tpcds-generate/25/store_sales/data-m-00005\n-rw-r--r--   0 root supergroup  399337384 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00006\n-rw-r--r--   0 root supergroup  399199458 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00007\n-rw-r--r--   0 root supergroup  399679096 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00008\n-rw-r--r--   0 root supergroup  399440431 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00009\n-rw-r--r--   0 root supergroup  399403931 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00010\n-rw-r--r--   0 root supergroup  399472465 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00011\n-rw-r--r--   0 root supergroup  399451784 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00012\n-rw-r--r--   0 root supergroup  399240168 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00013\n-rw-r--r--   0 root supergroup  399370507 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00014\n-rw-r--r--   0 root supergroup  399633351 2016-08-16 15:12 /tmp/tpcds-generate/25/store_sales/data-m-00015\n-rw-r--r--   0 root supergroup  396532952 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00016\n-rw-r--r--   0 root supergroup  396258715 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00017\n-rw-r--r--   0 root supergroup  396382486 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00018\n-rw-r--r--   0 root supergroup  399016456 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00019\n-rw-r--r--   0 root supergroup  399465745 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00020\n-rw-r--r--   0 root supergroup  399208235 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00021\n-rw-r--r--   0 root supergroup  399198296 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00022\n-rw-r--r--   0 root supergroup  399599711 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00023\n-rw-r--r--   0 root supergroup  395150855 2016-08-16 15:13 /tmp/tpcds-generate/25/store_sales/data-m-00024\n{code}\n\nNameNodes:\n  namenode1(active)\n  namenode2(standby)\n\nThe directory which there is \"Under-erasure-coded block groups\": /tmp/tpcds-generate/test\n{code}\n$ sudo -u hdfs hdfs erasurecode -getPolicy /tmp/tpcds-generate/test\nErasureCodingPolicy=[Name=RS-DEFAULT-3-2-64k, Schema=[ECSchema=[Codec=rs-default, numDataUnits=3, numParityUnits=2]], CellSize=65536 ]\n{code}\n\nThe following is the steps to reproduce:\n1) hdfs dfs -cp /tmp/tpcds-generate/25/store_sales/* /tmp/tpcds-generate/test\n2) datanode1: (in the middle of the copy) sudo pkill -9 -f datanode\n3) start a process of datanode1 two minutes later\n4) carry out hdfs fsck and confirm that Under-Replicated Blocks occurred\n5) wait until Under-Replicated Blocks becomes 0\n6) (namenode1) /etc/init.d/hadoop-hdfs-namenode restart\n7) (namenode2) /etc/init.d/hadoop-hdfs-namenode restart","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"The state of the EC file is erroneously recognized when you restart the NameNode.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ademu","name":"ademu","key":"ademu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eisuke Umeda","active":true,"timeZone":"Asia/Tokyo"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ademu","name":"ademu","key":"ademu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eisuke Umeda","active":true,"timeZone":"Asia/Tokyo"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"2 NameNodes, 5 DataNodes, Erasured code policy is set as \"RS-DEFAULT-3-2-64k\"","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13001170/comment/15502524","id":"15502524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chenzhiyin","name":"chenzhiyin","key":"chenzhiyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Zhiyin","active":true,"timeZone":"Etc/UTC"},"body":"I have tied several times, but cannot reproduce the error in our cluster. The following is my step to reproduce:\n\n1. Decommission four data nodes in my cluster which has 9 data nodes and 1 name node in total.\n2. Generate 9 files in the path /benchmarks and the size of each file is 15GB.\n3. Set erasure code policy \"RS-DEFAULT-3-2-64k\" on the path /ECTest.\n4. Copy files to the path /ECTest by the command: bin/hdfs dfs -cp /benchmarks/* /ECTest\n5. Kill the data node process in data node 1: sudo pkill -9 -f datanode\n6. Carry out hdfs fsck, however, the files in the path /ECTest is healthy.\n\nI have no idea about the reason why I can not reproduce the error. Could you help me?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chenzhiyin","name":"chenzhiyin","key":"chenzhiyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Zhiyin","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-19T06:58:59.401+0000","updated":"2016-09-19T06:58:59.401+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13001170/comment/15591310","id":"15591310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ademu","name":"ademu","key":"ademu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eisuke Umeda","active":true,"timeZone":"Asia/Tokyo"},"body":"I'm sorry I'm so late.\nIt was possible to reproduce the bug by a new procedure.\n\nThe following is the steps to reproduce:\n\n{code:title=hdfs-site.xml}\n<property>\n  <name>dfs.datanode.data.dir</name>\n  <value>file:///data1/hdfs/data,file:///data2/hdfs/data,file:///data3/hdfs/data</value>\n</property>\n{code}\n\n1) datanode1: sudo rm -rf /data1/hdfs/data/* /data2/hdfs/data/* /data3/hdfs/data/*\n2) datanode1: sudo /etc/init.d/hadoop-hdfs-datanode restart\n3) datanode2: sudo rm -rf /data1/hdfs/data/* /data2/hdfs/data/* /data3/hdfs/data/*\n4) datanode2: sudo /etc/init.d/hadoop-hdfs-datanode restart\n5) namenode1: sudo -u hdfs hdfs dfsadmin -triggerBlockReport datanode1:9867\n6) namenode1: sudo -u hdfs hdfs dfsadmin -triggerBlockReport datanode2:9867\n7) namenode1: /etc/init.d/hadoop-hdfs-namenode restart\n8) namenode2: /etc/init.d/hadoop-hdfs-namenode restart\n9) Carry out hdfs fsck and confirm that Under-Replicated Blocks occurred.\n10) Wait for about 24 hours.\n11) namenode1: /etc/init.d/hadoop-hdfs-namenode restart\n12) namenode2: /etc/init.d/hadoop-hdfs-namenode restart","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ademu","name":"ademu","key":"ademu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eisuke Umeda","active":true,"timeZone":"Asia/Tokyo"},"created":"2016-10-20T09:19:42.279+0000","updated":"2016-10-20T09:19:42.279+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13001170/comment/15591320","id":"15591320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Sammi","name":"Sammi","key":"sammi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sammi Chen","active":true,"timeZone":"Etc/UTC"},"body":"Hi Eisuke Umeda, thanks for provide more information! Have you ever tried if only one namenode is involved, will this issue still be reproduceable? Is the second namenode involvement a must have condition to reproduce the issue? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Sammi","name":"Sammi","key":"sammi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sammi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2016-10-20T09:25:54.528+0000","updated":"2016-10-20T09:25:54.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13001170/comment/15624764","id":"15624764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ademu","name":"ademu","key":"ademu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eisuke Umeda","active":true,"timeZone":"Asia/Tokyo"},"body":"Hi SammiChen, I conducted a re-test in a single NameNode. It was possible to reproduce a problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ademu","name":"ademu","key":"ademu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eisuke Umeda","active":true,"timeZone":"Asia/Tokyo"},"created":"2016-11-01T08:35:33.403+0000","updated":"2016-11-01T08:35:33.403+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13001170/comment/15624793","id":"15624793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Sammi","name":"Sammi","key":"sammi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sammi Chen","active":true,"timeZone":"Etc/UTC"},"body":"Hi [~ademu], thanks for providing this information. Will try to reproduce the problem and see what can do. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Sammi","name":"Sammi","key":"sammi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sammi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2016-11-01T08:40:07.022+0000","updated":"2016-11-01T08:40:07.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13001170/comment/15682397","id":"15682397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tasanuma0829","name":"tasanuma0829","key":"tasanuma0829","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Takanobu Asanuma","active":true,"timeZone":"Asia/Tokyo"},"body":"Thanks for reporting this issue, [~ademu].\n\nI think this bug (and HDFS-10775) might have already been solved by HDFS-10858. Before fixing the bug, when datanodes sent full block reports which contained ec blocks and replicated blocks, namenode sometimes handled it wrongly. Eventually, it stopped the recovery process.\n\nPlease try to do the test with the latest trunk branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tasanuma0829","name":"tasanuma0829","key":"tasanuma0829","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Takanobu Asanuma","active":true,"timeZone":"Asia/Tokyo"},"created":"2016-11-21T03:38:41.650+0000","updated":"2016-11-21T03:38:41.650+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-10815/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i32zef:"}}