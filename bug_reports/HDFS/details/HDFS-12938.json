{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13125652","self":"https://issues.apache.org/jira/rest/api/2/issue/13125652","key":"HDFS-12938","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341434","id":"12341434","description":"3.1.0 release","name":"3.1.0","archived":false,"released":true,"releaseDate":"2018-04-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342129","id":"12342129","name":"3.0.1","archived":false,"released":true,"releaseDate":"2018-03-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-12-20T19:15:07.056+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Dec 21 18:50:06 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_259722695_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_9690426","customfield_12312321":null,"resolutiondate":"2017-12-21T18:33:26.510+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12938/watchers","watchCount":6,"isWatching":false},"created":"2017-12-18T15:43:13.453+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341434","id":"12341434","description":"3.1.0 release","name":"3.1.0","archived":false,"released":true,"releaseDate":"2018-04-06"}],"issuelinks":[{"id":"12522829","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12522829","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"13126499","key":"HDFS-12956","self":"https://issues.apache.org/jira/rest/api/2/issue/13126499","fields":{"summary":"TestErasureCodingCLI failing because of mismatch in expected output.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12522779","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12522779","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"13118741","key":"HDFS-12819","self":"https://issues.apache.org/jira/rest/api/2/issue/13118741","fields":{"summary":"Setting/Unsetting EC policy shows warning if the directory is not empty","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-12-21T18:50:06.765+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327961","id":"12327961","name":"erasure-coding"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12329603","id":"12329603","name":"hdfs"}],"timeoriginalestimate":null,"description":"{{TestErasureCodingCLI#testAll}} is failing consistently.\r\nIt failed in this precommit: https://builds.apache.org/job/PreCommit-HDFS-Build/22435/testReport/org.apache.hadoop.cli/TestErasureCodingCLI/testAll/\r\nI ran locally on my laptop and it failed too.\r\nIt failed with this stack trace:\r\n{noformat}\r\njava.lang.AssertionError: One of the tests failed. See the Detailed results to identify the command that failed\r\n\tat org.junit.Assert.fail(Assert.java:88)\r\n\tat org.junit.Assert.assertTrue(Assert.java:41)\r\n\tat org.apache.hadoop.cli.CLITestHelper.displayResults(CLITestHelper.java:264)\r\n\tat org.apache.hadoop.cli.CLITestHelper.tearDown(CLITestHelper.java:126)\r\n\tat org.apache.hadoop.cli.TestErasureCodingCLI.tearDown(TestErasureCodingCLI.java:77)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)\r\n{noformat}\r\n\r\nBelow is the detailed report from {{org.apache.hadoop.cli.TestErasureCodingCLI-output.txt}}.\r\n{noformat}\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(156)) - -------------------------------------------\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(157)) -                     Test ID: [15]\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(158)) -            Test Description: [setPolicy : set policy on non-empty directory]\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(159)) - \r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -mkdir /ecdir]\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -touchz /ecdir/file1]\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -setPolicy -policy RS-6-3-1024k -path /ecdir]\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(167)) - \r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(170)) -            Cleanup Commands: [-fs hdfs://localhost:52345 -rm -R /ecdir]\r\n2017-12-18 09:25:44,821 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(174)) - \r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(178)) -                  Comparator: [SubstringComparator]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(180)) -          Comparision result:   [fail]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(182)) -             Expected output:   [Warning: setting erasure coding policy on an non-empty directory will not automatically convert existing data to RS-6-3-1024]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(184)) -               Actual output:   [Set erasure coding policy RS-6-3-1024k on /ecdir\r\nWarning: setting erasure coding policy on a non-empty directory will not automatically convert existing files to RS-6-3-1024k\r\n]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(187)) - \r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(156)) - -------------------------------------------\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(157)) -                     Test ID: [17]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(158)) -            Test Description: [unsetPolicy : unset policy on non-empty directory]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(159)) - \r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -mkdir /ecdir]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -setPolicy -policy RS-6-3-1024k -path /ecdir]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -touchz /ecdir/file1]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(163)) -               Test Commands: [-fs hdfs://localhost:52345 -unsetPolicy -path /ecdir]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(167)) - \r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(170)) -            Cleanup Commands: [-fs hdfs://localhost:52345 -rm -R /ecdir]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(174)) - \r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(178)) -                  Comparator: [SubstringComparator]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(180)) -          Comparision result:   [fail]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(182)) -             Expected output:   [Warning: unsetting erasure coding policy on an non-empty directory will not automatically convert existing data to replicated data]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(184)) -               Actual output:   [Unset erasure coding policy from /ecdir\r\nWarning: unsetting erasure coding policy on a non-empty directory will not automatically convert existing files to replicated data.\r\n]\r\n2017-12-18 09:25:44,822 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(187)) - \r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(191)) - Summary results:\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(192)) - ----------------------------------\r\n\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(212)) -                Testing mode: test\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(213)) - \r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(214)) -              Overall result: --- FAIL ---\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(222)) -                # Tests pass: 51 (96%)\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(224)) -                # Tests fail: 2 (3%)\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(228)) -          # Validations done: 67 (each test may do multiple validations)\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(231)) - \r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(232)) - Failing tests:\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(233)) - --------------\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(239)) - 15: setPolicy : set policy on non-empty directory\r\n2017-12-18 09:25:44,823 [Thread-0] INFO  cli.CLITestHelper (CLITestHelper.java:displayResults(239)) - 17: unsetPolicy : unset policy on non-empty directory\r\n{noformat}\r\n{{setPolicy}} and {{unsetPolicy}} commands are failing.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341433","id":"12341433","description":"3.0.0 GA release","name":"3.0.0","archived":false,"released":true,"releaseDate":"2017-12-13"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342129","id":"12342129","name":"3.0.1","archived":false,"released":true,"releaseDate":"2018-03-25"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12903087","id":"12903087","filename":"HDFS-12938.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-20T19:10:59.470+0000","size":1399,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12903087/HDFS-12938.001.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"TestErasureCodigCLI testAll failing consistently.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shahrs87","name":"shahrs87","key":"shahrs87","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rushabh S Shah","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shahrs87","name":"shahrs87","key":"shahrs87","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rushabh S Shah","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16298944","id":"16298944","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"Seems there is difference in warning message coming from  {{ECAdmin}} and one we are expecting in {{testErasureCodingConf.xml}}. Uploading patch for review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-20T19:15:07.056+0000","updated":"2017-12-20T19:15:07.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16299028","id":"16299028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Seems HDFS-12819's precommit didn't run this test...\r\n\r\nThanks Ajay for the quick fix. There's another change s/an non-empty/a non-empty/. +1 pending this and precommit.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-20T20:22:54.139+0000","updated":"2017-12-20T20:22:54.139+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16300205","id":"16300205","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shahrs87","name":"shahrs87","key":"shahrs87","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rushabh S Shah","active":true,"timeZone":"Etc/UTC"},"body":"Surprised to know that the test code is so fragile.\r\nWe are comparing the whole string including \"a or an\".\r\nHopefully we can come up with better test cases in future.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shahrs87","name":"shahrs87","key":"shahrs87","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rushabh S Shah","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-21T15:58:26.162+0000","updated":"2017-12-21T16:33:27.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16300282","id":"16300282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 17m 19s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 17m 13s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 27m  2s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  1s{color} | {color:green} The patch has no ill-formed XML file. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  8s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 55s{color} | {color:green} hadoop-hdfs in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 20s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 57m 37s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:5b98639 |\r\n| JIRA Issue | HDFS-12938 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12903087/HDFS-12938.001.patch |\r\n| Optional Tests |  asflicense  unit  xml  |\r\n| uname | Linux 45eb62e0e46a 3.13.0-135-generic #184-Ubuntu SMP Wed Oct 18 11:55:51 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / c8ff0cc |\r\n| maven | version: Apache Maven 3.3.9 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/22485/testReport/ |\r\n| Max. process+thread count | 313 (vs. ulimit of 5000) |\r\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\r\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/22485/console |\r\n| Powered by | Apache Yetus 0.7.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-21T16:59:49.167+0000","updated":"2017-12-21T16:59:49.167+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16300413","id":"16300413","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eddyxu","name":"eddyxu","key":"eddyxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lei (Eddy) Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the quick response, [~ajayydv]! Committed to trunk and branch-3","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eddyxu","name":"eddyxu","key":"eddyxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lei (Eddy) Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-21T18:33:26.551+0000","updated":"2017-12-21T18:33:26.551+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16300418","id":"16300418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"thanks  [~eddyxu] for commit and [~xiaochen],[~shahrs87] for review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-21T18:41:35.368+0000","updated":"2017-12-21T18:41:35.368+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125652/comment/16300430","id":"16300430","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #13417 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/13417/])\nHDFS-12938. TestErasureCodigCLI testAll failing consistently. (lei: rev b318bed01affa150d70661f263efff9a5c9422f6)\n* (edit) hadoop-hdfs-project/hadoop-hdfs/src/test/resources/testErasureCodingConf.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-21T18:50:06.765+0000","updated":"2017-12-21T18:50:06.765+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12938/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3o0uv:"}}