{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12831833","self":"https://issues.apache.org/jira/rest/api/2/issue/12831833","key":"HDFS-8452","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2015-05-21T15:27:07.275+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat May 30 14:05:28 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_13238758_*|*_5_*:*_2_*:*_14627877_*|*_4_*:*_1_*:*_612335","customfield_12312321":null,"resolutiondate":"2015-05-21T23:13:46.411+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-8452/watchers","watchCount":5,"isWatching":false},"created":"2015-05-21T15:19:07.475+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327584","id":"12327584","description":"2.7.0 release","name":"2.7.0","archived":false,"released":true,"releaseDate":"2015-04-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-05-30T14:05:28.920+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"*Case 1 (CLI):*\n    a. In HDFS Create a new Directory \n          {code}./hdfs dfs -mkdir /new  , A New directory will be created{code}\n   b. Now Execute the same Command again \n{code}       mkdir: `/new': File exists  , Error message will be shown  {code}\n\n*Case 2 (RestAPI) :*\n    a. In HDFS Create a new Directory\n {code}curl -i -X PUT -L \"http://host1:50070/webhdfs/v1/new1?op=MKDIRS&overwrite=false\"{code}\n      A New Directory will be created \n b. Now Execute the same webhdfs  command again \n    No exception will be thrown back to the client.\n   {code}\nHTTP/1.1 200 OK\nCache-Control: no-cache\nExpires: Thu, 21 May 2015 15:11:57 GMT\nDate: Thu, 21 May 2015 15:11:57 GMT\nPragma: no-cache\nContent-Type: application/json\nTransfer-Encoding: chunked\n\n   {code}\n\n     ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"In WebHDFS, duplicate directory creation is not throwing exception.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":"2015-05-31","customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14554516","id":"14554516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brahmareddy","name":"brahmareddy","key":"brahmareddy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brahmareddy&avatarId=24624","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brahmareddy&avatarId=24624","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brahmareddy&avatarId=24624","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brahmareddy&avatarId=24624"},"displayName":"Brahma Reddy Battula","active":true,"timeZone":"Asia/Kolkata"},"body":" can you please try with {{overwrite=true}}..? like below\n{noformat}\ncurl -i -X PUT -L \"http://host1:50070/webhdfs/v1/new1?op=MKDIRS&overwrite=true\" {noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brahmareddy","name":"brahmareddy","key":"brahmareddy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brahmareddy&avatarId=24624","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brahmareddy&avatarId=24624","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brahmareddy&avatarId=24624","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brahmareddy&avatarId=24624"},"displayName":"Brahma Reddy Battula","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-21T15:27:07.275+0000","updated":"2015-05-21T15:27:07.275+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14554528","id":"14554528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"body":"Hi Brahma ,Thanks for your reply , \neven with overwrite=true,the same will be returned \n\n\nHTTP/1.1 200 OK\nCache-Control: no-cache\nExpires: Thu, 21 May 2015 15:31:14 GMT\nDate: Thu, 21 May 2015 15:31:14 GMT\nPragma: no-cache\nContent-Type: application/json\nTransfer-Encoding: chunked","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-21T15:35:02.458+0000","updated":"2015-05-21T15:35:02.458+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14554529","id":"14554529","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"body":"Hi Brahma ,Thanks for your reply , \neven with overwrite=true,the same will be returned \n\n\nHTTP/1.1 200 OK\nCache-Control: no-cache\nExpires: Thu, 21 May 2015 15:31:14 GMT\nDate: Thu, 21 May 2015 15:31:14 GMT\nPragma: no-cache\nContent-Type: application/json\nTransfer-Encoding: chunked","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-21T15:35:05.041+0000","updated":"2015-05-21T15:35:05.041+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14554862","id":"14554862","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"The behavior is expected. in HDFS {{mkdirs()}} is an idempotent operation, meaning executing multiple {{mkdirs()}} for the same directory will succeed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-21T18:59:46.215+0000","updated":"2015-05-21T18:59:46.215+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14555221","id":"14555221","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raviprak","name":"raviprak","key":"raviprak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raviprak&avatarId=10113","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raviprak&avatarId=10113","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raviprak&avatarId=10113","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raviprak&avatarId=10113"},"displayName":"Ravi Prakash","active":true,"timeZone":"America/Los_Angeles"},"body":"Are you sure that's true [~wheat9]?\nhttps://hadoop.apache.org/docs/current2/hadoop-project-dist/hadoop-common/filesystem/filesystem.html \n{noformat}  if exists(FS, p) and not isDir(FS, p) :\n     raise [ParentNotDirectoryException, FileAlreadyExistsException, IOException]{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raviprak","name":"raviprak","key":"raviprak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raviprak&avatarId=10113","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raviprak&avatarId=10113","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raviprak&avatarId=10113","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raviprak&avatarId=10113"},"displayName":"Ravi Prakash","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-21T23:03:34.088+0000","updated":"2015-05-21T23:03:34.088+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14555242","id":"14555242","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raviprak","name":"raviprak","key":"raviprak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raviprak&avatarId=10113","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raviprak&avatarId=10113","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raviprak&avatarId=10113","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raviprak&avatarId=10113"},"displayName":"Ravi Prakash","active":true,"timeZone":"America/Los_Angeles"},"body":"Actually you are right! The exception should be raised only if one of the paths is a file (and not a directory)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raviprak","name":"raviprak","key":"raviprak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raviprak&avatarId=10113","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raviprak&avatarId=10113","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raviprak&avatarId=10113","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raviprak&avatarId=10113"},"displayName":"Ravi Prakash","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-21T23:13:34.343+0000","updated":"2015-05-21T23:13:34.343+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14555253","id":"14555253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"{{mkdirs()}} in HDFS is idempotent. Looks like we have a bug in the documentation. Please feel free to file a separate jira to address that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-21T23:19:45.213+0000","updated":"2015-05-21T23:19:45.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14557148","id":"14557148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"body":"        I have some queries regarding the same ., Iam confused with the” idempotent operation” as both are client side request to the server.,\n\na.\tCLI :\n1.\tIf this is an Idempotent Operation when same file name is given it is returning 1 ,ideally it should return 0 . \n2.\tCheck the documentation : http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/FileSystemShell.html#mkdir\n  Exit Code:Returns 0 on success and -1 on error.\n\nQuery : a. Ideally -1 should return but in CLI 1 will get return for error message  \n                b. if it is Idempotent function why error is there, I feel it should be consistent .\nb.\tRest API : \n1.\tYour comments  “ It should not overwrite ,should throw exception when any file is there inside folder”\nhttps://hadoop.apache.org/docs/current2/hadoop-project-dist/hadoop-common/filesystem/filesystem.html\n  if exists(FS, p) and not isDir(FS, p) :\n     raise [ParentNotDirectoryException, FileAlreadyExistsException, IOException]\n\n2.\tI tried this scenario also ,but still the same 200 will be returned , no exception will be thrown, so the condition mentioned about for file is not working .Its overwriting but files still exists inside that folder.\n\n3.\tI didn’t get which document is not proper and where it needs to be changed ,the comment by Haohui Mai \n\nPlease clarify me the above.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-23T05:40:13.550+0000","updated":"2015-05-23T05:40:13.550+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14558315","id":"14558315","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"body":"please clarify on the above comments. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-25T15:03:35.761+0000","updated":"2015-05-25T15:03:35.761+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14558638","id":"14558638","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\n1.\tIf this is an Idempotent Operation when same file name is given it is returning 1 ,ideally it should return 0 . \n2.\tCheck the documentation : http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/FileSystemShell.html#mkdir\nExit Code:Returns 0 on success and -1 on error.\n{quote}\n\nPlease do not confuse the {{mkdir()}} utility in the FSShell with the {{mkdirs()}} operation in HDFS. The utility checks whether the file exists to make its behavior closer to the POSIX one. The {{mkdirs()}} operation, however, is designed to be idempotent to simplify the process of handling failures. The {{mkdirs()}} operation in WebHDFS has the same semantic of the one in HDFS.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-26T02:57:13.178+0000","updated":"2015-05-26T02:57:13.178+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14558674","id":"14558674","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"body":"Ok , Got you Haohui Mai ,Thanks for your clarification.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagadesh.kiran","name":"jagadesh.kiran","key":"jagadesh.kiran","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Jagadesh Kiran N","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-26T04:11:29.842+0000","updated":"2015-05-26T04:11:29.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12831833/comment/14565999","id":"14565999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"FWIW {{java.io.File.mkdirs()}} doesn't throw an error if the destination exists and is a file; it returns 0 if there was anything at the path, be it file, directory or some OS-specific thing.\n\n{{RawLocalFS() adds a check for the destination existing as something other than a dir, though there's a small race condition with the check and the dir creation being separate}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-05-30T14:05:28.920+0000","updated":"2015-05-30T14:05:28.920+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-8452/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2f1vz:"}}