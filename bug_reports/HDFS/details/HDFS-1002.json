{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12457498","self":"https://issues.apache.org/jira/rest/api/2/issue/12457498","key":"HDFS-1002","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314046","id":"12314046","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2010-02-25T23:00:34.414+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri May 14 21:35:09 UTC 2010","customfield_12310420":"16585","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_6734482365_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-05-14T21:35:25.868+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-1002/watchers","watchCount":6,"isWatching":false},"created":"2010-02-25T22:54:03.503+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314046","id":"12314046","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"issuelinks":[{"id":"12330516","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12330516","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12437620","key":"HDFS-686","self":"https://issues.apache.org/jira/rest/api/2/issue/12437620","fields":{"summary":"NullPointerException is thrown while merging edit log and image","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-24T20:51:56.260+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"An NPE in SNN, the core of the message looks like yay so:\n\n2010-02-25 11:54:05,834 ERROR org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: java.lang.NullPointerException\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.addChild(FSDirectory.java:1152)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.addChild(FSDirectory.java:1164)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.addNode(FSDirectory.java:1067)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.unprotectedAddFile(FSDirectory.java:213)\n        at org.apache.hadoop.hdfs.server.namenode.FSEditLog.loadEditRecords(FSEditLog.java:511)\n        at org.apache.hadoop.hdfs.server.namenode.FSEditLog.loadFSEdits(FSEditLog.java:401)\n        at org.apache.hadoop.hdfs.server.namenode.FSEditLog.loadFSEdits(FSEditLog.java:368)\n        at org.apache.hadoop.hdfs.server.namenode.FSImage.loadFSEdits(FSImage.java:1172)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode$CheckpointStorage.doMerge(SecondaryNameNode.java:594)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode$CheckpointStorage.access$000(SecondaryNameNode.java:476)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode.doMerge(SecondaryNameNode.java:353)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode.doCheckpoint(SecondaryNameNode.java:317)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode.run(SecondaryNameNode.java:219)\n        at java.lang.Thread.run(Thread.java:619)\n\nThis happens even if I restart SNN over and over again.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12440485","id":"12440485","filename":"addChildNPE.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=carlos.valiente","name":"carlos.valiente","key":"carlos.valiente","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=carlos.valiente&avatarId=20337","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=carlos.valiente&avatarId=20337","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=carlos.valiente&avatarId=20337","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=carlos.valiente&avatarId=20337"},"displayName":"Carlos Valiente","active":true,"timeZone":"Etc/UTC"},"created":"2010-04-01T09:43:25.889+0000","size":3600,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12440485/addChildNPE.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12437064","id":"12437064","filename":"snn_crash.tar.gz","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-02-25T22:55:21.470+0000","size":6956830,"mimeType":"application/x-gzip","content":"https://issues.apache.org/jira/secure/attachment/12437064/snn_crash.tar.gz"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12437063","id":"12437063","filename":"snn_log.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-02-25T22:55:21.405+0000","size":9916,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12437063/snn_log.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"113262","customfield_12312823":null,"summary":"Secondary Name Node crash, NPE in edit log replay","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12838585","id":"12838585","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Is this not a dup of HDFS-686? Can you verify that the 21 build you used that generated this edit log has that patch in it?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2010-02-25T23:00:34.414+0000","updated":"2010-02-25T23:00:34.414+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12838589","id":"12838589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"body":"I forgot, this is a hadoop 0.21 build, based on SVN revision 901028, its from http://github.com/apache/hadoop-hdfs/commit/de5d50187a34d35e5e1a9ea8bfa1a2fedb9a7df4 which is actually https://svn.apache.org/repos/asf/hadoop/hdfs/branches/branch-0.21@901028 \n\nInspecting the code on my systems also verifies that yes we have this commit:\nhttp://svn.apache.org/viewvc/hadoop/hdfs/branches/branch-0.21/src/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java?p2=/hadoop/hdfs/branches/branch-0.21/src/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java&p1=/hadoop/hdfs/branches/branch-0.21/src/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java&r1=824955&r2=824954&view=diff&pathrev=824955","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-02-25T23:05:43.778+0000","updated":"2010-02-25T23:05:43.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12838622","id":"12838622","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"NameNode is the culprit of the problem. Ryan, could you please figure out NPE is thrown on which operation in the edit log? Otherwise I need a copy of your fs image and  edit log to figure out the problem. In addition, a copy of NameNode log & audit log are very helpful too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-25T23:55:09.177+0000","updated":"2010-02-25T23:55:09.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12838626","id":"12838626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"body":"The edits log is 17 meg large, it is included in the attachments here.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-02-26T00:03:15.903+0000","updated":"2010-02-26T00:03:15.903+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12838638","id":"12838638","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"Thanks! I did not notice that you had uploaded the edit log and image as well. Just to make sure that the edit log was generated using 0.21 build, right?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-26T00:42:20.010+0000","updated":"2010-02-26T00:42:20.010+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12838640","id":"12838640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"body":"my JVM has this in it's lsof:\njava    10109 hadoop  mem    REG                8,3    832194     205563 /home/hadoop/hadoop-0.21/hdfs/hadoop-hdfs-0.21.0-SNAPSHOT.jar\n\nand that build is most definitely from 0.21 branch with the aforementioned revision.  Unless the gremlins have come out again and changed the bits on me...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-02-26T00:45:29.303+0000","updated":"2010-02-26T00:45:29.303+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12844903","id":"12844903","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=carlos.valiente","name":"carlos.valiente","key":"carlos.valiente","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=carlos.valiente&avatarId=20337","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=carlos.valiente&avatarId=20337","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=carlos.valiente&avatarId=20337","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=carlos.valiente&avatarId=20337"},"displayName":"Carlos Valiente","active":true,"timeZone":"Etc/UTC"},"body":"Any news on this issue? I'm seeing it as well on my cluster:\n\n{noformat}\n2010-03-13 15:19:48,830 INFO org.apache.hadoop.hdfs.server.datanode.DataBlockScanner: Verification succeeded for blk_-6710987566789746717_10247649\n2010-03-13 15:19:50,443 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Roll Edit Log from XXX.XXX.XXX.XXX\n2010-03-13 15:19:50,611 INFO org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: Downloaded file fsimage size 16959426 bytes.\n2010-03-13 15:19:50,614 INFO org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: Downloaded file edits size 19474 bytes.\n2010-03-13 15:19:50,626 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: defaultReplication = 3\n2010-03-13 15:19:50,626 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: maxReplication = 512\n2010-03-13 15:19:50,626 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: minReplication = 1\n2010-03-13 15:19:50,626 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: maxReplicationStreams = 2\n2010-03-13 15:19:50,626 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: shouldCheckForEnoughRacks = true\n2010-03-13 15:19:50,662 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: fsOwner=hadoop,hadoop,dialout,video\n2010-03-13 15:19:50,662 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: supergroup=supergroup\n2010-03-13 15:19:50,662 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: isPermissionEnabled=true\n2010-03-13 15:19:50,665 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: isAccessTokenEnabled=false accessKeyUpdateInterval=0 min(s), accessTokenLifetime=0 min(s)\n2010-03-13 15:19:50,694 INFO org.apache.hadoop.hdfs.server.common.Storage: Number of files = 105773\n2010-03-13 15:19:53,120 INFO org.apache.hadoop.hdfs.server.common.Storage: Number of files under construction = 5\n2010-03-13 15:19:53,125 ERROR org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: Throwable Exception in doCheckpoint: \n2010-03-13 15:19:53,125 ERROR org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: java.lang.NullPointerException\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.addChild(FSDirectory.java:1152)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.addChild(FSDirectory.java:1164)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.addNode(FSDirectory.java:1067)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.unprotectedAddFile(FSDirectory.java:213)\n        at org.apache.hadoop.hdfs.server.namenode.FSEditLog.loadEditRecords(FSEditLog.java:511)\n        at org.apache.hadoop.hdfs.server.namenode.FSEditLog.loadFSEdits(FSEditLog.java:401)\n        at org.apache.hadoop.hdfs.server.namenode.FSEditLog.loadFSEdits(FSEditLog.java:368)\n        at org.apache.hadoop.hdfs.server.namenode.FSImage.loadFSEdits(FSImage.java:1172)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode$CheckpointStorage.doMerge(SecondaryNameNode.java:594)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode$CheckpointStorage.access$000(SecondaryNameNode.java:476)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode.doMerge(SecondaryNameNode.java:353)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode.doCheckpoint(SecondaryNameNode.java:317)\n        at org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode.run(SecondaryNameNode.java:219)\n        at java.lang.Thread.run(Thread.java:619)\n{noformat}\n\nI'm running 0.21.0-SNAPSHOT, revision 916530. I'm happy to provide the fsimage, edits and edits.new files, it it helps.\n\nC","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=carlos.valiente","name":"carlos.valiente","key":"carlos.valiente","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=carlos.valiente&avatarId=20337","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=carlos.valiente&avatarId=20337","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=carlos.valiente&avatarId=20337","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=carlos.valiente&avatarId=20337"},"displayName":"Carlos Valiente","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-13T15:30:00.305+0000","updated":"2010-03-13T15:30:00.305+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12846502","id":"12846502","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"For Ryan's edit log, NPE is thrown when adding the file /hbase/stumbles_by_userid/compaction.dir/378232123/9207375265821366914 to HDFS. NPE is thrown because for some reason the parent directory /hbase/stumbles_by_userid/compaction.dir/378232123 has not been created yet.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-17T18:00:33.395+0000","updated":"2010-03-17T18:00:33.395+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12846512","id":"12846512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"This happens either the parent directory is missed from fsimage or the edit log entry that create the parent directory is missed in the edit log. Before I do more investigation, could you please let me know that in your code, when you create the file /hbase/stumbles_by_userid/compaction.dir/378232123/9207375265821366914, do you EXPLICITLY create its parent directory first or use file create to IMPLICITLY create its parent directory?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-17T18:27:37.928+0000","updated":"2010-03-17T18:27:37.928+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12846525","id":"12846525","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"body":"we create the directory first, here is the relevant code:\n\n    if (!fs.exists(dir)) {\n      fs.mkdirs(dir);\n    }\n    Path path = getUniqueFile(fs, dir);\n    return new HFile.Writer(fs, path, blocksize,\n      algorithm == null? HFile.DEFAULT_COMPRESSION_ALGORITHM: algorithm,\n      c == null? KeyValue.KEY_COMPARATOR: c);\n\n(StoreFile.java:398 in HBase)\n\n\nIn this case \"getUniqueFile\" generates that \"9207375265821366914\" filename.  The constructor of HFile.Writer() will create the file using \"fs.create(path)\".\n\nAlso 'dir' == \"/hbase/stumbles_by_userid/compaction.dir/378232123\" in this context. \n\nSo yes we create the directory before creating the file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ryanobjc","name":"ryanobjc","key":"ryanobjc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ryan rawson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-03-17T18:50:38.787+0000","updated":"2010-03-17T18:50:38.787+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12847498","id":"12847498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"I checked the attached fsimge. It does not have an entry for /hbase/stumbles_by_userid/compaction.dir/378232123. The edit log does not have a transaction for the directory either.  I am guessing that there is a bug with the secondary namenode, which in 0.21 is renamed as BackupNamenode and its behavior has changed quite a lot.\n\nRyan, could you please try loading the fsimage & edits log at the NameNode side to see if you see the same exception?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-19T18:24:51.495+0000","updated":"2010-03-19T18:24:51.495+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12850018","id":"12850018","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"Is it possible that this bug is caused by HDFS-955?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-26T06:20:46.855+0000","updated":"2010-03-26T06:20:46.855+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12850020","id":"12850020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"Mark this as a blocker because losing edits can cause catastrophic problem to HDFS.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-26T06:22:52.525+0000","updated":"2010-03-26T06:22:52.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12852307","id":"12852307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=carlos.valiente","name":"carlos.valiente","key":"carlos.valiente","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=carlos.valiente&avatarId=20337","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=carlos.valiente&avatarId=20337","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=carlos.valiente&avatarId=20337","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=carlos.valiente&avatarId=20337"},"displayName":"Carlos Valiente","active":true,"timeZone":"Etc/UTC"},"body":"Similarly to openNPE.patch in HDFS-686, [^addChildNPE.patch] avoids the 2NN crash and logs the null INode object. The diff is against http://svn.apache.org/repos/asf/hadoop/hdfs/branches/branch-0.21\n\nIs it safe to do that?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=carlos.valiente","name":"carlos.valiente","key":"carlos.valiente","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=carlos.valiente&avatarId=20337","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=carlos.valiente&avatarId=20337","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=carlos.valiente&avatarId=20337","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=carlos.valiente&avatarId=20337"},"displayName":"Carlos Valiente","active":true,"timeZone":"Etc/UTC"},"created":"2010-04-01T09:43:25.933+0000","updated":"2010-04-01T09:43:25.933+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12852535","id":"12852535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"I took a look at the image & edits that Carlos provided at HDFS-686. It clearly indicated some edit entries were missing. The missing parent directory /fields/0001/20100325_1200/c1b1301_wrep_o_12_pp_fc_tp is not in the image and no other entry in edits contains this directory.\n\nIn this case, although addChildNPE.patch avoids the crash, it does not help get the missing directory back.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2010-04-01T20:31:20.136+0000","updated":"2010-04-01T20:31:20.136+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12853587","id":"12853587","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This is most probably related to HDFS-909.\nI see Todd is working on it. We should get it going.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-05T22:56:59.157+0000","updated":"2010-04-05T22:56:59.157+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12853589","id":"12853589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"bq. I see Todd is working on it. We should get it going.\n\nI think the top patch on that JIRA is ready for review, though it may have fallen out of date. I'll swing back around on it today or tomorrow to double check that it still applies, etc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2010-04-05T23:06:29.367+0000","updated":"2010-04-05T23:06:29.367+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12867681","id":"12867681","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"Todd, the patch no longer applies. Can you regenerate please?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2010-05-14T21:22:59.697+0000","updated":"2010-05-14T21:22:59.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12457498/comment/12867687","id":"12867687","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Hey Tom, I think Konstantin was referring to the patch on HDFS-909 which got committed. I think this jira can probably be resolved as invalid (ie, it is a result of other bugs that cause corruption, not a bug on its own)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2010-05-14T21:35:09.291+0000","updated":"2010-05-14T21:35:09.291+0000"}],"maxResults":19,"total":19,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-1002/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0jqqn:"}}