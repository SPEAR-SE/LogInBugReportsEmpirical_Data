{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12668606","self":"https://issues.apache.org/jira/rest/api/2/issue/12668606","key":"HDFS-5206","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Sep 16 19:28:55 UTC 2013","customfield_12310420":"348540","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-5206/watchers","watchCount":2,"isWatching":false},"created":"2013-09-14T01:52:44.163+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-05-12T18:17:47.254+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"There are some constants in DFSConfigKeys.java which are no longer referred from any code.\nUnreferred constants are below.\n\nDFS_STREAM_BUFFER_SIZE_KEY\nDFS_STREAM_BUFFER_SIZE_DEFAULT\nDFS_NAMENODE_SAFEMODE_EXTENSION_DEFAULT\nDFS_NAMENODE_REPLICATION_CONSIDERLOAD_DEFAULT\nDFS_SERVER_HTTPS_KEYSTORE_RESOURCE_DEFAULT\nDFS_NAMENODE_HOSTS_KEY\nDFS_NAMENODE_HOSTS_EXCLUDE_KEY\nDFS_HTTPS_ENABLE_DEFAULT\nDFS_DATANODE_HTTPS_DEFAULT_PORT\nDFS_DF_INTERVAL_DEFAULT\nDFS_WEB_UGI_KEY\n\nI think we should cleanup DFSConfigKeys.java.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[],"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"348837","customfield_12312823":null,"summary":"Some unreferred constants in DFSConfigKeys should be cleanuped","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668606/comment/13768567","id":"13768567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"body":"* DFS_STREAM_BUFFER_SIZE_KEY / DFS_STREAM_BUFFER_SIZE_DEFAULT\n These are never used constants pair.\n\n* DFS_NAMENODE_HOSTS_KEY and DFS_NAMENODE_HOSTS_EXCLUDE_KEY\n  These are never used constants pair. In HDFS-3209, Eli Collins mentioned.\n\n* DFS_NAMENODE_SAFEMODE_EXTENSION_DEFAULT / DFS_NAMENODE_REPLICATION_CONSIDERLOAD_DEFAULT / DFS_NAMENODE_REPLICATION_CONSIDERLOAD_DEFAULT / DFS_SERVER_HTTPS_KEYSTORE_RESOURCE_DEFAULT\n  Default values are hard corded although we should use these constants.\n\n* DFS_DATANODE_HTTPS_DEFAULT_PORT \n  This constant is used in DFSConfigKeys.DFS_DATANODE_ADDRESS_DEFAULT indirectly so we should keep it in the code.\n\n* DFS_DF_INTERVAL_DEFAULT\n  This constant is never used and the property (dfs.df.interval) for which this constant defined as default is used in test codes (TestDataNodeVolumeFailureReporting.java and TestDataNodeVolumeFailureToleration.java) and dfs.df.interval is marked as DEPRECATED in o.a.h.c.Configuration.java\n\n* DFS_WEB_UGI_KEY\n  This constant is also defined in StaticUserWebFilter.java and the property defined by this constant is marked as DEPRECATED.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"created":"2013-09-16T18:15:39.238+0000","updated":"2013-09-16T18:15:39.238+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668606/comment/13768660","id":"13768660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"body":"I suggest as follows.\n\n* DFS_STREAM_BUFFER_SIZE_KEY / DFS_STREAM_BUFFER_SIZE_DEFAULT / DFS_NAMENODE_HOSTS_KEY / DFS_NAMENODE_HOSTS_EXCLUDE_KEY\n  We should remove these constants from DFSConfigKeys.java\n\n* DFS_NAMENODE_REPLICATION_CONSIDERLOAD_DEFAULT / DFS_HTTPS_ENABLE_DEFAULT / DFS_SERVER_HTTPS_KEYSTORE_RESOURCE_DEFAULT\n  We should replace hard corded default value with these constants except for test codes. In some test codes, there are hard corded default values and each default value is different from the others. \n\n* DFS_NAMENODE_SAFEMODE_EXTENSION_DEFAULT\n  We should replace hard corded default value with these constants except for test codes and BackupNode.java. In some test codes, there are hard corded default values and each default value is different from the others. BackupNode.java refers dfs.namenode.safemode.extension but default value for safemode extension is original value (Integer.MAX_VALUE) so I think we should define a property \"dfs.backupnode.safemode.extension\" and constants \"DFSConfigKeys.DFS_BACKUPNODE_SAFEMODE_EXTENSION_KEY\" and \"DFSConfigKeys.DFS_BACKUPNODE_SAFEMODE_EXTENSION_DEFAULT\".\n\n* DFS_DATANODE_HTTPS_DEFAULT_PORT\n  We should keep this constant in DFSConfigKeys.java\n\n* DFS_DF_INTERVAL_DEFAULT\n  We should remove this constant from DFSConfigKeys.java and replace DFSConfigKeys.DFS_DF_INTERVAL in TestDataNodeVolumeFailureReporting.java and TestDataNodeVolumeFailureToleration.java with DFSConfigKeys.FS_DF_INTERFAL_KEY and dfs.df.interval should be deprecated by fs.dfs.interval.\n\n* DFS_WEB_UGI_KEY\n  We should remove this constant from DFSConfigKeys.java and replace this constant with DFSConfigKeys.HADOOP_HTTP_STATIC_USER and dfs.web.ugi should be deprecated by hadoop.http.staticuser.user.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarutak","name":"sarutak","key":"sarutak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sarutak&avatarId=20842","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sarutak&avatarId=20842","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sarutak&avatarId=20842","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sarutak&avatarId=20842"},"displayName":"Kousuke Saruta","active":true,"timeZone":"Asia/Tokyo"},"created":"2013-09-16T19:28:55.475+0000","updated":"2013-09-16T19:28:55.475+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-5206/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1o3kn:"}}