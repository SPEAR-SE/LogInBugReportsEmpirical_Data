{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12706020","self":"https://issues.apache.org/jira/rest/api/2/issue/12706020","key":"HDFS-6180","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326264","id":"12326264","description":"2.5.0 release","name":"2.5.0","archived":false,"released":true,"releaseDate":"2014-08-11"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-04-01T18:34:57.748+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Apr 24 18:14:18 UTC 2014","customfield_12310420":"384343","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_329471297_*|*_1_*:*_1_*:*_209844462_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-04-07T23:59:08.940+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6180/watchers","watchCount":17,"isWatching":false},"created":"2014-04-01T18:10:33.218+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325255","id":"12325255","description":"2.3.0 release","name":"2.3.0","archived":false,"released":true,"releaseDate":"2014-02-20"}],"issuelinks":[{"id":"12386048","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12386048","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"12607487","key":"HDFS-3934","self":"https://issues.apache.org/jira/rest/api/2/issue/12607487","fields":{"summary":"duplicative dfs_hosts entries handled wrong","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12386969","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12386969","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"outwardIssue":{"id":"12710380","key":"HDFS-6282","self":"https://issues.apache.org/jira/rest/api/2/issue/12710380","fields":{"summary":"re-add testIncludeByRegistrationName","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-08-15T05:41:35.251+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"After bringing up a 578 node cluster with 13 dead nodes, 0 were reported on the new GUI, but showed up properly in the datanodes tab.  Some nodes are also being double reported in the deadnode and inservice section (22 show up dead, 565 show up alive, 9 duplicated nodes). \n\nFrom /jmx (confirmed that it's the same in jconsole):\n{noformat}\n{\n    \"name\" : \"Hadoop:service=NameNode,name=FSNamesystemState\",\n    \"modelerType\" : \"org.apache.hadoop.hdfs.server.namenode.FSNamesystem\",\n    \"CapacityTotal\" : 5477748687372288,\n    \"CapacityUsed\" : 24825720407,\n    \"CapacityRemaining\" : 5477723861651881,\n    \"TotalLoad\" : 565,\n    \"SnapshotStats\" : \"{\\\"SnapshottableDirectories\\\":0,\\\"Snapshots\\\":0}\",\n    \"BlocksTotal\" : 21065,\n    \"MaxObjects\" : 0,\n    \"FilesTotal\" : 25454,\n    \"PendingReplicationBlocks\" : 0,\n    \"UnderReplicatedBlocks\" : 0,\n    \"ScheduledReplicationBlocks\" : 0,\n    \"FSState\" : \"Operational\",\n    \"NumLiveDataNodes\" : 565,\n    \"NumDeadDataNodes\" : 0,\n    \"NumDecomLiveDataNodes\" : 0,\n    \"NumDecomDeadDataNodes\" : 0,\n    \"NumDecommissioningDataNodes\" : 0,\n    \"NumStaleDataNodes\" : 1\n  },\n{noformat}\n\nI'm not going to include deadnode/livenodes because the list is huge, but I've confirmed there are 9 nodes showing up in both deadnodes and livenodes.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326264","id":"12326264","description":"2.5.0 release","name":"2.5.0","archived":false,"released":true,"releaseDate":"2014-08-11"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12638116","id":"12638116","filename":"dn.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T19:08:48.849+0000","size":38864,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12638116/dn.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12638622","id":"12638622","filename":"HDFS-6180.000.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T04:27:48.910+0000","size":36011,"content":"https://issues.apache.org/jira/secure/attachment/12638622/HDFS-6180.000.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12638737","id":"12638737","filename":"HDFS-6180.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T18:20:37.201+0000","size":41161,"content":"https://issues.apache.org/jira/secure/attachment/12638737/HDFS-6180.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12638769","id":"12638769","filename":"HDFS-6180.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T21:25:06.333+0000","size":41175,"content":"https://issues.apache.org/jira/secure/attachment/12638769/HDFS-6180.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12638925","id":"12638925","filename":"HDFS-6180.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-06T20:43:22.606+0000","size":43952,"content":"https://issues.apache.org/jira/secure/attachment/12638925/HDFS-6180.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12638926","id":"12638926","filename":"HDFS-6180.004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-06T20:44:27.557+0000","size":43944,"content":"https://issues.apache.org/jira/secure/attachment/12638926/HDFS-6180.004.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"384611","customfield_12312823":null,"summary":"dead node count / listing is very broken in JMX and old GUI","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13956843","id":"13956843","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"Also, if a live node is shutdown, the counter will go to 1 dead node.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T18:16:36.631+0000","updated":"2014-04-01T18:16:36.631+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13956871","id":"13956871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"Just take a quick look and it seems the issue is inside the datanode manager. Can you post some logs about the 9 duplicated DNs?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T18:34:57.748+0000","updated":"2014-04-01T18:35:19.291+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13956917","id":"13956917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"DN log of a node that is duplicated.  Also note, if I start just the Namenode, it reports 0 dead nodes even though none of the datanodes aren't running.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T19:08:48.853+0000","updated":"2014-04-01T19:08:48.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13956954","id":"13956954","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"Also notice that duplication starts around 200 nodes, everytime it's started, it always reports 22 dead nodes (9 duplicated), but they're different nodes every time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T19:48:13.737+0000","updated":"2014-04-01T19:48:13.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13956966","id":"13956966","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like I lied, it's the same 9 nodes that are getting duplicated everytime.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T20:07:39.151+0000","updated":"2014-04-01T20:07:39.151+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13956969","id":"13956969","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry, I mean the NN logs. It's interesting to see what happened in the {{DataNodeManager}} in NN.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-01T20:11:07.687+0000","updated":"2014-04-01T20:11:07.687+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13957224","id":"13957224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"After looking at it for a while, it seems like a bigger issue than initially thought.  The last digit of the last octet being truncated.\n\nExample:\n|| LIVE NODE || LIVE & DEAD NODES |\n| datanode5464 (xxx.xxx.138.244) | datanode5391 (xxx.xxx.138.24) |\n| datanode5486 (xxx.xxx.138.222) | datanode5392 (xxx.xxx.138.22) |\n| datanode5477 (xxx.xxx.138.233) | datanode5393 (xxx.xxx.138.23) |\n| datanode5601 (xxx.xxx.139.244) | datanode5526 (xxx.xxx.139.24) |\n\nStarting {{datanode5464}} will force {{datanode5391}} to become both live and dead if it's running.  The order in which the pair up doesn't matter, the same effect will happen in the end.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-02T01:17:50.791+0000","updated":"2014-04-02T01:17:50.791+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13958240","id":"13958240","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"[~tthompso], do you think it is related to the following link?\n\nhttps://issues.apache.org/jira/browse/HDFS-3224?focusedCommentId=13472817&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13472817","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-02T22:06:06.760+0000","updated":"2014-04-02T22:06:06.760+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13958255","id":"13958255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"I don't think so, these nodes were added with fresh installs, ip's have never changed and they've never been part of another hdfs instance.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-02T22:21:59.194+0000","updated":"2014-04-02T22:21:59.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13958557","id":"13958557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"[~tthompso], can you turn on the debug log and post them?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T06:30:57.766+0000","updated":"2014-04-03T06:30:57.766+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959086","id":"13959086","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Mohammad, I understand that you might be interested in fixing this.  Thank you!  Haohui actually started working on this earlier but he forgot to assign this to himself.  He is going to post a patch soon.  Assigning to him.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T18:59:50.942+0000","updated":"2014-04-03T18:59:50.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959097","id":"13959097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"The duplicated entry is added by the following code in the {{DatanodeManager}}\n\n{code}\n    if (listDeadNodes) {\n      final EntrySet includedNodes = hostFileManager.getIncludes();\n      final EntrySet excludedNodes = hostFileManager.getExcludes();\n      for (Entry entry : includedNodes) {\n        if ((foundNodes.find(entry) == null) &&\n            (excludedNodes.find(entry) == null)) {\n{code}\n\nNote that {{entry}} does not contain the port as it comes from the include file, but all entries in {{foundNode}} do. If passed in an entry without port, the {{find}} function should be able to match it with the one with port information.\n\nInternally {{find}} is implemented in {{TreeMap}}, which uses {{ip}} or {{ip:port}} as the key. Since in lexically order the entry with port comes after the one without port, it implements the port matching rule by checking whether the next entry has the same id. The problem is that this heuristic is unreliable. It returns buggy results for the below examples:\n\n{noformat}\n172.18.146.3:1019\n172.18.146.30:1019\n{noformat}\n\nCalling {{find(172.18.146.3)}} checks {{172.18.146.30:1019}} instead of {{172.18.146.3:1019}}, resulting the bug.\n\nThe bug can be quite confusing from the end user's prospective and I'd like to move forward as quickly as possible.\n\n[~kamrul], are you working on it? If not I can work on a patch later today.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T19:09:14.849+0000","updated":"2014-04-03T19:09:14.849+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959190","id":"13959190","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes. We ( [~alluri] and I) also found the same code as buggy.\nWe are working on a  solution.\nI have couple of possible options that I will propose soon for comments.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T20:44:05.302+0000","updated":"2014-04-03T20:44:05.302+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959193","id":"13959193","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"This is the right Apache way!\nI'm fine with [~wheat9] to work with this.\nI will stop working on this.\n\nLooking for the patch!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T20:47:15.438+0000","updated":"2014-04-03T20:47:15.438+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959210","id":"13959210","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"On a side note, the JMX mbean for deadNodeCount is also broken, I can open another jira for this issue if desired.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T20:57:13.606+0000","updated":"2014-04-03T20:57:13.606+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959211","id":"13959211","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry, meant {{NumDeadDataNodes}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tthompso","name":"tthompso","key":"tthompso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tthompso&avatarId=21659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tthompso&avatarId=21659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tthompso&avatarId=21659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tthompso&avatarId=21659"},"displayName":"Travis Thompson","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T20:57:48.937+0000","updated":"2014-04-03T20:57:48.937+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959404","id":"13959404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"Raising the priority because it directly causes confusions to the operators.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-03T23:07:59.473+0000","updated":"2014-04-03T23:07:59.473+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959627","id":"13959627","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"The v0 patch makes the following changes:\n\n# It canonicalizes all entries in the include / exclude lists into ip addresses. It ignores entries that the DNS fails to resolve. This is okay because by default the NN refuses to register the DNs of which it fails to resolve their ips and the hostnames. (see {{dfs.namenode.datanode.registration.ip-hostname-check}} for more details) The patch maintains the old behavior which only performs DNS lookups when loading the lists, so that the DNS overhead is minimized.\n# The patch continues to assume that an entry without ports in the list matches all endpoints (i.e., addr:port) that match the IP of the entry. This defines a partial order between endpoints that have the same IPs. More concretely, if two endpoints A and B have the same IPs, then A <= B iff a.port == b.port or b.port == 0. That way checking the include and the exclude list becomes finding the meet or the join elements in the lattice.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T04:42:36.756+0000","updated":"2014-04-04T04:42:36.756+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959629","id":"13959629","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. On a side note, the JMX mbean for deadNodeCount is also broken, I can open another jira for this issue if desired.\n\n[~tthompso], please go ahead. If this is indeed a problem, we might need to put it into 2.4 as well since it breaks the front page of the UI.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T04:46:31.738+0000","updated":"2014-04-04T04:46:31.738+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13959702","id":"13959702","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12638622/HDFS-6180.000.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.namenode.TestNNThroughputBenchmark\n                  org.apache.hadoop.hdfs.TestDatanodeRegistration\n                  org.apache.hadoop.hdfs.TestDecommission\n                  org.apache.hadoop.hdfs.server.namenode.TestCheckpoint\n                  org.apache.hadoop.hdfs.server.namenode.TestStartup\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/6584//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/6584//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-04T07:05:53.116+0000","updated":"2014-04-04T07:05:53.116+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13960427","id":"13960427","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12638737/HDFS-6180.001.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 4 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.namenode.TestStartup\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/6589//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/6589//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-04T21:12:49.596+0000","updated":"2014-04-04T21:12:49.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13960532","id":"13960532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"The changes turn out to be a lot bigger than I anticipated. It might be risky to put it in at the very last moment. Moving it to a blocker of 2.5.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T22:47:30.019+0000","updated":"2014-04-04T22:47:30.019+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13960831","id":"13960831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12638769/HDFS-6180.002.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 4 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/6591//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/6591//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-05T00:05:35.020+0000","updated":"2014-04-05T00:05:35.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13960850","id":"13960850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"- In getDatanodeListForReport(..), the excludedNodes check should remain inside listDeadNodes.  Add nodes to excluded list means starting decommissioning.\n\n- Using lattice to model the problem is correct but unnecessarily generalizes it.  The problem is only a two-level lattice.  It is simply a wildcard problem.  I suggest renaming the containsMeet and containsJoin methods respectively to isMatched and matches so that a wildcard pattern matches  host.\n\n- parseEntry should pass the file type and use it for the log messages.  The log messages should be WARN instead of INFO.\n\n- Instead of having an entries() method, it is better to have HostSet implementing Iterable since it is already a set.  The code will be shorter.  We also need a size() for the unit tests.\n\n- Should \"unresolvedAddressFromDatanodeID\" be \"resolvedAddressFromDatanodeID\"?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-05T00:30:23.772+0000","updated":"2014-04-05T00:30:23.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13960854","id":"13960854","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"> ... I'm fine with Haohui Mai to work with this. ...\n\n[~kamrul], thanks.  Let us know if you want to work on other issues.  We can help reviewing them.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-05T00:33:28.655+0000","updated":"2014-04-05T00:33:28.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13961524","id":"13961524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"The v4 patch addresses [~szetszwo]'s comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-06T20:45:02.304+0000","updated":"2014-04-06T21:07:22.759+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13961567","id":"13961567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12638926/HDFS-6180.004.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 4 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/6596//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/6596//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-06T23:25:27.570+0000","updated":"2014-04-06T23:25:27.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962258","id":"13962258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 patch looks good.  Thanks, Haohui.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-07T21:08:13.166+0000","updated":"2014-04-07T21:08:13.166+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962412","id":"13962412","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"I've committed the patch to trunk and branch-2. Thanks Nicholas for the review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-07T23:59:08.967+0000","updated":"2014-04-07T23:59:08.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962425","id":"13962425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-trunk-Commit #5466 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/5466/])\nHDFS-6180. Dead node count / listing is very broken in JMX and old GUI. Contributed by Haohui Mai. (wheat9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1585625)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDatanodeRegistration.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDecommission.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-08T00:08:38.981+0000","updated":"2014-04-08T00:08:38.981+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962695","id":"13962695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry, uploaded the wrong patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-08T08:21:08.959+0000","updated":"2014-04-08T08:21:08.959+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962776","id":"13962776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #533 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/533/])\nHDFS-6180. Dead node count / listing is very broken in JMX and old GUI. Contributed by Haohui Mai. (wheat9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1585625)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDatanodeRegistration.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDecommission.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-08T11:08:17.423+0000","updated":"2014-04-08T11:08:17.423+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962966","id":"13962966","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #1751 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1751/])\nHDFS-6180. Dead node count / listing is very broken in JMX and old GUI. Contributed by Haohui Mai. (wheat9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1585625)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDatanodeRegistration.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDecommission.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-08T13:32:31.850+0000","updated":"2014-04-08T13:32:31.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13962977","id":"13962977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #1725 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1725/])\nHDFS-6180. Dead node count / listing is very broken in JMX and old GUI. Contributed by Haohui Mai. (wheat9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1585625)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/HostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDatanodeRegistration.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDecommission.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHostFileManager.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-08T13:36:27.764+0000","updated":"2014-04-08T13:36:27.764+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13967118","id":"13967118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. The changes turn out to be a lot bigger than I anticipated. It might be risky to put it in at the very last moment. Moving it to a blocker of 2.5.0.\n\n\nWhat about for the release 2.4.1? It could be coming soon.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-11T21:26:02.827+0000","updated":"2014-04-11T21:26:02.827+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13973213","id":"13973213","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for fixing this, Haohui.\n\n{code}\n-  @Test(timeout=360000)\n-  public void testIncludeByRegistrationName() throws IOException,\n-      InterruptedException {\n-    Configuration hdfsConf = new Configuration(conf);\n-    final String registrationName = \"--registration-name--\";\n-    final String nonExistentDn = \"127.0.0.40\";\n-    hdfsConf.set(DFSConfigKeys.DFS_DATANODE_HOST_NAME_KEY, registrationName);\n{code}\n\nThis test got removed, but I don't see any corresponding test added of registration names (DFS_DATANODE_HOST_NAME_KEY).  Was this an oversight?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-17T18:03:38.589+0000","updated":"2014-04-17T18:03:38.589+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13973267","id":"13973267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"The reason why I removed this test is that {{--registration-name--}} is not a valid DNS name. Things like GetBlockLocations, WebHDFS, and DataNodeManager assume that host name is a valid DNS name. For example, WebHDFS uses the hostname to generate the URI pointing to the DN, thus the test might be invalid at the first place. What we probably should have done is to make this assumption explicit.\n\nTo test the case where the user puts a DNS name in the include list, the code in {{testIncludeExcludeLists}} adds {{localhost}} (which is usually the only valid DNS name in test environment) into the include lists and verifies that the {{DatanodeManager}} recognizes it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-17T18:46:33.426+0000","updated":"2014-04-17T18:46:33.426+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13973513","id":"13973513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Haohui,\n\nSee the discussion at HDFS-5237 for some background.  Basically, there is this configuration called {{dfs.datanode.hostname}} which specifies a datanode's \"registration name.\"  This may be different from the first hostname you get by doing a reverse lookup on the DataNode's IP address.\n\nThat's why DatanodeID has three fields instead of two:\n{code}\npublic class DatanodeID implements Comparable<DatanodeID> {\n  public static final DatanodeID[] EMPTY_ARRAY = {};\n\n  private String ipAddr;     // IP address\n  private String hostName;   // hostname claimed by datanode\n  private String peerHostName; // hostname from the actual connection\n{code}\n\nThe field named {{hostName}} is actually not the hostname, but the \"registration name,\" which is what the datanode was configured to say its name was, via {{dfs.datanode.hostname}}.  {{peerHostName}} is the hostname you get by doing a reverse DNS lookup on {{ipAddr}}.\n\nPart of the use for registration names is in unit tests, where creating a new hostname is not practical.  Another use is in dealing with multi-homing setups.\n\nbq. The reason why I removed this test is that -registration-name- is not a valid DNS name.\n\nThe point of the test was to ensure that we could specify registration names in the exclude and include files and have them work.  We should make sure that this functionality is still working.\n\nThis is a real problem for some people.  For example, consider if you have an AWS instance with an external and internal hostname.  You might configure your DNs to use {{dn1.internal.host.name}} (or whatever) rather than {{dn1.external.host.name}}.  This avoids the issue where the NN does a reverse DNS lookup on the IP, and comes up with {{dn1.external.host.name}}, and starts sending traffic over the wrong interface.  This sort of thing is very important on AWS, because people are actually charged money for sending traffic to the external hostname (rather than internal).\n\nIf you like, the test could be configured to use a valid but non-default loopback IP (such as 127.0.5.1) rather than an invalid string.  But in any case, I think we need a JIRA to restore it.  Will file one shortly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-17T22:31:56.510+0000","updated":"2014-04-17T22:31:56.510+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13980025","id":"13980025","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"I filed a JIRA for re-adding testIncludeByRegistrationName so we keep this test coverage.  I will avoid using a registration name which is not a valid DNS name this time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-24T17:57:54.871+0000","updated":"2014-04-24T17:57:54.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12706020/comment/13980044","id":"13980044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for fixing this, [~cmccabe].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-24T18:14:18.726+0000","updated":"2014-04-24T18:14:18.726+0000"}],"maxResults":40,"total":40,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6180/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1u7pr:"}}