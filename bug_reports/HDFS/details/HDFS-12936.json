{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13125558","self":"https://issues.apache.org/jira/rest/api/2/issue/13125558","key":"HDFS-12936","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/10004","id":"10004","description":"Not A Bug","name":"Not A Bug"},"customfield_12312322":null,"customfield_12310220":"2017-12-18T08:57:24.779+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Dec 19 01:39:07 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1533481_*|*_4_*:*_1_*:*_33390702_*|*_5_*:*_2_*:*_578282","customfield_12312321":null,"resolutiondate":"2017-12-18T18:40:07.101+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12936/watchers","watchCount":5,"isWatching":false},"created":"2017-12-18T08:48:24.695+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":345600,"aggregatetimeoriginalestimate":345600,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327181","id":"12327181","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-09-03T15:21:07.428+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312927","id":"12312927","name":"datanode"}],"timeoriginalestimate":345600,"description":"I configure the max user processes 65535 with any user ,and the datanode memory is 8G.\r\n When a log of data was been writeen,the datanode was been shutdown.\r\n But I can see the memory use only < 1000M.\r\n Please to see the attachment. !Datanode Memory.png!\r\n\r\n*DataNode shutdown error log:*\r\n{code:java}\r\n2017-12-17 23:58:14,422 INFO org.apache.hadoop.hdfs.server.datanode.DataNode: PacketResponder: BP-1437036909-192.168.17.36-1509097205664:blk_1074725940_987917, type=HAS_DOWNSTREAM_IN_PIPELINE terminating\r\n2017-12-17 23:58:31,425 ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: DataNode is out of memory. Will retry in 30 seconds.\r\njava.lang.OutOfMemoryError: unable to create new native thread\r\n\tat java.lang.Thread.start0(Native Method)\r\n\tat java.lang.Thread.start(Thread.java:714)\r\n\tat org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:154)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2017-12-17 23:59:01,426 ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: DataNode is out of memory. Will retry in 30 seconds.\r\njava.lang.OutOfMemoryError: unable to create new native thread\r\n\tat java.lang.Thread.start0(Native Method)\r\n\tat java.lang.Thread.start(Thread.java:714)\r\n\tat org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:154)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2017-12-17 23:59:05,520 ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: DataNode is out of memory. Will retry in 30 seconds.\r\njava.lang.OutOfMemoryError: unable to create new native thread\r\n\tat java.lang.Thread.start0(Native Method)\r\n\tat java.lang.Thread.start(Thread.java:714)\r\n\tat org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:154)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2017-12-17 23:59:31,429 INFO org.apache.hadoop.hdfs.server.datanode.DataNode: Receiving BP-1437036909-192.168.17.36-1509097205664:blk_1074725951_987928 src: /192.168.17.54:40478 dest: /192.168.17.48:50010\r\n\r\n{code}","customfield_10010":null,"timetracking":{"originalEstimate":"96h","remainingEstimate":"96h","originalEstimateSeconds":345600,"remainingEstimateSeconds":345600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12938145","id":"12938145","filename":"Datanode Memory.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"created":"2018-09-03T15:20:52.252+0000","size":47777,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12938145/Datanode+Memory.png"}],"aggregatetimeestimate":345600,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"java.lang.OutOfMemoryError: unable to create new native thread","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":345600,"percent":0},"customfield_12311024":null,"environment":"CDH5.12\r\nhadoop2.6","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":345600,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294660","id":"16294660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cheersyang","name":"cheersyang","key":"cheersyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cheersyang&avatarId=23772","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cheersyang&avatarId=23772","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cheersyang&avatarId=23772","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cheersyang&avatarId=23772"},"displayName":"Weiwei Yang","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~1028344078@qq.com]\r\n\r\nThe log already indicates there is a java OOM, why you still raise this as a bug?\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cheersyang","name":"cheersyang","key":"cheersyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cheersyang&avatarId=23772","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cheersyang&avatarId=23772","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cheersyang&avatarId=23772","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cheersyang&avatarId=23772"},"displayName":"Weiwei Yang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-12-18T08:57:24.779+0000","updated":"2017-12-18T08:57:24.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294670","id":"16294670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"body":"[~cheersyang]\r\nI know this is oom error.\r\nPlease to see  https://pan.baidu.com/s/1o7BE0cy","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-18T09:10:01.586+0000","updated":"2017-12-18T09:11:03.836+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294671","id":"16294671","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cheersyang","name":"cheersyang","key":"cheersyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cheersyang&avatarId=23772","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cheersyang&avatarId=23772","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cheersyang&avatarId=23772","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cheersyang&avatarId=23772"},"displayName":"Weiwei Yang","active":true,"timeZone":"Asia/Shanghai"},"body":"I am closing this as invalid. We encourage people to report bugs on JIRA but that needs at least some basic diagnosis so watchers know it is a code bug or an env/opt error. So if you believe this is a code bug but you don't know where the root cause is, you need to provide some reproducing steps with a common-setup or in UT. It's not efficient to discuss how to resolve issues via JIRA, better to try on Google or stack overflow etc. Hope that makes sense.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cheersyang","name":"cheersyang","key":"cheersyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cheersyang&avatarId=23772","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cheersyang&avatarId=23772","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cheersyang&avatarId=23772","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cheersyang&avatarId=23772"},"displayName":"Weiwei Yang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-12-18T09:10:50.278+0000","updated":"2017-12-18T09:10:50.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294675","id":"16294675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"body":"[~cheersyang]\r\nI search so many.\r\nAnd i check the my env code(DataXceiverServer.java) with apache hadoop latest version code(DataXceiverServer.java), is the same.\r\n\r\nBut I can see the memory use only < 1000M.\r\nPlease to see https://pan.baidu.com/s/1o7BE0cy","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-18T09:15:28.665+0000","updated":"2017-12-18T09:15:28.665+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294693","id":"16294693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jepon","name":"Jepon","key":"jepon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jepon","active":true,"timeZone":"Etc/UTC"},"body":"*{ margin: 0; padding: 0; } font{ line-height: 1.6; } ul,ol{ padding-left: 20px; list-style-position: inside; }\nHi, Weiwei Yang\nCan you have weixin? Let's have a chat,ok ?\nThanks,Jepson\na#ntes-pcmail-signature-default:hover { text-decoration: underline; color: #199cff; cursor: pointer; } a#ntes-pcmail-signature-default:active { text-decoration: underline; color: #246fce; cursor: pointer; } \nOn 12/18/2017 17:14，[1]Weiwei Yang (JIRA)<jira@apache.org> wrote：\n     [ https://issues.apache.org/jira/browse/HDFS-12936?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]\n\nWeiwei Yang resolved HDFS-12936.\n--------------------------------\n    Resolution: Not A Bug\n\n\n\n\n--\nThis message was sent by Atlassian JIRA\n(v6.4.14#64029)\n----------------------------------------------------------------------------------------\n[1] mailto:jira@apache.org\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jepon","name":"Jepon","key":"jepon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jepon","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-18T09:28:00.340+0000","updated":"2017-12-18T09:28:00.340+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294704","id":"16294704","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhangchen","name":"zhangchen","key":"zhangchen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Zhang","active":true,"timeZone":"Etc/UTC"},"body":"Hey [~1028344078@qq.com]，this error usually means you didn't set your system limits appropriately.\r\nThere's lots of system limits may cause this issue, such max-threads-per-process, max-open-files-per-process, etc.\r\nThis [answer on stackoverflow | https://stackoverflow.com/questions/34452302/how-to-increase-maximum-number-of-jvm-threads-linux-64bit] is a great guideline for you to find out which limits is not set appropriately, hope it can help","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhangchen","name":"zhangchen","key":"zhangchen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Zhang","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-18T09:41:12.190+0000","updated":"2017-12-18T09:41:12.190+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16294723","id":"16294723","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"body":"[~alicezhangchen]\r\nThank you for quick response.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-18T09:44:02.922+0000","updated":"2017-12-18T09:44:02.922+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16295404","id":"16295404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anu","name":"anu","key":"anu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anu Engineer","active":true,"timeZone":"America/Los_Angeles"},"body":"[~1028344078@qq.com] Thanks for filing this issue. But as [~Weiwei Yang] and [~alicezhangchen] mentioned this is probably due to an enviormental issue in your data node. We usually use JIRA when we find a defect in the product, that is you need some code change. Could you please investigate the root issue on your machines and if you find a real defect please re-open this JIRA.  Till we know for sure that there is a code defect, I am going to resolve this JIRA. Please feel free to reopen if you have more information, like stack traces or line of code that you think is wrong. Once more, thank you very much for filing this JIRA and having a discussion with the community.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anu","name":"anu","key":"anu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anu Engineer","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-18T18:39:31.515+0000","updated":"2017-12-18T18:39:31.515+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13125558/comment/16296000","id":"16296000","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"body":"[~anu] [~cheersyang] [~alicezhangchen] Thank you very much.\r\n\r\nI turn up these parameters.\r\n{code:java}\r\n1.\r\necho \"kernel.threads-max=196605\" >> /etc/sysctl.conf\r\necho \"kernel.pid_max=196605\" >> /etc/sysctl.conf\r\necho \"vm.max_map_count=393210\" >> /etc/sysctl.conf\r\nsysctl -p  \r\n\r\n2.\r\n/etc/security/limits.conf\r\n* soft nofile 196605\r\n* hard nofile 196605\r\n* soft nproc 196605\r\n* hard nproc 196605\r\n{code}\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=1028344078%40qq.com","name":"1028344078@qq.com","key":"1028344078@qq.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=1028344078%40qq.com&avatarId=33522","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=1028344078%40qq.com&avatarId=33522","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=1028344078%40qq.com&avatarId=33522","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=1028344078%40qq.com&avatarId=33522"},"displayName":"Jepson","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-19T01:39:07.700+0000","updated":"2018-01-08T01:31:33.281+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12936/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3o0a7:"}}