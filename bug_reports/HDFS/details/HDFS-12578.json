{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13106570","self":"https://issues.apache.org/jira/rest/api/2/issue/13106570","key":"HDFS-12578","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341257","id":"12341257","description":"2.7.5 release","name":"2.7.5","archived":false,"released":true,"releaseDate":"2017-12-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-10-03T18:05:53.020+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Oct 14 03:21:26 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_71059096_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_875833061","customfield_12312321":null,"resolutiondate":"2017-10-13T21:25:16.604+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12578/watchers","watchCount":3,"isWatching":false},"created":"2017-10-02T22:23:44.499+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12517444","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12517444","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13109321","key":"HDFS-12659","self":"https://issues.apache.org/jira/rest/api/2/issue/13109321","fields":{"summary":"Update TestDeadDatanode#testNonDFSUsedONDeadNodeReReg to increase heartbeat recheck interval","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12520131","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12520131","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"inwardIssue":{"id":"13075329","key":"HDFS-11896","self":"https://issues.apache.org/jira/rest/api/2/issue/13075329","fields":{"summary":"Non-dfsUsed will be doubled on dead node re-registration","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-11-15T07:44:07.865+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312916","id":"12312916","name":"test"}],"timeoriginalestimate":null,"description":"It appears {{TestDeadDatanode#testNonDFSUsedONDeadNodeReReg}} is consistently failing in branch-2.7. We should investigate and fix it.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341257","id":"12341257","description":"2.7.5 release","name":"2.7.5","archived":false,"released":true,"releaseDate":"2017-12-14"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12890199","id":"12890199","filename":"HDFS-12578-branch-2.7.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-03T18:05:49.616+0000","size":1023,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12890199/HDFS-12578-branch-2.7.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12892098","id":"12892098","filename":"HDFS-12578-branch-2.7.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T16:27:27.212+0000","size":1960,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12892098/HDFS-12578-branch-2.7.002.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"TestDeadDatanode#testNonDFSUsedONDeadNodeReReg failing in branch-2.7","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16190071","id":"16190071","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~xiaochen], [HDFS-9107] introduces a check in {{HeartbeatManager#heartbeatCheck}}.\n{code}\n // check if an excessive GC pause has occurred\n          if (shouldAbortHeartbeatCheck(0)) {\n            return;\n          }\n{code}\nDue to this heartBeat check is aborted and DataNode is not declared dead. Please find attached patch. After that change value set for {{DFS_NAMENODE_HEARTBEAT_RECHECK_INTERVAL_KEY}} should be higher. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-03T18:05:53.020+0000","updated":"2017-10-03T18:05:53.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16190819","id":"16190819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~ajayydv] for the fix. Your change makes sense to me.\n1 question: have you checked why this is only failing in branch-2.7? HDFS-9107 was committed to branch-2.8+ as well, but the test there is still using an interval of 1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-04T05:01:20.657+0000","updated":"2017-10-04T05:01:20.657+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16190829","id":"16190829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 10m 21s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n|| || || || {color:brown} branch-2.7 Compile Tests {color} ||\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  5m 58s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 12s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_144 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m  8s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_151 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 59s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  3m 14s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m  0s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_144 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 46s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_151 {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 54s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 54s{color} | {color:green} the patch passed with JDK v1.8.0_144 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 54s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 59s{color} | {color:green} the patch passed with JDK v1.7.0_151 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 59s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 20s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 60 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  3m  5s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 55s{color} | {color:green} the patch passed with JDK v1.8.0_144 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 45s{color} | {color:green} the patch passed with JDK v1.7.0_151 {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}577m 12s{color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_151. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  7m  0s{color} | {color:red} The patch generated 3 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black}667m 44s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_144 Failed junit tests | hadoop.hdfs.server.namenode.TestDecommissioningStatus |\n|   | hadoop.hdfs.web.TestWebHdfsTokens |\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\n|   | hadoop.hdfs.server.datanode.TestBlockReplacement |\n| JDK v1.7.0_151 Failed junit tests | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |\n|   | hadoop.hdfs.server.namenode.TestEditLogRace |\n|   | hadoop.hdfs.TestDFSRename |\n|   | hadoop.hdfs.TestDatanodeConfig |\n|   | hadoop.hdfs.server.namenode.TestQuotaByStorageType |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength |\n|   | hadoop.hdfs.server.namenode.TestXAttrConfigFlag |\n|   | hadoop.hdfs.TestBlockReaderFactory |\n|   | hadoop.hdfs.TestDFSClientRetries |\n|   | hadoop.hdfs.server.namenode.TestFSImage |\n|   | hadoop.hdfs.TestFSOutputSummer |\n|   | hadoop.hdfs.TestFileCreationDelete |\n|   | hadoop.hdfs.TestFileAppend2 |\n|   | hadoop.hdfs.tools.TestDFSAdmin |\n|   | hadoop.hdfs.TestBlockStoragePolicy |\n|   | hadoop.hdfs.web.TestWebHdfsWithAuthenticationFilter |\n|   | hadoop.hdfs.TestDFSRemove |\n|   | hadoop.hdfs.TestLeaseRecovery |\n|   | hadoop.hdfs.TestClientProtocolForPipelineRecovery |\n|   | hadoop.hdfs.server.namenode.TestGenericJournalConf |\n|   | hadoop.hdfs.TestWriteConfigurationToDFS |\n|   | hadoop.hdfs.tools.TestStoragePolicyCommands |\n|   | hadoop.hdfs.TestReplication |\n|   | hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots |\n|   | hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork |\n|   | hadoop.hdfs.server.namenode.TestAclConfigFlag |\n|   | hadoop.hdfs.TestPipelines |\n|   | hadoop.hdfs.web.TestHftpFileSystem |\n|   | hadoop.hdfs.tools.TestGetGroups |\n|   | hadoop.hdfs.TestFileCreationClient |\n|   | hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling |\n|   | hadoop.hdfs.TestRenameWhileOpen |\n|   | hadoop.hdfs.TestRollingUpgradeRollback |\n|   | hadoop.hdfs.server.namenode.TestMalformedURLs |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithXAttr |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer |\n|   | hadoop.hdfs.server.namenode.TestSnapshotPathINodes |\n|   | hadoop.hdfs.tools.TestDFSAdminWithHA |\n|   | hadoop.hdfs.TestDFSUpgrade |\n|   | hadoop.hdfs.web.TestWebHdfsFileSystemContract |\n|   | hadoop.hdfs.server.balancer.TestBalancer |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.TestDistributedFileSystem |\n|   | hadoop.hdfs.TestHDFSTrash |\n|   | hadoop.hdfs.web.TestHttpsFileSystem |\n|   | hadoop.hdfs.TestCrcCorruption |\n|   | hadoop.hdfs.server.namenode.TestFileContextAcl |\n|   | hadoop.hdfs.tools.TestDFSHAAdminMiniCluster |\n|   | hadoop.hdfs.server.namenode.TestAuditLogger |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |\n|   | hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages |\n|   | hadoop.hdfs.TestHdfsAdmin |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer |\n|   | hadoop.hdfs.web.TestWebHdfsTokens |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics |\n|   | hadoop.hdfs.TestConnCache |\n|   | hadoop.hdfs.server.namenode.TestSecondaryWebUi |\n|   | hadoop.hdfs.server.mover.TestStorageMover |\n|   | hadoop.hdfs.TestFsShellPermission |\n|   | hadoop.hdfs.TestEncryptionZones |\n|   | hadoop.hdfs.TestParallelShortCircuitLegacyRead |\n|   | hadoop.hdfs.TestRollingUpgradeDowngrade |\n|   | hadoop.hdfs.TestDFSFinalize |\n|   | hadoop.hdfs.server.namenode.TestGetBlockLocations |\n|   | hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot |\n|   | hadoop.hdfs.TestBlockMissingException |\n|   | hadoop.hdfs.TestFileAppend3 |\n|   | hadoop.hdfs.util.TestByteArrayManager |\n|   | hadoop.hdfs.TestListFilesInDFS |\n|   | hadoop.hdfs.TestFileLengthOnClusterRestart |\n|   | hadoop.hdfs.server.namenode.TestFSDirectory |\n|   | hadoop.hdfs.server.namenode.TestCreateEditsLog |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion |\n|   | hadoop.hdfs.web.TestWebHDFSXAttr |\n|   | hadoop.hdfs.TestDatanodeStartupFixesLegacyStorageIDs |\n|   | hadoop.hdfs.web.TestWebHDFSAcl |\n|   | hadoop.hdfs.TestDataTransferProtocol |\n|   | hadoop.hdfs.tools.TestDebugAdmin |\n|   | hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade |\n|   | hadoop.hdfs.TestPersistBlocks |\n|   | hadoop.hdfs.TestDFSAddressConfig |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing |\n|   | hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks |\n|   | hadoop.hdfs.TestInjectionForSimulatedStorage |\n|   | hadoop.hdfs.protocol.datatransfer.sasl.TestSaslDataTransfer |\n|   | hadoop.hdfs.TestListPathServlet |\n|   | hadoop.hdfs.web.TestWebHDFSForHA |\n|   | hadoop.hdfs.TestFileCreation |\n|   | hadoop.hdfs.TestDFSInotifyEventInputStream |\n|   | hadoop.hdfs.server.namenode.TestEditLogJournalFailures |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.TestDFSClientExcludedNodes |\n|   | hadoop.hdfs.server.balancer.TestBalancerRPCDelay |\n|   | hadoop.hdfs.server.namenode.TestBlockUnderConstruction |\n|   | hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots |\n|   | hadoop.hdfs.server.namenode.TestSecurityTokenEditLog |\n|   | hadoop.hdfs.TestPread |\n|   | hadoop.hdfs.TestLeaseRecovery2 |\n|   | hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot |\n|   | hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot |\n|   | hadoop.hdfs.TestReservedRawPaths |\n|   | hadoop.hdfs.TestGetFileChecksum |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\n|   | hadoop.hdfs.TestParallelShortCircuitReadNoChecksum |\n|   | hadoop.hdfs.TestClientReportBadBlock |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotManager |\n|   | hadoop.hdfs.TestHFlush |\n|   | hadoop.hdfs.TestDatanodeReport |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.server.namenode.TestStreamFile |\n|   | hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens |\n|   | hadoop.hdfs.TestDatanodeLayoutUpgrade |\n|   | hadoop.hdfs.TestDFSShellGenericOptions |\n|   | hadoop.hdfs.TestFileAppendRestart |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes |\n|   | hadoop.hdfs.TestSetrepIncreasing |\n|   | hadoop.hdfs.server.namenode.TestSaveNamespace |\n|   | hadoop.hdfs.server.namenode.TestNestedEncryptionZones |\n|   | hadoop.hdfs.server.namenode.TestINodeFile |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitCache |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys |\n|   | hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots |\n|   | hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy |\n|   | hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes |\n|   | hadoop.hdfs.web.TestWebHdfsWithMultipleNameNodes |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup |\n|   | hadoop.hdfs.TestModTime |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMXBean |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication |\n|   | hadoop.hdfs.TestDFSOutputStream |\n|   | hadoop.hdfs.TestEncryptedTransfer |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot |\n|   | hadoop.hdfs.server.mover.TestMover |\n|   | hadoop.hdfs.util.TestDiff |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing |\n|   | hadoop.hdfs.TestFetchImage |\n|   | hadoop.hdfs.TestDFSUpgradeFromImage |\n|   | hadoop.hdfs.TestReplaceDatanodeOnFailure |\n|   | hadoop.hdfs.TestEncryptionZonesWithKMS |\n|   | hadoop.hdfs.TestGetBlocks |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\n|   | hadoop.hdfs.TestSetrepDecreasing |\n|   | hadoop.hdfs.TestMissingBlocksAlert |\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\n|   | hadoop.hdfs.TestDFSShell |\n|   | hadoop.hdfs.TestDecommission |\n|   | hadoop.hdfs.server.namenode.TestMetadataVersionOutput |\n|   | hadoop.hdfs.TestBlockReaderLocal |\n|   | hadoop.hdfs.server.namenode.TestNameNodeXAttr |\n|   | hadoop.hdfs.TestHDFSFileSystemContract |\n|   | hadoop.hdfs.server.blockmanagement.TestNodeCount |\n|   | hadoop.hdfs.TestAppendSnapshotTruncate |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithAcl |\n|   | hadoop.hdfs.TestDatanodeDeath |\n|   | hadoop.hdfs.TestFileCreationEmpty |\n|   | hadoop.hdfs.TestAppendDifferentChecksum |\n|   | hadoop.hdfs.server.namenode.TestBackupNode |\n|   | hadoop.hdfs.TestSafeMode |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForAcl |\n|   | hadoop.hdfs.TestDisableConnCache |\n|   | hadoop.hdfs.web.TestFSMainOperationsWebHdfs |\n|   | hadoop.hdfs.TestClose |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap |\n|   | hadoop.hdfs.TestSetTimes |\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\n| JDK v1.7.0_151 Timed out junit tests | org.apache.hadoop.hdfs.server.namenode.ha.TestHAAppend |\n|   | org.apache.hadoop.hdfs.server.datanode.TestHSync |\n|   | org.apache.hadoop.hdfs.TestEncryptionZonesWithHA |\n|   | org.apache.hadoop.hdfs.server.namenode.TestStartup |\n|   | org.apache.hadoop.hdfs.TestDFSStartupVersions |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyBlockManagement |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages |\n|   | org.apache.hadoop.hdfs.TestWriteRead |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDeleteBlockPool |\n|   | org.apache.hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage |\n|   | org.apache.hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer |\n|   | org.apache.hadoop.hdfs.TestDatanodeRegistration |\n|   | org.apache.hadoop.hdfs.qjournal.client.TestQuorumJournalManager |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeHttpServer |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeHotSwapVolumes |\n|   | org.apache.hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeMetrics |\n|   | org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicy |\n|   | org.apache.hadoop.hdfs.TestMultiThreadedHflush |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeExit |\n|   | org.apache.hadoop.hdfs.TestDFSClientFailover |\n|   | org.apache.hadoop.hdfs.server.namenode.TestTransferFsImage |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeRecovery |\n|   | org.apache.hadoop.hdfs.server.namenode.TestAddBlockRetry |\n|   | org.apache.hadoop.hdfs.server.datanode.TestBlockReplacement |\n|   | org.apache.hadoop.hdfs.server.namenode.TestDecommissioningStatus |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNamenodeCapacityReport |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM |\n|   | org.apache.hadoop.hdfs.TestQuota |\n|   | org.apache.hadoop.hdfs.server.namenode.TestStorageRestore |\n|   | org.apache.hadoop.hdfs.server.namenode.TestLeaseManager |\n|   | org.apache.hadoop.hdfs.server.datanode.TestReadOnlySharedStorage |\n|   | org.apache.hadoop.hdfs.server.datanode.TestRefreshNamenodes |\n|   | org.apache.hadoop.hdfs.TestDataTransferKeepalive |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeAcl |\n|   | org.apache.hadoop.hdfs.server.namenode.TestEditLog |\n|   | org.apache.hadoop.hdfs.server.datanode.TestBlockRecovery |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestFsDatasetImpl |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNNThroughputBenchmark |\n|   | org.apache.hadoop.hdfs.TestDFSStorageStateRecovery |\n|   | org.apache.hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot |\n|   | org.apache.hadoop.hdfs.TestFileAppend4 |\n|   | org.apache.hadoop.hdfs.server.datanode.TestStorageReport |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyIsHot |\n|   | org.apache.hadoop.hdfs.qjournal.client.TestQJMWithFaults |\n|   | org.apache.hadoop.hdfs.TestDFSPermission |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileContextXAttr |\n|   | org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSNamesystemMBean |\n|   | org.apache.hadoop.hdfs.server.datanode.TestBatchIbr |\n|   | org.apache.hadoop.hdfs.TestReadWhileWriting |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSImageWithSnapshot |\n|   | org.apache.hadoop.hdfs.TestFileCorruption |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileLimit |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFsck |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing |\n|   | org.apache.hadoop.hdfs.TestFSInputChecker |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits |\n|   | org.apache.hadoop.hdfs.TestSeekBug |\n|   | org.apache.hadoop.hdfs.TestRollingUpgrade |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileTruncate |\n|   | org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename |\n|   | org.apache.hadoop.tracing.TestTracing |\n|   | org.apache.hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate |\n|   | org.apache.hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality |\n|   | org.apache.hadoop.hdfs.server.namenode.TestDeadDatanode |\n|   | org.apache.hadoop.hdfs.server.namenode.TestTruncateQuotaUpdate |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | org.apache.hadoop.hdfs.server.namenode.TestProcessCorruptBlocks |\n|   | org.apache.hadoop.hdfs.TestDFSMkdirs |\n|   | org.apache.hadoop.hdfs.TestHDFSServerPorts |\n|   | org.apache.hadoop.hdfs.TestLease |\n|   | org.apache.hadoop.hdfs.server.namenode.TestParallelImageWrite |\n|   | org.apache.hadoop.hdfs.web.TestWebHDFS |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistFiles |\n|   | org.apache.hadoop.hdfs.qjournal.TestNNWithQJM |\n|   | org.apache.hadoop.hdfs.server.namenode.TestINodeAttributeProvider |\n|   | org.apache.hadoop.hdfs.server.namenode.TestCheckpoint |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameEditsConfigs |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestRbwSpaceReservation |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSZKFailoverController |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\n|   | org.apache.hadoop.hdfs.TestRestartDFS |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDiskError |\n|   | org.apache.hadoop.hdfs.server.namenode.TestNamenodeRetryCache |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration |\n|   | org.apache.hadoop.hdfs.server.datanode.TestIncrementalBlockReports |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSEditLogLoader |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication |\n|   | org.apache.hadoop.hdfs.server.datanode.TestFsDatasetCache |\n|   | org.apache.hadoop.hdfs.server.datanode.TestIncrementalBrVariations |\n|   | org.apache.hadoop.hdfs.TestFileConcurrentReader |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestHAStateTransitions |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover |\n|   | org.apache.hadoop.hdfs.server.namenode.TestHDFSConcat |\n|   | org.apache.hadoop.hdfs.server.datanode.TestFsDatasetCacheRevocation |\n|   | org.apache.hadoop.hdfs.TestDFSRollback |\n|   | org.apache.hadoop.hdfs.server.namenode.TestDeleteRace |\n|   | org.apache.hadoop.hdfs.TestMiniDFSCluster |\n|   | org.apache.hadoop.hdfs.server.namenode.TestAddBlock |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA |\n|   | org.apache.hadoop.hdfs.server.datanode.TestBlockScanner |\n|   | org.apache.hadoop.hdfs.TestBlockReaderLocalLegacy |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestSequentialBlockId |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestPipelinesFailover |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestQuotasWithHA |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA |\n|   | org.apache.hadoop.hdfs.server.namenode.TestAuditLogs |\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS |\n|   | org.apache.hadoop.hdfs.server.namenode.TestHostsFiles |\n|   | org.apache.hadoop.hdfs.server.datanode.TestCachingStrategy |\n|   | org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestHASafeMode |\n|   | org.apache.hadoop.tracing.TestTraceAdmin |\n|   | org.apache.hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n|   | org.apache.hadoop.hdfs.TestAbandonBlock |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:67e87c9 |\n| JIRA Issue | HDFS-12578 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12890199/HDFS-12578-branch-2.7.001.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\n| uname | Linux 1dfcd78478ee 3.13.0-129-generic #178-Ubuntu SMP Fri Aug 11 12:48:20 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | branch-2.7 / 171a0bd |\n| Default Java | 1.7.0_151 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_144 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_151 |\n| findbugs | v3.0.0 |\n| whitespace | https://builds.apache.org/job/PreCommit-HDFS-Build/21506/artifact/patchprocess/whitespace-eol.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/21506/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_151.txt |\n| JDK v1.7.0_151  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/21506/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-HDFS-Build/21506/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/21506/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-04T05:25:08.365+0000","updated":"2017-10-04T05:25:08.365+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16195078","id":"16195078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"[~xiaochen], Thanks for checking this. Seems we are narrowly escaping test failure in 2.8. Below is what i found:\n* {{HeartbeatManager#shouldAbortHeartbeatCheck}} return true in 2.7 and not in 2.8.\n*  Below logs clearly shows that time elapsed by {{heartbeatStopWatch}} in 2.7 is almost always >1 while in case of 2.8 it is mostly 0 or 1. (Run it multiple times and always got the same result)\nIn 2.7\n{code}\n2017-10-06 12:19:13,425 INFO  blockmanagement.HeartbeatManager (HeartbeatManager.java:shouldAbortHeartbeatCheck(262)) - shouldAbortHeartbeatCheck: true elapsed:1087 heartbeatRecheckInterval:1\n{code}\nin 2.8.2\n{code}\n2017-10-06 12:20:28,376 INFO  blockmanagement.HeartbeatManager (HeartbeatManager.java:shouldAbortHeartbeatCheck(287)) - shouldAbortHeartbeatCheck: false elapsed:0 heartbeatRecheckInterval:1\n2017-10-06 12:20:28,376 INFO  blockmanagement.HeartbeatManager (HeartbeatManager.java:shouldAbortHeartbeatCheck(287)) - shouldAbortHeartbeatCheck: false elapsed:0 heartbeatRecheckInterval:1\n2017-10-06 12:20:28,378 INFO  blockmanagement.HeartbeatManager (HeartbeatManager.java:shouldAbortHeartbeatCheck(287)) - shouldAbortHeartbeatCheck: false elapsed:1 heartbeatRecheckInterval:1\n{code}\nTemp log statement\n{code}\n @VisibleForTesting\n  boolean shouldAbortHeartbeatCheck(long offset) {\n    long elapsed = heartbeatStopWatch.now(TimeUnit.MILLISECONDS);\n    if(offset==0)\n      LOG.info(\"shouldAbortHeartbeatCheck: \"+(elapsed + offset >\n          heartbeatRecheckInterval)+\" elapsed:\"+elapsed+\" \"\n          + \"heartbeatRecheckInterval:\"+heartbeatRecheckInterval);\nreturn elapsed + offset > heartbeatRecheckInterval;\n  }\n{code}\n* Even if we run the test case in 2.8 with changes for {{StopWatch}} from 2.7, test passes. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-06T19:24:32.925+0000","updated":"2017-10-06T19:24:32.925+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16202827","id":"16202827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you for the investigation [~ajayydv]. And sorry for my delayed response.\r\n\r\nI think the reason there is a 1+ second delay in branch-2.7, is in {{BlockManagerTestUtil.checkHeartbeat}}:\r\n{code:title=HDFS-11224's change, which is in 2.8+}\r\n   public static void checkHeartbeat(BlockManager bm) {\r\n -    bm.getDatanodeManager().getHeartbeatManager().heartbeatCheck();\r\n +    HeartbeatManager hbm = bm.getDatanodeManager().getHeartbeatManager();\r\n +    hbm.restartHeartbeatStopWatch();\r\n +    hbm.heartbeatCheck();\r\n    }\r\n{code}\r\n\r\nThe jira HDFS-11224 was mainly to fix a bug in feature HDFS-9239, which is only in branch-2.8+.\r\n\r\nSo here is what I propose:\r\n- for branch-2.7, in addition to what you have found, we should also restart the stopwatch.\r\n- for branch-2.8+, let's do what you did in the patch, to give a wider range than 1 millisecond. (Please upload a patch based on trunk, so pre-commit can be triggered)\r\n\r\nDoes this make sense?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-12T23:50:42.669+0000","updated":"2017-10-12T23:50:42.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16203800","id":"16203800","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"[~xiaochen], Ya, thanks for sharing details about related jira's. Updated patch with suggested change. For 2.8+ shall i file a new jira?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T16:30:31.971+0000","updated":"2017-10-13T16:31:05.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16203872","id":"16203872","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 on patch 2 pending jenkins. Thanks Ajay.\r\n\r\nbq. For 2.8+ shall i file a new jira?\r\nSure, we can use this one to track the consistent failure in 2.7, and your new jira for possible intermittent failures.\r\n\r\nStrictly speaking the {{DFS_NAMENODE_HEARTBEAT_RECHECK_INTERVAL_KEY}} bump for 2.7 should be in the new jira too, but IMO this is pretty minor so will just commit patch 2 to branch-2.7 once pre-commit comes back.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T17:10:23.075+0000","updated":"2017-10-13T17:10:23.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16203938","id":"16203938","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"[~xiaochen], thanks for review. Filed [HDFS-12659] for tracking change in 2.8+.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T17:54:17.936+0000","updated":"2017-10-13T17:54:17.936+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16204216","id":"16204216","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Pre-commit for the new run is at https://builds.apache.org/job/PreCommit-hdfs-Build/21686/. Emailed common-dev about branch-2.7 failures at 'H9 build slave is bad', but no clear solution yet. \r\n\r\nThis fix is test only and I manually verified the fixed test passing on branch-2.7, committing patch 2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T21:24:37.689+0000","updated":"2017-10-13T21:24:37.689+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16204217","id":"16204217","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed this. Thank you for the contribution, [~ajayydv].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T21:25:16.644+0000","updated":"2017-10-13T21:25:16.644+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16204358","id":"16204358","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"body":"[~xiaochen], thanks for review and commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajayydv","name":"ajayydv","key":"ajayydv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ajay Kumar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-13T23:42:55.813+0000","updated":"2017-10-13T23:42:55.813+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13106570/comment/16204448","id":"16204448","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 11m  8s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\r\n|| || || || {color:brown} branch-2.7 Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 38s{color} | {color:green} branch-2.7 passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 51s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_144 {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 58s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_151 {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} branch-2.7 passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 54s{color} | {color:green} branch-2.7 passed {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 37s{color} | {color:green} branch-2.7 passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 54s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_144 {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 38s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_151 {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 50s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 55s{color} | {color:green} the patch passed with JDK v1.8.0_144 {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 55s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 57s{color} | {color:green} the patch passed with JDK v1.7.0_151 {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 57s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 50s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 60 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 52s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 53s{color} | {color:green} the patch passed with JDK v1.8.0_144 {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 36s{color} | {color:green} the patch passed with JDK v1.7.0_151 {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}555m 51s{color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_151. {color} |\r\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red} 10m 30s{color} | {color:red} The patch generated 172 ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black}650m 19s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| JDK v1.8.0_144 Failed junit tests | hadoop.hdfs.web.TestWebHdfsTimeouts |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\r\n| JDK v1.7.0_151 Failed junit tests | hadoop.hdfs.server.namenode.TestFSNamesystemMBean |\r\n|   | hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes |\r\n|   | hadoop.hdfs.server.datanode.TestDiskError |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot |\r\n|   | hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |\r\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicy |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot |\r\n|   | hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotManager |\r\n|   | hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer |\r\n|   | hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes |\r\n|   | hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks |\r\n|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |\r\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\r\n|   | hadoop.hdfs.server.blockmanagement.TestNodeCount |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot |\r\n|   | hadoop.cli.TestCryptoAdminCLI |\r\n|   | hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy |\r\n|   | hadoop.hdfs.server.namenode.TestNameNodeMXBean |\r\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics |\r\n|   | hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork |\r\n|   | hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength |\r\n|   | hadoop.hdfs.server.namenode.TestMetadataVersionOutput |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\r\n|   | hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots |\r\n|   | hadoop.hdfs.server.namenode.TestAddBlockRetry |\r\n|   | hadoop.hdfs.server.namenode.TestNestedEncryptionZones |\r\n|   | hadoop.hdfs.server.balancer.TestBalancer |\r\n|   | hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage |\r\n|   | hadoop.hdfs.server.namenode.TestMetaSave |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean |\r\n|   | hadoop.hdfs.server.namenode.TestEditLog |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing |\r\n|   | hadoop.hdfs.server.datanode.TestBPOfferService |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot |\r\n|   | hadoop.hdfs.server.balancer.TestBalancerRPCDelay |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename |\r\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot |\r\n|   | hadoop.hdfs.server.namenode.TestLeaseManager |\r\n|   | hadoop.hdfs.TestDFSRemove |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters |\r\n|   | hadoop.hdfs.server.namenode.TestCreateEditsLog |\r\n|   | hadoop.hdfs.server.datanode.TestStorageReport |\r\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockId |\r\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing |\r\n|   | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |\r\n|   | hadoop.hdfs.server.namenode.TestSecurityTokenEditLog |\r\n|   | hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks |\r\n|   | hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling |\r\n| JDK v1.7.0_151 Timed out junit tests | org.apache.hadoop.hdfs.server.namenode.ha.TestHAAppend |\r\n|   | org.apache.hadoop.hdfs.TestLeaseRecovery2 |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestStartup |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages |\r\n|   | org.apache.hadoop.hdfs.TestFileCreationEmpty |\r\n|   | org.apache.hadoop.hdfs.TestFileCreationClient |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeHttpServer |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileContextAcl |\r\n|   | org.apache.hadoop.hdfs.TestDFSClientFailover |\r\n|   | org.apache.hadoop.fs.TestEnhancedByteBufferAccess |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestTransferFsImage |\r\n|   | org.apache.hadoop.hdfs.TestSetrepDecreasing |\r\n|   | org.apache.hadoop.hdfs.TestReservedRawPaths |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeRecovery |\r\n|   | org.apache.hadoop.hdfs.TestReplaceDatanodeOnFailure |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestDecommissioningStatus |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNamenodeCapacityReport |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestStorageRestore |\r\n|   | org.apache.hadoop.hdfs.TestFileCreation |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeAcl |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestINodeFile |\r\n|   | org.apache.hadoop.hdfs.TestDataTransferKeepalive |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestSaveNamespace |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\r\n|   | org.apache.hadoop.hdfs.TestDatanodeDeath |\r\n|   | org.apache.hadoop.hdfs.TestFileLengthOnClusterRestart |\r\n|   | org.apache.hadoop.hdfs.TestPread |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNNThroughputBenchmark |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSImage |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestBackupNode |\r\n|   | org.apache.hadoop.hdfs.TestSafeMode |\r\n|   | org.apache.hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestQuotaByStorageType |\r\n|   | org.apache.hadoop.hdfs.TestDFSClientRetries |\r\n|   | org.apache.hadoop.hdfs.TestBlockMissingException |\r\n|   | org.apache.hadoop.hdfs.TestDFSFinalize |\r\n|   | org.apache.hadoop.hdfs.TestFileAppend4 |\r\n|   | org.apache.hadoop.hdfs.TestDFSStorageStateRecovery |\r\n|   | org.apache.hadoop.hdfs.TestFileAppend3 |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyIsHot |\r\n|   | org.apache.hadoop.hdfs.TestDFSUpgradeFromImage |\r\n|   | org.apache.hadoop.hdfs.TestRead |\r\n|   | org.apache.hadoop.hdfs.TestInjectionForSimulatedStorage |\r\n|   | org.apache.hadoop.hdfs.TestRollingUpgradeDowngrade |\r\n|   | org.apache.hadoop.hdfs.TestHDFSFileSystemContract |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSImageWithXAttr |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileContextXAttr |\r\n|   | org.apache.hadoop.hdfs.TestDFSPermission |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives |\r\n|   | org.apache.hadoop.hdfs.TestDecommission |\r\n|   | org.apache.hadoop.hdfs.TestDatanodeStartupFixesLegacyStorageIDs |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSImageWithSnapshot |\r\n|   | org.apache.hadoop.hdfs.TestFileAppendRestart |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameNodeXAttr |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileLimit |\r\n|   | org.apache.hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFsck |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits |\r\n|   | org.apache.hadoop.hdfs.TestCrcCorruption |\r\n|   | org.apache.hadoop.hdfs.TestEncryptionZonesWithKMS |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits |\r\n|   | org.apache.hadoop.hdfs.TestLeaseRecovery |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFileTruncate |\r\n|   | org.apache.hadoop.hdfs.TestRollingUpgrade |\r\n|   | org.apache.hadoop.hdfs.TestDatanodeConfig |\r\n|   | org.apache.hadoop.hdfs.TestSeekBug |\r\n|   | org.apache.hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestTruncateQuotaUpdate |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestDeadDatanode |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestEditLogJournalFailures |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestProcessCorruptBlocks |\r\n|   | org.apache.hadoop.hdfs.TestDFSOutputStream |\r\n|   | org.apache.hadoop.hdfs.TestDFSMkdirs |\r\n|   | org.apache.hadoop.hdfs.TestLocalDFS |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestParallelImageWrite |\r\n|   | org.apache.hadoop.hdfs.TestHDFSServerPorts |\r\n|   | org.apache.hadoop.hdfs.TestLease |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestINodeAttributeProvider |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestCheckpoint |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNameEditsConfigs |\r\n|   | org.apache.hadoop.hdfs.TestRollingUpgradeRollback |\r\n|   | org.apache.hadoop.hdfs.TestBlockReaderLocal |\r\n|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSZKFailoverController |\r\n|   | org.apache.hadoop.hdfs.TestRestartDFS |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestNamenodeRetryCache |\r\n|   | org.apache.hadoop.hdfs.server.datanode.TestIncrementalBlockReports |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestSnapshotPathINodes |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSDirectory |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA |\r\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSEditLogLoader |\r\n|   | org.apache.hadoop.hdfs.TestRenameWhileOpen |\r\n|   | org.apache.hadoop.hdfs.TestFileConcurrentReader |\r\n|   | org.apache.hadoop.hdfs.server.datanode.TestDirectoryScanner |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestXAttrConfigFlag |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestHAStateTransitions |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFSImageWithAcl |\r\n|   | org.apache.hadoop.hdfs.TestFSOutputSummer |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestHDFSConcat |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestAclConfigFlag |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestDeleteRace |\r\n|   | org.apache.hadoop.hdfs.TestDFSRollback |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestAddBlock |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestEditLogRace |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestBlockUnderConstruction |\r\n|   | org.apache.hadoop.hdfs.TestBlockReaderFactory |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestPipelinesFailover |\r\n|   | org.apache.hadoop.hdfs.TestHFlush |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestQuotasWithHA |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA |\r\n|   | org.apache.hadoop.hdfs.TestEncryptedTransfer |\r\n|   | org.apache.hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestAuditLogs |\r\n|   | org.apache.hadoop.hdfs.TestSetTimes |\r\n|   | org.apache.hadoop.hdfs.TestDFSShell |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestAuditLogger |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestHostsFiles |\r\n|   | org.apache.hadoop.fs.TestHDFSFileContextMainOperations |\r\n|   | org.apache.hadoop.fs.permission.TestStickyBit |\r\n|   | org.apache.hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens |\r\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestHASafeMode |\r\n|   | org.apache.hadoop.hdfs.TestDFSRename |\r\n|   | org.apache.hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\r\n|   | org.apache.hadoop.hdfs.TestHDFSTrash |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker |  Image:yetus/hadoop:67e87c9 |\r\n| JIRA Issue | HDFS-12578 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12892098/HDFS-12578-branch-2.7.002.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux e56ad4f51766 4.4.0-43-generic #63-Ubuntu SMP Wed Oct 12 13:48:03 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\r\n| git revision | branch-2.7 / 171a0bd |\r\n| Default Java | 1.7.0_151 |\r\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_144 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_151 |\r\n| findbugs | v3.0.0 |\r\n| whitespace | https://builds.apache.org/job/PreCommit-HDFS-Build/21686/artifact/patchprocess/whitespace-eol.txt |\r\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/21686/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_151.txt |\r\n| JDK v1.7.0_151  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/21686/testReport/ |\r\n| asflicense | https://builds.apache.org/job/PreCommit-HDFS-Build/21686/artifact/patchprocess/patch-asflicense-problems.txt |\r\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\r\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/21686/console |\r\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-14T03:21:26.786+0000","updated":"2017-10-14T03:21:26.786+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12578/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3ksxz:"}}