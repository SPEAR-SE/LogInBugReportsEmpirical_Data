{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12625382","self":"https://issues.apache.org/jira/rest/api/2/issue/12625382","key":"HDFS-4343","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2013-01-31T00:19:33.660+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Feb 02 22:47:21 UTC 2013","customfield_12310420":"301924","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_3177751484_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-02-02T22:47:21.312+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4343/watchers","watchCount":4,"isWatching":false},"created":"2012-12-28T04:04:49.864+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-02-02T22:47:21.343+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312927","id":"12312927","name":"datanode"}],"timeoriginalestimate":null,"description":"A datanode has multiple storage directories configured using dfs.data.dir. When the storageID in the VERSION files in these directories, the datanode fails to startup. Consider a scenario, when old data in a storage directory is not cleared, the storage ID from it will not match with storage ID of in other storage storage directories. In this situation, the DataNode will quit and restart fails.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12562552","id":"12562552","filename":"hadoop-root-datanode-167-52-0-55.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-12-28T04:09:53.890+0000","size":81810,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12562552/hadoop-root-datanode-167-52-0-55.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12562550","id":"12562550","filename":"VERSION-1","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-12-28T04:09:53.885+0000","size":154,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12562550/VERSION-1"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12562551","id":"12562551","filename":"VERSION-2","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-12-28T04:09:53.888+0000","size":154,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12562551/VERSION-2"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"248552","customfield_12312823":null,"summary":"When storageID of dfs.data.dir of being inconsistent, restart datanode will be failure.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"namenode datanode ","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625382/comment/13567138","id":"13567138","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"I took the liberty of editing the description. This is the expected behavior. Not sure what is the bug/solution you are pointing to in this jira?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-31T00:19:33.660+0000","updated":"2013-01-31T00:19:33.660+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625382/comment/13569657","id":"13569657","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"Closing this jira as Invalid. The behavior in the description is the expected behavior. When storage directories are in inconsistent state, invalid or stale directories are expected to be cleaned manually, before restarting a datanode.\n\nIf you disagree, feel free to reopen the jira. Please justify why you think it is a valid jira, when you reopen the jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-02T22:47:21.337+0000","updated":"2013-02-02T22:47:21.337+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4343/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i16xgf:"}}