{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12702812","self":"https://issues.apache.org/jira/rest/api/2/issue/12702812","key":"HDFS-6135","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326143","id":"12326143","description":"2.4.0 release","name":"2.4.0","archived":false,"released":true,"releaseDate":"2014-04-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-03-24T03:09:06.244+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Mar 25 14:03:56 UTC 2014","customfield_12310420":"381150","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_80477585_*|*_1_*:*_1_*:*_233916749_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-03-24T21:30:29.327+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6135/watchers","watchCount":7,"isWatching":false},"created":"2014-03-21T06:10:35.037+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-05-12T18:16:00.542+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319803","id":"12319803","name":"journal-node","description":"Journal Node for the QJM"}],"timeoriginalestimate":null,"description":"While doing HDFS upgrade with HA setup, if the layoutversion gets changed in the upgrade, the rollback may trigger the following exception in JournalNodes (suppose the new software bumped the layoutversion from -55 to -56):\n{code}\n14/03/21 01:01:53 FATAL namenode.NameNode: Exception in namenode join\norg.apache.hadoop.hdfs.qjournal.client.QuorumException: Could not check if roll back possible for one or more JournalNodes. 1 exceptions thrown:\nUnexpected version of storage directory /grid/1/tmp/journal/mycluster. Reported: -56. Expecting = -55.\n\tat org.apache.hadoop.hdfs.server.common.StorageInfo.setLayoutVersion(StorageInfo.java:203)\n\tat org.apache.hadoop.hdfs.server.common.StorageInfo.setFieldsFromProperties(StorageInfo.java:156)\n\tat org.apache.hadoop.hdfs.server.common.StorageInfo.readProperties(StorageInfo.java:135)\n\tat org.apache.hadoop.hdfs.qjournal.server.JNStorage.analyzeStorage(JNStorage.java:202)\n\tat org.apache.hadoop.hdfs.qjournal.server.JNStorage.<init>(JNStorage.java:73)\n\tat org.apache.hadoop.hdfs.qjournal.server.Journal.<init>(Journal.java:142)\n\tat org.apache.hadoop.hdfs.qjournal.server.JournalNode.getOrCreateJournal(JournalNode.java:87)\n\tat org.apache.hadoop.hdfs.qjournal.server.JournalNode.canRollBack(JournalNode.java:304)\n\tat org.apache.hadoop.hdfs.qjournal.server.JournalNodeRpcServer.canRollBack(JournalNodeRpcServer.java:228)\n{code}\n\nLooks like for rollback JN with old software cannot handle future layoutversion brought by new software.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12636271","id":"12636271","filename":"HDFS-6135.000.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-23T23:09:06.815+0000","size":14465,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12636271/HDFS-6135.000.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12636291","id":"12636291","filename":"HDFS-6135.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T03:57:58.528+0000","size":16952,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12636291/HDFS-6135.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12636293","id":"12636293","filename":"HDFS-6135.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T04:27:16.398+0000","size":2732,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12636293/HDFS-6135.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12635965","id":"12635965","filename":"HDFS-6135.test.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-21T06:12:58.862+0000","size":4906,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12635965/HDFS-6135.test.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"381426","customfield_12312823":null,"summary":"In HDFS upgrade with HA setup, JournalNode cannot handle layout version bump when rolling back","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13942833","id":"13942833","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"body":"The attached patch mimics the LV change while upgrade and can reproduce the exception on a unit test.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-21T06:12:58.866+0000","updated":"2014-03-21T06:12:58.866+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13944624","id":"13944624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"body":"Upload a simple fix which lets JN understand the corresponding StartupOption, and bypass the layoutversion check when creating Journal object if the StartupOption is Rollback.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-23T23:09:06.821+0000","updated":"2014-03-23T23:09:06.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13944706","id":"13944706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12636271/HDFS-6135.000.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.fs.shell.TestHdfsTextCommand\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeJspHelper\n                  org.apache.hadoop.hdfs.server.namenode.TestAclConfigFlag\n                  org.apache.hadoop.hdfs.TestClose\n                  org.apache.hadoop.hdfs.TestShortCircuitLocalRead\n                  org.apache.hadoop.hdfs.web.TestFSMainOperationsWebHdfs\n                  org.apache.hadoop.hdfs.server.namenode.TestStorageRestore\n                  org.apache.hadoop.hdfs.TestFSInputChecker\n                  org.apache.hadoop.hdfs.server.namenode.TestBackupNode\n                  org.apache.hadoop.hdfs.TestDataTransferProtocol\n                  org.apache.hadoop.hdfs.server.namenode.TestHDFSConcat\n                  org.apache.hadoop.hdfs.server.namenode.TestNamenodeCapacityReport\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting\n                  org.apache.hadoop.hdfs.server.namenode.TestFSNamesystemMBean\n                  org.apache.hadoop.hdfs.TestDFSClientFailover\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyIsHot\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters\n                  org.apache.hadoop.tools.TestJMXGet\n                  org.apache.hadoop.hdfs.TestDFSShell\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImage\n                  org.apache.hadoop.hdfs.security.TestDelegationToken\n                  org.apache.hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication\n                  org.apache.hadoop.fs.permission.TestStickyBit\n                  org.apache.hadoop.hdfs.TestFileConcurrentReader\n                  org.apache.hadoop.hdfs.server.datanode.TestCachingStrategy\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork\n                  org.apache.hadoop.hdfs.server.namenode.TestListCorruptFileBlocks\n                  org.apache.hadoop.fs.TestFcHdfsCreateMkdir\n                  org.apache.hadoop.hdfs.TestCrcCorruption\n                  org.apache.hadoop.hdfs.TestAppendDifferentChecksum\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration\n                  org.apache.hadoop.fs.viewfs.TestViewFileSystemHdfs\n                  org.apache.hadoop.hdfs.server.namenode.TestParallelImageWrite\n                  org.apache.hadoop.hdfs.security.TestDelegationTokenForProxyUser\n                  org.apache.hadoop.hdfs.server.namenode.TestSequentialBlockId\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap\n                  org.apache.hadoop.hdfs.TestDFSPermission\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot\n                  org.apache.hadoop.hdfs.TestDFSUpgradeFromImage\n                  org.apache.hadoop.hdfs.TestListFilesInFileContext\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeResourceChecker\n                  org.apache.hadoop.fs.viewfs.TestViewFsDefaultValue\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeMetrics\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitReadNoChecksum\n                  org.apache.hadoop.hdfs.TestDatanodeReport\n                  org.apache.hadoop.hdfs.TestDFSRemove\n                  org.apache.hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage\n                  org.apache.hadoop.hdfs.server.datanode.TestBlockHasMultipleReplicasOnSameDN\n                  org.apache.hadoop.hdfs.TestRestartDFS\n                  org.apache.hadoop.hdfs.TestFSOutputSummer\n                  org.apache.hadoop.hdfs.TestDatanodeRegistration\n                  org.apache.hadoop.hdfs.server.namenode.TestProcessCorruptBlocks\n                  org.apache.hadoop.hdfs.TestHDFSTrash\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImageWithAcl\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandby\n                  org.apache.hadoop.hdfs.TestDFSRollback\n                  org.apache.hadoop.hdfs.server.namenode.TestFSDirectory\n                  org.apache.hadoop.hdfs.TestDFSStorageStateRecovery\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks\n                  org.apache.hadoop.hdfs.TestClientReportBadBlock\n                  org.apache.hadoop.hdfs.server.namenode.TestAuditLogger\n                  org.apache.hadoop.hdfs.TestDecommission\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeExit\n                  org.apache.hadoop.hdfs.TestBalancerBandwidth\n                  org.apache.hadoop.hdfs.TestSmallBlock\n                  org.apache.hadoop.hdfs.server.datanode.TestHSync\n                  org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestPendingReplication\n                  org.apache.hadoop.fs.TestEnhancedByteBufferAccess\n                  org.apache.hadoop.hdfs.TestSnapshotCommands\n                  org.apache.hadoop.hdfs.server.datanode.TestBlockReplacement\n                  org.apache.hadoop.hdfs.TestFileAppend2\n                  org.apache.hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality\n                  org.apache.hadoop.hdfs.server.namenode.TestDecommissioningStatus\n                  org.apache.hadoop.hdfs.TestListPathServlet\n                  org.apache.hadoop.hdfs.server.namenode.TestStreamFile\n                  org.apache.hadoop.hdfs.TestBlockReaderLocalLegacy\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestQuotasWithHA\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeMXBean\n                  org.apache.hadoop.hdfs.TestFileCreationDelete\n                  org.apache.hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd\n                  org.apache.hadoop.hdfs.server.namenode.TestFSEditLogLoader\n                  org.apache.hadoop.hdfs.server.namenode.TestAuditLogs\n                  org.apache.hadoop.hdfs.web.TestWebHdfsWithMultipleNameNodes\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling\n                  org.apache.hadoop.hdfs.TestFileAppend\n                  org.apache.hadoop.hdfs.TestMissingBlocksAlert\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing\n                  org.apache.hadoop.hdfs.TestSeekBug\n                  org.apache.hadoop.hdfs.TestBlockReaderFactory\n                  org.apache.hadoop.hdfs.server.datanode.TestMultipleNNDataBlockScanner\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots\n                  org.apache.hadoop.hdfs.TestAbandonBlock\n                  org.apache.hadoop.hdfs.server.datanode.TestDiskError\n                  org.apache.hadoop.hdfs.TestRenameWhileOpen\n                  org.apache.hadoop.hdfs.web.TestWebHDFSForHA\n                  org.apache.hadoop.hdfs.server.datanode.TestIncrementalBrVariations\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics\n                  org.apache.hadoop.hdfs.TestBlockReaderLocal\n                  org.apache.hadoop.hdfs.server.namenode.TestClusterJspHelper\n                  org.apache.hadoop.cli.TestHDFSCLI\n                  org.apache.hadoop.hdfs.server.datanode.TestDirectoryScanner\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeAcl\n                  org.apache.hadoop.hdfs.TestGetBlocks\n                  org.apache.hadoop.hdfs.TestRollingUpgradeDowngrade\n                  org.apache.hadoop.hdfs.server.datanode.TestStorageReport\n                  org.apache.hadoop.hdfs.TestDFSOutputStream\n                  org.apache.hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks\n                  org.apache.hadoop.fs.loadGenerator.TestLoadGenerator\n                  org.apache.hadoop.hdfs.server.namenode.TestSaveNamespace\n                  org.apache.hadoop.hdfs.TestClientProtocolForPipelineRecovery\n                  org.apache.hadoop.fs.viewfs.TestViewFsHdfs\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitReadUnCached\n                  org.apache.hadoop.hdfs.server.namenode.TestCheckpoint\n                  org.apache.hadoop.hdfs.TestBlockMissingException\n                  org.apache.hadoop.hdfs.TestQuota\n                  org.apache.hadoop.fs.TestSymlinkHdfsDisable\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication\n                  org.apache.hadoop.fs.TestUrlStreamHandler\n                  org.apache.hadoop.hdfs.TestFileCreation\n                  org.apache.hadoop.hdfs.server.namenode.TestDeadDatanode\n                  org.apache.hadoop.fs.TestHDFSFileContextMainOperations\n                  org.apache.hadoop.hdfs.TestSetrepDecreasing\n                  org.apache.hadoop.hdfs.TestFileCreationEmpty\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot\n                  org.apache.hadoop.hdfs.TestDatanodeDeath\n                  org.apache.hadoop.hdfs.TestParallelRead\n                  org.apache.hadoop.cli.TestAclCLI\n                  org.apache.hadoop.hdfs.TestFileStatus\n                  org.apache.hadoop.hdfs.TestRollingUpgrade\n                  org.apache.hadoop.hdfs.TestFileAppend3\n                  org.apache.hadoop.hdfs.TestHFlush\n                  org.apache.hadoop.hdfs.TestIsMethodSupported\n                  org.apache.hadoop.hdfs.TestListFilesInDFS\n                  org.apache.hadoop.hdfs.TestPipelines\n                  org.apache.hadoop.hdfs.TestRollingUpgradeRollback\n                  org.apache.hadoop.security.TestRefreshUserMappings\n                  org.apache.hadoop.security.TestPermissionSymlinks\n                  org.apache.hadoop.hdfs.server.datanode.TestDatanodeJsp\n                  org.apache.hadoop.hdfs.server.datanode.TestTransferRbw\n                  org.apache.hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAStateTransitions\n                  org.apache.hadoop.fs.TestGlobPaths\n                  org.apache.hadoop.hdfs.server.namenode.TestBlockUnderConstruction\n                  org.apache.hadoop.hdfs.server.namenode.TestMetaSave\n                  org.apache.hadoop.hdfs.TestDFSStartupVersions\n                  org.apache.hadoop.hdfs.TestFileCreationClient\n                  org.apache.hadoop.hdfs.server.datanode.TestRefreshNamenodes\n                  org.apache.hadoop.hdfs.server.namenode.TestSecurityTokenEditLog\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks\n                  org.apache.hadoop.hdfs.TestLeaseRecovery\n                  org.apache.hadoop.hdfs.TestLocalDFS\n                  org.apache.hadoop.security.TestPermission\n                  org.apache.hadoop.hdfs.server.namenode.TestCorruptFilesJsp\n                  org.apache.hadoop.hdfs.web.TestHttpsFileSystem\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot\n                  org.apache.hadoop.hdfs.server.namenode.TestLargeDirectoryDelete\n                  org.apache.hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens\n                  org.apache.hadoop.hdfs.TestDFSRename\n                  org.apache.hadoop.hdfs.TestDFSAddressConfig\n                  org.apache.hadoop.hdfs.TestFetchImage\n                  org.apache.hadoop.hdfs.server.namenode.TestAddBlock\n                  org.apache.hadoop.hdfs.server.namenode.TestNameEditsConfigs\n                  org.apache.hadoop.hdfs.server.namenode.TestEditLogRace\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAMetrics\n                  org.apache.hadoop.hdfs.TestDFSClientExcludedNodes\n                  org.apache.hadoop.hdfs.TestSetrepIncreasing\n                  org.apache.hadoop.hdfs.TestLeaseRecovery2\n                  org.apache.hadoop.net.TestNetworkTopology\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeRpcServer\n                  org.apache.hadoop.hdfs.TestWriteRead\n                  org.apache.hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer\n                  org.apache.hadoop.hdfs.TestMiniDFSCluster\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing\n                  org.apache.hadoop.hdfs.TestFileCorruption\n                  org.apache.hadoop.hdfs.TestHDFSFileSystemContract\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitRead\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImageWithSnapshot\n                  org.apache.hadoop.hdfs.TestReadWhileWriting\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestNodeCount\n                  org.apache.hadoop.hdfs.TestDFSFinalize\n                  org.apache.hadoop.hdfs.TestMultiThreadedHflush\n                  org.apache.hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics\n                  org.apache.hadoop.hdfs.server.namenode.TestCreateEditsLog\n                  org.apache.hadoop.hdfs.server.namenode.TestNamenodeRetryCache\n                  org.apache.hadoop.hdfs.TestDFSUpgrade\n                  org.apache.hadoop.hdfs.TestDFSMkdirs\n                  org.apache.hadoop.hdfs.TestDatanodeConfig\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion\n                  org.apache.hadoop.hdfs.server.namenode.TestStartup\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeMXBean\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHASafeMode\n                  org.apache.hadoop.hdfs.TestEncryptedTransfer\n                  org.apache.hadoop.hdfs.TestReplication\n                  org.apache.hadoop.hdfs.TestConnCache\n                  org.apache.hadoop.hdfs.server.namenode.TestHostsFiles\n                  org.apache.hadoop.hdfs.web.TestWebHdfsFileSystemContract\n                  org.apache.hadoop.hdfs.server.datanode.TestIncrementalBlockReports\n                  org.apache.hadoop.hdfs.TestRead\n                  org.apache.hadoop.fs.TestResolveHdfsSymlink\n                  org.apache.hadoop.hdfs.TestDFSShellGenericOptions\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicy\n                  org.apache.hadoop.hdfs.web.TestWebHdfsWithAuthenticationFilter\n                  org.apache.hadoop.hdfs.TestSafeMode\n                  org.apache.hadoop.hdfs.web.TestWebHDFS\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitLegacyRead\n                  org.apache.hadoop.hdfs.TestShortCircuitCache\n                  org.apache.hadoop.hdfs.TestDFSClientRetries\n                  org.apache.hadoop.hdfs.TestDisableConnCache\n                  org.apache.hadoop.fs.TestFcHdfsSetUMask\n                  org.apache.hadoop.hdfs.web.TestHftpFileSystem\n                  org.apache.hadoop.hdfs.server.namenode.TestAddBlockRetry\n                  org.apache.hadoop.fs.TestSymlinkHdfsFileSystem\n                  org.apache.hadoop.fs.TestSymlinkHdfsFileContext\n                  org.apache.hadoop.hdfs.server.namenode.TestFileContextAcl\n                  org.apache.hadoop.hdfs.TestFileAppend4\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAAppend\n                  org.apache.hadoop.fs.viewfs.TestViewFsAtHdfsRoot\n                  org.apache.hadoop.hdfs.TestModTime\n                  org.apache.hadoop.hdfs.TestLease\n                  org.apache.hadoop.hdfs.TestDataTransferKeepalive\n                  org.apache.hadoop.hdfs.TestLargeBlock\n                  org.apache.hadoop.hdfs.server.datanode.TestFsDatasetCache\n                  org.apache.hadoop.hdfs.server.namenode.metrics.TestNNMetricFilesInGetListingOps\n                  org.apache.hadoop.hdfs.TestClientBlockVerification\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshot\n                  org.apache.hadoop.hdfs.TestReplaceDatanodeOnFailure\n                  org.apache.hadoop.hdfs.server.namenode.TestSnapshotPathINodes\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM\n                  org.apache.hadoop.hdfs.TestSetTimes\n                  org.apache.hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot\n                  org.apache.hadoop.fs.viewfs.TestViewFsFileStatusHdfs\n                  org.apache.hadoop.hdfs.TestDatanodeBlockScanner\n                  org.apache.hadoop.hdfs.web.TestWebHDFSAcl\n                  org.apache.hadoop.hdfs.TestPersistBlocks\n                  org.apache.hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA\n                  org.apache.hadoop.hdfs.server.namenode.TestINodeFile\n                  org.apache.hadoop.hdfs.server.namenode.TestFileLimit\n                  org.apache.hadoop.fs.TestFcHdfsPermission\n                  org.apache.hadoop.hdfs.TestParallelUnixDomainRead\n                  org.apache.hadoop.hdfs.TestFileLengthOnClusterRestart\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestPipelinesFailover\n                  org.apache.hadoop.hdfs.server.namenode.TestFsck\n                  org.apache.hadoop.cli.TestCacheAdminCLI\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure\n                  org.apache.hadoop.hdfs.server.namenode.TestAllowFormat\n                  org.apache.hadoop.hdfs.security.token.block.TestBlockToken\n                  org.apache.hadoop.hdfs.TestDistributedFileSystem\n                  org.apache.hadoop.hdfs.TestPread\n                  org.apache.hadoop.hdfs.TestBlocksScheduledCounter\n                  org.apache.hadoop.hdfs.TestFileAppendRestart\n                  org.apache.hadoop.hdfs.server.namenode.TestLeaseManager\n                  org.apache.hadoop.hdfs.TestWriteConfigurationToDFS\n                  org.apache.hadoop.hdfs.server.datanode.TestDeleteBlockPool\n\n                                      The following test timeouts occurred in hadoop-hdfs-project/hadoop-hdfs:\n\norg.apache.hadoop.hdfs.server.datanode.TestBlockRecovery\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/6468//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/6468//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-24T03:09:06.244+0000","updated":"2014-03-24T03:09:06.244+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13944735","id":"13944735","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"body":"Another option is to completely ignore the future layouversion check in Journal Node. Since now JN no longer decode the edits (but using the length field to scan through), JN has some capability to handle the edits with future layoutVersion. \n\nHowever, this capability is limited, e.g., in the future if something more significant (e.g., the edits segment-based maintenance mechanism) gets updated, old software will not be able to process edits generated by new software. But maybe a better solution is to split the NameNode layouversion into NameNode layoutversion and JournalNode layoutversion, just like what we did for NN and DN.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T04:27:16.404+0000","updated":"2014-03-24T04:27:16.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13945614","id":"13945614","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12636293/HDFS-6135.002.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/6476//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/6476//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-24T19:53:43.447+0000","updated":"2014-03-24T19:53:43.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13945648","id":"13945648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 patch looks good.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T20:27:58.993+0000","updated":"2014-03-24T20:27:58.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13945723","id":"13945723","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the review, Nicholas! I've committed this to trunk, branch-2, and branch-2.4.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T21:30:29.358+0000","updated":"2014-03-24T21:30:29.358+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13945749","id":"13945749","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-trunk-Commit #5392 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/5392/])\nHDFS-6135. In HDFS upgrade with HA setup, JournalNode cannot handle layout version bump when rolling back. Contributed by Jing Zhao. (jing9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1581070)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/JNStorage.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/StorageInfo.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-24T21:50:08.664+0000","updated":"2014-03-24T21:50:08.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13946410","id":"13946410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #520 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/520/])\nHDFS-6135. In HDFS upgrade with HA setup, JournalNode cannot handle layout version bump when rolling back. Contributed by Jing Zhao. (jing9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1581070)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/JNStorage.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/StorageInfo.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-25T11:36:59.306+0000","updated":"2014-03-25T11:36:59.306+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13946542","id":"13946542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #1737 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1737/])\nHDFS-6135. In HDFS upgrade with HA setup, JournalNode cannot handle layout version bump when rolling back. Contributed by Jing Zhao. (jing9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1581070)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/JNStorage.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/StorageInfo.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-25T13:52:18.415+0000","updated":"2014-03-25T13:52:18.415+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12702812/comment/13946570","id":"13946570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #1712 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1712/])\nHDFS-6135. In HDFS upgrade with HA setup, JournalNode cannot handle layout version bump when rolling back. Contributed by Jing Zhao. (jing9: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1581070)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/JNStorage.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/StorageInfo.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-25T14:03:56.122+0000","updated":"2014-03-25T14:03:56.122+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6135/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1to3j:"}}