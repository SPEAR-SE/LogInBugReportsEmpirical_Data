{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12625409","self":"https://issues.apache.org/jira/rest/api/2/issue/12625409","key":"HDFS-4505","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2013-02-12T18:12:44.063+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 21 06:13:35 UTC 2015","customfield_12310420":"301951","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4188008408_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_76583231072","customfield_12312321":null,"resolutiondate":"2015-07-21T06:13:35.041+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4505/watchers","watchCount":10,"isWatching":false},"created":"2012-12-28T09:46:15.635+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["balancer","hdfs"],"customfield_12312333":null,"customfield_12310230":"Nameservice Balancer hadoop-2.0.2 configuration","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":86400,"aggregatetimeoriginalestimate":86400,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12322472","id":"12322472","description":"2.0.2-alpha release","name":"2.0.2-alpha","archived":false,"released":true,"releaseDate":"2012-10-09"}],"issuelinks":[{"id":"12364313","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12364313","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12632016","key":"HDFS-4492","self":"https://issues.apache.org/jira/rest/api/2/issue/12632016","fields":{"summary":"NameNodeConnector should prevent other balancers to run while the one is running","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-07-21T06:13:35.113+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313153","id":"12313153","name":"balancer & mover"}],"timeoriginalestimate":86400,"description":"This set of properties ...\n\n<property><name>dfs.namenode.https-address.NameNode1</name><value>192.168.0.10:50470</value></property>\n<property><name>dfs.namenode.http-address.NameNode1</name><value>192.168.0.10:50070</value></property>\n<property><name>dfs.namenode.rpc-address.NameNode1</name><value>192.168.0.10:9000</value></property>\n<property><name>dfs.nameservice.id</name><value>NameNode1</value></property>\n<property><name>dfs.nameservices</name><value>NameNode1</value></property>\n\ngives following issue while running balancer ...\n\n2012-12-27 15:42:36,193 INFO org.apache.hadoop.hdfs.server.balancer.Balancer: namenodes = [hdfs://queryio10.local:9000, hdfs://192.168.0.10:9000]\n2012-12-27 15:42:36,194 INFO org.apache.hadoop.hdfs.server.balancer.Balancer: p         = Balancer.Parameters[BalancingPolicy.Node, threshold=10.0]\n2012-12-27 15:42:37,433 INFO org.apache.hadoop.net.NetworkTopology: Adding a new node: /default-rack/192.168.0.10:50010\n2012-12-27 15:42:37,433 INFO org.apache.hadoop.hdfs.server.balancer.Balancer: 0 over-utilized: []\n2012-12-27 15:42:37,433 INFO org.apache.hadoop.hdfs.server.balancer.Balancer: 0 underutilized: []\n2012-12-27 15:42:37,436 INFO org.apache.hadoop.net.NetworkTopology: Adding a new node: /default-rack/192.168.0.10:50010\n2012-12-27 15:42:37,436 INFO org.apache.hadoop.hdfs.server.balancer.Balancer: 0 over-utilized: []\n2012-12-27 15:42:37,436 INFO org.apache.hadoop.hdfs.server.balancer.Balancer: 0 underutilized: []\n2012-12-27 15:42:37,570 WARN org.apache.hadoop.hdfs.DFSClient: DataStreamer Exception\norg.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException): No lease on /system/balancer.id File does not exist. Holder DFSClient_NONMAPREDUCE_1926739478_1 does not have any open files.\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:2315)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:2306)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:2102)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.addBlock(NameNodeRpcServer.java:469)\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.addBlock(ClientNamenodeProtocolServerSideTranslatorPB.java:294)\n\tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java:43138)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:454)\n\tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:910)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1694)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1690)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1367)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:1688)\n\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1164)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:202)\n\tat $Proxy10.addBlock(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:164)\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:83)\n\tat $Proxy10.addBlock(Unknown Source)\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.addBlock(ClientNamenodeProtocolTranslatorPB.java:285)\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.locateFollowingBlock(DFSOutputStream.java:1150)\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.nextBlockOutputStream(DFSOutputStream.java:1003)\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:463)\n2012-12-27 15:42:37,579 ERROR org.apache.hadoop.hdfs.DFSClient: Failed to close file /system/balancer.id\norg.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException): No lease on /system/balancer.id File does not exist. Holder DFSClient_NONMAPREDUCE_1926739478_1 does not have any open files.\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:2315)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:2306)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:2102)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.addBlock(NameNodeRpcServer.java:469)\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.addBlock(ClientNamenodeProtocolServerSideTranslatorPB.java:294)\n\tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java:43138)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:454)\n\tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:910)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1694)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1690)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1367)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:1688)\n\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1164)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:202)\n\tat $Proxy10.addBlock(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:164)\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:83)\n\tat $Proxy10.addBlock(Unknown Source)\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.addBlock(ClientNamenodeProtocolTranslatorPB.java:285)\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.locateFollowingBlock(DFSOutputStream.java:1150)\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.nextBlockOutputStream(DFSOutputStream.java:1003)\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:463)\n","customfield_10010":null,"timetracking":{"originalEstimate":"24h","remainingEstimate":"24h","originalEstimateSeconds":86400,"remainingEstimateSeconds":86400},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324031","id":"12324031","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12569389","id":"12569389","filename":"HADOOP-9172.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-14T21:06:04.967+0000","size":8071,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12569389/HADOOP-9172.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12691753","id":"12691753","filename":"HDFS-4505.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schu","name":"schu","key":"schu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Chu","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-12T21:53:52.587+0000","size":8254,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12691753/HDFS-4505.002.patch"}],"aggregatetimeestimate":86400,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"248579","customfield_12312823":null,"summary":"Balancer failure with nameservice configuration.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=queryio","name":"queryio","key":"queryio","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"QueryIO","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=queryio","name":"queryio","key":"queryio","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"QueryIO","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":86400,"percent":0},"customfield_12311024":null,"environment":"OS: Mac OS X Server 10.6.8/ Linux 2.6.32 x86_64","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":86400,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/13576841","id":"13576841","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"body":"what is the ip address for queryio10.local?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-12T18:12:44.063+0000","updated":"2013-02-12T18:12:44.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/13577051","id":"13577051","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"body":"I think the problem is hdfs://queryio10.local:9000 and hdfs://192.168.0.10:9000 are actually mapped to the same machine. Therefore, the exception is because of two balancers run at the same time on one namenode.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-12T21:49:32.876+0000","updated":"2013-02-12T21:49:32.876+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/13578678","id":"13578678","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"body":"I had the same problem with balancer on my dev cluster and this is the solution to fix it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-14T21:06:04.971+0000","updated":"2013-02-14T21:06:04.971+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/13578770","id":"13578770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12569389/HADOOP-9172.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2194//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2194//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-14T22:45:18.599+0000","updated":"2013-02-14T22:45:18.599+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/13579580","id":"13579580","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12569389/HADOOP-9172.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/3973//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/3973//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-15T23:06:39.718+0000","updated":"2013-02-15T23:06:39.718+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/13581513","id":"13581513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"body":"Can someone please review this? Thanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stayhf","name":"stayhf","key":"stayhf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stayhf&avatarId=16526","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stayhf&avatarId=16526","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stayhf&avatarId=16526","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stayhf&avatarId=16526"},"displayName":"Chu Tong","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-19T18:46:05.433+0000","updated":"2013-02-19T18:46:05.433+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14274232","id":"14274232","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schu","name":"schu","key":"schu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Chu","active":true,"timeZone":"Etc/UTC"},"body":"[~stayhf], your patch looks good.\n\nI believe this problem still exists. It's been a while, so I've rebased your patch on trunk and attached.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schu","name":"schu","key":"schu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Chu","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-12T21:53:52.595+0000","updated":"2015-01-12T21:53:52.595+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14274566","id":"14274566","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12691753/HDFS-4505.002.patch\n  against trunk revision 6bbf9fd.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/9191//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/9191//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-13T01:32:46.923+0000","updated":"2015-01-13T01:32:46.923+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14274569","id":"14274569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schu","name":"schu","key":"schu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Chu","active":true,"timeZone":"Etc/UTC"},"body":"Hadoop QA ran successfully. The -1 is from a bug (HADOOP-11474).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schu","name":"schu","key":"schu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Chu","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-13T01:34:26.581+0000","updated":"2015-01-13T01:34:26.581+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14506227","id":"14506227","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raviprak","name":"raviprak","key":"raviprak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raviprak&avatarId=10113","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raviprak&avatarId=10113","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raviprak&avatarId=10113","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raviprak&avatarId=10113"},"displayName":"Ravi Prakash","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the rebase Stephen!\nI added the following to hdfs-site.xml on my pseudo-distributed single node cluster (my fs.defaultFS is set to hdfs://localhost:9001 the only thing different is port 9001)\n{code}\n<property><name>dfs.namenode.https-address.NameNode1</name><value>localhost:50470</value></property>\n<property><name>dfs.namenode.http-address.NameNode1</name><value>localhost:50070</value></property>\n<property><name>dfs.namenode.rpc-address.NameNode1</name><value>localhost:9001</value></property>\n<property><name>dfs.nameservice.id</name><value>NameNode1</value></property>\n<property><name>dfs.nameservices</name><value>NameNode1</value></property>\n{code}\nI started the balancer with {{hdfs balancer}} and I did not see the exception. Could you please confirm that with the latest trunk you don't see the exception either? Or how best to reproduce this issue?\nI checked out a version of trunk on Jan 9 and built it, but wasn't able to reproduce the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raviprak","name":"raviprak","key":"raviprak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raviprak&avatarId=10113","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raviprak&avatarId=10113","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raviprak&avatarId=10113","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raviprak&avatarId=10113"},"displayName":"Ravi Prakash","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-22T01:42:17.500+0000","updated":"2015-04-22T01:42:17.500+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14506445","id":"14506445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  14m 50s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | javac |   7m 33s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 44s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |\n| {color:red}-1{color} | checkstyle |   5m 25s | The applied patch generated  3  additional checkstyle issues. |\n| {color:green}+1{color} | install |   1m 32s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 32s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   3m  6s | The patch does not introduce any new Findbugs (version 2.0.3) warnings. |\n| {color:green}+1{color} | native |   3m 19s | Pre-build of native portion |\n| {color:red}-1{color} | hdfs tests | 165m 49s | Tests failed in hadoop-hdfs. |\n| | | 212m 15s | |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed unit tests | hadoop.hdfs.server.namenode.TestFileTruncate |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12691753/HDFS-4505.002.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / e71d0d8 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HDFS-Build/10339/artifact/patchprocess/checkstyle-result-diff.txt |\n| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/10339/artifact/patchprocess/testrun_hadoop-hdfs.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/10339/testReport/ |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/10339//console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-04-22T05:22:35.686+0000","updated":"2015-04-22T05:22:35.686+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14634569","id":"14634569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"I believe after HDFS-6300 is in, this problem should not occur. HDFS-6300 prevents multiple balancers running at same time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-07-21T06:11:26.343+0000","updated":"2015-07-21T06:11:26.343+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625409/comment/14634571","id":"14634571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"closing as duplicate of HDFS-6300.\n[~stayhf], If issue found not fixed by HDFS-6300, please feel free to re-open,\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-07-21T06:13:35.108+0000","updated":"2015-07-21T06:13:35.108+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4505/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i16xm7:"}}