{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13128456","self":"https://issues.apache.org/jira/rest/api/2/issue/13128456","key":"HDFS-12987","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341434","id":"12341434","description":"3.1.0 release","name":"3.1.0","archived":false,"released":true,"releaseDate":"2018-04-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-01-04T10:37:43.855+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jan 04 18:55:58 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_276081_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_30958847","customfield_12312321":null,"resolutiondate":"2018-01-04T18:32:47.780+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12987/watchers","watchCount":4,"isWatching":false},"created":"2018-01-04T09:52:12.904+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"labels":["documentation"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kpalanisamy","name":"kpalanisamy","key":"kpalanisamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kpalanisamy&avatarId=36559","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kpalanisamy&avatarId=36559","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kpalanisamy&avatarId=36559","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kpalanisamy&avatarId=36559"},"displayName":"Karthik Palanisamy","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-01-04T18:55:58.843+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312918","id":"12312918","name":"documentation"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12329603","id":"12329603","name":"hdfs"}],"timeoriginalestimate":null,"description":"LazyPersistFileScrubber will be disabled if scrubber interval configured to zero. But the document was incorrect - \"Set it to a negative value to disable this behavior\". \r\n\r\nNamenode will not start if we set to negative value. We have another strong check to prevent it.\r\n\r\n{code:java}\r\n   if (this.lazyPersistFileScrubIntervalSec < 0) {\r\n        throw new IllegalArgumentException(\r\n            DFS_NAMENODE_LAZY_PERSIST_FILE_SCRUB_INTERVAL_SEC\r\n                + \" must be zero (for disable) or greater than zero.\");\r\n      }\r\n{code}\r\n\r\nThis seems reflected due to [HDFS-8276|https://issues.apache.org/jira/browse/HDFS-8276]","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12904558","id":"12904558","filename":"HDFS-12987.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kpalanisamy","name":"kpalanisamy","key":"kpalanisamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kpalanisamy&avatarId=36559","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kpalanisamy&avatarId=36559","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kpalanisamy&avatarId=36559","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kpalanisamy&avatarId=36559"},"displayName":"Karthik Palanisamy","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T09:54:24.939+0000","size":794,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12904558/HDFS-12987.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Document - Disabling the Lazy persist file scrubber.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kpalanisamy","name":"kpalanisamy","key":"kpalanisamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kpalanisamy&avatarId=36559","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kpalanisamy&avatarId=36559","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kpalanisamy&avatarId=36559","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kpalanisamy&avatarId=36559"},"displayName":"Karthik Palanisamy","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kpalanisamy","name":"kpalanisamy","key":"kpalanisamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kpalanisamy&avatarId=36559","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kpalanisamy&avatarId=36559","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kpalanisamy&avatarId=36559","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kpalanisamy&avatarId=36559"},"displayName":"Karthik Palanisamy","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10430","value":"Patch","id":"10430"}],"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13128456/comment/16311102","id":"16311102","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kpalanisamy","name":"kpalanisamy","key":"kpalanisamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kpalanisamy&avatarId=36559","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kpalanisamy&avatarId=36559","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kpalanisamy&avatarId=36559","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kpalanisamy&avatarId=36559"},"displayName":"Karthik Palanisamy","active":true,"timeZone":"Etc/UTC"},"body":"cc: [~surendrasingh]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kpalanisamy","name":"kpalanisamy","key":"kpalanisamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kpalanisamy&avatarId=36559","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kpalanisamy&avatarId=36559","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kpalanisamy&avatarId=36559","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kpalanisamy&avatarId=36559"},"displayName":"Karthik Palanisamy","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T10:01:41.405+0000","updated":"2018-01-04T10:01:41.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13128456/comment/16311142","id":"16311142","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=surendrasingh","name":"surendrasingh","key":"surendrasingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=surendrasingh&avatarId=30759","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=surendrasingh&avatarId=30759","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=surendrasingh&avatarId=30759","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=surendrasingh&avatarId=30759"},"displayName":"Surendra Singh Lilhore","active":true,"timeZone":"Etc/UTC"},"body":"+1, pending Jenkins.. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=surendrasingh","name":"surendrasingh","key":"surendrasingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=surendrasingh&avatarId=30759","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=surendrasingh&avatarId=30759","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=surendrasingh&avatarId=30759","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=surendrasingh&avatarId=30759"},"displayName":"Surendra Singh Lilhore","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T10:37:43.855+0000","updated":"2018-01-04T10:37:43.855+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13128456/comment/16311313","id":"16311313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 20s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 18m 10s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 55s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  4s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 30m 33s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m  3s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  1m  8s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 59s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 59s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  3s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  2s{color} | {color:green} The patch has no ill-formed XML file. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  7s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 50s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}127m 17s{color} | {color:red} hadoop-hdfs in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 26s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black}176m  1s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| Failed junit tests | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\r\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure030 |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:5b98639 |\r\n| JIRA Issue | HDFS-12987 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12904558/HDFS-12987.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  xml  |\r\n| uname | Linux bd4d8a826cb1 3.13.0-135-generic #184-Ubuntu SMP Wed Oct 18 11:55:51 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 2a48b35 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_151 |\r\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/22551/artifact/out/patch-unit-hadoop-hdfs-project_hadoop-hdfs.txt |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/22551/testReport/ |\r\n| Max. process+thread count | 2792 (vs. ulimit of 5000) |\r\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\r\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/22551/console |\r\n| Powered by | Apache Yetus 0.7.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T13:06:51.027+0000","updated":"2018-01-04T13:06:51.027+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13128456/comment/16311822","id":"16311822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"body":"+1. I've committed this. Thanks Karthik and Surendra.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-01-04T18:32:47.817+0000","updated":"2018-01-04T18:32:47.817+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13128456/comment/16311850","id":"16311850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #13450 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/13450/])\nHDFS-12987. Document - Disabling the Lazy persist file scrubber.. (arp: rev 739d3c394d772783fe23b386274d58954c9a0236)\n* (edit) hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T18:55:58.843+0000","updated":"2018-01-04T18:55:58.843+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-12987/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3oi3r:"}}