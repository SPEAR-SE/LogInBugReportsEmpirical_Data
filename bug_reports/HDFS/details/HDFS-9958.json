{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12950016","self":"https://issues.apache.org/jira/rest/api/2/issue/12950016","key":"HDFS-9958","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329057","id":"12329057","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12333995","id":"12333995","description":"2.7.3 release","name":"2.7.3","archived":false,"released":true,"releaseDate":"2016-08-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-03-16T23:20:06.134+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Aug 25 23:00:04 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_173502665_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_3724142474","customfield_12312321":null,"resolutiondate":"2016-04-28T21:51:47.950+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-9958/watchers","watchCount":19,"isWatching":false},"created":"2016-03-14T19:11:02.863+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332790","id":"12332790","description":"2.7.2 release","name":"2.7.2","archived":false,"released":true,"releaseDate":"2016-01-25"}],"issuelinks":[{"id":"12478535","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12478535","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12999360","key":"HDFS-10788","self":"https://issues.apache.org/jira/rest/api/2/issue/12999360","fields":{"summary":"fsck NullPointerException when it encounters corrupt replicas","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12464139","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12464139","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12960225","key":"HDFS-10316","self":"https://issues.apache.org/jira/rest/api/2/issue/12960225","fields":{"summary":"revisit corrupt replicas count","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12465165","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12465165","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12963567","key":"HDFS-10342","self":"https://issues.apache.org/jira/rest/api/2/issue/12963567","fields":{"summary":"BlockManager#createLocatedBlocks should not check corrupt replicas if none are corrupt","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-01-06T01:02:26.904+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"In a scenario where the corrupt replica is on a failed storage, before it is taken out of blocksMap, there is a race which causes the creation of LocatedBlock on a {{machines}} array element that is not populated. \n\nFollowing is the root cause,\n{code}\nfinal int numCorruptNodes = countNodes(blk).corruptReplicas();\n{code}\ncountNodes only looks at nodes with storage state as NORMAL, which in the case where corrupt replica is on failed storage will amount to numCorruptNodes being zero. \n{code}\nfinal int numNodes = blocksMap.numNodes(blk);\n{code}\nHowever, numNodes will count all nodes/storages irrespective of the state of the storage. Therefore numMachines will include such (failed) nodes. The assert would fail only if the system is enabled to catch Assertion errors, otherwise it goes ahead and tries to create LocatedBlock object for that is not put in the {{machines}} array.\n\nHere is the stack trace:\n{code}\njava.lang.NullPointerException\n\tat org.apache.hadoop.hdfs.server.blockmanagement.DatanodeStorageInfo.toDatanodeInfos(DatanodeStorageInfo.java:45)\n\tat org.apache.hadoop.hdfs.server.blockmanagement.DatanodeStorageInfo.toDatanodeInfos(DatanodeStorageInfo.java:40)\n\tat org.apache.hadoop.hdfs.protocol.LocatedBlock.<init>(LocatedBlock.java:84)\n\tat org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.createLocatedBlock(BlockManager.java:878)\n\tat org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.createLocatedBlock(BlockManager.java:826)\n\tat org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.createLocatedBlockList(BlockManager.java:799)\n\tat org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.createLocatedBlocks(BlockManager.java:899)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocationsInt(FSNamesystem.java:1849)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1799)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1712)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:588)\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:365)\n\tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:616)\n\tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:982)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:2049)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:2045)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:415)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2043)\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12333995","id":"12333995","description":"2.7.3 release","name":"2.7.3","archived":false,"released":true,"releaseDate":"2016-08-25"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12793766","id":"12793766","filename":"HDFS-9958.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-16T15:49:15.295+0000","size":6038,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12793766/HDFS-9958.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12799304","id":"12799304","filename":"HDFS-9958.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-18T18:02:11.554+0000","size":6977,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12799304/HDFS-9958.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12799971","id":"12799971","filename":"HDFS-9958.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-21T14:22:23.448+0000","size":7821,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12799971/HDFS-9958.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12800242","id":"12800242","filename":"HDFS-9958.004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-22T16:27:16.970+0000","size":9955,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12800242/HDFS-9958.004.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12800521","id":"12800521","filename":"HDFS-9958.005.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-25T14:03:10.673+0000","size":6785,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12800521/HDFS-9958.005.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12801297","id":"12801297","filename":"HDFS-9958-branch-2.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-28T19:19:12.852+0000","size":6642,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12801297/HDFS-9958-branch-2.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12801298","id":"12801298","filename":"HDFS-9958-branch-2.7.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-28T19:19:12.856+0000","size":6823,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12801298/HDFS-9958-branch-2.7.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12793377","id":"12793377","filename":"HDFS-9958-Test-v1.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-14T19:14:26.353+0000","size":4289,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12793377/HDFS-9958-Test-v1.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"BlockManager#createLocatedBlocks can throw NPE for corruptBlocks on failed storages.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15193939","id":"15193939","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Attaching a sample test that recreates the issue. Please note the test is as of now not robust to false positives.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-14T19:14:26.359+0000","updated":"2016-03-14T19:14:26.359+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15193948","id":"15193948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"The patch applies to branch-2.7 only.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-14T19:16:53.201+0000","updated":"2016-03-14T19:16:53.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15197544","id":"15197544","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Attaching v1 of the patch which as per a simpler approach, truncates the {{machines}} array o\\if there is a difference in the actual and expected length. The test case is a carry forward from the prototype and still susceptible to false positives(WIP). Requesting [~kihwal], [~cnauroth], [~arpitagarwal] for comments, suggestions on this approach.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-16T15:49:15.300+0000","updated":"2016-03-16T15:49:15.300+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15198392","id":"15198392","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 12s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 51s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 46s {color} | {color:green} trunk passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 40s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 20s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 50s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 11s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 54s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 12s {color} | {color:green} trunk passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 50s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 44s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 45s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 45s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 39s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 39s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 19s {color} | {color:red} hadoop-hdfs-project/hadoop-hdfs: patch generated 4 new + 139 unchanged - 0 fixed = 143 total (was 139) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 48s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 10s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 9s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 10s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 43s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 77m 19s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.8.0_74. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 73m 45s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_95. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red} 0m 44s {color} | {color:red} Patch generated 3 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 177m 33s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_74 Failed junit tests | hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\n|   | hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | hadoop.hdfs.server.namenode.TestEditLog |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.TestDFSUpgradeFromImage |\n| JDK v1.8.0_74 Timed out junit tests | org.apache.hadoop.hdfs.TestLeaseRecovery2 |\n|   | org.apache.hadoop.hdfs.TestReplication |\n|   | org.apache.hadoop.hdfs.TestDecommission |\n|   | org.apache.hadoop.hdfs.TestDFSStripedOutputStream |\n|   | org.apache.hadoop.hdfs.TestDFSStripedOutputStreamWithFailure080 |\n| JDK v1.7.0_95 Failed junit tests | hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | hadoop.hdfs.server.namenode.TestEditLog |\n|   | hadoop.hdfs.qjournal.TestSecureNNWithQJM |\n| JDK v1.7.0_95 Timed out junit tests | org.apache.hadoop.hdfs.TestEncryptionZonesWithHA |\n|   | org.apache.hadoop.hdfs.TestDFSStorageStateRecovery |\n|   | org.apache.hadoop.hdfs.TestRenameWhileOpen |\n|   | org.apache.hadoop.hdfs.TestErasureCodeBenchmarkThroughput |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:0ca8df7 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12793766/HDFS-9958.001.patch |\n| JIRA Issue | HDFS-9958 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 55569ae07057 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 605fdcb |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_74 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HDFS-Build/14839/artifact/patchprocess/diff-checkstyle-hadoop-hdfs-project_hadoop-hdfs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/14839/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_74.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/14839/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HDFS-Build/14839/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_74.txt https://builds.apache.org/job/PreCommit-HDFS-Build/14839/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/14839/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-HDFS-Build/14839/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/14839/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-16T23:20:06.134+0000","updated":"2016-03-16T23:20:06.134+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15201926","id":"15201926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Adding [~walter.k.su] for comments on the initial proposal patch, along with others.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-18T18:27:12.501+0000","updated":"2016-03-18T18:27:12.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15203665","id":"15203665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"body":"The failed storage will be pruned after another {{HeartbeatManager#heartbeatCheck()}} and {{DatanodeDescriptor#updateHeartbeatState(..)}}. Before that, in this case you should also see the warning:\n{code}\n    if (numCorruptNodes != numCorruptReplicas) {\n      LOG.warn(\"Inconsistent number of corrupt replicas for \"\n          + blk + \" blockMap has \" + numCorruptNodes\n          + \" but corrupt replicas map has \" + numCorruptReplicas);\n    }\n{code}\n{{countNodes(..)}} uses {{corruptReplicas}} for inside calculation. It means {{countNodes(blk).corruptReplicas()}} <= {{corruptReplicas.numCorruptReplicas(blk)}}. There's a simpler fix:\n{code}\n-    final int numMachines = isCorrupt ? numNodes: numNodes - numCorruptNodes;\n+    final int numMachines = isCorrupt ? numNodes: numNodes - numCorruptReplicas;\n{code}\nAnd {{isCorrupt}} also need a fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-03-21T03:12:19.316+0000","updated":"2016-03-21T03:12:19.316+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15246183","id":"15246183","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Updating patch per comments. Added test is now reliable.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-18T18:02:11.558+0000","updated":"2016-04-18T18:02:11.558+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15246466","id":"15246466","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 38s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 37s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 41s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 49s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 54s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 3s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 46s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 45s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 35s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 35s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 38s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 38s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 20s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 48s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 11s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 6s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 6s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 45s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 59m 0s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.8.0_77. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 53m 20s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 137m 12s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Failed junit tests | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.TestFileCorruption |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestFsDatasetImpl |\n| JDK v1.7.0_95 Failed junit tests | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.TestFileCorruption |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12799304/HDFS-9958.002.patch |\n| JIRA Issue | HDFS-9958 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 6e7a2dcae2f5 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / d8b729e |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15185/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15185/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HDFS-Build/15185/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt https://builds.apache.org/job/PreCommit-HDFS-Build/15185/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/15185/testReport/ |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/15185/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-18T20:26:07.295+0000","updated":"2016-04-18T20:26:07.295+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15247432","id":"15247432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~kshukla] for the update. I've noticed {{testArrayOutOfBoundsException()}} failed. It tries to simulate {{DatanodeProtocol#reportBadBlocks(..)}} from 3rd DN. But \"TEST\" is not a real storageID, so the block isn't added to blocksMap. A fix is to get the real storageID from 3rd DN. Could you re-post a patch to fix this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-04-19T09:32:48.454+0000","updated":"2016-04-19T09:32:48.454+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15247743","id":"15247743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~walter.k.su]. I looked at the test failure. I think the use of 'corruptReplicas' for numMachines may have been a wrong choice. In a case where something leads to the inconsistent state , for eg. {{findAndMarkBlockAsCorrupt}} adds the replica to the corruptsReplica Map whether or not it is present in the blocksMap, the WARN log shows up but should not cause the out of bounds exception. IMHO , we should use only blocksMap as much as possible to decide the size of the array, which would mean that we fix {{countNodes().corruptReplicas()}} to return the number after going thru all storages( irrespective of their state) that have the corruptNodes (in this case), since {{numNodes()}} is storage state agnostic.\n\nWould appreciate your comments on this and please correct me if I am missing something here. Thanks a lot!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-19T13:24:44.121+0000","updated":"2016-04-19T13:24:44.121+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15249312","id":"15249312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"body":"bq. we fix countNodes().corruptReplicas() to return the number after going thru all storages( irrespective of their state) that have the corruptNodes (in this case), since numNodes() is storage state agnostic.\nI think {{countNodes(blk)}} going thru all storages is unnecessary. Also I think {{numMachines}} should only include NORMAL and READ_ONLY. So {{createLocatedBlock(..)}} going thru all storages is unnecessary.\n{code}\n    if (numMachines > 0) {\n      for(DatanodeStorageInfo storage : blocksMap.getStorages(blk)) {\n{code}\n\nbtw, which is not related to this topic, I think {{findAndMarkBlockAsCorrupt(..)}} shouldn't support adding blk to the map if the storage is not found.\n\nping [~jingzhao] to check if he has any comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-04-20T05:51:54.351+0000","updated":"2016-04-20T05:51:54.351+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15251957","id":"15251957","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Thanks a lot for the helpful comments [~walter.k.su].\n\nbq. btw, which is not related to this topic, I think findAndMarkBlockAsCorrupt(..) shouldn't support adding blk to the map if the storage is not found.\n\nI agree, fixing that in v3 of the patch fixes the test in a way and is coherent with the blocksMap and corruptReplicaMap being in sync. It now throws an IOException if such a case is encountered.\n\nbq. I think countNodes(blk) going thru all storages is unnecessary. Also I think numMachines should only include NORMAL and READ_ONLY. So createLocatedBlock(..) going thru all storages is unnecessary.\n\nAfter thinking on this, I agree that failed storages should not count towards any decision that countNodes() is responsible for (which are quite a few), hence no change there.\n\nAdditionally, if the latest change makes sense then having {{numCorruptNodes}} seems futile to me. This patch doesn't remove it  just yet.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-21T14:22:23.452+0000","updated":"2016-04-21T14:22:23.452+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15252118","id":"15252118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 16s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 54s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 42s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 42s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 23s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 51s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 59s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 6s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 46s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 46s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 37s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 37s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 39s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 39s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 20s {color} | {color:red} hadoop-hdfs-project/hadoop-hdfs: patch generated 2 new + 130 unchanged - 0 fixed = 132 total (was 130) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 48s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 12s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 8s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 3s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 45s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 50m 50s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.8.0_77. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 0m 11s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_95. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red} 0m 27s {color} | {color:red} Patch generated 1 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 76m 54s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Failed junit tests | hadoop.hdfs.TestReservedRawPaths |\n|   | hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots |\n|   | hadoop.hdfs.TestModTime |\n|   | hadoop.fs.TestUrlStreamHandler |\n|   | hadoop.hdfs.security.TestDelegationToken |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.server.namenode.TestFileLimit |\n|   | hadoop.hdfs.TestParallelShortCircuitRead |\n|   | hadoop.hdfs.server.namenode.snapshot.TestFileContextSnapshot |\n|   | hadoop.TestRefreshCallQueue |\n|   | hadoop.cli.TestCryptoAdminCLI |\n|   | hadoop.hdfs.TestDFSClientRetries |\n|   | hadoop.hdfs.TestSetrepDecreasing |\n|   | hadoop.hdfs.server.datanode.TestDiskError |\n|   | hadoop.fs.viewfs.TestViewFsWithAcls |\n|   | hadoop.hdfs.server.datanode.TestDataNodeHotSwapVolumes |\n|   | hadoop.hdfs.server.namenode.TestAddStripedBlocks |\n|   | hadoop.hdfs.server.namenode.TestFSEditLogLoader |\n|   | hadoop.hdfs.server.namenode.TestHostsFiles |\n|   | hadoop.hdfs.server.datanode.TestTransferRbw |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistPolicy |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractDelete |\n|   | hadoop.hdfs.server.namenode.TestFileContextAcl |\n|   | hadoop.fs.TestFcHdfsSetUMask |\n|   | hadoop.fs.TestUnbuffer |\n|   | hadoop.hdfs.server.namenode.TestDeleteRace |\n|   | hadoop.hdfs.TestPread |\n|   | hadoop.hdfs.server.namenode.TestReconstructStripedBlocks |\n|   | hadoop.hdfs.server.namenode.TestFSDirectory |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractOpen |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing |\n|   | hadoop.hdfs.server.datanode.TestStorageReport |\n|   | hadoop.hdfs.server.datanode.TestBlockRecovery |\n|   | hadoop.hdfs.server.namenode.TestFileTruncate |\n|   | hadoop.hdfs.TestReadWhileWriting |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractMkdir |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractAppend |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCache |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock |\n|   | hadoop.hdfs.server.namenode.ha.TestQuotasWithHA |\n|   | hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA |\n|   | hadoop.hdfs.TestReadStripedFileWithMissingBlocks |\n|   | hadoop.hdfs.server.namenode.TestSecondaryWebUi |\n|   | hadoop.hdfs.server.namenode.TestMalformedURLs |\n|   | hadoop.hdfs.server.namenode.TestAuditLogger |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistFiles |\n|   | hadoop.hdfs.TestWriteBlockGetsBlockLengthHint |\n|   | hadoop.hdfs.server.namenode.TestHDFSConcat |\n|   | hadoop.hdfs.protocol.datatransfer.sasl.TestSaslDataTransfer |\n|   | hadoop.hdfs.server.datanode.TestCachingStrategy |\n|   | hadoop.hdfs.server.namenode.TestAddBlockRetry |\n|   | hadoop.fs.TestSymlinkHdfsFileSystem |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMetadataConsistency |\n|   | hadoop.fs.viewfs.TestViewFsDefaultValue |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure160 |\n|   | hadoop.fs.TestSymlinkHdfsFileContext |\n|   | hadoop.hdfs.TestClientProtocolForPipelineRecovery |\n|   | hadoop.hdfs.TestFSInputChecker |\n|   | hadoop.hdfs.server.namenode.ha.TestSeveralNameNodes |\n|   | hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\n|   | hadoop.hdfs.server.datanode.TestDataNodeInitStorage |\n|   | hadoop.hdfs.server.mover.TestStorageMover |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistLockedMemory |\n|   | hadoop.hdfs.server.datanode.TestBlockReplacement |\n|   | hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol |\n|   | hadoop.cli.TestAclCLI |\n|   | hadoop.hdfs.security.token.block.TestBlockToken |\n|   | hadoop.hdfs.server.namenode.ha.TestHAMetrics |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap |\n|   | hadoop.hdfs.server.blockmanagement.TestNodeCount |\n|   | hadoop.hdfs.server.namenode.TestCommitBlockWithInvalidGenStamp |\n|   | hadoop.hdfs.tools.TestDFSHAAdminMiniCluster |\n|   | hadoop.hdfs.server.datanode.TestReadOnlySharedStorage |\n|   | hadoop.hdfs.TestEncryptedTransfer |\n|   | hadoop.hdfs.tools.TestStoragePolicyCommands |\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\n|   | hadoop.hdfs.server.namenode.TestNNStorageRetentionFunctional |\n|   | hadoop.hdfs.server.datanode.TestHSync |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyWriter |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServer |\n|   | hadoop.hdfs.server.datanode.TestDataNodeUUID |\n|   | hadoop.hdfs.server.datanode.TestBatchIbr |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSeek |\n|   | hadoop.hdfs.server.namenode.TestFileContextXAttr |\n|   | hadoop.hdfs.TestAbandonBlock |\n|   | hadoop.hdfs.server.namenode.TestAclConfigFlag |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithSecureHdfs |\n|   | hadoop.hdfs.TestAclsEndToEnd |\n|   | hadoop.hdfs.TestFileCreationClient |\n|   | hadoop.hdfs.qjournal.server.TestJournalNode |\n|   | hadoop.hdfs.TestRemoteBlockReader2 |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithXAttr |\n|   | hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\n|   | hadoop.hdfs.TestFileAppendRestart |\n|   | hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithAcl |\n|   | hadoop.hdfs.qjournal.client.TestQJMWithFaults |\n|   | hadoop.hdfs.server.namenode.TestQuotaWithStripedBlocks |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyBlockManagement |\n|   | hadoop.hdfs.tools.TestDFSAdminWithHA |\n|   | hadoop.hdfs.TestDFSShellGenericOptions |\n|   | hadoop.tracing.TestTracing |\n|   | hadoop.hdfs.tools.TestDFSZKFailoverController |\n|   | hadoop.hdfs.server.datanode.TestDataNodeReconfiguration |\n|   | hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |\n|   | hadoop.hdfs.server.namenode.ha.TestFailureOfSharedDir |\n|   | hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA |\n|   | hadoop.hdfs.TestBlockReaderLocalLegacy |\n|   | hadoop.hdfs.TestExternalBlockReader |\n|   | hadoop.hdfs.qjournal.TestSecureNNWithQJM |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\n|   | hadoop.hdfs.server.namenode.TestParallelImageWrite |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure180 |\n|   | hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot |\n|   | hadoop.hdfs.TestFileConcurrentReader |\n|   | hadoop.hdfs.server.namenode.TestNameNodeResourceChecker |\n|   | hadoop.hdfs.server.namenode.TestGenericJournalConf |\n|   | hadoop.fs.viewfs.TestViewFsWithXAttrs |\n|   | hadoop.cli.TestErasureCodingCLI |\n|   | hadoop.hdfs.qjournal.TestNNWithQJM |\n|   | hadoop.hdfs.TestClose |\n|   | hadoop.hdfs.server.namenode.snapshot.TestGetContentSummaryWithSnapshot |\n|   | hadoop.hdfs.server.datanode.TestDataNodeExit |\n|   | hadoop.hdfs.TestDFSUpgradeFromImage |\n|   | hadoop.hdfs.server.namenode.TestEditLogJournalFailures |\n|   | hadoop.hdfs.TestPersistBlocks |\n|   | hadoop.hdfs.TestDFSRollback |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup |\n|   | hadoop.hdfs.TestDatanodeReport |\n|   | hadoop.tools.TestJMXGet |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetricsLogger |\n|   | hadoop.hdfs.server.blockmanagement.TestReconstructStripedBlocksWithRackAwareness |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMXBean |\n|   | hadoop.hdfs.server.datanode.TestBlockHasMultipleReplicasOnSameDN |\n|   | hadoop.hdfs.TestFileAppend4 |\n|   | hadoop.hdfs.tools.TestDebugAdmin |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockGroupId |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractCreate |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart |\n|   | hadoop.hdfs.server.namenode.TestAuditLoggerWithCommands |\n|   | hadoop.hdfs.server.namenode.TestNameNodeHttpServer |\n|   | hadoop.hdfs.server.namenode.TestCreateEditsLog |\n|   | hadoop.hdfs.server.namenode.TestFSNamesystemMBean |\n|   | hadoop.hdfs.TestWriteRead |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |\n|   | hadoop.hdfs.TestBalancerBandwidth |\n|   | hadoop.hdfs.security.TestClientProtocolWithDelegationToken |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCacheRevocation |\n|   | hadoop.hdfs.TestDFSPermission |\n|   | hadoop.fs.TestEnhancedByteBufferAccess |\n|   | hadoop.fs.TestFcHdfsPermission |\n|   | hadoop.hdfs.server.namenode.TestEditLogRace |\n|   | hadoop.security.TestRefreshUserMappings |\n|   | hadoop.hdfs.TestSafeMode |\n|   | hadoop.hdfs.server.namenode.TestAllowFormat |\n|   | hadoop.fs.viewfs.TestViewFsHdfs |\n|   | hadoop.hdfs.qjournal.client.TestQuorumJournalManager |\n|   | hadoop.hdfs.TestDFSRename |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServerMethods |\n|   | hadoop.hdfs.TestIsMethodSupported |\n|   | hadoop.fs.TestResolveHdfsSymlink |\n|   | hadoop.hdfs.server.namenode.metrics.TestNNMetricFilesInGetListingOps |\n|   | hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica |\n|   | hadoop.tracing.TestTracingShortCircuitLocalRead |\n|   | hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages |\n|   | hadoop.hdfs.server.namenode.TestDecommissioningStatus |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractGetFileStatus |\n|   | hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots |\n|   | hadoop.hdfs.server.namenode.TestProtectedDirectories |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForContentSummary |\n|   | hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation |\n|   | hadoop.hdfs.qjournal.TestMiniJournalCluster |\n|   | hadoop.hdfs.TestParallelShortCircuitReadNoChecksum |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.hdfs.tools.TestDelegationTokenFetcher |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration |\n|   | hadoop.tracing.TestTraceAdmin |\n|   | hadoop.hdfs.TestDFSStorageStateRecovery |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics |\n|   | hadoop.hdfs.server.namenode.TestNNThroughputBenchmark |\n|   | hadoop.hdfs.server.namenode.TestNameNodeReconfigure |\n|   | hadoop.hdfs.TestDecommission |\n|   | hadoop.hdfs.TestEncryptionZonesWithKMS |\n|   | hadoop.hdfs.server.datanode.TestTriggerBlockReport |\n|   | hadoop.hdfs.server.namenode.TestINodeFile |\n|   | hadoop.hdfs.TestFSOutputSummer |\n|   | hadoop.hdfs.server.namenode.ha.TestPipelinesFailover |\n|   | hadoop.hdfs.TestFileLengthOnClusterRestart |\n|   | hadoop.hdfs.TestDatanodeStartupFixesLegacyStorageIDs |\n|   | hadoop.hdfs.TestSetTimes |\n|   | hadoop.hdfs.server.namenode.TestQuotaByStorageType |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer |\n|   | hadoop.hdfs.server.namenode.TestNamenodeRetryCache |\n|   | hadoop.fs.TestWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithHdfs |\n|   | hadoop.hdfs.server.balancer.TestBalancer |\n|   | hadoop.fs.TestFcHdfsCreateMkdir |\n|   | hadoop.hdfs.TestAppendDifferentChecksum |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicy |\n|   | hadoop.hdfs.server.namenode.ha.TestNNHealthCheck |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters |\n|   | hadoop.hdfs.server.namenode.TestBlockUnderConstruction |\n|   | hadoop.hdfs.server.mover.TestMover |\n|   | hadoop.hdfs.server.namenode.TestDeadDatanode |\n|   | hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics |\n|   | hadoop.hdfs.TestDFSFinalize |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaPlacement |\n|   | hadoop.hdfs.server.namenode.TestCacheDirectives |\n|   | hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy |\n|   | hadoop.hdfs.TestFileAppend2 |\n|   | hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBlockReports |\n|   | hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled |\n|   | hadoop.hdfs.server.datanode.TestBlockScanner |\n|   | hadoop.hdfs.server.namenode.TestStorageRestore |\n|   | hadoop.hdfs.server.namenode.TestEditLog |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithXAttrs |\n|   | hadoop.hdfs.server.namenode.ha.TestHAFsck |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithAcls |\n|   | hadoop.hdfs.server.namenode.TestXAttrConfigFlag |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer |\n|   | hadoop.hdfs.TestFsShellPermission |\n|   | hadoop.hdfs.TestFileStatusWithECPolicy |\n|   | hadoop.hdfs.TestFileAppend3 |\n|   | hadoop.hdfs.TestDFSInputStream |\n|   | hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure170 |\n|   | hadoop.hdfs.TestWriteReadStripedFile |\n|   | hadoop.hdfs.TestApplyingStoragePolicy |\n|   | hadoop.hdfs.TestQuota |\n|   | hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMXBean |\n|   | hadoop.hdfs.tools.TestDFSAdmin |\n|   | hadoop.hdfs.TestClientBlockVerification |\n|   | hadoop.hdfs.TestDFSClientSocketSize |\n|   | hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetrics |\n|   | hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes |\n|   | hadoop.hdfs.TestDFSClientFailover |\n|   | hadoop.hdfs.TestDFSStripedOutputStream |\n|   | hadoop.hdfs.server.namenode.TestSnapshotPathINodes |\n|   | hadoop.hdfs.server.namenode.ha.TestStateTransitionFailure |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyIsHot |\n|   | hadoop.security.TestPermission |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractConcat |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyConsiderLoad |\n|   | hadoop.hdfs.server.blockmanagement.TestAvailableSpaceBlockPlacementPolicy |\n|   | hadoop.hdfs.server.namenode.TestLargeDirectoryDelete |\n|   | hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks |\n|   | hadoop.hdfs.server.namenode.TestFsck |\n|   | hadoop.hdfs.server.namenode.TestNestedEncryptionZones |\n|   | hadoop.hdfs.server.namenode.TestAuditLogs |\n|   | hadoop.hdfs.TestLeaseRecoveryStriped |\n|   | hadoop.hdfs.TestListFilesInFileContext |\n|   | hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots |\n|   | hadoop.hdfs.TestMultiThreadedHflush |\n|   | hadoop.hdfs.server.datanode.TestDataNodeECN |\n|   | hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade |\n|   | hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks |\n|   | hadoop.security.TestPermissionSymlinks |\n|   | hadoop.hdfs.server.datanode.web.dtp.TestDtpHttp2 |\n|   | hadoop.hdfs.server.namenode.TestValidateConfigurationSettings |\n|   | hadoop.hdfs.TestDatanodeConfig |\n|   | hadoop.hdfs.TestRenameWhileOpen |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockId |\n|   | hadoop.net.TestNetworkTopology |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRootDirectory |\n|   | hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot |\n|   | hadoop.hdfs.TestHFlush |\n|   | hadoop.hdfs.server.namenode.TestAddOverReplicatedStripedBlocks |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerWithStripedBlocks |\n|   | hadoop.hdfs.TestParallelUnixDomainRead |\n|   | hadoop.cli.TestXAttrCLI |\n|   | hadoop.hdfs.server.namenode.TestNameEditsConfigs |\n|   | hadoop.hdfs.TestEncryptionZonesWithHA |\n|   | hadoop.hdfs.server.datanode.TestRefreshNamenodes |\n|   | hadoop.hdfs.server.namenode.TestUpgradeDomainBlockPlacementPolicy |\n|   | hadoop.hdfs.TestFileCreationEmpty |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitCache |\n|   | hadoop.hdfs.qjournal.server.TestJournalNodeMXBean |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRename |\n|   | hadoop.hdfs.server.namenode.TestSecurityTokenEditLog |\n|   | hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage |\n|   | hadoop.fs.permission.TestStickyBit |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockStatsMXBean |\n|   | hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion |\n|   | hadoop.hdfs.TestDFSStartupVersions |\n|   | hadoop.hdfs.TestFileCreation |\n|   | hadoop.hdfs.server.namenode.ha.TestHASafeMode |\n|   | hadoop.hdfs.TestMissingBlocksAlert |\n|   | hadoop.hdfs.server.namenode.TestSecureNameNode |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\n|   | hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot |\n|   | hadoop.hdfs.TestHDFSServerPorts |\n|   | hadoop.hdfs.server.namenode.TestTransferFsImage |\n|   | hadoop.hdfs.server.namenode.TestStartup |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRecovery |\n|   | hadoop.hdfs.TestRead |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithUpgradeDomain |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover |\n|   | hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSetTimes |\n|   | hadoop.hdfs.TestLocalDFS |\n|   | hadoop.hdfs.qjournal.client.TestEpochsAreUnique |\n|   | hadoop.hdfs.server.datanode.TestDeleteBlockPool |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting |\n|   | hadoop.hdfs.server.datanode.TestLargeBlockReport |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport |\n|   | hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA |\n|   | hadoop.hdfs.TestBlockReaderFactory |\n|   | hadoop.hdfs.server.namenode.TestINodeAttributeProvider |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithSnapshot |\n|   | hadoop.hdfs.TestPipelines |\n|   | hadoop.hdfs.TestReadStripedFileWithDecoding |\n|   | hadoop.fs.loadGenerator.TestLoadGenerator |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename |\n|   | hadoop.hdfs.server.namenode.TestStripedINodeFile |\n|   | hadoop.hdfs.TestListFilesInDFS |\n|   | hadoop.cli.TestCacheAdminCLI |\n|   | hadoop.fs.TestSWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.server.datanode.TestDatanodeProtocolRetryPolicy |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForXAttr |\n|   | hadoop.hdfs.server.namenode.TestProcessCorruptBlocks |\n|   | hadoop.hdfs.TestFileCorruption |\n|   | hadoop.hdfs.server.namenode.TestMetadataVersionOutput |\n|   | hadoop.hdfs.server.namenode.TestNamenodeCapacityReport |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestSpaceReservation |\n|   | hadoop.hdfs.server.namenode.ha.TestLossyRetryInvocationHandler |\n|   | hadoop.fs.TestHDFSFileContextMainOperations |\n|   | hadoop.hdfs.server.namenode.TestSaveNamespace |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFSStriped |\n|   | hadoop.hdfs.server.datanode.TestDataNodeLifeline |\n|   | hadoop.fs.TestGlobPaths |\n|   | hadoop.fs.viewfs.TestViewFsFileStatusHdfs |\n|   | hadoop.hdfs.server.namenode.TestMetaSave |\n|   | hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens |\n|   | hadoop.hdfs.server.datanode.TestDataNodeTransferSocketSize |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\n|   | hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure150 |\n|   | hadoop.fs.viewfs.TestViewFsAtHdfsRoot |\n|   | hadoop.TestGenericRefresh |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBrVariations |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer |\n|   | hadoop.hdfs.server.namenode.ha.TestHAAppend |\n|   | hadoop.hdfs.tools.TestGetGroups |\n|   | hadoop.hdfs.server.namenode.TestBackupNode |\n|   | hadoop.hdfs.server.namenode.TestNameNodeAcl |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n|   | hadoop.fs.shell.TestHdfsTextCommand |\n|   | hadoop.hdfs.TestLargeBlock |\n|   | hadoop.cli.TestDeleteCLI |\n|   | hadoop.cli.TestHDFSCLI |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestFsDatasetImpl |\n|   | hadoop.hdfs.TestReplaceDatanodeOnFailure |\n|   | hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockReportRateLimiting |\n|   | hadoop.fs.TestSymlinkHdfsDisable |\n|   | hadoop.hdfs.server.namenode.ha.TestHAStateTransitions |\n|   | hadoop.hdfs.server.namenode.TestFSImage |\n|   | hadoop.fs.viewfs.TestViewFileSystemHdfs |\n|   | hadoop.hdfs.server.namenode.TestAddBlock |\n|   | hadoop.hdfs.TestReconstructStripedFile |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication |\n|   | hadoop.hdfs.TestDFSInotifyEventInputStream |\n|   | hadoop.hdfs.server.namenode.TestBlockPlacementPolicyRackFaultTolerant |\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing |\n|   | hadoop.hdfs.TestLease |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaRecovery |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot |\n|   | hadoop.hdfs.server.namenode.TestNameNodeXAttr |\n|   | hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold |\n|   | hadoop.hdfs.server.namenode.TestCheckpoint |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure030 |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencing |\n|   | hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade |\n|   | hadoop.hdfs.TestLeaseRecovery |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForAcl |\n| JDK v1.8.0_77 Timed out junit tests | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM |\n|   | org.apache.hadoop.hdfs.TestReplication |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits |\n|   | org.apache.hadoop.hdfs.TestRollingUpgrade |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA |\n|   | org.apache.hadoop.hdfs.TestClientReportBadBlock |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12799971/HDFS-9958.003.patch |\n| JIRA Issue | HDFS-9958 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux d8cc76ce225b 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 7da5847 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HDFS-Build/15238/artifact/patchprocess/diff-checkstyle-hadoop-hdfs-project_hadoop-hdfs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15238/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15238/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HDFS-Build/15238/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/15238/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-HDFS-Build/15238/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/15238/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-21T16:06:12.721+0000","updated":"2016-04-21T16:06:12.721+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15252790","id":"15252790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 57s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 41s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 40s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 51s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 55s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 8s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 49s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 47s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 38s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 38s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 40s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 40s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 20s {color} | {color:red} hadoop-hdfs-project/hadoop-hdfs: patch generated 2 new + 130 unchanged - 0 fixed = 132 total (was 130) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 49s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 12s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 7s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 10s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 51s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 45m 30s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.8.0_77. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 42m 38s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 28s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 114m 9s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Failed junit tests | hadoop.hdfs.TestReadStripedFileWithDecoding |\n|   | hadoop.hdfs.TestFileStatus |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes |\n|   | hadoop.hdfs.server.namenode.TestINodeFile |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractOpen |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCache |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart |\n|   | hadoop.hdfs.server.namenode.TestAuditLoggerWithCommands |\n|   | hadoop.hdfs.TestFileCreationDelete |\n|   | hadoop.hdfs.server.namenode.ha.TestHASafeMode |\n|   | hadoop.hdfs.TestEncryptionZonesWithHA |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractMkdir |\n|   | hadoop.hdfs.TestDFSShell |\n|   | hadoop.hdfs.server.namenode.TestNameNodeXAttr |\n|   | hadoop.hdfs.qjournal.TestMiniJournalCluster |\n|   | hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitCache |\n|   | hadoop.hdfs.TestDecommission |\n|   | hadoop.hdfs.TestDatanodeDeath |\n|   | hadoop.hdfs.server.namenode.TestFSEditLogLoader |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure180 |\n|   | hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |\n|   | hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages |\n|   | hadoop.hdfs.server.datanode.TestCachingStrategy |\n|   | hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | hadoop.cli.TestXAttrCLI |\n|   | hadoop.hdfs.server.namenode.TestDeleteRace |\n|   | hadoop.hdfs.server.namenode.TestParallelImageWrite |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys |\n|   | hadoop.hdfs.server.namenode.TestNNStorageRetentionFunctional |\n|   | hadoop.hdfs.server.namenode.TestSaveNamespace |\n|   | hadoop.hdfs.TestReplaceDatanodeOnFailure |\n|   | hadoop.hdfs.server.namenode.TestQuotaWithStripedBlocks |\n|   | hadoop.hdfs.TestDFSRename |\n|   | hadoop.hdfs.server.namenode.TestFsck |\n|   | hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaPlacement |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration |\n|   | hadoop.hdfs.server.datanode.TestDeleteBlockPool |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServerMethods |\n|   | hadoop.hdfs.TestRemoteBlockReader2 |\n|   | hadoop.hdfs.server.namenode.TestStorageRestore |\n|   | hadoop.hdfs.server.namenode.TestFileLimit |\n|   | hadoop.hdfs.server.blockmanagement.TestNodeCount |\n|   | hadoop.hdfs.TestEncryptionZones |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSetTimes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots |\n|   | hadoop.hdfs.qjournal.TestNNWithQJM |\n|   | hadoop.hdfs.tools.TestDelegationTokenFetcher |\n|   | hadoop.hdfs.web.TestWebHdfsFileSystemContract |\n|   | hadoop.hdfs.TestDFSFinalize |\n|   | hadoop.hdfs.server.namenode.TestSecureNameNode |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure140 |\n|   | hadoop.hdfs.server.namenode.TestFileContextAcl |\n|   | hadoop.hdfs.TestDatanodeRegistration |\n|   | hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA |\n|   | hadoop.hdfs.TestDataTransferProtocol |\n|   | hadoop.fs.viewfs.TestViewFsWithXAttrs |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure000 |\n|   | hadoop.hdfs.server.datanode.TestDiskError |\n|   | hadoop.hdfs.TestFsShellPermission |\n|   | hadoop.hdfs.server.namenode.TestMalformedURLs |\n|   | hadoop.hdfs.TestBalancerBandwidth |\n|   | hadoop.hdfs.TestReadWhileWriting |\n|   | hadoop.hdfs.qjournal.server.TestJournalNode |\n|   | hadoop.fs.TestSWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.TestWriteReadStripedFile |\n|   | hadoop.hdfs.TestDisableConnCache |\n|   | hadoop.hdfs.TestIsMethodSupported |\n|   | hadoop.hdfs.TestParallelShortCircuitReadNoChecksum |\n|   | hadoop.hdfs.server.blockmanagement.TestAvailableSpaceBlockPlacementPolicy |\n|   | hadoop.hdfs.TestFileCreationClient |\n|   | hadoop.hdfs.server.namenode.TestNameNodeReconfigure |\n|   | hadoop.cli.TestAclCLI |\n|   | hadoop.hdfs.TestFSOutputSummer |\n|   | hadoop.hdfs.TestErasureCodingPolicies |\n|   | hadoop.fs.TestHDFSFileContextMainOperations |\n|   | hadoop.hdfs.TestDFSStartupVersions |\n|   | hadoop.hdfs.server.namenode.ha.TestFailureOfSharedDir |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters |\n|   | hadoop.hdfs.TestParallelShortCircuitLegacyRead |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |\n|   | hadoop.hdfs.server.namenode.ha.TestStateTransitionFailure |\n|   | hadoop.hdfs.server.namenode.TestGenericJournalConf |\n|   | hadoop.hdfs.web.TestWebHdfsWithRestCsrfPreventionFilter |\n|   | hadoop.hdfs.server.namenode.ha.TestSeveralNameNodes |\n|   | hadoop.hdfs.web.TestWebHdfsTimeouts |\n|   | hadoop.hdfs.TestFileAppend2 |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistLockedMemory |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup |\n|   | hadoop.hdfs.server.datanode.TestTransferRbw |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMetadataConsistency |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSeek |\n|   | hadoop.hdfs.TestLocalDFS |\n|   | hadoop.hdfs.server.mover.TestStorageMover |\n|   | hadoop.hdfs.TestFileChecksum |\n|   | hadoop.hdfs.TestGetFileChecksum |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure090 |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure150 |\n|   | hadoop.hdfs.server.namenode.TestMetadataVersionOutput |\n|   | hadoop.hdfs.server.namenode.ha.TestHAAppend |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithAcl |\n|   | hadoop.fs.TestUnbuffer |\n|   | hadoop.hdfs.TestDFSPermission |\n|   | hadoop.hdfs.TestParallelRead |\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\n|   | hadoop.hdfs.server.namenode.TestAddBlock |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold |\n|   | hadoop.hdfs.server.namenode.TestMetaSave |\n|   | hadoop.hdfs.TestSmallBlock |\n|   | hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks |\n|   | hadoop.hdfs.web.TestHttpsFileSystem |\n|   | hadoop.tracing.TestTracing |\n|   | hadoop.cli.TestErasureCodingCLI |\n|   | hadoop.hdfs.TestBlockReaderLocal |\n|   | hadoop.hdfs.TestDFSStripedInputStream |\n|   | hadoop.hdfs.server.datanode.TestTriggerBlockReport |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyWriter |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractConcat |\n|   | hadoop.hdfs.TestReplication |\n|   | hadoop.hdfs.server.namenode.TestEditLog |\n|   | hadoop.security.TestRefreshUserMappings |\n|   | hadoop.hdfs.server.namenode.snapshot.TestFileContextSnapshot |\n|   | hadoop.hdfs.server.mover.TestMover |\n|   | hadoop.hdfs.tools.TestDFSZKFailoverController |\n|   | hadoop.hdfs.server.namenode.TestHDFSConcat |\n|   | hadoop.hdfs.TestReadStripedFileWithMissingBlocks |\n|   | hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithXAttr |\n|   | hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer |\n|   | hadoop.hdfs.TestDatanodeStartupFixesLegacyStorageIDs |\n|   | hadoop.hdfs.server.datanode.TestDataNodeLifeline |\n|   | hadoop.security.TestPermissionSymlinks |\n|   | hadoop.hdfs.TestHFlush |\n|   | hadoop.hdfs.server.namenode.TestDecommissioningStatus |\n|   | hadoop.fs.TestSymlinkHdfsDisable |\n|   | hadoop.hdfs.server.namenode.TestAddOverReplicatedStripedBlocks |\n|   | hadoop.hdfs.server.namenode.TestQuotaByStorageType |\n|   | hadoop.hdfs.TestFileCreation |\n|   | hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot |\n|   | hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork |\n|   | hadoop.hdfs.server.namenode.ha.TestQuotasWithHA |\n|   | hadoop.fs.TestSymlinkHdfsFileContext |\n|   | hadoop.hdfs.qjournal.TestSecureNNWithQJM |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting |\n|   | hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits |\n|   | hadoop.hdfs.server.namenode.ha.TestHAStateTransitions |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot |\n|   | hadoop.hdfs.server.namenode.metrics.TestNNMetricFilesInGetListingOps |\n|   | hadoop.hdfs.TestRollingUpgradeDowngrade |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover |\n|   | hadoop.hdfs.TestBlockReaderFactory |\n|   | hadoop.hdfs.TestFetchImage |\n|   | hadoop.hdfs.server.namenode.TestReconstructStripedBlocks |\n|   | hadoop.hdfs.TestDFSOutputStream |\n|   | hadoop.fs.TestUrlStreamHandler |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure130 |\n|   | hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure200 |\n|   | hadoop.hdfs.server.datanode.TestBatchIbr |\n|   | hadoop.hdfs.TestModTime |\n|   | hadoop.hdfs.TestLeaseRecovery2 |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithXAttrs |\n|   | hadoop.hdfs.TestFileStatusWithECPolicy |\n|   | hadoop.hdfs.TestAppendSnapshotTruncate |\n|   | hadoop.hdfs.tools.TestGetGroups |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRecovery |\n|   | hadoop.hdfs.TestRestartDFS |\n|   | hadoop.hdfs.TestDistributedFileSystem |\n|   | hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade |\n|   | hadoop.hdfs.TestInjectionForSimulatedStorage |\n|   | hadoop.hdfs.TestDFSStripedOutputStream |\n|   | hadoop.hdfs.TestMiniDFSCluster |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCacheRevocation |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\n|   | hadoop.hdfs.TestLease |\n|   | hadoop.hdfs.server.namenode.TestProtectedDirectories |\n|   | hadoop.hdfs.TestHdfsAdmin |\n|   | hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot |\n|   | hadoop.hdfs.server.balancer.TestBalancer |\n|   | hadoop.hdfs.server.namenode.TestAuditLogs |\n|   | hadoop.hdfs.server.namenode.TestFileTruncate |\n|   | hadoop.fs.TestWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.server.namenode.ha.TestNNHealthCheck |\n|   | hadoop.hdfs.TestDFSAddressConfig |\n|   | hadoop.fs.TestSymlinkHdfsFileSystem |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics |\n|   | hadoop.tools.TestJMXGet |\n|   | hadoop.hdfs.server.namenode.TestEditLogJournalFailures |\n|   | hadoop.hdfs.TestDFSMkdirs |\n|   | hadoop.hdfs.TestWriteRead |\n|   | hadoop.hdfs.TestClientBlockVerification |\n|   | hadoop.fs.viewfs.TestViewFsDefaultValue |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistFiles |\n|   | hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages |\n|   | hadoop.hdfs.TestDatanodeConfig |\n|   | hadoop.hdfs.TestDecommissionWithStriped |\n|   | hadoop.hdfs.server.namenode.TestNameNodeResourceChecker |\n|   | hadoop.hdfs.server.namenode.TestAddStripedBlocks |\n|   | hadoop.hdfs.server.datanode.TestDataNodeECN |\n|   | hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate |\n|   | hadoop.hdfs.qjournal.client.TestQuorumJournalManager |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestAclConfigFlag |\n|   | hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd |\n|   | hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA |\n|   | hadoop.hdfs.server.namenode.TestCommitBlockWithInvalidGenStamp |\n|   | hadoop.hdfs.TestReconstructStripedFile |\n|   | hadoop.hdfs.server.namenode.TestBackupNode |\n|   | hadoop.cli.TestHDFSCLI |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyIsHot |\n|   | hadoop.hdfs.server.namenode.TestAllowFormat |\n|   | hadoop.hdfs.server.namenode.TestValidateConfigurationSettings |\n|   | hadoop.hdfs.server.namenode.TestBlockPlacementPolicyRackFaultTolerant |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServer |\n|   | hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractDelete |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaRecovery |\n|   | hadoop.hdfs.server.namenode.TestCheckpoint |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing |\n|   | hadoop.hdfs.server.namenode.TestDeadDatanode |\n|   | hadoop.hdfs.web.TestWebHdfsWithAuthenticationFilter |\n|   | hadoop.hdfs.TestDatanodeReport |\n|   | hadoop.hdfs.server.namenode.ha.TestPipelinesFailover |\n|   | hadoop.hdfs.server.namenode.TestAuditLogger |\n|   | hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA |\n|   | hadoop.hdfs.server.namenode.TestNNThroughputBenchmark |\n|   | hadoop.hdfs.server.datanode.TestDatanodeProtocolRetryPolicy |\n|   | hadoop.hdfs.TestDFSShellGenericOptions |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithUpgradeDomain |\n|   | hadoop.security.TestPermission |\n|   | hadoop.hdfs.web.TestWebHDFSAcl |\n|   | hadoop.hdfs.TestMissingBlocksAlert |\n|   | hadoop.fs.viewfs.TestViewFsHdfs |\n|   | hadoop.hdfs.TestClose |\n|   | hadoop.cli.TestDeleteCLI |\n|   | hadoop.hdfs.tools.TestDebugAdmin |\n|   | hadoop.hdfs.TestFileCorruption |\n|   | hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes |\n|   | hadoop.fs.TestFcHdfsCreateMkdir |\n|   | hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots |\n|   | hadoop.hdfs.TestErasureCodingPolicyWithSnapshot |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing |\n|   | hadoop.hdfs.server.datanode.TestDataNodeUUID |\n|   | hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer |\n|   | hadoop.hdfs.server.namenode.TestXAttrConfigFlag |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication |\n|   | hadoop.hdfs.server.namenode.TestUpgradeDomainBlockPlacementPolicy |\n|   | hadoop.fs.permission.TestStickyBit |\n|   | hadoop.hdfs.tools.TestDFSAdminWithHA |\n|   | hadoop.fs.viewfs.TestViewFsWithAcls |\n|   | hadoop.hdfs.tools.TestStoragePolicyCommands |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\n|   | hadoop.hdfs.server.namenode.TestNestedEncryptionZones |\n|   | hadoop.hdfs.server.namenode.TestStartup |\n|   | hadoop.hdfs.TestMultiThreadedHflush |\n|   | hadoop.TestGenericRefresh |\n|   | hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\n|   | hadoop.hdfs.server.datanode.TestBlockReplacement |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.TestQuota |\n|   | hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockStatsMXBean |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure050 |\n|   | hadoop.fs.viewfs.TestViewFsAtHdfsRoot |\n|   | hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion |\n|   | hadoop.hdfs.TestCrcCorruption |\n|   | hadoop.hdfs.server.namenode.TestSecurityTokenEditLog |\n|   | hadoop.tracing.TestTracingShortCircuitLocalRead |\n|   | hadoop.fs.TestFcHdfsPermission |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicy |\n|   | hadoop.hdfs.TestLeaseRecovery |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics |\n|   | hadoop.hdfs.TestFileLengthOnClusterRestart |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRootDirectory |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractCreate |\n|   | hadoop.hdfs.server.datanode.TestBlockHasMultipleReplicasOnSameDN |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.web.TestWebHDFS |\n|   | hadoop.hdfs.TestGetBlocks |\n|   | hadoop.hdfs.server.namenode.TestProcessCorruptBlocks |\n|   | hadoop.hdfs.qjournal.server.TestJournalNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestNameNodeHttpServer |\n|   | hadoop.fs.TestResolveHdfsSymlink |\n|   | hadoop.hdfs.server.datanode.TestStorageReport |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForAcl |\n|   | hadoop.hdfs.TestDFSUpgrade |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock |\n|   | hadoop.hdfs.TestPread |\n|   | hadoop.hdfs.server.namenode.TestCacheDirectives |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestLargeDirectoryDelete |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithSnapshot |\n|   | hadoop.tracing.TestTraceAdmin |\n|   | hadoop.hdfs.qjournal.client.TestEpochsAreUnique |\n|   | hadoop.hdfs.qjournal.client.TestQJMWithFaults |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename |\n|   | hadoop.hdfs.TestErasureCodeBenchmarkThroughput |\n|   | hadoop.hdfs.server.namenode.TestNameEditsConfigs |\n|   | hadoop.cli.TestCacheAdminCLI |\n|   | hadoop.hdfs.server.datanode.TestDataNodeExit |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFSStriped |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication |\n|   | hadoop.hdfs.server.datanode.TestRefreshNamenodes |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure080 |\n|   | hadoop.hdfs.web.TestWebHDFSForHA |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport |\n|   | hadoop.hdfs.server.namenode.TestHostsFiles |\n|   | hadoop.hdfs.TestApplyingStoragePolicy |\n|   | hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength |\n|   | hadoop.hdfs.web.TestFSMainOperationsWebHdfs |\n|   | hadoop.hdfs.server.namenode.TestEditLogRace |\n|   | hadoop.TestRefreshCallQueue |\n|   | hadoop.hdfs.TestSetTimes |\n|   | hadoop.hdfs.TestDFSUpgradeFromImage |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica |\n|   | hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled |\n|   | hadoop.hdfs.TestDFSClientSocketSize |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetrics |\n|   | hadoop.fs.TestEnhancedByteBufferAccess |\n|   | hadoop.cli.TestCryptoAdminCLI |\n|   | hadoop.hdfs.TestClientProtocolForPipelineRecovery |\n|   | hadoop.hdfs.TestDFSStorageStateRecovery |\n|   | hadoop.hdfs.TestPersistBlocks |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractGetFileStatus |\n|   | hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy |\n|   | hadoop.hdfs.TestListFilesInFileContext |\n|   | hadoop.hdfs.server.namenode.TestNamenodeCapacityReport |\n|   | hadoop.hdfs.TestBlockMissingException |\n|   | hadoop.hdfs.server.namenode.TestSnapshotPathINodes |\n|   | hadoop.hdfs.server.datanode.web.dtp.TestDtpHttp2 |\n|   | hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade |\n|   | hadoop.fs.viewfs.TestViewFileSystemHdfs |\n|   | hadoop.hdfs.server.datanode.TestBlockRecovery |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure |\n|   | hadoop.hdfs.tools.TestDFSHAAdminMiniCluster |\n|   | hadoop.hdfs.security.TestDelegationToken |\n|   | hadoop.hdfs.server.namenode.TestBlockUnderConstruction |\n|   | hadoop.hdfs.TestFileConcurrentReader |\n|   | hadoop.hdfs.TestDFSClientRetries |\n|   | hadoop.hdfs.server.namenode.TestINodeAttributeProvider |\n|   | hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens |\n|   | hadoop.hdfs.TestParallelShortCircuitReadUnCached |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure020 |\n|   | hadoop.hdfs.tools.TestDFSAdmin |\n|   | hadoop.hdfs.TestEncryptionZonesWithKMS |\n|   | hadoop.hdfs.TestRead |\n|   | hadoop.hdfs.TestDFSInotifyEventInputStream |\n|   | hadoop.hdfs.server.datanode.TestDataNodeInitStorage |\n|   | hadoop.hdfs.server.namenode.TestFSNamesystemMBean |\n|   | hadoop.fs.loadGenerator.TestLoadGenerator |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockGroupId |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractAppend |\n|   | hadoop.hdfs.server.namenode.TestSecondaryWebUi |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithAcls |\n|   | hadoop.hdfs.web.TestWebHDFSXAttr |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBlockReports |\n|   | hadoop.hdfs.web.TestWebHdfsTokens |\n|   | hadoop.hdfs.TestSetrepIncreasing |\n|   | hadoop.fs.TestFcHdfsSetUMask |\n|   | hadoop.hdfs.TestLargeBlock |\n|   | hadoop.hdfs.server.namenode.ha.TestLossyRetryInvocationHandler |\n|   | hadoop.hdfs.TestFileAppend3 |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockId |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerWithStripedBlocks |\n|   | hadoop.hdfs.TestDFSClientFailover |\n|   | hadoop.hdfs.server.namenode.TestStripedINodeFile |\n|   | hadoop.hdfs.server.datanode.TestDataNodeHotSwapVolumes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean |\n|   | hadoop.hdfs.server.datanode.TestReadOnlySharedStorage |\n|   | hadoop.hdfs.TestLeaseRecoveryStriped |\n|   | hadoop.hdfs.security.TestClientProtocolWithDelegationToken |\n|   | hadoop.hdfs.server.namenode.ha.TestHAMetrics |\n|   | hadoop.hdfs.server.namenode.TestFSDirectory |\n|   | hadoop.hdfs.server.namenode.TestFSImage |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistPolicy |\n|   | hadoop.hdfs.server.namenode.TestAddBlockRetry |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithHdfs |\n|   | hadoop.hdfs.TestSafeModeWithStripedFile |\n|   | hadoop.hdfs.server.datanode.TestBlockScanner |\n|   | hadoop.hdfs.TestPipelines |\n|   | hadoop.hdfs.TestSetrepDecreasing |\n|   | hadoop.hdfs.TestAppendDifferentChecksum |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure160 |\n|   | hadoop.hdfs.server.namenode.TestTransferFsImage |\n|   | hadoop.hdfs.server.namenode.ha.TestHAFsck |\n|   | hadoop.hdfs.TestSeekBug |\n|   | hadoop.hdfs.TestFileAppend4 |\n|   | hadoop.hdfs.TestDFSRemove |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockReportRateLimiting |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyConsiderLoad |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer |\n|   | hadoop.hdfs.TestBlockReaderLocalLegacy |\n|   | hadoop.hdfs.TestBlocksScheduledCounter |\n|   | hadoop.hdfs.TestExternalBlockReader |\n|   | hadoop.fs.viewfs.TestViewFsFileStatusHdfs |\n|   | hadoop.hdfs.TestAclsEndToEnd |\n|   | hadoop.hdfs.TestSnapshotCommands |\n|   | hadoop.hdfs.server.datanode.TestDataNodeTransferSocketSize |\n|   | hadoop.fs.shell.TestHdfsTextCommand |\n|   | hadoop.hdfs.TestWriteConfigurationToDFS |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure030 |\n|   | hadoop.hdfs.server.datanode.TestLargeBlockReport |\n|   | hadoop.hdfs.TestDFSRollback |\n|   | hadoop.hdfs.TestBlockStoragePolicy |\n|   | hadoop.hdfs.server.namenode.snapshot.TestGetContentSummaryWithSnapshot |\n|   | hadoop.hdfs.TestFSInputChecker |\n|   | hadoop.hdfs.TestParallelShortCircuitRead |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyBlockManagement |\n|   | hadoop.fs.TestGlobPaths |\n|   | hadoop.hdfs.TestDataTransferKeepalive |\n|   | hadoop.hdfs.TestHDFSTrash |\n|   | hadoop.hdfs.server.namenode.TestNameNodeAcl |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestSpaceReservation |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRename |\n|   | hadoop.hdfs.TestHDFSServerPorts |\n|   | hadoop.hdfs.TestRenameWhileOpen |\n|   | hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot |\n|   | hadoop.hdfs.server.datanode.TestDataNodeReconfiguration |\n|   | hadoop.hdfs.TestEncryptedTransfer |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetricsLogger |\n|   | hadoop.hdfs.TestHDFSFileSystemContract |\n|   | hadoop.hdfs.web.TestWebHdfsWithMultipleNameNodes |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForXAttr |\n|   | hadoop.net.TestNetworkTopology |\n|   | hadoop.hdfs.security.token.block.TestBlockToken |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBrVariations |\n|   | hadoop.hdfs.server.blockmanagement.TestReconstructStripedBlocksWithRackAwareness |\n|   | hadoop.hdfs.server.datanode.TestHSync |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithSecureHdfs |\n|   | hadoop.hdfs.server.namenode.TestNamenodeRetryCache |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestFsDatasetImpl |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForContentSummary |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup |\n|   | hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality |\n|   | hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencing |\n|   | hadoop.hdfs.server.namenode.TestCreateEditsLog |\n|   | hadoop.hdfs.server.namenode.TestFileContextXAttr |\n| JDK v1.8.0_77 Timed out junit tests | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits |\n|   | org.apache.hadoop.hdfs.TestRollingUpgrade |\n|   | org.apache.hadoop.hdfs.TestRollingUpgradeRollback |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA |\n|   | org.apache.hadoop.hdfs.TestClientReportBadBlock |\n| JDK v1.7.0_95 Failed junit tests | hadoop.hdfs.TestReadStripedFileWithDecoding |\n|   | hadoop.hdfs.TestFileStatus |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes |\n|   | hadoop.hdfs.server.namenode.TestINodeFile |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractOpen |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCache |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart |\n|   | hadoop.hdfs.server.namenode.TestAuditLoggerWithCommands |\n|   | hadoop.hdfs.TestFileCreationDelete |\n|   | hadoop.hdfs.server.namenode.ha.TestHASafeMode |\n|   | hadoop.hdfs.TestEncryptionZonesWithHA |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractMkdir |\n|   | hadoop.hdfs.TestDFSShell |\n|   | hadoop.hdfs.server.namenode.TestNameNodeXAttr |\n|   | hadoop.hdfs.qjournal.TestMiniJournalCluster |\n|   | hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitCache |\n|   | hadoop.hdfs.TestDecommission |\n|   | hadoop.hdfs.TestDatanodeDeath |\n|   | hadoop.hdfs.server.namenode.TestFSEditLogLoader |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure180 |\n|   | hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |\n|   | hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages |\n|   | hadoop.hdfs.server.datanode.TestCachingStrategy |\n|   | hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | hadoop.cli.TestXAttrCLI |\n|   | hadoop.hdfs.server.namenode.TestDeleteRace |\n|   | hadoop.hdfs.server.namenode.TestParallelImageWrite |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys |\n|   | hadoop.hdfs.server.namenode.TestNNStorageRetentionFunctional |\n|   | hadoop.hdfs.server.namenode.TestSaveNamespace |\n|   | hadoop.hdfs.TestReplaceDatanodeOnFailure |\n|   | hadoop.hdfs.server.namenode.TestQuotaWithStripedBlocks |\n|   | hadoop.hdfs.TestDFSRename |\n|   | hadoop.hdfs.server.namenode.TestFsck |\n|   | hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaPlacement |\n|   | hadoop.hdfs.TestFileCreationEmpty |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration |\n|   | hadoop.hdfs.server.datanode.TestDeleteBlockPool |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServerMethods |\n|   | hadoop.hdfs.TestRemoteBlockReader2 |\n|   | hadoop.hdfs.server.namenode.TestStorageRestore |\n|   | hadoop.hdfs.server.namenode.TestFileLimit |\n|   | hadoop.hdfs.server.blockmanagement.TestNodeCount |\n|   | hadoop.hdfs.TestEncryptionZones |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSetTimes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots |\n|   | hadoop.hdfs.qjournal.TestNNWithQJM |\n|   | hadoop.hdfs.tools.TestDelegationTokenFetcher |\n|   | hadoop.hdfs.web.TestWebHdfsFileSystemContract |\n|   | hadoop.hdfs.TestDFSFinalize |\n|   | hadoop.hdfs.server.namenode.TestSecureNameNode |\n|   | hadoop.hdfs.server.namenode.TestFileContextAcl |\n|   | hadoop.hdfs.TestDatanodeRegistration |\n|   | hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA |\n|   | hadoop.hdfs.TestDataTransferProtocol |\n|   | hadoop.fs.viewfs.TestViewFsWithXAttrs |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure000 |\n|   | hadoop.hdfs.server.datanode.TestDiskError |\n|   | hadoop.hdfs.TestFsShellPermission |\n|   | hadoop.hdfs.server.namenode.TestMalformedURLs |\n|   | hadoop.hdfs.TestBalancerBandwidth |\n|   | hadoop.hdfs.TestReadWhileWriting |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure100 |\n|   | hadoop.hdfs.qjournal.server.TestJournalNode |\n|   | hadoop.fs.TestSWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.TestWriteReadStripedFile |\n|   | hadoop.hdfs.TestDisableConnCache |\n|   | hadoop.hdfs.TestIsMethodSupported |\n|   | hadoop.hdfs.TestDFSClientExcludedNodes |\n|   | hadoop.hdfs.TestParallelShortCircuitReadNoChecksum |\n|   | hadoop.hdfs.server.blockmanagement.TestAvailableSpaceBlockPlacementPolicy |\n|   | hadoop.hdfs.TestFileCreationClient |\n|   | hadoop.hdfs.server.namenode.TestNameNodeReconfigure |\n|   | hadoop.cli.TestAclCLI |\n|   | hadoop.hdfs.TestFSOutputSummer |\n|   | hadoop.hdfs.TestErasureCodingPolicies |\n|   | hadoop.fs.TestHDFSFileContextMainOperations |\n|   | hadoop.hdfs.TestDFSStartupVersions |\n|   | hadoop.hdfs.server.namenode.ha.TestFailureOfSharedDir |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters |\n|   | hadoop.hdfs.TestParallelShortCircuitLegacyRead |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |\n|   | hadoop.hdfs.server.namenode.ha.TestStateTransitionFailure |\n|   | hadoop.hdfs.server.namenode.TestGenericJournalConf |\n|   | hadoop.hdfs.web.TestWebHdfsWithRestCsrfPreventionFilter |\n|   | hadoop.hdfs.server.namenode.ha.TestSeveralNameNodes |\n|   | hadoop.hdfs.web.TestWebHdfsTimeouts |\n|   | hadoop.hdfs.TestFileAppend2 |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistLockedMemory |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup |\n|   | hadoop.hdfs.TestParallelUnixDomainRead |\n|   | hadoop.hdfs.server.datanode.TestTransferRbw |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMetadataConsistency |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSeek |\n|   | hadoop.hdfs.TestLocalDFS |\n|   | hadoop.hdfs.server.mover.TestStorageMover |\n|   | hadoop.hdfs.TestFileChecksum |\n|   | hadoop.hdfs.TestGetFileChecksum |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure060 |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure090 |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure150 |\n|   | hadoop.hdfs.server.namenode.TestMetadataVersionOutput |\n|   | hadoop.hdfs.server.namenode.ha.TestHAAppend |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithAcl |\n|   | hadoop.fs.TestUnbuffer |\n|   | hadoop.hdfs.TestDFSPermission |\n|   | hadoop.hdfs.TestParallelRead |\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\n|   | hadoop.hdfs.server.namenode.TestAddBlock |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold |\n|   | hadoop.hdfs.server.namenode.TestMetaSave |\n|   | hadoop.hdfs.TestSmallBlock |\n|   | hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks |\n|   | hadoop.hdfs.web.TestHttpsFileSystem |\n|   | hadoop.tracing.TestTracing |\n|   | hadoop.hdfs.TestListFilesInDFS |\n|   | hadoop.cli.TestErasureCodingCLI |\n|   | hadoop.hdfs.TestFileAppendRestart |\n|   | hadoop.hdfs.TestBlockReaderLocal |\n|   | hadoop.hdfs.TestDFSStripedInputStream |\n|   | hadoop.hdfs.server.datanode.TestTriggerBlockReport |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyWriter |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractConcat |\n|   | hadoop.hdfs.TestReplication |\n|   | hadoop.hdfs.server.namenode.TestEditLog |\n|   | hadoop.security.TestRefreshUserMappings |\n|   | hadoop.hdfs.server.namenode.snapshot.TestFileContextSnapshot |\n|   | hadoop.hdfs.server.mover.TestMover |\n|   | hadoop.hdfs.TestSafeMode |\n|   | hadoop.hdfs.tools.TestDFSZKFailoverController |\n|   | hadoop.hdfs.server.namenode.TestHDFSConcat |\n|   | hadoop.hdfs.TestReadStripedFileWithMissingBlocks |\n|   | hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithXAttr |\n|   | hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer |\n|   | hadoop.hdfs.TestDatanodeStartupFixesLegacyStorageIDs |\n|   | hadoop.hdfs.server.datanode.TestDataNodeLifeline |\n|   | hadoop.security.TestPermissionSymlinks |\n|   | hadoop.hdfs.TestHFlush |\n|   | hadoop.hdfs.server.namenode.TestDecommissioningStatus |\n|   | hadoop.fs.TestSymlinkHdfsDisable |\n|   | hadoop.hdfs.server.namenode.TestAddOverReplicatedStripedBlocks |\n|   | hadoop.hdfs.server.namenode.TestQuotaByStorageType |\n|   | hadoop.hdfs.TestFileCreation |\n|   | hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot |\n|   | hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork |\n|   | hadoop.hdfs.server.namenode.ha.TestQuotasWithHA |\n|   | hadoop.fs.TestSymlinkHdfsFileContext |\n|   | hadoop.hdfs.qjournal.TestSecureNNWithQJM |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting |\n|   | hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits |\n|   | hadoop.hdfs.server.namenode.ha.TestHAStateTransitions |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot |\n|   | hadoop.hdfs.server.namenode.metrics.TestNNMetricFilesInGetListingOps |\n|   | hadoop.hdfs.TestRollingUpgradeDowngrade |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover |\n|   | hadoop.hdfs.TestBlockReaderFactory |\n|   | hadoop.hdfs.TestRemoteBlockReader |\n|   | hadoop.hdfs.TestFetchImage |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure010 |\n|   | hadoop.hdfs.server.namenode.TestReconstructStripedBlocks |\n|   | hadoop.hdfs.TestDFSOutputStream |\n|   | hadoop.fs.TestUrlStreamHandler |\n|   | hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure200 |\n|   | hadoop.hdfs.server.datanode.TestBatchIbr |\n|   | hadoop.hdfs.TestModTime |\n|   | hadoop.hdfs.TestLeaseRecovery2 |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithXAttrs |\n|   | hadoop.hdfs.TestFileStatusWithECPolicy |\n|   | hadoop.hdfs.TestAppendSnapshotTruncate |\n|   | hadoop.hdfs.tools.TestGetGroups |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRecovery |\n|   | hadoop.hdfs.TestRestartDFS |\n|   | hadoop.hdfs.TestDistributedFileSystem |\n|   | hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade |\n|   | hadoop.hdfs.TestInjectionForSimulatedStorage |\n|   | hadoop.hdfs.TestDFSStripedOutputStream |\n|   | hadoop.hdfs.TestMiniDFSCluster |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCacheRevocation |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\n|   | hadoop.hdfs.TestLease |\n|   | hadoop.hdfs.server.namenode.TestProtectedDirectories |\n|   | hadoop.hdfs.TestHdfsAdmin |\n|   | hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot |\n|   | hadoop.hdfs.server.balancer.TestBalancer |\n|   | hadoop.hdfs.server.namenode.TestAuditLogs |\n|   | hadoop.hdfs.server.namenode.TestFileTruncate |\n|   | hadoop.fs.TestWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.server.namenode.ha.TestNNHealthCheck |\n|   | hadoop.hdfs.TestDFSAddressConfig |\n|   | hadoop.fs.TestSymlinkHdfsFileSystem |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics |\n|   | hadoop.tools.TestJMXGet |\n|   | hadoop.hdfs.server.namenode.TestEditLogJournalFailures |\n|   | hadoop.hdfs.TestDFSMkdirs |\n|   | hadoop.hdfs.TestWriteRead |\n|   | hadoop.hdfs.TestClientBlockVerification |\n|   | hadoop.fs.viewfs.TestViewFsDefaultValue |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistFiles |\n|   | hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages |\n|   | hadoop.hdfs.TestDatanodeConfig |\n|   | hadoop.hdfs.TestDecommissionWithStriped |\n|   | hadoop.hdfs.server.namenode.TestNameNodeResourceChecker |\n|   | hadoop.hdfs.server.namenode.TestAddStripedBlocks |\n|   | hadoop.hdfs.server.datanode.TestDataNodeECN |\n|   | hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate |\n|   | hadoop.hdfs.qjournal.client.TestQuorumJournalManager |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestAclConfigFlag |\n|   | hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd |\n|   | hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA |\n|   | hadoop.hdfs.server.namenode.TestCommitBlockWithInvalidGenStamp |\n|   | hadoop.hdfs.TestReconstructStripedFile |\n|   | hadoop.hdfs.server.namenode.TestBackupNode |\n|   | hadoop.cli.TestHDFSCLI |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyIsHot |\n|   | hadoop.hdfs.server.namenode.TestAllowFormat |\n|   | hadoop.hdfs.server.namenode.TestValidateConfigurationSettings |\n|   | hadoop.hdfs.server.namenode.TestBlockPlacementPolicyRackFaultTolerant |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServer |\n|   | hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractDelete |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaRecovery |\n|   | hadoop.hdfs.server.namenode.TestCheckpoint |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing |\n|   | hadoop.hdfs.server.namenode.TestDeadDatanode |\n|   | hadoop.hdfs.web.TestWebHdfsWithAuthenticationFilter |\n|   | hadoop.hdfs.TestDatanodeReport |\n|   | hadoop.hdfs.server.namenode.ha.TestPipelinesFailover |\n|   | hadoop.hdfs.TestClientReportBadBlock |\n|   | hadoop.hdfs.server.namenode.TestAuditLogger |\n|   | hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA |\n|   | hadoop.hdfs.server.namenode.TestNNThroughputBenchmark |\n|   | hadoop.hdfs.server.datanode.TestDatanodeProtocolRetryPolicy |\n|   | hadoop.hdfs.TestDFSShellGenericOptions |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithUpgradeDomain |\n|   | hadoop.security.TestPermission |\n|   | hadoop.hdfs.web.TestWebHDFSAcl |\n|   | hadoop.hdfs.TestMissingBlocksAlert |\n|   | hadoop.fs.viewfs.TestViewFsHdfs |\n|   | hadoop.hdfs.TestClose |\n|   | hadoop.cli.TestDeleteCLI |\n|   | hadoop.hdfs.tools.TestDebugAdmin |\n|   | hadoop.hdfs.TestFileCorruption |\n|   | hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes |\n|   | hadoop.fs.TestFcHdfsCreateMkdir |\n|   | hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots |\n|   | hadoop.hdfs.TestErasureCodingPolicyWithSnapshot |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing |\n|   | hadoop.hdfs.server.datanode.TestDataNodeUUID |\n|   | hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer |\n|   | hadoop.hdfs.server.namenode.TestXAttrConfigFlag |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication |\n|   | hadoop.hdfs.server.namenode.TestUpgradeDomainBlockPlacementPolicy |\n|   | hadoop.fs.permission.TestStickyBit |\n|   | hadoop.hdfs.tools.TestDFSAdminWithHA |\n|   | hadoop.fs.viewfs.TestViewFsWithAcls |\n|   | hadoop.hdfs.tools.TestStoragePolicyCommands |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\n|   | hadoop.hdfs.server.namenode.TestNestedEncryptionZones |\n|   | hadoop.hdfs.server.namenode.TestStartup |\n|   | hadoop.hdfs.TestMultiThreadedHflush |\n|   | hadoop.TestGenericRefresh |\n|   | hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\n|   | hadoop.hdfs.server.datanode.TestBlockReplacement |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.TestQuota |\n|   | hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockStatsMXBean |\n|   | hadoop.hdfs.TestConnCache |\n|   | hadoop.fs.viewfs.TestViewFsAtHdfsRoot |\n|   | hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion |\n|   | hadoop.hdfs.TestCrcCorruption |\n|   | hadoop.hdfs.server.namenode.TestSecurityTokenEditLog |\n|   | hadoop.tracing.TestTracingShortCircuitLocalRead |\n|   | hadoop.fs.TestFcHdfsPermission |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicy |\n|   | hadoop.hdfs.TestLeaseRecovery |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics |\n|   | hadoop.hdfs.TestFileLengthOnClusterRestart |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRootDirectory |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractCreate |\n|   | hadoop.hdfs.server.datanode.TestBlockHasMultipleReplicasOnSameDN |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.web.TestWebHDFS |\n|   | hadoop.hdfs.TestGetBlocks |\n|   | hadoop.hdfs.server.namenode.TestProcessCorruptBlocks |\n|   | hadoop.hdfs.qjournal.server.TestJournalNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestNameNodeHttpServer |\n|   | hadoop.fs.TestResolveHdfsSymlink |\n|   | hadoop.hdfs.server.datanode.TestStorageReport |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForAcl |\n|   | hadoop.hdfs.TestDFSUpgrade |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock |\n|   | hadoop.hdfs.TestPread |\n|   | hadoop.hdfs.server.namenode.TestCacheDirectives |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestLargeDirectoryDelete |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithSnapshot |\n|   | hadoop.tracing.TestTraceAdmin |\n|   | hadoop.hdfs.qjournal.client.TestEpochsAreUnique |\n|   | hadoop.hdfs.qjournal.client.TestQJMWithFaults |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename |\n|   | hadoop.hdfs.TestErasureCodeBenchmarkThroughput |\n|   | hadoop.hdfs.server.namenode.TestNameEditsConfigs |\n|   | hadoop.cli.TestCacheAdminCLI |\n|   | hadoop.hdfs.server.datanode.TestDataNodeExit |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFSStriped |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication |\n|   | hadoop.hdfs.server.datanode.TestRefreshNamenodes |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure080 |\n|   | hadoop.hdfs.web.TestWebHDFSForHA |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport |\n|   | hadoop.hdfs.server.namenode.TestHostsFiles |\n|   | hadoop.hdfs.TestApplyingStoragePolicy |\n|   | hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength |\n|   | hadoop.hdfs.web.TestFSMainOperationsWebHdfs |\n|   | hadoop.hdfs.server.namenode.TestEditLogRace |\n|   | hadoop.hdfs.TestReservedRawPaths |\n|   | hadoop.TestRefreshCallQueue |\n|   | hadoop.hdfs.TestSetTimes |\n|   | hadoop.hdfs.TestDFSUpgradeFromImage |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica |\n|   | hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled |\n|   | hadoop.hdfs.TestDFSClientSocketSize |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetrics |\n|   | hadoop.fs.TestEnhancedByteBufferAccess |\n|   | hadoop.cli.TestCryptoAdminCLI |\n|   | hadoop.hdfs.TestClientProtocolForPipelineRecovery |\n|   | hadoop.hdfs.TestDFSStorageStateRecovery |\n|   | hadoop.hdfs.TestPersistBlocks |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractGetFileStatus |\n|   | hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy |\n|   | hadoop.hdfs.TestListFilesInFileContext |\n|   | hadoop.hdfs.server.namenode.TestNamenodeCapacityReport |\n|   | hadoop.hdfs.TestBlockMissingException |\n|   | hadoop.hdfs.server.namenode.TestSnapshotPathINodes |\n|   | hadoop.hdfs.server.datanode.web.dtp.TestDtpHttp2 |\n|   | hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade |\n|   | hadoop.fs.viewfs.TestViewFileSystemHdfs |\n|   | hadoop.hdfs.server.datanode.TestBlockRecovery |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure |\n|   | hadoop.hdfs.tools.TestDFSHAAdminMiniCluster |\n|   | hadoop.hdfs.security.TestDelegationToken |\n|   | hadoop.hdfs.server.namenode.TestBlockUnderConstruction |\n|   | hadoop.hdfs.TestFileConcurrentReader |\n|   | hadoop.hdfs.TestDFSClientRetries |\n|   | hadoop.hdfs.server.namenode.TestINodeAttributeProvider |\n|   | hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens |\n|   | hadoop.hdfs.TestParallelShortCircuitReadUnCached |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure020 |\n|   | hadoop.hdfs.tools.TestDFSAdmin |\n|   | hadoop.hdfs.TestEncryptionZonesWithKMS |\n|   | hadoop.hdfs.crypto.TestHdfsCryptoStreams |\n|   | hadoop.hdfs.TestRead |\n|   | hadoop.hdfs.TestDFSInotifyEventInputStream |\n|   | hadoop.hdfs.server.datanode.TestDataNodeInitStorage |\n|   | hadoop.hdfs.server.namenode.TestFSNamesystemMBean |\n|   | hadoop.fs.loadGenerator.TestLoadGenerator |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockGroupId |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractAppend |\n|   | hadoop.hdfs.server.namenode.TestSecondaryWebUi |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithAcls |\n|   | hadoop.hdfs.web.TestWebHDFSXAttr |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBlockReports |\n|   | hadoop.hdfs.web.TestWebHdfsTokens |\n|   | hadoop.hdfs.TestSetrepIncreasing |\n|   | hadoop.fs.TestFcHdfsSetUMask |\n|   | hadoop.hdfs.TestLargeBlock |\n|   | hadoop.hdfs.server.namenode.ha.TestLossyRetryInvocationHandler |\n|   | hadoop.hdfs.TestFileAppend3 |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockId |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerWithStripedBlocks |\n|   | hadoop.hdfs.TestDFSClientFailover |\n|   | hadoop.hdfs.server.namenode.TestStripedINodeFile |\n|   | hadoop.hdfs.server.datanode.TestDataNodeHotSwapVolumes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean |\n|   | hadoop.hdfs.server.datanode.TestReadOnlySharedStorage |\n|   | hadoop.hdfs.TestLeaseRecoveryStriped |\n|   | hadoop.hdfs.protocol.datatransfer.sasl.TestSaslDataTransfer |\n|   | hadoop.hdfs.security.TestClientProtocolWithDelegationToken |\n|   | hadoop.hdfs.server.namenode.ha.TestHAMetrics |\n|   | hadoop.hdfs.server.namenode.TestFSDirectory |\n|   | hadoop.hdfs.server.namenode.TestFSImage |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistPolicy |\n|   | hadoop.hdfs.server.namenode.TestAddBlockRetry |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithHdfs |\n|   | hadoop.hdfs.TestSafeModeWithStripedFile |\n|   | hadoop.hdfs.server.datanode.TestBlockScanner |\n|   | hadoop.hdfs.TestPipelines |\n|   | hadoop.hdfs.TestSetrepDecreasing |\n|   | hadoop.hdfs.TestAppendDifferentChecksum |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure160 |\n|   | hadoop.hdfs.server.namenode.TestTransferFsImage |\n|   | hadoop.hdfs.server.namenode.ha.TestHAFsck |\n|   | hadoop.hdfs.TestSeekBug |\n|   | hadoop.hdfs.TestFileAppend4 |\n|   | hadoop.hdfs.TestDFSRemove |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockReportRateLimiting |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyConsiderLoad |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer |\n|   | hadoop.hdfs.TestBlockReaderLocalLegacy |\n|   | hadoop.hdfs.TestBlocksScheduledCounter |\n|   | hadoop.hdfs.TestExternalBlockReader |\n|   | hadoop.fs.viewfs.TestViewFsFileStatusHdfs |\n|   | hadoop.hdfs.TestAclsEndToEnd |\n|   | hadoop.hdfs.TestSnapshotCommands |\n|   | hadoop.hdfs.server.datanode.TestDataNodeTransferSocketSize |\n|   | hadoop.fs.shell.TestHdfsTextCommand |\n|   | hadoop.hdfs.TestWriteConfigurationToDFS |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure030 |\n|   | hadoop.hdfs.server.datanode.TestLargeBlockReport |\n|   | hadoop.hdfs.TestDFSRollback |\n|   | hadoop.hdfs.TestBlockStoragePolicy |\n|   | hadoop.hdfs.server.namenode.snapshot.TestGetContentSummaryWithSnapshot |\n|   | hadoop.hdfs.TestFSInputChecker |\n|   | hadoop.hdfs.TestParallelShortCircuitRead |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyBlockManagement |\n|   | hadoop.hdfs.TestAbandonBlock |\n|   | hadoop.fs.TestGlobPaths |\n|   | hadoop.hdfs.TestDataTransferKeepalive |\n|   | hadoop.hdfs.TestHDFSTrash |\n|   | hadoop.hdfs.server.namenode.TestNameNodeAcl |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestSpaceReservation |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRename |\n|   | hadoop.hdfs.TestDFSInputStream |\n|   | hadoop.hdfs.TestHDFSServerPorts |\n|   | hadoop.hdfs.TestRenameWhileOpen |\n|   | hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot |\n|   | hadoop.hdfs.server.datanode.TestDataNodeReconfiguration |\n|   | hadoop.hdfs.TestEncryptedTransfer |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetricsLogger |\n|   | hadoop.hdfs.TestHDFSFileSystemContract |\n|   | hadoop.hdfs.web.TestWebHdfsWithMultipleNameNodes |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForXAttr |\n|   | hadoop.net.TestNetworkTopology |\n|   | hadoop.hdfs.security.token.block.TestBlockToken |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBrVariations |\n|   | hadoop.hdfs.server.blockmanagement.TestReconstructStripedBlocksWithRackAwareness |\n|   | hadoop.hdfs.server.datanode.TestHSync |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithSecureHdfs |\n|   | hadoop.hdfs.server.namenode.TestNamenodeRetryCache |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestFsDatasetImpl |\n|   | hadoop.hdfs.TestDatanodeLayoutUpgrade |\n|   | hadoop.hdfs.TestWriteBlockGetsBlockLengthHint |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForContentSummary |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup |\n|   | hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality |\n|   | hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencing |\n|   | hadoop.hdfs.server.namenode.TestCreateEditsLog |\n|   | hadoop.hdfs.server.namenode.TestFileContextXAttr |\n| JDK v1.7.0_95 Timed out junit tests | org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits |\n|   | org.apache.hadoop.hdfs.TestRollingUpgrade |\n|   | org.apache.hadoop.hdfs.TestRollingUpgradeRollback |\n|   | org.apache.hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA |\n|   | org.apache.hadoop.hdfs.server.namenode.TestEditLogAutoroll |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12799971/HDFS-9958.003.patch |\n| JIRA Issue | HDFS-9958 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 1af5b41854dc 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / a749ba0 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HDFS-Build/15244/artifact/patchprocess/diff-checkstyle-hadoop-hdfs-project_hadoop-hdfs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15244/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15244/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HDFS-Build/15244/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt https://builds.apache.org/job/PreCommit-HDFS-Build/15244/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/15244/testReport/ |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/15244/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-21T21:32:48.066+0000","updated":"2016-04-21T21:32:48.066+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15254164","id":"15254164","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Updating patch to address the case where we try and mark a block corrupt on a node's storage that is not known to the NN. This patch attempts to harden the addition to the corruptReplicasMap iff it has a valid entry in the triplets. Appreciate any comments/corrections.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-22T16:27:16.976+0000","updated":"2016-04-22T16:27:16.976+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15254436","id":"15254436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 20s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 1s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 7m 40s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 54s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 50s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 23s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 0s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 5s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 18s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 0s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 56s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 52s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 52s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 49s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 49s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 22s {color} | {color:red} hadoop-hdfs-project/hadoop-hdfs: patch generated 2 new + 130 unchanged - 0 fixed = 132 total (was 130) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 12s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 18s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 17s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 0s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 102m 30s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.8.0_77. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 0m 16s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 132m 9s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Failed junit tests | hadoop.fs.contract.hdfs.TestHDFSContractMkdir |\n|   | hadoop.hdfs.TestBlockStoragePolicy |\n|   | hadoop.cli.TestDeleteCLI |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRootDirectory |\n|   | hadoop.cli.TestHDFSCLI |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRename |\n|   | hadoop.cli.TestCacheAdminCLI |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure |\n|   | hadoop.fs.loadGenerator.TestLoadGenerator |\n|   | hadoop.fs.TestFcHdfsSetUMask |\n|   | hadoop.fs.viewfs.TestViewFsFileStatusHdfs |\n|   | hadoop.hdfs.server.datanode.TestReadOnlySharedStorage |\n|   | hadoop.tracing.TestTracingShortCircuitLocalRead |\n|   | hadoop.tracing.TestTracing |\n|   | hadoop.fs.TestWebHdfsFileContextMainOperations |\n|   | hadoop.net.TestNetworkTopology |\n|   | hadoop.fs.TestFcHdfsCreateMkdir |\n|   | hadoop.fs.TestFcHdfsPermission |\n|   | hadoop.hdfs.TestQuota |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.fs.viewfs.TestViewFsWithXAttrs |\n|   | hadoop.cli.TestErasureCodingCLI |\n|   | hadoop.tools.TestJMXGet |\n|   | hadoop.TestGenericRefresh |\n|   | hadoop.hdfs.TestDataTransferKeepalive |\n|   | hadoop.hdfs.TestErasureCodeBenchmarkThroughput |\n|   | hadoop.fs.TestSWebHdfsFileContextMainOperations |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractDelete |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSetTimes |\n|   | hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.TestReadStripedFileWithDecoding |\n|   | hadoop.TestRefreshCallQueue |\n|   | hadoop.cli.TestXAttrCLI |\n|   | hadoop.fs.TestUrlStreamHandler |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n|   | hadoop.fs.TestEnhancedByteBufferAccess |\n|   | hadoop.hdfs.server.blockmanagement.TestReconstructStripedBlocksWithRackAwareness |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithXAttrs |\n|   | hadoop.fs.TestHDFSFileContextMainOperations |\n|   | hadoop.hdfs.TestExternalBlockReader |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractAppend |\n|   | hadoop.hdfs.TestReconstructStripedFile |\n|   | hadoop.hdfs.TestHdfsAdmin |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractOpen |\n|   | hadoop.hdfs.TestFileCreation |\n|   | hadoop.tracing.TestTraceAdmin |\n|   | hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\n|   | hadoop.hdfs.TestAbandonBlock |\n|   | hadoop.hdfs.TestWriteBlockGetsBlockLengthHint |\n|   | hadoop.fs.viewfs.TestViewFsHdfs |\n|   | hadoop.hdfs.TestDFSClientSocketSize |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractConcat |\n|   | hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot |\n|   | hadoop.cli.TestCryptoAdminCLI |\n|   | hadoop.hdfs.TestFileCreationDelete |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | hadoop.cli.TestAclCLI |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithAcls |\n|   | hadoop.fs.TestSymlinkHdfsFileContext |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure130 |\n|   | hadoop.fs.TestSymlinkHdfsFileSystem |\n|   | hadoop.fs.TestUnbuffer |\n|   | hadoop.hdfs.TestDFSStripedOutputStreamWithFailure070 |\n|   | hadoop.fs.viewfs.TestViewFsWithAcls |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\n|   | hadoop.hdfs.TestEncryptionZones |\n|   | hadoop.fs.TestResolveHdfsSymlink |\n|   | hadoop.fs.viewfs.TestViewFsDefaultValue |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractGetFileStatus |\n|   | hadoop.fs.viewfs.TestViewFileSystemHdfs |\n|   | hadoop.hdfs.TestDFSRemove |\n|   | hadoop.fs.viewfs.TestViewFsAtHdfsRoot |\n|   | hadoop.hdfs.server.namenode.TestAddOverReplicatedStripedBlocks |\n|   | hadoop.hdfs.TestFileCreationClient |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractCreate |\n|   | hadoop.fs.permission.TestStickyBit |\n|   | hadoop.hdfs.TestEncryptionZonesWithKMS |\n|   | hadoop.fs.TestSymlinkHdfsDisable |\n|   | hadoop.hdfs.TestLease |\n|   | hadoop.fs.TestGlobPaths |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSeek |\n|   | hadoop.fs.shell.TestHdfsTextCommand |\n| JDK v1.8.0_77 Timed out junit tests | org.apache.hadoop.hdfs.TestReplication |\n|   | org.apache.hadoop.hdfs.server.namenode.TestFsck |\n|   | org.apache.hadoop.hdfs.TestMissingBlocksAlert |\n|   | org.apache.hadoop.hdfs.TestClientReportBadBlock |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12800242/HDFS-9958.004.patch |\n| JIRA Issue | HDFS-9958 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 24ca437c8d52 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 5d4255a |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HDFS-Build/15255/artifact/patchprocess/diff-checkstyle-hadoop-hdfs-project_hadoop-hdfs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15255/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15255/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HDFS-Build/15255/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_77.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/15255/testReport/ |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/15255/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-22T18:41:00.406+0000","updated":"2016-04-22T18:41:00.406+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15256382","id":"15256382","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"This patch addresses the issue introduced in the previous patch of null storageID which lead to a couple of tests failures. This is fixed through doing a lookup if the storage is null and finding the appropriate storage if present.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-25T14:03:10.677+0000","updated":"2016-04-25T14:03:10.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15258225","id":"15258225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Requesting [~walter.k.su], [~daryn], [~kihwal] for review/comments. Thanks a lot!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-26T15:02:14.229+0000","updated":"2016-04-26T15:02:14.229+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15259457","id":"15259457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"body":"{code}\n@@ -1320,11 +1320,22 @@ public void findAndMarkBlockAsCorrupt(final ExtendedBlock blk,\n      ....\n+    if (storage == null) {\n+      storage = storedBlock.findStorageInfo(node);\n+    }\n{code}\nI'm surprised that most of the time, {{storageID}} is null. It makes the code above error prone, because the blk can be added/moved to another healthy storage in the same node. I suppose we should add the storageID message into the request.\n\n+1. re-trigger the jenkins.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-04-27T03:09:55.742+0000","updated":"2016-04-27T03:09:55.742+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15259647","id":"15259647","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 23s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 11m 35s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 1m 55s {color} | {color:green} trunk passed with JDK v1.8.0_92 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 1m 19s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 36s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 18s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 16s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 13s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 17s {color} | {color:green} trunk passed with JDK v1.8.0_92 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 58s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 54s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 55s {color} | {color:green} the patch passed with JDK v1.8.0_92 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 55s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 46s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 46s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 21s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 12s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 16s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 25s {color} | {color:green} the patch passed with JDK v1.8.0_92 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 3s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 96m 45s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.8.0_92. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 82m 6s {color} | {color:red} hadoop-hdfs in the patch failed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 214m 27s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_92 Failed junit tests | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.server.datanode.TestDataNodeLifeline |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n| JDK v1.7.0_95 Failed junit tests | hadoop.hdfs.shortcircuit.TestShortCircuitCache |\n|   | hadoop.hdfs.TestErasureCodeBenchmarkThroughput |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithSecureHdfs |\n|   | hadoop.metrics2.sink.TestRollingFileSystemSinkWithHdfs |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12800521/HDFS-9958.005.patch |\n| JIRA Issue | HDFS-9958 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 3f780bb544d7 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 68b4564 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_92 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15304/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_92.txt |\n| unit | https://builds.apache.org/job/PreCommit-HDFS-Build/15304/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HDFS-Build/15304/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.8.0_92.txt https://builds.apache.org/job/PreCommit-HDFS-Build/15304/artifact/patchprocess/patch-unit-hadoop-hdfs-project_hadoop-hdfs-jdk1.7.0_95.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/15304/testReport/ |\n| modules | C: hadoop-hdfs-project/hadoop-hdfs U: hadoop-hdfs-project/hadoop-hdfs |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/15304/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-27T06:45:06.876+0000","updated":"2016-04-27T06:45:06.876+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15259918","id":"15259918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"body":"Failed tests are not related. Will commit shortly if there's no further comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-04-27T10:12:43.086+0000","updated":"2016-04-27T10:12:43.086+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15260200","id":"15260200","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"I was on and off helping Kuhu with the patch.  I'll take a quick pass over it today.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-27T14:03:01.410+0000","updated":"2016-04-27T14:20:52.629+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15260226","id":"15260226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"bq. I'm surprised that most of the time, {{storageID}} is null.\nThe {{storageID}} is not always available. If a corruption is detected by the block/volume scanner, storageID can be filled in. But when bad blocks are reported by {{reportRemoteBadBlock()}} during re-replication or balancing, the reporting node won't know the ID. If we blindly make it report the locally available id, it will end up reporting a wrong id.  I think only {{DFSClient}} currently reports {{storageID}}.  This shouldn't be a problem as long as the assumption that a datanode stores only one replica/stripe of a block holds.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-27T14:15:24.856+0000","updated":"2016-04-27T14:15:24.856+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15261388","id":"15261388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"body":"bq. I think only DFSClient currently reports storageID.\nNo, it doesn't.\n{code}\n//DFSInputStream.java\n  protected void reportCheckSumFailure(CorruptedBlocks corruptedBlocks,\n      int dataNodeCount, boolean isStriped) {\n...\n        reportList.add(new LocatedBlock(blk, locs));\n      }\n    }\n...\n dfsClient.reportChecksumFailure(src,\n          reportList.toArray(new LocatedBlock[reportList.size()]));\n{code}\n\n{{locs}} is {{DatanodeInfoWithStorage}} actually, it has the storageIDs. But the {{LocatedBlock}} constructor is wrong.\n{code}\n  public LocatedBlock(ExtendedBlock b, DatanodeInfo[] locs) {\n    // By default, startOffset is unknown(-1) and corrupt is false.\n    this(b, locs, null, null, -1, false, EMPTY_LOCS);\n  }\n...\n...\n  public LocatedBlock(ExtendedBlock b, DatanodeInfo[] locs, String[] storageIDs,\n      StorageType[] storageTypes, long startOffset,\n      boolean corrupt, DatanodeInfo[] cachedLocs) {\n...\nDatanodeInfoWithStorage storage = new DatanodeInfoWithStorage(di,\n            storageIDs != null ? storageIDs[i] : null,\n            storageTypes != null ? storageTypes[i] : null);\n        this.locs[i] = storage;\n{code}\nIt loses the storageIDs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walter.k.su","name":"walter.k.su","key":"walter.k.su","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Walter Su","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-04-28T01:56:31.188+0000","updated":"2016-04-28T01:56:31.188+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262494","id":"15262494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"+1 Looks goods.  Will file a followup for other improvements.\n\nRegarding whether the client should pass the storage id or not, with the current design it definitely should not.  The client requests a block from the datanode.  The datanode serves from whatever storage it's on.  Now let's say the client thinks the block is on S1, but it's really on S3.  The storage cannot be honored.  Only the DN should report the storage because it's authoritative.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2016-04-28T16:50:11.275+0000","updated":"2016-04-28T16:50:11.275+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262598","id":"15262598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"Thanks for filing HDFS-10342 and HDFS-10343, Daryn.\n+1 from me too. I will commit it soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-28T17:41:13.634+0000","updated":"2016-04-28T17:41:13.634+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262603","id":"15262603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"[~kshukla] please post patches for other target branches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-28T17:44:28.347+0000","updated":"2016-04-28T17:44:28.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262619","id":"15262619","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #9688 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/9688/])\nHDFS-9958. BlockManager#createLocatedBlocks can throw NPE for (kihwal: rev 6243eabb48390fffada2418ade5adf9e0766afbe)\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestFileCorruption.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-28T17:54:25.331+0000","updated":"2016-04-28T17:54:25.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262694","id":"15262694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brahmareddy","name":"brahmareddy","key":"brahmareddy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brahmareddy&avatarId=24624","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brahmareddy&avatarId=24624","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brahmareddy&avatarId=24624","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brahmareddy&avatarId=24624"},"displayName":"Brahma Reddy Battula","active":true,"timeZone":"Asia/Kolkata"},"body":"I think, we can fix this simple way, where we include HDFS-10343 here only..\n\n{code}\n-    final DatanodeStorageInfo[] machines = new DatanodeStorageInfo[numMachines];\n+    //final DatanodeStorageInfo[] machines = new DatanodeStorageInfo[numMachines];\n+    List<DatanodeStorageInfo> machinesList= new ArrayList<>(numMachines) ;\n     final byte[] blockIndices = blk.isStriped() ? new byte[numMachines] : null;\n     int j = 0, i = 0;\n     if (numMachines > 0) {\n@@ -1048,7 +1049,9 @@ private LocatedBlock createLocatedBlock(final BlockInfo blk, final long pos)\n         final DatanodeDescriptor d = storage.getDatanodeDescriptor();\n         final boolean replicaCorrupt = corruptReplicas.isReplicaCorrupt(blk, d);\n         if (isCorrupt || (!replicaCorrupt)) {\n-          machines[j++] = storage;\n+          //machines[j++] = storage;\n+            j++;\n+            machinesList.add(storage);\n           // TODO this can be more efficient\n           if (blockIndices != null) {\n             byte index = ((BlockInfoStriped) blk).getStorageBlockIndex(storage);\n@@ -1058,6 +1061,7 @@ private LocatedBlock createLocatedBlock(final BlockInfo blk, final long pos)\n         }\n       }\n     }\n+    final DatanodeStorageInfo[] machines=machinesList.toArray(new DatanodeStorageInfo[j]);\n{code}\n\ncorrect me if I am wrong.. thanks..\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brahmareddy","name":"brahmareddy","key":"brahmareddy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brahmareddy&avatarId=24624","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brahmareddy&avatarId=24624","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brahmareddy&avatarId=24624","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brahmareddy&avatarId=24624"},"displayName":"Brahma Reddy Battula","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-04-28T18:37:08.165+0000","updated":"2016-04-28T18:37:08.165+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262709","id":"15262709","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"[~brahmareddy] I am apprehensive of using an ArrayList instead of the plain array since when I looked at an old thread for this code, it talked about how using lists will not be as fast. I can try and dig that out.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-28T18:45:05.328+0000","updated":"2016-04-28T18:45:05.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15262785","id":"15262785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"Attaching branch-2 and branch-2.7 patches.\n\nbranch-2 patch applies clean to branch-2.8.\n\n[~kihwal], Request for comments/review. Thanks a lot!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-28T19:19:12.859+0000","updated":"2016-04-28T19:19:12.859+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15263077","id":"15263077","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"+1 for the branch-2 version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-28T21:39:39.903+0000","updated":"2016-04-28T21:39:39.903+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15263089","id":"15263089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"+1 branch-2.7 patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-28T21:48:43.567+0000","updated":"2016-04-28T21:48:43.567+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15263092","id":"15263092","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"Committed this to trunk through branch-2.7. Thanks for working on this, [~kshukla] and thanks for reviews and feedback, [~walter.k.su].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-04-28T21:51:47.981+0000","updated":"2016-04-28T21:51:47.981+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15409698","id":"15409698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"I found out missed branch-2.8. Just picked it to branch-2.8.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-08-05T16:45:21.806+0000","updated":"2016-08-05T16:45:21.806+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12950016/comment/15437996","id":"15437996","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Closing the JIRA as part of 2.7.3 release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T23:00:04.866+0000","updated":"2016-08-25T23:00:04.866+0000"}],"maxResults":36,"total":36,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-9958/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2umh3:"}}