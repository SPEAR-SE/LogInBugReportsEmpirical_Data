{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12999360","self":"https://issues.apache.org/jira/rest/api/2/issue/12999360","key":"HDFS-10788","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2016-08-24T19:44:42.195+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Apr 26 22:26:27 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_116548162_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2016-08-25T05:27:07.966+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-10788/watchers","watchCount":10,"isWatching":false},"created":"2016-08-23T21:04:41.717+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327181","id":"12327181","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"issuelinks":[{"id":"12478535","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12478535","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12950016","key":"HDFS-9958","self":"https://issues.apache.org/jira/rest/api/2/issue/12950016","fields":{"summary":"BlockManager#createLocatedBlocks can throw NPE for corruptBlocks on failed storages.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12531184","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12531184","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13045520","key":"HDFS-11445","self":"https://issues.apache.org/jira/rest/api/2/issue/13045520","fields":{"summary":"FSCK shows overall health status as corrupt even one replica is corrupt","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-04-05T22:57:27.135+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312926","id":"12312926","name":"namenode"}],"timeoriginalestimate":null,"description":"Somehow (I haven't found root cause yet) we ended up with blocks that have corrupt replicas where the replica count is inconsistent between the blockmap and the corrupt replicas map. If we try to hdfs fsck any parent directory that has a child with one of these blocks, fsck will exit with something like this:\n\n{code}\n$ hdfs fsck /path/to/parent/dir/ | egrep -v '^\\.+$'\nConnecting to namenode via http://mynamenode:50070\nFSCK started by bot-hadoop (auth:KERBEROS_SSL) from /10.97.132.43 for path /path/to/parent/dir/ at Tue Aug 23 20:34:58 UTC 2016\n.........................................................................FSCK ended at Tue Aug 23 20:34:59 UTC 2016 in 1098 milliseconds\nnull\n\nFsck on path '/path/to/parent/dir/' FAILED\n{code}\n\nSo I start at the top, fscking every subdirectory until I find one or more that fails. Then I do the same thing with those directories (our top level directories all have subdirectories with date directories in them, which then contain the files) and once I find a directory with files in it, I run a checksum of the files in that directory. When I do that, I don't get the name of the file, rather I get:\nchecksum: java.lang.NullPointerException\n\nbut since the files are in order, I can figure it out by seeing which file was before the NPE. Once I get to this point, I can see the following in the namenode log when I try to checksum the corrupt file:\n\n2016-08-23 20:24:59,627 WARN org.apache.hadoop.hdfs.server.blockmanagement.BlockManager: Inconsistent number of corrupt replicas for blk_1335893388_1100036319546 blockMap has 0 but corrupt replicas map has 1\n2016-08-23 20:24:59,627 WARN org.apache.hadoop.ipc.Server: IPC Server handler 23 on 8020, call org.apache.hadoop.hdfs.protocol.ClientProtocol.getBlockLocations from 192.168.1.100:47785 Call#1 Retry#0\njava.lang.NullPointerException\n\nAt which point I can delete the file, but it is a very tedious process.\n\nIdeally, shouldn't fsck be able to emit the name of the file that is the source of the problem - and (if -delete is specified) get rid of the file, instead of exiting without saying why?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"fsck NullPointerException when it encounters corrupt replicas","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfield","name":"jfield","key":"jfield","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jfield&avatarId=23388","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jfield&avatarId=23388","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jfield&avatarId=23388","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jfield&avatarId=23388"},"displayName":"Jeff Field","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfield","name":"jfield","key":"jfield","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jfield&avatarId=23388","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jfield&avatarId=23388","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jfield&avatarId=23388","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jfield&avatarId=23388"},"displayName":"Jeff Field","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"CDH5.5.2, CentOS 6.7","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15433950","id":"15433950","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfield","name":"jfield","key":"jfield","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jfield&avatarId=23388","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jfield&avatarId=23388","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jfield&avatarId=23388","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jfield&avatarId=23388"},"displayName":"Jeff Field","active":true,"timeZone":"America/Los_Angeles"},"body":"For anyone that does encounter the problem, once you fsck your way down to a list of problem directories, you can generate a list of bad files themselves with:\n\n{code}\nfor i in `cat baddirs.txt`; do HADOOP_ROOT_LOGGER=TRACE,console hdfs dfs -checksum $i/\\* 2>&1 > /dev/null | grep -v DEBUG | grep -B1 \"org.apache.hadoop.ipc.RemoteException\" | head -n1 | cut -d\\\" -f2 >> badfiles.txt; done\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfield","name":"jfield","key":"jfield","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jfield&avatarId=23388","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jfield&avatarId=23388","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jfield&avatarId=23388","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jfield&avatarId=23388"},"displayName":"Jeff Field","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T00:39:16.422+0000","updated":"2016-08-24T00:40:14.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15435537","id":"15435537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"[~kshukla], I think one of your jiras fixed it. Please verify.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2016-08-24T19:44:42.195+0000","updated":"2016-08-24T19:44:42.195+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15435578","id":"15435578","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"I suspect it's HDFS-9958.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T20:08:37.670+0000","updated":"2016-08-24T20:08:37.670+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15435620","id":"15435620","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"[~jfield]. This is fixed in 2.7.3 through HDFS-9958. I am guessing this is from 2.6 HDFS as you mentioned in the affected version. Hope this helps.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-24T20:27:07.569+0000","updated":"2016-08-24T20:27:07.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15435658","id":"15435658","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~kshukla] for confirming my guess. I also traced the code and found {{ClientProtocol.getBlockLocations}} indirectly calls {{BlockManager#createLocatedBlocks}}. CDH5.5.2 is GA early this year before HDFS-9985 was committed so it does not have the fix HDFS-9985.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T20:51:50.540+0000","updated":"2016-08-24T21:23:07.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15435855","id":"15435855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfield","name":"jfield","key":"jfield","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jfield&avatarId=23388","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jfield&avatarId=23388","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jfield&avatarId=23388","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jfield&avatarId=23388"},"displayName":"Jeff Field","active":true,"timeZone":"America/Los_Angeles"},"body":"Perfect, thanks, I'll discuss a backport with my vendor/plan an upgrade.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfield","name":"jfield","key":"jfield","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jfield&avatarId=23388","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jfield&avatarId=23388","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jfield&avatarId=23388","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jfield&avatarId=23388"},"displayName":"Jeff Field","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T22:30:41.639+0000","updated":"2016-08-24T22:30:41.639+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15436315","id":"15436315","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yzhangal","name":"yzhangal","key":"yzhangal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongjun Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks guys, I'm marking it as duplicate of HDFS-9958.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yzhangal","name":"yzhangal","key":"yzhangal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongjun Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T05:27:08.089+0000","updated":"2016-08-25T05:27:08.089+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15983264","id":"15983264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"We are receiving multiple reports that users on CDH versions above CDH5.5.2 are still experiencing the same issue. It is not clear at this point if Apache Hadoop also carries the same bug, but I thought I should share this information.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-04-25T17:10:29.965+0000","updated":"2017-04-25T17:10:29.965+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15985482","id":"15985482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"body":"[~jojochuang], Thank you for the the update on this. Please correct me if I am wrong but CDH 5.5.x all have Hadoop 2.6 (which doesn't have this fix) or do we have a line of CDH release with 2.7 that still exhibits this issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kshukla","name":"kshukla","key":"kshukla","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Kuhu Shukla","active":true,"timeZone":"Etc/UTC"},"created":"2017-04-26T20:15:43.169+0000","updated":"2017-04-26T20:15:43.169+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12999360/comment/15985669","id":"15985669","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry for the confusion.\nCDH5.4 and above are based on Apache Hadoop 2.6. But we selectively backport 2.7, 2.8 and even trunk fixes and features. It's sometimes confusing so we have internal tools to map Apache Hadoop jira keys to CDH releases. :) What I want to say is that because of this logistical reason, it is entirely possible a CDH backport missed something else and creates a bug that's exclusive to CDH releases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-04-26T22:26:27.178+0000","updated":"2017-04-26T22:38:52.412+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-10788/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i32o93:"}}