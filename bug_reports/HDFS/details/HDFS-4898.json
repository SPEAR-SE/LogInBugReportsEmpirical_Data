{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12652206","self":"https://issues.apache.org/jira/rest/api/2/issue/12652206","key":"HDFS-4898","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324328","id":"12324328","description":"1.3.0 release","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324809","id":"12324809","description":"2.1.1-beta release","name":"2.1.1-beta","archived":false,"released":true,"releaseDate":"2013-09-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-08-04T14:56:58.823+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 10 15:08:02 UTC 2013","customfield_12310420":"332530","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_5582709347_*|*_1_*:*_2_*:*_287281_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-08-15T04:58:17.444+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4898/watchers","watchCount":5,"isWatching":false},"created":"2013-06-11T14:08:20.857+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321657","id":"12321657","description":"1.2.0 release","name":"1.2.0","archived":false,"released":true,"releaseDate":"2013-05-13"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324136","id":"12324136","description":"2.0.4-alpha bug-fix release","name":"2.0.4-alpha","archived":false,"released":true,"releaseDate":"2013-04-25"}],"issuelinks":[{"id":"12374994","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12374994","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12559114","key":"HADOOP-8468","self":"https://issues.apache.org/jira/rest/api/2/issue/12559114","fields":{"summary":"Umbrella of enhancements to support different failure and locality topologies","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":21141}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-09-24T23:33:17.424+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312926","id":"12312926","name":"namenode"}],"timeoriginalestimate":null,"description":"As currently implemented, {{BlockPlacementPolicyWithNodeGroup}} does not properly fallback to local rack when no nodes are available in remote racks, resulting in an improper {{NotEnoughReplicasException}}.\n\n{code:title=BlockPlacementPolicyWithNodeGroup.java}\n  @Override\n  protected void chooseRemoteRack(int numOfReplicas,\n      DatanodeDescriptor localMachine, HashMap<Node, Node> excludedNodes,\n      long blocksize, int maxReplicasPerRack, List<DatanodeDescriptor> results,\n      boolean avoidStaleNodes) throws NotEnoughReplicasException {\n    int oldNumOfReplicas = results.size();\n    // randomly choose one node from remote racks\n    try {\n      chooseRandom(\n          numOfReplicas,\n          \"~\" + NetworkTopology.getFirstHalf(localMachine.getNetworkLocation()),\n          excludedNodes, blocksize, maxReplicasPerRack, results,\n          avoidStaleNodes);\n    } catch (NotEnoughReplicasException e) {\n      chooseRandom(numOfReplicas - (results.size() - oldNumOfReplicas),\n          localMachine.getNetworkLocation(), excludedNodes, blocksize,\n          maxReplicasPerRack, results, avoidStaleNodes);\n    }\n  }\n{code}\n\nAs currently coded the {{chooseRandom()}} call in the {{catch}} block will never succeed as the set of nodes within the passed in node path (e.g. {{/rack1/nodegroup1}}) is entirely contained within the set of excluded nodes (both are the set of nodes within the same nodegroup as the node chosen first replica).\n\nThe bug is that the fallback {{chooseRandom()}} call in the catch block should be passing in the _complement_ of the node path used in the initial {{chooseRandom()}} call in the try block (e.g. {{/rack1}})  - namely:\n{code}\nNetworkTopology.getFirstHalf(localMachine.getNetworkLocation())\n{code}\n\nThis will yield the proper fallback behavior of choosing a random node from _within the same rack_, but still excluding those nodes _in the same nodegroup_","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12598151","id":"12598151","filename":"h4898_20130809_b-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-15T05:05:03.588+0000","size":1522,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12598151/h4898_20130809_b-1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597086","id":"12597086","filename":"h4898_20130809.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-09T15:00:45.989+0000","size":1654,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12597086/h4898_20130809.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"332859","customfield_12312823":null,"summary":"BlockPlacementPolicyWithNodeGroup.chooseRemoteRack() fails to properly fallback to local rack","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13680406","id":"13680406","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"body":"{noformat}\nindex 8cb072b..302981f 100644\n--- a/src/hdfs/org/apache/hadoop/hdfs/server/namenode/BlockPlacementPolicyWithNodeGroup.java\n+++ b/src/hdfs/org/apache/hadoop/hdfs/server/namenode/BlockPlacementPolicyWithNodeGroup.java\n@@ -178,7 +178,7 @@ public class BlockPlacementPolicyWithNodeGroup extends BlockPlacementPolicyDefau\n           avoidStaleNodes);\n     } catch (NotEnoughReplicasException e) {\n       chooseRandom(numOfReplicas - (results.size() - oldNumOfReplicas),\n-          localMachine.getNetworkLocation(), excludedNodes, blocksize,\n+          NetworkTopology.getFirstHalf(localMachine.getNetworkLocation()), excludedNodes, blocksize,\n           maxReplicasPerRack, results, avoidStaleNodes);\n     }\n   }\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"created":"2013-06-11T14:13:22.844+0000","updated":"2013-06-11T14:13:22.844+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13728899","id":"13728899","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Eric, good catch.  Let's use a local variable to store the network location, i.e.\n{code}\nfinal String networkLocation = NetworkTopology.getFirstHalf(localMachine.getNetworkLocation());\n{code}\nCould you post a patch?  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-04T14:56:58.823+0000","updated":"2013-08-04T14:56:58.823+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13729489","id":"13729489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"body":"Thanks Nicholas - yes, I will update the patch based on your suggestion.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"created":"2013-08-05T12:57:36.405+0000","updated":"2013-08-05T12:57:36.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13732015","id":"13732015","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"body":"Patch to BlockPlacementPolicyWithNodeGroup","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"created":"2013-08-07T14:10:42.201+0000","updated":"2013-08-07T14:10:42.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13732018","id":"13732018","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12596627/HDFS-4898.patch\n  against trunk revision .\n\n    {color:red}-1 patch{color}.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/4777//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-07T14:12:24.855+0000","updated":"2013-08-07T14:12:24.855+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13732049","id":"13732049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"body":"Sorry - let me regenerate the patch against trunk and use the proper \"--no-prefix\" flag to diff.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"created":"2013-08-07T14:29:55.398+0000","updated":"2013-08-07T14:29:55.398+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13732200","id":"13732200","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"body":"Patch generated against trunk with {{--no-prefix}} option.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"created":"2013-08-07T17:37:53.932+0000","updated":"2013-08-07T17:37:53.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13732625","id":"13732625","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12596663/HDFS-4898.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.TestCrcCorruption\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/4779//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/4779//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-07T19:34:03.226+0000","updated":"2013-08-07T19:34:03.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13734738","id":"13734738","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"body":"Nicholas - as discussed offline, from a legal perspective, I'm not yet able to contribute patches.  I hope to get this worked out soon with my employer, but for now, I'm reassigning the JIRA to you.  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sirianni","name":"sirianni","key":"sirianni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sirianni&avatarId=16970","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sirianni&avatarId=16970","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sirianni&avatarId=16970","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sirianni&avatarId=16970"},"displayName":"Eric Sirianni","active":true,"timeZone":"America/New_York"},"created":"2013-08-09T12:51:01.646+0000","updated":"2013-08-09T12:51:01.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13734867","id":"13734867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"h4898_20130809.patch: follows Eric's idea.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-09T15:00:45.992+0000","updated":"2013-08-09T15:00:45.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13736268","id":"13736268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12597086/h4898_20130809.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/4799//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/4799//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-11T12:19:35.708+0000","updated":"2013-08-11T12:19:35.708+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740054","id":"13740054","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"The failure of TestBlocksWithNotEnoughRacks is not related.  It does not use BlockPlacementPolicyWithNodeGroup at all.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-14T19:04:13.691+0000","updated":"2013-08-14T19:04:13.691+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740247","id":"13740247","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the patch. We should add a unit test for this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-14T21:52:32.497+0000","updated":"2013-08-14T21:52:32.497+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740676","id":"13740676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Suresh for reviewing the patch and thanks Eric for the idea.\n\nI have committed this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-15T04:58:17.468+0000","updated":"2013-08-15T04:58:17.468+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740678","id":"13740678","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"h4898_20130809_b-1.patch: for branch-1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-15T05:05:03.591+0000","updated":"2013-08-15T05:05:03.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740679","id":"13740679","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-trunk-Commit #4265 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/4265/])\nHDFS-4898. BlockPlacementPolicyWithNodeGroup.chooseRemoteRack() fails to properly fallback to local rack. (szetszwo: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1514156)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyWithNodeGroup.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-15T05:08:08.079+0000","updated":"2013-08-15T05:08:08.079+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740680","id":"13740680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Also committed the branch-1 patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-15T05:08:11.947+0000","updated":"2013-08-15T05:08:11.947+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740863","id":"13740863","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk #302 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/302/])\nHDFS-4898. BlockPlacementPolicyWithNodeGroup.chooseRemoteRack() fails to properly fallback to local rack. (szetszwo: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1514156)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyWithNodeGroup.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-15T10:56:23.173+0000","updated":"2013-08-15T10:56:23.173+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13740935","id":"13740935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #1492 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1492/])\nHDFS-4898. BlockPlacementPolicyWithNodeGroup.chooseRemoteRack() fails to properly fallback to local rack. (szetszwo: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1514156)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyWithNodeGroup.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-15T13:15:24.507+0000","updated":"2013-08-15T13:15:24.507+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13741006","id":"13741006","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #1519 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1519/])\nHDFS-4898. BlockPlacementPolicyWithNodeGroup.chooseRemoteRack() fails to properly fallback to local rack. (szetszwo: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1514156)\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyWithNodeGroup.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-15T14:45:55.811+0000","updated":"2013-08-15T14:45:55.811+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652206/comment/13763101","id":"13763101","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks for fixing it. Eric and Nicholas! Link it to HADOOP-8468.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-09-10T15:08:02.817+0000","updated":"2013-09-10T15:08:02.817+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4898/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1ld53:"}}