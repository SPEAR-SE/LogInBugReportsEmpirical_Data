{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12888627","self":"https://issues.apache.org/jira/rest/api/2/issue/12888627","key":"HDFS-9107","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329057","id":"12329057","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334218","id":"12334218","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12341257","id":"12341257","description":"2.7.5 release","name":"2.7.5","archived":false,"released":true,"releaseDate":"2017-12-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-09-18T18:25:58.474+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Aug 30 23:17:44 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_3869348_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_617124950","customfield_12312321":null,"resolutiondate":"2015-09-25T22:33:30.435+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-9107/watchers","watchCount":25,"isWatching":false},"created":"2015-09-18T18:03:36.191+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320353","id":"12320353","description":"hadoop-2.0.0-alpha release","name":"2.0.0-alpha","archived":false,"released":true,"releaseDate":"2012-05-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-08-30T23:17:45.010+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312926","id":"12312926","name":"namenode"}],"timeoriginalestimate":null,"description":"A full GC pause in the NN that exceeds the dead node interval can lead to an infinite cycle of full GCs.  The most common situation that precipitates an unrecoverable state is a network issue that temporarily cuts off multiple racks.\n\nThe NN wakes up and falsely starts marking nodes dead. This bloats the replication queues which increases memory pressure. The replications create a flurry of incremental block reports and a glut of over-replicated blocks.\n\nThe \"dead\" nodes heartbeat within seconds. The NN forces a re-registration which requires a full block report - more memory pressure. The NN now has to invalidate all the over-replicated blocks. The extra blocks are added to invalidation queues, tracked in an excess blocks map, etc - much more memory pressure.\n\nAll the memory pressure can push the NN into another full GC which repeats the entire cycle.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329057","id":"12329057","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12761485","id":"12761485","filename":"HDFS-9107.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2015-09-21T20:16:29.140+0000","size":5921,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12761485/HDFS-9107.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12761170","id":"12761170","filename":"HDFS-9107.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2015-09-18T19:05:48.273+0000","size":1081,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12761170/HDFS-9107.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Prevent NN's unrecoverable death spiral after full GC","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14876097","id":"14876097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=esteban","name":"esteban","key":"esteban","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=esteban&avatarId=19662","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=esteban&avatarId=19662","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=esteban&avatarId=19662","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=esteban&avatarId=19662"},"displayName":"Esteban Gutierrez","active":true,"timeZone":"America/Chicago"},"body":"Perhaps us the JvmPauseMonitor to monitor for a large pause and delay the expiration if above a threshold?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=esteban","name":"esteban","key":"esteban","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=esteban&avatarId=19662","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=esteban&avatarId=19662","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=esteban&avatarId=19662","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=esteban&avatarId=19662"},"displayName":"Esteban Gutierrez","active":true,"timeZone":"America/Chicago"},"created":"2015-09-18T18:25:58.474+0000","updated":"2015-09-18T18:25:58.474+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14876162","id":"14876162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"Not perfect, but simple way to prevent nodes being marked dead.  Tried other fancy techniques with an exponential moving average to delay based on excess pause time.  Settled on simple.\n\nWriting a test will require heavy instrumentation of the code.  Hopefully it's simple enough that I'll get a free pass.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2015-09-18T19:05:48.277+0000","updated":"2015-09-18T19:05:48.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14876346","id":"14876346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  17m 50s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |\n| {color:green}+1{color} | javac |   7m 56s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |  10m 18s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   1m 22s | There were no new checkstyle issues. |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 29s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   2m 31s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:green}+1{color} | native |   3m 12s | Pre-build of native portion |\n| {color:red}-1{color} | hdfs tests |  42m 47s | Tests failed in hadoop-hdfs. |\n| | |  88m 26s | |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed unit tests | hadoop.hdfs.TestFileStatus |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes |\n|   | hadoop.hdfs.server.namenode.TestINodeFile |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractOpen |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCache |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart |\n|   | hadoop.hdfs.TestFileCreationDelete |\n|   | hadoop.hdfs.server.namenode.ha.TestHASafeMode |\n|   | hadoop.hdfs.TestEncryptionZonesWithHA |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractMkdir |\n|   | hadoop.hdfs.server.namenode.TestNameNodeXAttr |\n|   | hadoop.hdfs.server.namenode.ha.TestBootstrapStandby |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitCache |\n|   | hadoop.hdfs.TestDecommission |\n|   | hadoop.hdfs.server.namenode.TestFSEditLogLoader |\n|   | hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |\n|   | hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages |\n|   | hadoop.hdfs.server.datanode.TestCachingStrategy |\n|   | hadoop.hdfs.server.datanode.TestDirectoryScanner |\n|   | hadoop.cli.TestXAttrCLI |\n|   | hadoop.hdfs.server.namenode.TestDeleteRace |\n|   | hadoop.hdfs.server.namenode.TestParallelImageWrite |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys |\n|   | hadoop.hdfs.server.namenode.TestNNStorageRetentionFunctional |\n|   | hadoop.hdfs.server.namenode.TestSaveNamespace |\n|   | hadoop.hdfs.TestDFSRename |\n|   | hadoop.hdfs.util.TestDiff |\n|   | hadoop.hdfs.server.datanode.TestDataNodeFSDataSetSink |\n|   | hadoop.hdfs.server.namenode.TestFsck |\n|   | hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaPlacement |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration |\n|   | hadoop.hdfs.server.datanode.TestDeleteBlockPool |\n|   | hadoop.hdfs.TestRemoteBlockReader2 |\n|   | hadoop.hdfs.server.namenode.TestStorageRestore |\n|   | hadoop.hdfs.server.namenode.TestFileLimit |\n|   | hadoop.hdfs.server.blockmanagement.TestNodeCount |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSetTimes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots |\n|   | hadoop.hdfs.qjournal.TestNNWithQJM |\n|   | hadoop.hdfs.server.namenode.TestFSPermissionChecker |\n|   | hadoop.hdfs.server.namenode.TestSecureNameNode |\n|   | hadoop.hdfs.server.namenode.TestFileContextAcl |\n|   | hadoop.hdfs.server.datanode.TestDataXceiverLazyPersistHint |\n|   | hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA |\n|   | hadoop.hdfs.TestDataTransferProtocol |\n|   | hadoop.fs.viewfs.TestViewFsWithXAttrs |\n|   | hadoop.hdfs.server.datanode.TestDiskError |\n|   | hadoop.hdfs.TestFsShellPermission |\n|   | hadoop.hdfs.server.namenode.TestMalformedURLs |\n|   | hadoop.hdfs.TestReadWhileWriting |\n|   | hadoop.fs.TestSWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.TestIsMethodSupported |\n|   | hadoop.hdfs.TestParallelShortCircuitReadNoChecksum |\n|   | hadoop.hdfs.server.blockmanagement.TestAvailableSpaceBlockPlacementPolicy |\n|   | hadoop.hdfs.TestFileCreationClient |\n|   | hadoop.cli.TestAclCLI |\n|   | hadoop.hdfs.TestFSOutputSummer |\n|   | hadoop.fs.TestHDFSFileContextMainOperations |\n|   | hadoop.hdfs.TestDFSStartupVersions |\n|   | hadoop.hdfs.server.namenode.ha.TestFailureOfSharedDir |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters |\n|   | hadoop.hdfs.TestParallelShortCircuitLegacyRead |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |\n|   | hadoop.hdfs.server.namenode.ha.TestStateTransitionFailure |\n|   | hadoop.hdfs.server.namenode.TestGenericJournalConf |\n|   | hadoop.hdfs.server.namenode.ha.TestSeveralNameNodes |\n|   | hadoop.hdfs.TestFileAppend2 |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistLockedMemory |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup |\n|   | hadoop.hdfs.server.datanode.TestSimulatedFSDataset |\n|   | hadoop.hdfs.server.datanode.TestTransferRbw |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractSeek |\n|   | hadoop.hdfs.TestLocalDFS |\n|   | hadoop.hdfs.server.mover.TestStorageMover |\n|   | hadoop.hdfs.server.datanode.TestDataStorage |\n|   | hadoop.hdfs.server.namenode.TestTruncateQuotaUpdate |\n|   | hadoop.hdfs.server.namenode.TestMetadataVersionOutput |\n|   | hadoop.hdfs.server.namenode.ha.TestHAAppend |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithAcl |\n|   | hadoop.fs.TestUnbuffer |\n|   | hadoop.hdfs.TestDFSPermission |\n|   | hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks |\n|   | hadoop.hdfs.server.namenode.TestAddBlock |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles |\n|   | hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold |\n|   | hadoop.hdfs.server.namenode.TestMetaSave |\n|   | hadoop.hdfs.TestSmallBlock |\n|   | hadoop.hdfs.tools.TestDFSHAAdmin |\n|   | hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks |\n|   | hadoop.tracing.TestTracing |\n|   | hadoop.hdfs.server.datanode.TestBPOfferService |\n|   | hadoop.hdfs.server.namenode.TestCommitBlockSynchronization |\n|   | hadoop.hdfs.server.datanode.TestDatanodeRegister |\n|   | hadoop.hdfs.server.datanode.TestDataDirs |\n|   | hadoop.hdfs.server.datanode.TestTriggerBlockReport |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyWriter |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractConcat |\n|   | hadoop.hdfs.TestReplication |\n|   | hadoop.hdfs.server.namenode.TestEditLog |\n|   | hadoop.security.TestRefreshUserMappings |\n|   | hadoop.hdfs.server.namenode.snapshot.TestFileContextSnapshot |\n|   | hadoop.hdfs.server.mover.TestMover |\n|   | hadoop.hdfs.tools.TestDFSZKFailoverController |\n|   | hadoop.hdfs.TestDefaultNameNodePort |\n|   | hadoop.hdfs.server.namenode.TestHDFSConcat |\n|   | hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithXAttr |\n|   | hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer |\n|   | hadoop.hdfs.TestDatanodeStartupFixesLegacyStorageIDs |\n|   | hadoop.security.TestPermissionSymlinks |\n|   | hadoop.hdfs.TestHFlush |\n|   | hadoop.hdfs.server.namenode.TestDecommissioningStatus |\n|   | hadoop.fs.TestSymlinkHdfsDisable |\n|   | hadoop.hdfs.server.namenode.TestQuotaByStorageType |\n|   | hadoop.hdfs.TestFileCreation |\n|   | hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot |\n|   | hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork |\n|   | hadoop.hdfs.server.namenode.ha.TestQuotasWithHA |\n|   | hadoop.fs.TestSymlinkHdfsFileContext |\n|   | hadoop.hdfs.qjournal.TestSecureNNWithQJM |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting |\n|   | hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits |\n|   | hadoop.hdfs.server.namenode.ha.TestHAStateTransitions |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot |\n|   | hadoop.hdfs.server.namenode.metrics.TestNNMetricFilesInGetListingOps |\n|   | hadoop.hdfs.TestRollingUpgradeDowngrade |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover |\n|   | hadoop.hdfs.TestBlockReaderFactory |\n|   | hadoop.hdfs.TestDFSOutputStream |\n|   | hadoop.fs.TestUrlStreamHandler |\n|   | hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot |\n|   | hadoop.hdfs.TestModTime |\n|   | hadoop.hdfs.server.namenode.ha.TestEditLogTailer |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithXAttrs |\n|   | hadoop.hdfs.TestAppendSnapshotTruncate |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRecovery |\n|   | hadoop.hdfs.TestRestartDFS |\n|   | hadoop.hdfs.TestDistributedFileSystem |\n|   | hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade |\n|   | hadoop.hdfs.TestInjectionForSimulatedStorage |\n|   | hadoop.hdfs.TestMiniDFSCluster |\n|   | hadoop.hdfs.server.datanode.TestFsDatasetCacheRevocation |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshot |\n|   | hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots |\n|   | hadoop.hdfs.server.namenode.TestProtectedDirectories |\n|   | hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMetricsLogger |\n|   | hadoop.hdfs.server.balancer.TestBalancer |\n|   | hadoop.hdfs.server.namenode.TestAuditLogs |\n|   | hadoop.hdfs.server.namenode.TestFileTruncate |\n|   | hadoop.fs.TestWebHdfsFileContextMainOperations |\n|   | hadoop.hdfs.server.namenode.ha.TestNNHealthCheck |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |\n|   | hadoop.hdfs.TestDFSAddressConfig |\n|   | hadoop.fs.TestSymlinkHdfsFileSystem |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics |\n|   | hadoop.tools.TestJMXGet |\n|   | hadoop.hdfs.server.namenode.TestEditLogJournalFailures |\n|   | hadoop.hdfs.TestDFSMkdirs |\n|   | hadoop.hdfs.TestWriteRead |\n|   | hadoop.hdfs.TestClientBlockVerification |\n|   | hadoop.fs.viewfs.TestViewFsDefaultValue |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistFiles |\n|   | hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages |\n|   | hadoop.hdfs.TestDatanodeConfig |\n|   | hadoop.hdfs.server.namenode.TestNameNodeResourceChecker |\n|   | hadoop.hdfs.server.datanode.TestDataNodeECN |\n|   | hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestAclConfigFlag |\n|   | hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd |\n|   | hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA |\n|   | hadoop.hdfs.server.namenode.TestFsLimits |\n|   | hadoop.hdfs.server.namenode.TestBackupNode |\n|   | hadoop.cli.TestHDFSCLI |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyIsHot |\n|   | hadoop.hdfs.server.namenode.TestAllowFormat |\n|   | hadoop.hdfs.server.namenode.TestValidateConfigurationSettings |\n|   | hadoop.hdfs.server.namenode.TestBlockPlacementPolicyRackFaultTolerant |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRpcServer |\n|   | hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractDelete |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistReplicaRecovery |\n|   | hadoop.hdfs.server.namenode.TestCheckpoint |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing |\n|   | hadoop.hdfs.server.namenode.TestDeadDatanode |\n|   | hadoop.hdfs.TestDatanodeReport |\n|   | hadoop.hdfs.server.namenode.ha.TestPipelinesFailover |\n|   | hadoop.hdfs.server.namenode.TestAuditLogger |\n|   | hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA |\n|   | hadoop.hdfs.server.namenode.TestNNThroughputBenchmark |\n|   | hadoop.hdfs.server.datanode.TestDatanodeProtocolRetryPolicy |\n|   | hadoop.hdfs.TestDFSShellGenericOptions |\n|   | hadoop.security.TestPermission |\n|   | hadoop.hdfs.TestMissingBlocksAlert |\n|   | hadoop.fs.viewfs.TestViewFsHdfs |\n|   | hadoop.hdfs.TestClose |\n|   | hadoop.cli.TestDeleteCLI |\n|   | hadoop.hdfs.tools.TestDebugAdmin |\n|   | hadoop.hdfs.TestFileCorruption |\n|   | hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes |\n|   | hadoop.fs.TestFcHdfsCreateMkdir |\n|   | hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing |\n|   | hadoop.hdfs.server.datanode.TestDataNodeUUID |\n|   | hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer |\n|   | hadoop.hdfs.server.namenode.TestXAttrConfigFlag |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication |\n|   | hadoop.fs.permission.TestStickyBit |\n|   | hadoop.hdfs.client.impl.TestLeaseRenewer |\n|   | hadoop.hdfs.tools.TestDFSAdminWithHA |\n|   | hadoop.fs.viewfs.TestViewFsWithAcls |\n|   | hadoop.hdfs.tools.TestStoragePolicyCommands |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |\n|   | hadoop.hdfs.server.datanode.TestDatanodeStartupOptions |\n|   | hadoop.hdfs.server.namenode.TestStartup |\n|   | hadoop.hdfs.TestMultiThreadedHflush |\n|   | hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits |\n|   | hadoop.TestGenericRefresh |\n|   | hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics |\n|   | hadoop.hdfs.server.datanode.TestBlockReplacement |\n|   | hadoop.hdfs.server.datanode.TestBlockPoolManager |\n|   | hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead |\n|   | hadoop.hdfs.TestQuota |\n|   | hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks |\n|   | hadoop.hdfs.security.TestDelegationTokenForProxyUser |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockStatsMXBean |\n|   | hadoop.fs.viewfs.TestViewFsAtHdfsRoot |\n|   | hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingReplication |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion |\n|   | hadoop.hdfs.TestCrcCorruption |\n|   | hadoop.hdfs.server.namenode.TestSecurityTokenEditLog |\n|   | hadoop.tracing.TestTracingShortCircuitLocalRead |\n|   | hadoop.fs.TestFcHdfsPermission |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicy |\n|   | hadoop.hdfs.TestLeaseRecovery |\n|   | hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRootDirectory |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractCreate |\n|   | hadoop.hdfs.server.datanode.TestBlockHasMultipleReplicasOnSameDN |\n|   | hadoop.hdfs.TestFileAppend |\n|   | hadoop.hdfs.TestGetBlocks |\n|   | hadoop.hdfs.web.TestWebHDFSOAuth2 |\n|   | hadoop.hdfs.server.namenode.TestProcessCorruptBlocks |\n|   | hadoop.fs.TestResolveHdfsSymlink |\n|   | hadoop.hdfs.server.datanode.TestStorageReport |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForAcl |\n|   | hadoop.hdfs.TestDFSUpgrade |\n|   | hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock |\n|   | hadoop.hdfs.server.namenode.TestCacheDirectives |\n|   | hadoop.hdfs.server.namenode.TestNameNodeMXBean |\n|   | hadoop.hdfs.server.namenode.TestLargeDirectoryDelete |\n|   | hadoop.hdfs.server.namenode.TestFSImageWithSnapshot |\n|   | hadoop.tracing.TestTraceAdmin |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap |\n|   | hadoop.hdfs.server.namenode.TestGetImageServlet |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename |\n|   | hadoop.hdfs.server.namenode.TestNameEditsConfigs |\n|   | hadoop.cli.TestCacheAdminCLI |\n|   | hadoop.hdfs.server.datanode.TestDataNodeExit |\n|   | hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication |\n|   | hadoop.hdfs.server.datanode.TestRefreshNamenodes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport |\n|   | hadoop.hdfs.server.namenode.TestHostsFiles |\n|   | hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA |\n|   | hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength |\n|   | hadoop.hdfs.server.namenode.TestEditLogRace |\n|   | hadoop.hdfs.server.namenode.ha.TestHAConfiguration |\n|   | hadoop.hdfs.server.namenode.TestFSNamesystem |\n|   | hadoop.TestRefreshCallQueue |\n|   | hadoop.hdfs.TestSetTimes |\n|   | hadoop.hdfs.TestDFSUpgradeFromImage |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica |\n|   | hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetrics |\n|   | hadoop.fs.TestEnhancedByteBufferAccess |\n|   | hadoop.cli.TestCryptoAdminCLI |\n|   | hadoop.hdfs.TestClientProtocolForPipelineRecovery |\n|   | hadoop.hdfs.TestDFSStorageStateRecovery |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractGetFileStatus |\n|   | hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy |\n|   | hadoop.hdfs.server.namenode.TestNamenodeCapacityReport |\n|   | hadoop.hdfs.TestBlockMissingException |\n|   | hadoop.hdfs.server.namenode.TestSnapshotPathINodes |\n|   | hadoop.hdfs.server.namenode.TestLeaseManager |\n|   | hadoop.hdfs.server.datanode.web.dtp.TestDtpHttp2 |\n|   | hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade |\n|   | hadoop.fs.viewfs.TestViewFileSystemHdfs |\n|   | hadoop.hdfs.server.datanode.TestBlockRecovery |\n|   | hadoop.hdfs.tools.TestDFSHAAdminMiniCluster |\n|   | hadoop.hdfs.security.TestDelegationToken |\n|   | hadoop.hdfs.server.namenode.TestBlockUnderConstruction |\n|   | hadoop.hdfs.TestFileConcurrentReader |\n|   | hadoop.hdfs.TestDFSClientRetries |\n|   | hadoop.hdfs.server.namenode.TestINodeAttributeProvider |\n|   | hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens |\n|   | hadoop.hdfs.tools.TestDFSAdmin |\n|   | hadoop.hdfs.TestRead |\n|   | hadoop.hdfs.TestDFSInotifyEventInputStream |\n|   | hadoop.hdfs.server.datanode.TestDataNodeInitStorage |\n|   | hadoop.hdfs.server.namenode.TestFSNamesystemMBean |\n|   | hadoop.fs.loadGenerator.TestLoadGenerator |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractAppend |\n|   | hadoop.hdfs.server.namenode.TestSecondaryWebUi |\n|   | hadoop.fs.viewfs.TestViewFileSystemWithAcls |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBlockReports |\n|   | hadoop.hdfs.TestSetrepIncreasing |\n|   | hadoop.fs.TestFcHdfsSetUMask |\n|   | hadoop.hdfs.TestLargeBlock |\n|   | hadoop.hdfs.server.namenode.ha.TestLossyRetryInvocationHandler |\n|   | hadoop.hdfs.TestFileAppend3 |\n|   | hadoop.hdfs.server.blockmanagement.TestSequentialBlockId |\n|   | hadoop.hdfs.TestDFSClientFailover |\n|   | hadoop.hdfs.server.namenode.TestGetBlockLocations |\n|   | hadoop.hdfs.server.datanode.TestDataNodeHotSwapVolumes |\n|   | hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean |\n|   | hadoop.hdfs.server.datanode.TestReadOnlySharedStorage |\n|   | hadoop.hdfs.server.namenode.ha.TestHAMetrics |\n|   | hadoop.hdfs.server.namenode.TestFSDirectory |\n|   | hadoop.hdfs.server.namenode.TestEditLogAutoroll |\n|   | hadoop.hdfs.server.namenode.TestFSImage |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistPolicy |\n|   | hadoop.hdfs.server.namenode.TestAddBlockRetry |\n|   | hadoop.hdfs.server.namenode.ha.TestRemoteNameNodeInfo |\n|   | hadoop.hdfs.server.datanode.TestBlockScanner |\n|   | hadoop.hdfs.TestPipelines |\n|   | hadoop.hdfs.TestAppendDifferentChecksum |\n|   | hadoop.hdfs.server.namenode.TestTransferFsImage |\n|   | hadoop.hdfs.server.namenode.ha.TestHAFsck |\n|   | hadoop.hdfs.TestSeekBug |\n|   | hadoop.hdfs.TestFileAppend4 |\n|   | hadoop.hdfs.TestDFSRemove |\n|   | hadoop.hdfs.server.blockmanagement.TestBlockReportRateLimiting |\n|   | hadoop.hdfs.server.blockmanagement.TestReplicationPolicyConsiderLoad |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer |\n|   | hadoop.hdfs.TestBlockReaderLocalLegacy |\n|   | hadoop.hdfs.TestBlocksScheduledCounter |\n|   | hadoop.hdfs.TestExternalBlockReader |\n|   | hadoop.fs.viewfs.TestViewFsFileStatusHdfs |\n|   | hadoop.hdfs.TestSnapshotCommands |\n|   | hadoop.hdfs.server.datanode.TestDataNodeTransferSocketSize |\n|   | hadoop.fs.shell.TestHdfsTextCommand |\n|   | hadoop.hdfs.TestWriteConfigurationToDFS |\n|   | hadoop.hdfs.TestDFSRollback |\n|   | hadoop.hdfs.server.namenode.snapshot.TestGetContentSummaryWithSnapshot |\n|   | hadoop.hdfs.TestFSInputChecker |\n|   | hadoop.hdfs.server.namenode.TestClusterId |\n|   | hadoop.hdfs.server.namenode.ha.TestStandbyBlockManagement |\n|   | hadoop.fs.TestGlobPaths |\n|   | hadoop.hdfs.TestDataTransferKeepalive |\n|   | hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM |\n|   | hadoop.hdfs.TestHDFSTrash |\n|   | hadoop.hdfs.server.namenode.TestNameNodeAcl |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestSpaceReservation |\n|   | hadoop.fs.contract.hdfs.TestHDFSContractRename |\n|   | hadoop.hdfs.TestHDFSServerPorts |\n|   | hadoop.hdfs.TestRenameWhileOpen |\n|   | hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol |\n|   | hadoop.hdfs.server.datanode.TestDataNodeMetricsLogger |\n|   | hadoop.hdfs.TestHDFSFileSystemContract |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForXAttr |\n|   | hadoop.net.TestNetworkTopology |\n|   | hadoop.hdfs.security.token.block.TestBlockToken |\n|   | hadoop.hdfs.server.datanode.TestIncrementalBrVariations |\n|   | hadoop.hdfs.server.datanode.TestHSync |\n|   | hadoop.hdfs.server.namenode.TestNamenodeRetryCache |\n|   | hadoop.hdfs.server.datanode.fsdataset.impl.TestFsDatasetImpl |\n|   | hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure |\n|   | hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForContentSummary |\n|   | hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup |\n|   | hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality |\n|   | hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |\n|   | hadoop.hdfs.server.namenode.ha.TestDNFencing |\n|   | hadoop.hdfs.server.namenode.TestCreateEditsLog |\n|   | hadoop.hdfs.server.namenode.TestFileContextXAttr |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12761170/HDFS-9107.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 88d89267 |\n| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12545/artifact/patchprocess/testrun_hadoop-hdfs.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12545/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf900.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12545/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-18T20:37:13.468+0000","updated":"2015-09-18T20:37:13.468+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14877072","id":"14877072","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"# I don't trust monotonicNow if the thread can suspend between calls; cores on different sockets *may* give different answers, though it's not something I've seen in the field.\n# kicking off a new test run; this looks like an mvn dependency failure","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-09-19T11:55:17.108+0000","updated":"2015-09-19T11:55:17.108+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14900335","id":"14900335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hitliuyi","name":"hitliuyi","key":"hitliuyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yi Liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~daryn], the issue seems critical.\nI have few comments:\n*1.* the default heartbeat recheck interval is 5 minutes if not configured, is it possible a full GC longer than 5 minutes? I see some full gc lasts tens of seconds, but not saw so long, of course, it depends on the heap size (old generation). Actually the data node dead (heartbeat expire) interval is 2x than heartbeat recheck interval, so the full gc should last 10 minutes.\n\n*2.* The patch assumes the full gc happens during the {{sleep}}, it's most possible, but if it happens after {{long now = ..}} or setting {{lastHeatbeatCheck}} to {{now}}, the issue still exists, even though small probability. \n\nBut I would like to give +1 for the patch, since it solves the issue if really happen, and doesn't affect existing logic.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hitliuyi","name":"hitliuyi","key":"hitliuyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yi Liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-21T07:48:52.881+0000","updated":"2015-09-21T07:48:52.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14900352","id":"14900352","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hitliuyi","name":"hitliuyi","key":"hitliuyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yi Liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Sorry I just see Steve's comments. \n{quote}\ncores on different sockets may give different answers\n{quote}\nAbout the {{nanoTime}}, yes, I also ever saw similar points and discussion like this, but seems it's not correct and {{nanoTime}} is safe, see more discussion in http://stackoverflow.com/questions/510462/is-system-nanotime-completely-useless.  (There are some links to oracle article in the discussion.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hitliuyi","name":"hitliuyi","key":"hitliuyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yi Liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-21T08:08:10.495+0000","updated":"2015-09-21T08:08:58.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14900820","id":"14900820","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"[~hitliuyi], good points.\n\n# Trust me, it's more than possible for a ~10 min full GC with a big heap.  We've even bumped the recheck up on the largest clusters.  I should mention these big clusters go through 2-4 full GCs at startup while loading...  The overhead of artificially losing nodes doesn't help.  This patch won't stop a full GC during image load, or the first full GC in safemode, but should reduce the probability of additional full GCs.\n# I thought of the exact same thing this weekend.  I'll post a revised and equally small patch that addresses the issue more thoroughly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2015-09-21T15:26:23.103+0000","updated":"2015-09-21T15:26:23.103+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14901165","id":"14901165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. I don't trust monotonicNow if the thread can suspend between calls; cores on different sockets may give different answers, though it's not something I've seen in the field.\n\nOracle's blog here [ https://blogs.oracle.com/dholmes/entry/inside_the_hotspot_vm_clocks ] says:\n\nbq. If you are interested in measuring/calculating elapsed time, then always use System.nanoTime(). On most systems it will give a resolution on the order of microseconds. Be aware though, this call can also take microseconds to execute on some platforms.\n\nOf course, {{System#nanoTime}} is just a very thin wrapper around the operating system's monotonic clock.  In x86-land, the monotonic clock generally comes from one of two sources: the TSC (timestamp counter) or the HPET (high precision event timer).\n\nIn the 2000s, the TSC started becoming less useful because multi-core systems started becoming more common, and at that time, TSC wasn't synchronized across cores.  This has since changed (at least for Intel systems), and the TSC is now synchronized across cores.  So the alarm you are raising is about 5 years too late.  Anyway, if you have a \"bad\" TSC, you can still get {{System#nanoTime}} to behave correctly by switching your operating system's clock source to the HPET.  It's slower, but more reliable.\n\nIf you want to read more about this, check out https://software.intel.com/en-us/forums/intel-isa-extensions/topic/332570\n\ntl;dr\n1. Operating systems implement various tricks to work around TSC bad behaviors\n2. TSC bad behaviors are becoming less common in modern CPUs\n3. You don't have to use the TSC if you don't want to!\n\nLet's let the hardware and OS people do their job and just do ours.\n\nI agree with [~hitliuyi]... +1 for the patch.  Would be even better if we could close that small window of a GC happening at a time other than during the {{Thread#sleep}}.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-21T18:42:59.576+0000","updated":"2015-09-21T18:42:59.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14901312","id":"14901312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"Use a stopwatch to abort processing in the inner heartbeat checking loop, and then check at end of the entire scan for whether to skip next scan.  Even added a meager test.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2015-09-21T20:16:29.143+0000","updated":"2015-09-21T20:16:29.143+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14901673","id":"14901673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  17m 54s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | javac |   8m 21s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |  10m 25s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   1m 22s | There were no new checkstyle issues. |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 41s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   2m 31s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:green}+1{color} | native |   3m 16s | Pre-build of native portion |\n| {color:red}-1{color} | hdfs tests | 198m  6s | Tests failed in hadoop-hdfs. |\n| | | 244m 36s | |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed unit tests | hadoop.hdfs.TestReplaceDatanodeOnFailure |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12761485/HDFS-9107.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / b00392d |\n| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12574/artifact/patchprocess/testrun_hadoop-hdfs.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12574/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12574/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-22T00:26:39.832+0000","updated":"2015-09-22T00:26:39.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14903048","id":"14903048","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"I guess if we want to be 100% correct, we have to do the stopwatch check right after getting back a \"true\" result from {{DatanodeManager#isDatanodeDead}}, right?  Otherwise we could always have a TOCTOU where we have a long GC pause right before calling that function.  What do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-22T17:37:38.146+0000","updated":"2015-09-22T17:37:38.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14903077","id":"14903077","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"Also (although I don't feel strongly about this), I don't think we need to optimize by checking at end of the entire scan for whether to skip the next scan.  Long GCs are rare enough that we don't need to optimize the code path... just keep it simple.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-22T17:50:11.215+0000","updated":"2015-09-22T17:50:11.215+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14908763","id":"14908763","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"+1.  Test failures not related.  We can do cleanups in a follow-on.  Thanks, [~daryn]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T22:24:06.171+0000","updated":"2015-09-25T22:24:06.171+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14908831","id":"14908831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #441 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/441/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-25T22:59:12.016+0000","updated":"2015-09-25T22:59:12.016+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14908887","id":"14908887","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #8521 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8521/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-25T23:35:08.281+0000","updated":"2015-09-25T23:35:08.281+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14908941","id":"14908941","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk-Java8 #448 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/448/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-26T00:46:23.527+0000","updated":"2015-09-26T00:46:23.527+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14909011","id":"14909011","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk #1181 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1181/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-26T02:23:36.885+0000","updated":"2015-09-26T02:23:36.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14909019","id":"14909019","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2359 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2359/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-26T02:49:06.207+0000","updated":"2015-09-26T02:49:06.207+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14909042","id":"14909042","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #2386 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2386/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-26T03:36:23.611+0000","updated":"2015-09-26T03:36:23.611+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/14909080","id":"14909080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #419 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/419/])\nHDFS-9107. Prevent NN's unrecoverable death spiral after full GC (Daryn Sharp via Colin P. McCabe) (cmccabe: rev 4e7c6a653f108d44589f84d78a03d92ee0e8a3c3)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/HeartbeatManager.java\n* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestHeartbeatHandling.java\nAdd HDFS-9107 to CHANGES.txt (cmccabe: rev 878504dcaacdc1bea42ad571ad5f4e537c1d7167)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-26T04:43:32.095+0000","updated":"2015-09-26T04:43:32.095+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888627/comment/16148200","id":"16148200","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Pushed to branch-2.7. Only a minor conflict in imports.\nUpdated Fix versions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-30T23:17:44.995+0000","updated":"2017-08-30T23:17:44.995+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-9107/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2l4r3:"}}