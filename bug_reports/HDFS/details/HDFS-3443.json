{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12556383","self":"https://issues.apache.org/jira/rest/api/2/issue/12556383","key":"HDFS-3443","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329018","id":"12329018","description":"2.6.1 release","name":"2.6.1","archived":false,"released":true,"releaseDate":"2015-09-23"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-05-18T11:38:20.528+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 04 23:30:35 UTC 2015","customfield_12310420":"246226","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_8214107239_*|*_1_*:*_2_*:*_76315388427_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-01-21T19:55:46.398+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-3443/watchers","watchCount":13,"isWatching":false},"created":"2012-05-18T11:30:50.811+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12427308","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12427308","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12836337","key":"HADOOP-12078","self":"https://issues.apache.org/jira/rest/api/2/issue/12836337","fields":{"summary":"The default retry policy does not handle RetriableException correctly ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12433211","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12433211","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"inwardIssue":{"id":"12820135","key":"HDFS-8127","self":"https://issues.apache.org/jira/rest/api/2/issue/12820135","fields":{"summary":"NameNode Failover during HA upgrade can cause DataNode to finalize upgrade","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-08-30T01:42:46.367+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12317907","id":"12317907","name":"auto-failover","description":"Automatic failover"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12316609","id":"12316609","name":"ha","description":"High Availability"}],"timeoriginalestimate":null,"description":"Start NN\nLet NN standby services be started.\nBefore the editLogTailer is initialised start ZKFC and allow the activeservices start to proceed further.\n\n\nHere editLogTailer.catchupDuringFailover() will throw NPE.\n\nvoid startActiveServices() throws IOException {\n    LOG.info(\"Starting services required for active state\");\n    writeLock();\n    try {\n      FSEditLog editLog = dir.fsImage.getEditLog();\n      \n      if (!editLog.isOpenForWrite()) {\n        // During startup, we're already open for write during initialization.\n        editLog.initJournalsForWrite();\n        // May need to recover\n        editLog.recoverUnclosedStreams();\n        \n        LOG.info(\"Catching up to latest edits from old active before \" +\n            \"taking over writer role in edits logs.\");\n        editLogTailer.catchupDuringFailover();\n\n\n{noformat}\n2012-05-18 16:51:27,585 WARN org.apache.hadoop.ipc.Server: IPC Server Responder, call org.apache.hadoop.ha.HAServiceProtocol.getServiceStatus from XX.XX.XX.55:58003: output error\n2012-05-18 16:51:27,586 WARN org.apache.hadoop.ipc.Server: IPC Server handler 8 on 8020, call org.apache.hadoop.ha.HAServiceProtocol.transitionToActive from XX.XX.XX.55:58004: error: java.lang.NullPointerException\njava.lang.NullPointerException\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startActiveServices(FSNamesystem.java:602)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode$NameNodeHAContext.startActiveServices(NameNode.java:1287)\n\tat org.apache.hadoop.hdfs.server.namenode.ha.ActiveState.enterState(ActiveState.java:61)\n\tat org.apache.hadoop.hdfs.server.namenode.ha.HAState.setStateInternal(HAState.java:63)\n\tat org.apache.hadoop.hdfs.server.namenode.ha.StandbyState.setState(StandbyState.java:49)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.transitionToActive(NameNode.java:1219)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.transitionToActive(NameNodeRpcServer.java:978)\n\tat org.apache.hadoop.ha.protocolPB.HAServiceProtocolServerSideTranslatorPB.transitionToActive(HAServiceProtocolServerSideTranslatorPB.java:107)\n\tat org.apache.hadoop.ha.proto.HAServiceProtocolProtos$HAServiceProtocolService$2.callBlockingMethod(HAServiceProtocolProtos.java:3633)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:427)\n\tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:916)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1692)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1688)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1232)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:1686)\n2012-05-18 16:51:27,586 INFO org.apache.hadoop.ipc.Server: IPC Server handler 9 on 8020 caught an exception\njava.nio.channels.ClosedChannelException\n\tat sun.nio.ch.SocketChannelImpl.ensureWriteOpen(SocketChannelImpl.java:133)\n\tat sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:324)\n\tat org.apache.hadoop.ipc.Server.channelWrite(Server.java:2092)\n\tat org.apache.hadoop.ipc.Server.access$2000(Server.java:107)\n\tat org.apache.hadoop.ipc.Server$Responder.processResponse(Server.java:930)\n\tat org.apache.hadoop.ipc.Server$Responder.doRespond(Server.java:994)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:1738)\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12530906","id":"12530906","filename":"HDFS-3443_1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-05T06:46:46.465+0000","size":1487,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12530906/HDFS-3443_1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12530800","id":"12530800","filename":"HDFS-3443_1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-04T15:57:29.753+0000","size":1361,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12530800/HDFS-3443_1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12692158","id":"12692158","filename":"HDFS-3443-003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-14T05:32:44.215+0000","size":4797,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12692158/HDFS-3443-003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12693012","id":"12693012","filename":"HDFS-3443-004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-19T05:28:18.312+0000","size":6811,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12693012/HDFS-3443-004.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12693066","id":"12693066","filename":"HDFS-3443-005.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-19T10:51:30.605+0000","size":6695,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12693066/HDFS-3443-005.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12693217","id":"12693217","filename":"HDFS-3443-006.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-20T05:12:48.679+0000","size":36826,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12693217/HDFS-3443-006.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12693518","id":"12693518","filename":"HDFS-3443-007.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-21T06:12:19.511+0000","size":37191,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12693518/HDFS-3443-007.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"41772","customfield_12312823":null,"summary":"Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=suja","name":"suja","key":"suja","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"suja s","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=suja","name":"suja","key":"suja","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"suja s","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13278734","id":"13278734","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"I think, StandBy node not initialized completely and ZKFC gave the call for transitioning to active. At this point We have the FSNameSystem write lock only for starting activeServices. So, parallelly starting activeServices also can go ahead. By this time, editLogTailer might not have been initialized sompletely. Hence thrwing NPE.\n\nI think we should block the active initialization until it completes standby initialization. should have lock here?\nor since there wont be any FSNameSystem updations for standby locking may not be require here. So, just having null check should be fine?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-05-18T11:38:20.528+0000","updated":"2012-05-18T11:38:20.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13279278","id":"13279278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"I think it makes sense we should lock the FSN lock while we're starting active services at startup -- ie we should write-lock everything, start the RPC server, wait until initialization is all done, then unlock.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2012-05-18T22:46:41.904+0000","updated":"2012-05-18T22:46:41.904+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13279674","id":"13279674","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Just to clarify, this is a bug with HA in general, not specifically auto failover, right? i.e. if a user manually triggered failover as the NN was starting up, the same problem would occur, I think.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2012-05-20T06:18:47.967+0000","updated":"2012-05-20T06:18:47.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13279773","id":"13279773","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, You are right. We can trigger this manually as well. But this will trigger mostly with Automatic failover.\nSince you are planning the merge, I will prepare patch on trunk it-self directly. I think, I can move this to top level issue. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-05-20T14:21:24.548+0000","updated":"2012-05-20T14:21:24.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13279775","id":"13279775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"I could not covert to parent issue. \n\nCause:\njava.lang.ClassNotFoundException: org.apache.jsp.secure.views.issue.convertissuetosubtask_002dselectparentandtype_jsp ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-05-20T14:24:36.448+0000","updated":"2012-05-20T14:24:36.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13279837","id":"13279837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Thanks, Uma. Mind filing a JIRA in the \"INFRA\" project for the failure to convert to top-level? The JIRA upgrade last week probably broke it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2012-05-20T18:32:04.795+0000","updated":"2012-05-20T18:32:04.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13281795","id":"13281795","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"Now I could move this to top-level issue..","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-05-23T18:44:54.547+0000","updated":"2012-05-23T18:44:54.547+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13287736","id":"13287736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Hey Amith. Are you planning on working on this? Happy to review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2012-06-01T22:22:56.991+0000","updated":"2012-06-01T22:22:56.991+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13288398","id":"13288398","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"body":"Yes Todd working on it, will provide patch soon","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-04T08:14:56.998+0000","updated":"2012-06-04T08:14:56.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13288645","id":"13288645","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi Todd\n\nThere is a need to apply lock on FSNameSystem so I refactored the code as described.\n\nI divided initialize() method to 2 different methods\n\n1. initializeNamesystem() \n2. startCommonServices()\n\ninitializeNamesystem() contain the creation of RPC server + FSNameSystem\n\nstartCommonServices() will start the services\n\n\nI tryed to write a Test for the same but I couldn't\n\nI manually verified the working of patch like\n\n1. Start the NN server stop the execution of NameNode.main() in state.prepareToEnterState().\n2. I issued transitionToActive manually now this call is blocked due to lock\n3. when the NN is fully started then RPC call execute and NN started in Active state","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-04T15:57:29.819+0000","updated":"2012-06-04T15:57:29.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13289199","id":"13289199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"body":"QA didnt pick the patch attaching again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-05T06:46:46.540+0000","updated":"2012-06-05T06:46:46.540+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13289202","id":"13289202","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12530906/HDFS-3443_1.patch\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/2589//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/2589//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-06-05T07:06:20.217+0000","updated":"2012-06-05T07:06:20.217+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13396504","id":"13396504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi Todd can u review the patch :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amithdk","name":"amithdk","key":"amithdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"amith","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-19T04:29:24.243+0000","updated":"2012-06-19T04:29:24.243+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13446285","id":"13446285","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"Cancelling the patch, as the patch handles the inheritance wrongly. It will break the BNN functionality.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-08-31T19:34:13.000+0000","updated":"2012-08-31T19:34:13.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/13483910","id":"13483910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"I have one more option to solve this without breaking the inheritance for BackupNode.\n\nHow about creating EditLogTailer instance inside constructor of FSNameSystem, because this is used in both StandBy and Active states. We will start/stop the thread only in Standby as usual.\n{code}this.tailerThread = new EditLogTailerThread(){code}\nAbove initialization we will do in EditLogTrailer#start().\n\nSince *editLogTrailer* is the only object which is initialized in standby state, and also used in active state. So always order should be maintained. After above suggested fix, maintaining the order not required.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-10-25T05:32:37.795+0000","updated":"2012-10-25T05:32:37.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14272551","id":"14272551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"It seems that trunk still has this bug.  How about adding a boolean for indicating namenode starting up so that NameNodeRpcServer could refuse all operations?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-10T15:36:55.285+0000","updated":"2015-01-10T15:36:55.285+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14275346","id":"14275346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~amithdk], are you still working on this issue?  If not, I am happy to pick this up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-13T15:12:56.650+0000","updated":"2015-01-13T15:12:56.650+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14276508","id":"14276508","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Attached the rebased patch.\nIncludes Amit's work along with moving of editLogTrailer initialization to constructor.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-14T05:32:44.222+0000","updated":"2015-01-14T05:32:44.222+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14276510","id":"14276510","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"bq. How about adding a boolean for indicating namenode starting up so that NameNodeRpcServer could refuse all operations?\nOption is good. currently I think only transition RPCs will have problem, which should be after this patch.\nRemaining all requests will anyway will be rejected since the initial state will be STANDBY.\n\nam I right?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-14T05:36:50.035+0000","updated":"2015-01-14T05:37:14.499+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14277867","id":"14277867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12692158/HDFS-3443-003.patch\n  against trunk revision 6464a89.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitRead\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractMkdir\n                  org.apache.hadoop.hdfs.server.namenode.TestAllowFormat\n                  org.apache.hadoop.hdfs.server.namenode.TestCheckPointForSecurityTokens\n                  org.apache.hadoop.hdfs.TestBlockStoragePolicy\n                  org.apache.hadoop.hdfs.server.datanode.TestRefreshNamenodes\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandbyWithQJM\n                  org.apache.hadoop.hdfs.TestEncryptedTransfer\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotMetrics\n                  org.apache.hadoop.hdfs.TestDFSInotifyEventInputStream\n                  org.apache.hadoop.hdfs.TestSnapshotCommands\n                  org.apache.hadoop.hdfs.TestFileLengthOnClusterRestart\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshottableDirListing\n                  org.apache.hadoop.hdfs.TestRead\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractRootDirectory\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestUpdatePipelineWithSnapshots\n                  org.apache.hadoop.hdfs.TestBlocksScheduledCounter\n                  org.apache.hadoop.hdfs.server.namenode.TestDiskspaceQuotaUpdate\n                  org.apache.hadoop.cli.TestHDFSCLI\n                  org.apache.hadoop.hdfs.TestDFSPermission\n                  org.apache.hadoop.hdfs.server.namenode.TestCheckpoint\n                  org.apache.hadoop.hdfs.TestDFSUpgradeFromImage\n                  org.apache.hadoop.hdfs.TestReplaceDatanodeOnFailure\n                  org.apache.hadoop.hdfs.tools.TestGetGroups\n                  org.apache.hadoop.hdfs.server.namenode.TestStartup\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeRetryCacheMetrics\n                  org.apache.hadoop.hdfs.TestDFSStorageStateRecovery\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImageWithXAttr\n                  org.apache.hadoop.hdfs.TestMultiThreadedHflush\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractRename\n                  org.apache.hadoop.hdfs.TestDFSClientFailover\n                  org.apache.hadoop.hdfs.TestBlockReaderLocal\n                  org.apache.hadoop.cli.TestCacheAdminCLI\n                  org.apache.hadoop.hdfs.server.mover.TestMover\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestRbwSpaceReservation\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestOverReplicatedBlocks\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestInitializeSharedEdits\n                  org.apache.hadoop.hdfs.server.namenode.web.resources.TestWebHdfsDataLocality\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeRecovery\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestFailureOfSharedDir\n                  org.apache.hadoop.hdfs.TestLeaseRecovery2\n                  org.apache.hadoop.fs.loadGenerator.TestLoadGenerator\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImageWithAcl\n                  org.apache.hadoop.hdfs.server.namenode.TestLargeDirectoryDelete\n                  org.apache.hadoop.hdfs.TestWriteConfigurationToDFS\n                  org.apache.hadoop.fs.TestFcHdfsSetUMask\n                  org.apache.hadoop.hdfs.TestPread\n                  org.apache.hadoop.hdfs.server.namenode.TestFSEditLogLoader\n                  org.apache.hadoop.hdfs.server.datanode.TestFsDatasetCacheRevocation\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestQuotasWithHA\n                  org.apache.hadoop.hdfs.crypto.TestHdfsCryptoStreams\n                  org.apache.hadoop.fs.viewfs.TestViewFsFileStatusHdfs\n                  org.apache.hadoop.hdfs.server.namenode.TestCommitBlockSynchronization\n                  org.apache.hadoop.hdfs.server.datanode.TestReadOnlySharedStorage\n                  org.apache.hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewerForAcl\n                  org.apache.hadoop.hdfs.web.TestHttpsFileSystem\n                  org.apache.hadoop.hdfs.TestDFSAddressConfig\n                  org.apache.hadoop.tracing.TestTracingShortCircuitLocalRead\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestBootstrapStandby\n                  org.apache.hadoop.hdfs.server.namenode.TestFSDirectory\n                  org.apache.hadoop.hdfs.server.datanode.TestIncrementalBlockReports\n                  org.apache.hadoop.tracing.TestTracing\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestInterDatanodeProtocol\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestNestedSnapshots\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestLazyPersistFiles\n                  org.apache.hadoop.hdfs.TestParallelRead\n                  org.apache.hadoop.hdfs.TestRestartDFS\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitReadNoChecksum\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestSequentialBlockId\n                  org.apache.hadoop.hdfs.TestDFSOutputStream\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestNameNodePrunesMissingStorages\n                  org.apache.hadoop.hdfs.TestSetTimes\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestHeartbeatHandling\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitLegacyRead\n                  org.apache.hadoop.net.TestNetworkTopology\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestPendingInvalidateBlock\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestBlockTokenWithDFS\n                  org.apache.hadoop.hdfs.TestDatanodeDeath\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicyConsiderLoad\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDelegationTokensWithHA\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestPipelinesFailover\n                  org.apache.hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer\n                  org.apache.hadoop.fs.TestFcHdfsCreateMkdir\n                  org.apache.hadoop.hdfs.server.namenode.TestDeadDatanode\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestNNHealthCheck\n                  org.apache.hadoop.hdfs.TestHFlush\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestFailoverWithBlockTokensEnabled\n                  org.apache.hadoop.hdfs.TestFetchImage\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing\n                  org.apache.hadoop.hdfs.TestDFSRollback\n                  org.apache.hadoop.hdfs.TestDFSUpgrade\n                  org.apache.hadoop.fs.TestFcHdfsPermission\n                  org.apache.hadoop.hdfs.TestClientBlockVerification\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotBlocksMap\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureToleration\n                  org.apache.hadoop.hdfs.server.namenode.TestNamenodeRetryCache\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeExit\n                  org.apache.hadoop.hdfs.server.datanode.TestFsDatasetCache\n                  org.apache.hadoop.hdfs.server.datanode.TestBlockHasMultipleReplicasOnSameDN\n                  org.apache.hadoop.hdfs.TestMissingBlocksAlert\n                  org.apache.hadoop.hdfs.server.namenode.TestNNThroughputBenchmark\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAMetrics\n                  org.apache.hadoop.hdfs.TestQuota\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancerWithEncryptedTransfer\n                  org.apache.hadoop.hdfs.TestFileCreationEmpty\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotDeletion\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestEditLogTailer\n                  org.apache.hadoop.hdfs.server.namenode.TestStorageRestore\n                  org.apache.hadoop.hdfs.server.namenode.TestSaveNamespace\n                  org.apache.hadoop.hdfs.server.namenode.TestParallelImageWrite\n                  org.apache.hadoop.hdfs.tools.TestDebugAdmin\n                  org.apache.hadoop.hdfs.server.datanode.TestDiskError\n                  org.apache.hadoop.hdfs.TestPersistBlocks\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestRenameWithSnapshots\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestEditLogsDuringFailover\n                  org.apache.hadoop.hdfs.server.namenode.TestNameEditsConfigs\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeRpcServer\n                  org.apache.hadoop.hdfs.server.namenode.TestSnapshotPathINodes\n                  org.apache.hadoop.hdfs.server.namenode.TestFavoredNodesEndToEnd\n                  org.apache.hadoop.hdfs.tools.offlineImageViewer.TestOfflineImageViewer\n                  org.apache.hadoop.hdfs.shortcircuit.TestShortCircuitCache\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup\n                  org.apache.hadoop.hdfs.server.datanode.TestDnRespectsBlockReportSplitThreshold\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotNameWithInvalidCharacters\n                  org.apache.hadoop.hdfs.TestModTime\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestBlockManager\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestXAttrsWithHA\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations\n                  org.apache.hadoop.hdfs.TestSetrepIncreasing\n                  org.apache.hadoop.hdfs.TestGetBlocks\n                  org.apache.hadoop.hdfs.TestDFSStartupVersions\n                  org.apache.hadoop.hdfs.TestDatanodeBlockScanner\n                  org.apache.hadoop.hdfs.TestReadWhileWriting\n                  org.apache.hadoop.hdfs.TestRenameWhileOpen\n                  org.apache.hadoop.hdfs.server.namenode.TestDefaultBlockPlacementPolicy\n                  org.apache.hadoop.fs.viewfs.TestViewFsWithXAttrs\n                  org.apache.hadoop.tools.TestJMXGet\n                  org.apache.hadoop.hdfs.shortcircuit.TestShortCircuitLocalRead\n                  org.apache.hadoop.hdfs.TestHDFSFileSystemContract\n                  org.apache.hadoop.hdfs.TestFileAppend4\n                  org.apache.hadoop.TestGenericRefresh\n                  org.apache.hadoop.hdfs.server.namenode.TestAddBlock\n                  org.apache.hadoop.hdfs.TestDataTransferKeepalive\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeMetrics\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancerWithHANameNodes\n                  org.apache.hadoop.security.TestPermissionSymlinks\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA\n                  org.apache.hadoop.hdfs.server.namenode.TestINodeFile\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancerWithSaslDataTransfer\n                  org.apache.hadoop.hdfs.TestFileAppend2\n                  org.apache.hadoop.hdfs.TestSetrepDecreasing\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestGetGroupsWithHA\n                  org.apache.hadoop.hdfs.server.namenode.TestProcessCorruptBlocks\n                  org.apache.hadoop.hdfs.security.TestDelegationTokenForProxyUser\n                  org.apache.hadoop.hdfs.server.namenode.TestAuditLogs\n                  org.apache.hadoop.hdfs.TestInjectionForSimulatedStorage\n                  org.apache.hadoop.hdfs.server.namenode.TestFsck\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractDelete\n                  org.apache.hadoop.hdfs.TestLocalDFS\n                  org.apache.hadoop.hdfs.server.namenode.TestListCorruptFileBlocks\n                  org.apache.hadoop.hdfs.server.namenode.TestSecondaryNameNodeUpgrade\n                  org.apache.hadoop.hdfs.TestCrcCorruption\n                  org.apache.hadoop.hdfs.TestListFilesInFileContext\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeAcl\n                  org.apache.hadoop.hdfs.TestDataTransferProtocol\n                  org.apache.hadoop.hdfs.TestConnCache\n                  org.apache.hadoop.hdfs.web.TestWebHdfsWithAuthenticationFilter\n                  org.apache.hadoop.hdfs.TestGetFileChecksum\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestBlocksWithNotEnoughRacks\n                  org.apache.hadoop.hdfs.TestFileAppend\n                  org.apache.hadoop.hdfs.TestReservedRawPaths\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeRollingUpgrade\n                  org.apache.hadoop.TestRefreshCallQueue\n                  org.apache.hadoop.hdfs.TestDisableConnCache\n                  org.apache.hadoop.hdfs.server.datanode.TestIncrementalBrVariations\n                  org.apache.hadoop.cli.TestXAttrCLI\n                  org.apache.hadoop.hdfs.server.namenode.TestMetadataVersionOutput\n                  org.apache.hadoop.hdfs.TestParallelShortCircuitReadUnCached\n                  org.apache.hadoop.hdfs.TestDecommission\n                  org.apache.hadoop.fs.TestUrlStreamHandler\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeMXBean\n                  org.apache.hadoop.hdfs.server.namenode.TestValidateConfigurationSettings\n                  org.apache.hadoop.hdfs.TestSeekBug\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailure\n                  org.apache.hadoop.hdfs.security.token.block.TestBlockToken\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSetQuotaWithSnapshot\n                  org.apache.hadoop.fs.TestEnhancedByteBufferAccess\n                  org.apache.hadoop.hdfs.TestHDFSServerPorts\n                  org.apache.hadoop.hdfs.TestDFSFinalize\n                  org.apache.hadoop.hdfs.TestDFSMkdirs\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotRename\n                  org.apache.hadoop.hdfs.TestDFSClientExcludedNodes\n                  org.apache.hadoop.hdfs.server.namenode.TestFSNamesystem\n                  org.apache.hadoop.hdfs.server.datanode.TestTransferRbw\n                  org.apache.hadoop.hdfs.server.namenode.TestAuditLogger\n                  org.apache.hadoop.hdfs.TestRollingUpgrade\n                  org.apache.hadoop.hdfs.server.namenode.TestLeaseManager\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImage\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancer\n                  org.apache.hadoop.hdfs.server.datanode.TestNNHandlesBlockReportPerStorage\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeInitStorage\n                  org.apache.hadoop.fs.viewfs.TestViewFileSystemWithXAttrs\n                  org.apache.hadoop.hdfs.server.namenode.TestEditLog\n                  org.apache.hadoop.fs.TestHDFSFileContextMainOperations\n                  org.apache.hadoop.hdfs.TestSafeMode\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestXAttrWithSnapshot\n                  org.apache.hadoop.hdfs.server.namenode.TestBackupNode\n                  org.apache.hadoop.hdfs.TestDatanodeLayoutUpgrade\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeHotSwapVolumes\n                  org.apache.hadoop.hdfs.server.namenode.TestFileContextAcl\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyBlockManagement\n                  org.apache.hadoop.hdfs.server.namenode.TestAclConfigFlag\n                  org.apache.hadoop.hdfs.TestWriteRead\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotFileLength\n                  org.apache.hadoop.hdfs.tools.TestDFSAdminWithHA\n                  org.apache.hadoop.hdfs.web.TestWebHdfsTokens\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotDiffReport\n                  org.apache.hadoop.hdfs.server.namenode.TestMetaSave\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractAppend\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestStateTransitionFailure\n                  org.apache.hadoop.hdfs.TestHdfsAdmin\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractOpen\n                  org.apache.hadoop.hdfs.server.datanode.TestMultipleNNDataBlockScanner\n                  org.apache.hadoop.hdfs.server.namenode.TestGenericJournalConf\n                  org.apache.hadoop.hdfs.TestFileCreation\n                  org.apache.hadoop.hdfs.TestDatanodeRegistration\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshot\n                  org.apache.hadoop.hdfs.server.mover.TestStorageMover\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestAclWithSnapshot\n                  org.apache.hadoop.hdfs.TestClientReportBadBlock\n                  org.apache.hadoop.hdfs.server.namenode.TestAddBlockRetry\n                  org.apache.hadoop.hdfs.TestDistributedFileSystem\n                  org.apache.hadoop.tracing.TestTraceAdmin\n                  org.apache.hadoop.hdfs.server.namenode.TestSecurityTokenEditLog\n                  org.apache.hadoop.hdfs.server.namenode.TestBlockUnderConstruction\n                  org.apache.hadoop.hdfs.TestFileCorruption\n                  org.apache.hadoop.hdfs.server.namenode.TestHDFSConcat\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeMXBean\n                  org.apache.hadoop.hdfs.web.TestWebHdfsFileSystemContract\n                  org.apache.hadoop.hdfs.server.datanode.TestBlockReplacement\n                  org.apache.hadoop.hdfs.TestClose\n                  org.apache.hadoop.hdfs.server.namenode.metrics.TestNameNodeMetrics\n                  org.apache.hadoop.hdfs.TestAbandonBlock\n                  org.apache.hadoop.hdfs.TestDFSShell\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAFsck\n                  org.apache.hadoop.hdfs.server.datanode.TestBlockRecovery\n                  org.apache.hadoop.hdfs.TestDatanodeConfig\n                  org.apache.hadoop.hdfs.server.namenode.TestNNStorageRetentionFunctional\n                  org.apache.hadoop.hdfs.TestLeaseRecovery\n                  org.apache.hadoop.hdfs.server.datanode.TestTriggerBlockReport\n                  org.apache.hadoop.hdfs.tools.TestDFSAdmin\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestFailureToReadEdits\n                  org.apache.hadoop.hdfs.TestWriteBlockGetsBlockLengthHint\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestRBWBlockInvalidation\n                  org.apache.hadoop.hdfs.server.namenode.TestFsLimits\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestPendingCorruptDnMessages\n                  org.apache.hadoop.fs.viewfs.TestViewFsHdfs\n                  org.apache.hadoop.hdfs.TestFSInputChecker\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractConcat\n                  org.apache.hadoop.hdfs.server.namenode.TestFileLimit\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotListing\n                  org.apache.hadoop.fs.viewfs.TestViewFileSystemAtHdfsRoot\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes\n                  org.apache.hadoop.hdfs.TestDFSShellGenericOptions\n                  org.apache.hadoop.hdfs.TestHDFSTrash\n                  org.apache.hadoop.hdfs.server.datanode.TestCachingStrategy\n                  org.apache.hadoop.hdfs.TestSmallBlock\n                  org.apache.hadoop.hdfs.web.TestWebHDFSAcl\n                  org.apache.hadoop.cli.TestCryptoAdminCLI\n                  org.apache.hadoop.hdfs.TestFileCreationDelete\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestLossyRetryInvocationHandler\n                  org.apache.hadoop.hdfs.tools.TestDFSHAAdminMiniCluster\n                  org.apache.hadoop.hdfs.server.namenode.TestClusterId\n                  org.apache.hadoop.hdfs.TestReplication\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAAppend\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestScrLazyPersistFiles\n                  org.apache.hadoop.cli.TestAclCLI\n                  org.apache.hadoop.fs.viewfs.TestViewFileSystemWithAcls\n                  org.apache.hadoop.hdfs.server.namenode.TestEditLogAutoroll\n                  org.apache.hadoop.fs.TestSymlinkHdfsFileContext\n                  org.apache.hadoop.hdfs.TestIsMethodSupported\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeResourceChecker\n                  org.apache.hadoop.hdfs.server.namenode.TestTransferFsImage\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestINodeFileUnderConstructionWithSnapshot\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDFSUpgradeWithHA\n                  org.apache.hadoop.hdfs.server.namenode.TestEditLogRace\n                  org.apache.hadoop.hdfs.TestFileAppendRestart\n                  org.apache.hadoop.fs.TestSymlinkHdfsFileSystem\n                  org.apache.hadoop.hdfs.TestFileAppend3\n                  org.apache.hadoop.hdfs.server.namenode.TestFileContextXAttr\n                  org.apache.hadoop.hdfs.TestDatanodeReport\n                  org.apache.hadoop.hdfs.TestMiniDFSCluster\n                  org.apache.hadoop.hdfs.TestPipelines\n                  org.apache.hadoop.hdfs.server.namenode.TestDecommissioningStatus\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHASafeMode\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestDisallowModifyROSnapshot\n                  org.apache.hadoop.hdfs.web.TestWebHdfsWithMultipleNameNodes\n                  org.apache.hadoop.hdfs.qjournal.TestSecureNNWithQJM\n                  org.apache.hadoop.hdfs.server.namenode.metrics.TestNNMetricFilesInGetListingOps\n                  org.apache.hadoop.hdfs.TestBlockReaderFactory\n                  org.apache.hadoop.hdfs.server.namenode.TestNamenodeCapacityReport\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotReplication\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicyWithNodeGroup\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestStandbyIsHot\n                  org.apache.hadoop.hdfs.server.namenode.TestFileTruncate\n                  org.apache.hadoop.hdfs.TestRollingUpgradeRollback\n                  org.apache.hadoop.hdfs.TestFSOutputSummer\n                  org.apache.hadoop.hdfs.TestBlockReaderLocalLegacy\n                  org.apache.hadoop.hdfs.server.namenode.TestFSImageWithSnapshot\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestDFSZKFailoverController\n                  org.apache.hadoop.hdfs.TestFsShellPermission\n                  org.apache.hadoop.fs.viewfs.TestViewFsWithAcls\n                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestPendingReplication\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHAStateTransitions\n                  org.apache.hadoop.hdfs.TestEncryptionZones\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestCheckpointsWithSnapshots\n                  org.apache.hadoop.fs.TestResolveHdfsSymlink\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestUnderReplicatedBlocks\n                  org.apache.hadoop.hdfs.server.namenode.TestXAttrConfigFlag\n                  org.apache.hadoop.hdfs.TestFileConcurrentReader\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestNodeCount\n                  org.apache.hadoop.fs.viewfs.TestViewFsDefaultValue\n                  org.apache.hadoop.hdfs.web.TestWebHDFSForHA\n                  org.apache.hadoop.hdfs.TestAppendDifferentChecksum\n                  org.apache.hadoop.hdfs.TestEncryptionZonesWithHA\n                  org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives\n                  org.apache.hadoop.hdfs.server.namenode.TestCreateEditsLog\n                  org.apache.hadoop.hdfs.server.namenode.TestFSNamesystemMBean\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestHarFileSystemWithHA\n                  org.apache.hadoop.hdfs.TestFileStatus\n                  org.apache.hadoop.hdfs.web.TestWebHDFSXAttr\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeXAttr\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestReplicationPolicy\n                  org.apache.hadoop.hdfs.server.datanode.TestHSync\n                  org.apache.hadoop.hdfs.protocol.datatransfer.sasl.TestSaslDataTransfer\n                  org.apache.hadoop.hdfs.server.datanode.TestStorageReport\n                  org.apache.hadoop.fs.viewfs.TestViewFileSystemHdfs\n                  org.apache.hadoop.hdfs.TestParallelUnixDomainRead\n                  org.apache.hadoop.hdfs.tools.TestStoragePolicyCommands\n                  org.apache.hadoop.hdfs.TestDFSRemove\n                  org.apache.hadoop.hdfs.TestBalancerBandwidth\n                  org.apache.hadoop.fs.viewfs.TestViewFsAtHdfsRoot\n                  org.apache.hadoop.hdfs.server.datanode.TestNNHandlesCombinedBlockReport\n                  org.apache.hadoop.hdfs.server.datanode.TestDeleteBlockPool\n                  org.apache.hadoop.hdfs.TestDFSClientRetries\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestComputeInvalidateWork\n                  org.apache.hadoop.hdfs.TestListFilesInDFS\n                  org.apache.hadoop.hdfs.server.namenode.TestHostsFiles\n                  org.apache.hadoop.hdfs.qjournal.TestNNWithQJM\n                  org.apache.hadoop.hdfs.TestFileCreationClient\n                  org.apache.hadoop.hdfs.TestRollingUpgradeDowngrade\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractCreate\n                  org.apache.hadoop.fs.permission.TestStickyBit\n                  org.apache.hadoop.hdfs.web.TestFSMainOperationsWebHdfs\n                  org.apache.hadoop.hdfs.TestEncryptionZonesWithKMS\n                  org.apache.hadoop.fs.TestSymlinkHdfsDisable\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot\n                  org.apache.hadoop.hdfs.TestDFSRename\n                  org.apache.hadoop.hdfs.server.namenode.TestDeleteRace\n                  org.apache.hadoop.hdfs.TestLease\n                  org.apache.hadoop.security.TestRefreshUserMappings\n                  org.apache.hadoop.hdfs.TestLargeBlock\n                  org.apache.hadoop.fs.TestGlobPaths\n                  org.apache.hadoop.hdfs.server.namenode.TestFsckWithMultipleNameNodes\n                  org.apache.hadoop.hdfs.server.namenode.TestEditLogJournalFailures\n                  org.apache.hadoop.hdfs.server.namenode.TestNameNodeRespectsBindHostKeys\n                  org.apache.hadoop.hdfs.security.TestDelegationToken\n                  org.apache.hadoop.hdfs.TestClientProtocolForPipelineRecovery\n                  org.apache.hadoop.hdfs.server.namenode.snapshot.TestSnapshotStatsMXBean\n                  org.apache.hadoop.security.TestPermission\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestWriteToReplica\n                  org.apache.hadoop.hdfs.server.datanode.TestDirectoryScanner\n                  org.apache.hadoop.hdfs.web.TestWebHDFS\n                  org.apache.hadoop.hdfs.server.namenode.TestSecondaryWebUi\n                  org.apache.hadoop.fs.contract.hdfs.TestHDFSContractSeek\n                  org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.TestDatanodeRestart\n                  org.apache.hadoop.fs.shell.TestHdfsTextCommand\n                  org.apache.hadoop.hdfs.TestBlockMissingException\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/9216//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/9216//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-14T23:16:31.288+0000","updated":"2015-01-14T23:16:31.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14277967","id":"14277967","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"> ... Remaining all requests will anyway will be rejected since the initial state will be STANDBY. ...\n\nSome methods such as saveNamespace() and refreshNodes are OperationCategory.UNCHECKED operations so that standby nn should serve them.\n\nSome other methods such as blockReceivedAndDeleted(), refreshUserToGroupsMappings() and addSpanReceiver() do not check OperationCategory.  Some of them probably are bugs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-15T00:26:37.493+0000","updated":"2015-01-15T00:26:37.493+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14282148","id":"14282148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"{quote}Some methods such as saveNamespace() and refreshNodes are OperationCategory.UNCHECKED operations so that standby nn should serve them.\nSome other methods such as blockReceivedAndDeleted(), refreshUserToGroupsMappings() and addSpanReceiver() do not check OperationCategory. Some of them probably are bugs.{quote}\nAll these will be processed once all the services (common and state specific) are started, because after this patch everything starts under same lock.\nSo I feel not a problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-19T05:21:10.712+0000","updated":"2015-01-19T05:21:10.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14282155","id":"14282155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Fixed tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-19T05:28:18.317+0000","updated":"2015-01-19T05:28:18.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14282279","id":"14282279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12693012/HDFS-3443-004.patch\n  against trunk revision 24315e7.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.namenode.TestStartup\n                  org.apache.hadoop.hdfs.server.namenode.TestBackupNode\n                  org.apache.hadoop.hdfs.server.namenode.TestFsLimits\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/9262//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/9262//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-19T08:57:33.972+0000","updated":"2015-01-19T08:57:33.972+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14282384","id":"14282384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Fixed More tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-19T10:51:30.614+0000","updated":"2015-01-19T10:51:30.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14282550","id":"14282550","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12693066/HDFS-3443-005.patch\n  against trunk revision 19cbce3.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.blockmanagement.TestDatanodeManager\n                  org.apache.hadoop.hdfs.server.namenode.TestBackupNode\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/9266//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/9266//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-19T14:34:01.790+0000","updated":"2015-01-19T14:34:01.790+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14282794","id":"14282794","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"> All these will be processed once all the services (common and state specific) are started, because after this patch everything starts under same lock.\n\nHi Vinay, I do not oppose the idea of using lock.  But it seems not easy to get it right as some unit tests still failing.  Also, it will be harder for changing the code later on.  Why not adding a boolean for indicating namenode starting up?  It looks like a straightforward solution to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-19T18:11:28.553+0000","updated":"2015-01-19T18:11:28.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14283386","id":"14283386","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"bq. Hi Vinay, I do not oppose the idea of using lock. But it seems not easy to get it right as some unit tests still failing. Also, it will be harder for changing the code later on. Why not adding a boolean for indicating namenode starting up? It looks like a straightforward solution to me.\nThanks for the clarification [~szetszwo]. I am fine with using boolean option.\nI will try to post a patch with the boolean changes soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-20T04:18:48.753+0000","updated":"2015-01-20T04:18:48.753+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14283406","id":"14283406","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"attaching patch for the inclusion of boolean check for every RPC in NameNode.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-20T05:12:48.688+0000","updated":"2015-01-20T05:12:48.688+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14283600","id":"14283600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12693217/HDFS-3443-006.patch\n  against trunk revision 5a6c084.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestPipelinesFailover\n                  org.apache.hadoop.hdfs.server.namenode.TestFileTruncate\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/9274//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/9274//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-20T08:48:24.596+0000","updated":"2015-01-20T08:48:24.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14283613","id":"14283613","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Above failures are unrelated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-20T08:59:02.645+0000","updated":"2015-01-20T08:59:02.645+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14284276","id":"14284276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Vinay.  Some comments on the patch:\n- NameNode.started should be volatile or use AtomicBoolean.\n- Need to add checkNNStartup() for the rpc methods below.\n-* getGroupsForUser(String)\n-* refresh(String, String[])\n-* refreshCallQueue()\n-* refreshSuperUserGroupsConfiguration()\n-* refreshUserToGroupsMappings()\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-20T19:32:57.842+0000","updated":"2015-01-20T19:32:57.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14285230","id":"14285230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Attached the changes for AtomicBoolean for {{NameNode.started}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-21T06:12:19.517+0000","updated":"2015-01-21T06:12:19.517+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14285234","id":"14285234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"{quote}Need to add checkNNStartup() for the rpc methods below.\ngetGroupsForUser(String)\nrefresh(String, String[])\nrefreshCallQueue()\nrefreshSuperUserGroupsConfiguration()\nrefreshUserToGroupsMappings(){quote}\nI have intentionally didnt add check to these. Because except refreshCallQueue(), all are RPCs for static datastructure updates. Not really relevant to NameNode instance. So NameNode startup doesn't really matters for these. {{refreshCallQueue()}} also doesn't really do anything specific to NameNode it only refreshes RPC server's call queue. \nAnd some don't have {{throws}} clause for throwing exception in their signature and these protocols are from hadoop-common. So don't want to messup those.\n\nis that fine with you?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-21T06:19:10.417+0000","updated":"2015-01-21T06:19:10.417+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14285409","id":"14285409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12693518/HDFS-3443-007.patch\n  against trunk revision 6b17eb9.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:\n\n                  org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA\n                  org.apache.hadoop.hdfs.server.balancer.TestBalancer\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/9289//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/9289//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-21T09:40:00.231+0000","updated":"2015-01-21T09:40:00.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14286058","id":"14286058","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"> I have intentionally didnt add check to these. ... is that fine with you?\n\nSure, let's leave them unchecked for the moment.  We may add checkNNStartup() later on if necessary.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T18:56:56.583+0000","updated":"2015-01-21T18:56:56.583+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14286064","id":"14286064","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 patch looks good","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T18:59:41.602+0000","updated":"2015-01-21T18:59:41.602+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14286148","id":"14286148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #6904 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6904/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-21T19:42:52.674+0000","updated":"2015-01-21T19:42:52.674+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14286163","id":"14286163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"I have committed this.  Thanks, Vinay!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T19:55:46.443+0000","updated":"2015-01-21T19:55:46.443+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14286911","id":"14286911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks [~szetszwo] for reviews and commit","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-22T03:40:45.490+0000","updated":"2015-01-22T03:40:45.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14286913","id":"14286913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"body":"Updated the title as per CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinayrpet","name":"vinayrpet","key":"vinayrpet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinayakumar B","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-01-22T03:44:44.698+0000","updated":"2015-01-22T03:44:44.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14287236","id":"14287236","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #81 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/81/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T10:42:40.733+0000","updated":"2015-01-22T10:42:40.733+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14287253","id":"14287253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #815 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/815/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T10:45:10.284+0000","updated":"2015-01-22T10:45:10.284+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14287472","id":"14287472","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2013 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2013/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T14:10:36.986+0000","updated":"2015-01-22T14:10:36.986+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14287490","id":"14287490","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #78 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/78/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T14:21:25.865+0000","updated":"2015-01-22T14:21:25.865+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14287567","id":"14287567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #82 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/82/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T15:11:00.859+0000","updated":"2015-01-22T15:11:00.859+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14287600","id":"14287600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #2032 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2032/])\nHDFS-3443. Fix NPE when namenode transition to active during startup by adding checkNNStartup() in NameNodeRpcServer.  Contributed by Vinayakumar B (szetszwo: rev db334bb8625da97c7e518cbcf477530c7ba7001e)\n* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java\n* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeRpcServer.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T15:23:52.870+0000","updated":"2015-01-22T15:23:52.870+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12556383/comment/14654529","id":"14654529","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ctrezzo","name":"ctrezzo","key":"ctrezzo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Trezzo","active":true,"timeZone":"America/Los_Angeles"},"body":"Note: Even though this is listed as a \"2.6.1-candidate\" it is actually already checked into branch-2.6.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ctrezzo","name":"ctrezzo","key":"ctrezzo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Trezzo","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-04T23:30:35.732+0000","updated":"2015-08-04T23:30:35.732+0000"}],"maxResults":48,"total":48,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-3443/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07ijr:"}}