{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12661391","self":"https://issues.apache.org/jira/rest/api/2/issue/12661391","key":"HDFS-5057","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2013-08-05T15:30:31.046+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Aug 05 15:30:31 UTC 2013","customfield_12310420":"341580","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_269870749_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-08-05T15:30:40.238+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-5057/watchers","watchCount":2,"isWatching":false},"created":"2013-08-02T12:32:49.507+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-08-05T15:30:40.254+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"In some cases, the following symptoms occur?\n\n---------------------------------------------------------------------------\n\n\n\n\n\n\n\n\n\n2013-08-02 00:09:16,426 INFO org.apache.hadoop.hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: addStoredBlock request received for blk_-8546297170266610178_1223147 on 192.168.10.44:40010 size 134217728 but was rejected: Block not in blockMap with any generation stamp\n2013-08-02 00:09:16,426 INFO org.apache.hadoop.hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_-8546297170266610178 to 192.168.10.44:40010\n2013-08-02 00:09:16,429 INFO org.apache.hadoop.hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: addStoredBlock request received for blk_-8546297170266610178_1223147 on 192.168.10.23:40010 size 134217728 but was rejected: Block not in blockMap with any generation stamp\n2013-08-02 00:09:16,429 INFO org.apache.hadoop.hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_-8546297170266610178 to 192.168.10.23:40010\n2013-08-02 00:09:16,468 ERROR org.apache.hadoop.security.UserGroupInformation: PriviledgedActionException as:hdfsuser cause:org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /hdfsroot/20130802/1214110.0 File does not exist. [Lease.  Holder: DFSClient_1545724836, pendingcreates: 4]\n2013-08-02 00:09:16,468 INFO org.apache.hadoop.ipc.Server: IPC Server handler 7 on 40000, call addBlock(/hdfsroot/20130802/1214110.0, DFSClient_1545724836, null) from 192.168.10.23:60071: error: org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /hdfsroot/20130802/1214110.0 File does not exist. [Lease.  Holder: DFSClient_1545724836, pendingcreates: 4]\norg.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /hdfsroot/20130802/1214110.0 File does not exist. [Lease.  Holder: DFSClient_1545724836, pendingcreates: 4]\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1720)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1711)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1619)\n        at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:736)\n        at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:578)\n        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1393)\n        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1389)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:396)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1149)\n        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1387)\n\t\t\n\t\t\n\t\t\n\t\t","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"341887","customfield_12312823":null,"summary":"NameSystem.addStoredBlock: addStoredBlock request received for blk_-8546297170266610178_1223147 on 192.168.10.44:40010 size 134217728 but was rejected: Block not in blockMap with any generation stamp","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chojuil","name":"chojuil","key":"chojuil","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"chojuil","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chojuil","name":"chojuil","key":"chojuil","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"chojuil","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661391/comment/13729573","id":"13729573","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"The file or its parent directory is probably renamed or deleted. This happens most often when the file is not closed properly.\nBTW, please use the user mailing list for questions. JIRA is for reporting bugs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2013-08-05T15:30:31.046+0000","updated":"2013-08-05T15:30:31.046+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-5057/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1mwrr:"}}