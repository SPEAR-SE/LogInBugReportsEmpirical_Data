{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12713792","self":"https://issues.apache.org/jira/rest/api/2/issue/12713792","key":"HDFS-6378","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326264","id":"12326264","description":"2.5.0 release","name":"2.5.0","archived":false,"released":true,"releaseDate":"2014-08-11"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-06-29T10:22:14.226+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 15 14:57:10 UTC 2014","customfield_12310420":"392108","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_1337141669_*|*_1_*:*_1_*:*_4098198544_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-14T21:49:41.532+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6378/watchers","watchCount":4,"isWatching":false},"created":"2014-05-13T00:00:41.367+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-08-15T05:41:58.129+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320727","id":"12320727","name":"nfs"}],"timeoriginalestimate":null,"description":"When portmap/rpcbind is not available, NFS could be stuck at registration. Instead, NFS gateway should shut down automatically with proper error message.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12653555","id":"12653555","filename":"HDFS-6378.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-02T09:29:28.273+0000","size":4909,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12653555/HDFS-6378.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12655504","id":"12655504","filename":"HDFS-6378.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-14T07:47:44.582+0000","size":5499,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12655504/HDFS-6378.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12653049","id":"12653049","filename":"HDFS-6378.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-06-29T10:22:14.220+0000","size":729,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12653049/HDFS-6378.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"392303","customfield_12312823":null,"summary":"NFS registration should timeout instead of hanging when portmap/rpcbind is not available","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/13995835","id":"13995835","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"body":"Ctrl-C canâ€™t kill NFS if portmap is not started:\n{noformat}\n14/05/08 15:58:06 INFO nfs3.IdUserGroup: Updated user map size:85\n14/05/08 15:58:06 INFO nfs3.IdUserGroup: Updated group map size:110\n14/05/08 15:58:06 INFO nfs3.WriteManager: Stream timeout is 1ms.\n14/05/08 15:58:06 INFO nfs3.WriteManager: Reset stream timeout to minimum value 10000ms.\n14/05/08 15:58:06 INFO nfs3.WriteManager: Maximum open streams is 2\n14/05/08 15:58:06 INFO nfs3.OpenFileCtxCache: Maximum open streams is 2\n2014-05-08 15:58:07.119 java[19176:1003] Unable to load realm info from SCDynamicStore\n14/05/08 15:58:07 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n14/05/08 15:58:07 INFO nfs3.RpcProgramNfs3: Create new dump directory /tmp/.hdfs-nfs\n14/05/08 15:58:07 INFO nfs3.Nfs3Base: NFS server port set to: 2049\n14/05/08 15:58:07 INFO oncrpc.SimpleUdpServer: Started listening to UDP requests at port 9009 for Rpc program: mountd at localhost:9009 with workerCount 1\n14/05/08 15:58:07 INFO oncrpc.SimpleTcpServer: Started listening to TCP requests at port 9009 for Rpc program: mountd at localhost:9009 with workerCount 1\n^C14/05/08 15:58:57 ERROR nfs3.Nfs3Base: RECEIVED SIGNAL 2: SIGINT\n^C14/05/08 15:59:00 ERROR nfs3.Nfs3Base: RECEIVED SIGNAL 2: SIGINT\n^C14/05/08 15:59:03 ERROR nfs3.Nfs3Base: RECEIVED SIGNAL 2: SIGINT\n{noformat}\n\nThe stack trace:\n{noformat}\n\"main\" prio=5 tid=7fe77c000800 nid=0x102a8e000 runnable [102a8d000]\n   java.lang.Thread.State: RUNNABLE\n        at java.net.PlainDatagramSocketImpl.receive0(Native Method)\n        - locked <77df4def8> (a java.net.PlainDatagramSocketImpl)\n        at java.net.PlainDatagramSocketImpl.receive(PlainDatagramSocketImpl.java:188)\n        - locked <77df4def8> (a java.net.PlainDatagramSocketImpl)\n        at java.net.DatagramSocket.receive(DatagramSocket.java:725)\n        - locked <77df4e978> (a java.net.DatagramPacket)\n        - locked <77df4cfb8> (a java.net.DatagramSocket)\n        at org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:65)\n        at org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:119)\n        at org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:90)\n        at org.apache.hadoop.mount.MountdBase.start(MountdBase.java:77)\n        at org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startServiceInternal(Nfs3.java:58)\n        at org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startService(Nfs3.java:66)\n        at org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.main(Nfs3.java:70)\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-13T00:04:38.596+0000","updated":"2014-05-13T00:04:38.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14047089","id":"14047089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching a simple patch to add a timeout to DatagramSocket which otherwise blocks indefinitely on receive(). I have kept the timeout to be 500ms, let me know if it should be changed to something more appropriate. \n\nCtrl-C is now able to kill NFS gateway if portmap is not running or is exited. Note that, an exception is logged when portmap is not running, but NFS gateway does not exit until Ctrl-C is pressed.\n\nOutput logs:\n{code}\n14/06/29 03:11:46 INFO oncrpc.SimpleUdpServer: Started listening to UDP requests at port 4242 for Rpc program: mountd at localhost:4242 with workerCount 1\n14/06/29 03:11:46 INFO oncrpc.SimpleTcpServer: Started listening to TCP requests at port 4242 for Rpc program: mountd at localhost:4242 with workerCount 1\n14/06/29 03:11:46 ERROR oncrpc.RpcProgram: Registration failure with localhost:4242, portmap entry: (PortmapMapping-100005:1:17:4242)\njava.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:101)\n\tat org.apache.hadoop.mount.MountdBase.start(MountdBase.java:77)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startServiceInternal(Nfs3.java:55)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startService(Nfs3.java:68)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.main(Nfs3.java:72)\nException in thread \"main\" java.lang.RuntimeException: Registration failure\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:135)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:101)\n\tat org.apache.hadoop.mount.MountdBase.start(MountdBase.java:77)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startServiceInternal(Nfs3.java:55)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startService(Nfs3.java:68)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.main(Nfs3.java:72)\nCaused by: java.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\t... 5 more\n^C14/06/29 03:18:51 ERROR nfs3.Nfs3Base: RECEIVED SIGNAL 2: SIGINT\n14/06/29 03:18:52 ERROR oncrpc.RpcProgram: Unregistration failure with localhost:4242, portmap entry: (PortmapMapping-100005:1:17:4242)\njava.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\tat org.apache.hadoop.oncrpc.RpcProgram.unregister(RpcProgram.java:118)\n\tat org.apache.hadoop.mount.MountdBase$Unregister.run(MountdBase.java:90)\n\tat org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\n14/06/29 03:18:52 WARN util.ShutdownHookManager: ShutdownHook 'Unregister' failed, java.lang.RuntimeException: Unregistration failure\njava.lang.RuntimeException: Unregistration failure\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:135)\n\tat org.apache.hadoop.oncrpc.RpcProgram.unregister(RpcProgram.java:118)\n\tat org.apache.hadoop.mount.MountdBase$Unregister.run(MountdBase.java:90)\n\tat org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\nCaused by: java.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\t... 3 more\n14/06/29 03:18:52 INFO nfs3.Nfs3Base: SHUTDOWN_MSG:\n/************************************************************\nSHUTDOWN_MSG: Shutting down Nfs3 at abutala-vBox/127.0.1.1\n************************************************************/\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-06-29T10:22:14.226+0000","updated":"2014-06-29T10:22:14.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14047094","id":"14047094","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12653049/HDFS-6378.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-nfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/7241//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/7241//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-06-29T10:59:48.116+0000","updated":"2014-06-29T10:59:48.116+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14048360","id":"14048360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"body":"[~abutala], thanks for the fix. 500ms looks ok to me since portmap/rpcbind is supposed to be local.\nIf Nfs3Base and MountdBase can catch the exception thrown by RpcProgram.register, they can choose to shutdown when the registration fails.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-01T00:27:55.750+0000","updated":"2014-07-01T00:27:55.750+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14049776","id":"14049776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the feedback Brandon. Attaching a patch which addresses your comments. Also, I moved the Shutdown hook registration to be after the registration itself, because it would be redundant if the registration itself exited with exception. Finally, I have removed some extra white spaces.\n\nHere are some outputs:\n\n1. 'hdfs nfs3' without starting 'hdfs portmap':\n\n{code}\n14/07/02 02:02:01 INFO nfs3.Nfs3Base: NFS server port set to: 2049\n14/07/02 02:02:01 INFO oncrpc.RpcProgram: Will accept client connections from unprivileged ports\n14/07/02 02:02:02 INFO oncrpc.SimpleUdpServer: Started listening to UDP requests at port 4242 for Rpc program: mountd at localhost:4242 with workerCount 1\n14/07/02 02:02:02 INFO oncrpc.SimpleTcpServer: Started listening to TCP requests at port 4242 for Rpc program: mountd at localhost:4242 with workerCount 1\n14/07/02 02:02:03 ERROR oncrpc.RpcProgram: Registration failure with localhost:4242, portmap entry: (PortmapMapping-100005:1:17:4242)\n14/07/02 02:02:03 FATAL mount.MountdBase: Failed to start the server. Cause:\njava.lang.RuntimeException: Registration failure\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:135)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:101)\n\tat org.apache.hadoop.mount.MountdBase.start(MountdBase.java:79)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startServiceInternal(Nfs3.java:55)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.startService(Nfs3.java:68)\n\tat org.apache.hadoop.hdfs.nfs.nfs3.Nfs3.main(Nfs3.java:72)\nCaused by: java.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\t... 5 more\n14/07/02 02:02:03 INFO nfs3.Nfs3Base: SHUTDOWN_MSG:\n/************************************************************\nSHUTDOWN_MSG: Shutting down Nfs3 at abutala-vBox/127.0.1.1\n************************************************************/\n{code}\n\n2. Started both portmap and nfs3. Then closed portmap first and did Ctrl-C on nfs3:\n\n{code}\n14/07/02 02:02:41 INFO nfs3.Nfs3Base: NFS server port set to: 2049\n14/07/02 02:02:41 INFO oncrpc.RpcProgram: Will accept client connections from unprivileged ports\n14/07/02 02:02:42 INFO oncrpc.SimpleUdpServer: Started listening to UDP requests at port 4242 for Rpc program: mountd at localhost:4242 with workerCount 1\n14/07/02 02:02:42 INFO oncrpc.SimpleTcpServer: Started listening to TCP requests at port 4242 for Rpc program: mountd at localhost:4242 with workerCount 1\n14/07/02 02:02:42 INFO oncrpc.SimpleTcpServer: Started listening to TCP requests at port 2049 for Rpc program: NFS3 at localhost:2049 with workerCount 0\n^C14/07/02 02:02:52 ERROR nfs3.Nfs3Base: RECEIVED SIGNAL 2: SIGINT\n14/07/02 02:02:53 ERROR oncrpc.RpcProgram: Unregistration failure with localhost:4242, portmap entry: (PortmapMapping-100005:1:17:4242)\n14/07/02 02:02:53 WARN util.ShutdownHookManager: ShutdownHook 'Unregister' failed, java.lang.RuntimeException: Unregistration failure\njava.lang.RuntimeException: Unregistration failure\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:135)\n\tat org.apache.hadoop.oncrpc.RpcProgram.unregister(RpcProgram.java:118)\n\tat org.apache.hadoop.mount.MountdBase$Unregister.run(MountdBase.java:98)\n\tat org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\nCaused by: java.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\t... 3 more\n14/07/02 02:02:53 ERROR oncrpc.RpcProgram: Unregistration failure with localhost:2049, portmap entry: (PortmapMapping-100003:3:6:2049)\n14/07/02 02:02:53 WARN util.ShutdownHookManager: ShutdownHook 'Unregister' failed, java.lang.RuntimeException: Unregistration failure\njava.lang.RuntimeException: Unregistration failure\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:135)\n\tat org.apache.hadoop.oncrpc.RpcProgram.unregister(RpcProgram.java:118)\n\tat org.apache.hadoop.nfs.nfs3.Nfs3Base$Unregister.run(Nfs3Base.java:78)\n\tat org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\nCaused by: java.net.SocketTimeoutException: Receive timed out\n\tat java.net.PlainDatagramSocketImpl.receive0(Native Method)\n\tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:145)\n\tat java.net.DatagramSocket.receive(DatagramSocket.java:786)\n\tat org.apache.hadoop.oncrpc.SimpleUdpClient.run(SimpleUdpClient.java:66)\n\tat org.apache.hadoop.oncrpc.RpcProgram.register(RpcProgram.java:130)\n\t... 3 more\n14/07/02 02:02:53 INFO nfs3.Nfs3Base: SHUTDOWN_MSG:\n/************************************************************\nSHUTDOWN_MSG: Shutting down Nfs3 at abutala-vBox/127.0.1.1\n************************************************************/\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-02T09:29:28.297+0000","updated":"2014-07-02T09:29:28.297+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14049797","id":"14049797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12653555/HDFS-6378.002.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:red}-1 findbugs{color}.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-nfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/7271//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-HDFS-Build/7271//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-nfs.html\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/7271//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-02T10:02:31.218+0000","updated":"2014-07-02T10:02:31.218+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14054200","id":"14054200","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the new patch!\n{quote}I moved the Shutdown hook registration to be after the registration itself, because it would be redundant if the registration itself exited with exception.{quote}\nShutdown hook should be called first so we can see the shutdown message when the registration fails.\n\nPlease also fix the findbug warnings as suggested by the Jenkins run. \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-07T21:54:11.865+0000","updated":"2014-07-07T21:54:11.865+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14060410","id":"14060410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~brandonli]. Attaching a new patch which addresses your comments. Replaced the System.exit() calls with terminate(), to address the findbug warnings. Let me know if anything! ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abutala","name":"abutala","key":"abutala","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhiraj Butala","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-14T07:47:44.587+0000","updated":"2014-07-14T07:47:44.587+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14060428","id":"14060428","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12655504/HDFS-6378.003.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-nfs.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HDFS-Build/7334//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/7334//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-14T08:17:37.123+0000","updated":"2014-07-14T08:17:37.123+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14061289","id":"14061289","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-14T21:36:20.201+0000","updated":"2014-07-14T21:36:20.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14061310","id":"14061310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"body":"I've committed the patch. Thank you, [~abutala], for the contribution! ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandonli","name":"brandonli","key":"brandonli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brandon Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-14T21:49:32.961+0000","updated":"2014-07-14T21:49:32.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14061347","id":"14061347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #5879 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/5879/])\nHDFS-6378. NFS registration should timeout instead of hanging when portmap/rpcbind is not available. Contributed by Abhiraj Butala (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1610543)\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/mount/MountdBase.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/nfs/nfs3/Nfs3Base.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/RpcProgram.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/SimpleUdpClient.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-14T22:15:13.913+0000","updated":"2014-07-14T22:15:13.913+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14061928","id":"14061928","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #613 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/613/])\nHDFS-6378. NFS registration should timeout instead of hanging when portmap/rpcbind is not available. Contributed by Abhiraj Butala (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1610543)\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/mount/MountdBase.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/nfs/nfs3/Nfs3Base.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/RpcProgram.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/SimpleUdpClient.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-15T10:37:31.976+0000","updated":"2014-07-15T10:37:31.976+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14062071","id":"14062071","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #1805 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1805/])\nHDFS-6378. NFS registration should timeout instead of hanging when portmap/rpcbind is not available. Contributed by Abhiraj Butala (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1610543)\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/mount/MountdBase.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/nfs/nfs3/Nfs3Base.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/RpcProgram.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/SimpleUdpClient.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-15T13:50:08.359+0000","updated":"2014-07-15T13:50:08.359+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12713792/comment/14062169","id":"14062169","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Mapreduce-trunk #1832 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1832/])\nHDFS-6378. NFS registration should timeout instead of hanging when portmap/rpcbind is not available. Contributed by Abhiraj Butala (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1610543)\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/mount/MountdBase.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/nfs/nfs3/Nfs3Base.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/RpcProgram.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/SimpleUdpClient.java\n* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-15T14:57:10.113+0000","updated":"2014-07-15T14:57:10.113+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-6378/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1vj07:"}}