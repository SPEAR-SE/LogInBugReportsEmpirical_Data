{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12429166","self":"https://issues.apache.org/jira/rest/api/2/issue/12429166","key":"HDFS-456","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314046","id":"12314046","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-06-30T20:29:57.193+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jan 12 02:02:52 UTC 2010","customfield_12310420":"17027","customfield_12312320":null,"customfield_12310222":"10002_*:*_7_*:*_10124958391_*|*_1_*:*_7_*:*_4031901700_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-12-11T03:37:03.861+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-456/watchers","watchCount":7,"isWatching":false},"created":"2009-06-30T07:09:23.770+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"13.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314046","id":"12314046","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"issuelinks":[{"id":"12325431","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325431","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12425439","key":"HDFS-396","self":"https://issues.apache.org/jira/rest/api/2/issue/12425439","fields":{"summary":"Process dfs.name.edits.dirs as URI ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12328204","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12328204","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12442810","key":"HDFS-815","self":"https://issues.apache.org/jira/rest/api/2/issue/12442810","fields":{"summary":"FileContext tests fail on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12328205","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12328205","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12442814","key":"HDFS-816","self":"https://issues.apache.org/jira/rest/api/2/issue/12442814","fields":{"summary":"TestLargeDirectoryDelete fails","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12325512","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325512","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12429632","key":"HDFS-462","self":"https://issues.apache.org/jira/rest/api/2/issue/12429632","fields":{"summary":"Unit tests not working under Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12328640","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12328640","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12444833","key":"HDFS-873","self":"https://issues.apache.org/jira/rest/api/2/issue/12444833","fields":{"summary":"DataNode directories as URIs","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-24T20:48:16.519+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312926","id":"12312926","name":"namenode"}],"timeoriginalestimate":null,"description":"There are several problems with recent commit of HDFS-396.\n# It does not work with default configuration \"file:///\". Throws {{IllegalArgumentException}}.\n# *ALL* hdfs tests fail on Windows because \"C:\\mypath\" is treated as an illegal URI. Backward compatibility is not provided.\n# {{IllegalArgumentException}} should not be thrown within hdfs code because it is a {{RuntimException}}. We should throw {{IOException}} instead. This was recently discussed in another jira.\n# Why do we commit patches without running unit tests and test-patch? This is the minimum requirement for a patch to qualify as committable, right?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12427666","id":"12427666","filename":"EditsDirsWin.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-11T01:04:47.930+0000","size":23691,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12427666/EditsDirsWin.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12427661","id":"12427661","filename":"EditsDirsWin.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-10T23:36:53.201+0000","size":22528,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12427661/EditsDirsWin.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12427420","id":"12427420","filename":"EditsDirsWin.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-09T03:00:58.893+0000","size":19455,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12427420/EditsDirsWin.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12413571","id":"12413571","filename":"failing-tests.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-15T16:21:26.644+0000","size":53445,"mimeType":"application/x-zip-compressed","content":"https://issues.apache.org/jira/secure/attachment/12413571/failing-tests.zip"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12417997","id":"12417997","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T16:17:59.902+0000","size":11522,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12417997/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12417979","id":"12417979","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T09:40:03.661+0000","size":10698,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12417979/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12417737","id":"12417737","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-26T14:12:14.904+0000","size":10680,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12417737/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12416583","id":"12416583","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-14T18:06:00.426+0000","size":8040,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12416583/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12413450","id":"12413450","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-14T17:13:06.347+0000","size":7200,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12413450/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12412635","id":"12412635","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-06T17:53:14.654+0000","size":5117,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12412635/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12412587","id":"12412587","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-06T08:04:55.740+0000","size":3221,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12412587/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12412560","id":"12412560","filename":"HDFS-456.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-05T13:27:50.768+0000","size":3254,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12412560/HDFS-456.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12423058","id":"12423058","filename":"HDFS-456-clean.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=streamy","name":"streamy","key":"streamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Gray","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-10-23T20:34:21.104+0000","size":11521,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12423058/HDFS-456-clean.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"112855","customfield_12312823":null,"summary":"Problems with dfs.name.edits.dirs as URI","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12725792","id":"12725792","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"konstantin,\ndo the tests fail on linux as well?  (you just mentioned tests failing on windows)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-30T20:29:57.193+0000","updated":"2009-06-30T20:29:57.193+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12725954","id":"12725954","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"Konstantin, It would be great if you could take a look at the comments in HDFS-396. You would perhaps see that it has been tested and has even been through hudson. The checks that failed in hudson have been justified. Perhaps the problem is that tests don't cover enough?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2009-07-01T06:59:24.767+0000","updated":"2009-07-01T06:59:24.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12726131","id":"12726131","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"i think the problem is that the tests fail on windows (hudson run on ubuntu/solaris).  \n\nluca, \n can you run the tests on windows and see whats failing?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-01T16:55:19.374+0000","updated":"2009-07-01T16:55:19.374+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12726136","id":"12726136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Mahadev, yes, tests are probably failing on Windows since the patch has been tested thoroughly under Linux and MacOsX.\nI have requested a virtual machine with windows installed, since at the moment I don't have any windows machine available. \n\nKonstantin, I'd like to understand better what you mean with your #1. Do you want to assign root \"/\" as a Storage Directory? \nAlso, I would remove #4 from your comments, I think it's unfair, incorrect, and not useful to the issue. I assume that a developer is not requested to have any possible environment ready to test the patch locally; instead, the testing system (hudson?) should take care of it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-01T17:18:11.376+0000","updated":"2009-07-01T17:18:11.376+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12726165","id":"12726165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"\nLuca, (1) in Konstantin's comment is mostly not related to HDFS-356. I think tests were done for the patch but it is a known issue that we don't test for windows but generally would like to fix windows bugs when reported.\n\nI think you can test this on Linux, but by passing in a Windows path for namenode directory (\"C:\\test\"). It may not be necessary for you find a windows machine.\n\nMostly \"C:\" is making is an illegal URI. We need to have a fix for windows paths :\na. Does URI class or utilities help in handling windows path? Otherwise, we need treat windows paths specially.. something like what firefox does (\"c:/\" in url bar is an error, but \"c:\\\" gets mapped to \"file:///c:/\").\n\nSome time back we used to ask ourselves \"What would windows do?\" question more often. For this important change, we didn't. This is just another example of how there is \"simple change\"... there is a tough balance between how much we want to ask a contributor to tweak, test, and refine a patch and making it smooth and simple to contribute. just my 2 cents.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-01T18:18:28.986+0000","updated":"2009-07-01T18:18:28.986+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12726173","id":"12726173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"> ... we need treat windows paths specially.. something like what firefox does (\"c:/\" in url bar is an error, but \"c:\\\" gets mapped to \"file:///c:/\").\n\n+1\nI think converting Windows path c:\\foo to URI file:///c:/foo is a standard but not specific to firefox.\n\nBTW, since we assume Cygwin in Windows, could we just use /cygdrive/c/foo?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-01T18:34:54.969+0000","updated":"2009-07-01T18:34:54.969+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12726715","id":"12726715","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Raghu is right, my comment #1 an #3 are not related to the edits patch. This should be taken care in a different jira.\nI ran tests on  Linux and did not see failures, except for TestBackupNode, which is a known issue.\nPlease do not forget to past unit test and test-patch results before committing is Hudson is off.\nI did not look deep into the problem, but I thought we are calling getCanonicalPath() to read edits files, which adds the drive letter. So may be the solution should be to call toURI() on the path before anything else. This should convert the path (even if it is a win path) to correct uri, but if the path is already a URI it will remain the same. Then we can start analyzing the scheme and the authority.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-02T22:37:30.680+0000","updated":"2009-07-02T22:37:30.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12726748","id":"12726748","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"In {{FSNamesystem.getNamespaceDirs()}} I replaced \n{code}\n-    u = new URI(\"file://\" + new File(name).getAbsolutePath());\n+    u = new File(name).getAbsoluteFile().toURI();\n{code}\nAnd the name-node started well.\n\nSome additional comments:\n# {{getCanonicalFile()}} is preferrable to {{getAbsoluteFile()}} since the former replaces . and .. and resolves links.\n# You should use {{LOG.error(message, exception)}} instead of {{LOG.error(message + exception.getMessage())}}. I saw this in 4 places.\n# When file directories are specified as files rather than URIs the warning should explicitly say that that this api is *deprecated*. Instead of\n{code}\nLOG.warn(\"Scheme is undefined for \" + name);\nLOG.warn(\"Please check your file system configuration in \" +\n           \"hdfs-site.xml\");\n{code}\nI'd rather say\n{code}\nLOG.warn(\"Use of file paths for \" + propertyName + \" is deprecated. Instead URIs instead.\");\n{code}\nThe key words is deprecated, so that we could replace it with an error in next release, and URI so that users new what to do.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-03T00:28:17.315+0000","updated":"2009-07-03T00:28:17.315+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12727332","id":"12727332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Attaching a patch for this issue. \n\n- All URI are now built using \nnew File(name).getCanonicalPath().toURI() \nas Konstantin suggested. \n- LOG.error messages have been updated \n- from the messages above I understand that IllegalArgumentException is not an issue for this patch, correct? \n\nI see the queue for HDFS on hudson is not working, so I won't submit the patch. I'm running the test locally and I'll post the output afterwards. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-05T13:27:50.797+0000","updated":"2009-07-05T13:27:50.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12727340","id":"12727340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"+1, patch looks good to me. I wonder if we can also run on a windows system just to make sure that we are not missing anything. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2009-07-05T14:55:05.126+0000","updated":"2009-07-05T14:55:05.126+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12727396","id":"12727396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the fix.\n\nMinor change : \n{noformat}\n+          u = new File(name).getCanonicalFile().toURI();\n+          LOG.warn(\"Use of file paths is deprecated for property \" \n+              + propertyName);\n+          LOG.warn(\"Please update your configuration\");\n{noformat}\nThis prints two separate lines. Could you merge it? We usually have one for for that entire message so that each line is self contained.. makes parsing and grepping easy (stack traces are an exception of course). Also it might be better to suggest users to use URI in the message.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-06T05:33:29.260+0000","updated":"2009-07-06T05:33:29.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12727425","id":"12727425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Latest attachment fixes the LOG.warn() issue ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-06T08:04:55.754+0000","updated":"2009-07-06T08:04:55.754+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12727642","id":"12727642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Unit tests seem to have issues under Windows, and the issues don't seem all related to this patch. To prove that, I reverted HDFS-396 on a fresh trunk and the same tests fail in there. \n\nGiven that, I'm attaching a patch that has some Windows specific code which solve some unit tests issues but not all of them. In particular, the windows specific code looks like:\n{noformat}\n    \t  if(name.matches(\"^[a-zA-Z]:.*\")){\n    \t\t  u = new File(name).getCanonicalFile().toURI();\n    \t  } else {\n    \t\t  // process value as URI \n    \t\t  u = new URI(name);\n    \t  }\n{noformat}\nwhere the condition checks for a windows filename \n\nThe other unit test problems will be treated in HDFS-462","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-06T17:53:14.795+0000","updated":"2009-07-06T17:53:14.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12730605","id":"12730605","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Could you please test your patch now that HDFS-462 is committed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-13T23:48:19.967+0000","updated":"2009-07-13T23:48:19.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12730767","id":"12730767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"I run the tests: \n{noformat}\n     [exec] +1 overall.  \n     [exec] \n     [exec]     +1 @author.  The patch does not contain any @author tags.\n     [exec] \n     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.\n     [exec] \n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n     [exec] \n     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n     [exec] \n     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n     [exec] \n     [exec]     +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n     [exec] \n{noformat}\n\nResults on core tests are one failing test: \n{noformat}\n    [junit] Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 122.279 sec\n    [junit] Test org.apache.hadoop.cli.TestHDFSCLI FAILED\n{noformat}\nwith the following error: \n{noformat}\n2009-07-14 10:40:01,804 INFO  cli.TestCLI (TestCLI.java:displayResults(180)) -\n2009-07-14 10:40:01,804 INFO  cli.TestCLI (TestCLI.java:displayResults(184)) - Summary results:\n2009-07-14 10:40:01,804 INFO  cli.TestCLI (TestCLI.java:displayResults(185)) - ----------------------------------\n2009-07-14 10:40:01,805 INFO  cli.TestCLI (TestCLI.java:displayResults(205)) -                Testing mode: test2009-07-14 10:40:01,805 INFO  cli.TestCLI (TestCLI.java:displayResults(206)) -\n2009-07-14 10:40:01,805 INFO  cli.TestCLI (TestCLI.java:displayResults(207)) -              Overall result: --- FAIL ---2009-07-14 10:40:01,805 INFO  cli.TestCLI (TestCLI.java:displayResults(215)) -                # Tests pass: 621 (99%)\n2009-07-14 10:40:01,805 INFO  cli.TestCLI (TestCLI.java:displayResults(217)) -                # Tests fail: 2 (0%)2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(221)) -          # Validations done: 1819 (each test may \ndo multiple validations)2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(224)) -\n2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(225)) - Failing tests:2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(226)) - --------------\n2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(232)) - 557: help: help for rm2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(232)) - 558: help: help for rmr\n2009-07-14 10:40:01,806 INFO  cli.TestCLI (TestCLI.java:displayResults(242)) -\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-14T10:13:36.923+0000","updated":"2009-07-14T10:13:36.923+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12730836","id":"12730836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"I'm sorry, I just realized I run the tests under Linux. I'll have it done on Windows and update the comments accordingly. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-14T13:16:54.796+0000","updated":"2009-07-14T13:16:54.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12730980","id":"12730980","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"I run the tests on windows, using trunk + this patch and trunk + reverted 396, to see whether failures are due to this patch or not. I fixed a couple of error in the patch that I'm now posting. \nTo find some additional issues I run each test both on a directory containing spaces in path (like c:\\Documents and Settings) and a directory not containing spaces, which apparently made the difference.\n\nThe impression is that windows builds have been neglected since some time, due to the fact that some tests fail on both pre and post patch code. \n\nThe outcome is that the remaining failing tests (which fail only on windows) are not related to this patch. Details follow for public discussion: \n\nFIXED TESTS:\n\nby modifying code: \n{noformat}\nTestsuite: org.apache.hadoop.hdfs.TestDFSShell\n Tests run: 14, Failures: 1, Errors: 3, Time elapsed: 64.25 sec\n\nTestsuite: org.apache.hadoop.hdfs.server.namenode.TestStorageRestore\n Tests run: 2, Failures: 1, Errors: 1, Time elapsed: 27.172 sec\n{noformat}\n\nwithout modifying code: \n{noformat} \nTestsuite: org.apache.hadoop.hdfs.TestFileAppend2\n Tests run: 2, Failures: 1, Errors: 0, Time elapsed: 99.781 sec\n \nTestsuite: org.apache.hadoop.hdfs.TestReplication\n Tests run: 5, Failures: 0, Errors: 1, Time elapsed: 48.656 sec\n {noformat}\n\nFAILS ON BOTH: \n\nif the path contains spaces (otherwise works): \n{noformat}\nTestsuite: org.apache.hadoop.hdfs.TestDatanodeBlockScanner\n Tests run: 4, Failures: 0, Errors: 1, Time elapsed: 118.078 sec\n \nTestsuite: org.apache.hadoop.fs.TestUrlStreamHandler\n Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 23.969 sec\n {noformat}\n\nother causes: \n{noformat}\nTestsuite: org.apache.hadoop.cli.TestHDFSCLI\n Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 108.047 sec\n {noformat}\n\n{noformat}\nTestsuite: org.apache.hadoop.hdfs.TestHDFSTrash\n Tests run: 2, Failures: 1, Errors: 0, Time elapsed: 20.171 sec\n \nTestcase: testTrash took 1.609 sec\nTestcase: testNonDefaultFS took 0.188 sec\n        FAILED\nnull\njunit.framework.AssertionFailedError: null\n        at org.apache.hadoop.fs.TestTrash.checkTrash(TestTrash.java:62)\n        at org.apache.hadoop.fs.TestTrash.trashNonDefaultFS(TestTrash.java:335)\n        at org.apache.hadoop.hdfs.TestHDFSTrash.testNonDefaultFS(TestHDFSTrash.j\nava:61)\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)\n        at junit.extensions.TestSetup.run(TestSetup.java:27)\n{noformat}\n\n{noformat}\nTestsuite: org.apache.hadoop.hdfs.TestHDFSServerPorts\n Tests run: 4, Failures: 4, Errors: 0, Time elapsed: 7.437 sec\n \nTestcase: testNameNodePorts took 2.906 sec\n        FAILED\nnull\njunit.framework.AssertionFailedError: null\n        at org.apache.hadoop.hdfs.TestHDFSServerPorts.testNameNodePorts(TestHDFS\nServerPorts.java:256)\n\nTestcase: testDataNodePorts took 1.515 sec\n        FAILED\nnull\njunit.framework.AssertionFailedError: null\n        at org.apache.hadoop.hdfs.TestHDFSServerPorts.testDataNodePorts(TestHDFS\nServerPorts.java:291)\n\nTestcase: testSecondaryNodePorts took 0.938 sec\n        FAILED\nnull\njunit.framework.AssertionFailedError: null\n        at org.apache.hadoop.hdfs.TestHDFSServerPorts.testSecondaryNodePorts(Tes\ntHDFSServerPorts.java:319)\n\nTestcase: testBackupNodePorts took 1.312 sec\n        FAILED\nBackup started on same port as Namenode\njunit.framework.AssertionFailedError: Backup started on same port as Namenode\n        at org.apache.hadoop.hdfs.TestHDFSServerPorts.testBackupNodePorts(TestHD\nFSServerPorts.java:348)\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-14T17:13:06.351+0000","updated":"2009-07-14T17:13:06.351+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12731002","id":"12731002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Could you please list the tests that fail on Windows after your latest patch is applied.\nCould you please attach log files for the failed tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-14T17:59:15.301+0000","updated":"2009-07-14T17:59:15.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12731541","id":"12731541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Currently failing tests are: \n{noformat}\n    [junit] Test org.apache.hadoop.hdfs.TestHDFSServerPorts FAILED\n    [junit] Test org.apache.hadoop.hdfs.TestHDFSTrash FAILED\n    [junit] Test org.apache.hadoop.hdfs.TestModTime FAILED\n    [junit] Test org.apache.hadoop.hdfs.TestReplication FAILED\n{noformat}\n\nAttaching a .zip file containing the logs ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-15T16:21:26.679+0000","updated":"2009-07-15T16:21:26.679+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12732311","id":"12732311","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"TestReplication does not fail for me (using trunk). Could you please check this one.\nTestHDFSServerPorts and TestHDFSTrash do fail on Windows only. We should file an issue if there isn't one already.\nTestModTime started failing when I updated trunk, was not failing on 2 days old trunk, when you were running your tests. Don't know what it could be related to.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-07-17T02:21:31.905+0000","updated":"2009-07-17T02:21:31.905+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12732452","id":"12732452","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Today I've got different results from yours, I'm not sure if it's related to my environment configuration. \n\nI tried these 3 configurations: \n1 - trunk \n2 - trunk with HDFS-456 applied\n3 - trunk with HDFS-396 reverted. 396 doesn't revert fully anymore but the problem is related to CreateEditLog.java, so not relevant to this issue \n\nMy outcome is: \n1 - TestReplication fails with messages such as, which I guess is expected: \n{noformat}\nTestcase: testPendingReplicationRetry took 0.469 sec\n        Caused an ERROR\nAll specified directories are not accessible or do not exist.\njava.io.IOException: All specified directories are not accessible or do not exist.\n{noformat}\n\n2 - TestReplication failed on testReplicateLenMismatchedBlock with error: \n{noformat}\nTestcase: testReplicateLenMismatchedBlock took 2.375 sec\n        Caused an ERROR\nThe requested operation cannot be performed on a file with a user-mapped section open\njava.io.IOException: The requested operation cannot be performed on a file with a user-mapped section open\n        at java.io.RandomAccessFile.setLength(Native Method)\n        at org.apache.hadoop.hdfs.TestDatanodeBlockScanner.changeReplicaLength(TestDatanodeBlockScanner.java:419)\n        at org.apache.hadoop.hdfs.TestReplication.changeBlockLen(TestReplication.java:424)\n        at org.apache.hadoop.hdfs.TestReplication.testReplicateLenMismatchedBlock(TestReplication.java:403)\n{noformat}\n\n3 - TestReplication passed correctly \n{noformat}\nluca@yahoo-a170c7579 /tmp/patches/trunk-applied\n$ tail -n 6 build/test/TEST-org.apache.hadoop.hdfs.TestReplication.txt\n\nTestcase: testBadBlockReportOnTransfer took 24.61 sec\nTestcase: testReplicationSimulatedStorag took 3.562 sec\nTestcase: testReplication took 9.359 sec\nTestcase: testPendingReplicationRetry took 23.797 sec\nTestcase: testReplicateLenMismatchedBlock took 10.953 sec\n{noformat}\n\nso at the end everything seems fine. I'm still puzzled on why the test didn't fail today and failed yesterday","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-17T10:31:00.086+0000","updated":"2009-07-17T10:31:00.086+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12732568","id":"12732568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"To answer my own question, I run the test on trunk + HDFS-496 30 times consecutively, for 2 times. \nThe first time it passed 12 times, and failed 18; the second time it failed 23 times and passed 7 times. \nIn the second batch I saved the test logs and they all fail for the same error below, which is the same error that makes the test fail with HDFS-396 reverted, so that I'd conclude that this patch does not impact that test. The error seems related to something left open, and I assume it's OS specific. \n\n{noformat}\nTestcase: testReplicateLenMismatchedBlock took 1.984 sec\n        Caused an ERROR\nThe requested operation cannot be performed on a file with a user-mapped section\n open\njava.io.IOException: The requested operation cannot be performed on a file with a user-mapped section open\n        at java.io.RandomAccessFile.setLength(Native Method)\n        at org.apache.hadoop.hdfs.TestDatanodeBlockScanner.changeReplicaLength(TestDatanodeBlockScanner.java:419)\n        at org.apache.hadoop.hdfs.TestReplication.changeBlockLen(TestReplication.java:424)\n        at org.apache.hadoop.hdfs.TestReplication.testReplicateLenMismatchedBlock(TestReplication.java:403)\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-17T15:05:10.739+0000","updated":"2009-07-17T15:05:10.739+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12743327","id":"12743327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"After a personal discussion with Konstantin, I simplified the construction of the URL eliminating the custom windows check in favor of the more generic sequence below: \n{noformat}\n for(String name : dirNames) {\n      URI u = null;\n      try {\n        u = new URI(name);\n      } catch (Exception e){\n        LOG.warn(\"Path \" + name + \" should be specified as a URI \" +\n        \"in configuration files. Reverting to the default file scheme\");\n      }\n      // if uri is null or scheme is undefined, then assume it's file://\n      if(u == null || u.getScheme() == null){\n        System.out.println(\"Using default scheme\");\n        try {\n          u = new File(name).getCanonicalFile().toURI();\n        } catch (IOException e) {\n          LOG.error(\"Error while processing element as URI: \" + name);\n        }\n      }\n      if (u != null)\n        dirs.add(u);\n    }\n   {noformat}\n\nThe idea is that Windows will raise an exception when trying to construct a url from a windows file name in the first attempt, so it'll be reverted to the default scheme construction procedure:  \n{noformat}\nnew File(name).getCanonicalFile().toURI();\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-14T18:06:00.479+0000","updated":"2009-08-14T18:06:00.479+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12743409","id":"12743409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12416583/HDFS-456.patch\n  against trunk revision 804127.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 12 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/67/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/67/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/67/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/67/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-14T20:14:45.592+0000","updated":"2009-08-14T20:14:45.592+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12744185","id":"12744185","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"A few nits:\n- change numberOfVolumes() to private\n- keep handleDiskError(String errMsgr) private\n- \n{code}\n+    // to shutdonw DN completely and don't want NN to remove it.\n{code}\n\"shutdonw\" should be \"shutdown\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-08-17T20:33:43.708+0000","updated":"2009-08-17T20:33:43.708+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12744188","id":"12744188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Oops, my previous comments were not for this issue.  Sorry.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-08-17T20:36:04.006+0000","updated":"2009-08-17T20:36:04.006+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12746078","id":"12746078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"Comments:\n# {{FSImage.getDirectories()}} in this method, the path for storage directories is interpreted only as File. Could this also have URI?\n# FSImage.java - when creating new URI please catch specific exception {{URISyntaxExcepion}} instead of blanket {{Exception}}\n# FSImage.java - has System.out.println - please remove it\n# FSImage.java - when trying to process {{name}} as file, on exception, should the error say {{\"Error while processing element as URI or File: \" + name}}\n# Interpreting a path as URI, and on failure as file is repeated in multiple places. Move this into a util, instead of duplicating the code. Please add unit tests to test this method on various platforms to ensure different configuration (that is files, windows files, URIs) are handled. I would like to review the unit tests to see if we are catching all the conditions. These tests need to pass both on Windows and Linux.\n# In some of the tests, {{replace(' ', '+');}} has been removed. Not sure if this is intentional?\n# Please use two spaces instead of tab\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-08-21T16:48:54.010+0000","updated":"2009-08-21T16:48:54.010+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12747953","id":"12747953","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Suresh, thanks for the detailed comments, my replies are below. \n\nIn general, after some tests, I came up with an update in the URI creation logic: \n\n- if the uri is correctly specified, the URI constructor will take care of it\n- if the user specified a directory/file and not a uri, then the file constructor will be invoked, and the URi constructed from there\n- if the scheme is file, then the authoritative part should not be a Windows like drive letter, like C: \n\nThe last one comes after reading this page: http://blogs.msdn.com/ie/archive/2006/12/06/file-uris-in-windows.aspx \n\nLet me know if you think that the logic is solid and the unit test is good enough, thanks!\n\n{quote}\nFSImage.getDirectories() in this method, the path for storage directories is interpreted only as File. Could this also have URI?\n{quote}\n\nI'm not 100% sure on this. in FSImage.getDirectories() the assumption is that the list of directories should be already correctly set from the initialization methods no? What I mean is that that method is not reading any configuration property \n\n{quote}\nFSImage.java - when creating new URI please catch specific exception URISyntaxExcepion instead of blanket Exception\n{quote}\n\nDone\n\n{quote}\nFSImage.java - has System.out.println - please remove it \n{quote}\n\nDone: sorry about it\n\n{quote}\nFSImage.java - when trying to process name as file, on exception, should the error say \"Error while processing element as URI or File: \" + name    \n{quote}\n\nUpdated\n\n{quote}\nInterpreting a path as URI, and on failure as file is repeated in multiple places. Move this into a util, instead of duplicating the code. \n{quote}\n\nDone. \n\n{quote} \nPlease add unit tests to test this method on various platforms to ensure different configuration (that is files, windows files, URIs) are handled. I would like to review the unit tests to see if we are catching all the conditions. These tests need to pass both on Windows and Linux\n{quote}\n\nI added a unit test as requested. \n\n{quote}\nIn some of the tests, replace(' ', '+'); has been removed. Not sure if this is intentional?\n{quote}\n\nWas intentional two patches ago. I removed it though. I think some tests on windows behave weirdly because of directories with spaces (that is, if you run them in c:\\Documents and Settings the outcome is different than running them in /cygdrive/c/tmp/) but this should be the subject of a different patch in case. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-26T14:12:14.962+0000","updated":"2009-08-26T14:12:14.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12748440","id":"12748440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12417737/HDFS-456.patch\n  against trunk revision 808193.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    -1 release audit.  The applied patch generated 148 release audit warnings (more than the trunk's current 147 warnings).\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/93/testReport/\nRelease audit warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/93/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/93/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/93/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/93/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-27T16:49:58.486+0000","updated":"2009-08-27T16:49:58.486+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12748767","id":"12748767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Fixed javadoc. \nNot sure about the failing test though. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T09:40:03.694+0000","updated":"2009-08-28T09:40:03.694+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12748869","id":"12748869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12417979/HDFS-456.patch\n  against trunk revision 808670.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    -1 release audit.  The applied patch generated 148 release audit warnings (more than the trunk's current 147 warnings).\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/99/testReport/\nRelease audit warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/99/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/99/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/99/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-vesta.apache.org/99/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T16:05:15.338+0000","updated":"2009-08-28T16:05:15.338+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12748875","id":"12748875","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"No more audit warnings I swear!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T16:18:04.707+0000","updated":"2009-08-28T16:18:04.707+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12750427","id":"12750427","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12417997/HDFS-456.patch\n  against trunk revision 810337.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/6/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/6/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/6/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/6/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-02T13:15:00.813+0000","updated":"2009-09-02T13:15:00.813+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12750562","id":"12750562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"> No more audit warnings I swear!\nWell done!  You got the first successful build in the new hudson machine.\n\nReally hope that this can be committed soon.  Otherwise, we cannot run hdfs on Windows.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-02T17:52:34.763+0000","updated":"2009-09-02T17:52:34.763+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12758155","id":"12758155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Making it a blocker for 0.21","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-22T07:11:28.768+0000","updated":"2009-09-22T07:11:28.768+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12758202","id":"12758202","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"body":"Is there anything preventing this one to be committed? QA seemed fine in the last run. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lucat","name":"lucat","key":"lucat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luca Telloli","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-22T10:41:25.993+0000","updated":"2009-09-22T10:41:25.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12769418","id":"12769418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=streamy","name":"streamy","key":"streamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Gray","active":true,"timeZone":"America/Los_Angeles"},"body":"Over in HBase, we have not been able to run our unit tests on Windows in 0.21 because of URI-related errors in MiniDFSCluster.\n\nWith this patch, I am now able to run our unit tests on Windows.  I used to see messages like this:\n\n{noformat}\n2009-10-23 13:18:44,224 ERROR [main] namenode.FSNamesystem(354): Error while processing URI: C:\\eclipse\\HBase 0.21 Trunk SVN\\build\\hbase\\test\\dfs\\name1. The error message was: Illegal character in opaque part at index 2: C:\\eclipse\\HBase 0.21 Trunk SVN\\build\\hbase\\test\\dfs\\name1\n{noformat}\n\nWith the patch, I now see:\n\n{noformat}\n2009-10-23 13:28:55,823 WARN  [main] common.Util(50): Path C:\\eclipse\\HBase 0.21 Trunk SVN\\build\\hbase\\test\\dfs\\name1 should be specified as a URI in configuration files. Reverting to the default file scheme\n{noformat}\n\nAnd tests now run as expected.  +1 from me and others over in HBase.\n\nAttached is a patch that applies cleanly to the current 0.21 branch, no other changes.  Thanks Luca!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=streamy","name":"streamy","key":"streamy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Gray","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-10-23T20:34:21.128+0000","updated":"2009-10-23T20:34:21.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12787885","id":"12787885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch is based on the previous patches submitted by Luca, and updated by Jonathan.\n- I removed unused testing for incorrect URI containing windows drive letters.\n- Improved some message reporting and JavaDoc comments.\n- Replaced storage directory declaration in {{hdfs-default.xml}} with URIs for \"dfs.namenode.name.dir\" and \"dfs.namenode.checkpoint.dir\".\n- I fixed {{MiniDFSCluster}} so that it sets URIs as storage directories not files.\n- Fixed other tests, which set or use storage directories besides the mini-cluster.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-09T03:00:58.993+0000","updated":"2009-12-09T03:00:58.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12787887","id":"12787887","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"I ran tests on Windows and on Linux.\nLinux run was good. Windows tests fail because of HDFS-815 and HDFS-816. I think these are different issues unrelated to this patch.\nIn order to reproduce them though one will need to apply this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-09T03:04:16.541+0000","updated":"2009-12-09T03:04:16.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12787935","id":"12787935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12427420/EditsDirsWin.patch\n  against trunk revision 888538.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 15 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/138/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/138/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/138/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/138/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-09T06:13:12.180+0000","updated":"2009-12-09T06:13:12.180+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12788549","id":"12788549","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"Comments:\n# Some of the lines in Tests exceed 80 chars\n# TestHDFSServerPorts.java - when creating URI string why is File.getCanonicalFile().toURI() not used? This is also applicable to other tests.\n# TestGetUriFromString.testAbsolutePathAsURI - is there a reason why OS check is needed? The test works on unix for both windows and unix paths.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-10T07:03:36.622+0000","updated":"2009-12-10T07:03:36.622+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12789027","id":"12789027","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This addresses Suresh's comments.\nI did some more refactoring of the patch: I removed unused constants. Several contsant names were not up to our code style (not all capital), and I factored out two commonly used Util methods. I guess other people may forget to use canonical file name the I did, so I used {{Util.fileAsURI()}} method.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-10T23:36:53.262+0000","updated":"2009-12-10T23:36:53.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12789053","id":"12789053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"Comments:\n# Util.stringCollectionAsURIs - javadoc for @return is empty\n# Optional: MiniDFSCluster - fix two existing javadoc issues - restartDataNode() remove comma after dnport and keepPort and remove throws clause for getDataDirectory() \n# Optional: TestStorageRestore.getFileMD5 fix the javadoc comment @param by adding parameter name\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-11T00:46:15.501+0000","updated":"2009-12-11T00:46:15.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12789060","id":"12789060","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This fixes JavaDoc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-11T01:04:48.008+0000","updated":"2009-12-11T01:04:48.008+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12789062","id":"12789062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-11T01:08:09.830+0000","updated":"2009-12-11T01:08:09.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12789075","id":"12789075","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12427661/EditsDirsWin.patch\n  against trunk revision 889464.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 15 new or modified tests.\n\n    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/142/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/142/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/142/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/142/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-11T01:56:25.357+0000","updated":"2009-12-11T01:56:25.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12789097","id":"12789097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-11T03:37:03.817+0000","updated":"2009-12-11T03:37:03.817+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12790151","id":"12790151","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Hdfs-trunk #170 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/170/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-14T13:43:58.625+0000","updated":"2009-12-14T13:43:58.625+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12790453","id":"12790453","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Hdfs-trunk-Commit #145 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/145/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-14T23:40:21.588+0000","updated":"2009-12-14T23:40:21.588+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12791621","id":"12791621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hdfs-Patch-h5.grid.sp2.yahoo.net #148 (See [http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/148/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-16T22:01:48.447+0000","updated":"2009-12-16T22:01:48.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12429166/comment/12798995","id":"12798995","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hdfs-Patch-h2.grid.sp2.yahoo.net #94 (See [http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/94/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-12T02:02:52.508+0000","updated":"2010-01-12T02:02:52.508+0000"}],"maxResults":51,"total":51,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-456/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0jo87:"}}