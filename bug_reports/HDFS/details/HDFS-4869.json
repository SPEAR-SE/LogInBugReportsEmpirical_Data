{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12650378","self":"https://issues.apache.org/jira/rest/api/2/issue/12650378","key":"HDFS-4869","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310942","id":"12310942","key":"HDFS","name":"Hadoop HDFS","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2013-05-31T19:11:23.189+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jun 10 15:45:45 UTC 2013","customfield_12310420":"330705","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_943977875_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-06-11T16:20:14.374+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4869/watchers","watchCount":4,"isWatching":false},"created":"2013-05-31T18:07:16.518+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324031","id":"12324031","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324141","id":"12324141","description":"0.23.8 release","name":"0.23.8","archived":false,"released":true,"releaseDate":"2013-06-05"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335732","id":"12335732","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-05-12T18:18:38.362+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"In FsShell the put command supports using \"\\-\" in place of stdin, but this functionality (\"\\-\" in place of stdout) is broken in the get command.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12586120","id":"12586120","filename":"4869.branch-0.23.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"created":"2013-06-04T15:25:26.591+0000","size":2913,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12586120/4869.branch-0.23.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"331039","customfield_12312823":null,"summary":"FsShell get command does not support writing to stdout","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12650378/comment/13671702","id":"13671702","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"body":"Prior to the refactoring of FsShell (HADOOP-7176), the get command supported the use of \"-\" to download a file and write its contents to stdout.  For example, see HADOOP-3175. Currently, this can be worked around by using -cat instead of -get. However, for consistency, both put and get should support \"-\" in place of stdin or stdout, respectively.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"created":"2013-05-31T18:11:20.956+0000","updated":"2013-05-31T18:11:20.956+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12650378/comment/13671745","id":"13671745","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"This \"feature\" was intentionally removed 2 years ago.  As you point out it is duplicating the behavior of cat.  I don't think it can be cleanly re-added to the underlying base class for copying commands.  I'd prefer this to be a won't fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2013-05-31T19:11:23.189+0000","updated":"2013-05-31T19:11:23.189+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12650378/comment/13674493","id":"13674493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"body":"From the jiras it wasn't clear that the change in the behavior of -get was intentional, so I thought it was a bug. In any case, I have a patch (for 0.23) that would re-implement the functionality without bloating the code too much. Daryn, can you take a look at the patch? If you think this is a good way to do it, then I can post patches for trunk and branch 2. I did try this patch with many different scenarios and it worked fine in all my tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"created":"2013-06-04T15:25:26.594+0000","updated":"2013-06-04T15:25:26.594+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12650378/comment/13679572","id":"13679572","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"I don't think this will work when one of the sources is a directory, which illustrates issues associated with allowing a target of \"–\" to mean stdout.  The command either has to add a restriction barring directories for output to stdout which unbalances the command, ie. can't simply swap in \"–\" for the dest with any arguments.  Or further modified/hacked to allow recursing, skip the construction of a local path for the dest, checking existence and type of dest, creating dirs that don't exist, etc.  It starts to get complicated to fuse the existing behavior of cat into get/copyToLocal.\n\nUnless there is a compelling need for this change, I'd still prefer won't fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2013-06-10T15:16:28.476+0000","updated":"2013-06-10T15:16:28.476+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12650378/comment/13679574","id":"13679574","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"It's also deviating from the posix behavior to which FsShell tries to adhere.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2013-06-10T15:19:05.117+0000","updated":"2013-06-10T15:19:05.117+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12650378/comment/13679585","id":"13679585","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"body":"I tried these things and they all worked with the current patch:\n\nhdfs dfs -get /path/to/aFile -\nResult: file is printed to stdout\n\nhdfs dfs -get /path/to/aDirWithTwoFiles/* -\nResult: content of both files is printed to stdout\n\nhdfs dfs -get /path/to/aFileThatDoesNotExist -\nResult: error message \"No such file or directory\"\n\nhdfs dfs -get /path/to/aFile* -\nResult: prints the two files that match \"aFile*\" to stdout\n\nhdfs dfs -get /path/to/aDirWithTwoFiles -\nResult: error message: \"Is a directory\"\n\nI guess you were referring to the last case in your comment. I thought this was the same behavior of the prior \"-get aDir -\" implementation, but I could be wrong about this.\n\nIn any case, I am OK with leaving it as won't fix; at least this jira now documents the fact that \"-get aDir -\" does not work in the current versions of Hadoop.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cabad","name":"cabad","key":"cabad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristina L. Abad","active":true,"timeZone":"America/Chicago"},"created":"2013-06-10T15:45:45.718+0000","updated":"2013-06-10T15:45:45.718+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HDFS-4869/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1l1xz:"}}