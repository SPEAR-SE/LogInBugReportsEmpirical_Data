{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [{
            "id": "12312927",
            "name": "datanode",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12312927"
        }],
        "created": "2010-06-17T04:09:40.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thanhdo&avatarId=22565",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thanhdo&avatarId=22565",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thanhdo&avatarId=22565",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=thanhdo&avatarId=22565"
            },
            "displayName": "Thanh Do",
            "key": "thanhdo",
            "name": "thanhdo",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=thanhdo",
            "timeZone": "Etc/UTC"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": "2010-06-23T22:53:35.044+0000",
        "customfield_12310222": "1_*:*_1_*:*_130004094073_*|*_5_*:*_1_*:*_0",
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310320": null,
        "customfield_12310420": "15921",
        "customfield_12310920": "113400",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i0jrlb:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jul 30 20:24:34 UTC 2014",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "- Summary: Block is lost if primary datanode crashes in the middle tryUpdateBlock.\n \n- Setup:\n# available datanode = 2\n# replica = 2\n# disks / datanode = 1\n# failures = 1\n# failure type = crash\nWhen/where failure happens = (see below)\n \n- Details:\n Suppose we have 2 datanodes: dn1 and dn2 and dn1 is primary.\nClient appends to blk_X_1001 and crash happens during dn1.recoverBlock,\nat the point after blk_X_1001.meta is renamed to blk_X_1001.meta_tmp1002\n**Interesting**, this case, the block X is lost eventually. Why?\nAfter dn1.recoverBlock crashes at rename, what left at dn1 current directory is:\n1) blk_X                                                                                                                                                                                                         \n2) blk_X_1001.meta_tmp1002\n==> this is an invalid block, because it has no meta file associated with it.\ndn2 (after dn1 crash) now contains:\n1) blk_X                                                                                                                                                                                                         \n2) blk_X_1002.meta\n(note that the rename at dn2 is completed, because dn1 called dn2.updateBlock() before\ncalling its own updateBlock())\nBut the command namenode.commitBlockSynchronization is not reported to namenode,\nbecause dn1 is crashed. Therefore, from namenode point of view, the block X has GS 1001.\nHence, the block is lost.\n\nThis bug was found by our Failure Testing Service framework:\nhttp://www.eecs.berkeley.edu/Pubs/TechRpts/2010/EECS-2010-98.html\nFor questions, please email us: Thanh Do (thanhdo@cs.wisc.edu) and \nHaryadi Gunawi (haryadi@eecs.berkeley.edu)",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [{
            "id": "12332649",
            "outwardIssue": {
                "fields": {
                    "issuetype": {
                        "avatarId": 21133,
                        "description": "A problem which impairs or prevents the functions of the product.",
                        "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                        "id": "1",
                        "name": "Bug",
                        "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                        "subtask": false
                    },
                    "priority": {
                        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                        "id": "3",
                        "name": "Major",
                        "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                    },
                    "status": {
                        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                        "id": "5",
                        "name": "Resolved",
                        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                        "statusCategory": {
                            "colorName": "green",
                            "id": 3,
                            "key": "done",
                            "name": "Done",
                            "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                        }
                    },
                    "summary": "0.20: in tryUpdateBlock, the meta file is renamed away before genstamp validation is done"
                },
                "id": "12467675",
                "key": "HDFS-1263",
                "self": "https://issues.apache.org/jira/rest/api/2/issue/12467675"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12332649",
            "type": {
                "id": "10030",
                "inward": "is related to",
                "name": "Reference",
                "outward": "relates to",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
            }
        }],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "id": "3",
            "name": "Major",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094"
            },
            "id": "12310942",
            "key": "HDFS",
            "name": "Hadoop HDFS",
            "projectCategory": {
                "description": "Scalable Distributed Computing",
                "id": "10292",
                "name": "Hadoop",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310942"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thanhdo&avatarId=22565",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thanhdo&avatarId=22565",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thanhdo&avatarId=22565",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=thanhdo&avatarId=22565"
            },
            "displayName": "Thanh Do",
            "key": "thanhdo",
            "name": "thanhdo",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=thanhdo",
            "timeZone": "Etc/UTC"
        },
        "resolution": {
            "description": "The problem is not completely described.",
            "id": "4",
            "name": "Incomplete",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/4"
        },
        "resolutiondate": "2014-07-30T20:24:34.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Block lost when primary crashes in recoverBlock",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2014-07-30T20:24:34.000+0000",
        "versions": [{
            "archived": true,
            "description": "Append/sync support for Hadoop 0.20",
            "id": "12315103",
            "name": "0.20-append",
            "released": false,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12315103"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HDFS-1225/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HDFS-1225/watchers",
            "watchCount": 3
        },
        "workratio": -1
    },
    "id": "12467156",
    "key": "HDFS-1225",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12467156"
}