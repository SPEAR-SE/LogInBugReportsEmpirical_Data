[Thanks Rushabh for reporting this. Looks like we need the bug fix in 2.7 and 2.6 as well?, {quote}
If that is the case, both fsck and jmx metrics need to be changed. Also depending on how you interpret it, it seems more like incompatible change than just bug fix. That will decide if we want to fix it only in trunk.
{quote}
According to this [comment | https://issues.apache.org/jira/browse/HDFS-8872?focusedCommentId=15317548&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15317548]  by [~mingma], it seems like an incompatible change. We may have to put it only in trunk., 2.7.3 is under release process, changing target-version to 2.7.4., Moving this issue to 2.6.6. Please move back if you feel otherwise., I've analyzed this and discussed potential solutions in HDFS-11609.  The current patch is to allow replication from decommissioned node if there is no other choice.  If this is not desirable, it is easy to mark the block simply missing., Moving target version to 2.7.5 due to 2.7.4 release., Moving target version to 2.7.6 due to 2.7.5 release., Moving target version to 2.7.7 due to 2.7.6 release.]