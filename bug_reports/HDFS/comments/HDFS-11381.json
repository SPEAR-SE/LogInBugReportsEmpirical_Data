[The log of failed test indicates that there is not enough sample.
{noformat}
2017-01-31 07:45:12,217 [Thread-0] TRACE metrics.DataNodePeerMetrics (DataNodePeerMetrics.java:getOutliers(142)) - DataNodePeerMetrics: Got stats: {}
2017-01-31 07:45:12,218 [Thread-0] DEBUG metrics.SlowNodeDetector (SlowNodeDetector.java:getOutliers(110)) - Skipping statistical outlier detection as we don't have latency data for enough peers. Have 0, need at least 10
{noformat}

This seems to be timing issue between test thread and roller thread of RollingAverage. Increasing WINDOW_INTERVAL_SECONDS of TestDataNodeOutlierDetectionViaMetrics makes the failure easier to reproduce.]