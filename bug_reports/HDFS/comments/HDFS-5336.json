[Also, I found NodeManager and MRAppMaster output 'StartupProgress' metrics at my pseudo-distributed environment., This is caused by reliance on static initialization coming back to bite us.  The startup progress metrics get registered during static initialization of the {{NameNode}} class.  Any process accessing that class will register the startup progress metrics as a side effect.  For example, {{DatanodeWebHdfsMethods}} calls {{NameNode#getHttpAddress}}.  I don't know yet how the YARN code triggered it., [~cnauroth], thanks for nice comment!
I think it is better to change where the startup progress metrics get registered.

I attached a patch for below:
* The startup metrics get registered at NameNode.initialize(Conguration).
* Change the context of the startup metrics from 'default' to 'dfs'.

I built pseudo-distributed cluster with the patch and confirmed DataNode, ResourceManager, and MRAppMaster didn't output 'StartupProgress' metrics., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12608094/HDFS-5336.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/5171//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/5171//console

This message is automatically generated., The patch doesn't need new tests because the fixes are just to change where to initialize the startup progress metrics, and to add the context of the metrics.
I want someone to build with the patch and verify., Thanks for the patch, Akira.  I built and verified that startup progress metrics only showed up in namenode and not datanode.

bq. Change the context of the startup metrics from 'default' to 'dfs'.

Unfortunately, I think this would be backwards-incompatible.  For example, if someone was using metrics filtering, then their filtering configuration under the old context would stop working.  Can we please remove this part of the change?
, Thanks for reviewing, [~cnauroth].
I see. I removed this part and attached a new patch., +1 for the patch.  I'm going to wait for a Jenkins run with the new version, and then I'll commit it., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12608819/HDFS-5336.2.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/5218//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/5218//console

This message is automatically generated., I've committed this to trunk and branch-2.  Akira, thank you for the contribution!, SUCCESS: Integrated in Hadoop-trunk-Commit #4624 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/4624/])
HDFS-5336. DataNode should not output StartupProgress metrics. Contributed by Akira Ajisaka. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1533183)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java
, Thanks you, [~cnauroth]!, SUCCESS: Integrated in Hadoop-Yarn-trunk #366 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/366/])
HDFS-5336. DataNode should not output StartupProgress metrics. Contributed by Akira Ajisaka. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1533183)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk #1556 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1556/])
HDFS-5336. DataNode should not output StartupProgress metrics. Contributed by Akira Ajisaka. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1533183)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1582 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1582/])
HDFS-5336. DataNode should not output StartupProgress metrics. Contributed by Akira Ajisaka. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1533183)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java
]