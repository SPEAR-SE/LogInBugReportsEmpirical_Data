[I guess an "upgrade" operation itself isn't really needed, as when you upgrade the NN, it merges the editlog with the image. Then the upgraded NN can use what looks like a newly formatted editlog. Doing this on a live system with multiple possible writers to the editlog could be problematic though. 

Snapshotting itself shouldn't be too difficult for us, as we just need to take a snapshot of the zk tree at a certain znode version., Resolving as a duplicate of HDFS-5138, which has a lot more discussion about how best to do this.]