[Patch attached. I also took the opportunity to clean up a few whitespace differences between trunk and branch-2, which should make future cherry-picks easier., [~szetszwo] do you mind quickly reviewing? I think this is related to HDFS-6987, since that was committed while archival storage was only in trunk. Thanks., Thanks for fixing this.  It is a merge error.

+1 patch looks good.  Please test it manually., Thanks Nicholas, I ran TestEncryptionZones successfully after the patch. I'll commit this to branch-2 shortly., Committed, thanks again Nicholas., FAILURE: Integrated in Hadoop-trunk-Commit #6117 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6117/])
Add HDFS-7148 to CHANGES.txt, branch-2 only commit. (wang: rev 840825d819f6df5c8e88749fa8d2d93916cd55eb)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk #692 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/692/])
Add HDFS-7148 to CHANGES.txt, branch-2 only commit. (wang: rev 840825d819f6df5c8e88749fa8d2d93916cd55eb)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, SUCCESS: Integrated in Hadoop-Hdfs-trunk #1883 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1883/])
Add HDFS-7148 to CHANGES.txt, branch-2 only commit. (wang: rev 840825d819f6df5c8e88749fa8d2d93916cd55eb)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1908 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1908/])
Add HDFS-7148 to CHANGES.txt, branch-2 only commit. (wang: rev 840825d819f6df5c8e88749fa8d2d93916cd55eb)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
]