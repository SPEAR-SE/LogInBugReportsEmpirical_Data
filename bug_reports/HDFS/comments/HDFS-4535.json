[Xiaobo, can you please add details on what tests you ran?, I deleted the old patch since it missed the removed BlockTransferThrottler.java.

I performed similar manual tests to HDFS-1457 and HDFS-3515 on the patch. I verified that the throttle method was entered, the throttling period was correct, and fsimage & edits log files were throttled at the rate bandwidthPerSec. In short, the patch works., Xiabo, I had missed the information that HDFS-3515 already ported this to 1.2.0. This will be available in that release. Also that patch can be merged to 1.1 branch if it is made available as content in a future 1.1.x release. So there is no need for this jira. I am going to resolve this., Sure, Suresh. I thought you knew HDFS-3515 already ported it to branch-1 (I included that link when creating this one) and still wanted a patch for branch-1.1., Sorry I missed that. Most of the merges with in branch-1 and 1.x releases is fairly straightforward. It does not require a jira or another patch., No problem. I need to know those practices. Thanks, Suresh.]