[Thanks for reporting the issue, [~xiegang112].
Hadoop 2.4.0 is an old release and no longer supported. The issue reported in this jira is fixed by HDFS-9279.

I am going to resolve this jira as a dup of HDFS-9279. Please reopen if this is not the case., nice, let me check it out., After carefully check the issue reported in HDFS-9279, and found this issue is not its dup.

this case is mainly about the param {color:#d04437}nodesInService{color}. When a datanode is decommissioned and then dead. nodesInService will not be subtracted.  
Then when allocation, the dead node will be counted in the maxload, which makes the maxload very low, in turns, causes any allocation failing.

    if (considerLoad) {
{color:#d04437}      final double maxLoad = maxLoadRatio * stats.getInServiceXceiverAverage();{color}
      final int nodeLoad = node.getXceiverCount();
      if (nodeLoad > maxLoad) {
        logNodeIsNotChosen(storage,
            "the node is too busy (load:"+nodeLoad+" > "+maxLoad+") ");
        stats.incrOverLoaded();
        return false;
      }
    }, And I believe this issue still in the latest version, Why we don't substract nodesInService when we complete the decommission of the datanode and it becomes dead? And consideration here? ]