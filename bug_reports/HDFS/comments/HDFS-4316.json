[The erroneous test code was introduced as part of HDFS-4260.  I can see that branch-trunk-win currently contains code for the accepted patch and also an earlier revision of the patch that was rejected.

Reviewing git log, I can see that the trunk commit (git show a54c1c39fb0230bc01c74f92458b285b781d69a4) has the correct code.  In the following merge commit to branch-trunk-win (git show 1932b5b86105c46c22729df0d549d4e26d94a3ac), I see it adding the changes that we do not want.

Trunk is correct, so the scope of this jira is to restore branch-trunk-win to the same state.
, This patch restores branch-trunk-win to the correct state., +1 for the change. Thanks for finding this and restoring it back to the correct state., Committed to branch-trunk-win. Thank you Chris for fixing this issue.]