[We usually post patches for different version in a singe issue.  I think you should post HADOOP-5862.020.patch in HADOOP-5862 and close this., Sounds good, I'll do it this way next time. This time we already have the jira..

I cannot run test-patch on this because test-patch script itself has a problem (JAVA5_HOME=$10 instead JAVA5_HOME=${10}) which is fixed in the trunk.
So I only run 'ant test' and it passed successfully.

  , I just committed this to 0.20. Thanks Boris!]