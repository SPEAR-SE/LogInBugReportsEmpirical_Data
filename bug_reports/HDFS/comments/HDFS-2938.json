[As mentioned in the forms, please use Fix Versions only to indicate a version where a fix has already been committed to, and target versions for where you intend it to get committed to., (Reasoning here if you missed it: http://search-hadoop.com/m/NARQHPUsiv1), +1, looks good. One nit: missing a '.' in the javadoc at the end of the first sentence., +1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12514671/HDFS-2938.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed unit tests in .

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/1871//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/1871//console

This message is automatically generated., Tiny nit: please put spaces around "=" and "<".

Otherwise looks good to me., attaching patch that takes care of nits, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12514694/HDFS-2938.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed these unit tests:
                  org.apache.hadoop.hdfs.server.common.TestDistributedUpgrade

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/1872//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/1872//console

This message is automatically generated., Test failure is not related. Looks like same test passed previously., Thanks for taking care of the nits - from the original code. +1 for the patch., Committed the patch to trunk and 0.23. Thank you Hari., Integrated in Hadoop-Hdfs-trunk-Commit #1806 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1806/])
    HDFS-2938. Recursive delete of a large directory make namenode unresponsive. Contributed by Hari Mankude. (Revision 1244752)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244752
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Common-trunk-Commit #1732 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1732/])
    HDFS-2938. Recursive delete of a large directory make namenode unresponsive. Contributed by Hari Mankude. (Revision 1244752)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244752
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Hdfs-0.23-Commit #543 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Commit/543/])
    HDFS-2938. Merging change 1244752 from trunk to 0.23 (Revision 1244754)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244754
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Common-0.23-Commit #556 (See [https://builds.apache.org/job/Hadoop-Common-0.23-Commit/556/])
    HDFS-2938. Merging change 1244752 from trunk to 0.23 (Revision 1244754)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244754
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #1744 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1744/])
    HDFS-2938. Recursive delete of a large directory make namenode unresponsive. Contributed by Hari Mankude. (Revision 1244752)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244752
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Mapreduce-0.23-Commit #559 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Commit/559/])
    HDFS-2938. Merging change 1244752 from trunk to 0.23 (Revision 1244754)

     Result = ABORTED
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244754
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Hdfs-0.23-Build #170 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/170/])
    HDFS-2938. Merging change 1244752 from trunk to 0.23 (Revision 1244754)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244754
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Hdfs-trunk #957 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/957/])
    HDFS-2938. Recursive delete of a large directory make namenode unresponsive. Contributed by Hari Mankude. (Revision 1244752)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244752
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Mapreduce-0.23-Build #198 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Build/198/])
    HDFS-2938. Merging change 1244752 from trunk to 0.23 (Revision 1244754)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244754
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, Integrated in Hadoop-Mapreduce-trunk #992 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/992/])
    HDFS-2938. Recursive delete of a large directory make namenode unresponsive. Contributed by Hari Mankude. (Revision 1244752)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244752
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestLargeDirectoryDelete.java
, I have just verified this issue across the versions, looks 22 branch also lost the mechanism of HDFS-173.
So, we may have to back port this to 22 branch., Please ignore my previous comment, i looked at wrong code base.]