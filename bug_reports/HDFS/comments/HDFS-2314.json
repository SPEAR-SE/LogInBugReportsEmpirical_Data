[Not sure of the fix, looked at the patch at HDFS-2197 and it doesn't seem like the RpcServer is exposed to the outside world anymore.  Added Todd who worked on HDFS-2197 on the watch list and commenting on that ticket too., This patch restores the NameNodeAdapter function, Can confirm that test compilation passes with the attached patch.

The patch looks good too. +1. Couldn't think of that simple a fix ;), Please push this to trunk *and* 0.23 once Jenkins is done with all his machinations. Thanks!, Is this ready for commit? Let's do it then - it's breaking builds., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12493178/hdfs-2314.txt
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed these unit tests:

                  org.apache.hadoop.hdfs.server.datanode.TestReplicasMap
                  org.apache.hadoop.hdfs.server.blockmanagement.TestHost2NodesMap
                  org.apache.hadoop.hdfs.TestDfsOverAvroRpc

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/1204//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-HDFS-Build/1204//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-hdfs.html
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/1204//console

This message is automatically generated., Committd to trunk. This only affects 0.24 since I did not put HDFS-2197 in 0.23 yet. If we put 2197 in 0.23 I'll make sure this addition gets in as well. Sorry about the trouble., Integrated in Hadoop-Common-trunk-Commit #837 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/837/])
    HDFS-2314. MRV1 test compilation broken after HDFS-2197. Contributed by Todd Lipcon

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165860
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NameNodeAdapter.java
, Integrated in Hadoop-Hdfs-trunk-Commit #914 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/914/])
    HDFS-2314. MRV1 test compilation broken after HDFS-2197. Contributed by Todd Lipcon

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165860
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NameNodeAdapter.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #848 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/848/])
    HDFS-2314. MRV1 test compilation broken after HDFS-2197. Contributed by Todd Lipcon

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165860
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NameNodeAdapter.java
, Integrated in Hadoop-Hdfs-trunk #786 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/786/])
    HDFS-2314. MRV1 test compilation broken after HDFS-2197. Contributed by Todd Lipcon

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165860
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NameNodeAdapter.java
, Integrated in Hadoop-Mapreduce-trunk #809 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/809/])
    HDFS-2314. MRV1 test compilation broken after HDFS-2197. Contributed by Todd Lipcon

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165860
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NameNodeAdapter.java
]