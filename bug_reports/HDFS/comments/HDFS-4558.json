[What's your block placement policy? Something non-standard?, The conf in running balancer is not initialized well so left as a null value. I will deliver a patch to fix it., This is a pretty simple one, so not include a unit test. I verified it fix my issue (the same with here) in running balancer against branch-1., It seems that this is a 1.2.0 only issue.  1.1.2 should not have this problem., Hi Junping,

How about we simply remove the default constructor and create a new conf in main(..)?, Yes. It should be 1.2.0 issue. 
That's a better idea as main is the only caller for this default constructor which is not necessary now. I will update a patch soon., Update as Nicholas suggestion in v2 patch. BTW, The default constructor of balancer consumed by main can work before because its config is initialized later in ToolRunner. After adding check replication policy, its conf cannot be null in construct stage, so here we remove the default constructor. , Thanks Junping, the conf also needs to be passed to ToolRunner.  Otherwise, we will create two configurations., Ooops. You are right, Nicholas. v3 is the right one., +1 patch looks good., I have committed this.  Thanks, Junping!, Thanks for review and comments. Nicholas!, Closed upon release of Hadoop 1.2.0.]