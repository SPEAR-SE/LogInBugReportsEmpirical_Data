[I saw the same NPE when running tests in TestFileChecksum, and the NPE is reproducible consistently. (I run the tests on Mac), Maybe it's related to test failures in HDFS-10935, I think this Null pointer exception is because one data node is killed during the test. Therefore, it can be a normal situation. ]