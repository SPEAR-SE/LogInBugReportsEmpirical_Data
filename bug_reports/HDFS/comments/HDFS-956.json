[Quick search through FSNamesystem shows:
- concat checks safemode before entering synchronization block
- setQuota isn't synchronized at all (it calls dir.setQuota with no synchronization either)
- renewLease isn't synchronized (not certain for sure if this has to be - it seems like it ought to be so that the leases serialized in an fsimage are consistent)
- computeDatanodeWork - this one is a bit tricky as well. Is blockManager.updateState() safe to call in safeMode?
, HDFS-988 will cover these as well.]