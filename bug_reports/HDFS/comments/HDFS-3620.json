[This will require making changes to TestWebHdfsUrl, which currently doesn't bring up the MiniDFSCluster, so WebHdfsFileSystem initialization will fail because it'll try to make the HTTP REST call when the WebHDFS service isn't up.

This might be tricky because the test enables security, and we don't have a good way of running unit tests against a secure MiniDFSCluster yet without extra work to get an external KDC up or use the apacheDS from HADOOP-8078., I disagree that WebHdfsFileSystem should make a HTTP call since it is unnecessary.  It is supposed to talk to HDFS and the home directory returned is correct.  If it makes a HTTP call, it will slow down the performance., If the target FS has home dirs in other location than '/user/<UID>' then WebHdfsFileSystem will return the incorrect value.

To avoid perf issues, this call should be done ONCE per WebHdfsFilesystem and cached in the instance., This issue was duplicated and dealt with in HDFS-8542.]