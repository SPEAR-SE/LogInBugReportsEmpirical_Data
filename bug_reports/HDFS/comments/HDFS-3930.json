[Here's the test Standard Output:

2012-09-12 03:45:39,692 INFO  datanode.DataNode (SimulatedFSDataset.java:registerMBean(881)) - Registered FSDatasetState MBean
2012-09-12 03:45:39,845 INFO  datanode.DataNode (BPServiceActor.java:run(655)) - Block pool <registering> (storage id unknown) service to 0.0.0.0/0.0.0.0:0 starting to offer service
2012-09-12 03:45:39,846 DEBUG datanode.DataNode (BPServiceActor.java:retrieveNamespaceInfo(160)) - Block pool <registering> (storage id unknown) service to 0.0.0.0/0.0.0.0:0 received versionRequest response: lv=-40;cid=fake cluster;nsid=1;c=0;bpid=fake bpid
2012-09-12 03:45:39,850 INFO  datanode.DataNode (BPServiceActor.java:register(614)) - Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:0 beginning handshake with NN
2012-09-12 03:45:39,851 INFO  datanode.DataNode (BPServiceActor.java:register(627)) - Block pool Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:0 successfully registered with NN
2012-09-12 03:45:39,851 INFO  datanode.DataNode (BPServiceActor.java:offerService(495)) - For namenode 0.0.0.0/0.0.0.0:0 using DELETEREPORT_INTERVAL of 300000 msec  BLOCKREPORT_INTERVAL of 21600000msec Initial delay: 0msec; heartBeatInterval=3000
2012-09-12 03:45:39,852 DEBUG datanode.DataNode (BPServiceActor.java:sendHeartBeat(432)) - Sending heartbeat from service actor: Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:0
2012-09-12 03:45:39,862 INFO  datanode.DataNode (BPServiceActor.java:run(655)) - Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:1 starting to offer service
2012-09-12 03:45:39,863 DEBUG datanode.DataNode (BPServiceActor.java:retrieveNamespaceInfo(160)) - Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:1 received versionRequest response: lv=-40;cid=fake cluster;nsid=1;c=0;bpid=fake bpid
2012-09-12 03:45:39,864 INFO  datanode.DataNode (BPServiceActor.java:register(614)) - Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:1 beginning handshake with NN
2012-09-12 03:45:39,864 INFO  datanode.DataNode (BPServiceActor.java:register(627)) - Block pool Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:1 successfully registered with NN
2012-09-12 03:45:39,865 WARN  datanode.DataNode (BPServiceActor.java:run(682)) - Ending block pool service for: Block pool fake bpid (storage id null) service to 0.0.0.0/0.0.0.0:1
2012-09-12 03:45:39,875 INFO  datanode.DataNode (BPServiceActor.java:blockReport(405)) - BlockReport of 0 blocks took 10 msec to generate and 0 msecs for RPC and NN processing]