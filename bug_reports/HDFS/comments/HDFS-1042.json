[Sample stack trace from a CDH 0.20.2:
{noformat}
java.lang.NullPointerException
        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getFilesTotal(FSNamesystem.java:4621)
        at org.apache.hadoop.hdfs.server.namenode.metrics.FSNamesystemMetrics.doUpdates(FSNamesystemMetrics.java:100)
        at org.apache.hadoop.metrics.spi.AbstractMetricsContext.timerEvent(AbstractMetricsContext.java:293)
        at org.apache.hadoop.metrics.spi.AbstractMetricsContext.access$000(AbstractMetricsContext.java:53)
        at org.apache.hadoop.metrics.spi.AbstractMetricsContext$1.run(AbstractMetricsContext.java:258)
        at java.util.TimerThread.mainLoop(Timer.java:512)
        at java.util.TimerThread.run(Timer.java:462)
{noformat}, 
so can we call registerMbean() method just after the FsDirectory initialization in FsNamesystem .initialize() method????, Hi Todd Lipcon ,

can you give exact scenario to replicate this... ]