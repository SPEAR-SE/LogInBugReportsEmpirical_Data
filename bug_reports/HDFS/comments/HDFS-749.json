[Also, 
{noformat}
%  wget http://repo1.maven.org/maven2/org/apache/hadoop/hadoop-core
--2009-11-02 11:43:43--  http://repo1.maven.org/maven2/org/apache/hadoop/hadoop-core
Resolving repo1.maven.org... 38.97.124.18
Connecting to repo1.maven.org|38.97.124.18|:80... connected.
HTTP request sent, awaiting response... 403 Forbidden
2009-11-02 11:43:44 ERROR 403: Forbidden.

% wget http://repo1.maven.org/maven2/org/apache/hadoop/
--2009-11-02 11:43:49--  http://repo1.maven.org/maven2/org/apache/hadoop/
Resolving repo1.maven.org... 38.97.124.18
Connecting to repo1.maven.org|38.97.124.18|:80... connected.
HTTP request sent, awaiting response... 403 Forbidden
2009-11-02 11:43:49 ERROR 403: Forbidden.
{noformat}, Seems to be related to HADOOP-5107, The build works fine for me. When I tried building, it downloaded the jar from https://repository.apache.org/content/repositories/snapshots/org/apache/hadoop/hadoop-core/0.22.0-SNAPSHOT/hadoop-core-0.22.0-20091102.234920-2.jar and not https://repository.apache.org/content/repositories/snapshots/org/apache/hadoop/hadoop-core/0.22.0-SNAPSHOT/hadoop-core-0.22.0-SNAPSHOT.jar.

Looks like you were not able to connect to apache repository at that time. Did a retry work?

As an aside, the jars are only available from the apache repository as of now, and not from maven repo. So, if you cannot connect to apache repo, you cannot download the jar at all., I am seeing the same compilation problem. I am guessing that this was introduced by the changes in HADOOP-5107., As of this morning I was able to compile trunk normally. I guess the snapshot jar has been eventually propagated to Apache's repo and can be pulled down by the ant build.

I'll wait up til the end of the day and then will close this JIRA as fixed., Seems to be fixed by propagation of a snapshot jar file., Wish this JIRA can be fixed as soon as possible., I am not sure what you mean - this JIRA is invalid because hadoop-core doesn't exist for about a year now. The artifact has been renamed to hadoop-common. I have just ran the HEAD of hadoop-0.22 and it find everything perfectly:
{code}
[ivy:resolve]   found org.apache.hadoop#hadoop-common;0.22.0-SNAPSHOT in apache-snapshot
{code}

If you still this issue it likely means that your workspace is broken.]