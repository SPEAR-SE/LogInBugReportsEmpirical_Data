[Snapshots should most definitely be considered part of the quota calculation. They are not free and do take up space., Hi [~aw]
The first two columns of "hdfs count" cmd refers to {{QUOTA REM_QUOTA}} NameQuota.
The issue i observed is on NameQuota not the SpaceQuota. AFAIK, the {{REM_QUOTA}} should not go to negative values.
I think namequota is not considered for snapshots creation, according to HDFS-4091 max snapshots created for a folder is 65K.
, Thanks [~archanat] for reporting this. 

Thanks [~aw] for the interest and the comments.
bq. Snapshots should most definitely be considered part of the quota calculation. They are not free and do take up space.
My observation is, snapshots are not considered while verifying the quota. But the {{ContentSummay}} object has the logic of calculating the remaining quota as follows. Here, the {{directoryCount}} is considering the snapshots and is causing the {{REM_QUOTA}} evaluated to a negative number, which is misleading, isn't it?

{code}
      if (quota>0) {
        quotaStr = formatSize(quota, hOption);
        quotaRem = formatSize(quota-(directoryCount+fileCount), hOption);
      }
{code}

Snapshot has the default quota limits. Presently there is no way(command) to set the quota value for the snapshots.
{code}
DirectorySnapshottableFeature.java

  /** Number of snapshots allowed. */
  private int snapshotQuota = SNAPSHOT_LIMIT;
{code}]