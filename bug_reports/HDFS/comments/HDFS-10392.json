[TestEditLog
{noformat}
Picked up _JAVA_OPTIONS: -Dfile.encoding=UTF-8
Running org.apache.hadoop.hdfs.server.namenode.TestEditLog
Tests run: 48, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 109.01 sec <<< FAILURE! - in org.apache.hadoop.hdfs.server.namenode.TestEditLog
testResetThreadLocalCachedOps[0](org.apache.hadoop.hdfs.server.namenode.TestEditLog)  Time elapsed: 11.898 sec  <<< ERROR!
java.io.IOException: Timed out waiting for Mini HDFS Cluster to start
	at org.apache.hadoop.hdfs.MiniDFSCluster.waitClusterUp(MiniDFSCluster.java:1345)
	at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:848)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:482)
	at org.apache.hadoop.hdfs.MiniDFSCluster$Builder.build(MiniDFSCluster.java:441)
	at org.apache.hadoop.hdfs.server.namenode.TestEditLog.testResetThreadLocalCachedOps(TestEditLog.java:1567)

testReadActivelyUpdatedLog[1](org.apache.hadoop.hdfs.server.namenode.TestEditLog)  Time elapsed: 2.433 sec  <<< ERROR!
java.lang.IllegalStateException: failed to create a child event loop
	at sun.nio.ch.KQueueArrayWrapper.init(Native Method)
	at sun.nio.ch.KQueueArrayWrapper.<init>(KQueueArrayWrapper.java:100)
	at sun.nio.ch.KQueueSelectorImpl.<init>(KQueueSelectorImpl.java:87)
	at sun.nio.ch.KQueueSelectorProvider.openSelector(KQueueSelectorProvider.java:42)
	at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:125)
	at io.netty.channel.nio.NioEventLoop.<init>(NioEventLoop.java:119)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:97)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:31)
	at io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:77)
	at io.netty.channel.MultithreadEventLoopGroup.<init>(MultithreadEventLoopGroup.java:50)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:72)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:58)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:46)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:38)
	at org.apache.hadoop.hdfs.server.datanode.web.DatanodeHttpServer.<init>(DatanodeHttpServer.java:122)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startInfoServer(DataNode.java:891)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:1285)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:479)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:2584)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:2472)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:1592)
	at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:844)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:482)
	at org.apache.hadoop.hdfs.MiniDFSCluster$Builder.build(MiniDFSCluster.java:441)
	at org.apache.hadoop.hdfs.server.namenode.TestEditLog.testReadActivelyUpdatedLog(TestEditLog.java:1647)	
{noformat}

TestReconstructStripedBlocks
{noformat}
Running org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks
Tests run: 4, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 18.55 sec <<< FAILURE! - in org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks
testMissingStripedBlockWithBusyNode(org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks)  Time elapsed: 7.417 sec  <<< ERROR!
java.lang.IllegalStateException: failed to create a child event loop
	at sun.nio.ch.KQueueArrayWrapper.init(Native Method)
	at sun.nio.ch.KQueueArrayWrapper.<init>(KQueueArrayWrapper.java:100)
	at sun.nio.ch.KQueueSelectorImpl.<init>(KQueueSelectorImpl.java:87)
	at sun.nio.ch.KQueueSelectorProvider.openSelector(KQueueSelectorProvider.java:42)
	at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:125)
	at io.netty.channel.nio.NioEventLoop.<init>(NioEventLoop.java:119)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:97)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:31)
	at io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:77)
	at io.netty.channel.MultithreadEventLoopGroup.<init>(MultithreadEventLoopGroup.java:50)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:72)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:58)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:46)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:38)
	at org.apache.hadoop.hdfs.server.datanode.web.DatanodeHttpServer.<init>(DatanodeHttpServer.java:122)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startInfoServer(DataNode.java:891)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:1285)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:479)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:2584)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:2472)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:1592)
	at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:844)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:482)
	at org.apache.hadoop.hdfs.MiniDFSCluster$Builder.build(MiniDFSCluster.java:441)
	at org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks.doTestMissingStripedBlock(TestReconstructStripedBlocks.java:108)
	at org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks.testMissingStripedBlockWithBusyNode(TestReconstructStripedBlocks.java:92)

testMissingStripedBlock(org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks)  Time elapsed: 3.685 sec  <<< ERROR!
java.lang.IllegalStateException: failed to create a child event loop
	at sun.nio.ch.IOUtil.makePipe(Native Method)
	at sun.nio.ch.KQueueSelectorImpl.<init>(KQueueSelectorImpl.java:84)
	at sun.nio.ch.KQueueSelectorProvider.openSelector(KQueueSelectorProvider.java:42)
	at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:125)
	at io.netty.channel.nio.NioEventLoop.<init>(NioEventLoop.java:119)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:97)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:31)
	at io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:77)
	at io.netty.channel.MultithreadEventLoopGroup.<init>(MultithreadEventLoopGroup.java:50)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:72)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:58)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:46)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:38)
	at org.apache.hadoop.hdfs.server.datanode.web.DatanodeHttpServer.<init>(DatanodeHttpServer.java:121)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startInfoServer(DataNode.java:891)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:1285)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:479)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:2584)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:2472)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:1592)
	at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:844)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:482)
	at org.apache.hadoop.hdfs.MiniDFSCluster$Builder.build(MiniDFSCluster.java:441)
	at org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks.doTestMissingStripedBlock(TestReconstructStripedBlocks.java:108)
	at org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks.testMissingStripedBlock(TestReconstructStripedBlocks.java:86)

testCountLiveReplicas(org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks)  Time elapsed: 3.471 sec  <<< ERROR!
java.lang.IllegalStateException: failed to create a child event loop
	at sun.nio.ch.IOUtil.makePipe(Native Method)
	at sun.nio.ch.KQueueSelectorImpl.<init>(KQueueSelectorImpl.java:84)
	at sun.nio.ch.KQueueSelectorProvider.openSelector(KQueueSelectorProvider.java:42)
	at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:125)
	at io.netty.channel.nio.NioEventLoop.<init>(NioEventLoop.java:119)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:97)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:31)
	at io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:77)
	at io.netty.channel.MultithreadEventLoopGroup.<init>(MultithreadEventLoopGroup.java:50)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:72)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:58)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:46)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:38)
	at org.apache.hadoop.hdfs.server.datanode.web.DatanodeHttpServer.<init>(DatanodeHttpServer.java:121)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startInfoServer(DataNode.java:891)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:1285)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:479)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:2584)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:2472)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:1592)
	at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:844)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:482)
	at org.apache.hadoop.hdfs.MiniDFSCluster$Builder.build(MiniDFSCluster.java:441)
	at org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks.testCountLiveReplicas(TestReconstructStripedBlocks.java:258)

test2RecoveryTasksForSameBlockGroup(org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks)  Time elapsed: 3.773 sec  <<< ERROR!
java.lang.IllegalStateException: failed to create a child event loop
	at sun.nio.ch.IOUtil.makePipe(Native Method)
	at sun.nio.ch.KQueueSelectorImpl.<init>(KQueueSelectorImpl.java:84)
	at sun.nio.ch.KQueueSelectorProvider.openSelector(KQueueSelectorProvider.java:42)
	at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:125)
	at io.netty.channel.nio.NioEventLoop.<init>(NioEventLoop.java:119)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:97)
	at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:31)
	at io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:77)
	at io.netty.channel.MultithreadEventLoopGroup.<init>(MultithreadEventLoopGroup.java:50)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:72)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:58)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:46)
	at io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:38)
	at org.apache.hadoop.hdfs.server.datanode.web.DatanodeHttpServer.<init>(DatanodeHttpServer.java:122)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startInfoServer(DataNode.java:891)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:1285)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:479)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:2584)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:2472)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:1592)
	at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:844)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:482)
	at org.apache.hadoop.hdfs.MiniDFSCluster$Builder.build(MiniDFSCluster.java:441)
	at org.apache.hadoop.hdfs.server.namenode.TestReconstructStripedBlocks.test2RecoveryTasksForSameBlockGroup(TestReconstructStripedBlocks.java:194)


Results :

Tests in error: 
  TestReconstructStripedBlocks.testMissingStripedBlockWithBusyNode:92->doTestMissingStripedBlock:108 » IllegalState
  TestReconstructStripedBlocks.testMissingStripedBlock:86->doTestMissingStripedBlock:108 » IllegalState
  TestReconstructStripedBlocks.testCountLiveReplicas:258 » IllegalState failed t...
  TestReconstructStripedBlocks.test2RecoveryTasksForSameBlockGroup:194 » IllegalState
{noformat}, Hi [~xiaobingo], do you mind filing these two as different JIRAs? The failures don't look related. This way we can discuss and fix them separately., Sure, let's do this. Thanks [~andrew.wang]., Resolved this since it's been split into two separate Jiras: HDFS-10405 and HDFS-10406.]