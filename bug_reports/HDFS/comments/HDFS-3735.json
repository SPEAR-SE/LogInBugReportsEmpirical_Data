[ *Fields which will display on dfsnodelist.jsp?whatNodes=LIVE ( NNUI->click on live nodes)* 

Node| Last-contact |Admin State| Configured Capacity(GB)|Used(GB)|

Non DFSUsed(GB)Remaining(GB)|Used(%)|Used(%)|Remaining(%)|Blocks|

 Block Pool Used (GB)|Block Pool Used (%)> Blocks|Failed Volumes H *-->*  {color:red}these three fields not considered for sorting{color}    

we can display data in sorting order by clicking on the anyone of above fields.It's working fine for all fields expect last three fields.

 *code where we are considering fileds.* 
{code}
class NodeComapare implements Comparator<DatanodeDescriptor> {
      static final int 
        FIELD_NAME              = 1,
        FIELD_LAST_CONTACT      = 2,
        FIELD_BLOCKS            = 3,
        FIELD_CAPACITY          = 4,
        FIELD_USED              = 5,
        FIELD_PERCENT_USED      = 6,
        FIELD_NONDFS_USED       = 7,
        FIELD_REMAINING         = 8,
        FIELD_PERCENT_REMAINING = 9,
        FIELD_ADMIN_STATE       = 10,
        FIELD_DECOMMISSIONED    = 11,
        SORT_ORDER_ASC          = 1,
        SORT_ORDER_DSC          = 2;
{code}

Here,last three fields we are not considering..hence it's assign default filed.
 {code}
 } else if (field.equals("blocks")) {
          sortField = FIELD_BLOCKS;
        } else if (field.equals("adminstate")) {
          sortField = FIELD_ADMIN_STATE;
        } else if (field.equals("decommissioned")) {
          sortField = FIELD_DECOMMISSIONED;
        } else {
          sortField = FIELD_NAME;
        }
{code}

Please correct me ,If I am wrong..., Brahma, can you please keep the description of the jira short and add the details in a comment later. 

Your analysis seems to be correct. Please post a patch, I will review it and commit it., Hi Suresh,

Thanks for taking look,I have fixed and verified manually.It's working fine.
 
Added following in *JspHelper.java*  

 method : NodeComapare
{code}
        } else if (field.equals("bpused")) {
          sortField = FIELD_BP_USED;
        }else if (field.equals("pcbpused")) {
          sortField = FIELD_PERCENT_BP_USED;
        }else if (field.equals("volfails")) {
          sortField = FIELD_FAILED_VOL;
        }
{code}

 method : compare
{code}
 case FIELD_BP_USED:
          dlong = d1.getBlockPoolUsed() - d2.getBlockPoolUsed();
          ret = (dlong < 0) ? -1 : ((dlong > 0) ? 1 : 0);
          break;
        case FIELD_PERCENT_BP_USED:
           ddbl =((d1.getBlockPoolUsedPercent())-
                        (d2.getBlockPoolUsedPercent()));
          ret = (ddbl < 0) ? -1 : ((ddbl > 0) ? 1 : 0);
          break;
        case FIELD_FAILED_VOL:
          ret = d1.getVolumeFailures() - d2.getVolumeFailures();
          break;
{code}

Will post the patch once testcase written(need to write). , Hey Brahma,
{code}
case FIELD_FAILED_VOL:
          ret = d1.getVolumeFailures() - d2.getVolumeFailures();
          break;
{code}

Since we are using this code in comparator its good to return -1,0 or 1 as its return value. Even without that with current fix it will work. But in general the mentioned values are returned., Hey Suresh And Raju,

Please review the patch...I really forgot this issue..sorry for late response.., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12546285/HDFS-3735.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/3242//console

This message is automatically generated., {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12547669/HDFS-3735-1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/3264//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/3264//console

This message is automatically generated., +1 for the patch., Brahma Reddy, I have added you as a contributor to HDFS and Common. You can now assign bugs to yourself., I committed the patch to trunk. Thank you Brahma for the jira and the patch., Integrated in Hadoop-Hdfs-trunk-Commit #2878 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2878/])
    HDFS-3735. NameNode WebUI should allow sorting live datanode list by fields Block Pool Used, Block Pool Used(%) and Failed Volumes. Contributed by Brahma Reddy Battula. (Revision 1394385)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1394385
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/JspHelper.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/common/TestJspHelper.java
, Integrated in Hadoop-Common-trunk-Commit #2816 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2816/])
    HDFS-3735. NameNode WebUI should allow sorting live datanode list by fields Block Pool Used, Block Pool Used(%) and Failed Volumes. Contributed by Brahma Reddy Battula. (Revision 1394385)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1394385
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/JspHelper.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/common/TestJspHelper.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #2840 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2840/])
    HDFS-3735. NameNode WebUI should allow sorting live datanode list by fields Block Pool Used, Block Pool Used(%) and Failed Volumes. Contributed by Brahma Reddy Battula. (Revision 1394385)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1394385
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/JspHelper.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/common/TestJspHelper.java
, Integrated in Hadoop-Hdfs-trunk #1186 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1186/])
    HDFS-3735. NameNode WebUI should allow sorting live datanode list by fields Block Pool Used, Block Pool Used(%) and Failed Volumes. Contributed by Brahma Reddy Battula. (Revision 1394385)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1394385
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/JspHelper.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/common/TestJspHelper.java
, Integrated in Hadoop-Mapreduce-trunk #1217 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1217/])
    HDFS-3735. NameNode WebUI should allow sorting live datanode list by fields Block Pool Used, Block Pool Used(%) and Failed Volumes. Contributed by Brahma Reddy Battula. (Revision 1394385)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1394385
Files : 
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/JspHelper.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/common/TestJspHelper.java
]