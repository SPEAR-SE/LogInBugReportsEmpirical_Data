[In the patch I 
# set {{imageDigest}} to null in {{BackupStorage.reset()}} to make sure the old digest is not interfering with newly loaded images.
# and populate {{imageDigest}} obtained from NN to BN's {{imageDigest}} before the new image is loaded on BN in order to ensure it is verified against the expected value., tests are passing for 0.22, I just committed this., Integrated in Hadoop-Hdfs-22-branch #82 (See [https://builds.apache.org/job/Hadoop-Hdfs-22-branch/82/])
    HDFS-2280. BackupNode fails with MD5 checksum Exception. Contributed by Konstantin Shvachko.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165944
Files : 
* /hadoop/common/branches/branch-0.22/hdfs/CHANGES.txt
* /hadoop/common/branches/branch-0.22/hdfs/src/java/org/apache/hadoop/hdfs/server/namenode/BackupStorage.java
]