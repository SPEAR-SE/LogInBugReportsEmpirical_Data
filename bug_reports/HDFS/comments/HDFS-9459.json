[There are multiple problems:
# The Ant XML for calling {{ctest}} in the native-win profile is invalid, because there are nested {{<target>}} declarations.  This causes the {{mvn test}} to fail.
# On Windows, the native bits are built into target/native.  The working directory for the {{ctest}} call was just target, so it couldn't find the test configuration file and actually run the tests.
# The environment settings appear to be copy-pasted from the *nix native profile, setting {{LD_LIBRARY_PATH}}.  Instead, we need to set {{HADOOP_HOME}} to find winutils.exe and {{PATH}} to find hadoop.dll.
, GitHub user cnauroth opened a pull request:

    https://github.com/apache/hadoop/pull/58

    HDFS-9459. hadoop-hdfs-native-client fails test build on Windows afte…

    …r transition to ctest.
    
    I verified that the hadoop-hdfs-native-client tests build correctly and run successfully after applying this patch.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/cnauroth/hadoop-1 HDFS-9459

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hadoop/pull/58.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #58
    
----
commit d583992956eb65fc4d1ba93c5c81da85c4592778
Author: cnauroth <cnauroth@apache.org>
Date:   2015-11-24T19:54:51Z

    HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after transition to ctest.

----
, +1 pending jenkins, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red} 0m 0s {color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 10m 43s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 31s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 32s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 18s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 16s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 14s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 14s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 16s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 31s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 31s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 31s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 31s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 19s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 15s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 1s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 14s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 13s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 0s {color} | {color:green} hadoop-hdfs-native-client in the patch passed with JDK v1.8.0_66. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 56s {color} | {color:green} hadoop-hdfs-native-client in the patch passed with JDK v1.7.0_85. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 31s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 21m 4s {color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:0ca8df7 |
| JIRA Issue | HDFS-9459 |
| GITHUB PR | https://github.com/apache/hadoop/pull/58 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  xml  |
| uname | Linux e60d4b7ac5ea 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 177975e |
| JDK v1.7.0_85  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/13659/testReport/ |
| modules | C: hadoop-hdfs-project/hadoop-hdfs-native-client U: hadoop-hdfs-project/hadoop-hdfs-native-client |
| Max memory used | 76MB |
| Powered by | Apache Yetus   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/13659/console |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/13659/console |


This message was automatically generated.

, I've committed the patch to trunk and branch-2. Thanks [~cnauroth] for the contribution., FAILURE: Integrated in Hadoop-trunk-Commit #8891 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8891/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, [~wheat9], thanks for the commit., FAILURE: Integrated in Hadoop-Yarn-trunk #1455 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1455/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, SUCCESS: Integrated in Hadoop-Yarn-trunk-Java8 #734 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/734/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, SUCCESS: Integrated in Hadoop-Mapreduce-trunk-Java8 #723 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/723/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2666 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2666/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #644 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/644/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2581 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2581/])
HDFS-9459. hadoop-hdfs-native-client fails test build on Windows after (wheat9: rev 95d5227c75f430da7c77847f31734b34b36157d2)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, Github user aajisaka commented on the issue:

    https://github.com/apache/hadoop/pull/58
  
    Now HDFS-9459 is fixed.
    @cnauroth Would you close this pull request? 
, Github user cnauroth closed the pull request at:

    https://github.com/apache/hadoop/pull/58
]