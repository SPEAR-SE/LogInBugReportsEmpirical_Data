[Attaching patch for trunk. Operation is done in the same style as the other operations; most similar to the CreateOp., mkdirs is indeed an interesting operation for benchmarking as one of the simplest modification of the namespace.
Comments on the patch:
# The operation should be called mkdirs not mkdir. And the Stats class should be {{MkdirsStats}}, no "File". Don't forget to update op name and usage constants.
# You are now creating a flat collection of directories. Would be good to support multi-level structure, same as {{-filesPerDir}} in {{CreateFileStats}}. Too many entries in one directory can be a performance issues by itself, so it is good to have flexibility.

Also, please adjust jira fields., New patch addressing Konstantin's comments., "mkdirsr" is a typo. OP_MKDIRS_USAGE is sticking out beyond 80 width. And just saw the comment "Do file create" is irrelevant for mkdirs., # this is testing depth of directory creation too, so see if the create time is O(1) vs O(depth) vs something bigger? As HDFS acquires one lock for the entire operation, it should be O(1), but native filesystems usually have an O(depth) action, as would blobstores.
# may be interesting to measure performance of mkdirs when the target directory actually exists, to make sure that the cost of that operation doesn't increase due to some regression (locking, presumably), Attaching new patch.

# Fixed typo.
# Fixed JavaDoc comment.
# Renamed fileNames String matrix to dirPaths., [~steve_l@iseran.com], sorry but I am confused by your first point, is that a general question or a request? As for the second point, NNThroughputBenchmark can be ran with "-keepResults" which does not perform cleanup. This way one can run the MkdirsOp benchmark twice. First time directories will be made, second time they will not, and you can validate regression that way., +1, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12619496/mkdirsBenchmarkPatchTrunk_3.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:

                  org.apache.hadoop.hdfs.tools.offlineEditsViewer.TestOfflineEditsViewer

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/5796//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/5796//console

This message is automatically generated., I just committed this. Thank you Plamen., SUCCESS: Integrated in Hadoop-trunk-Commit #4935 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/4935/])
HDFS-5675. Add Mkdirs operation to NNThroughputBenchmark. Contributed by Plamen Jeliazkov. (shv: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1554071)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java
, Forgot to mention that failure of TestOfflineEditsViewer is addressed by HDFS-5695., FAILURE: Integrated in Hadoop-Hdfs-trunk #1628 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1628/])
HDFS-5675. Add Mkdirs operation to NNThroughputBenchmark. Contributed by Plamen Jeliazkov. (shv: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1554071)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java
, FAILURE: Integrated in Hadoop-Yarn-trunk #437 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/437/])
HDFS-5675. Add Mkdirs operation to NNThroughputBenchmark. Contributed by Plamen Jeliazkov. (shv: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1554071)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java
, SUCCESS: Integrated in Hadoop-Mapreduce-trunk #1654 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1654/])
HDFS-5675. Add Mkdirs operation to NNThroughputBenchmark. Contributed by Plamen Jeliazkov. (shv: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1554071)
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NNThroughputBenchmark.java
]