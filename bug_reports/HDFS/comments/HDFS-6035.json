[These testcase failure happens due to loading the properties form the version file of already existing secondary namenode storage directory,if we format or remove that storage directories ,Then it is working fine
so if we add the format option to secondary namenode startup,then it will format the old directories.
Attaching the patch by adding the format option to test case, Attached simple fix in the patch,Please review it, Thanks for taking this issue Sathish. This test is failing in our nightly builds but I am unable to reproduce it. is there a specific way you were able to reproduce it?, There is no specific way,just if we run that test case in eclipse it is failing with the exception what is there in the description., I am trying but cannot reproduce it in eclipse as well. I'll have to put some more efforts and update you once I have some findings., [~sathish.gurram], Can you let me know what branch are you testing this on?, I has tested this in Hadoop-trunk and hadoop-2.3 release branch.]