[Patch 001:
* Replace words {{kms}} with {{https}}
* No unit test for startup script

Manual test output:
{noformat}
$ sbin/httpfs.sh -h
Usage: httpfs.sh [OPTIONS] SUBCOMMAND [SUBCOMMAND OPTIONS]

  OPTIONS is none or any of:

--config dir   Hadoop config directory
--debug        turn on shell script debug mode
--help         usage information

  SUBCOMMAND is one of:

run -security     Start in the current window with security manager
run               Start httpfs in the current window
start -security   Start in a separate window with security manager
start             Start httpfs in a separate window
status            Return the LSB compliant status
stop -force       Stop httpfs, wait up to 5 seconds and then use kill -KILL if still running
stop n -force     Stop httpfs, wait up to n seconds and then use kill -KILL if still running
stop              Stop httpfs, waiting up to 5 seconds for the process to end
top n             Stop httpfs, waiting up to n seconds for the process to end

SUBCOMMAND may print help when invoked w/o parameters or with -h.
{noformat}, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 25s{color} | {color:blue} Docker mode activated. {color} |
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m 24s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  8m  2s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 34s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 27s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m 13s{color} | {color:green} The patch generated 0 new + 74 unchanged - 1 fixed = 74 total (was 75) {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 16s{color} | {color:green} hadoop-hdfs-httpfs in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 17s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 11m 34s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:9560f25 |
| JIRA Issue | HDFS-10835 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12826934/HDFS-10835.001.patch |
| Optional Tests |  asflicense  mvnsite  unit  shellcheck  shelldocs  |
| uname | Linux 86f9b74a9f8e 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / f6ea9be |
| shellcheck | v0.4.4 |
|  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/16622/testReport/ |
| modules | C: hadoop-hdfs-project/hadoop-hdfs-httpfs U: hadoop-hdfs-project/hadoop-hdfs-httpfs |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/16622/console |
| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, Why is this marked as affecting 2.6.0?  How can this possibly target 2.8.0?, Patch 002:
* Use the official name {{HttpFS}}, Fixed. Thanks for catching my mistakes., Thanks [~jzhuge] for working on this, and [~aw] for commenting.

To explain Allen's comment, the typo seems to be introduced by HADOOP-12249, which is 3.0 only.
Suggest to update versions accordingly.

- please also update the comment to be consistent on {{HttpFS}}
- you probably already know this: kms.sh is pretty much the same. Have we considered abstract the helper function somehow?, Patch 003:
* Use {{HttpFS}} in the comment

Thanks [~xiaochen] for the explanation. Already fixed the versions. As for abstracting the helper, I feel it is an overkill right now. If another component starts using Tomcat Catalina, it would be a good idea., {{hadoop_add_subcommand "top n" "Stop $name, waiting up to n seconds for the process to end"}}
Let's correct the typo here as well. s/top/stop/g. 

Otherwise LGTM. I'm okay to keep this just a simple typo fix. Thanks John.

Any comments [~aw]?, Patch 004:
* Fix misspelled "top" with "stop"

[~xiaochen], thanks for catching that typo., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m  6s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  8m  8s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 29s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m 14s{color} | {color:green} The patch generated 0 new + 74 unchanged - 1 fixed = 74 total (was 75) {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 17s{color} | {color:green} hadoop-hdfs-httpfs in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 17s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 11m  7s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:9560f25 |
| JIRA Issue | HDFS-10835 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12826958/HDFS-10835.004.patch |
| Optional Tests |  asflicense  mvnsite  unit  shellcheck  shelldocs  |
| uname | Linux 66c908feb5ee 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 07650bc |
| shellcheck | v0.4.4 |
|  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/16628/testReport/ |
| modules | C: hadoop-hdfs-project/hadoop-hdfs-httpfs U: hadoop-hdfs-project/hadoop-hdfs-httpfs |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/16628/console |
| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, bq. you probably already know this: kms.sh is pretty much the same. Have we considered abstract the helper function somehow?

It's almost all boiler plate now. Plus every three months someone says "we are using an old version of tomcat" followed by a "we shouldn't really be using tomcat" and then nothing happens.  As soon as someone actually does the work to get us off of tomcat, this code should hopefully re-arrange into something else that looks more like the rest of Hadoop rather than clearly written as a one-off.

As to the code, I don't really understand why the name var exists, but whatever., Patch 005:
* Do not use local var {{name}}

[~aw], [~xiaochen] and I are planning to convert both HttpFS and KMS from Tomcat to Jetty 9 pretty soon. It is for real this time :) I will probably create 2 sub-tasks under HADOOP-10075., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 11s{color} | {color:blue} Docker mode activated. {color} |
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m 35s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 24s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m 12s{color} | {color:green} The patch generated 0 new + 74 unchanged - 1 fixed = 74 total (was 75) {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 16s{color} | {color:green} hadoop-hdfs-httpfs in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 18s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 10m 40s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:9560f25 |
| JIRA Issue | HDFS-10835 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12827201/HDFS-10835.005.patch |
| Optional Tests |  asflicense  mvnsite  unit  shellcheck  shelldocs  |
| uname | Linux c1fb9543dead 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 62a9667 |
| shellcheck | v0.4.4 |
|  Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/16646/testReport/ |
| modules | C: hadoop-hdfs-project/hadoop-hdfs-httpfs U: hadoop-hdfs-project/hadoop-hdfs-httpfs |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/16646/console |
| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, +1 on patch 5, committing this., Committed to trunk.

Thanks [~jzhuge] for fixing the issue, and [~aw] for reviews., Thanks [~xiaochen] for the review and commit, [~aw] for the review., SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #10399 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/10399/])
HDFS-10835. Fix typos in httpfs.sh. Contributed by John Zhuge. (xiao: rev 7c213c341d047362e6f8b66ab3ffafaf639d8d31)
* (edit) hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/sbin/httpfs.sh
]