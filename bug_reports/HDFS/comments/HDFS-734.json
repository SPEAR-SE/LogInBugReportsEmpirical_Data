[This also looks to be timing out on trunk: http://hudson.zones.apache.org/hudson/view/Hadoop/job/Hadoop-Hdfs-trunk/144/testReport/org.apache.hadoop.hdfs/TestDatanodeBlockScanner/testBlockCorruptionPolicy/ , Patch available on HDFS-877. Once that's committed there, I'll backport to branch-20., Upon further investigation, it looks like the HDFS-127 patch on branch-20 is what causes it there. On trunk and 21, it's the issue on HDFS-877.

(I think... still sorting this out - strange that a single test timed out for two different reasons!), This is fixed by Nicholas's revert of HDFS-127 on branch-0.20 (confirmed with a fresh checkout)]