[This failure occurred, because ssl-client.xml is present in the directory, but when the runtime read the file and tried to get the truststore file, the truststore file is not in the directory.
This can occur if other tests which executes before this one do not delete files properly. (See HDFS-9309 for the ongoing effort to delete the SSL related files properly), and the isolation between tests are broken.

To address this issue, I suggest ssl related files should be removed before the test is executed. In addition, properly create SSL related files to test OAuth2 connection on SSL., Which is to say, test OAuth2 connection w/o SSL, and then test OAuth2 connection w/ SSL, rev1: remove ssl related config files (especially ssl-client.xml) before running test; additionally, add another OAuth2 test running on SSL., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |   8m  1s | Pre-patch trunk has 1 extant Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |
| {color:green}+1{color} | javac |   8m  8s | There were no new javac warning messages. |
| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | checkstyle |   1m 25s | There were no new checkstyle issues. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 30s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   2m 27s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | native |   1m  4s | Pre-build of native portion |
| {color:red}-1{color} | hdfs tests |  67m 48s | Tests failed in hadoop-hdfs. |
| | |  91m 22s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.hdfs.server.blockmanagement.TestNodeCount |
|   | hadoop.hdfs.web.TestWebHDFS |
|   | hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |
|   | hadoop.hdfs.server.namenode.TestFsck |
|   | hadoop.hdfs.server.balancer.TestBalancerWithMultipleNameNodes |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12768866/HDFS-9277.001.patch |
| Optional Tests | javac unit findbugs checkstyle |
| git revision | trunk / 96677be |
| Pre-patch Findbugs warnings | https://builds.apache.org/job/PreCommit-HDFS-Build/13209/artifact/patchprocess/trunkFindbugsWarningshadoop-hdfs.html |
| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/13209/artifact/patchprocess/testrun_hadoop-hdfs.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/13209/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf905.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/13209/console |


This message was automatically generated., Some test failures are unrelated to this fix:

The TestBalancerWithMultipleNameNodes.testBalancer failure has appeared several times previously
The two test cases in TestFsck had NoClassDefFoundError exception
The timeout failure in TestNodeCount.testNodeCount has appeared several times previously.


The failure in TestDataNodeMultipleRegistrations.testDNWithInvalidStorageWithHA and TestWebHDFS.testNamenodeRestart may be related to rev1 patch, and I'll dig into it., Resolve as "cannot reproduce". I think it is still worth noting that the test directories for ssl tests should be removed at the end test as a good practice, but since it is no longer an issue, let's close it., Thanks [~jojochuang] for reporting this. In our internal nightly test, this UT still fails intermittently. Reopen it for investigation.]