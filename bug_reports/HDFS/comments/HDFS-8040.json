[Hi [~ssathish@hortonworks.com],

I tried reproducing this:

{code}
[cwl@localhost hadoop]$ hdfs crypto -listZones
/ez  mykey 
[cwl@localhost hadoop]$ hdfs dfs -ls /
Found 1 items
drwxr-xr-x   - cwl supergroup          0 2015-04-01 15:41 /ez
[cwl@localhost hadoop]$ hdfs dfs -ls /ez
Found 1 items
-rw-r--r--   3 cwl supergroup        158 2015-04-01 15:41 /ez/hosts
[cwl@localhost hadoop]$ hdfs dfs -D "fs.trash.interval=60" -rm -r /ez
15/04/01 16:41:15 INFO fs.TrashPolicyDefault: Namenode trash configuration: Deletion interval = 60 minutes, Emptier interval = 0 minutes.
rm: Failed to move to trash: hdfs://localhost/ez: /ez can't be moved from an encryption zone.
[cwl@localhost hadoop]$ hdfs dfs -ls -R /
drwxr-xr-x   - cwl supergroup          0 2015-04-01 15:41 /ez
-rw-r--r--   3 cwl supergroup        158 2015-04-01 15:41 /ez/hosts
drwx------   - cwl supergroup          0 2015-04-01 16:41 /user
drwx------   - cwl supergroup          0 2015-04-01 16:41 /user/cwl
drwx------   - cwl supergroup          0 2015-04-01 16:41 /user/cwl/.Trash
drwx------   - cwl supergroup          0 2015-04-01 16:41 /user/cwl/.Trash/Current
[cwl@localhost hadoop]$ hdfs dfs -ls -R /user/cwl/.Trash
drwx------   - cwl supergroup          0 2015-04-01 16:41 /user/cwl/.Trash/Current
[cwl@localhost hadoop]$ hdfs dfs -ls -R /user/cwl/.Trash/Current
{code}

Do you see any difference between what you did and what I did?
, [~clamb], I was able to repro this on latest trunk. Check the code and found this is introduced by HDFS-7530. "Allow renaming of encryption zone roots. " 

{code}
EncryptionZoneManager#checkMoveValidity()
...
       if (srcEZI.getINodeId() == srcIIP.getLastINode().getId()) {
          // src is ez root and dest is not in an ez. Allow the rename.
          return;
        }

{code}
, [~xyao], [~ssathish@hortonworks.com],

This is actually correct behavior. If you have an EZ rooted at /user/hrt_qa/encryptionZone_1, it is ok to be able to move around an entire ez to another directory, in this case /user/hrt_qa/encryptionZone_1. That's what HDFS-7530 fixed. Hence, the -rm -r command is effectively a rename of /user/hrt_qa/encryptionZone_1 to /user/hrt_qa/.Trash/Current. Since you're picking up the entire EZ, that's allowed.

Does this make sense?
, Thanks [~clamb] for the explanation. That makes more sense to me now. ]