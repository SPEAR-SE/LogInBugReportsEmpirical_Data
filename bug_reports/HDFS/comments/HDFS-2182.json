[Here's a patch that illustrates a potential fix. DX#run throws all exceptions by wrapping them in a RuntimeException, this way they are plumbed up to DXS#run who then insepcts the cause and just logs if it's an IOE and shutsdown otherwise., hrm, not sure I follow. How does throwing the RTE in the DataXceiver thread make it out to the DataXceiverServer?

I think we need to either set the uncaughtExceptionHandler on the daemon thread, or make DataXceiver call some method on DataXceiverServer., Ah, yea, it's calling start(), not run(). DataXceiver has a reference do datanode, so it can just set shouldRun to false in the case of a non-IOE. Much simpler. , Updated patch. Still needs a test., closing this as stale]