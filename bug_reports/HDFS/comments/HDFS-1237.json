[If both DNs crash in a pipeline of 2 DNs, of course the pipeline does not recover. The likelihood of correlated failure of all nodes in a pipeline is very small since one of the replicas is offrack. Please reopen if you think there's _any_ action the client could take to recover when the entire pipeline has crashed., If two replicas of an existing block is already on two datanodes and a client wants to append to that block but the two datanodes are dead, then there is nothing much that we can do.

For the non-apend case, when a client is creating and writing to a file (starting from the beginning) it is possible to recover even if both the datanodes in the pipeline dies if the client caches the block till the entire block is written. If this is the intent of this JIRA, then it should be more of an "improvement" rather than a bug.]