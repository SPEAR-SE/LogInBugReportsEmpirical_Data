[* Avoid running the scanner fast in the first hour when the VolumeScanner starts.  The reason why it was running fast was because we were looking at the average I/O over the last hour, and treating minutes before the daemon started up as minutes when we did no I/O.  Instead, we should average only over the time that the daemon has been up during the first hour.
* Add a more helpful error message to the {{testScanRateLimit}} test.
* Make the {{testScanRateLimit}} test more consistent by waiting for some blocks to be scanned before waiting and then checking the effective rate.  This will ensure that the volume scanner has started., +1 pending, looks good, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12696032/HDFS-7721.001.patch
  against trunk revision 8acc5e9.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

      {color:red}-1 javac{color}.  The applied patch generated 1253 javac compiler warnings (more than the trunk's current 1190 warnings).

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-hdfs-project/hadoop-hdfs:

                  org.apache.hadoop.hdfs.server.namenode.TestFileTruncate
                  org.apache.hadoop.hdfs.server.namenode.ha.TestDFSZKFailoverController

                                      The following test timeouts occurred in hadoop-hdfs-project/hadoop-hdfs:

org.apache.hadoop.cli.TestCacheAdminCLI

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/9403//testReport/
Javac warnings: https://builds.apache.org/job/PreCommit-HDFS-Build/9403//artifact/patchprocess/diffJavacWarnings.txt
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/9403//console

This message is automatically generated., {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12696032/HDFS-7721.001.patch
  against trunk revision 8cb4731.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-hdfs-project/hadoop-hdfs.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/9408//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/9408//console

This message is automatically generated., committed.  thanks, Andrew., FAILURE: Integrated in Hadoop-trunk-Commit #6990 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6990/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #94 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/94/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
, FAILURE: Integrated in Hadoop-Yarn-trunk #828 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/828/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2026 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2026/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #91 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/91/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #95 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/95/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2045 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2045/])
HDFS-7721. The HDFS BlockScanner may run fast during the first hour (cmccabe) (cmccabe: rev 115428176e1d919fe7d54d01b34dfda57d1b3950)
* hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java
, SUCCESS: Integrated in Hadoop-trunk-Commit #7109 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/7109/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #104 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/104/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk #838 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/838/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2036 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2036/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #105 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/105/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2055 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2055/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, SUCCESS: Integrated in Hadoop-Hdfs-trunk-Java8 #97 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/97/])
update CHANGES.txt for HDFS-7430, HDFS-7721, HDFS-7686 (cmccabe: rev 19be82cd1614000bb26e5684f763c736ea46ff1a)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
]