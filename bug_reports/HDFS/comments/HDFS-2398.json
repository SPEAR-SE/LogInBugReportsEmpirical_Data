[This is because String.hash() can be negative and if {{%}} is applied to a negative number the result is also negative.
We should mask it with Integer.MAX_VALUE as in {{HashPartitioner}}., Hey Konstantin, should this JIRA be moved to the MAPREDUCE project?, Yes you are right. Keep forgetting that the code is in MR.]