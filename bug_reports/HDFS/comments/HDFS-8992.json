[Could you post the stack trace?, Thanks Tsz Wo Nicholas Sze for your comments, there is only one line of stack trace:
{code}
2015-06-29 14:06:35,280 WARN org.apache.hadoop.hdfs.server.balancer.Balancer: Dispatcher thread failed
java.lang.NullPointerException
{code}, Thanks Tsz Wo Nicholas Sze for your comments, there is only one line of stack trace:
{code}
2015-06-29 14:06:35,280 WARN org.apache.hadoop.hdfs.server.balancer.Balancer: Dispatcher thread failed
java.lang.NullPointerException
{code}, Thanks Tsz Wo Nicholas Sze for your comments, there is only one line of stack trace:
{code}
2015-06-29 14:06:35,280 WARN org.apache.hadoop.hdfs.server.balancer.Balancer: Dispatcher thread failed
java.lang.NullPointerException
{code}, Actually, it can be fixed only add condition at {{if Statements}}
{code}
  synchronized (block) {
    // update locations
    for (String datanodeUuid : blk.getDatanodeUuids()) {
      final BalancerDatanode d = datanodeMap.get(datanodeUuid);
      if (datanode != null && null != d) { // not an unknown datanode
        block.addLocation(d);
      }
    }
  }
{code}, can you please take look at HDFS-6364.seems to be this  is similar to that., thanks [~brahmareddy] for ur comment. i will close this ticket.]