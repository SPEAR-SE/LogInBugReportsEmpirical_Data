[The exception in the namenode log.
{noformat}
2017-02-08 15:18:00,585 [Block report processor] INFO hdfs.StateChange: STATE* Safe mode ON. 
The reported blocks xxx needs additional yyy blocks to reach the threshold 1.0000 of total blocks zzz.
The number of live datanodes qqq has reached the minimum number 0. Safe mode will be turned off
 automatically once the thresholds have been reached.
2017-02-08 15:18:04,946 [1592491027@qtp-922807452-8] ERROR jmx.JMXJsonServlet: getting attribute LiveNodes of
 Hadoop:service=NameNode,name=NameNodeInfo threw an exception
javax.management.RuntimeMBeanException: java.lang.NullPointerException: null value
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:839)
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:852)
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:651)
        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:678)
        at org.apache.hadoop.jmx.JMXJsonServlet.writeAttribute(JMXJsonServlet.java:342)
        at org.apache.hadoop.jmx.JMXJsonServlet.listBeans(JMXJsonServlet.java:320)
        at org.apache.hadoop.jmx.JMXJsonServlet.doGet(JMXJsonServlet.java:210)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
... (deleted)
Caused by: java.lang.NullPointerException: null value
        at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:204)
        at com.google.common.collect.ImmutableMap.entryOf(ImmutableMap.java:139)
        at com.google.common.collect.ImmutableMap$Builder.put(ImmutableMap.java:178)
        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getLiveNodes(FSNamesystem.java:7108)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:483)
        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
        at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:483)
        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
        at com.sun.jmx.mbeanserver.ConvertingMethod.invokeWithOpenReturn(ConvertingMethod.java:193)
        at com.sun.jmx.mbeanserver.ConvertingMethod.invokeWithOpenReturn(ConvertingMethod.java:175)
        at com.sun.jmx.mbeanserver.MXBeanIntrospector.invokeM2(MXBeanIntrospector.java:117)
        at com.sun.jmx.mbeanserver.MXBeanIntrospector.invokeM2(MXBeanIntrospector.java:54)
        at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
        at com.sun.jmx.mbeanserver.PerInterface.getAttribute(PerInterface.java:83)
        at com.sun.jmx.mbeanserver.MBeanSupport.getAttribute(MBeanSupport.java:206)
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:647)
        ... 34 more
2017-02-08 15:18:04,955 [DecommissionMonitor-0] INFO blockmanagement.BlockManager: Node 1.2.3.4:1004 hasn't sent its first block report.
2017-02-08 15:18:04,955 [DecommissionMonitor-0] INFO blockmanagement.DecommissionManager: Checked 0 blocks and 1 nodes this tick
{noformat}, {code:java}
@Override // NameNodeMXBean
  public String getLiveNodes() {
    final Map<String, Map<String,Object>> info =
      new HashMap<String, Map<String,Object>>();
    final List<DatanodeDescriptor> live = new ArrayList<DatanodeDescriptor>();
    blockManager.getDatanodeManager().fetchDatanodes(live, null, false);
    for (DatanodeDescriptor node : live) {
      ImmutableMap.Builder<String, Object> innerinfo =
          ImmutableMap.<String,Object>builder();
      innerinfo
          .put("infoAddr", node.getInfoAddr())
          .put("infoSecureAddr", node.getInfoSecureAddr())
          .put("xferaddr", node.getXferAddr())
          .put("lastContact", getLastContact(node))
          .put("usedSpace", getDfsUsed(node))
          .put("adminState", node.getAdminState().toString())
          .put("nonDfsUsedSpace", node.getNonDfsUsed())
          .put("capacity", node.getCapacity())
          .put("numBlocks", node.numBlocks())
          .put("version", node.getSoftwareVersion())
 ....
{code}

{{FSNamesystem.java:7108}} corresponds to {{.put("version", node.getSoftwareVersion())}}. The software version is supposed to be set on registration.]