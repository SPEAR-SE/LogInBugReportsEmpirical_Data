[+1 LGTM thanks Haohui, [~wheat9] and [~andrew.wang], I'm pretty sure we also have to change LICENSE.txt., For example, something like the following should be added to LICENSE.txt:
{noformat}
For hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/fuse-dfs/util/tree.h

/*      $NetBSD: tree.h,v 1.8 2004/03/28 19:38:30 provos Exp $  */
/*      $OpenBSD: tree.h,v 1.7 2002/10/17 21:51:54 art Exp $    */
/* $FreeBSD: src/sys/sys/tree.h,v 1.9.4.1 2011/09/23 00:51:37 kensmith Exp $ */

/*-
 * Copyright 2002 Niels Provos <provos@citi.umich.edu>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
...
{noformat}, Thanks for the reviews. Uploaded a new patch to update LICENSE.txt, Thanks [~wheat9]. +1 (non-binding), The patch looks good to me., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  15m 59s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:red}-1{color} | javac |   8m  9s | The applied patch generated  8  additional warning messages. |
| {color:green}+1{color} | javadoc |  10m 23s | There were no new javadoc warning messages. |
| {color:red}-1{color} | release audit |   0m 19s | The applied patch generated 1 release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 32s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 21s | Pre-build of native portion |
| {color:red}-1{color} | hdfs tests | 189m 54s | Tests failed in hadoop-hdfs. |
| {color:red}-1{color} | hdfs tests |   0m 53s | Tests failed in hadoop-hdfs-native-client. |
| | | 231m  7s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.hdfs.TestRollingUpgrade |
|   | hadoop.hdfs.TestLeaseRecovery2 |
| Failed build | hadoop-hdfs-native-client |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12765699/HDFS-9215.001.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / 8d22622 |
| javac | https://builds.apache.org/job/PreCommit-HDFS-Build/12874/artifact/patchprocess/diffJavacWarnings.txt |
| Release Audit | https://builds.apache.org/job/PreCommit-HDFS-Build/12874/artifact/patchprocess/patchReleaseAuditProblems.txt |
| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12874/artifact/patchprocess/testrun_hadoop-hdfs.txt |
| hadoop-hdfs-native-client test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12874/artifact/patchprocess/testrun_hadoop-hdfs-native-client.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12874/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf901.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12874/console |


This message was automatically generated., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  17m 37s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:red}-1{color} | javac |   8m 53s | The applied patch generated  8  additional warning messages. |
| {color:green}+1{color} | javadoc |  11m 35s | There were no new javadoc warning messages. |
| {color:red}-1{color} | release audit |   0m 20s | The applied patch generated 1 release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 45s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 37s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 41s | Pre-build of native portion |
| {color:red}-1{color} | hdfs tests | 230m 25s | Tests failed in hadoop-hdfs. |
| {color:green}+1{color} | hdfs tests |   0m 51s | Tests passed in hadoop-hdfs-native-client. |
| | | 275m 47s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.hdfs.TestReplaceDatanodeOnFailure |
|   | hadoop.hdfs.TestRollingUpgrade |
| Timed out tests | org.apache.hadoop.fs.contract.hdfs.TestHDFSContractDelete |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12765688/HDFS-9215.000.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / 118a35b |
| javac | https://builds.apache.org/job/PreCommit-HDFS-Build/12873/artifact/patchprocess/diffJavacWarnings.txt |
| Release Audit | https://builds.apache.org/job/PreCommit-HDFS-Build/12873/artifact/patchprocess/patchReleaseAuditProblems.txt |
| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12873/artifact/patchprocess/testrun_hadoop-hdfs.txt |
| hadoop-hdfs-native-client test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12873/artifact/patchprocess/testrun_hadoop-hdfs-native-client.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12873/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12873/console |


This message was automatically generated., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  16m  5s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   8m  5s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m 29s | There were no new javadoc warning messages. |
| {color:red}-1{color} | release audit |   0m 19s | The applied patch generated 1 release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 31s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 36s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 25s | Pre-build of native portion |
| {color:red}-1{color} | hdfs tests | 145m  4s | Tests failed in hadoop-hdfs. |
| {color:green}+1{color} | hdfs tests |   0m 57s | Tests passed in hadoop-hdfs-native-client. |
| | | 186m 34s | |
\\
\\
|| Reason || Tests ||
| Timed out tests | org.apache.hadoop.hdfs.TestSafeMode |
|   | org.apache.hadoop.hdfs.server.datanode.TestDataNodeMultipleRegistrations |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12765727/HDFS-9215.002.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / e1bf8b3 |
| Release Audit | https://builds.apache.org/job/PreCommit-HDFS-Build/12879/artifact/patchprocess/patchReleaseAuditProblems.txt |
| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12879/artifact/patchprocess/testrun_hadoop-hdfs.txt |
| hadoop-hdfs-native-client test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12879/artifact/patchprocess/testrun_hadoop-hdfs-native-client.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12879/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf905.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12879/console |


This message was automatically generated., Hey Haohui, do you mind splitting the dependency fixes into a separate change for clarity? Else this is doing more than just "Suppress the RAT warnings" like the summary says. Otherwise looks good., +1 again, thx!, \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  16m  9s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   8m 17s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m 27s | There were no new javadoc warning messages. |
| {color:red}-1{color} | release audit |   0m 19s | The applied patch generated 1 release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 31s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 12s | Pre-build of native portion |
| {color:red}-1{color} | hdfs tests | 166m 40s | Tests failed in hadoop-hdfs. |
| {color:green}+1{color} | hdfs tests |   0m 47s | Tests passed in hadoop-hdfs-native-client. |
| | | 207m 59s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.hdfs.TestReplaceDatanodeOnFailure |
|   | hadoop.hdfs.server.blockmanagement.TestBlockManager |
|   | hadoop.hdfs.server.namenode.ha.TestStandbyCheckpoints |
|   | hadoop.hdfs.web.TestWebHDFSOAuth2 |
| Timed out tests | org.apache.hadoop.hdfs.TestDFSStorageStateRecovery |
|   | org.apache.hadoop.hdfs.server.namenode.TestListCorruptFileBlocks |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12765904/HDFS-9215.003.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / def374e |
| Release Audit | https://builds.apache.org/job/PreCommit-HDFS-Build/12905/artifact/patchprocess/patchReleaseAuditProblems.txt |
| hadoop-hdfs test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12905/artifact/patchprocess/testrun_hadoop-hdfs.txt |
| hadoop-hdfs-native-client test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12905/artifact/patchprocess/testrun_hadoop-hdfs-native-client.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12905/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf900.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12905/console |


This message was automatically generated., I've committed the patch to trunk and branch-2. Thanks Eric and Andrew for the reviews., FAILURE: Integrated in Hadoop-trunk-Commit #8605 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8605/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* LICENSE.txt
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2453 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2453/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
* LICENSE.txt
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #508 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/508/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* LICENSE.txt
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #519 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/519/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* LICENSE.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk #1245 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1245/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* LICENSE.txt
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #480 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/480/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
* LICENSE.txt
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2418 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2418/])
HDFS-9215. Suppress the RAT warnings in hdfs-native-client module. (wheat9: rev d0c1e5fec4155cb8abb3e3b8cc9c049e239e1246)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
* hadoop-hdfs-project/hadoop-hdfs/pom.xml
* LICENSE.txt
* hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
, We're still seeing RAT failures related to tree.h such as in HADOOP-11515, My earlier +1 was pending Jenkins, this is another +1 pending Jenkins. I expect test-patch's RAT check to come back clean., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  16m 13s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   9m 20s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  11m 44s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 25s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 42s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 40s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 40s | Pre-build of native portion |
| {color:green}+1{color} | hdfs tests |   0m 53s | Tests passed in hadoop-hdfs-native-client. |
| | |  44m 40s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12766174/HDFS-9215.addendum.004.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / 9849c8b |
| hadoop-hdfs-native-client test log | https://builds.apache.org/job/PreCommit-HDFS-Build/12939/artifact/patchprocess/testrun_hadoop-hdfs-native-client.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HDFS-Build/12939/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf900.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HDFS-Build/12939/console |


This message was automatically generated.,  Sorry for the typos in the earlier fixes. Thanks Andrew again for the reviews., Committed the addendum patch to branch-2 and trunk., FAILURE: Integrated in Hadoop-trunk-Commit #8613 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8613/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #514 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/514/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Yarn-trunk #1251 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1251/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #526 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/526/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2460 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2460/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2424 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2424/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #486 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/486/])
Addendum patch for HDFS-9215. (wheat9: rev c60a16fceae258f360f7b382e0a2a1ec9bdccad3)
* hadoop-hdfs-project/hadoop-hdfs-native-client/pom.xml
]