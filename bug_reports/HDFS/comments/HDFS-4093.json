[Patch uploaded., Updated the patch. Have passed local testcases., +1 patch looks good., I have committed this.  Thanks, Jing!]