{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Yongjun Zhang",
            "key": "yzhangal",
            "name": "yzhangal",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yzhangal",
            "timeZone": "America/Los_Angeles"
        },
        "components": [{
            "id": "12312928",
            "name": "hdfs-client",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12312928"
        }],
        "created": "2014-03-27T18:56:03.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Yongjun Zhang",
            "key": "yzhangal",
            "name": "yzhangal",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yzhangal",
            "timeZone": "America/Los_Angeles"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": "2014-03-27T19:32:10.226+0000",
        "customfield_12310222": null,
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "8.0",
        "customfield_12310320": null,
        "customfield_12310420": "382394",
        "customfield_12310920": "382664",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i1tvpj:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Sat May 02 04:40:52 UTC 2015",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "Given a directory owned by user A with WRITE permission containing an empty directory owned by user B, it is not possible to delete user B's empty directory with either \"hdfs dfs -rm -r\" or \"hdfs dfs -rmdir\". Because the current implementation requires FULL permission of the empty directory, and throws exception. \n\nOn the other hand, on linux, \"rm -r\" and \"rmdir\" command can remove empty directory as long as the parent directory has WRITE permission (and prefix component of the path have EXECUTE permission), For the tested OSes, some prompt user asking for confirmation, some don't.\n\nHere's a reproduction:\n\n{code}\n[root@vm01 ~]# hdfs dfs -ls /user/\nFound 4 items\ndrwxr-xr-x   - userabc users               0 2013-05-03 01:55 /user/userabc\ndrwxr-xr-x   - hdfs    supergroup          0 2013-05-03 00:28 /user/hdfs\ndrwxrwxrwx   - mapred  hadoop              0 2013-05-03 00:13 /user/history\ndrwxr-xr-x   - hdfs    supergroup          0 2013-04-14 16:46 /user/hive\n[root@vm01 ~]# hdfs dfs -ls /user/userabc\nFound 8 items\ndrwx------   - userabc users          0 2013-05-02 17:00 /user/userabc/.Trash\ndrwxr-xr-x   - userabc users          0 2013-05-03 01:34 /user/userabc/.cm\ndrwx------   - userabc users          0 2013-05-03 01:06 /user/userabc/.staging\ndrwxr-xr-x   - userabc users          0 2013-04-14 18:31 /user/userabc/apps\ndrwxr-xr-x   - userabc users          0 2013-04-30 18:05 /user/userabc/ds\ndrwxr-xr-x   - hdfs    users          0 2013-05-03 01:54 /user/userabc/foo\ndrwxr-xr-x   - userabc users          0 2013-04-30 16:18 /user/userabc/maven_source\ndrwxr-xr-x   - hdfs    users          0 2013-05-03 01:40 /user/userabc/test-restore\n[root@vm01 ~]# hdfs dfs -ls /user/userabc/foo/\n[root@vm01 ~]# sudo -u userabc hdfs dfs -rm -r -skipTrash /user/userabc/foo\nrm: Permission denied: user=userabc, access=ALL, inode=\"/user/userabc/foo\":hdfs:users:drwxr-xr-x\n{code}\n\nThe super user can delete the directory.\n\n{code}\n[root@vm01 ~]# sudo -u hdfs hdfs dfs -rm -r -skipTrash /user/userabc/foo\nDeleted /user/userabc/foo\n{code}\n\nThe same is not true for files, however. They have the correct behavior.\n\n{code}\n[root@vm01 ~]# sudo -u hdfs hdfs dfs -touchz /user/userabc/foo-file\n[root@vm01 ~]# hdfs dfs -ls /user/userabc/\nFound 8 items\ndrwx------   - userabc users          0 2013-05-02 17:00 /user/userabc/.Trash\ndrwxr-xr-x   - userabc users          0 2013-05-03 01:34 /user/userabc/.cm\ndrwx------   - userabc users          0 2013-05-03 01:06 /user/userabc/.staging\ndrwxr-xr-x   - userabc users          0 2013-04-14 18:31 /user/userabc/apps\ndrwxr-xr-x   - userabc users          0 2013-04-30 18:05 /user/userabc/ds\n-rw-r--r--   1 hdfs    users          0 2013-05-03 02:11 /user/userabc/foo-file\ndrwxr-xr-x   - userabc users          0 2013-04-30 16:18 /user/userabc/maven_source\ndrwxr-xr-x   - hdfs    users          0 2013-05-03 01:40 /user/userabc/test-restore\n[root@vm01 ~]# sudo -u userabc hdfs dfs -rm -skipTrash /user/userabc/foo-file\nDeleted /user/userabc/foo-file\n{code}\n\nUsing \"hdfs dfs -rmdir\" command:\n{code}\nbash-4.1$ hadoop fs -lsr /\nlsr: DEPRECATED: Please use 'ls -R' instead.\ndrwxr-xr-x   - hdfs supergroup          0 2014-03-25 16:29 /user\ndrwxr-xr-x   - hdfs   supergroup          0 2014-03-25 16:28 /user/hdfs\ndrwxr-xr-x   - usrabc users               0 2014-03-28 23:39 /user/usrabc\ndrwxr-xr-x   - abc    abc                 0 2014-03-28 23:39 /user/usrabc/foo-empty1\n[root@vm01 usrabc]# su usrabc\n[usrabc@vm01 ~]$ hdfs dfs -rmdir /user/usrabc/foo-empty1\nrmdir: Permission denied: user=usrabc, access=ALL, inode=\"/user/usrabc/foo-empty1\":abc:abc:drwxr-xr-x\n{code}\n",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": ["BB2015-05-TBR"],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "id": "4",
            "name": "Minor",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310942&avatarId=10094",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310942&avatarId=10094",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310942&avatarId=10094",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310942&avatarId=10094"
            },
            "id": "12310942",
            "key": "HDFS",
            "name": "Hadoop HDFS",
            "projectCategory": {
                "description": "Scalable Distributed Computing",
                "id": "10292",
                "name": "Hadoop",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310942"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Yongjun Zhang",
            "key": "yzhangal",
            "name": "yzhangal",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yzhangal",
            "timeZone": "America/Los_Angeles"
        },
        "resolution": null,
        "resolutiondate": null,
        "status": {
            "description": "A patch for this issue has been uploaded to JIRA by a contributor.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/document.png",
            "id": "10002",
            "name": "Patch Available",
            "self": "https://issues.apache.org/jira/rest/api/2/status/10002",
            "statusCategory": {
                "colorName": "yellow",
                "id": 4,
                "key": "indeterminate",
                "name": "In Progress",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4"
            }
        },
        "subtasks": [
            {
                "fields": {
                    "issuetype": {
                        "avatarId": 21146,
                        "description": "The sub-task of the issue",
                        "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype",
                        "id": "7",
                        "name": "Sub-task",
                        "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7",
                        "subtask": true
                    },
                    "priority": {
                        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                        "id": "3",
                        "name": "Major",
                        "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                    },
                    "status": {
                        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                        "id": "6",
                        "name": "Closed",
                        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                        "statusCategory": {
                            "colorName": "green",
                            "id": 3,
                            "key": "done",
                            "name": "Done",
                            "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                        }
                    },
                    "summary": "Command \"hdfs dfs -rm -r\" can't remove empty directory"
                },
                "id": "12712906",
                "key": "HDFS-6351",
                "self": "https://issues.apache.org/jira/rest/api/2/issue/12712906"
            },
            {
                "fields": {
                    "issuetype": {
                        "avatarId": 21146,
                        "description": "The sub-task of the issue",
                        "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype",
                        "id": "7",
                        "name": "Sub-task",
                        "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7",
                        "subtask": true
                    },
                    "priority": {
                        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                        "id": "3",
                        "name": "Major",
                        "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                    },
                    "status": {
                        "description": "The issue is open and ready for the assignee to start work on it.",
                        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                        "id": "1",
                        "name": "Open",
                        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                        "statusCategory": {
                            "colorName": "blue-gray",
                            "id": 2,
                            "key": "new",
                            "name": "To Do",
                            "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2"
                        }
                    },
                    "summary": "Command \"hdfs dfs -rmdir\" can't remove empty directory"
                },
                "id": "12712907",
                "key": "HDFS-6352",
                "self": "https://issues.apache.org/jira/rest/api/2/issue/12712907"
            }
        ],
        "summary": "\"hdfs dfs -rm -r\" and \"hdfs dfs -rmdir\" commands can't remove empty directory ",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2015-05-06T03:32:47.000+0000",
        "versions": [{
            "archived": false,
            "description": "2.3.0 release",
            "id": "12325255",
            "name": "2.3.0",
            "releaseDate": "2014-02-20",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12325255"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HDFS-6165/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HDFS-6165/watchers",
            "watchCount": 7
        },
        "workratio": -1
    },
    "id": "12704060",
    "key": "HDFS-6165",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12704060"
}