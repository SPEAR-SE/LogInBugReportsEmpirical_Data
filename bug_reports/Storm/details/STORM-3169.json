{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13176238","self":"https://issues.apache.org/jira/rest/api/2/issue/13176238","key":"STORM-3169","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":6000,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false}],"aggregatetimespent":6000,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-08-03T15:42:46.426+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Aug 03 15:42:46 UTC 2018","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_91960942_*|*_3_*:*_1_*:*_62555880_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2018-08-03T15:42:46.408+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3169/watchers","watchCount":1,"isWatching":false},"created":"2018-08-01T20:47:29.614+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhengdai","name":"zhengdai","key":"zhengdai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34044","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"},"displayName":"Zhengdai Hu","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-03T15:42:46.435+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12332926","id":"12332926","name":"storm-webapp"}],"timeoriginalestimate":null,"description":"Config specification logviewer.cleanup.age.min labels the duration in minutes passed since a log file is modified before we consider the log to be old. However in the actual use it's been subtracted by nowMills, which is the current time in milliseconds. We should convert it to milliseconds.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"1h 40m","remainingEstimateSeconds":0,"timeSpentSeconds":6000},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Misleading logviewer.cleanup.age.min","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhengdai","name":"zhengdai","key":"zhengdai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34044","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"},"displayName":"Zhengdai Hu","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhengdai","name":"zhengdai","key":"zhengdai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34044","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"},"displayName":"Zhengdai Hu","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":6000,"total":6000,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":6000,"total":6000,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/comment/16568373","id":"16568373","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"body":"Thanks for the fix [~zhengdai]. Merged to master.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"created":"2018-08-03T15:42:46.426+0000","updated":"2018-08-03T15:42:46.426+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3169/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":10,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/129946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user zd-project opened a pull request:\n\n    https://github.com/apache/storm/pull/2787\n\n    STORM-3169: Correctly convert configured minutes to milliseconds\n\n    See https://issues.apache.org/jira/browse/STORM-3169 for details\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/zd-project/storm STORM-3169\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2787.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2787\n    \n----\ncommit fe0e5f4ddbb2260ad442320bceb99bb28a96fb33\nAuthor: Zhengdai Hu <hu.zhengdai@...>\nDate:   2018-08-01T20:59:17Z\n\n    STORM-3169: Correctly convert configured minutes to milliseconds\n\n----\n","created":"2018-08-01T21:00:43.455+0000","updated":"2018-08-01T21:00:43.455+0000","started":"2018-08-01T21:00:43.454+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"129946","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/129992","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user zd-project commented on the issue:\n\n    https://github.com/apache/storm/pull/2787\n  \n    Seems this PR is passing on my repo but failed here. There may be some unrelated bugs out there.\n","created":"2018-08-01T22:01:39.083+0000","updated":"2018-08-01T22:01:39.083+0000","started":"2018-08-01T22:01:39.083+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"129992","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130554","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2787#discussion_r207325422\n  \n    --- Diff: storm-webapp/src/test/java/org/apache/storm/daemon/logviewer/utils/LogCleanerTest.java ---\n    @@ -87,8 +88,9 @@ public void testMkFileFilterForLogCleanup() throws IOException {\n     \n             final long nowMillis = Time.currentTimeMillis();\n             final long cutoffMillis = logCleaner.cleanupCutoffAgeMillis(nowMillis);\n    -        final long oldMtimeMillis = cutoffMillis - 500;\n    -        final long newMtimeMillis = cutoffMillis + 500;\n    +        final long interval = TimeUnit.MINUTES.toMillis(500);\n    --- End diff --\n    \n    I don't think this change is necessary. The test is mocking some files for right before and right after the cutoff. Why do we need to make it 500 minutes before/after the cutoff instead of 500 milliseconds?\n","created":"2018-08-02T18:17:05.740+0000","updated":"2018-08-02T18:17:05.740+0000","started":"2018-08-02T18:17:05.740+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130554","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user zd-project commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2787#discussion_r207326393\n  \n    --- Diff: storm-webapp/src/test/java/org/apache/storm/daemon/logviewer/utils/LogCleanerTest.java ---\n    @@ -87,8 +88,9 @@ public void testMkFileFilterForLogCleanup() throws IOException {\n     \n             final long nowMillis = Time.currentTimeMillis();\n             final long cutoffMillis = logCleaner.cleanupCutoffAgeMillis(nowMillis);\n    -        final long oldMtimeMillis = cutoffMillis - 500;\n    -        final long newMtimeMillis = cutoffMillis + 500;\n    +        final long interval = TimeUnit.MINUTES.toMillis(500);\n    --- End diff --\n    \n    LOGVIEWER_CLEANUP_AGE_MINS is set to 60 (minutes). In this case the cut off age will be set to 60 minutes ago. 500 milliseconds will still be after cut off.\n","created":"2018-08-02T18:20:24.136+0000","updated":"2018-08-02T18:20:24.136+0000","started":"2018-08-02T18:20:24.136+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130556","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130561","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2787#discussion_r207328445\n  \n    --- Diff: storm-webapp/src/test/java/org/apache/storm/daemon/logviewer/utils/LogCleanerTest.java ---\n    @@ -87,8 +88,9 @@ public void testMkFileFilterForLogCleanup() throws IOException {\n     \n             final long nowMillis = Time.currentTimeMillis();\n             final long cutoffMillis = logCleaner.cleanupCutoffAgeMillis(nowMillis);\n    -        final long oldMtimeMillis = cutoffMillis - 500;\n    -        final long newMtimeMillis = cutoffMillis + 500;\n    +        final long interval = TimeUnit.MINUTES.toMillis(500);\n    --- End diff --\n    \n    Not sure I follow. The cutoffMillis is calculated based on the 60 minutes, so would be `now - 60 minutes`. It should be the same cutoffMillis used by the log cleaner. 500 milliseconds before the cutoff is before the cutoff, right?\n","created":"2018-08-02T18:27:29.229+0000","updated":"2018-08-02T18:27:29.229+0000","started":"2018-08-02T18:27:29.228+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130561","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130563","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2787#discussion_r207328980\n  \n    --- Diff: storm-webapp/src/test/java/org/apache/storm/daemon/logviewer/utils/LogCleanerTest.java ---\n    @@ -87,8 +88,9 @@ public void testMkFileFilterForLogCleanup() throws IOException {\n     \n             final long nowMillis = Time.currentTimeMillis();\n             final long cutoffMillis = logCleaner.cleanupCutoffAgeMillis(nowMillis);\n    -        final long oldMtimeMillis = cutoffMillis - 500;\n    -        final long newMtimeMillis = cutoffMillis + 500;\n    +        final long interval = TimeUnit.MINUTES.toMillis(500);\n    --- End diff --\n    \n    Just to try to be a little more clear, the test needs a timestamp before the cutoff, and a timestamp after the cutoff. The cutoff is `now - 60 minutes`. `now - 60 minutes - 500 ms` is before the cutoff. I don't understand why it instead needs to be `now - 60 minutes - 500 minutes`?\n","created":"2018-08-02T18:29:14.262+0000","updated":"2018-08-02T18:29:14.262+0000","started":"2018-08-02T18:29:14.261+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130563","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130564","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user zd-project commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2787#discussion_r207329210\n  \n    --- Diff: storm-webapp/src/test/java/org/apache/storm/daemon/logviewer/utils/LogCleanerTest.java ---\n    @@ -87,8 +88,9 @@ public void testMkFileFilterForLogCleanup() throws IOException {\n     \n             final long nowMillis = Time.currentTimeMillis();\n             final long cutoffMillis = logCleaner.cleanupCutoffAgeMillis(nowMillis);\n    -        final long oldMtimeMillis = cutoffMillis - 500;\n    -        final long newMtimeMillis = cutoffMillis + 500;\n    +        final long interval = TimeUnit.MINUTES.toMillis(500);\n    --- End diff --\n    \n    Ah I missed that. My bad. You're right.\n","created":"2018-08-02T18:29:57.943+0000","updated":"2018-08-02T18:29:57.943+0000","started":"2018-08-02T18:29:57.943+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130564","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2787\n  \n    +1, thanks for the quick fix. Please squash and we can merge.\n","created":"2018-08-03T15:29:48.345+0000","updated":"2018-08-03T15:29:48.345+0000","started":"2018-08-03T15:29:48.345+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130896","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130903","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user zd-project commented on the issue:\n\n    https://github.com/apache/storm/pull/2787\n  \n    Squashed.\n","created":"2018-08-03T15:36:14.713+0000","updated":"2018-08-03T15:36:14.713+0000","started":"2018-08-03T15:36:14.712+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130903","issueId":"13176238"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13176238/worklog/130910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2787\n","created":"2018-08-03T15:42:32.113+0000","updated":"2018-08-03T15:42:32.113+0000","started":"2018-08-03T15:42:32.113+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"130910","issueId":"13176238"}]},"customfield_12311820":"0|i3wl9r:"}}