{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13168235","self":"https://issues.apache.org/jira/rest/api/2/issue/13168235","key":"STORM-3123","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":6600,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":6600,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2018-06-26T16:53:56.880+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jun 27 01:18:35 UTC 2018","customfield_12312320":null,"customfield_12310222":null,"customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3123/watchers","watchCount":2,"isWatching":false},"created":"2018-06-26T03:20:33.243+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342807","id":"12342807","name":"1.2.2","archived":false,"released":true,"releaseDate":"2018-06-04"}],"customfield_12312339":null,"issuelinks":[],"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-22T00:55:22.158+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12330714","id":"12330714","name":"storm-kafka-monitor"}],"timeoriginalestimate":null,"description":"Storm Kafka Monitor has no option to read / parse SSL truststore/keystore properties which are required to connect to Kafka running over two-way SSL. As a fix, it needs to understand the following additional Kafka properties:\r\n{code:java}\r\nssl.truststore.location=<truststore-file>\r\nssl.truststore.password=<password>\r\nssl.keystore.location=<keystore-file>\r\nssl.keystore.password=<password>\r\nssl.key.password=<password>\r\n{code}\r\nSince, JVM has a fallback mechanism for loading SSL truststore, Storm Kafka Monitor would always endup using some truststore and would eventually work with one-way SSL (which is also a default for Kafka setup).\r\n\r\nSince there is no such fallback for SSL keystore, Storm Kafka Monitor would start without a keystore and would eventually throw this error (in SSL debug mode):\r\n{code:java}\r\nWarning: no suitable certificate found - continuing without client authentication\r\n*** Certificate chain\r\n<Empty>\r\n***\r\n{code}\r\nAt this time, Kafka broker would complain about above like this:\r\n{code:java}\r\nkafka-network-thread-1002-SSL-7, READ: TLSv1.2 Handshake, length = 141\r\n*** Certificate chain\r\n<Empty>\r\n***\r\nkafka-network-thread-1002-SSL-7, fatal error: 42: null cert chain\r\njavax.net.ssl.SSLHandshakeException: null cert chain\r\n{code}\r\nTherefore, in the absence of this fix, the only available workaround is to stick to one-way SSL in Kafka (i.e. keep ssl.client.auth=none in Kafka).","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"1h 50m","remainingEstimateSeconds":0,"timeSpentSeconds":6600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Storm Kafka Monitor does not work with Kafka over two-way SSL","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vrathor-hw","name":"vrathor-hw","key":"vrathor-hw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vrathor-hw&avatarId=29150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vrathor-hw&avatarId=29150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vrathor-hw&avatarId=29150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vrathor-hw&avatarId=29150"},"displayName":"Vipin Rathor","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vrathor-hw","name":"vrathor-hw","key":"vrathor-hw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vrathor-hw&avatarId=29150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vrathor-hw&avatarId=29150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vrathor-hw&avatarId=29150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vrathor-hw&avatarId=29150"},"displayName":"Vipin Rathor","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":6600,"total":6600,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":6600,"total":6600,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/comment/16523973","id":"16523973","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Rajkumar+Singh","name":"Rajkumar Singh","key":"rajkumar singh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rajkumar Singh","active":true,"timeZone":"Etc/UTC"},"body":"I guess https://issues.apache.org/jira/browse/STORM-3068 will resolve this","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Rajkumar+Singh","name":"Rajkumar Singh","key":"rajkumar singh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rajkumar Singh","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-26T16:53:56.880+0000","updated":"2018-06-26T16:53:56.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/comment/16524423","id":"16524423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vrathor-hw","name":"vrathor-hw","key":"vrathor-hw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vrathor-hw&avatarId=29150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vrathor-hw&avatarId=29150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vrathor-hw&avatarId=29150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vrathor-hw&avatarId=29150"},"displayName":"Vipin Rathor","active":true,"timeZone":"America/Los_Angeles"},"body":"[~Rajkumar Singh] Thanks for commenting. This is not the issue of JVM args being ignored. Actually the Storm Kafka Monitor is not initializing KafkaConsumer with these SSL properties. I'm working on a patch, will update here soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vrathor-hw","name":"vrathor-hw","key":"vrathor-hw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vrathor-hw&avatarId=29150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vrathor-hw&avatarId=29150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vrathor-hw&avatarId=29150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vrathor-hw&avatarId=29150"},"displayName":"Vipin Rathor","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-27T01:18:35.614+0000","updated":"2018-06-27T01:18:35.614+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3123/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":11,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/122112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user VipinRathor opened a pull request:\n\n    https://github.com/apache/storm/pull/2760\n\n    STORM-3123: Storm Kafka Monitor cannot connect to Kafka over two-way SSL\n\n    ### What is this PR for?\r\n    This PR introduces a new configuration option \"--consumer-config\" (or \"-c\") in KafkaOffsetLagUtil to connect to Kafka Broker over two-way SSL. New option expects a configuration file containing security properties for Kafka.\r\n    \r\n    Behavior without this PR:\r\n    When Kafka broker is running with two-way SSL (i.e. ssl.client.auth=required), Storm Kafka monitor would fail to connect to Kafka with this error:\r\n    `Warning: no suitable certificate found - continuing without client authentication\r\n    *** Certificate chain\r\n    <Empty>\r\n    ***`\r\n    \r\n    Behavior with this PR:\r\n    KafkaOffsetLagUtil can now query offset lag for Kafka spout with 2-way SSL authentication\r\n    \r\n    ### What type of PR is it?\r\n    [Bug Fix]\r\n    \r\n    ### What is the Jira issue?\r\n    * https://issues.apache.org/jira/browse/STORM-3123\r\n    \r\n    ### How should this be tested?\r\n    1. Configure Kafka Broker with 2-way SSL authentication (make sure that ssl.client.auth=required is set in the broker configuration)\r\n    2. Create a topic 'testoffset' and produce some messages to it.\r\n    3. Run KafkaOffsetLagUtil from command line:\r\n    `/usr/jdk64/jdk1.8.0_77/bin/java -cp /root/storm-kafka-monitor-1.1.0.2.6.3.0-SNAPSHOT.jar org.apache.storm.kafka.monitor.KafkaOffsetLagUtil -t testoffset -g testgroup -b node2.openstacklocal:6669 --security-protocol SSL --consumer-config ./consumer.properties`\r\n    where the file consumer.properties contains:\r\n    ssl.truststore.location=/tmp/kafkaCert/client.truststore.jks\r\n    ssl.truststore.password=password\r\n    ssl.keystore.location=/tmp/kafkaCert/client.keystore.jks\r\n    ssl.keystore.password=password\r\n    security.protocol=SSL\r\n    4. KafkaOffsetLagUtil would show correct offset log from Kafka topic 'testoffset'.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/VipinRathor/storm STORM-3123\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2760.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2760\n    \n----\ncommit 33b948fad8e3902cb1b83ce92f94eb8c6f204acc\nAuthor: Vipin Rathor <v.rathor@...>\nDate:   2018-07-12T00:01:36Z\n\n    STORM-3123 - add support for Kafka security config in storm-kafka-monitor\n\n----\n","created":"2018-07-12T00:32:09.341+0000","updated":"2018-07-12T00:32:09.341+0000","started":"2018-07-12T00:32:09.341+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"122112","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/122545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user VipinRathor commented on the issue:\n\n    https://github.com/apache/storm/pull/2760\n  \n    1/10 Travis CI build failed. Resubmitting to trigger the CI again.\n","created":"2018-07-12T23:32:33.749+0000","updated":"2018-07-12T23:32:33.749+0000","started":"2018-07-12T23:32:33.748+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"122545","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/122546","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user VipinRathor closed the pull request at:\n\n    https://github.com/apache/storm/pull/2760\n","created":"2018-07-12T23:32:33.962+0000","updated":"2018-07-12T23:32:33.962+0000","started":"2018-07-12T23:32:33.962+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"122546","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/122547","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user VipinRathor reopened a pull request:\n\n    https://github.com/apache/storm/pull/2760\n\n    STORM-3123: Storm Kafka Monitor cannot connect to Kafka over two-way SSL\n\n    ### What is this PR for?\r\n    This PR introduces a new configuration option \"--consumer-config\" (or \"-c\") in KafkaOffsetLagUtil to connect to Kafka Broker over two-way SSL. New option expects a configuration file containing security properties for Kafka.\r\n    \r\n    Behavior without this PR:\r\n    When Kafka broker is running with two-way SSL (i.e. ssl.client.auth=required), Storm Kafka monitor would fail to connect to Kafka with this error:\r\n    `Warning: no suitable certificate found - continuing without client authentication\r\n    *** Certificate chain\r\n    <Empty>\r\n    ***`\r\n    \r\n    Behavior with this PR:\r\n    KafkaOffsetLagUtil can now query offset lag for Kafka spout with 2-way SSL authentication\r\n    \r\n    ### What type of PR is it?\r\n    [Bug Fix]\r\n    \r\n    ### What is the Jira issue?\r\n    * https://issues.apache.org/jira/browse/STORM-3123\r\n    \r\n    ### How should this be tested?\r\n    1. Configure Kafka Broker with 2-way SSL authentication (make sure that ssl.client.auth=required is set in the broker configuration)\r\n    2. Create a topic 'testoffset' and produce some messages to it.\r\n    3. Run KafkaOffsetLagUtil from command line:\r\n    `/usr/jdk64/jdk1.8.0_77/bin/java -cp /root/storm-kafka-monitor-1.1.0.2.6.3.0-SNAPSHOT.jar org.apache.storm.kafka.monitor.KafkaOffsetLagUtil -t testoffset -g testgroup -b node2.openstacklocal:6669 --security-protocol SSL --consumer-config ./consumer.properties`\r\n    where the file consumer.properties contains:\r\n    ssl.truststore.location=/tmp/kafkaCert/client.truststore.jks\r\n    ssl.truststore.password=password\r\n    ssl.keystore.location=/tmp/kafkaCert/client.keystore.jks\r\n    ssl.keystore.password=password\r\n    security.protocol=SSL\r\n    4. KafkaOffsetLagUtil would show correct offset log from Kafka topic 'testoffset'.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/VipinRathor/storm STORM-3123\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2760.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2760\n    \n----\ncommit 33b948fad8e3902cb1b83ce92f94eb8c6f204acc\nAuthor: Vipin Rathor <v.rathor@...>\nDate:   2018-07-12T00:01:36Z\n\n    STORM-3123 - add support for Kafka security config in storm-kafka-monitor\n\n----\n","created":"2018-07-12T23:32:42.512+0000","updated":"2018-07-12T23:32:42.512+0000","started":"2018-07-12T23:32:42.511+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"122547","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/122556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user priyank5485 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2760#discussion_r202213538\n  \n    --- Diff: external/storm-kafka-monitor/src/main/java/org/apache/storm/kafka/monitor/KafkaOffsetLagUtil.java ---\n    @@ -145,7 +148,8 @@ public static void main(String args[]) {\n                     NewKafkaSpoutOffsetQuery newKafkaSpoutOffsetQuery =\n                         new NewKafkaSpoutOffsetQuery(commandLine.getOptionValue(OPTION_TOPIC_LONG),\n                                                      commandLine.getOptionValue(OPTION_BOOTSTRAP_BROKERS_LONG),\n    -                                                 commandLine.getOptionValue(OPTION_GROUP_ID_LONG), securityProtocol);\n    +                                                 commandLine.getOptionValue(OPTION_GROUP_ID_LONG), securityProtocol,\n    --- End diff --\n    \n    I suggest adding a check in the old spout if block and throw an error if this option provided with old spout.\n","created":"2018-07-13T00:06:40.121+0000","updated":"2018-07-13T00:06:40.121+0000","started":"2018-07-13T00:06:40.120+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"122556","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/122557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user priyank5485 commented on the issue:\n\n    https://github.com/apache/storm/pull/2760\n  \n    @VipinRathor You should also update \r\n    https://github.com/apache/storm/blob/master/storm-core/src/jvm/org/apache/storm/utils/TopologySpoutLag.java\r\n    and\r\n    https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java\r\n    \r\n    That will make sure that lags will show up in storm ui as well where spout is talking to kafka on SSL listener. Can you also test it?\n","created":"2018-07-13T00:10:50.762+0000","updated":"2018-07-13T00:10:50.762+0000","started":"2018-07-13T00:10:50.762+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"122557","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/126149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user VipinRathor commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2760#discussion_r204488453\n  \n    --- Diff: external/storm-kafka-monitor/src/main/java/org/apache/storm/kafka/monitor/KafkaOffsetLagUtil.java ---\n    @@ -145,7 +148,8 @@ public static void main(String args[]) {\n                     NewKafkaSpoutOffsetQuery newKafkaSpoutOffsetQuery =\n                         new NewKafkaSpoutOffsetQuery(commandLine.getOptionValue(OPTION_TOPIC_LONG),\n                                                      commandLine.getOptionValue(OPTION_BOOTSTRAP_BROKERS_LONG),\n    -                                                 commandLine.getOptionValue(OPTION_GROUP_ID_LONG), securityProtocol);\n    +                                                 commandLine.getOptionValue(OPTION_GROUP_ID_LONG), securityProtocol,\n    --- End diff --\n    \n    thanks @priyank5485 for review. I'm working on an updated patch. Will update here soon.\n","created":"2018-07-23T17:24:14.393+0000","updated":"2018-07-23T17:24:14.393+0000","started":"2018-07-23T17:24:14.392+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"126149","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/135225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user VipinRathor commented on the issue:\n\n    https://github.com/apache/storm/pull/2760\n  \n    Oops, somehow I ended up pulling the diff commit here in this PR while merging with master. Now it's showing 76 commits. :|\r\n    Can this be fixed? If not, I can close this and open a fresh PR.\n","created":"2018-08-16T02:46:45.638+0000","updated":"2018-08-16T02:46:45.638+0000","started":"2018-08-16T02:46:45.637+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"135225","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/135241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2760\n  \n    @VipinRathor \r\n    You can checkout a new branch based on recent master, and cherry-pick your commits, and reset your PR branch with the last commit of new branch via `git reset --hard`.\n","created":"2018-08-16T04:06:07.578+0000","updated":"2018-08-16T04:06:07.578+0000","started":"2018-08-16T04:06:07.578+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"135241","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/136774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2760\n  \n    @VipinRathor Any updates? It is completely OK for you to just close an create a new PR.\n","created":"2018-08-21T23:07:59.747+0000","updated":"2018-08-21T23:07:59.747+0000","started":"2018-08-21T23:07:59.747+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"136774","issueId":"13168235"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13168235/worklog/136798","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user VipinRathor commented on the issue:\n\n    https://github.com/apache/storm/pull/2760\n  \n    yes, I cherry-picked my 3 commits into another branch and currently testing with Kafka & two-way SSL.\n","created":"2018-08-22T00:55:22.153+0000","updated":"2018-08-22T00:55:22.153+0000","started":"2018-08-22T00:55:22.152+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"136798","issueId":"13168235"}]},"customfield_12311820":"0|i3v887:"}}