{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12861922","self":"https://issues.apache.org/jira/rest/api/2/issue/12861922","key":"STORM-1030","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329843","id":"12329843","name":"1.0.0","archived":false,"released":true,"releaseDate":"2016-04-12"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-11-10T01:56:57.162+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Mar 29 08:03:11 UTC 2016","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_17804083569_*|*_3_*:*_1_*:*_39949558_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-03-29T08:03:11.560+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1030/watchers","watchCount":4,"isWatching":false},"created":"2015-09-04T19:22:38.493+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":"STORM-1491","customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-03-29T08:03:11.619+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327952","id":"12327952","name":"storm-hive","description":"Strom Hive Integration"}],"timeoriginalestimate":null,"description":"1. Schedule Hive transaction heartbeats outside of execute method.\n2. Fix retiring idleWriters\n3. Do not call flush if there is no data added to a txnbatch\n4. Catch any exception and abort transaction.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hive Connector Fixes","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/14997845","id":"14997845","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user harshach opened a pull request:\n\n    https://github.com/apache/storm/pull/871\n\n    STORM-1030. Hive Connector Fixes.\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/harshach/incubator-storm STORM-1030-V1\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/871.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #871\n    \n----\ncommit f0760e86fe53be6ef4bf5d7eb4ed72c590ec4a82\nAuthor: Sriharsha Chintalapani <mail@harsha.io>\nDate:   2015-11-10T00:40:34Z\n\n    STORM-1030. Hive Connector Fixes.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-10T01:56:57.162+0000","updated":"2015-11-10T01:56:57.162+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/14997907","id":"14997907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user Parth-Brahmbhatt commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44365442\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -87,7 +87,7 @@ public void prepare(Map conf, TopologyContext topologyContext, OutputCollector c\n                     }\n                 }\n                 this.collector = collector;\n    -            allWriters = new HashMap<HiveEndPoint,HiveWriter>();\n    +            allWriters = new ConcurrentHashMap<HiveEndPoint,HiveWriter>();\n    --- End diff --\n    \n    any reason to make it concurrent?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-10T02:59:16.508+0000","updated":"2015-11-10T02:59:16.508+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/14997909","id":"14997909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user Parth-Brahmbhatt commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44365491\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuples will NOT be acknowledged \", tuple);\n    --- End diff --\n    \n    the message says tuple won't be acked and in next line we ack it, one of the two is not right.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-10T03:00:16.700+0000","updated":"2015-11-10T03:00:16.700+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/14997910","id":"14997910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44365638\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -87,7 +87,7 @@ public void prepare(Map conf, TopologyContext topologyContext, OutputCollector c\n                     }\n                 }\n                 this.collector = collector;\n    -            allWriters = new HashMap<HiveEndPoint,HiveWriter>();\n    +            allWriters = new ConcurrentHashMap<HiveEndPoint,HiveWriter>();\n    --- End diff --\n    \n    We are running heartbeat as separate timer thread. Every time we add a new HiveEndPoint, HiveWriter we add this to allWriters Map and heartbeat thread goes through all the values to call heartbeat method. To have the values visible  in both threads we need to make concurrent\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-10T03:02:36.518+0000","updated":"2015-11-10T03:02:36.518+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/14997912","id":"14997912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user Parth-Brahmbhatt commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-155269316\n  \n    overall I am +1, couple of clarifying questions.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-10T03:05:08.357+0000","updated":"2015-11-10T03:05:08.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001261","id":"15001261","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44597850\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -56,9 +56,9 @@\n         private ExecutorService callTimeoutPool;\n         private transient Timer heartBeatTimer;\n         private Boolean kerberosEnabled = false;\n    -    private AtomicBoolean timeToSendHeartBeat = new AtomicBoolean(false);\n    +    private Boolean sendHeartBeat = true;\n    --- End diff --\n    \n    I think this needs to be volatile or atomic.  It is written in one thread and read in another with no locks around any of it.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T22:41:04.778+0000","updated":"2015-11-11T22:41:04.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001273","id":"15001273","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44598471\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    Why ack this, when before we would fail it?  I realize replaying this is not going to \"fix\" the problem, but hiding a failure seems worse.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T22:46:41.945+0000","updated":"2015-11-11T22:46:41.945+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001279","id":"15001279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44598712\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    Also the other error handling code now deals with a tuple batch and fails/cleans it up.  Does this code need to handle that too?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T22:48:50.432+0000","updated":"2015-11-11T22:48:50.432+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001280","id":"15001280","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44598767\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n             } catch(Exception e) {\n                 this.collector.reportError(e);\n                 collector.fail(tuple);\n    -            try {\n    -                flushAndCloseWriters();\n    -                LOG.info(\"acknowledging tuples after writers flushed and closed\");\n    -                for (Tuple t : tupleBatch)\n    -                    collector.ack(t);\n    -                tupleBatch.clear();\n    -            } catch (Exception e1) {\n    -                //If flushAndClose fails assume tuples are lost, do not ack\n    -                LOG.warn(\"Error while flushing and closing writers, tuples will NOT be acknowledged\");\n    -                for (Tuple t : tupleBatch)\n    -                    collector.fail(t);\n    -                tupleBatch.clear();\n    -            }\n    +            for (Tuple t : tupleBatch)\n    --- End diff --\n    \n    Could you wrap the body of this in '{}' I know it is just one line, but for coding conventions sake.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T22:49:25.387+0000","updated":"2015-11-11T22:49:25.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001282","id":"15001282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-155934542\n  \n    Done with a quick pass through the code, for the most part it looks good, just a few minor comments.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T22:51:45.907+0000","updated":"2015-11-11T22:51:45.907+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001296","id":"15001296","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44600086\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    @revans2 Hive SerializationError means the tuple fields to table column mapping is nto right. For example if table has 6 rows and this tuple has only 5 fields than it can throw SerializationError. In this case instead of failing the tuple and keep re-running into this error. Its better we ack and log an error. \n    hiveWriter.write will throw an error on the current tuple and it wil be not be added to the tupleBatch.  Since this is only happening for current the other tuples in the batch are good and we can still proceed writing them to hive.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T23:01:31.271+0000","updated":"2015-11-11T23:01:31.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15001300","id":"15001300","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user dossett commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44600468\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    Should the try {...} catch (SerializationError) block be moved to cover just the writer.write() call then?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-11T23:05:05.160+0000","updated":"2015-11-11T23:05:05.160+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15002249","id":"15002249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44670951\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    @dossett we can if that improves the readability of it but still the same though.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-12T15:36:32.864+0000","updated":"2015-11-12T15:36:32.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15002284","id":"15002284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44673758\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    I am fine with it how the code is, like I said my comments were all minor.  I was just thinking that if there are issues with the serialization I as a user am not going to be looking at the logs for errors, I am going to be looking at metrics, like failed tuples.  Perhaps we could have a follow on JIRA to add an IMetric for the number of tuples lost because of serialization errors. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-12T15:54:22.157+0000","updated":"2015-11-12T15:54:22.157+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15002383","id":"15002383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44680811\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    @revans2 makes sense. I'll add the metric and update the patch. Thanks.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-12T16:43:36.473+0000","updated":"2015-11-12T16:43:36.473+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15002661","id":"15002661","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user dossett commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r44699532\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n    --- End diff --\n    \n    Yeah, I think right try/catch blocks improve readability greatly but that\n    may be a style preference. Would a call to collector.reporterror also be\n    appropriate in that catch?\n    \n    On Thu, Nov 12, 2015 at 8:44 AM Harsha <notifications@github.com> wrote:\n    \n    > In\n    > external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java\n    > <https://github.com/apache/storm/pull/871#discussion_r44680811>:\n    >\n    > > @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n    > >                      collector.ack(t);\n    > >                  tupleBatch.clear();\n    > >              }\n    > > +        } catch(SerializationError se) {\n    > > +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    > > +            collector.ack(tuple);\n    >\n    > @revans2 <https://github.com/revans2> makes sense. I'll add the metric\n    > and update the patch. Thanks.\n    >\n    > —\n    > Reply to this email directly or view it on GitHub\n    > <https://github.com/apache/storm/pull/871/files#r44680811>.\n    >\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-12T19:05:30.080+0000","updated":"2015-11-12T19:05:30.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15043592","id":"15043592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-162259764\n  \n    @revans2 @Parth-Brahmbhatt requesting for one more review as I deleted duplicated code and addressed previous comments. Thanks.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-12-06T00:26:14.870+0000","updated":"2015-12-06T00:26:14.870+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15045203","id":"15045203","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user Parth-Brahmbhatt commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-162580970\n  \n    Still +1.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-12-07T16:32:20.566+0000","updated":"2015-12-07T16:32:20.566+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15089377","id":"15089377","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r49201617\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -25,75 +26,40 @@\n     import backtype.storm.topology.OutputFieldsDeclarer;\n     import backtype.storm.utils.TupleUtils;\n     import backtype.storm.Config;\n    +import org.apache.storm.hive.common.HiveConnector;\n     import org.apache.storm.hive.common.HiveWriter;\n    -import com.google.common.util.concurrent.ThreadFactoryBuilder;\n     import org.apache.hive.hcatalog.streaming.*;\n     import org.apache.storm.hive.common.HiveOptions;\n     import org.apache.storm.hive.common.HiveUtils;\n    -import org.apache.hadoop.security.UserGroupInformation;\n     import org.slf4j.Logger;\n     import org.slf4j.LoggerFactory;\n     \n     import java.util.List;\n    -import java.util.ArrayList;\n     import java.util.Map;\n    -import java.util.HashMap;\n    -import java.util.Timer;\n    -import java.util.TimerTask;\n    -import java.util.Map.Entry;\n    -import java.util.concurrent.ExecutorService;\n    -import java.util.concurrent.Executors;\n    -import java.util.concurrent.TimeUnit;\n    -import java.util.concurrent.atomic.AtomicBoolean;\n    -import java.util.List;\n     import java.util.LinkedList;\n    -import java.io.IOException;\n     \n     public class HiveBolt extends  BaseRichBolt {\n         private static final Logger LOG = LoggerFactory.getLogger(HiveBolt.class);\n         private OutputCollector collector;\n         private HiveOptions options;\n    -    private ExecutorService callTimeoutPool;\n    -    private transient Timer heartBeatTimer;\n    -    private Boolean kerberosEnabled = false;\n    -    private AtomicBoolean timeToSendHeartBeat = new AtomicBoolean(false);\n    -    private UserGroupInformation ugi = null;\n    -    HashMap<HiveEndPoint, HiveWriter> allWriters;\n    +    private HiveConnector hiveConnector;\n         private List<Tuple> tupleBatch;\n    +    transient CountMetric serializationErrorMetric;\n     \n         public HiveBolt(HiveOptions options) {\n             this.options = options;\n             tupleBatch = new LinkedList<>();\n    +\n         }\n     \n         @Override\n         public void prepare(Map conf, TopologyContext topologyContext, OutputCollector collector)  {\n             try {\n    -            if(options.getKerberosPrincipal() == null && options.getKerberosKeytab() == null) {\n    -                kerberosEnabled = false;\n    -            } else if(options.getKerberosPrincipal() != null && options.getKerberosKeytab() != null) {\n    -                kerberosEnabled = true;\n    -            } else {\n    -                throw new IllegalArgumentException(\"To enable Kerberos, need to set both KerberosPrincipal \" +\n    -                                                   \" & KerberosKeytab\");\n    -            }\n    -\n    -            if (kerberosEnabled) {\n    -                try {\n    -                    ugi = HiveUtils.authenticate(options.getKerberosKeytab(), options.getKerberosPrincipal());\n    -                } catch(HiveUtils.AuthenticationFailed ex) {\n    -                    LOG.error(\"Hive Kerberos authentication failed \" + ex.getMessage(), ex);\n    -                    throw new IllegalArgumentException(ex);\n    -                }\n    -            }\n                 this.collector = collector;\n    -            allWriters = new HashMap<HiveEndPoint,HiveWriter>();\n    -            String timeoutName = \"hive-bolt-%d\";\n    -            this.callTimeoutPool = Executors.newFixedThreadPool(1,\n    -                                new ThreadFactoryBuilder().setNameFormat(timeoutName).build());\n    -            heartBeatTimer = new Timer();\n    -            setupHeartBeatTimer();\n    -\n    +            this.hiveConnector  =  new HiveConnector(this.options);\n    +            this.hiveConnector.configure();\n    +            this.serializationErrorMetric = new CountMetric();\n    +            topologyContext.registerMetric(\"hive_serialization_error_count\", serializationErrorMetric, 0);\n    --- End diff --\n    \n    Not really sure what registering a metric that is reported every 0 seconds does.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-08T15:47:49.938+0000","updated":"2016-01-08T15:47:49.938+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15089378","id":"15089378","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r49201673\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/common/HiveConnector.java ---\n    @@ -0,0 +1,241 @@\n    +package org.apache.storm.hive.common;\n    --- End diff --\n    \n    Need a license header.  Rat is complaining.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-08T15:48:15.314+0000","updated":"2016-01-08T15:48:15.314+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15089382","id":"15089382","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r49201793\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/common/HiveConnector.java ---\n    @@ -0,0 +1,241 @@\n    +package org.apache.storm.hive.common;\n    +\n    +\n    +import org.apache.hadoop.security.UserGroupInformation;\n    +import org.apache.hive.hcatalog.streaming.HiveEndPoint;\n    +import org.apache.hive.hcatalog.streaming.StreamingException;\n    +import org.slf4j.Logger;\n    +import org.slf4j.LoggerFactory;\n    +\n    +import java.io.IOException;\n    +import java.util.*;\n    +import java.util.concurrent.ExecutorService;\n    +import java.util.concurrent.Executors;\n    +import com.google.common.util.concurrent.ThreadFactoryBuilder;\n    +import java.util.concurrent.TimeUnit;\n    +import java.util.concurrent.ConcurrentHashMap;\n    +import java.util.concurrent.atomic.AtomicBoolean;\n    +\n    +public class HiveConnector {\n    +    private static final Logger LOG = LoggerFactory.getLogger(HiveConnector.class);\n    +    private HiveOptions options;\n    +    private transient Timer heartBeatTimer;\n    +    private AtomicBoolean sendHeartBeat = new AtomicBoolean(true);\n    +    private UserGroupInformation ugi = null;\n    +    private Map<HiveEndPoint, HiveWriter> allWriters;\n    +    private ExecutorService callTimeoutPool;\n    +\n    +    public HiveConnector(HiveOptions options) {\n    +        this.options = options;\n    +\n    --- End diff --\n    \n    Extra line\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-08T15:49:15.053+0000","updated":"2016-01-08T15:49:15.053+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15089383","id":"15089383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r49201838\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/common/HiveConnector.java ---\n    @@ -0,0 +1,241 @@\n    +package org.apache.storm.hive.common;\n    +\n    +\n    +import org.apache.hadoop.security.UserGroupInformation;\n    +import org.apache.hive.hcatalog.streaming.HiveEndPoint;\n    +import org.apache.hive.hcatalog.streaming.StreamingException;\n    +import org.slf4j.Logger;\n    +import org.slf4j.LoggerFactory;\n    +\n    +import java.io.IOException;\n    +import java.util.*;\n    +import java.util.concurrent.ExecutorService;\n    +import java.util.concurrent.Executors;\n    +import com.google.common.util.concurrent.ThreadFactoryBuilder;\n    +import java.util.concurrent.TimeUnit;\n    +import java.util.concurrent.ConcurrentHashMap;\n    +import java.util.concurrent.atomic.AtomicBoolean;\n    +\n    +public class HiveConnector {\n    +    private static final Logger LOG = LoggerFactory.getLogger(HiveConnector.class);\n    +    private HiveOptions options;\n    +    private transient Timer heartBeatTimer;\n    +    private AtomicBoolean sendHeartBeat = new AtomicBoolean(true);\n    +    private UserGroupInformation ugi = null;\n    +    private Map<HiveEndPoint, HiveWriter> allWriters;\n    +    private ExecutorService callTimeoutPool;\n    +\n    +    public HiveConnector(HiveOptions options) {\n    +        this.options = options;\n    +\n    +    }\n    +\n    +    public void configure() {\n    +        boolean kerberosEnabled;\n    +\n    +        if(this.options.getKerberosPrincipal() == null && this.options.getKerberosKeytab() == null) {\n    +            kerberosEnabled = false;\n    +        } else if(options.getKerberosPrincipal() != null && options.getKerberosKeytab() != null) {\n    +            kerberosEnabled = true;\n    +        } else {\n    +            throw new IllegalArgumentException(\"To enable Kerberos, need to set both KerberosPrincipal \" +\n    +                                               \" & KerberosKeytab\");\n    +        }\n    +\n    +        if (kerberosEnabled) {\n    +            try {\n    +                ugi = HiveUtils.authenticate(options.getKerberosKeytab(), options.getKerberosPrincipal());\n    +            } catch(HiveUtils.AuthenticationFailed ex) {\n    +                LOG.error(\"Hive Kerberos authentication failed \" + ex.getMessage(), ex);\n    +                throw new IllegalArgumentException(ex);\n    +            }\n    +        }\n    +\n    +        allWriters = new ConcurrentHashMap<HiveEndPoint, HiveWriter>();\n    +        String timeoutName = \"hive-bolt-%d\";\n    +        this.callTimeoutPool = Executors.newFixedThreadPool(1,\n    +                   new ThreadFactoryBuilder().setNameFormat(timeoutName).build());\n    +        heartBeatTimer = new Timer();\n    +        setupHeartBeatTimer();\n    +    }\n    +\n    +\n    --- End diff --\n    \n    Extra sapce\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-08T15:49:42.310+0000","updated":"2016-01-08T15:49:42.310+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15089388","id":"15089388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-170037330\n  \n    Sorry this took so long to get back to.  The code looks good for the most part.  I have a few minor formatting nits, but the header needs to be updated and I would like to see the metric registered with a non-zero poll interval.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-08T15:52:10.550+0000","updated":"2016-01-08T15:52:10.550+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15209278","id":"15209278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user Parth-Brahmbhatt commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-200564783\n  \n    This PR has been open for a long time, i am still +1 and will merge this this weekend if no one objects.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-23T22:13:47.301+0000","updated":"2016-03-23T22:13:47.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15214472","id":"15214472","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r57596988\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/trident/HiveStateFactory.java ---\n    @@ -1,20 +1,3 @@\n    -/**\n    - * Licensed to the Apache Software Foundation (ASF) under one\n    - * or more contributor license agreements.  See the NOTICE file\n    - * distributed with this work for additional information\n    - * regarding copyright ownership.  The ASF licenses this file\n    - * to you under the Apache License, Version 2.0 (the\n    - * \"License\"); you may not use this file except in compliance\n    - * with the License.  You may obtain a copy of the License at\n    - *\n    - * http://www.apache.org/licenses/LICENSE-2.0\n    - *\n    - * Unless required by applicable law or agreed to in writing, software\n    - * distributed under the License is distributed on an \"AS IS\" BASIS,\n    - * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    - * See the License for the specific language governing permissions and\n    - * limitations under the License.\n    - */\n    --- End diff --\n    \n    Why remove the Apache header?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-28T17:03:16.321+0000","updated":"2016-03-28T17:03:16.321+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15214473","id":"15214473","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r57597051\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/trident/HiveUpdater.java ---\n    @@ -1,20 +1,3 @@\n    -/**\n    - * Licensed to the Apache Software Foundation (ASF) under one\n    - * or more contributor license agreements.  See the NOTICE file\n    - * distributed with this work for additional information\n    - * regarding copyright ownership.  The ASF licenses this file\n    - * to you under the Apache License, Version 2.0 (the\n    - * \"License\"); you may not use this file except in compliance\n    - * with the License.  You may obtain a copy of the License at\n    - *\n    - * http://www.apache.org/licenses/LICENSE-2.0\n    - *\n    - * Unless required by applicable law or agreed to in writing, software\n    - * distributed under the License is distributed on an \"AS IS\" BASIS,\n    - * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    - * See the License for the specific language governing permissions and\n    - * limitations under the License.\n    - */\n    --- End diff --\n    \n    Need to keep the Apache header.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-28T17:03:40.061+0000","updated":"2016-03-28T17:03:40.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15214531","id":"15214531","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/871#discussion_r57602797\n  \n    --- Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java ---\n    @@ -134,22 +131,16 @@ public void execute(Tuple tuple) {\n                         collector.ack(t);\n                     tupleBatch.clear();\n                 }\n    +        } catch(SerializationError se) {\n    +            LOG.info(\"Serialization exception occurred, tuple is acknowledged but not written to Hive.\", tuple);\n    +            collector.ack(tuple);\n             } catch(Exception e) {\n                 this.collector.reportError(e);\n                 collector.fail(tuple);\n    -            try {\n    -                flushAndCloseWriters();\n    -                LOG.info(\"acknowledging tuples after writers flushed and closed\");\n    -                for (Tuple t : tupleBatch)\n    -                    collector.ack(t);\n    -                tupleBatch.clear();\n    -            } catch (Exception e1) {\n    -                //If flushAndClose fails assume tuples are lost, do not ack\n    -                LOG.warn(\"Error while flushing and closing writers, tuples will NOT be acknowledged\");\n    -                for (Tuple t : tupleBatch)\n    -                    collector.fail(t);\n    -                tupleBatch.clear();\n    -            }\n    +            for (Tuple t : tupleBatch)\n    --- End diff --\n    \n    I agree. Please wrap the for block with '{}'.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-28T17:41:55.794+0000","updated":"2016-03-28T17:41:55.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15214537","id":"15214537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-202502403\n  \n    Two very minor nits. Two files are missing Apache headers, and a for loop that should be enclosed in '{}'.\n    \n    Aside from that, I'm +1 for the patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-28T17:42:57.552+0000","updated":"2016-03-28T17:42:57.552+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15214606","id":"15214606","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-202514351\n  \n    Thanks for the review @Parth-Brahmbhatt @ptgoetz . Addressed the comments.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-28T18:15:05.963+0000","updated":"2016-03-28T18:15:05.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15214778","id":"15214778","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-202559608\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-28T19:59:15.891+0000","updated":"2016-03-28T19:59:15.891+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15215581","id":"15215581","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the pull request:\n\n    https://github.com/apache/storm/pull/871#issuecomment-202747713\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-29T07:04:06.555+0000","updated":"2016-03-29T07:04:06.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15215648","id":"15215648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/871\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-29T08:01:48.713+0000","updated":"2016-03-29T08:01:48.713+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12861922/comment/15215649","id":"15215649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Thanks [~sriharsha], I merged into master and 1.x-branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-03-29T08:03:11.611+0000","updated":"2016-03-29T08:03:11.611+0000"}],"maxResults":33,"total":33,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1030/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2jt13:"}}