{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12838727","self":"https://issues.apache.org/jira/rest/api/2/issue/12838727","key":"STORM-875","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2015-06-18T09:17:38.540+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jun 19 07:12:28 UTC 2015","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_80373919_*|*_4_*:*_1_*:*_17535_*|*_6_*:*_2_*:*_9655221520","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2015-10-09T01:13:52.771+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-875/watchers","watchCount":2,"isWatching":false},"created":"2015-06-18T08:53:39.821+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327123","id":"12327123","description":"security feature branch","name":"0.10.0","archived":false,"released":true,"releaseDate":"2015-11-05"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-09T01:13:52.793+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"I want to upload a topology via a new added REST service '/api/v1/uploadTopology' introduced since 0.10. STORM-615 mentions a ring-session token be required before uploading the topology. Here is what I get when issuing command 'curl -i --negotiate -u : -b ~/cookiejar.txt -c ~/cookiejar.txt http://localhost:8080/api/v1/token' in a shell:\n\nHTTP/1.1 404 Not Found\nDate: Thu, 18 Jun 2015 08:52:48 GMT\nContent-Type: text/html; charset=utf-8\nContent-Length: 14\nServer: Jetty(6.1.26)\n\nPage not found\n \nThat blocks me from submitting topologies via the exposed REST interface.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"404 Not Found responded when issuing request '/api/v1/token'","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"apache-storm-0.10.0-beta on REHL 5.5 64bit","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838727/comment/14591526","id":"14591526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Storm removed CSRF-token from REST API, so you don't need to call '/api/v1/token' before calling uploadTopology API.\nPlease test it once more, and close issue when it works smoothly. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2015-06-18T09:17:38.540+0000","updated":"2015-06-18T09:17:38.540+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838727/comment/14591537","id":"14591537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"body":"[~kabhwan] Thanks for responding. However, issuing the command below suggested in STORM-UI-REST-API.md still got failed due to the same reason.\n\ncurl -i -b ~/cookiejar.txt -c ~/cookiejar.txt -X POST -F topologyConfig='{\"topologyMainClass\": \"storm.starter.WordCountTopology\", \"topologyMainClassArgs\": [\"wordcount1\"]}' -F topologyJar=@/opt/huxihx/storm/apache-storm-0.10.0-beta/examples/storm-starter/storm-starter-topologies-0.10.0-beta.jar http://localhost:8080/api/v1/uploadTopology\n\nHere is the response:\nHTTP/1.1 100 Continue\n\nHTTP/1.1 404 Not Found\nDate: Thu, 18 Jun 2015 09:21:49 GMT\nContent-Type: text/html; charset=utf-8\nContent-Length: 14\nServer: Jetty(6.1.26)\n\nPage not found\n\n\nPlease adivse.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-06-18T09:24:24.728+0000","updated":"2015-06-18T09:24:24.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838727/comment/14593115","id":"14593115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"{noformat}\ncurl -i -b ~/cookiejar.txt -c ~/cookiejar.txt -X POST -F topologyConfig='{\"topologyMainClass\": \"storm.starter.RollingTopWords\", \"topologyMainClassArgs\": [\"production-topology\", \"remote\"]}' -F topologyJar=@storm-starter-topologies-0.10.0-beta.jar http://localhost:8080/api/v1/uploadTopology\nHTTP/1.1 100 Continue\n\nHTTP/1.1 200 OK\nDate: Fri, 19 Jun 2015 06:42:34 GMT\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Access-Controler-Allow-Origin, X-Requested-By, X-Csrf-Token, Authorization, X-Requested-With\nAccess-Control-Allow-Origin: *\nCache-Control: no-cache, no-store\nContent-Type: application/json;charset=utf-8\nContent-Length: 20\nServer: Jetty(7.x.y-SNAPSHOT)\n{noformat}\n\nIf you install Storm-0.10.0-beta, UI's Jetty version should be 7.6.13.v20130916, but your UI's Jetty version is 6.1.26, which seems that you launched UI via old release of Storm.\nPlease check that your UI is launched to 0.10.0-beta.\n\nps aux | grep \"backtype.storm.ui.core\" | grep \"storm-core-0.10.0-beta\" should print your UI process.\n\nWhen you think the issue is invalid, please close issue. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2015-06-19T06:53:15.625+0000","updated":"2015-06-19T06:53:15.625+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838727/comment/14593129","id":"14593129","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"body":"yes, I messed up the version stuff. Finally it got working. Thanks for the advice!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=huxi_2b","name":"huxi_2b","key":"huxi_2b","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=huxi_2b&avatarId=31625","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=huxi_2b&avatarId=31625","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=huxi_2b&avatarId=31625","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=huxi_2b&avatarId=31625"},"displayName":"huxihx","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-06-19T07:12:28.311+0000","updated":"2015-06-19T07:12:28.311+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-875/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2g74n:"}}