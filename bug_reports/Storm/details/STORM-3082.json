{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13161504","self":"https://issues.apache.org/jira/rest/api/2/issue/13161504","key":"STORM-3082","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":7200,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343340","id":"12343340","name":"1.2.3","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343376","id":"12343376","name":"1.1.4","archived":false,"released":false}],"aggregatetimespent":7200,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-05-24T01:29:31.397+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 09 21:51:16 UTC 2018","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4078988001_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2018-07-09T21:51:16.280+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3082/watchers","watchCount":2,"isWatching":false},"created":"2018-05-23T16:48:08.341+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":["newbie","pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342766","id":"12342766","name":"1.2.1","archived":false,"released":true,"releaseDate":"2018-02-15"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342767","id":"12342767","name":"1.1.3","archived":false,"released":true,"releaseDate":"2018-06-04"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aniket.alhat","name":"aniket.alhat","key":"aniket.alhat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniket Alhat","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-07-10T03:07:07.249+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12331080","id":"12331080","name":"storm-kafka-client"}],"timeoriginalestimate":null,"description":"[~aniket.alhat] reported on the mailing list that he got an NPE when trying to start the Trident spout.\r\n\r\n{code}\r\n2018-05-22 06:23:02.318 o.a.s.util [ERROR] Async loop died!\r\njava.lang.NullPointerException: null\r\n        at org.apache.storm.kafka.spout.NamedTopicFilter.getFilteredTopicPartitions(NamedTopicFilter.java:57) ~[stormjar.jar:?]\r\n        at org.apache.storm.kafka.spout.ManualPartitionSubscription.refreshAssignment(ManualPartitionSubscription.java:54) ~[stormjar.jar:?]\r\n        at org.apache.storm.kafka.spout.ManualPartitionSubscription.subscribe(ManualPartitionSubscription.java:49) ~[stormjar.jar:?]\r\n        at org.apache.storm.kafka.spout.trident.KafkaTridentSpoutManager.createAndSubscribeKafkaConsumer(KafkaTridentSpoutManager.java:59) ~[stormjar.jar:?]\r\n        at org.apache.storm.kafka.spout.trident.KafkaTridentSpoutEmitter.<init>(KafkaTridentSpoutEmitter.java:84) ~[stormjar.jar:?]\r\n        at org.apache.storm.kafka.spout.trident.KafkaTridentSpoutEmitter.<init>(KafkaTridentSpoutEmitter.java:100) ~[stormjar.jar:?]\r\n        at org.apache.storm.kafka.spout.trident.KafkaTridentSpoutOpaque.getEmitter(KafkaTridentSpoutOpaque.java:50) ~[stormjar.jar:?]\r\n        at org.apache.storm.trident.spout.OpaquePartitionedTridentSpoutExecutor$Emitter.<init>(OpaquePartitionedTridentSpoutExecutor.java:97) ~[storm-core-1.2.1.jar:1.2.1]\r\n        at org.apache.storm.trident.spout.OpaquePartitionedTridentSpoutExecutor.getEmitter(OpaquePartitionedTridentSpoutExecutor.java:221) ~[storm-core-1.2.1.jar:1.2.1]\r\n        at org.apache.storm.trident.spout.OpaquePartitionedTridentSpoutExecutor.getEmitter(OpaquePartitionedTridentSpoutExecutor.java:39) ~[storm-core-1.2.1.jar:1.2.1]\r\n        at org.apache.storm.trident.spout.TridentSpoutExecutor.prepare(TridentSpoutExecutor.java:60) ~[storm-core-1.2.1.jar:1.2.1]\r\n        at org.apache.storm.trident.topology.TridentBoltExecutor.prepare(TridentBoltExecutor.java:245) ~[storm-core-1.2.1.jar:1.2.1]\r\n        at org.apache.storm.daemon.executor$fn__5043$fn__5056.invoke(executor.clj:803) ~[storm-core-1.2.1.jar:1.2.1]\r\n        at org.apache.storm.util$async_loop$fn__557.invoke(util.clj:482) [storm-core-1.2.1.jar:1.2.1]\r\n        at clojure.lang.AFn.run(AFn.java:22) [clojure-1.7.0.jar:?]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_151]\r\n{code}\r\n\r\nIt looks to me like the partitionsFor method on the consumer will return null if the specified topic doesn't exist. We didn't account for this in the filter, because the return type of the method is a List, and we assumed it wouldn't be null.\r\n\r\nI think it's reasonable that people should be able to subscribe to topics that don't exist yet, and the spout should pick up the new topics eventually.\r\n\r\nWe should check for null here https://github.com/apache/storm/blob/93ed601425a79759c0189a945c6b46266e5c9ced/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/subscription/NamedTopicFilter.java#L55, and maybe log a warning if the returned value is null.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"2h","remainingEstimateSeconds":0,"timeSpentSeconds":7200},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"NamedTopicFilter can't handle topics that don't exist yet","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":7200,"total":7200,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":7200,"total":7200,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/comment/16488284","id":"16488284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aniket.alhat","name":"aniket.alhat","key":"aniket.alhat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniket Alhat","active":true,"timeZone":"Etc/UTC"},"body":"[~Srdo] if it is ok with you I would like to work on this. Can you please assign it to me ? Also very sorry if you could also paste the link to workflow how to get started. I promise I'll not bother you a lot :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aniket.alhat","name":"aniket.alhat","key":"aniket.alhat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniket Alhat","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-24T01:29:31.397+0000","updated":"2018-05-24T01:31:18.820+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/comment/16488409","id":"16488409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"body":"[~aniket.alhat] Sure, thanks. I assigned the task to you. The getting started guide is here [https://github.com/apache/storm/blob/master/DEVELOPER.md.] I'll be unavailable for a few days, but feel free to ask questions anyway. Consider asking your questions on the dev mailing list, it's likely someone will help you out.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"created":"2018-05-24T04:39:06.207+0000","updated":"2018-05-24T04:39:06.207+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/comment/16534575","id":"16534575","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aniket.alhat","name":"aniket.alhat","key":"aniket.alhat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniket Alhat","active":true,"timeZone":"Etc/UTC"},"body":"[~Srdo] PR is ready from my side, can you please take a look when time permits.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aniket.alhat","name":"aniket.alhat","key":"aniket.alhat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniket Alhat","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-06T08:34:49.524+0000","updated":"2018-07-06T08:34:49.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/comment/16537659","id":"16537659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"body":"Thanks [~aniket.alhat]. Merged via 2e3f767353be09bf08b2c74738523acfac4a9491 (master), 4e1e62667d97fe684b1d73cd8a1c41d3175cf6bc (1.x) and 487b81d0773441c8e8ea0542b973616ad93a3f36 (1.1.x)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"created":"2018-07-09T21:51:16.311+0000","updated":"2018-07-09T21:51:16.311+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3082/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":14,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/119746","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user aniketalhat opened a pull request:\n\n    https://github.com/apache/storm/pull/2755\n\n    [WIP] STORM-3082 Add support to handle absent topics\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/aniketalhat/storm feature/STORM-3082-Add-support-to-handle-absent-topics\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2755.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2755\n    \n----\ncommit a06f52105d12723ade3de0741c6cf90d0b1bcef0\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-11-25T01:18:55Z\n\n    STORM-2216: CHANGELOG\n\ncommit c9b80da918510e16ce239a4e8bfbb0b8c22f9358\nAuthor: Kyle Nusbaum <knusbaum@...>\nDate:   2016-11-28T19:09:17Z\n\n    STORM-2222 Repeated NPEs thrown in nimbus if rebalance fails\n\ncommit 0fd5ef1efa24de9e2f90b238c98a91967b5bd43d\nAuthor: itiel <itiel.schwartz@...>\nDate:   2016-12-03T16:45:04Z\n\n    fix actiavte and deactive heartbeat problem\n\ncommit 639bfb5a97f78b87f023ffa873d4fdc43a3b67ab\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-12-06T23:14:33Z\n\n    Merge branch 'STORM-2234-1.0.x-merge' into 1.0.x-branch\n\ncommit d56e76c16cd214e4516c83358fbbe07d57ae346f\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-12-06T23:14:46Z\n\n    STORM-2234: CHANGELOG\n\ncommit 04b86a272776b1c8de8de81847cc1f9dbb55e5a7\nAuthor: Kyle Nusbaum <knusbaum@...>\nDate:   2016-12-02T19:46:21Z\n\n    Updating Trident RAS Documentation.\n\ncommit 9792679bb633c08425692f788398c01099589ed0\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-12-06T23:39:26Z\n\n    Merge branch 'PR-1812-1.0.x-merge' into 1.0.x-branch\n\ncommit 73523c99d159ad42ae6f630e7801070e8d6564c3\nAuthor: Hugo Louro <hmclouro@...>\nDate:   2016-12-17T08:57:13Z\n\n    Fix typo in flux.md\n\ncommit 9365456af2a26c4a240ff304c7fb331e423f1868\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-12-18T11:01:41Z\n\n    STORM-2251 Integration test refers specific version of Storm which should be project version\n    \n    * fix integration-test's pom.xml to have root pom as parent, and remove version and storm version\n\ncommit 49957f500a17931cf07c0b7352bebadb38693ed5\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-12-22T15:04:44Z\n\n    Merge branch 'STORM-2251-1.0.x-merge' into 1.0.x-branch\n\ncommit fabd37bdb27974e77b1dcd4c639f3f60a3794591\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2016-12-22T15:04:56Z\n\n    STORM-2251: CHANGELOG\n\ncommit 61935a7debaca02710e4cb05301098b0a17f9de7\nAuthor: Kyle Nusbaum <knusbaum@...>\nDate:   2016-12-22T18:34:30Z\n\n    Merge branch '1.0.x-branch' of https://github.com/knusbaum/incubator-storm into HEAD\n\ncommit 07410fe6901ff1c38b35fc04d7c115413b5c3335\nAuthor: Kyle Nusbaum <knusbaum@...>\nDate:   2016-12-22T18:37:00Z\n\n    Updating CHANGELOG\n\ncommit 6a922002e96eadfcab635cacbeceed8800f53bd3\nAuthor: Wissman, Matthew <matthew.wissman@...>\nDate:   2016-12-29T15:29:39Z\n\n    STORM-2095 remove any remaining files when deleting blobstore directory\n\ncommit c38cac8822a6d78ba659e8b06b32d076c1858101\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-03T14:13:13Z\n\n    Merge branch '1.0.x-branch' of https://github.com/mwissman/storm into STORM-2095-1.0.x-merge\n\ncommit 0991fad22cd84edc16f33e8c24dc52dc81328a9f\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-03T14:13:41Z\n\n    STORM-2095: CHANGELOG\n\ncommit 9027c00bcce7214308fdaf5e6aa6b6a818cbe6f1\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-05T04:08:34Z\n\n    STORM-2276 Remove twitter4j usages due to license issue (JSON.org is catalog X)\n\ncommit b266aa180b4893d6fc883dd1402dc40ab2360cf7\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-06T08:55:17Z\n\n    Merge branch 'STORM-2276-1.0.x' into 1.0.x-branch\n\ncommit ce0b155d5cf5810c0bca637db5361c094c40657b\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-06T08:55:33Z\n\n    STORM-2276: CHANGELOG\n\ncommit 451ef9358f03d153b142fb2187ed6e9c562c8faf\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-04T16:24:25Z\n\n    STORM-2264 OpaqueTridentKafkaSpout failing after STORM-2216\n    \n    * use JSONValue.parse() instead of JSONValue.parseWithException() in TransactionState\n      * this just rolls back to previous, doesn't provide better approach\n\ncommit 6ab374b8a25de26f9edbeebf022766aa1802a82d\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-08T23:51:03Z\n\n    Merge branch 'STORM-2264-1.0.x-merge' into 1.0.x-branch\n\ncommit 3b0837ee408661a67aefded21662b50e7ec1d9a5\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-08T23:52:39Z\n\n    STORM-2264: CHANGELOG\n\ncommit 5f3fe962973822ebcdc5829b652ccffbc4185492\nAuthor: Raghav Kumar Gautam <raghav@...>\nDate:   2017-01-09T19:17:05Z\n\n    STORM-2279: Unable to open bolt page of storm ui\n\ncommit ac3b1b9283de49f15cbcc69dff49b5d732dd36c1\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-10T00:53:25Z\n\n    Merge branch '1.0.x-branch' of https://github.com/raghavgautam/storm into STORM-2279-1.0.x-merge\n\ncommit 4b44b40ea12ca3f2cda88ee471fe666029fe40e5\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-10T00:54:38Z\n\n    STORM-2279: CHANGELOG\n\ncommit e4a83d8fef6f397e15cee659b2d805b229fcf006\nAuthor: Arun Mahadevan <arunm@...>\nDate:   2017-01-11T06:48:31Z\n\n    [STORM-2283] Fix multi threading issues in DefaultStateSerializer\n\ncommit 5f60bc4db5e47e927b5093bbe2721989a98182ed\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-12T14:13:56Z\n\n    Merge branch 'STORM-2283-1.0.x-merge' into 1.0.x-branch\n\ncommit fea32460e28b89d9faf80c6ea1272c79b493e337\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-12T14:15:50Z\n\n    STORM-2283: CHANGELOG\n\ncommit c8828922d7d95a7b474bacf7278a2b4150e6288b\nAuthor: Raghav Kumar Gautam <raghav@...>\nDate:   2017-01-10T01:06:22Z\n\n    STORM-2268: Fix integration test for Travis CI build\n\ncommit 61ff7c396baf62f880bfaf6e7be30420ace0354f\nAuthor: Jungtaek Lim <kabhwan@...>\nDate:   2017-01-12T14:38:43Z\n\n    Merge branch 'STORM-2268-1.0.x-merge' into 1.0.x-branch\n\n----\n","created":"2018-07-06T08:15:12.151+0000","updated":"2018-07-06T08:15:12.151+0000","started":"2018-07-06T08:15:12.151+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"119746","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/119777","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2755\n  \n    @aniketalhat I think you are targeting the wrong branch. You should target the branch you started working on (e.g. 1.x-branch).\r\n    \r\n    We can review 1.x first, but we'll also need a PR against master at some point before we can merge this.\n","created":"2018-07-06T09:43:04.462+0000","updated":"2018-07-06T09:43:04.462+0000","started":"2018-07-06T09:43:04.461+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"119777","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/119779","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2755\n  \n    I guess this should target 1.0.x-branch, going by the listed commits.\n","created":"2018-07-06T09:43:53.324+0000","updated":"2018-07-06T09:43:53.324+0000","started":"2018-07-06T09:43:53.323+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"119779","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120190","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user aniketalhat commented on the issue:\n\n    https://github.com/apache/storm/pull/2755\n  \n    @srdo I checked out my branch from master, I changed the target and we have conflicts, obviously. Do you recommend checking out from 1.x ?\n","created":"2018-07-07T04:22:13.943+0000","updated":"2018-07-07T04:22:13.943+0000","started":"2018-07-07T04:22:13.942+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120190","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user aniketalhat commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2755#discussion_r200802071\n  \n    --- Diff: external/storm-kafka/src/jvm/org/apache/storm/kafka/DynamicPartitionConnections.java ---\n    @@ -57,6 +57,7 @@ public SimpleConsumer register(Partition partition) {\n     \n         public SimpleConsumer register(Broker host, String topic, int partition) {\n             if (!_connections.containsKey(host)) {\n    +            \n    --- End diff --\n    \n    Not sure what happen here\n","created":"2018-07-07T04:25:42.875+0000","updated":"2018-07-07T04:25:42.875+0000","started":"2018-07-07T04:25:42.874+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120191","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2755#discussion_r200803791\n  \n    --- Diff: external/storm-kafka-client/src/test/java/org/apache/storm/kafka/spout/NamedTopicFilterTest.java ---\n    @@ -63,6 +63,20 @@ public void testFilter() {\n                 \n         }\n         \n    +    @Test\n    +    public void testAbsentTopic() {\n    +        String presentTopic = \"present\";\n    +        String absentTopic = \"absent\";\n    +        \n    +        NamedTopicFilter filter = new NamedTopicFilter(presentTopic, absentTopic);\n    +        when(consumerMock.partitionsFor(presentTopic)).thenReturn(Collections.singletonList(createPartitionInfo(presentTopic, 2)));\n    +        when(consumerMock.partitionsFor(absentTopic)).thenReturn(null);\n    +        \n    +        List<TopicPartition> presentPartitions = filter.getFilteredTopicPartitions(consumerMock);\n    +        assertThat(\"Expected filter to pass only topics which are present\", presentPartitions,\n    +            containsInAnyOrder(new TopicPartition(presentTopic, 2)));\n    --- End diff --\n    \n    Nit: When there is only one entry, you don't have to specify \"in any order\" :)\n","created":"2018-07-07T06:07:49.601+0000","updated":"2018-07-07T06:07:49.601+0000","started":"2018-07-07T06:07:49.600+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120197","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2755#discussion_r200803766\n  \n    --- Diff: external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/NamedTopicFilter.java ---\n    @@ -54,8 +57,12 @@ public NamedTopicFilter(String... topics) {\n         public List<TopicPartition> getFilteredTopicPartitions(KafkaConsumer<?, ?> consumer) {\n             List<TopicPartition> allPartitions = new ArrayList<>();\n             for (String topic : topics) {\n    -            for (PartitionInfo partitionInfo: consumer.partitionsFor(topic)) {\n    -                allPartitions.add(new TopicPartition(partitionInfo.topic(), partitionInfo.partition()));\n    +            if(consumer.partitionsFor(topic) != null) {\n    --- End diff --\n    \n    I think it would be better to put the result of partitionsFor in a variable, rather than asking for it twice\n","created":"2018-07-07T06:07:49.603+0000","updated":"2018-07-07T06:07:49.603+0000","started":"2018-07-07T06:07:49.602+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120198","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2755#discussion_r200803795\n  \n    --- Diff: external/storm-kafka/src/jvm/org/apache/storm/kafka/DynamicPartitionConnections.java ---\n    @@ -57,6 +57,7 @@ public SimpleConsumer register(Partition partition) {\n     \n         public SimpleConsumer register(Broker host, String topic, int partition) {\n             if (!_connections.containsKey(host)) {\n    +            \n    --- End diff --\n    \n    Me neither. You can just revert the file and this change should go away.\n","created":"2018-07-07T06:07:49.607+0000","updated":"2018-07-07T06:07:49.607+0000","started":"2018-07-07T06:07:49.607+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120199","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120544","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user aniketalhat commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2755#discussion_r200866147\n  \n    --- Diff: external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/NamedTopicFilter.java ---\n    @@ -54,8 +57,12 @@ public NamedTopicFilter(String... topics) {\n         public List<TopicPartition> getFilteredTopicPartitions(KafkaConsumer<?, ?> consumer) {\n             List<TopicPartition> allPartitions = new ArrayList<>();\n             for (String topic : topics) {\n    -            for (PartitionInfo partitionInfo: consumer.partitionsFor(topic)) {\n    -                allPartitions.add(new TopicPartition(partitionInfo.topic(), partitionInfo.partition()));\n    +            if(consumer.partitionsFor(topic) != null) {\n    --- End diff --\n    \n    @srdo I thought JIT will inline it but sure \n","created":"2018-07-09T02:00:44.015+0000","updated":"2018-07-09T02:00:44.015+0000","started":"2018-07-09T02:00:44.014+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120544","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2755\n  \n    While this PR is based on 1.0.x-branch since the branch is baed on that branch, I guess we wouldn't want to maintain 1.0.x-branch any more. We would be better to cherry pick squashed commit into active version lines other than merging this PR itself.\n","created":"2018-07-09T09:09:44.010+0000","updated":"2018-07-09T09:09:44.010+0000","started":"2018-07-09T09:09:44.010+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120684","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120704","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2755#discussion_r200959509\n  \n    --- Diff: external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/NamedTopicFilter.java ---\n    @@ -54,8 +57,12 @@ public NamedTopicFilter(String... topics) {\n         public List<TopicPartition> getFilteredTopicPartitions(KafkaConsumer<?, ?> consumer) {\n             List<TopicPartition> allPartitions = new ArrayList<>();\n             for (String topic : topics) {\n    -            for (PartitionInfo partitionInfo: consumer.partitionsFor(topic)) {\n    -                allPartitions.add(new TopicPartition(partitionInfo.topic(), partitionInfo.partition()));\n    +            if(consumer.partitionsFor(topic) != null) {\n    --- End diff --\n    \n    Whether it inlines the method or not, the code is still executed twice. Besides, extracting to a variable means we don't have to worry about stuff like someone making a change to one call and not another, and it makes the code less noisy.\n","created":"2018-07-09T10:50:20.060+0000","updated":"2018-07-09T10:50:20.060+0000","started":"2018-07-09T10:50:20.060+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120704","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/120706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2755\n  \n    Oops, yes. Jungtaek is right, I don't think we're working on 1.0.x anymore. The changes look good to me. +1. I'll try cherry-picking these changes to master, 1.x and 1.1.x in a bit.\n","created":"2018-07-09T10:56:33.588+0000","updated":"2018-07-09T10:56:33.588+0000","started":"2018-07-09T10:56:33.587+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"120706","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/121043","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2755\n  \n    @aniketalhat Thanks for the fix. I cherry picked the changes to master, 1.x and 1.1.x. Could you please close this PR, as the changes have been merged?\n","created":"2018-07-09T21:52:55.150+0000","updated":"2018-07-09T21:52:55.150+0000","started":"2018-07-09T21:52:55.149+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"121043","issueId":"13161504"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13161504/worklog/121177","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user aniketalhat closed the pull request at:\n\n    https://github.com/apache/storm/pull/2755\n","created":"2018-07-10T03:07:07.246+0000","updated":"2018-07-10T03:07:07.246+0000","started":"2018-07-10T03:07:07.245+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"121177","issueId":"13161504"}]},"customfield_12311820":"0|i3u2pz:"}}