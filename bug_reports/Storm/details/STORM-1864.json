{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12972607","self":"https://issues.apache.org/jira/rest/api/2/issue/12972607","key":"STORM-1864","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335747","id":"12335747","name":"1.0.2","archived":false,"released":true,"releaseDate":"2016-08-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-05-25T06:22:18.778+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jun 08 15:46:43 UTC 2016","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1203745951_*|*_3_*:*_1_*:*_28801_*|*_4_*:*_1_*:*_16771379_*|*_5_*:*_2_*:*_27167889","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-06-08T15:47:01.371+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1864/watchers","watchCount":4,"isWatching":false},"created":"2016-05-25T05:11:47.486+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":"STORM-1855","customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-07-14T10:03:36.628+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12327952","id":"12327952","name":"storm-hive","description":"Strom Hive Integration"}],"timeoriginalestimate":null,"description":null,"customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"StormSubmitter should show proper error messages for submitter hook invocation.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15299534","id":"15299534","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user satishd opened a pull request:\n\n    https://github.com/apache/storm/pull/1446\n\n    STORM-1864 StormSubmitter should throw respective exceptions and log respective errors forregistered submitter hook invocation\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/satishd/storm STORM-1864\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1446.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1446\n    \n----\ncommit a061d45f3ebe68a3e2f0265e9c606f86445c8f35\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-05-25T06:21:12Z\n\n    STORM-1864 StormSubmitter should throw respective exceptions and log respective errors forregistered submitter hook invocation.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T06:22:18.778+0000","updated":"2016-05-25T06:22:18.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15299555","id":"15299555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on the pull request:\n\n    https://github.com/apache/storm/pull/1446#issuecomment-221486787\n  \n    @arunmahadevan Can you please review this?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T06:42:04.597+0000","updated":"2016-05-25T06:42:04.597+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15299566","id":"15299566","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64522988\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/hooks/SubmitterHookException.java ---\n    @@ -0,0 +1,41 @@\n    +/*\n    + * Licensed to the Apache Software Foundation (ASF) under one\n    + * or more contributor license agreements.  See the NOTICE file\n    + * distributed with this work for additional information\n    + * regarding copyright ownership.  The ASF licenses this file\n    + * to you under the Apache License, Version 2.0 (the\n    + * \"License\"); you may not use this file except in compliance\n    + * with the License.  You may obtain a copy of the License at\n    + *\n    + * http://www.apache.org/licenses/LICENSE-2.0\n    + *\n    + * Unless required by applicable law or agreed to in writing,\n    + * software distributed under the License is distributed on an\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n    + * KIND, either express or implied.  See the License for the\n    + * specific language governing permissions and limitations\n    + * under the License.\n    + */\n    +package org.apache.storm.hooks;\n    +\n    +/**\n    + * This Exception is thrown when registered {@link org.apache.storm.ISubmitterHook} could not be initialized or invoked.\n    + */\n    +public class SubmitterHookException extends RuntimeException {\n    --- End diff --\n    \n    Maintaining backward compatibility is the main reason for this exception being _RuntimeException_\n    Added docs at the appropriate places for this usage.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T06:50:48.301+0000","updated":"2016-05-25T06:50:48.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15299573","id":"15299573","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user abhishekagarwal87 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64523789\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -223,48 +227,60 @@ public static void submitTopologyAs(String name, Map stormConf, StormTopology to\n                         // this is for backwards compatibility\n                         localNimbus.submitTopology(name, stormConf, topology);\n                     }\n    +                LOG.info(\"Finished submitting topology: \" +  name);\n                 } else {\n                     String serConf = JSONValue.toJSONString(stormConf);\n    -                NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser);\n                     if(topologyNameExists(conf, name, asUser)) {\n                         throw new RuntimeException(\"Topology with name `\" + name + \"` already exists on cluster\");\n                     }\n                     String jar = submitJarAs(conf, System.getProperty(\"storm.jar\"), progressListener, asUser);\n    -                try {\n    -                    LOG.info(\"Submitting topology \" +  name + \" in distributed mode with conf \" + serConf);\n    -                    if(opts!=null) {\n    +                try (NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser)) {\n    +                    LOG.info(\"Submitting topology \" + name + \" in distributed mode with conf \" + serConf);\n    +                    if (opts != null) {\n                             client.getClient().submitTopologyWithOpts(name, jar, serConf, topology, opts);\n                         } else {\n                             // this is for backwards compatibility\n                             client.getClient().submitTopology(name, jar, serConf, topology);\n                         }\n    -                } catch(InvalidTopologyException e) {\n    -                    LOG.warn(\"Topology submission exception: \"+e.get_msg());\n    +                    LOG.info(\"Finished submitting topology: \" + name);\n    +                } catch (InvalidTopologyException e) {\n    +                    LOG.warn(\"Topology submission exception: \" + e.get_msg());\n                         throw e;\n    -                } catch(AlreadyAliveException e) {\n    +                } catch (AlreadyAliveException e) {\n                         LOG.warn(\"Topology already alive exception\", e);\n                         throw e;\n    -                } finally {\n    -                    client.close();\n                     }\n                 }\n    -            LOG.info(\"Finished submitting topology: \" +  name);\n             } catch(TException e) {\n                 throw new RuntimeException(e);\n             }\n             invokeSubmitterHook(name, asUser, conf, topology);\n     \n         }\n     \n    +    /**\n    +     *\n    +     * @param name\n    +     * @param asUser\n    +     * @param stormConf\n    +     * @param topology\n    +     *\n    +     * @thorws SubmitterHookException This is thrown when any Exception occurs during initialization or invocation of registered {@link ISubmitterHook}\n    +     */\n         private static void invokeSubmitterHook(String name, String asUser, Map stormConf, StormTopology topology) {\n    +        String submissionNotifierClassName = null;\n             try {\n                 if (stormConf.containsKey(Config.STORM_TOPOLOGY_SUBMISSION_NOTIFIER_PLUGIN)) {\n    -                ISubmitterHook submitterHook = (ISubmitterHook) Class.forName(stormConf.get(Config.STORM_TOPOLOGY_SUBMISSION_NOTIFIER_PLUGIN).toString()).newInstance();\n    +                submissionNotifierClassName = stormConf.get(Config.STORM_TOPOLOGY_SUBMISSION_NOTIFIER_PLUGIN).toString();\n    +                LOG.info(\"Initializing the registered ISubmitterHook [{}]\", submissionNotifierClassName);\n    +                ISubmitterHook submitterHook = (ISubmitterHook) Class.forName(submissionNotifierClassName).newInstance();\n                     TopologyInfo topologyInfo = Utils.getTopologyInfo(name, asUser, stormConf);\n    +                LOG.info(\"Invoking the registered ISubmitterHook [{}]\", submissionNotifierClassName);\n                     submitterHook.notify(topologyInfo, stormConf, topology);\n                 }\n             } catch (Exception e) {\n    -            throw new RuntimeException(e);\n    +            LOG.warn(\"Error occurred in invoking submitter hook: \"+submissionNotifierClassName, e);\n    --- End diff --\n    \n    Minor. can use {} notation instead of concatenation. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T07:00:08.601+0000","updated":"2016-05-25T07:00:08.601+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15299593","id":"15299593","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user abhishekagarwal87 commented on the pull request:\n\n    https://github.com/apache/storm/pull/1446#issuecomment-221491488\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T07:11:10.361+0000","updated":"2016-05-25T07:11:10.361+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15300340","id":"15300340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on the pull request:\n\n    https://github.com/apache/storm/pull/1446#issuecomment-221629286\n  \n    @ptgoetz Can you please review this PR?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T16:22:49.504+0000","updated":"2016-05-25T16:22:49.504+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15300438","id":"15300438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64612709\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -223,48 +227,65 @@ public static void submitTopologyAs(String name, Map stormConf, StormTopology to\n                         // this is for backwards compatibility\n                         localNimbus.submitTopology(name, stormConf, topology);\n                     }\n    +                LOG.info(\"Finished submitting topology: \" +  name);\n                 } else {\n                     String serConf = JSONValue.toJSONString(stormConf);\n    -                NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser);\n                     if(topologyNameExists(conf, name, asUser)) {\n                         throw new RuntimeException(\"Topology with name `\" + name + \"` already exists on cluster\");\n                     }\n                     String jar = submitJarAs(conf, System.getProperty(\"storm.jar\"), progressListener, asUser);\n    -                try {\n    -                    LOG.info(\"Submitting topology \" +  name + \" in distributed mode with conf \" + serConf);\n    -                    if(opts!=null) {\n    +                try (NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser)) {\n    +                    LOG.info(\"Submitting topology \" + name + \" in distributed mode with conf \" + serConf);\n    +                    if (opts != null) {\n                             client.getClient().submitTopologyWithOpts(name, jar, serConf, topology, opts);\n                         } else {\n                             // this is for backwards compatibility\n                             client.getClient().submitTopology(name, jar, serConf, topology);\n                         }\n    -                } catch(InvalidTopologyException e) {\n    -                    LOG.warn(\"Topology submission exception: \"+e.get_msg());\n    +                    LOG.info(\"Finished submitting topology: \" + name);\n    +                } catch (InvalidTopologyException e) {\n    +                    LOG.warn(\"Topology submission exception: \" + e.get_msg());\n                         throw e;\n    -                } catch(AlreadyAliveException e) {\n    +                } catch (AlreadyAliveException e) {\n                         LOG.warn(\"Topology already alive exception\", e);\n                         throw e;\n    -                } finally {\n    -                    client.close();\n    --- End diff --\n    \n    Shouldn't we close the thrift client?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T17:08:52.274+0000","updated":"2016-05-25T17:08:52.274+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15300441","id":"15300441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64612906\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -223,48 +227,65 @@ public static void submitTopologyAs(String name, Map stormConf, StormTopology to\n                         // this is for backwards compatibility\n                         localNimbus.submitTopology(name, stormConf, topology);\n                     }\n    +                LOG.info(\"Finished submitting topology: \" +  name);\n                 } else {\n                     String serConf = JSONValue.toJSONString(stormConf);\n    -                NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser);\n                     if(topologyNameExists(conf, name, asUser)) {\n                         throw new RuntimeException(\"Topology with name `\" + name + \"` already exists on cluster\");\n                     }\n                     String jar = submitJarAs(conf, System.getProperty(\"storm.jar\"), progressListener, asUser);\n    -                try {\n    -                    LOG.info(\"Submitting topology \" +  name + \" in distributed mode with conf \" + serConf);\n    -                    if(opts!=null) {\n    +                try (NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser)) {\n    +                    LOG.info(\"Submitting topology \" + name + \" in distributed mode with conf \" + serConf);\n    +                    if (opts != null) {\n                             client.getClient().submitTopologyWithOpts(name, jar, serConf, topology, opts);\n                         } else {\n                             // this is for backwards compatibility\n                             client.getClient().submitTopology(name, jar, serConf, topology);\n                         }\n    -                } catch(InvalidTopologyException e) {\n    -                    LOG.warn(\"Topology submission exception: \"+e.get_msg());\n    +                    LOG.info(\"Finished submitting topology: \" + name);\n    +                } catch (InvalidTopologyException e) {\n    +                    LOG.warn(\"Topology submission exception: \" + e.get_msg());\n                         throw e;\n    -                } catch(AlreadyAliveException e) {\n    +                } catch (AlreadyAliveException e) {\n                         LOG.warn(\"Topology already alive exception\", e);\n                         throw e;\n    -                } finally {\n    -                    client.close();\n                     }\n                 }\n    -            LOG.info(\"Finished submitting topology: \" +  name);\n    --- End diff --\n    \n    Shouldn't this just be moved up rather than deleted?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T17:10:16.381+0000","updated":"2016-05-25T17:10:16.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15300484","id":"15300484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user abhishekagarwal87 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64617209\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -223,48 +227,65 @@ public static void submitTopologyAs(String name, Map stormConf, StormTopology to\n                         // this is for backwards compatibility\n                         localNimbus.submitTopology(name, stormConf, topology);\n                     }\n    +                LOG.info(\"Finished submitting topology: \" +  name);\n                 } else {\n                     String serConf = JSONValue.toJSONString(stormConf);\n    -                NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser);\n                     if(topologyNameExists(conf, name, asUser)) {\n                         throw new RuntimeException(\"Topology with name `\" + name + \"` already exists on cluster\");\n                     }\n                     String jar = submitJarAs(conf, System.getProperty(\"storm.jar\"), progressListener, asUser);\n    -                try {\n    -                    LOG.info(\"Submitting topology \" +  name + \" in distributed mode with conf \" + serConf);\n    -                    if(opts!=null) {\n    +                try (NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser)) {\n    +                    LOG.info(\"Submitting topology \" + name + \" in distributed mode with conf \" + serConf);\n    +                    if (opts != null) {\n                             client.getClient().submitTopologyWithOpts(name, jar, serConf, topology, opts);\n                         } else {\n                             // this is for backwards compatibility\n                             client.getClient().submitTopology(name, jar, serConf, topology);\n                         }\n    -                } catch(InvalidTopologyException e) {\n    -                    LOG.warn(\"Topology submission exception: \"+e.get_msg());\n    +                    LOG.info(\"Finished submitting topology: \" + name);\n    +                } catch (InvalidTopologyException e) {\n    +                    LOG.warn(\"Topology submission exception: \" + e.get_msg());\n                         throw e;\n    -                } catch(AlreadyAliveException e) {\n    +                } catch (AlreadyAliveException e) {\n                         LOG.warn(\"Topology already alive exception\", e);\n                         throw e;\n    -                } finally {\n    -                    client.close();\n    --- End diff --\n    \n    It is created inside try-with-resource statement  and will be closed automatically.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T17:34:49.611+0000","updated":"2016-05-25T17:34:49.611+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15300487","id":"15300487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user abhishekagarwal87 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64617620\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -223,48 +227,65 @@ public static void submitTopologyAs(String name, Map stormConf, StormTopology to\n                         // this is for backwards compatibility\n                         localNimbus.submitTopology(name, stormConf, topology);\n                     }\n    +                LOG.info(\"Finished submitting topology: \" +  name);\n                 } else {\n                     String serConf = JSONValue.toJSONString(stormConf);\n    -                NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser);\n                     if(topologyNameExists(conf, name, asUser)) {\n                         throw new RuntimeException(\"Topology with name `\" + name + \"` already exists on cluster\");\n                     }\n                     String jar = submitJarAs(conf, System.getProperty(\"storm.jar\"), progressListener, asUser);\n    -                try {\n    -                    LOG.info(\"Submitting topology \" +  name + \" in distributed mode with conf \" + serConf);\n    -                    if(opts!=null) {\n    +                try (NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser)) {\n    +                    LOG.info(\"Submitting topology \" + name + \" in distributed mode with conf \" + serConf);\n    +                    if (opts != null) {\n                             client.getClient().submitTopologyWithOpts(name, jar, serConf, topology, opts);\n                         } else {\n                             // this is for backwards compatibility\n                             client.getClient().submitTopology(name, jar, serConf, topology);\n                         }\n    -                } catch(InvalidTopologyException e) {\n    -                    LOG.warn(\"Topology submission exception: \"+e.get_msg());\n    +                    LOG.info(\"Finished submitting topology: \" + name);\n    --- End diff --\n    \n    This statement seems to be misplaced. Missed it before\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T17:37:04.271+0000","updated":"2016-05-25T17:37:04.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15300520","id":"15300520","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1446#discussion_r64620395\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -223,48 +227,65 @@ public static void submitTopologyAs(String name, Map stormConf, StormTopology to\n                         // this is for backwards compatibility\n                         localNimbus.submitTopology(name, stormConf, topology);\n                     }\n    +                LOG.info(\"Finished submitting topology: \" +  name);\n                 } else {\n                     String serConf = JSONValue.toJSONString(stormConf);\n    -                NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser);\n                     if(topologyNameExists(conf, name, asUser)) {\n                         throw new RuntimeException(\"Topology with name `\" + name + \"` already exists on cluster\");\n                     }\n                     String jar = submitJarAs(conf, System.getProperty(\"storm.jar\"), progressListener, asUser);\n    -                try {\n    -                    LOG.info(\"Submitting topology \" +  name + \" in distributed mode with conf \" + serConf);\n    -                    if(opts!=null) {\n    +                try (NimbusClient client = NimbusClient.getConfiguredClientAs(conf, asUser)) {\n    +                    LOG.info(\"Submitting topology \" + name + \" in distributed mode with conf \" + serConf);\n    +                    if (opts != null) {\n                             client.getClient().submitTopologyWithOpts(name, jar, serConf, topology, opts);\n                         } else {\n                             // this is for backwards compatibility\n                             client.getClient().submitTopology(name, jar, serConf, topology);\n                         }\n    -                } catch(InvalidTopologyException e) {\n    -                    LOG.warn(\"Topology submission exception: \"+e.get_msg());\n    +                    LOG.info(\"Finished submitting topology: \" + name);\n    +                } catch (InvalidTopologyException e) {\n    +                    LOG.warn(\"Topology submission exception: \" + e.get_msg());\n                         throw e;\n    -                } catch(AlreadyAliveException e) {\n    +                } catch (AlreadyAliveException e) {\n                         LOG.warn(\"Topology already alive exception\", e);\n                         throw e;\n    -                } finally {\n    -                    client.close();\n                     }\n                 }\n    -            LOG.info(\"Finished submitting topology: \" +  name);\n    --- End diff --\n    \n    Right, this is already moved to Line no:245. This message should be there before any error is thrown in closing thrift client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-25T17:52:55.807+0000","updated":"2016-05-25T17:52:55.807+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15301345","id":"15301345","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/storm/pull/1446#issuecomment-221764594\n  \n    +1 Thanks for the clarification @satishd!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-26T02:52:28.767+0000","updated":"2016-05-26T02:52:28.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15310094","id":"15310094","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on the pull request:\n\n    https://github.com/apache/storm/pull/1446\n  \n    @ptgoetz @harshach Comments/Clarifications are addressed. Can you merge this PR?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-01T10:31:40.845+0000","updated":"2016-06-01T10:31:40.845+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317676","id":"15317676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1446\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T02:12:36.562+0000","updated":"2016-06-07T02:12:36.562+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317724","id":"15317724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1446\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T02:57:44.239+0000","updated":"2016-06-07T02:57:44.239+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317728","id":"15317728","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1446\n  \n    @satishd merged into master but getting following error on 1.x-branch\n    [ERROR] COMPILATION ERROR : \n    [INFO] -------------------------------------------------------------\n    [ERROR] /Users/harsha/code/apache/storm/storm-core/src/jvm/org/apache/storm/StormSubmitter.java:[237,35] incompatible types: try-with-resources not applicable to variable type\n        (org.apache.storm.utils.NimbusClient cannot be converted to java.lang.AutoCloseable)\n    [INFO] 1 error\n    [INFO] -------------------------------------------------------------\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time: 9.033 s\n    [INFO] Finished at: 2016-06-06T20:00:00-07:00\n    [INFO] Final Memory: 43M/927M\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project storm-core: Compilation failure\n    [ERROR] /Users/harsha/code/apache/storm/storm-core/src/jvm/org/apache/storm/StormSubmitter.java:[237,35] incompatible types: try-with-resources not applicable to variable type\n    [ERROR] (org.apache.storm.utils.NimbusClient cannot be converted to java.lang.AutoCloseable)\n    [ERROR] -> [Help 1]\n    [ERROR] \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T03:01:04.297+0000","updated":"2016-06-07T03:01:04.297+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317836","id":"15317836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user satishd opened a pull request:\n\n    https://github.com/apache/storm/pull/1469\n\n    STORM-1864 : StormSubmitter should throw respective exceptions and log respective errors forregistered submitter hook invocation\n\n    Cherry picked form master #1446 and made relevant changes for this branch.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/satishd/storm STORM-1864-1.x\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1469.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1469\n    \n----\ncommit 6d51bb831af4c57deed901cf7dd59ee99d1a740f\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-05-25T06:21:12Z\n\n    STORM-1864 StormSubmitter should throw respective exceptions and log respective errors forregistered submitter hook invocation.\n\ncommit 051b9086ca9ce16f57fb20a6f3e9e102c740bbb2\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-05-25T07:05:26Z\n\n    STORM-1864 log messages with format\n\ncommit fc404b595da2bf7199d29b9d06b9452ff17ad0be\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-06-07T04:42:10Z\n\n    STORM-1864 Removed NimbusClient in try-resource-as clause as it is not autocloseable\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T04:44:36.681+0000","updated":"2016-06-07T04:44:36.681+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317837","id":"15317837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on the issue:\n\n    https://github.com/apache/storm/pull/1446\n  \n    @harshach Thanks for merging into master. `NimbusClient` is not auto closeable in 1.x branch. Raised #1469, Can you merge that?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T04:46:11.052+0000","updated":"2016-06-07T04:46:11.052+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317838","id":"15317838","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on the issue:\n\n    https://github.com/apache/storm/pull/1469\n  \n    @harshach Can you merge this PR?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T04:46:42.367+0000","updated":"2016-06-07T04:46:42.367+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317861","id":"15317861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1469\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T05:08:22.155+0000","updated":"2016-06-07T05:08:22.155+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15317864","id":"15317864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1469\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-07T05:13:30.136+0000","updated":"2016-06-07T05:13:30.136+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15319230","id":"15319230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"body":"This should be applied to the 1.0.x-branch as well if it is to be included in the 1.0.2 release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"created":"2016-06-07T19:50:09.174+0000","updated":"2016-06-07T19:50:09.174+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15320073","id":"15320073","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user satishd opened a pull request:\n\n    https://github.com/apache/storm/pull/1473\n\n    STORM-1864 : StormSubmitter should throw respective exceptions and log respective errors for registered submitter hook invocation \n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/satishd/storm STORM-1864-1.0.x\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1473.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1473\n    \n----\ncommit 8c3e21e5ea0687ee0c398203a640b084fcc6b38e\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-05-25T06:21:12Z\n\n    STORM-1864 StormSubmitter should throw respective exceptions and log respective errors forregistered submitter hook invocation.\n\ncommit a5620b6ac0f78c8c82d231bb82bf38b51e7a3abc\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-05-25T07:05:26Z\n\n    STORM-1864 log messages with format\n\ncommit e522615df1db589f05e5171f77c26869207576c5\nAuthor: Satish Duggana <sduggana@hortonworks.com>\nDate:   2016-06-07T04:42:10Z\n\n    STORM-1864 Removed NimbusClient in try-resource-as clause as it is not autocloseable\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-08T06:15:17.458+0000","updated":"2016-06-08T06:15:17.458+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15320075","id":"15320075","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user satishd commented on the issue:\n\n    https://github.com/apache/storm/pull/1473\n  \n    @ptgoetz Pl merge this PR. This is already merged in master and 1.x-branch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-08T06:16:09.881+0000","updated":"2016-06-08T06:16:09.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15320078","id":"15320078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"body":"[~ptgoetz] https://github.com/apache/storm/pull/1473 is raised against 1.0.x branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-06-08T06:17:05.552+0000","updated":"2016-06-08T06:17:05.552+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15320383","id":"15320383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"body":"Reopened for getting this fix into 1.0.x branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=satish.duggana","name":"satish.duggana","key":"satish.duggana","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satish Duggana","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-06-08T11:08:01.210+0000","updated":"2016-06-08T11:08:01.210+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15320771","id":"15320771","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the issue:\n\n    https://github.com/apache/storm/pull/1473\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-08T15:43:34.756+0000","updated":"2016-06-08T15:43:34.756+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972607/comment/15320781","id":"15320781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1473\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-08T15:46:43.168+0000","updated":"2016-06-08T15:46:43.168+0000"}],"maxResults":28,"total":28,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1864/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2ygmv:"}}