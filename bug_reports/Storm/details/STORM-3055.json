{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13156499","self":"https://issues.apache.org/jira/rest/api/2/issue/13156499","key":"STORM-3055","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":12000,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342767","id":"12342767","name":"1.1.3","archived":false,"released":true,"releaseDate":"2018-06-04"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343340","id":"12343340","name":"1.2.3","archived":false,"released":false}],"aggregatetimespent":12000,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-05-31T18:57:35.417+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu May 31 19:10:44 UTC 2018","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1168029160_*|*_3_*:*_1_*:*_1394089962_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2018-05-31T19:10:44.300+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3055/watchers","watchCount":2,"isWatching":false},"created":"2018-05-02T03:28:45.336+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12339656","id":"12339656","name":"1.1.1","archived":false,"released":true,"releaseDate":"2017-08-01"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-05-31T19:10:44.352+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12332475","id":"12332475","name":"storm-client"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"in our enviroment some worker's connection to other worker being closed and never reconnect,\r\n\r\nthe log show's that \r\n\r\n2018-05-02 10:28:49.302 o.a.s.m.n.Client Thread-90-disruptor-worker-transfer-queue [ERROR] discarding 1 messages because the Netty client to Netty-Client-/192.168.31.1:6800 is being closed\r\n\r\n......\r\n2018-05-02 11:00:29.540 o.a.s.m.n.Client Thread-90-disruptor-worker-transfer-queue [ERROR] discarding 1 messages because the Netty client to Netty-Client-/192.168.31.1:6800 is being closed\r\n\r\nthe log shows that it never can reconnect again. i can only fix it after restart the topo, ","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"3h 20m","remainingEstimateSeconds":0,"timeSpentSeconds":12000},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"never refresh connection","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":12000,"total":12000,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":12000,"total":12000,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/comment/16463945","id":"16463945","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"body":"thr problem is caused by context's connection cache.\r\nfor example supervisor with id 'a' restart with local version store corrupt , then it will generate an other id 'b' (as an example).\r\nwhen 'b' is up, then nimbus will assign some task on 'b', if old assignment is [a:6700, c:6700],  the new assignment is [b:6700, c:6700]\r\n then task c:6700 will first connect [b:6700] then close and remove connection [a:6700],  \r\nsince a, b is the same ip so b:6700 will share connection a:6700. but the same connection will close by remove ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"created":"2018-05-04T14:27:25.069+0000","updated":"2018-05-04T14:27:25.069+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/comment/16470428","id":"16470428","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"body":"this problem can be reproduced by:\r\nfirst set up 2 two supervisor (name a, b), each with one slot, and submit a topology with network traffic between two works.\r\nthen the kill one supervisor (name a), remove the local state with the supervisor.  and kill work supervisored by a. then restart supervisor a\r\nby follow this you can see worker on b print error log.\r\n(remove the local state is to simulate localState corruption, which happens on our production environment)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pczb","name":"pczb","key":"pczb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhangbiao","active":true,"timeZone":"Asia/Brunei"},"created":"2018-05-10T14:13:40.257+0000","updated":"2018-05-10T14:13:40.257+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/comment/16497015","id":"16497015","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ethanli","name":"ethanli","key":"ethanli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ethanli&avatarId=32192","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ethanli&avatarId=32192","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ethanli&avatarId=32192","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ethanli&avatarId=32192"},"displayName":"Ethan Li","active":true,"timeZone":"America/Chicago"},"body":"Thanks for the hard work. It looks like this will fix STORM-1560 STORM-2108 STORM-2596","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ethanli","name":"ethanli","key":"ethanli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ethanli&avatarId=32192","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ethanli&avatarId=32192","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ethanli&avatarId=32192","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ethanli&avatarId=32192"},"displayName":"Ethan Li","active":true,"timeZone":"America/Chicago"},"created":"2018-05-31T18:57:35.417+0000","updated":"2018-05-31T18:57:35.417+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/comment/16497028","id":"16497028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"Thanks I merged this into master, 1.x and 1.1.x.  It didn't apply cleanly to 1.0.x but I don't think that line is supported any more.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2018-05-31T19:10:44.344+0000","updated":"2018-05-31T19:10:44.344+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3055/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":20,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/98656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user pczb opened a pull request:\n\n    https://github.com/apache/storm/pull/2661\n\n    [STORM-3055] remove conext connection cache\n\n    worker has already cache connection use supervisor_id + port\r\n    and if context and worker both cache the can be some problem describe in jira\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/pczb/storm fix\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2661.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2661\n    \n----\ncommit 1167cf8dac670ab31f6159a68005cc65f393ddc1\nAuthor: pczb <pczb@...>\nDate:   2018-05-05T02:59:56Z\n\n    remove conext connection cache\n\n----\n","created":"2018-05-05T03:49:38.135+0000","updated":"2018-05-05T03:49:38.135+0000","started":"2018-05-05T03:49:38.134+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"98656","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/100432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user pczb opened a pull request:\n\n    https://github.com/apache/storm/pull/2669\n\n    [STORM-3055] remove conext connection cache\n\n    workerState has already cache connection use supervisor_id + port\r\n    and if context and worker both cache connection, there can be some problem describe in jira\r\n    jira link: https://issues.apache.org/jira/browse/STORM-3055\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/pczb/storm dev\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2669.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2669\n    \n----\ncommit 62f66cd3f1e39953391f36e2b01197a6bade4e5c\nAuthor: pczb <pczb@...>\nDate:   2018-05-09T17:41:18Z\n\n    remove context connection\n    \n    Signed-off-by: pczb <pczb@163.com>\n\n----\n","created":"2018-05-10T06:31:10.235+0000","updated":"2018-05-10T06:31:10.235+0000","started":"2018-05-10T06:31:10.235+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"100432","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/101132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user pczb commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    @revans2 could you help review this, i see your pull request #2436 is related to connection cache . and the travis fail is not related to this pr.\n","created":"2018-05-11T14:08:45.442+0000","updated":"2018-05-11T14:08:45.442+0000","started":"2018-05-11T14:08:45.441+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"101132","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/101825","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    The original code added this so when shutting down the context we could be sure that all ongoing connections were also terminated as cleanly as possible.  After this change that is only true for the server side and not the client side.\r\n    \r\n    What are the ramifications of that?  I think it was just defensive programming so it is probably fine to make this change from that perspective, but I would to make sure that my understanding of the problem matches yours.\r\n    \r\n    From the comments in STORM-3055 the error appears to be triggered when a supervisor is shut down, wiped clean (so it gets a new supervisor id), and then brought back up.  At that point nimbus schedules the worker on the same node/slot as before, but with a new supervisor ID.  This confuses the connection caching because when updating the connections it gets a list of connections to shut down and a separate list of connections to create.  The new connections are created, but in this case a new one is not created because we already have it open.  Then the old unneeded connections are torn down, but in this case the connection is needed.\r\n    \r\n    Looking at the javadocs for IContext. It looks like the caching really does violate the spec, but it is a bit of a gray area.\r\n    \r\n    https://github.com/apache/storm/blob/53f38bc31f2fd315a520ba6b86c0a60be08381cc/storm-client/src/jvm/org/apache/storm/messaging/IContext.java#L48-L57\r\n    \r\n    I am fine with removing the caching like this JIRA does, but I do want to see the code cleaned up, because without the caching there is a lot of extra code that can be removed.\n","created":"2018-05-14T18:36:09.522+0000","updated":"2018-05-14T18:36:09.522+0000","started":"2018-05-14T18:36:09.521+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"101825","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/101827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2669#discussion_r188055495\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -451,7 +451,6 @@ public int getPort() {\n         public void close() {\n             if (!closing) {\n                 LOG.info(\"closing Netty Client {}\", dstAddressPrefixedName);\n    -            context.removeClient(dstHost, dstAddress.getPort());\n    --- End diff --\n    \n    This line is the only reason to pass context into the Client.  Please remove all references to context if we are going to remove this.\n","created":"2018-05-14T18:39:57.134+0000","updated":"2018-05-14T18:39:57.134+0000","started":"2018-05-14T18:39:57.133+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"101827","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/101828","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2669#discussion_r188055726\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/messaging/netty/Context.java ---\n    @@ -65,20 +65,8 @@ public synchronized IConnection bind(String storm_id, int port) {\n          * establish a connection to a remote server\n          */\n         public synchronized IConnection connect(String storm_id, String host, int port, AtomicBoolean[] remoteBpStatus) {\n    --- End diff --\n    \n    This no longer needs to be synchronized.  That was used to protect connections, and is no longer needed if all we do is create a new Client.\n","created":"2018-05-14T18:39:57.145+0000","updated":"2018-05-14T18:39:57.145+0000","started":"2018-05-14T18:39:57.145+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"101828","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/101829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2669#discussion_r188056330\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/messaging/netty/Context.java ---\n    @@ -65,20 +65,8 @@ public synchronized IConnection bind(String storm_id, int port) {\n          * establish a connection to a remote server\n          */\n         public synchronized IConnection connect(String storm_id, String host, int port, AtomicBoolean[] remoteBpStatus) {\n    -        IConnection connection = connections.get(key(host, port));\n    --- End diff --\n    \n    Please rename connections to `serverConnections` as it is only for Servers now.  Also it would be nice to change it back to a list or a set instead of a map, because we will no longer be using it as a cache, so we don't need to pull out a specific value any longer.  We just want it so we can close them on termination.\n","created":"2018-05-14T18:39:57.172+0000","updated":"2018-05-14T18:39:57.172+0000","started":"2018-05-14T18:39:57.171+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"101829","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/101830","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2661\n  \n    @pczb I have the same comments that I put on the master branch version of the pull request.\n","created":"2018-05-14T18:41:23.730+0000","updated":"2018-05-14T18:41:23.730+0000","started":"2018-05-14T18:41:23.729+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"101830","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    As far as I can tell all connections are still being shut down with this change. The connections cached by WorkerState are closed during worker shutdown in https://github.com/apache/storm/blob/14b0b4fc5e0945456769fd58a3595188e3dea234/storm-client/src/jvm/org/apache/storm/daemon/worker/Worker.java#L449, and the context is shut down a few lines further down. \r\n    \r\n    The WorkerState.refreshConnections method also makes sure to never create a connection for a NodeInfo that is already present, so I don't think we're leaking connections there that would need to be picked up by context.term. \r\n    \r\n    Would like to see the cleanup @revans2 mentioned, as well as a change in the IContext docs so it's specified that the created connections are new.\n","created":"2018-05-15T15:54:06.717+0000","updated":"2018-05-15T15:54:06.717+0000","started":"2018-05-15T15:54:06.716+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102170","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user pczb commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2669#discussion_r188355473\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -451,7 +451,6 @@ public int getPort() {\n         public void close() {\n             if (!closing) {\n                 LOG.info(\"closing Netty Client {}\", dstAddressPrefixedName);\n    -            context.removeClient(dstHost, dstAddress.getPort());\n    --- End diff --\n    \n    done\n","created":"2018-05-15T16:36:34.758+0000","updated":"2018-05-15T16:36:34.758+0000","started":"2018-05-15T16:36:34.758+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102198","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102201","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user pczb commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    @srdo add doc specification, i was wonder if we need remove synchronized when bind port\r\n    @revans2  just as srdo says the connection will be closed by the worker before worker shutdown.\r\n    i will squash all commit after review\n","created":"2018-05-15T16:42:44.731+0000","updated":"2018-05-15T16:42:44.731+0000","started":"2018-05-15T16:42:44.731+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102201","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2669#discussion_r188377925\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/messaging/IContext.java ---\n    @@ -38,6 +38,7 @@\n     \n         /**\n          * This method establishes a server side connection\n    +     * implementation should return a new connection every call\n    --- End diff --\n    \n    Bind doesn't always return a new connection, the local Context will return a cached one if possible. Consider changing to something like \"This method returns a server side connection. If one does not exist for the given ID and port, a new one will be established.\"\n","created":"2018-05-15T17:53:59.236+0000","updated":"2018-05-15T17:53:59.236+0000","started":"2018-05-15T17:53:59.236+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102223","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user pczb commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2669#discussion_r188666612\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/messaging/IContext.java ---\n    @@ -38,6 +38,7 @@\n     \n         /**\n          * This method establishes a server side connection\n    +     * implementation should return a new connection every call\n    --- End diff --\n    \n    remove bind specification,  since the new and old netty context never cache server connections, server connections is add to array or map just for cleanup \n","created":"2018-05-16T15:21:18.195+0000","updated":"2018-05-16T15:21:18.195+0000","started":"2018-05-16T15:21:18.194+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102512","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102574","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    LGTM, thanks for addressing comments\n","created":"2018-05-16T18:02:50.528+0000","updated":"2018-05-16T18:02:50.528+0000","started":"2018-05-16T18:02:50.528+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102574","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102966","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    Once you make the corresponding changes on #2661 I would be happy to merge them both in.\n","created":"2018-05-17T16:13:49.733+0000","updated":"2018-05-17T16:13:49.733+0000","started":"2018-05-17T16:13:49.733+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102966","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/102976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user pczb commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    @srdo @revans2 thanks for your review, i just squash all commit in one\n","created":"2018-05-17T16:37:52.940+0000","updated":"2018-05-17T16:37:52.940+0000","started":"2018-05-17T16:37:52.939+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"102976","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/103397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user pczb commented on the issue:\n\n    https://github.com/apache/storm/pull/2661\n  \n    port corresponding change #2669 to 1.1.x\n","created":"2018-05-18T14:57:07.430+0000","updated":"2018-05-18T14:57:07.430+0000","started":"2018-05-18T14:57:07.430+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"103397","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/107784","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2669\n  \n    Actually we just hit this in production so thanks again @pczb for finding and fixing this.\n","created":"2018-05-31T17:55:14.403+0000","updated":"2018-05-31T17:55:14.403+0000","started":"2018-05-31T17:55:14.403+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107784","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/107801","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2669\n","created":"2018-05-31T18:17:45.721+0000","updated":"2018-05-31T18:17:45.721+0000","started":"2018-05-31T18:17:45.720+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107801","issueId":"13156499"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13156499/worklog/107836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2661\n","created":"2018-05-31T19:08:51.860+0000","updated":"2018-05-31T19:08:51.860+0000","started":"2018-05-31T19:08:51.859+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107836","issueId":"13156499"}]},"customfield_12311820":"0|i3t8pr:"}}