{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12726198","self":"https://issues.apache.org/jira/rest/api/2/issue/12726198","key":"STORM-395","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327123","id":"12327123","description":"security feature branch","name":"0.10.0","archived":false,"released":true,"releaseDate":"2015-11-05"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-07-08T22:15:35.481+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jul 09 17:47:04 UTC 2014","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_70626021_*|*_5_*:*_1_*:*_0","customfield_12310420":"404305","customfield_12312321":null,"resolutiondate":"2014-07-09T17:46:31.743+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-395/watchers","watchCount":3,"isWatching":false},"created":"2014-07-08T22:09:25.789+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["security"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kishorvpatil","name":"kishorvpatil","key":"kishorvpatil","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kishor Patil","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-05T02:05:26.435+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"669  [main] INFO  backtype.storm.security.auth.AuthUtils - Got AutoCreds []\n847  [main] INFO  backtype.storm.StormSubmitter - Uploading topology jar /home/kpatil/storm-starter-0.0.1-SNAPSHOT-jar-with-dependencies.jar to assigned location: storm-local/nimbus/inbox/stormjar-3bf4f7e5-3f9d-487f-9daa-12d8f4202440.jar\nException in thread \"main\" java.lang.RuntimeException: org.apache.thrift7.transport.TTransportException\n\tat backtype.storm.StormSubmitter.submitJar(StormSubmitter.java:371)\n\tat backtype.storm.StormSubmitter.submitJar(StormSubmitter.java:315)\n\tat backtype.storm.StormSubmitter.submitTopology(StormSubmitter.java:215)\n\tat backtype.storm.StormSubmitter.submitTopology(StormSubmitter.java:157)\n\tat storm.starter.WordCountTopology.main(WordCountTopology.java:78)\nCaused by: org.apache.thrift7.transport.TTransportException\n\tat org.apache.thrift7.transport.TIOStreamTransport.read(TIOStreamTransport.java:132)\n\tat org.apache.thrift7.transport.TTransport.readAll(TTransport.java:84)\n\tat org.apache.thrift7.transport.TSaslTransport.readLength(TSaslTransport.java:345)\n\tat org.apache.thrift7.transport.TSaslTransport.readFrame(TSaslTransport.java:422)\n\tat org.apache.thrift7.transport.TSaslTransport.read(TSaslTransport.java:404)\n\tat org.apache.thrift7.transport.TSaslClientTransport.read(TSaslClientTransport.java:37)\n\tat org.apache.thrift7.transport.TTransport.readAll(TTransport.java:84)\n\tat org.apache.thrift7.protocol.TBinaryProtocol.readAll(TBinaryProtocol.java:378)\n\tat org.apache.thrift7.protocol.TBinaryProtocol.readI32(TBinaryProtocol.java:297)\n\tat org.apache.thrift7.protocol.TBinaryProtocol.readMessageBegin(TBinaryProtocol.java:204)\n\tat org.apache.thrift7.TServiceClient.receiveBase(TServiceClient.java:69)\n\tat backtype.storm.generated.Nimbus$Client.recv_uploadChunk(Nimbus.java:419)\n\tat backtype.storm.generated.Nimbus$Client.uploadChunk(Nimbus.java:405)\n\tat backtype.storm.StormSubmitter.submitJar(StormSubmitter.java:360)\n\t... 4 more\n\nAnd on nimbus side:\n2014-07-08 17:54:08 o.a.t.s.TThreadPoolServer [ERROR] Thrift error occurred during processing of message.\norg.apache.thrift7.TException: Message length exceeded: 307200\n\tat org.apache.thrift7.protocol.TBinaryProtocol.checkReadLength(TBinaryProtocol.java:393) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat org.apache.thrift7.protocol.TBinaryProtocol.readBinary(TBinaryProtocol.java:363) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat backtype.storm.generated.Nimbus$uploadChunk_args.read(Nimbus.java:9555) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat org.apache.thrift7.ProcessFunction.process(ProcessFunction.java:21) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat org.apache.thrift7.TBaseProcessor.process(TBaseProcessor.java:34) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat backtype.storm.security.auth.SaslTransportPlugin$TUGIWrapProcessor.process(SaslTransportPlugin.java:134) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat org.apache.thrift7.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176) ~[storm-core-0.9.2-incubating-security.jar:0.9.2-incubating-security]\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_60]\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_60]\n\tat java.lang.Thread.run(Thread.java:745) [na:1.7.0_60]\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"404345","customfield_12312823":null,"summary":"Using SaslTransportPlugin, fails to submit topology for jar file large than 3K","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kishorvpatil","name":"kishorvpatil","key":"kishorvpatil","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kishor Patil","active":true,"timeZone":"America/Chicago"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kishorvpatil","name":"kishorvpatil","key":"kishorvpatil","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kishor Patil","active":true,"timeZone":"America/Chicago"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726198/comment/14055603","id":"14055603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user kishorvpatil opened a pull request:\n\n    https://github.com/apache/incubator-storm/pull/180\n\n    [STORM-395] Use TBinaryProtocol without max buffer\n\n    For storm jar larger than 3K, the SaslTransportPlugin causes [THRIFT-1665]( https://issues.apache.org/jira/browse/THRIFT-1665) TBinaryProtocol: exceeded message length raises generic TException. This is fixed in thirft 0.9 version. Since we are using 0.7.0 Here is using TBinaryProtocol without max buffer size.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/kishorvpatil/incubator-storm thrift-buffersize-patch-security\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/incubator-storm/pull/180.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #180\n    \n----\ncommit ae5d0c312d170c883e9758767808e1c8d33f58c8\nAuthor: Kishor Patil <kpatil@yahoo-inc.com>\nDate:   2014-07-08T22:08:33Z\n\n    Use TBinaryProtocol without max buffer\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-08T22:15:35.481+0000","updated":"2014-07-08T22:15:35.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726198/comment/14056494","id":"14056494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the pull request:\n\n    https://github.com/apache/incubator-storm/pull/180#issuecomment-48507857\n  \n    +1 looks good to me.  I'll merge this into security.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-09T17:37:00.933+0000","updated":"2014-07-09T17:37:00.933+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726198/comment/14056507","id":"14056507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"Thanks Kishor for finding and fixing this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2014-07-09T17:46:31.784+0000","updated":"2014-07-09T17:46:31.784+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726198/comment/14056508","id":"14056508","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/incubator-storm/pull/180\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-09T17:47:04.131+0000","updated":"2014-07-09T17:47:04.131+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-395/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1xkz3:"}}