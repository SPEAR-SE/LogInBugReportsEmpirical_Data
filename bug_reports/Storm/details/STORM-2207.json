{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13021828","self":"https://issues.apache.org/jira/rest/api/2/issue/13021828","key":"STORM-2207","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2016-12-29T03:39:43.456+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 14 20:56:22 UTC 2017","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_20569475770_*|*_4_*:*_1_*:*_13244_*|*_5_*:*_2_*:*_3487412931","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2017-08-24T05:44:35.828+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2207/watchers","watchCount":9,"isWatching":false},"created":"2016-11-18T19:16:13.941+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335747","id":"12335747","name":"1.0.2","archived":false,"released":true,"releaseDate":"2016-08-10"}],"customfield_12312339":null,"issuelinks":[{"id":"12509263","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12509263","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"13006203","key":"STORM-2104","self":"https://issues.apache.org/jira/rest/api/2/issue/13006203","fields":{"summary":"New Kafka spout crashes if partitions are reassigned while tuples are in-flight","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-08-24T05:44:35.879+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12331080","id":"12331080","name":"storm-kafka-client"}],"timeoriginalestimate":null,"description":"This occurs on startup of the topology.  There should be some null check safeguards, but i'm not sure what's causing it to occur in the first place...my guess is  the topic partition is not found in the ack map.\n\n2016-11-17 23:11:05.366 o.a.s.util [ERROR] Async loop died!\njava.lang.RuntimeException: java.lang.NullPointerException\n    at org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:464) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.utils.DisruptorQueue.consumeBatchWhenAvailable(DisruptorQueue.java:430) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.utils.DisruptorQueue.consumeBatch(DisruptorQueue.java:420) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.disruptor$consume_batch.invoke(disruptor.clj:69) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$fn__7990$fn__8005$fn__8036.invoke(executor.clj:628) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.util$async_loop$fn__624.invoke(util.clj:484) [storm-core-1.0.2.jar:1.0.2]\n    at clojure.lang.AFn.run(AFn.java:22) [clojure-1.7.0.jar:?]\n    at java.lang.Thread.run(Thread.java:745) [?:1.8.0_91]\nCaused by: java.lang.NullPointerException\n    at org.apache.storm.kafka.spout.KafkaSpout.ack(KafkaSpout.java:316) ~[stormjar.jar:?]\n    at org.apache.storm.daemon.executor$ack_spout_msg.invoke(executor.clj:448) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$fn__7990$tuple_action_fn__7996.invoke(executor.clj:536) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$mk_task_receiver$fn__7979.invoke(executor.clj:464) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.disruptor$clojure_handler$reify__7492.onEvent(disruptor.clj:40) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:451) ~[storm-core-1.0.2.jar:1.0.2]\n    ... 7 more\n2016-11-17 23:11:05.379 o.a.s.d.executor [ERROR] \njava.lang.RuntimeException: java.lang.NullPointerException\n    at org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:464) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.utils.DisruptorQueue.consumeBatchWhenAvailable(DisruptorQueue.java:430) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.utils.DisruptorQueue.consumeBatch(DisruptorQueue.java:420) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.disruptor$consume_batch.invoke(disruptor.clj:69) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$fn__7990$fn__8005$fn__8036.invoke(executor.clj:628) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.util$async_loop$fn__624.invoke(util.clj:484) [storm-core-1.0.2.jar:1.0.2]\n    at clojure.lang.AFn.run(AFn.java:22) [clojure-1.7.0.jar:?]\n    at java.lang.Thread.run(Thread.java:745) [?:1.8.0_91]\nCaused by: java.lang.NullPointerException\n    at org.apache.storm.kafka.spout.KafkaSpout.ack(KafkaSpout.java:316) ~[stormjar.jar:?]\n    at org.apache.storm.daemon.executor$ack_spout_msg.invoke(executor.clj:448) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$fn__7990$tuple_action_fn__7996.invoke(executor.clj:536) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$mk_task_receiver$fn__7979.invoke(executor.clj:464) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.disruptor$clojure_handler$reify__7492.onEvent(disruptor.clj:40) ~[storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:451) ~[storm-core-1.0.2.jar:1.0.2]\n    ... 7 more\n2016-11-17 23:11:05.473 o.a.s.util [ERROR] Halting process: (\"Worker died\")\njava.lang.RuntimeException: (\"Worker died\")\n    at org.apache.storm.util$exit_process_BANG_.doInvoke(util.clj:341) [storm-core-1.0.2.jar:1.0.2]\n    at clojure.lang.RestFn.invoke(RestFn.java:423) [clojure-1.7.0.jar:?]\n    at org.apache.storm.daemon.worker$fn__8663$fn__8664.invoke(worker.clj:765) [storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.daemon.executor$mk_executor_data$fn__7875$fn__7876.invoke(executor.clj:274) [storm-core-1.0.2.jar:1.0.2]\n    at org.apache.storm.util$async_loop$fn__624.invoke(util.clj:494) [storm-core-1.0.2.jar:1.0.2]\n    at clojure.lang.AFn.run(AFn.java:22) [clojure-1.7.0.jar:?]\n    at java.lang.Thread.run(Thread.java:745) [?:1.8.0_91]\n\nThe method and line number in question below:\n\n@Override\n    public void ack(Object messageId) {\n        final KafkaSpoutMessageId msgId = (KafkaSpoutMessageId) messageId;\n        if (!consumerAutoCommitMode) {  // Only need to keep track of acked tuples if commits are not done automatically\n            acked.get(msgId.getTopicPartition()).add(msgId);\n        }\n        emitted.remove(msgId);\n}\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Kafka Spout NullPointerException during ack","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=logikz","name":"logikz","key":"logikz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nick Cuneo","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=logikz","name":"logikz","key":"logikz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nick Cuneo","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/15677533","id":"15677533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=logikz","name":"logikz","key":"logikz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nick Cuneo","active":true,"timeZone":"Etc/UTC"},"body":"I believe this is a race condition between acking a message as soon as the topology comes online versus initialization of the kafka spout to insert the topic partitions in the ack topic map.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=logikz","name":"logikz","key":"logikz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nick Cuneo","active":true,"timeZone":"Etc/UTC"},"created":"2016-11-18T19:26:54.565+0000","updated":"2016-11-18T19:26:54.565+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/15784408","id":"15784408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iryoung","name":"iryoung","key":"iryoung","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"iryoung jeong","active":true,"timeZone":"Asia/Seoul"},"body":"I also experienced the same error! And my topology in production failed to start because of many errors like this.\nSo I tested using small sets such as 2 worker or 5 spout, and it failed as well.\n(FYI - The topic has almost hundred parittions)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iryoung","name":"iryoung","key":"iryoung","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"iryoung jeong","active":true,"timeZone":"Asia/Seoul"},"created":"2016-12-29T03:39:43.456+0000","updated":"2016-12-29T03:39:43.456+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/15885711","id":"15885711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wangliang938","name":"wangliang938","key":"wangliang938","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangliang","active":true,"timeZone":"Etc/UTC"},"body":"strom1.0.2 ,\"enable.auto.commit\" default is false,you can change it .then retry.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wangliang938","name":"wangliang938","key":"wangliang938","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangliang","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-27T12:47:12.707+0000","updated":"2017-02-27T12:47:12.707+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/15886052","id":"15886052","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=f1sherox","name":"f1sherox","key":"f1sherox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Igor Kuzmenko","active":true,"timeZone":"Europe/Moscow"},"body":"Fixed in https://issues.apache.org/jira/browse/STORM-2104","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=f1sherox","name":"f1sherox","key":"f1sherox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Igor Kuzmenko","active":true,"timeZone":"Europe/Moscow"},"created":"2017-02-27T16:19:16.215+0000","updated":"2017-02-27T16:19:16.215+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/15886493","id":"15886493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiozas","name":"qiozas","key":"qiozas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrianos Dadis","active":true,"timeZone":"Europe/Athens"},"body":"This is still a problem in 1.0.3 release (try to migrate from 0.9.6).\nThis problem occurs when Kafka Coordinator decides to rebalance for some reason. Then KafkaSpout throw NPE because does not know what to do in acked Map for the incoming acked tuple.\nSTORM-2104 seems to handle that problem, but it is only available for 2.x and 1.1.x branches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiozas","name":"qiozas","key":"qiozas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrianos Dadis","active":true,"timeZone":"Europe/Athens"},"created":"2017-02-27T20:38:50.838+0000","updated":"2017-02-27T20:38:50.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/15994597","id":"15994597","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiwei","name":"zhiwei","key":"zhiwei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"zhiwei","active":true,"timeZone":"Etc/UTC"},"body":"This is still a problem in 0.10 release ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiwei","name":"zhiwei","key":"zhiwei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"zhiwei","active":true,"timeZone":"Etc/UTC"},"created":"2017-05-03T09:55:45.797+0000","updated":"2017-05-03T10:22:50.202+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021828/comment/16088044","id":"16088044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"body":"This appears to be a duplicate of STORM-2104 as [~f1sherox] mentioned. The bug should be fixed in the fix versions listed there. Please let us know if the bug is still present in those versions or later.\n\n[~wangliang938] mentioned a temporary workaround. It is a fine fix in some cases, but please note that this workaround can lead to message loss, so you should prefer upgrading to a Storm version where this is fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"created":"2017-07-14T20:56:22.828+0000","updated":"2017-07-14T21:03:19.217+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2207/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i36in3:"}}