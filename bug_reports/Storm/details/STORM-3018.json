{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13149331","self":"https://issues.apache.org/jira/rest/api/2/issue/13149331","key":"STORM-3018","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":3600,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false}],"aggregatetimespent":3600,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-04-02T13:31:06.735+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Apr 02 13:31:06 UTC 2018","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_123717515_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2018-04-02T13:31:06.713+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3018/watchers","watchCount":1,"isWatching":false},"created":"2018-04-01T03:09:09.236+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=danny0405","name":"danny0405","key":"danny0405","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuzhao Chen","active":true,"timeZone":"Asia/Harbin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-04-02T13:31:09.896+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12331115","id":"12331115","name":"integration-test"}],"timeoriginalestimate":null,"description":"For https://github.com/apache/storm/pull/2433 i changed the task metrics reporting interval default to 60 seconds, which is same with the  DemoTest#testExclamationTopology check time.\r\n\r\nSo fix it here.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"1h","remainingEstimateSeconds":0,"timeSpentSeconds":3600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Fix integration test DemoTest#testExclamationTopology fail problem","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=danny0405","name":"danny0405","key":"danny0405","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuzhao Chen","active":true,"timeZone":"Asia/Harbin"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=danny0405","name":"danny0405","key":"danny0405","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuzhao Chen","active":true,"timeZone":"Asia/Harbin"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":3600,"total":3600,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":3600,"total":3600,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/comment/16422252","id":"16422252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"body":"Thanks [~danny0405], merged to master.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Srdo","name":"Srdo","key":"srdo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stig Rohde Døssing","active":true,"timeZone":"Europe/Copenhagen"},"created":"2018-04-02T13:31:06.735+0000","updated":"2018-04-02T13:31:06.735+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-3018/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":6,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/worklog/86342","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user danny0405 opened a pull request:\n\n    https://github.com/apache/storm/pull/2619\n\n    [STORM-3018] Fix integration test DemoTest#testExclamationTopology fa…\n\n    See [STORM-3018](https://issues.apache.org/jira/projects/STORM/issues/STORM-3018?filter=allopenissues)\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/danny0405/storm fix-test\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2619.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2619\n    \n----\ncommit 433632744a4125467ff4db3f74780583c6b9123c\nAuthor: chenyuzhao <chenyuzhao@...>\nDate:   2018-04-01T03:08:19Z\n\n    [STORM-3018] Fix integration test DemoTest#testExclamationTopology fail problem\n\n----\n","created":"2018-04-01T03:12:11.175+0000","updated":"2018-04-01T03:12:11.175+0000","started":"2018-04-01T03:12:11.175+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"86342","issueId":"13149331"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/worklog/86355","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2619#discussion_r178453508\n  \n    --- Diff: conf/defaults.yaml ---\n    @@ -195,7 +195,7 @@ worker.log.level.reset.poll.secs: 30\n     # control how many worker receiver threads we need per worker\n     topology.worker.receiver.thread.count: 1\n     \n    -# Executor metrics reporting interval.\n    +# Executor metrics reporting interval, keep default val same with topology.builtin.metrics.bucket.size.secs\n    --- End diff --\n    \n    Nit: Could you add to the comment the reason why these must be kept in sync?\n","created":"2018-04-01T10:06:38.405+0000","updated":"2018-04-01T10:06:38.405+0000","started":"2018-04-01T10:06:38.404+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"86355","issueId":"13149331"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/worklog/86358","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user danny0405 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2619#discussion_r178454116\n  \n    --- Diff: conf/defaults.yaml ---\n    @@ -195,7 +195,7 @@ worker.log.level.reset.poll.secs: 30\n     # control how many worker receiver threads we need per worker\n     topology.worker.receiver.thread.count: 1\n     \n    -# Executor metrics reporting interval.\n    +# Executor metrics reporting interval, keep default val same with topology.builtin.metrics.bucket.size.secs\n    --- End diff --\n    \n    Because:\r\n    1. the internal metrics interval is set up by conf: topology.builtin.metrics.bucket.size.secs, we should keep sync with it\r\n    2. Now use ZK to store our metrics and the ui only show built in metrics, the metrics consumer's collecting interval are also default to 60 seconds\n","created":"2018-04-01T10:32:52.031+0000","updated":"2018-04-01T10:32:52.031+0000","started":"2018-04-01T10:32:52.031+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"86358","issueId":"13149331"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/worklog/86359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user srdo commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2619#discussion_r178455098\n  \n    --- Diff: conf/defaults.yaml ---\n    @@ -195,7 +195,7 @@ worker.log.level.reset.poll.secs: 30\n     # control how many worker receiver threads we need per worker\n     topology.worker.receiver.thread.count: 1\n     \n    -# Executor metrics reporting interval.\n    +# Executor metrics reporting interval, keep default val same with topology.builtin.metrics.bucket.size.secs\n    --- End diff --\n    \n    Thanks, but I meant add a note to the comment. I can't tell from the current comment why the two properties need to be in sync, so I'd have to look up this PR to see why.\n","created":"2018-04-01T11:13:49.810+0000","updated":"2018-04-01T11:13:49.810+0000","started":"2018-04-01T11:13:49.809+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"86359","issueId":"13149331"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/worklog/86363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user danny0405 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2619#discussion_r178456030\n  \n    --- Diff: conf/defaults.yaml ---\n    @@ -195,7 +195,7 @@ worker.log.level.reset.poll.secs: 30\n     # control how many worker receiver threads we need per worker\n     topology.worker.receiver.thread.count: 1\n     \n    -# Executor metrics reporting interval.\n    +# Executor metrics reporting interval, keep default val same with topology.builtin.metrics.bucket.size.secs\n    --- End diff --\n    \n    Ok, got your idea.\n","created":"2018-04-01T11:53:16.986+0000","updated":"2018-04-01T11:53:16.986+0000","started":"2018-04-01T11:53:16.986+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"86363","issueId":"13149331"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149331/worklog/86577","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2619\n","created":"2018-04-02T13:31:09.892+0000","updated":"2018-04-02T13:31:09.892+0000","started":"2018-04-02T13:31:09.891+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"86577","issueId":"13149331"}]},"customfield_12311820":"0|i3s0rr:"}}