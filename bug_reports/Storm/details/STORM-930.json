{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12844004","self":"https://issues.apache.org/jira/rest/api/2/issue/12844004","key":"STORM-930","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2015-07-17T02:16:28.492+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jan 12 21:38:11 UTC 2016","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_16150323046_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-01-12T21:38:11.752+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-930/watchers","watchCount":4,"isWatching":false},"created":"2015-07-09T23:26:08.763+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327112","id":"12327112","name":"0.9.3","archived":false,"released":true,"releaseDate":"2014-11-25"}],"customfield_12312339":null,"issuelinks":[],"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-01-12T21:38:11.806+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"2015-07-09 18:40:53 b.s.d.nimbus [INFO] Starting Nimbus server...\n2015-07-09 18:40:54 b.s.d.nimbus [ERROR] Error when processing event\njava.lang.NullPointerException: null\n\tat clojure.lang.Numbers.ops(Numbers.java:942) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.Numbers.isZero(Numbers.java:90) ~[clojure-1.5.1.jar:na]\n\tat backtype.storm.util$partition_fixed.invoke(util.clj:868) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.AFn.applyToHelper(AFn.java:163) [clojure-1.5.1.jar:na]\n\tat clojure.lang.AFn.applyTo(AFn.java:151) [clojure-1.5.1.jar:na]\n\tat clojure.core$apply.invoke(core.clj:617) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.AFn.applyToHelper(AFn.java:163) [clojure-1.5.1.jar:na]\n\tat clojure.lang.RestFn.applyTo(RestFn.java:132) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$apply.invoke(core.clj:619) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$partial$fn__4190.doInvoke(core.clj:2396) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.RestFn.invoke(RestFn.java:408) ~[clojure-1.5.1.jar:na]\n\tat backtype.storm.util$map_val$iter__273__277$fn__278.invoke(util.clj:291) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.LazySeq.sval(LazySeq.java:42) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.LazySeq.seq(LazySeq.java:60) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.Cons.next(Cons.java:39) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.RT.next(RT.java:598) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$next.invoke(core.clj:64) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$fn__6034.invoke(protocols.clj:146) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$fn__6005$G__6000__6014.invoke(protocols.clj:19) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$seq_reduce.invoke(protocols.clj:31) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$fn__6026.invoke(protocols.clj:54) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$fn__5979$G__5974__5992.invoke(protocols.clj:13) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$reduce.invoke(core.clj:6177) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$into.invoke(core.clj:6229) ~[clojure-1.5.1.jar:na]\n\tat backtype.storm.util$map_val.invoke(util.clj:290) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.daemon.nimbus$compute_executors.invoke(nimbus.clj:435) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.daemon.nimbus$compute_executor__GT_component.invoke(nimbus.clj:446) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.daemon.nimbus$read_topology_details.invoke(nimbus.clj:339) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.daemon.nimbus$mk_assignments$iter__7285__7289$fn__7290.invoke(nimbus.clj:665) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.LazySeq.sval(LazySeq.java:42) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.LazySeq.seq(LazySeq.java:60) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.RT.seq(RT.java:484) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$seq.invoke(core.clj:133) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$seq_reduce.invoke(protocols.clj:30) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$fn__6026.invoke(protocols.clj:54) ~[clojure-1.5.1.jar:na]\n\tat clojure.core.protocols$fn__5979$G__5974__5992.invoke(protocols.clj:13) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$reduce.invoke(core.clj:6177) ~[clojure-1.5.1.jar:na]\n\tat clojure.core$into.invoke(core.clj:6229) ~[clojure-1.5.1.jar:na]\n\tat backtype.storm.daemon.nimbus$mk_assignments.doInvoke(nimbus.clj:664) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.RestFn.invoke(RestFn.java:410) ~[clojure-1.5.1.jar:na]\n\tat backtype.storm.daemon.nimbus$fn__7518$exec_fn__1491__auto____7519$fn__7524$fn__7525.invoke(nimbus.clj:994) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.daemon.nimbus$fn__7518$exec_fn__1491__auto____7519$fn__7524.invoke(nimbus.clj:993) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.timer$schedule_recurring$this__2034.invoke(timer.clj:99) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.timer$mk_timer$fn__2017$fn__2018.invoke(timer.clj:50) ~[storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.timer$mk_timer$fn__2017.invoke(timer.clj:42) [storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.AFn.run(AFn.java:24) [clojure-1.5.1.jar:na]\n\tat java.lang.Thread.run(Thread.java:745) [na:1.7.0_75]\n2015-07-09 18:40:54 b.s.util [ERROR] Halting process: (\"Error when processing an event\")\njava.lang.RuntimeException: (\"Error when processing an event\")\n\tat backtype.storm.util$exit_process_BANG_.doInvoke(util.clj:322) [storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.RestFn.invoke(RestFn.java:423) [clojure-1.5.1.jar:na]\n\tat backtype.storm.daemon.nimbus$nimbus_data$fn__6891.invoke(nimbus.clj:85) [storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.timer$mk_timer$fn__2017$fn__2018.invoke(timer.clj:68) [storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat backtype.storm.timer$mk_timer$fn__2017.invoke(timer.clj:42) [storm-core-0.9.3.2.2.6.0-2800.jar:0.9.3.2.2.6.0-2800]\n\tat clojure.lang.AFn.run(AFn.java:24) [clojure-1.5.1.jar:na]\n\tat java.lang.Thread.run(Thread.java:745) [na:1.7.0_75]\n2015-07-09 18:40:54 b.s.d.nimbus [INFO] Shutting down master","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Nimbus server shutting down","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vezly.gracies","name":"vezly.gracies","key":"vezly.gracies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vezly Gracies","active":true,"timeZone":"America/New_York"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vezly.gracies","name":"vezly.gracies","key":"vezly.gracies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vezly Gracies","active":true,"timeZone":"America/New_York"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Red Hadt Enterprise linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12844004/comment/14630676","id":"14630676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=caofangkun","name":"caofangkun","key":"caofangkun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=caofangkun&avatarId=23151","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=caofangkun&avatarId=23151","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=caofangkun&avatarId=23151","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=caofangkun&avatarId=23151"},"displayName":"caofangkun","active":true,"timeZone":"Asia/Shanghai"},"body":"See:\nhttps://github.com/apache/storm/blob/v0.9.3-rc1/storm-core/src/clj/backtype/storm/util.clj#L824\n\n{code}\n(defn partition-fixed\n  [max-num-chunks aseq]\n  (if (zero? max-num-chunks)\n    []\n   ... \n{code}\n\nDo you set parallelism-hint of your topology component ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=caofangkun","name":"caofangkun","key":"caofangkun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=caofangkun&avatarId=23151","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=caofangkun&avatarId=23151","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=caofangkun&avatarId=23151","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=caofangkun&avatarId=23151"},"displayName":"caofangkun","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-07-17T02:16:28.492+0000","updated":"2015-07-17T02:16:28.492+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12844004/comment/14906433","id":"14906433","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Babu+Cervenkova","name":"Babu Cervenkova","key":"babu cervenkova","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=babu+cervenkova&avatarId=33832","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=babu+cervenkova&avatarId=33832","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=babu+cervenkova&avatarId=33832","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=babu+cervenkova&avatarId=33832"},"displayName":"Barbora Cervenkova","active":true,"timeZone":"Europe/Prague"},"body":"We have similar issue, but the problem is that Nimbus is not able to start at all:\n{code}\no.a.s.c.f.s.ConnectionStateManager [INFO] State change: CONNECTED\nb.s.cluster [WARN] Received event ::none: with disconnected Zookeeper.\nb.s.d.nimbus [INFO] Starting Nimbus server...\no.a.s.z.Login [INFO] successfully logged in.\nb.s.s.a.k.KerberosSaslTransportPlugin [INFO] Service principal:nimbus@REALM\nb.s.s.a.k.KerberosSaslTransportPlugin [INFO] SASL GSSAPI transport factory will be used\nb.s.d.nimbus [ERROR] Error when processing event\njava.lang.NullPointerException: null\n\tat clojure.lang.Numbers.ops(Numbers.java:942) ~[clojure-1.5.1.jar:na]\n\tat clojure.lang.Numbers.isZero(Numbers.java:90) ~[clojure-1.5.1.jar:na]\n\tat backtype.storm.util$partition_fixed.invoke(util.clj:868) ~[storm-core-0.9.3.2.2.4.2-2.jar:0.9.3.2.2.4.2-2]\n{code}\n\nWe have there one topology that may not have setted parallelism-hint, but the problem is that without Nimbus running we are not able to remove it. Any suggestions? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Babu+Cervenkova","name":"Babu Cervenkova","key":"babu cervenkova","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=babu+cervenkova&avatarId=33832","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=babu+cervenkova&avatarId=33832","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=babu+cervenkova&avatarId=33832","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=babu+cervenkova&avatarId=33832"},"displayName":"Barbora Cervenkova","active":true,"timeZone":"Europe/Prague"},"created":"2015-09-24T14:40:27.033+0000","updated":"2015-09-24T14:40:27.033+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12844004/comment/15095009","id":"15095009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"body":"Not enough information. Please re-open and add additional information to reproduce the issue if you are still having a problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"created":"2016-01-12T21:38:11.778+0000","updated":"2016-01-12T21:38:11.778+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-930/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2h2qf:"}}