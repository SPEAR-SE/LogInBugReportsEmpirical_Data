{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12684743","self":"https://issues.apache.org/jira/rest/api/2/issue/12684743","key":"STORM-119","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2015-08-21T19:30:08.415+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Aug 23 12:48:32 UTC 2015","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_53257190218_*|*_4_*:*_1_*:*_15195_*|*_6_*:*_2_*:*_4020615250","customfield_12310420":"363815","customfield_12312321":null,"resolutiondate":"2015-10-09T01:39:02.730+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-119/watchers","watchCount":3,"isWatching":false},"created":"2013-12-15T03:08:42.090+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-09T01:39:02.750+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"Hi,\nWe are getting the below exception while running storm and zookeper on the same box.\n\n2013-11-26 16:42:48 CuratorFrameworkImpl [ERROR] Background operation retry gave up\norg.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:90)\nat com.netflix.curator.framework.imps.CuratorFrameworkImpl.processBackgroundOperation(CuratorFrameworkImpl.java:380)\nat com.netflix.curator.framework.imps.BackgroundSyncImpl$1.processResult(BackgroundSyncImpl.java:49)\nat org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:617)\nat org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:506)\n2013-11-26 16:42:52 nimbus [ERROR] Error when processing event\norg.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /storms\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:90)\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:42)\nat org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1363)\nat com.netflix.curator.framework.imps.GetChildrenBuilderImpl$3.call(GetChildrenBuilderImpl.java:184)\nat com.netflix.curator.framework.imps.GetChildrenBuilderImpl$3.call(GetChildrenBuilderImpl.java:173)\nat com.netflix.curator.RetryLoop.callWithRetry(RetryLoop.java:85)\nat com.netflix.curator.framework.imps.GetChildrenBuilderImpl.pathInForeground(GetChildrenBuilderImpl.java:169)\nat com.netflix.curator.framework.imps.GetChildrenBuilderImpl.forPath(GetChildrenBuilderImpl.java:161)\nat com.netflix.curator.framework.imps.GetChildrenBuilderImpl.forPath(GetChildrenBuilderImpl.java:36)\nat backtype.storm.zookeeper$get_children.invoke(zookeeper.clj:111)\nat backtype.storm.cluster$mk_distributed_cluster_state$reify__1996.get_children(cluster.clj:86)\nat backtype.storm.cluster$mk_storm_cluster_state$reify__2415.active_storms(cluster.clj:237)\nat sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat clojure.lang.Reflector.invokeMatchingMethod(Reflector.java:93)\nat clojure.lang.Reflector.invokeNoArgInstanceMember(Reflector.java:298)\nat backtype.storm.daemon.nimbus$mk_assignments.doInvoke(nimbus.clj:634)\nat clojure.lang.RestFn.invoke(RestFn.java:410)\nat backtype.storm.daemon.nimbus$fn__3592$exec_fn__1228__auto____3593$fn__3598$fn__3599.invoke(nimbus.clj:872)\nat backtype.storm.daemon.nimbus$fn__3592$exec_fn__1228__auto____3593$fn__3598.invoke(nimbus.clj:871)\nat backtype.storm.timer$schedule_recurring$this__1776.invoke(timer.clj:69)\nat backtype.storm.timer$mk_timer$fn__1759$fn__1760.invoke(timer.clj:33)\nat backtype.storm.timer$mk_timer$fn__1759.invoke(timer.clj:26)\nat clojure.lang.AFn.run(AFn.java:24)\nat java.lang.Thread.run(Thread.java:724)\n\nThe exception is stopping nimbus and supervisor processes. We are using storm-0.8.2 and zookeeper-3.4.5.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"364121","customfield_12312823":null,"summary":"Nimbus and Supervisor process crash with error.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xumingming","name":"xumingming","key":"xumingming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xumingming&avatarId=18354","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xumingming&avatarId=18354","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xumingming&avatarId=18354","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xumingming&avatarId=18354"},"displayName":"James Xu","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xumingming","name":"xumingming","key":"xumingming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xumingming&avatarId=18354","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xumingming&avatarId=18354","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xumingming&avatarId=18354","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xumingming&avatarId=18354"},"displayName":"James Xu","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684743/comment/14707323","id":"14707323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkellogg","name":"rkellogg","key":"rkellogg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Rick Kellogg","active":true,"timeZone":"Etc/UTC"},"body":"Please provide additional details like environment details (Zookeeper, Storm, JDK, OS), connection information, steps to duplicate, etc.  Without this no one will be able to help on this item.\n\nHave you confirmed Zookeeper is functioning normally outside of Storm?  If not please close this item for insufficient details.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkellogg","name":"rkellogg","key":"rkellogg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Rick Kellogg","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-21T19:30:08.415+0000","updated":"2015-08-21T19:30:08.415+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684743/comment/14708369","id":"14708369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkellogg","name":"rkellogg","key":"rkellogg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Rick Kellogg","active":true,"timeZone":"Etc/UTC"},"body":"Insufficient detail to address issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkellogg","name":"rkellogg","key":"rkellogg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10448","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10448","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10448","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10448"},"displayName":"Rick Kellogg","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-23T12:48:32.256+0000","updated":"2015-08-23T12:48:32.256+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-119/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1qpm7:"}}