{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13009346","self":"https://issues.apache.org/jira/rest/api/2/issue/13009346","key":"STORM-2131","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":9600,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"aggregatetimespent":9600,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"2016-10-03 20:44:43.336","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_696874346_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-10-11T22:19:16.553+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2131/watchers","watchCount":1,"isWatching":false},"created":"2016-10-03T20:44:43.336+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knusbaum","name":"knusbaum","key":"knusbaum","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=knusbaum&avatarId=22452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=knusbaum&avatarId=22452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=knusbaum&avatarId=22452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=knusbaum&avatarId=22452"},"displayName":"Kyle Nusbaum","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-27T16:07:56.362+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"the \"blob\" command is missing from worker-launcher. \n\nIn addition, we want to make the stormdist directory non-writable by user.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"2h 40m","remainingEstimateSeconds":0,"timeSpentSeconds":9600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Add blob command to worker-launcher, make stormdist directory not writeable by topo owner","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knusbaum","name":"knusbaum","key":"knusbaum","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=knusbaum&avatarId=22452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=knusbaum&avatarId=22452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=knusbaum&avatarId=22452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=knusbaum&avatarId=22452"},"displayName":"Kyle Nusbaum","active":true,"timeZone":"America/Chicago"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knusbaum","name":"knusbaum","key":"knusbaum","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=knusbaum&avatarId=22452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=knusbaum&avatarId=22452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=knusbaum&avatarId=22452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=knusbaum&avatarId=22452"},"displayName":"Kyle Nusbaum","active":true,"timeZone":"America/Chicago"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":9600,"total":9600,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":9600,"total":9600,"percent":100},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2131/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":19,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30094","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user knusbaum opened a pull request:\n\n    https://github.com/apache/storm/pull/1723\n\n    STORM-2131: Add blob command to worker-launcher, make stormdist directory not writeable by topo owner\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/knusbaum/incubator-storm STORM-2131\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1723.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1723\n    \n----\ncommit 49514b6e9265d0510ce61ba998a53000e0b2e57e\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-10-03T19:26:24Z\n\n    Updating worker launcher for blobs.\n\ncommit 5825e14a11c3d91c10036971e7757c8e4f82283d\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-09-26T20:42:18Z\n\n    Fixing permissions for stormdist directory.\n\ncommit f930b9a7e5c6d86c5782a44f5154c81bff82d9d8\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-10-03T20:08:33Z\n\n    Fixing workers artifacts permissions.\n\n----\n","created":"2016-10-03T20:46:26.119+0000","updated":"2016-10-03T20:46:26.119+0000","started":"2016-10-03T20:46:26.118+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30094","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user kishorvpatil commented on the issue:\n\n    https://github.com/apache/storm/pull/1723\n  \n    +1\n","created":"2016-10-04T18:19:58.347+0000","updated":"2016-10-04T18:19:58.347+0000","started":"2016-10-04T18:19:58.347+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30119","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30205","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1723\n","created":"2016-10-05T22:11:11.004+0000","updated":"2016-10-05T22:11:11.004+0000","started":"2016-10-05T22:11:11.004+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30205","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user knusbaum opened a pull request:\n\n    https://github.com/apache/storm/pull/1724\n\n    STORM-2131: Add blob command to worker-launcher, make stormdist directory not writeable by topo owner \n\n    Re-opening this, as I reverted the last one to fix a typo (#1723)\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/knusbaum/incubator-storm STORM-2131\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1724.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1724\n    \n----\ncommit 49514b6e9265d0510ce61ba998a53000e0b2e57e\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-10-03T19:26:24Z\n\n    Updating worker launcher for blobs.\n\ncommit 5825e14a11c3d91c10036971e7757c8e4f82283d\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-09-26T20:42:18Z\n\n    Fixing permissions for stormdist directory.\n\ncommit f930b9a7e5c6d86c5782a44f5154c81bff82d9d8\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-10-03T20:08:33Z\n\n    Fixing workers artifacts permissions.\n\ncommit 1ce0f639c53a8fd1d22a74ea78cfbdb15a81b90b\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com>\nDate:   2016-10-05T22:19:19Z\n\n    fixing typo.\n\n----\n","created":"2016-10-05T22:21:03.412+0000","updated":"2016-10-05T22:21:03.412+0000","started":"2016-10-05T22:21:03.412+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30206","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30219","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1724\n  \n    Leaving a note: #1697 needs to pull this to apply the change for 1.x.\n","created":"2016-10-06T01:53:43.010+0000","updated":"2016-10-06T01:53:43.010+0000","started":"2016-10-06T01:53:43.010+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30219","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user knusbaum commented on the issue:\n\n    https://github.com/apache/storm/pull/1724\n  \n    @kishorvpatil @revans2 @jerrypeng \n","created":"2016-10-06T15:53:52.980+0000","updated":"2016-10-06T15:53:52.980+0000","started":"2016-10-06T15:53:52.979+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30226","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user kishorvpatil commented on the issue:\n\n    https://github.com/apache/storm/pull/1724\n  \n    +1\n","created":"2016-10-06T16:10:12.871+0000","updated":"2016-10-06T16:10:12.871+0000","started":"2016-10-06T16:10:12.871+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30229","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82611549\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -414,33 +414,30 @@ static int copy_file(int input, const char* in_filename,\n       return 0;\n     }\n     \n    -int setup_stormdist(FTSENT* entry, uid_t euser) {\n    +static int setup_permissions(FTSENT* entry, uid_t euser, int user_write) {\n       if (lchown(entry->fts_path, euser, launcher_gid) != 0) {\n    -    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s\\n\",\n    -      strerror(errno));\n    +    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s, fts_path=%s\\n\",\n    +            strerror(errno), entry->fts_path);\n          return -1;\n       }\n       mode_t mode = entry->fts_statp->st_mode;\n    -  mode_t new_mode = (mode & (S_IRWXU)) | S_IRGRP | S_IWGRP;\n    -  if ((mode & S_IXUSR) == S_IXUSR) {\n    -    new_mode = new_mode | S_IXGRP;\n    +  mode_t new_mode = (mode & (S_IRUSR | S_IXUSR)) | S_IRGRP | S_IWGRP;\n    +  if (user_write) {\n    +    new_mode = new_mode | S_IWUSR;\n       }\n       if ((mode & S_IFDIR) == S_IFDIR) {\n    -    new_mode = new_mode | S_ISGID;\n    +    new_mode = new_mode | S_IXGRP | S_ISGID;\n       }\n       if (chmod(entry->fts_path, new_mode) != 0) {\n    -    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s\\n\",\n    -      strerror(errno));\n    +    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s, fts_path=%s\\n\",\n    +            strerror(errno), entry->fts_path);\n         return -1;\n       }\n       return 0;\n     }\n     \n    -int setup_stormdist_dir(const char* local_dir) {\n    -  //This is the same as\n    -  //> chmod g+rwX -R $local_dir\n    -  //> chown -no-dereference -R $user:$supervisor-group $local_dir \n    --- End diff --\n    \n    Again a comment like this explaining what the program does would be very valuable.\n","created":"2016-10-10T14:21:00.839+0000","updated":"2016-10-10T14:21:00.839+0000","started":"2016-10-10T14:21:00.838+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30312","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82612830\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -485,14 +482,14 @@ int setup_stormdist_dir(const char* local_dir) {\n     \n           case FTS_DP:        // A directory being visited in post-order\n           case FTS_DOT:       // A dot directory\n    +      case FTS_SL:        // A symbolic link\n    +      case FTS_SLNONE:    // A broken symbolic link\n    --- End diff --\n    \n    I'm also not sure why we want the symlink/a broken symlink to be a noop?  We use lchown to not follow the symlink, so we will be sure to change ownership of the symlink itself (otherwise it will still be owned by the supervisor user).  Was chmod causing issues?  If so we probably want to split the chown and chmod portions and only call chmod on things that are not symlinks.\n","created":"2016-10-10T14:21:00.840+0000","updated":"2016-10-10T14:21:00.840+0000","started":"2016-10-10T14:21:00.840+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30313","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30314","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82611232\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -414,33 +414,30 @@ static int copy_file(int input, const char* in_filename,\n       return 0;\n     }\n     \n    -int setup_stormdist(FTSENT* entry, uid_t euser) {\n    +static int setup_permissions(FTSENT* entry, uid_t euser, int user_write) {\n       if (lchown(entry->fts_path, euser, launcher_gid) != 0) {\n    -    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s\\n\",\n    -      strerror(errno));\n    +    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s, fts_path=%s\\n\",\n    +            strerror(errno), entry->fts_path);\n          return -1;\n       }\n       mode_t mode = entry->fts_statp->st_mode;\n    -  mode_t new_mode = (mode & (S_IRWXU)) | S_IRGRP | S_IWGRP;\n    -  if ((mode & S_IXUSR) == S_IXUSR) {\n    -    new_mode = new_mode | S_IXGRP;\n    +  mode_t new_mode = (mode & (S_IRUSR | S_IXUSR)) | S_IRGRP | S_IWGRP;\n    +  if (user_write) {\n    +    new_mode = new_mode | S_IWUSR;\n    --- End diff --\n    \n    It was not completely obvious from reading the code what was happening here.  Could we put in some comments at a high level how the permissions are setup and why they are setup that way. \n","created":"2016-10-10T14:21:00.892+0000","updated":"2016-10-10T14:21:00.892+0000","started":"2016-10-10T14:21:00.892+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30314","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30315","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82608722\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/main.c ---\n    @@ -155,7 +155,23 @@ int main(int argc, char **argv) {\n           fflush(ERRORFILE);\n           return INVALID_ARGUMENT_NUMBER;\n         }\n    -    exit_code = setup_stormdist_dir(argv[optind]);\n    +    exit_code = setup_dir_permissions(argv[optind], 0);\n    +  } else if (strcasecmp(\"artifacts-dir\", command) == 0) {\n    +      if (argc != 4) {\n    --- End diff --\n    \n    indentation appears off\n","created":"2016-10-10T14:21:00.894+0000","updated":"2016-10-10T14:21:00.894+0000","started":"2016-10-10T14:21:00.894+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30315","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30316","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82608542\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/daemon/supervisor/SupervisorUtils.java ---\n    @@ -104,6 +104,16 @@ public static void setupStormCodeDir(Map<String, Object> conf, Map<String, Objec\n             }\n         }\n     \n    +    public static void setupWorkerArtifactsDir(Map<String, Object> conf, Map<String, Object> stormConf, String dir) throws IOException {\n    +        if (Utils.getBoolean(conf.get(Config.SUPERVISOR_RUN_WORKER_AS_USER), false)) {\n    +            String logPrefix = \"setup conf for \" + dir;\n    --- End diff --\n    \n    conf???\n","created":"2016-10-10T14:21:00.916+0000","updated":"2016-10-10T14:21:00.916+0000","started":"2016-10-10T14:21:00.915+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30316","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30329","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user knusbaum commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82634237\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -485,14 +482,14 @@ int setup_stormdist_dir(const char* local_dir) {\n     \n           case FTS_DP:        // A directory being visited in post-order\n           case FTS_DOT:       // A dot directory\n    +      case FTS_SL:        // A symbolic link\n    +      case FTS_SLNONE:    // A broken symbolic link\n    --- End diff --\n    \n    This is ported from a change @tgravescs made. We can ask him why.\n","created":"2016-10-10T16:08:17.220+0000","updated":"2016-10-10T16:08:17.220+0000","started":"2016-10-10T16:08:17.218+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30329","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30330","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user knusbaum commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82634841\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/daemon/supervisor/SupervisorUtils.java ---\n    @@ -104,6 +104,16 @@ public static void setupStormCodeDir(Map<String, Object> conf, Map<String, Objec\n             }\n         }\n     \n    +    public static void setupWorkerArtifactsDir(Map<String, Object> conf, Map<String, Object> stormConf, String dir) throws IOException {\n    +        if (Utils.getBoolean(conf.get(Config.SUPERVISOR_RUN_WORKER_AS_USER), false)) {\n    +            String logPrefix = \"setup conf for \" + dir;\n    --- End diff --\n    \n    No idea. I copied this over from setupStormCodeDir so they would look similar in the logs.\n    Can change both to actually make sense.\n","created":"2016-10-10T16:12:06.134+0000","updated":"2016-10-10T16:12:06.134+0000","started":"2016-10-10T16:12:06.133+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30330","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user knusbaum commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82672822\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -414,33 +414,30 @@ static int copy_file(int input, const char* in_filename,\n       return 0;\n     }\n     \n    -int setup_stormdist(FTSENT* entry, uid_t euser) {\n    +static int setup_permissions(FTSENT* entry, uid_t euser, int user_write) {\n       if (lchown(entry->fts_path, euser, launcher_gid) != 0) {\n    -    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s\\n\",\n    -      strerror(errno));\n    +    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s, fts_path=%s\\n\",\n    +            strerror(errno), entry->fts_path);\n          return -1;\n       }\n       mode_t mode = entry->fts_statp->st_mode;\n    -  mode_t new_mode = (mode & (S_IRWXU)) | S_IRGRP | S_IWGRP;\n    -  if ((mode & S_IXUSR) == S_IXUSR) {\n    -    new_mode = new_mode | S_IXGRP;\n    +  mode_t new_mode = (mode & (S_IRUSR | S_IXUSR)) | S_IRGRP | S_IWGRP;\n    +  if (user_write) {\n    +    new_mode = new_mode | S_IWUSR;\n    --- End diff --\n    \n    \uD83D\uDC4D \n","created":"2016-10-10T20:03:01.670+0000","updated":"2016-10-10T20:03:01.670+0000","started":"2016-10-10T20:03:01.670+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30337","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user knusbaum commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82672834\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -414,33 +414,30 @@ static int copy_file(int input, const char* in_filename,\n       return 0;\n     }\n     \n    -int setup_stormdist(FTSENT* entry, uid_t euser) {\n    +static int setup_permissions(FTSENT* entry, uid_t euser, int user_write) {\n       if (lchown(entry->fts_path, euser, launcher_gid) != 0) {\n    -    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s\\n\",\n    -      strerror(errno));\n    +    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s, fts_path=%s\\n\",\n    +            strerror(errno), entry->fts_path);\n          return -1;\n       }\n       mode_t mode = entry->fts_statp->st_mode;\n    -  mode_t new_mode = (mode & (S_IRWXU)) | S_IRGRP | S_IWGRP;\n    -  if ((mode & S_IXUSR) == S_IXUSR) {\n    -    new_mode = new_mode | S_IXGRP;\n    +  mode_t new_mode = (mode & (S_IRUSR | S_IXUSR)) | S_IRGRP | S_IWGRP;\n    +  if (user_write) {\n    +    new_mode = new_mode | S_IWUSR;\n       }\n       if ((mode & S_IFDIR) == S_IFDIR) {\n    -    new_mode = new_mode | S_ISGID;\n    +    new_mode = new_mode | S_IXGRP | S_ISGID;\n       }\n       if (chmod(entry->fts_path, new_mode) != 0) {\n    -    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s\\n\",\n    -      strerror(errno));\n    +    fprintf(ERRORFILE, \"Failure to exec app initialization process - %s, fts_path=%s\\n\",\n    +            strerror(errno), entry->fts_path);\n         return -1;\n       }\n       return 0;\n     }\n     \n    -int setup_stormdist_dir(const char* local_dir) {\n    -  //This is the same as\n    -  //> chmod g+rwX -R $local_dir\n    -  //> chown -no-dereference -R $user:$supervisor-group $local_dir \n    --- End diff --\n    \n    \uD83D\uDC4D \n","created":"2016-10-10T20:03:06.347+0000","updated":"2016-10-10T20:03:06.347+0000","started":"2016-10-10T20:03:06.346+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30338","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1724#discussion_r82815297\n  \n    --- Diff: storm-core/src/native/worker-launcher/impl/worker-launcher.c ---\n    @@ -485,14 +482,14 @@ int setup_stormdist_dir(const char* local_dir) {\n     \n           case FTS_DP:        // A directory being visited in post-order\n           case FTS_DOT:       // A dot directory\n    +      case FTS_SL:        // A symbolic link\n    +      case FTS_SLNONE:    // A broken symbolic link\n    --- End diff --\n    \n    I talked with @tgravescs and ran some tests.  It works just fine, and it should not be a big deal.  I was a bit worried about the default permissions on the symlinks but they are open, and because they are all under a directory that should be locked down I am not concerned abut it.\n","created":"2016-10-11T15:10:39.085+0000","updated":"2016-10-11T15:10:39.085+0000","started":"2016-10-11T15:10:39.085+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30362","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/1724\n  \n    +1 looks good\n","created":"2016-10-11T15:10:49.391+0000","updated":"2016-10-11T15:10:49.391+0000","started":"2016-10-11T15:10:49.390+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30363","issueId":"13009346"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13009346/worklog/30373","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1724\n","created":"2016-10-11T16:03:05.502+0000","updated":"2016-10-11T16:03:05.502+0000","started":"2016-10-11T16:03:05.501+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"30373","issueId":"13009346"}]},"customfield_12311820":"0|i34drz:"}}