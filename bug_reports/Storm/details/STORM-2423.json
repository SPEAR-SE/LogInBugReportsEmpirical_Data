{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13057216","self":"https://issues.apache.org/jira/rest/api/2/issue/13057216","key":"STORM-2423","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":6600,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"aggregatetimespent":6600,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"2017-03-18 02:44:26.885","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_268234361_*|*_3_*:*_1_*:*_22502_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2017-03-21T05:15:23.717+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2423/watchers","watchCount":1,"isWatching":false},"created":"2017-03-18T02:44:26.885+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12338104","id":"12338104","name":"1.x","archived":false,"released":false}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=roshan_naik","name":"roshan_naik","key":"roshan_naik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roshan Naik","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-03-21T05:24:32.126+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"Default anchoring will anchor each emitted tuple to every tuple in current window. This requires a very large numbers of ACKs from any downstream bolt.  If topology.debug is enabled, it also worsens the load on the system significantly. \n\nLetting the topo run in this mode (in particular with max.spout.pending disabled), could lead to the worker running out of memory and crashing.\n\nFix: Join Bolt should avoid using default window anchoring, and explicitly anchor each emitted tuple with the exact matching tuples form each inputs streams. This reduces the complexity of the tuple trees and consequently the reduces burden on the ACKing & messaging subsystems. ","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"1h 50m","remainingEstimateSeconds":0,"timeSpentSeconds":6600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Join Bolt : Use explicit instead of default window anchoring of emitted tuples","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=roshan_naik","name":"roshan_naik","key":"roshan_naik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roshan Naik","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=roshan_naik","name":"roshan_naik","key":"roshan_naik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roshan Naik","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":6600,"total":6600,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":6600,"total":6600,"percent":100},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2423/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":13,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39462","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user roshannaik opened a pull request:\n\n    https://github.com/apache/storm/pull/2019\n\n    STORM-2423 - Join Bolt should use explicit instead of default window anchoring of emitted tuples\n\n    Default anchoring will anchor each emitted tuple to every tuple in current window. This requires a very large numbers of ACKs from any downstream bolt. If topology.debug is enabled, it also worsens the load on the system significantly.\n    Letting the topo run in this mode (in particular with max.spout.pending disabled), could lead to the worker running out of memory and crashing.\n    \n    *Fix* Join Bolt should avoid using default window anchoring, and explicitly anchor each emitted tuple with the exact matching tuples form each inputs streams. This reduces the complexity of the tuple trees and consequently the reduces burden on the ACKing & messaging subsystems.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/roshannaik/storm STORM-2423\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2019.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2019\n    \n----\ncommit a3cd13474846756a7edf3061fd60a947bec078f8\nAuthor: Roshan Naik <roshan@hw13642.local>\nDate:   2017-03-18T02:46:28Z\n\n    STORM-2423 - Join Bolt : Use explicit instead of default window anchoring of emitted tuples\n\n----\n","created":"2017-03-18T02:56:52.138+0000","updated":"2017-03-18T02:56:52.138+0000","started":"2017-03-18T02:56:52.130+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39462","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user satishd commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2019#discussion_r106795693\n  \n    --- Diff: docs/Joins.md ---\n    @@ -122,4 +122,18 @@ is treated as a single stream and joined against `stream2` from `bolt3`.\n     2. Duplication of joined records across windows is possible when using Sliding Windows. This is because the tuples continue to exist\n        across multiple windows when using Sliding Windows.\n     \n    -\n    +3. If message timeouts are enabled, ensure the timeout setting (topology.message.timeout.secs) is large enough to comfortably\n    +   accommodate the window size, plus the additional processing by other spouts and bolts.\n    +\n    +4. Joining a window of two streams with M and N elements each, *in the worst case*, can produce MxN elements with every output tuple\n    +   anchored to one tuples from each input stream. This can mean a lot of output tuples from JoinBolt and even more ACKs for downstream bolts\n    --- End diff --\n    \n    Should not this be\n    produce MxN elements with every output tuple anchored to <s>one</s> tuples  from each input stream.\n","created":"2017-03-19T01:44:17.139+0000","updated":"2017-03-19T01:44:17.139+0000","started":"2017-03-19T01:44:17.132+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39482","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39481","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user satishd commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2019#discussion_r106795805\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/bolt/JoinBolt.java ---\n    @@ -191,9 +191,9 @@ public void execute(TupleWindow inputWindow) {\n             for (ResultRecord resultRecord : joinResult.getRecords()) {\n                 ArrayList<Object> outputTuple = resultRecord.getOutputFields();\n                 if ( outputStreamName==null )\n    -                collector.emit( outputTuple );\n    +                collector.emit( resultRecord.tupleList, outputTuple );\n    --- End diff --\n    \n    It may be good to add a comment here, saying that anchoring with only matched input tuples as .\n    `WindowedOutputCollector` anchors with all the incoming tuples.\n    \n    For others to understand the issue, collector used here is [`WindowedOutputCollector`](https://github.com/apache/storm/blob/master/storm-core/src/jvm/org/apache/storm/topology/WindowedBoltExecutor.java#L31) and it emits  output tuple by anchoring with all the input tuples with in that window.\n\n","created":"2017-03-19T01:44:17.139+0000","updated":"2017-03-19T01:44:17.139+0000","started":"2017-03-19T01:44:17.132+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39481","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39483","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user satishd commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2019#discussion_r106795850\n  \n    --- Diff: docs/Joins.md ---\n    @@ -122,4 +122,18 @@ is treated as a single stream and joined against `stream2` from `bolt3`.\n     2. Duplication of joined records across windows is possible when using Sliding Windows. This is because the tuples continue to exist\n        across multiple windows when using Sliding Windows.\n     \n    -\n    +3. If message timeouts are enabled, ensure the timeout setting (topology.message.timeout.secs) is large enough to comfortably\n    +   accommodate the window size, plus the additional processing by other spouts and bolts.\n    +\n    +4. Joining a window of two streams with M and N elements each, *in the worst case*, can produce MxN elements with every output tuple\n    --- End diff --\n    \n    Nice to see this case added in the doc here.\n","created":"2017-03-19T01:44:17.140+0000","updated":"2017-03-19T01:44:17.140+0000","started":"2017-03-19T01:44:17.133+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39483","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user satishd commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2019#discussion_r106795812\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/bolt/JoinBolt.java ---\n    @@ -191,9 +191,9 @@ public void execute(TupleWindow inputWindow) {\n             for (ResultRecord resultRecord : joinResult.getRecords()) {\n                 ArrayList<Object> outputTuple = resultRecord.getOutputFields();\n                 if ( outputStreamName==null )\n    -                collector.emit( outputTuple );\n    +                collector.emit( resultRecord.tupleList, outputTuple );\n                 else\n    -                collector.emit( outputStreamName, outputTuple );\n    +                collector.emit( outputStreamName, resultRecord.tupleList, outputTuple );\n    --- End diff --\n    \n    same as above comment.\n","created":"2017-03-19T01:44:17.199+0000","updated":"2017-03-19T01:44:17.199+0000","started":"2017-03-19T01:44:17.198+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39484","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user satishd commented on the issue:\n\n    https://github.com/apache/storm/pull/2019\n  \n    +1, LGTM. \n    \n    @roshannaik You may want to address those minor nits.\n","created":"2017-03-19T01:46:21.224+0000","updated":"2017-03-19T01:46:21.224+0000","started":"2017-03-19T01:46:21.224+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39485","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user roshannaik commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2019#discussion_r106796491\n  \n    --- Diff: docs/Joins.md ---\n    @@ -122,4 +122,18 @@ is treated as a single stream and joined against `stream2` from `bolt3`.\n     2. Duplication of joined records across windows is possible when using Sliding Windows. This is because the tuples continue to exist\n        across multiple windows when using Sliding Windows.\n     \n    -\n    +3. If message timeouts are enabled, ensure the timeout setting (topology.message.timeout.secs) is large enough to comfortably\n    +   accommodate the window size, plus the additional processing by other spouts and bolts.\n    +\n    +4. Joining a window of two streams with M and N elements each, *in the worst case*, can produce MxN elements with every output tuple\n    +   anchored to one tuples from each input stream. This can mean a lot of output tuples from JoinBolt and even more ACKs for downstream bolts\n    --- End diff --\n    \n    actually it should be  \"one tuple from each input stream\" ... a joined tuple will only be formed out of merging two input tuples (if joining two streams)\n","created":"2017-03-19T02:34:25.714+0000","updated":"2017-03-19T02:34:25.714+0000","started":"2017-03-19T02:34:25.714+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39489","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39490","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user roshannaik commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2019#discussion_r106796495\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/bolt/JoinBolt.java ---\n    @@ -191,9 +191,9 @@ public void execute(TupleWindow inputWindow) {\n             for (ResultRecord resultRecord : joinResult.getRecords()) {\n                 ArrayList<Object> outputTuple = resultRecord.getOutputFields();\n                 if ( outputStreamName==null )\n    -                collector.emit( outputTuple );\n    +                collector.emit( resultRecord.tupleList, outputTuple );\n    --- End diff --\n    \n    good idea.\n","created":"2017-03-19T02:34:47.849+0000","updated":"2017-03-19T02:34:47.849+0000","started":"2017-03-19T02:34:47.848+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39490","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user roshannaik commented on the issue:\n\n    https://github.com/apache/storm/pull/2019\n  \n    Thanks @satishd for the quick turnaround. Updated the PR with the fixes.\n","created":"2017-03-19T02:51:23.123+0000","updated":"2017-03-19T02:51:23.123+0000","started":"2017-03-19T02:51:23.123+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39491","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39529","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user satishd commented on the issue:\n\n    https://github.com/apache/storm/pull/2019\n  \n    @roshannaik TestJoinBolt is filed with errors in travis runs. Can you take a look into those failures?\n","created":"2017-03-20T04:02:40.836+0000","updated":"2017-03-20T04:02:40.836+0000","started":"2017-03-20T04:02:40.835+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39529","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2019\n  \n    +1 for the concept, would like to understand the test failures though.\n","created":"2017-03-20T15:39:36.293+0000","updated":"2017-03-20T15:39:36.293+0000","started":"2017-03-20T15:39:36.292+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39602","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39620","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user roshannaik commented on the issue:\n\n    https://github.com/apache/storm/pull/2019\n  \n    @satishd \n    I have fixed the UTs. The MockCollector.emit used in the UT needed to be updated to correspond with  the emit method used by the JoinBolt.  Have squashed the commits.\n","created":"2017-03-20T23:48:55.177+0000","updated":"2017-03-20T23:48:55.177+0000","started":"2017-03-20T23:48:55.174+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39620","issueId":"13057216"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13057216/worklog/39624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2019\n","created":"2017-03-21T04:16:21.743+0000","updated":"2017-03-21T04:16:21.743+0000","started":"2017-03-21T04:16:21.737+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"39624","issueId":"13057216"}]},"customfield_12311820":"0|i3cgnr:"}}