{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13138336","self":"https://issues.apache.org/jira/rest/api/2/issue/13138336","key":"STORM-2946","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":4200,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":4200,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"2018-02-13 21:16:42.351","customfield_12312320":null,"customfield_12310222":null,"customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2946/watchers","watchCount":2,"isWatching":false},"created":"2018-02-13T21:16:42.351+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-02-21T21:57:06.614+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324394","id":"12324394","name":"storm-hbase","description":"Storm HBase Integration"}],"timeoriginalestimate":null,"description":"HBase 2.0 API changes break storm-hbase. This is to update that component to be compatible with HBase 2.0.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"1h 10m","remainingEstimateSeconds":0,"timeSpentSeconds":4200},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Upgrade storm-hbase to HBase 2.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":4200,"total":4200,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":4200,"total":4200,"percent":100},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2946/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":7,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/73349","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user ptgoetz opened a pull request:\n\n    https://github.com/apache/storm/pull/2556\n\n    STORM-2946: Upgrade to HBase 2.0\n\n    https://issues.apache.org/jira/browse/STORM-2946\r\n    \r\n    We may want to discuss changes like this in the email thread about independently versioned \"external\" components.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/ptgoetz/storm STORM-2946\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2556.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2556\n    \n----\ncommit 278f01bf09ee6d0bbe71315a69118961405b19fe\nAuthor: P. Taylor Goetz <ptgoetz@...>\nDate:   2018-01-26T18:24:27Z\n\n    Merge branch 'STORM-2912' of github.com:HeartSaVioR/storm\n\ncommit f991dae41641eeb9101ec832dd2fd29b5ed3e059\nAuthor: P. Taylor Goetz <ptgoetz@...>\nDate:   2018-02-07T19:02:54Z\n\n    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/storm\n\ncommit 5c3a911c0aed922421f4fab387dfad550ec90b31\nAuthor: P. Taylor Goetz <ptgoetz@...>\nDate:   2018-02-13T17:13:02Z\n\n    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/storm\n\ncommit 06f7f66db3bee17257e7610ff67178fb4ddab49d\nAuthor: P. Taylor Goetz <ptgoetz@...>\nDate:   2018-02-13T21:56:12Z\n\n    STORM-2946: Upgrade to HBase 2.0\n\ncommit 74439146a49aecf42fc129138e641c5d77ec0d76\nAuthor: P. Taylor Goetz <ptgoetz@...>\nDate:   2018-02-13T23:52:54Z\n\n    STORM-2946: checkstyle cleanup\n\n----\n","created":"2018-02-13T23:56:43.333+0000","updated":"2018-02-13T23:56:43.333+0000","started":"2018-02-13T23:56:43.331+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"73349","issueId":"13138336"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/73361","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2556\n  \n    I'm expecting that the patch is just for the update of API change, hence questions look more important than the code change.\r\n    \r\n    Several questions: \r\n    1. Did you test the patch manually with HBase 2.0 beta 1?\r\n    2. I guess there's little chance for HBase community to introduce API change after beta, but the possibility is still open. Moreover that's not ideal to depend on beta version. Do you intend to open this for the official release of HBase 2.0 and update the version/API change once it happens?\r\n    3. Does HBase 2 client be compatible with HBase 1.x? At a glance of HBase 2 project doc (https://docs.google.com/document/d/1WCsVlnHjJeKUcl7wHwqb4z9iEu_ktczrlKHK8N4SZzs/edit#) they claim admin interface is incompatible and HBase 1 client cannot administrate HBase 2. I'm wondering about opposite case (HBase 2 client to administrate HBase 1 server), and same case for other things. In short, I'd like to determine needs to have separate hbase module for HBase 1.x and HBase 2.x.\n","created":"2018-02-14T00:28:12.813+0000","updated":"2018-02-14T00:28:12.813+0000","started":"2018-02-14T00:28:12.812+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"73361","issueId":"13138336"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/73373","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on the issue:\n\n    https://github.com/apache/storm/pull/2556\n  \n    > Did you test the patch manually with HBase 2.0 beta 1?\r\n    \r\n    Not extensively. The point on this JIRA/PR is to raise awareness that we should look at targeting new ecosystem versions. This holds true for HDFS, Hive, etc.\r\n    \r\n    > I guess there's little chance for HBase community to introduce API change after beta, but the possibility is still open. Moreover that's not ideal to depend on beta version. Do you intend to open this for the official release of HBase 2.0 and update the version/API change once it happens?\r\n    Does HBase 2 client be compatible with HBase 1.x? At a glance of HBase 2 project doc \r\n    \r\n    I don't have much influence over the Apache HBase community, so this PR is dependent on what they do. It's an effort to align with where they are going.\r\n    \r\n    > Does HBase 2 client be compatible with HBase 1.x? At a glance of HBase 2 project doc (https://docs.google.com/document/d/1WCsVlnHjJeKUcl7wHwqb4z9iEu_ktczrlKHK8N4SZzs/edit#) they claim admin interface is incompatible and HBase 1 client cannot administrate HBase 2. I'm wondering about opposite case (HBase 2 client to administrate HBase 1 server), and same case for other things. In short, I'd like to determine needs to have separate hbase module for HBase 1.x and HBase 2.x.\r\n    \r\n    Not that I'm aware of. I don't think this change would be backward-compatible, hence my comment about versioning.\r\n    \r\n\n","created":"2018-02-14T01:21:17.160+0000","updated":"2018-02-14T01:21:17.160+0000","started":"2018-02-14T01:21:17.160+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"73373","issueId":"13138336"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/73471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user agresch commented on the issue:\n\n    https://github.com/apache/storm/pull/2556\n  \n    What is the expectation for Storm users using different versions of HBase?  \r\n    \r\n    Should we have some shim layer to allow using any version?  \n","created":"2018-02-14T14:38:43.189+0000","updated":"2018-02-14T14:38:43.189+0000","started":"2018-02-14T14:38:43.188+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"73471","issueId":"13138336"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/73916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user arunmahadevan commented on the issue:\n\n    https://github.com/apache/storm/pull/2556\n  \n    @ptgoetz the changes looks good.\r\n    \r\n    1. Can you share the results of testing these changes with HBase 2.0\r\n    2. Are these changes compatible with HBase 1.x ? Can we try running the patched bolt with HBase 1.x?\r\n    3. Based on the result of 2, we may need to maintain separate storm-hbase modules. Are there any other alternatives ?\r\n\n","created":"2018-02-15T21:48:18.263+0000","updated":"2018-02-15T21:48:18.263+0000","started":"2018-02-15T21:48:18.262+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"73916","issueId":"13138336"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/74068","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on the issue:\n\n    https://github.com/apache/storm/pull/2556\n  \n    @arunmahadevan Yes, I will share the results of my testing and will test for backward compatibility.\r\n    \r\n    I don't have high hopes for backward compatibility based on https://hbase.apache.org/book.html#hbase.versioning\r\n    \r\n    If it isn't compatible, we could either maintain separate storm-hbase modules, or start versioning/releasing storm-hbase independently of storm as we've discussed doing with storm-kafka-client. I'd lean toward the latter.\n","created":"2018-02-16T17:29:28.740+0000","updated":"2018-02-16T17:29:28.740+0000","started":"2018-02-16T17:29:28.740+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"74068","issueId":"13138336"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13138336/worklog/74847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on the issue:\n\n    https://github.com/apache/storm/pull/2556\n  \n    @HeartSaVioR @arunmahadevan \r\n    \r\n    I tested this manually against HBase 2.0.0 beta-1 and HBase 1.1.2 using the examples as well as some custom code covering trident and core storm read/write. All tests passed. So it appears to backward compatible.\n","created":"2018-02-21T21:57:06.610+0000","updated":"2018-02-21T21:57:06.610+0000","started":"2018-02-21T21:57:06.609+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"74847","issueId":"13138336"}]},"customfield_12311820":"0|i3q5i7:"}}