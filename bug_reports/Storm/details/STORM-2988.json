{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13143241","self":"https://issues.apache.org/jira/rest/api/2/issue/13143241","key":"STORM-2988","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":16200,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342807","id":"12342807","name":"1.2.2","archived":false,"released":true,"releaseDate":"2018-06-04"}],"aggregatetimespent":16200,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-05-14T04:39:53.893+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon May 14 04:39:53 UTC 2018","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5305732796_*|*_3_*:*_1_*:*_532539066_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2018-05-14T04:39:53.866+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2988/watchers","watchCount":3,"isWatching":false},"created":"2018-03-07T14:55:22.050+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342766","id":"12342766","name":"1.2.1","archived":false,"released":true,"releaseDate":"2018-02-15"}],"customfield_12312339":null,"issuelinks":[{"id":"12533565","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12533565","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13157962","key":"STORM-3062","self":"https://issues.apache.org/jira/rest/api/2/issue/13157962","fields":{"summary":"Document JMXStormReporter configuration","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dbist13","name":"dbist13","key":"dbist13","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dbist13&avatarId=33435","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbist13&avatarId=33435","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbist13&avatarId=33435","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbist13&avatarId=33435"},"displayName":"Artem Ervits","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-05-21T18:11:03.529+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12332475","id":"12332475","name":"storm-client"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"As per documentation, I configured metrics v2 in my storm.yaml using the following configuration:\r\nÂ \r\n{code:yaml}\r\nstorm.metrics.reporters:\r\n\r\n  - class: \"org.apache.storm.metrics2.reporters.JmxStormReporter\"\r\n    daemons:\r\n        - \"supervisor\"\r\n        - \"nimbus\"\r\n        - \"worker\"\r\n    report.period: 10\r\n    report.period.units: \"SECONDS\"\r\n{code}\r\n\r\nWhen I start nimbus and supervisors everything works properly, I can see metrics reported to JMX, and logs (for nimbus in this example) report:\r\n\r\n{code}\r\n2018-03-07 15:35:22.201 o.a.s.d.m.MetricsUtils main [INFO] Using statistics reporter plugin:org.apache.storm.daemon.metrics.reporters.JmxPreparableReporter\r\n2018-03-07 15:35:22.203 o.a.s.d.m.r.JmxPreparableReporter main [INFO] Preparing...\r\n2018-03-07 15:35:22.221 o.a.s.d.common main [INFO] Started statistics report plugin...\r\n{code}\r\n\r\nWhen I submit a topology, workers cannot initialize and report this error\r\n\r\n{code:java}\r\n2018-03-07 15:39:19.136 o.a.s.d.worker main [INFO] Launching worker for stp_topology-1-1520433551 on [... cut ...]\r\n2018-03-07 15:39:19.169 o.a.s.m.StormMetricRegistry main [INFO] Starting metrics reporters...\r\n2018-03-07 15:39:19.172 o.a.s.m.StormMetricRegistry main [INFO] Attempting to instantiate reporter class: org.apache.storm.metrics2.reporters.JmxStormReporter\r\n2018-03-07 15:39:19.175 o.a.s.m.r.JmxStormReporter main [INFO] Preparing...\r\n2018-03-07 15:39:19.182 o.a.s.d.worker main [ERROR] Error on initialization of server mk-worker\r\njava.lang.IllegalArgumentException: Don't know how to convert {\"class\" \"org.apache.storm.metrics2.reporters.JmxStormReporter\", \"daemons\" [\"supervisor\" \"nimbus\" \"worker\"], \"report.period\" 10, \"report.period.units\" \"SECONDS\"} + to String\r\n\tat org.apache.storm.utils.Utils.getString(Utils.java:848) ~[storm-core-1.2.1.jar:1.2.1]\r\n\tat org.apache.storm.metrics2.reporters.JmxStormReporter.getMetricsJMXDomain(JmxStormReporter.java:70) ~[storm-core-1.2.1.jar:1.2.1]\r\n\tat org.apache.storm.metrics2.reporters.JmxStormReporter.prepare(JmxStormReporter.java:51) ~[storm-core-1.2.1.jar:1.2.1]\r\n\tat org.apache.storm.metrics2.StormMetricRegistry.startReporter(StormMetricRegistry.java:119) ~[storm-core-1.2.1.jar:1.2.1]\r\n\tat org.apache.storm.metrics2.StormMetricRegistry.start(StormMetricRegistry.java:102) ~[storm-core-1.2.1.jar:1.2.1]\r\n\tat org.apache.storm.daemon.worker$fn__5545$exec_fn__1369__auto____5546.invoke(worker.clj:611) ~[storm-core-1.2.1.jar:1.2.1]\r\n\tat clojure.lang.AFn.applyToHelper(AFn.java:178) ~[clojure-1.7.0.jar:?]\r\n\tat clojure.lang.AFn.applyTo(AFn.java:144) ~[clojure-1.7.0.jar:?]\r\n\tat clojure.core$apply.invoke(core.clj:630) ~[clojure-1.7.0.jar:?]\r\n\tat org.apache.storm.daemon.worker$fn__5545$mk_worker__5636.doInvoke(worker.clj:598) [storm-core-1.2.1.jar:1.2.1]\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:512) [clojure-1.7.0.jar:?]\r\n\tat org.apache.storm.daemon.worker$_main.invoke(worker.clj:787) [storm-core-1.2.1.jar:1.2.1]\r\n\tat clojure.lang.AFn.applyToHelper(AFn.java:165) [clojure-1.7.0.jar:?]\r\n\tat clojure.lang.AFn.applyTo(AFn.java:144) [clojure-1.7.0.jar:?]\r\n\tat org.apache.storm.daemon.worker.main(Unknown Source) [storm-core-1.2.1.jar:1.2.1]\r\n2018-03-07 15:39:19.195 o.a.s.util main [ERROR] Halting process: (\"Error on initialization\")\r\njava.lang.RuntimeException: (\"Error on initialization\")\r\n\tat org.apache.storm.util$exit_process_BANG_.doInvoke(util.clj:341) [storm-core-1.2.1.jar:1.2.1]\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:423) [clojure-1.7.0.jar:?]\r\n\tat org.apache.storm.daemon.worker$fn__5545$mk_worker__5636.doInvoke(worker.clj:598) [storm-core-1.2.1.jar:1.2.1]\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:512) [clojure-1.7.0.jar:?]\r\n\tat org.apache.storm.daemon.worker$_main.invoke(worker.clj:787) [storm-core-1.2.1.jar:1.2.1]\r\n\tat clojure.lang.AFn.applyToHelper(AFn.java:165) [clojure-1.7.0.jar:?]\r\n\tat clojure.lang.AFn.applyTo(AFn.java:144) [clojure-1.7.0.jar:?]\r\n\tat org.apache.storm.daemon.worker.main(Unknown Source) [storm-core-1.2.1.jar:1.2.1]\r\n{code}\r\n\r\nLooking at org.apache.storm.metrics2.reporters.JmxStormReporter.getMetricsJMXDomain() I found that it passes \"reporterConf\" map to Utils.getString() instead of a string:\r\n{code:java}\r\n    public static String getMetricsJMXDomain(Map reporterConf) {\r\n        return Utils.getString(reporterConf, JMX_DOMAIN);\r\n}\r\n{code}\r\n\r\nThe \"prepare\" method in org.apache.storm.daemon.metrics.reporters.JmxPreparableReporter used by nimbus and supervisor correctly passes a string to Utils.getString():\r\n\r\n{code:java}\r\npublic void prepare(MetricRegistry metricsRegistry, Map stormConf) {\r\n        LOG.info(\"Preparing...\");\r\n        JmxReporter.Builder builder = JmxReporter.forRegistry(metricsRegistry);\r\n        String domain = Utils.getString(stormConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\r\n        if (domain != null) {\r\n            builder.inDomain(domain);\r\n}\r\n[...]\r\n{code}\r\n\r\nIs this a bug or am I missing something in configuration?\r\n\r\nRegards,\r\nFederico Chiacchiaretta","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"4.5h","remainingEstimateSeconds":0,"timeSpentSeconds":16200},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"\"Error on initialization of server mk-worker\" when using org.apache.storm.metrics2.reporters.JmxStormReporter on worker","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fchiacchiaretta","name":"fchiacchiaretta","key":"fchiacchiaretta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Federico Chiacchiaretta","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fchiacchiaretta","name":"fchiacchiaretta","key":"fchiacchiaretta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Federico Chiacchiaretta","active":true,"timeZone":"Europe/Berlin"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":16200,"total":16200,"percent":100},"environment":"CentOS 7.4\r\njava.version=1.8.0_161\r\njava.home=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.161-0.b14.el7_4.x86_64/jre\r\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":16200,"total":16200,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/comment/16473763","id":"16473763","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Thanks [~dbist13], I merged into master and 1.x-branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2018-05-14T04:39:53.893+0000","updated":"2018-05-14T04:39:53.893+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2988/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":27,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user dbist opened a pull request:\n\n    https://github.com/apache/storm/pull/2665\n\n    STORM-2988 Error on initialization of server mk-worker\n\n    ran tests locally on storm-core and everything is clean.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/dbist/storm STORM-2988\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2665.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2665\n    \n----\ncommit 6c3b627510d68187b79ab7deb74cfb18fb65feb6\nAuthor: Artem Ervits <generic13@...>\nDate:   2018-05-07T21:31:01Z\n\n    STORM-2988 Error on initialization of server mk-worker\n\n----\n","created":"2018-05-07T21:38:13.938+0000","updated":"2018-05-07T21:38:13.938+0000","started":"2018-05-07T21:38:13.937+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99206","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99208","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user priyank5485 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186560080\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    JMX_DOMAIN used initially is different than Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN\r\n    \r\n    I think we should stick to JMX_DOMAIN config key unless @ptgoetz  thinks this is good.\n","created":"2018-05-07T21:41:15.519+0000","updated":"2018-05-07T21:41:15.519+0000","started":"2018-05-07T21:41:15.519+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99208","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99221","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user arunmahadevan commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186563440\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    I think user should be able to specify a domain so it cannot be a fixed value like JMX_DOMAIN. So the proposed changes looks fine.\n","created":"2018-05-07T21:56:21.352+0000","updated":"2018-05-07T21:56:21.352+0000","started":"2018-05-07T21:56:21.351+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99221","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user arunmahadevan commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186564318\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    I think JMX_DOMAIN was intended to be the default value of the domain.\r\n    \r\n    So may be `Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), JMX_DOMAIN)`\r\n    \r\n    cc @ptgoetz \n","created":"2018-05-07T22:00:28.313+0000","updated":"2018-05-07T22:00:28.313+0000","started":"2018-05-07T22:00:28.313+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99225","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user priyank5485 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186564359\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    @arunmahadevan I am not saying we should return that as default value. I am suggesting to use that as the key to look up the conf map. \n","created":"2018-05-07T22:00:41.570+0000","updated":"2018-05-07T22:00:41.570+0000","started":"2018-05-07T22:00:41.569+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99226","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dbist commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186566699\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    happy to oblige, would like to draw a consensus as in branch 2.x I can't just import Config class, be it due to moving of the class from store-core to storm-client or something else? It's explicitly looking for the key in the Config class?\n","created":"2018-05-07T22:12:50.162+0000","updated":"2018-05-07T22:12:50.162+0000","started":"2018-05-07T22:12:50.161+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99235","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186578267\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    @priyank5485 is correct. JMX_DOMAIN is the key for the lookup from the r Porter config.\n","created":"2018-05-07T23:17:07.212+0000","updated":"2018-05-07T23:17:07.212+0000","started":"2018-05-07T23:17:07.212+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99258","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186580893\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    âreturn Utils.getString(reporterConf, JMX_DOMAIN);â\r\n    \r\n    Should be something like \r\n    \r\n    âreturn Utils.getString(reporterConf.get(JMX_DOMAIN), âlocalhostâ);â\r\n    \r\n    (Apologies, not on a computer atm)\n","created":"2018-05-07T23:33:27.304+0000","updated":"2018-05-07T23:33:27.304+0000","started":"2018-05-07T23:33:27.304+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99271","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99272","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2665#discussion_r186581416\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java ---\n    @@ -67,7 +68,7 @@ public void prepare(MetricRegistry metricsRegistry, Map<String, Object> stormCon\n         }\n     \n         public static String getMetricsJMXDomain(Map reporterConf) {\n    -        return Utils.getString(reporterConf, JMX_DOMAIN);\n    +        return Utils.getString(reporterConf.get(Config.STORM_DAEMON_METRICS_REPORTER_PLUGIN_DOMAIN), null);\n    --- End diff --\n    \n    `Utils.getString(reporterConf.get(JMX_DOMAIN), null)` would keep the intention and avoid NPE.\n","created":"2018-05-07T23:36:39.796+0000","updated":"2018-05-07T23:36:39.796+0000","started":"2018-05-07T23:36:39.796+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99272","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99299","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dbist commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    thank you @priyank5485 @arunmahadevan @ptgoetz and @HeartSaVioR for the lively review, integrated changes, please review\n","created":"2018-05-08T00:25:03.749+0000","updated":"2018-05-08T00:25:03.749+0000","started":"2018-05-08T00:25:03.748+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99299","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user dbist opened a pull request:\n\n    https://github.com/apache/storm/pull/2666\n\n    STORM-2988 Error on initialization of server mk-worker\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/dbist/storm STORM-2988-master\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2666.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2666\n    \n----\ncommit 34650ba6c5049f86901de8cecc82abbf2df6ff95\nAuthor: Artem Ervits <generic13@...>\nDate:   2018-05-08T00:42:23Z\n\n    STORM-2988 Error on initialization of server mk-worker\n\n----\n","created":"2018-05-08T00:43:08.562+0000","updated":"2018-05-08T00:43:08.562+0000","started":"2018-05-08T00:43:08.561+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99310","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99311","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dbist commented on the issue:\n\n    https://github.com/apache/storm/pull/2666\n  \n    @ptgoetz please review, this fix targets 2.x branch\n","created":"2018-05-08T00:43:32.638+0000","updated":"2018-05-08T00:43:32.638+0000","started":"2018-05-08T00:43:32.638+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99311","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user arunmahadevan commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    @ptgoetz , any reason to use a different constant while this [config](https://github.com/apache/storm/blob/1.x-branch/storm-core/src/jvm/org/apache/storm/Config.java#L179) exists? And JmxStormReporter seem to use the constants from Config [here](https://github.com/apache/storm/blob/1.x-branch/storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java#L41) and [here](https://github.com/apache/storm/blob/1.x-branch/storm-core/src/jvm/org/apache/storm/metrics2/reporters/JmxStormReporter.java#L46) ? \r\n    \r\n    Is there a documentation to let the users know the right key to use?\n","created":"2018-05-08T00:43:47.478+0000","updated":"2018-05-08T00:43:47.478+0000","started":"2018-05-08T00:43:47.478+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99312","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    > @ptgoetz , any reason to use a different constant while this config exists? And JmxStormReporter seem to use the constants from Config here and here ?\r\n    \r\n    @arunmahadevan, to keep them logically separated so either could be potentially deprecated down the road.\n","created":"2018-05-08T01:49:24.043+0000","updated":"2018-05-08T01:49:24.043+0000","started":"2018-05-08T01:49:24.043+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99323","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99413","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    @arunmahadevan @ptgoetz \r\n    Let's \"reuse all\" or \"duplicate all\", not reuse some of them partially. And let's leave explanation on JmxStormReporter, since there's no explanation on JmxStormReporter from metrics v2 doc as well as storm.yaml.example.\r\n    \r\n    https://github.com/apache/storm/blob/master/docs/metrics_v2.md\r\n    https://github.com/apache/storm/blob/master/conf/storm.yaml.example\n","created":"2018-05-08T07:56:38.022+0000","updated":"2018-05-08T07:56:38.022+0000","started":"2018-05-08T07:56:38.021+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99413","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99614","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user arunmahadevan commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    We should add docs and an example usage in the storm.yaml.example (which has graphite and console). @dbist will be great if you address this for JMXStormReporter as a part of this PR.\n","created":"2018-05-08T16:46:11.163+0000","updated":"2018-05-08T16:46:11.163+0000","started":"2018-05-08T16:46:11.162+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99614","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99616","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user ptgoetz commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    @HeartSaVioR Agreed, but those issues can be addressed outside the scope of this bug (i.e. separate JIRA). For now we should focus on getting this fix in since it is currently holding up the release.\n","created":"2018-05-08T16:47:15.176+0000","updated":"2018-05-08T16:47:15.176+0000","started":"2018-05-08T16:47:15.176+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99616","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99643","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dbist commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    @ptgoetz you've read my mind, this fix is holding up a release and I can work on the separate jira to address the doc, not a problem. We can target that for next release. \n","created":"2018-05-08T17:40:20.781+0000","updated":"2018-05-08T17:40:20.781+0000","started":"2018-05-08T17:40:20.781+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99643","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dbist commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    doc update jira is https://issues.apache.org/jira/browse/STORM-3062\r\n    please review this PR and 2666 for branch 2 fix.\n","created":"2018-05-08T17:46:54.159+0000","updated":"2018-05-08T17:46:54.159+0000","started":"2018-05-08T17:46:54.158+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99648","issueId":"13143241"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143241/worklog/99721","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2665\n  \n    @ptgoetz @dbist \r\n    I'm OK to go ahead assuming it is normal to run JmxReporter without additional options. But please sort out options as I commented earlier. It makes no sense to mix up specific report config and global config. Please reuse all or duplicate all. If they can be set per reporter, there's no reason to use global config.\n","created":"2018-05-08T20:57:57.104+0000","updated":"2018-05-08T20:57:57.104+0000","started":"2018-05-08T20:57:57.104+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"99721","issueId":"13143241"}]},"customfield_12311820":"0|i3qzpj:"}}