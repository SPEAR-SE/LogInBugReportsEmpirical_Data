{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12987140","self":"https://issues.apache.org/jira/rest/api/2/issue/12987140","key":"STORM-1945","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-07-06T14:08:31.725+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 08 06:59:21 UTC 2016","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1219444_*|*_3_*:*_1_*:*_148419616_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-07-08T06:59:21.322+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1945/watchers","watchCount":2,"isWatching":false},"created":"2016-07-06T13:25:22.616+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":"STORM-1856","customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-07-08T06:59:21.622+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12328751","id":"12328751","name":"storm-ui"}],"timeoriginalestimate":null,"description":"When opening topology page which uses old storm-kafka Spout, page shows Internal Server Error on bottom side.\nAnd REST API /api/v1/topology/:topology/lag also shows Internal Server Error.\nIts errorMessage is describing NPE, but stack track gives less help since it's already within catch statement so we can't trace why origin exception is thrown by only looking at errorMessage. And there's no error message on ui log file.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12816427","id":"12816427","filename":"Screen Shot 2016-07-06 at 4.25.41 PM.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-06T13:25:47.719+0000","size":121070,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12816427/Screen+Shot+2016-07-06+at+4.25.41+PM.png"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Internal Server Error shown on topology page for topology using KafkaSpout","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15364354","id":"15364354","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user HeartSaVioR opened a pull request:\n\n    https://github.com/apache/storm/pull/1540\n\n    STORM-1945 Fix NPE bugs on topology spout lag for storm-kafka-monitor\n\n    * Fix several spots which are throwing NPE on TopologySpoutLag\n      * Use a trick to get classname of Spout without requiring storm-kafka and storm-kafka-client\n    * Move storm-kafka-monitor jar to toollib directory\n      * since jars in extlib are added to worker classpath which we don't want for this jar\n    \n    @priyank5485 @harshach Please take a look and comment. Thanks!\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/HeartSaVioR/storm STORM-1945\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1540.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1540\n    \n----\ncommit da387c1e3fb8d7a704c479569d7e84ce52d58e7c\nAuthor: Jungtaek Lim <kabhwan@gmail.com>\nDate:   2016-07-06T13:49:46Z\n\n    STORM-1945 Fix NPE bugs on topology spout lag for storm-kafka-monitor\n    \n    * Fix several spots which are throwing NPE on TopologySpoutLag\n      * Use a trick to get classname of Spout without requiring storm-kafka and storm-kafka-client\n    * Move storm-kafka-monitor jar to toollib directory\n      * since jars in extlib are added to worker classpath which we don't want for this jar\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-06T14:08:31.725+0000","updated":"2016-07-06T14:08:31.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15364357","id":"15364357","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user HeartSaVioR opened a pull request:\n\n    https://github.com/apache/storm/pull/1541\n\n    STORM-1945 Fix NPE bugs on topology spout lag for storm-kafka-monitor (1.x)\n\n    PR for master: #1540 \n    \n    * Fix several spots which are throwing NPE on TopologySpoutLag\n      * Use a trick to get classname of Spout without requiring storm-kafka and storm-kafka-client\n    * Move storm-kafka-monitor jar to toollib directory\n      * since jars in extlib are added to worker classpath which we don't want for this jar\n    \n    @priyank5485 @harshach Please take a look and comment. Thanks!\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/HeartSaVioR/storm STORM-1945-1.x\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1541.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1541\n    \n----\ncommit 224f542d539406297f84947aed33a404b73798d7\nAuthor: Jungtaek Lim <kabhwan@gmail.com>\nDate:   2016-07-06T13:49:46Z\n\n    STORM-1945 Fix NPE bugs on topology spout lag for storm-kafka-monitor\n    \n    * Fix several spots which are throwing NPE on TopologySpoutLag\n      * Use a trick to get classname of Spout without requiring storm-kafka and storm-kafka-client\n    * Move storm-kafka-monitor jar to toollib directory\n      * since jars in extlib are added to worker classpath which we don't want for this jar\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-06T14:10:18.037+0000","updated":"2016-07-06T14:10:18.037+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365467","id":"15365467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1541\n  \n    +1.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T01:51:22.219+0000","updated":"2016-07-07T01:51:22.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365469","id":"15365469","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1541#discussion_r69841403\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/utils/TopologySpoutLag.java ---\n    @@ -43,26 +43,44 @@\n         public static List<Map<String, Object>> lag (StormTopology stormTopology, Map topologyConf) {\n             List<Map<String, Object>> result = new ArrayList<>();\n             Map<String, SpoutSpec> spouts = stormTopology.get_spouts();\n    -        Object object = null;\n    +        String className = null;\n             for (Map.Entry<String, SpoutSpec> spout: spouts.entrySet()) {\n                 try {\n                     SpoutSpec spoutSpec = spout.getValue();\n                     ComponentObject componentObject = spoutSpec.get_spout_object();\n    -                object = Utils.getSetComponentObject(componentObject);\n    --- End diff --\n    \n    The problem starts here. For many situation we can't deserialize Spout object since UI doesn't have dependency for that Spout, for example, storm-kafka or storm-kafka-client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T01:55:01.379+0000","updated":"2016-07-07T01:55:01.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365615","id":"15365615","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1541#discussion_r69851558\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/utils/TopologySpoutLag.java ---\n    @@ -43,26 +43,44 @@\n         public static List<Map<String, Object>> lag (StormTopology stormTopology, Map topologyConf) {\n             List<Map<String, Object>> result = new ArrayList<>();\n             Map<String, SpoutSpec> spouts = stormTopology.get_spouts();\n    -        Object object = null;\n    +        String className = null;\n             for (Map.Entry<String, SpoutSpec> spout: spouts.entrySet()) {\n                 try {\n                     SpoutSpec spoutSpec = spout.getValue();\n                     ComponentObject componentObject = spoutSpec.get_spout_object();\n    -                object = Utils.getSetComponentObject(componentObject);\n    --- End diff --\n    \n    @HeartSaVioR how do we deserialize for supervisors or others they don't have any dependency on  spouts or any other component.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T05:04:51.816+0000","updated":"2016-07-07T05:04:51.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365640","id":"15365640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1541\n  \n    @HeartSaVioR while we are here can we fix the JSON response as well.\n    currently what we have is this\n    [{\"spoutLagResult\":\"[{\\\"topic\\\":\\\"topic\\\",\\\"partition\\\":0,\\\"consumerCommittedOffset\\\":1175610,\\\"logHeadOffset\\\":5634192,\\\"lag\\\":4458582},{\\\"topic\\\":\\\"topic\\\",\\\"partition\\\":1,\\\"consumerCommittedOffset\\\":1251325,\\\"logHeadOffset\\\":5634192,\\\"lag\\\":4382867}]\",\"spoutId\":\"spout\",\"spoutType\":\"KAFKA\"}]\n    \n    we should be returning an array instead lets have something like this\n    \n    { \"spoutId\" : \"spout\"\n      \"spoutType\" :  \"KAFKA\"\n      \"spoutLagResult\" : [\n          \"topic\": // key is topic name\n                [\"partition0\": {\\\"consumerCommittedOffset\\\":1175610,\\\"logHeadOffset\\\":5634192,\\\"lag\\\":4458582},\n                 \"partition2: {\\\"consumerCommittedOffset\\\":1175610,\\\"logHeadOffset\\\":5634192,\\\"lag\\\":4458582},\n                ],\n          \"topic2\" : \n                     [\"partition0\": {\\\"consumerCommittedOffset\\\":1175610,\\\"logHeadOffset\\\":5634192,\\\"lag\\\":4458582},\n                 \"partition2: {\\\"consumerCommittedOffset\\\":1175610,\\\"logHeadOffset\\\":5634192,\\\"lag\\\":4458582},\n                ]\n      \n    }\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T05:34:14.609+0000","updated":"2016-07-07T05:34:14.609+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365650","id":"15365650","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1541#discussion_r69854113\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/utils/TopologySpoutLag.java ---\n    @@ -43,26 +43,44 @@\n         public static List<Map<String, Object>> lag (StormTopology stormTopology, Map topologyConf) {\n             List<Map<String, Object>> result = new ArrayList<>();\n             Map<String, SpoutSpec> spouts = stormTopology.get_spouts();\n    -        Object object = null;\n    +        String className = null;\n             for (Map.Entry<String, SpoutSpec> spout: spouts.entrySet()) {\n                 try {\n                     SpoutSpec spoutSpec = spout.getValue();\n                     ComponentObject componentObject = spoutSpec.get_spout_object();\n    -                object = Utils.getSetComponentObject(componentObject);\n    --- End diff --\n    \n    @harshach Only task calls this method, no need to deserialize spout / bolt objects on daemons. Now UI is an exception case.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T05:48:43.410+0000","updated":"2016-07-07T05:48:43.410+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365674","id":"15365674","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user abhishekagarwal87 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1541#discussion_r69855772\n  \n    --- Diff: storm-dist/binary/src/main/assembly/binary.xml ---\n    @@ -340,10 +340,10 @@\n             </fileSet>\n             <!-- $STORM_HOME/extlib -->\n             <fileSet>\n    -            <directory>${project.basedir}/../../external/storm-kafka-monitor/target</directory>\n    +            <directory></directory>\n    --- End diff --\n    \n    This change is not clear. Directory change from extlib to toollib is happening in other section. Shouldn't this be removed entirely\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T06:15:43.966+0000","updated":"2016-07-07T06:15:43.966+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365676","id":"15365676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1541#discussion_r69855945\n  \n    --- Diff: storm-dist/binary/src/main/assembly/binary.xml ---\n    @@ -340,10 +340,10 @@\n             </fileSet>\n             <!-- $STORM_HOME/extlib -->\n             <fileSet>\n    -            <directory>${project.basedir}/../../external/storm-kafka-monitor/target</directory>\n    +            <directory></directory>\n    --- End diff --\n    \n    It's needed to create empty directory \"extlib\". \n    https://github.com/apache/storm/blob/1.0.x-branch/storm-dist/binary/src/main/assembly/binary.xml#L335\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T06:18:07.085+0000","updated":"2016-07-07T06:18:07.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365684","id":"15365684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user abhishekagarwal87 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1541#discussion_r69857098\n  \n    --- Diff: storm-dist/binary/src/main/assembly/binary.xml ---\n    @@ -340,10 +340,10 @@\n             </fileSet>\n             <!-- $STORM_HOME/extlib -->\n             <fileSet>\n    -            <directory>${project.basedir}/../../external/storm-kafka-monitor/target</directory>\n    +            <directory></directory>\n    --- End diff --\n    \n    I see. Since storm-kafka-monitor was being copied always, this section was not needed anymore. Thanks for clarifying. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T06:34:24.510+0000","updated":"2016-07-07T06:34:24.510+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365698","id":"15365698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1541\n  \n    @harshach \n    I guess you mean this: \n    ```\n    [\n       {\n          \"spoutId\":\"spout\",\n          \"spoutType\":\"KAFKA\",\n          \"spoutLagResult\":{\n             \"topic\":{\n                \"partition0\":{\n                   \"consumerCommittedOffset\":1175610,\n                   \"logHeadOffset\":5634192,\n                   \"lag\":4458582\n                },\n                \"partition2\":{\n                   \"consumerCommittedOffset\":1175610,\n                   \"logHeadOffset\":5634192,\n                   \"lag\":4458582\n                }\n             },\n             \"topic2\":{\n                \"partition0\":{\n                   \"consumerCommittedOffset\":1175610,\n                   \"logHeadOffset\":5634192,\n                   \"lag\":4458582\n                },\n                \"partition2\":{\n                   \"consumerCommittedOffset\":1175610,\n                   \"logHeadOffset\":5634192,\n                   \"lag\":4458582\n                }\n             }\n          }\n       }\n    ]\n    ```\n    \n    I agree this is better for removing duplicated thing and also easy to find by path. I'll update it.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T06:45:42.984+0000","updated":"2016-07-07T06:45:42.984+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15365877","id":"15365877","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1541\n  \n    It would be better for changing JSON response to file a new issue and make it out of scope for this PR, since [STORM-1945](https://issues.apache.org/jira/browse/STORM-1945) is a bugfix which is marked as critical.\n    Filed new issue for changing JSON response format: [STORM-1950](https://issues.apache.org/jira/browse/STORM-1950)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-07T09:41:43.997+0000","updated":"2016-07-07T09:41:43.997+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15367312","id":"15367312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1540\n  \n    Already got +1 from 1.x branch PR and diff is same. Merging.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-08T06:54:51.193+0000","updated":"2016-07-08T06:54:51.193+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15367320","id":"15367320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1540\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-08T06:57:28.399+0000","updated":"2016-07-08T06:57:28.399+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15367321","id":"15367321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1541\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-08T06:57:31.146+0000","updated":"2016-07-08T06:57:31.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12987140/comment/15367322","id":"15367322","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Merged into master and 1.x-branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-08T06:59:21.530+0000","updated":"2016-07-08T06:59:21.530+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1945/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i30ldj:"}}