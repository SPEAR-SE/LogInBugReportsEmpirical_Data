{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12726317","self":"https://issues.apache.org/jira/rest/api/2/issue/12726317","key":"STORM-397","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2014-08-07T15:57:50.446+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Aug 20 14:41:24 UTC 2014","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_3633384768_*|*_5_*:*_1_*:*_0","customfield_12310420":"404424","customfield_12312321":null,"resolutiondate":"2014-08-20T14:41:50.435+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-397/watchers","watchCount":3,"isWatching":false},"created":"2014-07-09T13:25:25.710+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326452","id":"12326452","name":"0.9.2-incubating","archived":false,"released":true,"releaseDate":"2014-06-25"}],"customfield_12312339":null,"issuelinks":[{"id":"12394605","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12394605","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12718573","key":"STORM-341","self":"https://issues.apache.org/jira/rest/api/2/issue/12718573","fields":{"summary":"assignment reassignment","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-05T02:05:04.219+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"We're running two topologies on a cluster with 3 supervisors. By default, both topologies are assigned onto the same supervisor. If that supervisor dies, storm reassigns one topology to another supervisor but not the other, leaving the second topology inactive.\n\nThere are various symptoms/possible causes of this problem. In the nimbus logs, from when the topologies are initially submitted, nimbus is continually trying to reassign the second topology to the same supervisor every 10 seconds:\n\n{noformat}\n2014-07-09 14:17:11 -: b.s.d.nimbus [INFO] Setting new assignment for topology id Sync-1-1404911509: #backtype.storm.daemon.common.Assignment{:master-code-dir \"/storm/nimbus/stormdist/Sync-1-1404911509\", :node->host {\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" \"sc-beta-r\"}, :executor->node+port {[6 6] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [11 11] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [5 5] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [9 10] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [12 12] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [3 4] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [7 8] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [1 2] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703]}, :executor->start-time-secs {[1 2] 1404911831, [7 8] 1404911831, [3 4] 1404911831, [12 12] 1404911831, [9 10] 1404911831, [5 5] 1404911831, [11 11] 1404911831, [6 6] 1404911831}}\n2014-07-09 14:17:21 -: b.s.d.nimbus [INFO] Setting new assignment for topology id Sync-1-1404911509: #backtype.storm.daemon.common.Assignment{:master-code-dir \"/storm/nimbus/stormdist/Sync-1-1404911509\", :node->host {\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" \"sc-beta-r\"}, :executor->node+port {[6 6] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [9 10] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [5 5] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [11 11] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [12 12] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [3 4] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [7 8] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [1 2] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703]}, :executor->start-time-secs {[1 2] 1404911841, [7 8] 1404911841, [3 4] 1404911841, [12 12] 1404911841, [9 10] 1404911841, [5 5] 1404911841, [11 11] 1404911841, [6 6] 1404911841}}\n2014-07-09 14:17:32 -: b.s.d.nimbus [INFO] Setting new assignment for topology id Sync-1-1404911509: #backtype.storm.daemon.common.Assignment{:master-code-dir \"/storm/nimbus/stormdist/Sync-1-1404911509\", :node->host {\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" \"sc-beta-r\"}, :executor->node+port {[6 6] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [11 11] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [5 5] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [9 10] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [12 12] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [3 4] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [7 8] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703], [1 2] [\"9f5f2ddd-40ee-4ac1-b705-2957089af330\" 6703]}, :executor->start-time-secs {[1 2] 1404911852, [7 8] 1404911852, [3 4] 1404911852, [12 12] 1404911852, [9 10] 1404911852, [5 5] 1404911852, [11 11] 1404911852, [6 6] 1404911852}}\n{noformat}\n\nThese log messages continue after the supervisor it's running on dies - nimbus continually tries to reassign to a dead supervisor. Note that the other topology is reassigned elsewhere without problems.\n\nIf the broken topology is rebalanced, only then does nimbus assign the topology to a working supervisor.\n\nAnother symptom of this is that, when the machines running storm are started, only one topology is running on startup. The second topology is not assigned to a supervisor. Again, it takes a rebalance for nimbus to actually assign the topology somewhere.\n\nA couple of possibly related bugs are STORM-256 and STORM-341, but I don't really understand those bugs enough to be able to link it to these problems.\n\nThis is a major issue for us. One of the reasons for using storm is that if a supervisor were to die, storm would automatically fail over to another supervisor. This does not happen, leaving our cluster with a SPOF.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12660397","id":"12660397","filename":"nimbus.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"created":"2014-08-07T16:48:35.293+0000","size":38214,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12660397/nimbus.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12660396","id":"12660396","filename":"storm.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"created":"2014-08-07T16:48:35.289+0000","size":30514,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12660396/storm.png"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"404463","customfield_12312823":null,"summary":"Nimbus does not reassign a topology when the supervisor dies","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"2 topologies, 3 supervisors","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14089371","id":"14089371","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"We have not seen this issue so far.  How reproducible is the issue?  Does this happen every time the supervisor dies?  Are you using the default even scheduler or is it the isolation scheduler? If it is the isolation scheduler are either of the topologies isolated?  I assume not, because you indicated that multiple topologies were running on the same supervisor.\n\nIs it possible for you to share the logs, including the logs for nimbus, the supervisors, and the workers.  Or to share a stripped down version of your topologies that can use to reproduce the issue?\n\nIn general storm does not reassign workers when a supervisor goes down, because the supervisor is supposed to be under supervision and be restarted quickly.  Nimbus assumes that any failure there is transient.  However, if a worker fails to heartbeat into nimbus, through zookeeper, for a default timeout of 30 seconds, it will assume that the worker has died and will mark the worker to be rescheduled.  If the supervisor is down at the time this rescheduling happens then nimbus will reschedule the worker on a different node that has a slot free.  If the supervisor is still up when the rescheduling happens or manages to restart in time for nimbus to see it up there is a possibility that the scheduler will place the worker in the same slot it was in before.  There are also lots of corner cases when you have a cluster that is nearly full and enough nodes go down that there are no longer enough slots to run everything.\n\nJust looking at the log lines provided, the only thing that seems to be changing between the assignments is the start time aka when they were reassigned, and two assignments switch places in their order.  Looking at the code the assignment ordering looks like it might be enough to trigger the logs being printed out, but I don't really know for sure.  In either case, both schedulers really only reschedules workers when they think that they are not up and functioning.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2014-08-07T15:57:50.446+0000","updated":"2014-08-07T15:57:50.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14089383","id":"14089383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"looking at the JIRA you referenced STORM-341 looks like it may be the reason you are getting reassignments, but it does not address the root cause of why one topology was rescheduled and not the other one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2014-08-07T16:12:02.905+0000","updated":"2014-08-07T16:12:02.905+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14089429","id":"14089429","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"body":"This is completely reproducible - every time on cluster startup we need to manually rebalance nimbus to get it running the topologies somewhere, and every time we kill the machine running the topologies it stops working.\n\nHere's the nimbus logfile - sc-alpha-r (5abe7707-763e-461a-9327-ae2ad2979e4d) is running two topologies, called 'Sync' and 'Async', sc-beta-r is running nimbus and another spare supervisor (b252b5bd-c0c3-442b-b464-9936f628fd01), and a third supervisor is on sc-gamma-r (9466061c-dd13-4de6-927c-ac6a5c60adeb). The zookeeper cluster is running across those three machines as well.\n\nI pull the network cable out of sc-alpha-r between 17:15:40 and 17:16:00. Notice that, beforehand, nimbus is still trying to reassign Sync to sc-alpha-r, even though it's running there already (that log file was originally 90MB, filled with those messages)\n\nAfter 30s, nimbus notices that Async is not running, and reassigns it to sc-beta-r. It still tries to reassign Sync to sc-alpha-r.\n\nInterestingly, in the UI, it now shows the two supervisors still running, but only one slot is being used (two should be used, one for each topology). I've attached the screenshot.\n\nAt 17:37:04, I manually rebalance Sync (notice that nimbus thinks that Sync is still up), and it reassigns it to sc-beta-r. But then it continues to reassign to sc-beta-r, and it will continue to do so forever.\n\n\nMy guess is that nimbus is getting stuck in a loop, continually trying to reassign the Sync topology, and is so busy doing that that it doesn't notice the worker running Sync has disappeared.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"created":"2014-08-07T16:48:35.298+0000","updated":"2014-08-07T16:48:35.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14089721","id":"14089721","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"This is really odd I have not been able to reproduce this.  My only guess is that when you pull the network cable Async gets an error and dies quickly, where as Sync does not and tries to reconnect to zookeeper.  When you plug the cable back in, it finally succeeds in reconnecting and Nimbus continues to see it up and running.  Do you have your supervisors running under supervision so they are restarted when they exit?\n\nThe 90MB of logs is almost definitely STORM-341.  I'll try to take the proposed fix for STORM-341 and come up with a patch you can try and see if that at least clear up the logs for you.  Could you please look at the logs for your workers on sc-alpha-r and try to determine when the workers crashed because of the network cut, or if they continued running.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2014-08-07T20:04:36.921+0000","updated":"2014-08-07T20:04:36.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14089747","id":"14089747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"[~thecoop1984]\nI made the change based off of 0.9.2, I want to be sure the fix is working before I make the pull request official.  Could you try out\n\nhttps://github.com/revans2/incubator-storm/compare/STORM-341.diff\n\nor\n\nhttps://github.com/revans2/incubator-storm/tree/STORM-341\n\nand let me know if it fixes anything, even if it just makes the logs smaller.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2014-08-07T20:16:46.028+0000","updated":"2014-08-07T20:16:46.028+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14090540","id":"14090540","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"body":"Looks like that patch has fixed both issues - the log spam and nimbus not reassigning the topology properly. Thanks very much for looking at the problem, all looks ok now!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"created":"2014-08-08T09:42:59.673+0000","updated":"2014-08-08T09:42:59.673+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14090542","id":"14090542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"body":"For your information, the worker and supervisor on sc-alpha-r all crashed when the network cable was pulled because they couldn't connect to ZK (which is also running across those 3 machines)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thecoop1984","name":"thecoop1984","key":"thecoop1984","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Cooper","active":true,"timeZone":"Etc/UTC"},"created":"2014-08-08T09:44:33.078+0000","updated":"2014-08-08T09:44:33.078+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726317/comment/14103946","id":"14103946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"[~thecoop1984] Sorry it took me so long to see your comment about the fix working.  I turned the diff into a formal pull request against STORM-341.  Because it fixed both issues I will dupe this one to STORM-341 and increase the priority of it to critical to match the priority here. If you feel this is in error please let me know.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2014-08-20T14:41:24.351+0000","updated":"2014-08-20T14:41:24.351+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-397/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1xlpb:"}}