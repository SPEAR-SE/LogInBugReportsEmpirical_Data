{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12990162","self":"https://issues.apache.org/jira/rest/api/2/issue/12990162","key":"STORM-1976","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335747","id":"12335747","name":"1.0.2","archived":false,"released":true,"releaseDate":"2016-08-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-07-17T08:16:01.100+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jul 20 04:08:59 UTC 2016","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5225405_*|*_3_*:*_1_*:*_226933635_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-07-19T23:32:30.247+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1976/watchers","watchCount":6,"isWatching":false},"created":"2016-07-17T07:03:11.568+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329843","id":"12329843","name":"1.0.0","archived":false,"released":true,"releaseDate":"2016-04-12"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335587","id":"12335587","name":"1.0.1","archived":false,"released":true,"releaseDate":"2016-05-06"}],"customfield_12312339":null,"issuelinks":[{"id":"12475204","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12475204","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12990169","key":"STORM-1977","self":"https://issues.apache.org/jira/rest/api/2/issue/12990169","fields":{"summary":"Leader Nimbus crashes with getClusterInfo when it doesn't have one or more replicated topology codes","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-07-21T16:05:33.642+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"In the following scenario storm-ha runs into issues:\n1. Kill a non-leader nimbus\n2. Submit a topology\n3. Bring up the non-leader nimbus\n\nAfter step-3 expectation is that the non-leader nimbus will download topology jar. Instead it cleans up the topology.\n\n{code}\n2016-07-12 07:11:09.511 o.a.s.c.zookeeper-state-factory [WARN] Received event ::none: with disconnected Reader Zookeeper.\n2016-07-12 07:11:09.587 o.a.s.zookeeper [INFO] Queued up for leader lock.\n2016-07-12 07:11:09.608 o.a.s.d.nimbus [INFO] Corrupt topology JoinedNonLeaderNimbusTriesToDownloadTopologyCode-2-1468307239 has state on zookeeper but doesn't have a local dir on Nimbus. Cleaning up...\n2016-07-12 07:11:09.932 o.a.h.m.s.s.StormTimelineMetricsReporter [INFO] Preparing Storm Metrics Reporter\n2016-07-12 07:11:09.946 o.a.s.d.m.MetricsUtils [INFO] Using statistics reporter plugin:org.apache.storm.daemon.metrics.reporters.JmxPreparableReporter\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Storm Nimbus H/A has issue on cleaning corrupted topologies","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raghavgautam","name":"raghavgautam","key":"raghavgautam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raghavgautam&avatarId=17270","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raghavgautam&avatarId=17270","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raghavgautam&avatarId=17270","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raghavgautam&avatarId=17270"},"displayName":"Raghav Kumar Gautam","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381220","id":"15381220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"cleanup-corrupt-topologies! is a legacy code written at very first version of Nimbus so it doesn't consider H/A of nimbus. It assumes that all topology codes should be available at Nimbus startup, but in many cases it doesn't.\n\nLet me show some cases:\n\n1. When we launch nimbus process from new node. The node never has topology code in local dir since this is the first time Nimbus process is launched. So while startup of Nimbus, Nimbus calls cleanup-corrupt-topologies!, and all topologies goes away from ZK.\n(This is easy to reproduce and occurred during valid use case so IMO this is 'Blocker'.)\n\n2. At a glance, Local BlobStore does full replications to all nimbuses which is same as before.\nBut when submitting topology, leader Nimbus starts to make assignment when topology.min.replication.count is achieved or it waits longer than topology.max.replication.wait.time.sec. So there's still a gap between topology assignment and full replications. If one or more follower nimbuses are crashed before replicating topology code at that time and restarted, cleanup-corrupt-topologies! removes that topology from ZK.\n\nBtw, I didn't look deeply at the source code, but full replication seems to be started immediately when topology is submitted. I set nimbus.code.sync.freq.secs to 600 to give a delay, but full replication is started while topology code is uploading to leader nimbus. If then this gap may be small in LAN.\n\nN1 (leader)\n{code}\n2016-07-17 07:51:39.128 o.a.s.d.nimbus [INFO] Received topology submission for production-topology2 with conf {\"topology.max.task.parallelism\" nil, \"topology.submitter.principal\" \"\", \"topology.acker.executors\" nil, \"topology.eventlogger.executors\" 0, \"topology.debug\" true, \"storm.zookeeper.superACL\" nil, \"topology.users\" (), \"topology.submitter.user\" \"storm\", \"topology.kryo.register\" nil, \"topology.kryo.decorators\" (), \"storm.id\" \"production-topology2-1-1468741899\", \"topology.name\" \"production-topology2\"}\n...\n2016-07-17 07:51:39.301 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormjar.jar/<node1>:6627-1\n2016-07-17 07:51:39.346 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormconf.ser/<node1>:6627-1\n2016-07-17 07:51:39.389 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormcode.ser/<node1>:6627-1\n...\n2016-07-17 07:51:39.400 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormjar.jar with id 5b4103f0-d4cf-4ec9-9191-e2a0e06ad97c\n...\n2016-07-17 07:51:39.403 o.a.s.d.nimbus [INFO] desired replication count 1 achieved, current-replication-count for conf key = 1, current-replication-count for code key = 1, current-replication-count for jar key = 1\n...\n2016-07-17 07:51:39.415 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormjar.jar with id 854cabdd-080f-4c6f-91fe-81950490e67d\n2016-07-17 07:51:39.436 o.a.s.d.nimbus [INFO] Activating production-topology2: production-topology2-1-1468741899\n2016-07-17 07:51:40.578 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormjar.jar with id 50809e38-61b2-4533-9942-0aa28cb327c0\n2016-07-17 07:51:41.058 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormjar.jar with id 83949b7a-ac55-484a-a4f2-5361a90ee518\n2016-07-17 07:51:41.836 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormcode.ser with id c6c80b3c-99da-4557-9af5-7f49d6eaccc9\n2016-07-17 07:51:41.906 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormconf.ser with id 051d7ced-7f8f-4170-88a2-86a01fe49e28\n2016-07-17 07:51:42.703 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormcode.ser with id dd7bf0ab-6b06-46e5-9b44-f4d956812a0b\n2016-07-17 07:51:42.768 o.a.s.d.nimbus [INFO] Created download session for production-topology2-1-1468741899-stormconf.ser with id cea017dc-c574-4891-a00a-3febd6bd001a\n{code}\n\nN2 (non-leader)\n{code}\n2016-07-17 07:51:40.526 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormjar.jar/<node2>:6627-0\n2016-07-17 07:51:41.806 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormjar.jar/<node2>:6627-1\n2016-07-17 07:51:41.891 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormcode.ser/<node2>:6627-0\n2016-07-17 07:51:41.956 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormconf.ser/<node2>:6627-0\n{code}\n\nN3 (non-leader)\n{code}\n2016-07-17 07:51:40.999 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormjar.jar/<node3>:6627-0\n2016-07-17 07:51:42.665 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormjar.jar/<node3>:6627-1\n2016-07-17 07:51:42.735 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormcode.ser/<node3>:6627-0\n2016-07-17 07:51:42.795 o.a.s.cluster [INFO] setup-path/blobstore/production-topology2-1-1468741899-stormconf.ser/<node3>:6627-0\n...\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-17T08:16:01.100+0000","updated":"2016-07-17T08:16:01.100+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381258","id":"15381258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"cleanup-corrupt-topologies! should change the condition for cleaning up to check availability of whole nimbuses.\nI'm not sure if replication count works. If it does, we can just use this. If it doesn't work, we should just remove cleanup-corrupt-topologies!.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-17T09:29:56.951+0000","updated":"2016-07-17T09:29:56.951+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381310","id":"15381310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raghavgautam","name":"raghavgautam","key":"raghavgautam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raghavgautam&avatarId=17270","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raghavgautam&avatarId=17270","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raghavgautam&avatarId=17270","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raghavgautam&avatarId=17270"},"displayName":"Raghav Kumar Gautam","active":true,"timeZone":"America/Los_Angeles"},"body":"You are right, checking against replication count will not work. I had seen the issue when the replication count was 1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raghavgautam","name":"raghavgautam","key":"raghavgautam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raghavgautam&avatarId=17270","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raghavgautam&avatarId=17270","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raghavgautam&avatarId=17270","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raghavgautam&avatarId=17270"},"displayName":"Raghav Kumar Gautam","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-17T11:57:08.215+0000","updated":"2016-07-17T11:57:08.215+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381359","id":"15381359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"I didn't mean configuration of replication count. I'm saying current replicated count for specific blob.\nAnyway I'm just thinking about getting rid of that code, since cleaning up corrupt topology when only startup is not making sense for now. We could eventually set stable condition for checking corrupted topology, and clean up periodically, but for now I don't have an idea.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-17T14:10:02.985+0000","updated":"2016-07-17T14:10:02.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381597","id":"15381597","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"body":"[~kabhwan] as far as I know first version of nimbus doesn't do clean up if its non-leader. From your description it seems that non-leader nimbus is calling the cleanup of the topologies. Is that right?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-18T00:51:24.193+0000","updated":"2016-07-18T00:51:24.193+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381608","id":"15381608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"[~sriharsha]\nYes condition statement for checking leader seems to be deleted.\nBtw, old logic also doesn't make sense since nimbus was elected to leader only when it has all topologies code locally. So effectively no-op.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-18T01:09:26.177+0000","updated":"2016-07-18T01:09:26.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381615","id":"15381615","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"body":"[~kabhwan] I think the old logic is seems ok to me. It makes assumption about the topology jar is replicated on all the nimbus nodes. Which makes sense when the user deploys the topology we immediately sync to all the nimbus nodes hence the reason we had min.num.replication , its the criteria that minimum number of nimbus nodes need to have the topology jar for the uploadJar to be successful. Not sure if the new code follows that.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-18T01:34:37.500+0000","updated":"2016-07-18T01:34:37.500+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381622","id":"15381622","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"[~sriharsha] \nYes I mean that cleanup-corrupt-topologies! was effectively no-op (so can be deleted) since leader should have all the topology codes which is actually what cleanup-corrupt-topologies! is trying to check for cleaning up. \nIf a nimbus meets the condition for leader, there's always no corrupt topologies.\ncleanup-corrupt-topologies! is executed only when starting up nimbus.\n\nBtw, new code follows the criteria: waiting for replicating via topology.min.replication.count and topology.max.replication.wait.time.sec.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-18T01:49:51.020+0000","updated":"2016-07-18T01:49:51.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381665","id":"15381665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user HeartSaVioR opened a pull request:\n\n    https://github.com/apache/storm/pull/1571\n\n    STORM-1976 Remove cleanup-corrupt-topologies!\n\n    * cleanup-corrupt-topologies! was born from non-H/A Nimbus age\n    * Keeping this with Nimbus H/A makes various issues which in result topology going away\n    \n    Please refer [STORM-1976](https://issues.apache.org/jira/browse/STORM-1976) for more details.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/HeartSaVioR/storm STORM-1976\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1571.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1571\n    \n----\ncommit 391a8460345f29a25cdf0041368e36069709093b\nAuthor: Jungtaek Lim <kabhwan@gmail.com>\nDate:   2016-07-17T23:05:25Z\n\n    STORM-1976 Remove cleanup-corrupt-topologies!\n    \n    * cleanup-corrupt-topologies! was born from non-H/A Nimbus age\n    * Keeping this with Nimbus H/A makes various issues which in result topology going away\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T03:29:59.967+0000","updated":"2016-07-18T03:29:59.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381666","id":"15381666","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user HeartSaVioR opened a pull request:\n\n    https://github.com/apache/storm/pull/1572\n\n    STORM-1976 Remove cleanup-corrupt-topologies! (1.x)\n\n    For master branch: #1571 \n    \n    * cleanup-corrupt-topologies! was born from non-H/A Nimbus age\n    * Keeping this with Nimbus H/A makes various issues which in result topology going away\n    \n    Please refer [STORM-1976](https://issues.apache.org/jira/browse/STORM-1976) for more details.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/HeartSaVioR/storm STORM-1976-1.x\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1572.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1572\n    \n----\ncommit d677f54b4d6281733169e493eb3330bbde95bbe7\nAuthor: Jungtaek Lim <kabhwan@gmail.com>\nDate:   2016-07-17T22:48:55Z\n\n    STORM-1976 Remove cleanup-corrupt-topologies!\n    \n    * cleanup-corrupt-topologies! was born from non-H/A Nimbus age\n    * Keeping this with Nimbus H/A makes various issues which in result topology going away\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T03:32:20.584+0000","updated":"2016-07-18T03:32:20.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15381681","id":"15381681","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    +1 . build failures are not related to the patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T03:51:00.883+0000","updated":"2016-07-18T03:51:00.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15382337","id":"15382337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    +1, but I would like to see a tool that can kill a corrupted topology without nimbus being involved, or instructions somewhere on how to do it by logging directly into ZooKeeper.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T14:15:38.278+0000","updated":"2016-07-18T14:15:38.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15382351","id":"15382351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"For me I keep seeing this.  Min replication count was not set but the cluster was run in HA mode and something bad happened, and then HA did not recover cleanly.  This issue is that without with min replication count HA does not really work properly.  It would be nice to have a way to make this simpler for end users so they don't have something else to configure.  But the reality is that a lot of this feels like user errors and errors in documentation, not blockers for the software.  Additionally I don't think we want to \"fix\" min replication count not being set quickly.  I think it is a more complex problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2016-07-18T14:26:19.866+0000","updated":"2016-07-18T14:26:19.866+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15382439","id":"15382439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    @revans2 \n    Yes agreed. After removing this code we can't remove corrupted topology in normal way since no nimbus can gain leadership. It would be nice to have a tool to show replication count of topologies *without leader nimbus involved* to determine corrupted topology, and kill one if users want to.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T15:15:54.981+0000","updated":"2016-07-18T15:15:54.981+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15382524","id":"15382524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    @revans2 @HeartSaVioR why can't we enforce the min.replication.count by looking nimbus.seeds if there are more than one host in that list we should set the min.replication.count to 2. User can override the setting by specifying it in storm.yaml. My understanding is they are not doing it and we are relying on min.replication.count to be 1.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T16:14:19.658+0000","updated":"2016-07-18T16:14:19.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15382537","id":"15382537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    @HeartSaVioR actually I have thought about it more and I am probably overreacting.  If you want to call these blockers  it is not that big of a deal.  I would just like the community have a follow on discussion about how we really want HA to behave in these situations now that we have had some experience with people running with HA.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T16:23:40.626+0000","updated":"2016-07-18T16:23:40.626+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15382539","id":"15382539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    @harshach I don't think that would fix the issue, although it is an improvement.  If I think about it more I think what happened was that they were not running with HA/expecting HA to work, but ran into a bad situation where they really would have wanted to be running with HA, and then when they tried to recover, by bringing up a new nimbus instance, all of the topologies were killed.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T16:26:45.026+0000","updated":"2016-07-18T16:26:45.026+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15383132","id":"15383132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    @HeartSaVioR @revans2 are we ok with merging this in and file a follow-up JIRA to have a discussion around the HA and expectations from user.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-18T21:43:44.351+0000","updated":"2016-07-18T21:43:44.351+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15384201","id":"15384201","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    Yes I am good with merging this in.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-19T14:17:05.320+0000","updated":"2016-07-19T14:17:05.320+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15384220","id":"15384220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    Yes I think discussion of Nimbus H/A and BlobStore would be longer, so we need to apply short-term fix first. There're lots of critical bugfixes in 1.0.2 so we shouldn't drag the release because of struggling long-term fix.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-19T14:25:24.297+0000","updated":"2016-07-19T14:25:24.297+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15384534","id":"15384534","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1572\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-19T17:18:12.021+0000","updated":"2016-07-19T17:18:12.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15385058","id":"15385058","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR closed the pull request at:\n\n    https://github.com/apache/storm/pull/1571\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-19T23:26:25.804+0000","updated":"2016-07-19T23:26:25.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15385059","id":"15385059","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1571\n  \n    It seems to be off sync due to fixing rebase conflict. Merged to master. Closing.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-19T23:26:25.804+0000","updated":"2016-07-19T23:26:25.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15385066","id":"15385066","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Set fix version/s to 1.0.3 tentatively. It's up to vote result, and this could be 1.0.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-19T23:32:30.420+0000","updated":"2016-07-19T23:32:30.420+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12990162/comment/15385286","id":"15385286","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1572\n  \n    Regarding tool, I filed an issue: https://issues.apache.org/jira/browse/STORM-1985\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-20T04:08:59.271+0000","updated":"2016-07-20T04:08:59.271+0000"}],"maxResults":25,"total":25,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1976/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i313i7:"}}