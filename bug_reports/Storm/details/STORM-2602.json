{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13082483","self":"https://issues.apache.org/jira/rest/api/2/issue/13082483","key":"STORM-2602","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":15000,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12339656","id":"12339656","name":"1.1.1","archived":false,"released":true,"releaseDate":"2017-08-01"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12341047","id":"12341047","name":"1.2.0","archived":false,"released":true,"releaseDate":"2018-02-15"}],"aggregatetimespent":15000,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-07-06T03:36:11.533+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jul 06 03:36:11 UTC 2017","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_834459815_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2017-07-06T03:36:11.495+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2602/watchers","watchCount":2,"isWatching":false},"created":"2017-06-26T11:48:31.764+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuzhaokun","name":"liuzhaokun","key":"liuzhaokun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"liuzhaokun","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-06T03:37:28.872+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12332475","id":"12332475","name":"storm-client"}],"timeoriginalestimate":null,"description":"\"storm.zookeeper.topology.auth.payload\" doesn't work even you have set it,because there doesn't use it when the value of STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD isn't null or other abnormal condition.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"4h 10m","remainingEstimateSeconds":0,"timeSpentSeconds":15000},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"\"storm.zookeeper.topology.auth.payload\" doesn't work even you set it","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuzhaokun","name":"liuzhaokun","key":"liuzhaokun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"liuzhaokun","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuzhaokun","name":"liuzhaokun","key":"liuzhaokun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"liuzhaokun","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":15000,"total":15000,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":15000,"total":15000,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/comment/16075872","id":"16075872","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Thanks [~liuzhaokun], I merged into master, 1.x-branch, 1.1.x-branch.\nKeep up the good work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2017-07-06T03:36:11.533+0000","updated":"2017-07-06T03:36:11.533+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2602/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":25,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46126","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user liu-zhaokun opened a pull request:\n\n    https://github.com/apache/storm/pull/2180\n\n    [STORM-2602] storm.zookeeper.topology.auth.payload doesn't work even you set it\n\n    [https://issues.apache.org/jira/browse/STORM-2602](https://issues.apache.org/jira/browse/STORM-2602)\n    \"storm.zookeeper.topology.auth.payload\" doesn't work even you have set it,because there doesn't use it when the value of STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD isn't null or other abnormal condition.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/liu-zhaokun/storm new5\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2180.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2180\n    \n----\ncommit 319c878f0f5e154ce2d8ecddcde0111e8c285642\nAuthor: liuzhaokun <liu.zhaokun@zte.com.cn>\nDate:   2017-06-26T11:53:03Z\n\n    [STORM-2602] storm.zookeeper.topology.auth.payload doesn't work even you set it\n\n----\n","created":"2017-06-26T11:55:17.487+0000","updated":"2017-06-26T11:55:17.487+0000","started":"2017-06-26T11:55:17.486+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46126","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46180","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    Could you help me review this PR?I think it's a major bug.\n","created":"2017-06-27T01:42:16.505+0000","updated":"2017-06-27T01:42:16.505+0000","started":"2017-06-27T01:42:16.503+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46180","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    Sorry I don't know the detail of this part and not sure this is a bug. Have you faced specific issue regarding this ug?\n    cc. @revans2 I guess you might know about the detail, though the code block is 3 years old.\n","created":"2017-06-29T03:41:14.767+0000","updated":"2017-06-29T03:41:14.767+0000","started":"2017-06-29T03:41:14.766+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46542","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46543","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    I want to use my payload by setting the configuration which named \"STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD\",but it doesn't work.The payload of any topology always be a uuid generated by the method which named generateZookeeperDigestSecretPayload().It isn't difficult to judge the logic of \"prepareZookeeperAuthentication\" was defective.\n","created":"2017-06-29T03:47:34.253+0000","updated":"2017-06-29T03:47:34.253+0000","started":"2017-06-29T03:47:34.253+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46543","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @liu-zhaokun \n    \n    I read through the code and I would like to confirm how you are setting the payload.  It looks like you are setting the payload in the storm.yaml file, and not passing it in on the command line, or setting it programmatically when submitting your topology.  Is that correct?\n    \n    If so then that is a use case I didn't anticipate when I first wrote the code and this change is fine, except for some indentation issues.\n","created":"2017-06-29T18:45:24.262+0000","updated":"2017-06-29T18:45:24.262+0000","started":"2017-06-29T18:45:24.261+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46686","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46687","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    On a related note this change looks to have broken \n    \n    ```\n    org.apache.storm.submitter-test / testname: test-md5-digest-secret-generation\n    ```\n    \n    So please take a look at why it broke.  It probably just needs to be updated to always expect a payload to be returned.\n\n","created":"2017-06-29T18:48:28.407+0000","updated":"2017-06-29T18:48:28.407+0000","started":"2017-06-29T18:48:28.407+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46687","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2180#discussion_r124883536\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -78,21 +78,18 @@ public static boolean validateZKDigestPayload(String payload) {\n         @SuppressWarnings(\"unchecked\")\n         public static Map prepareZookeeperAuthentication(Map<String, Object> conf) {\n             Map toRet = new HashMap();\n    -\n    +        String secretPayload = (String) conf.get(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD);\n             // Is the topology ZooKeeper authentication configuration unset?\n             if (! conf.containsKey(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD) ||\n                     conf.get(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD) == null ||\n                     !  validateZKDigestPayload((String)\n                         conf.get(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD))) {\n    -\n    -            String secretPayload = generateZookeeperDigestSecretPayload();\n    +            secretPayload = generateZookeeperDigestSecretPayload();\n    +        }\n                 toRet.put(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD, secretPayload);\n    --- End diff --\n    \n    Please adjust the indentation here.\n","created":"2017-06-29T18:49:34.249+0000","updated":"2017-06-29T18:49:34.249+0000","started":"2017-06-29T18:49:34.249+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46688","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2180#discussion_r124883491\n  \n    --- Diff: storm-client/src/jvm/org/apache/storm/StormSubmitter.java ---\n    @@ -78,21 +78,18 @@ public static boolean validateZKDigestPayload(String payload) {\n         @SuppressWarnings(\"unchecked\")\n         public static Map prepareZookeeperAuthentication(Map<String, Object> conf) {\n             Map toRet = new HashMap();\n    -\n    +        String secretPayload = (String) conf.get(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD);\n             // Is the topology ZooKeeper authentication configuration unset?\n             if (! conf.containsKey(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD) ||\n                     conf.get(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD) == null ||\n                     !  validateZKDigestPayload((String)\n                         conf.get(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD))) {\n    -\n    -            String secretPayload = generateZookeeperDigestSecretPayload();\n    +            secretPayload = generateZookeeperDigestSecretPayload();\n    +        }\n                 toRet.put(Config.STORM_ZOOKEEPER_TOPOLOGY_AUTH_PAYLOAD, secretPayload);\n                 LOG.info(\"Generated ZooKeeper secret payload for MD5-digest: \" + secretPayload);\n    --- End diff --\n    \n    Please move this line up to be right below line 87.  We don't want to log that we generated a payload unless we actually did.\n","created":"2017-06-29T18:49:34.313+0000","updated":"2017-06-29T18:49:34.313+0000","started":"2017-06-29T18:49:34.313+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46689","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46712","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @revans2 \n    Yes,I pass this configuration by storm.config.I will take a look at that test,and adjust my code according to your opinion.Thanks for your reply.\n","created":"2017-06-30T00:52:35.120+0000","updated":"2017-06-30T00:52:35.120+0000","started":"2017-06-30T00:52:35.117+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46712","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46721","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    Hello,I have update the test,and adjust my code according to @revans2  's opinion.Could you help me merge it?\n","created":"2017-06-30T03:25:21.327+0000","updated":"2017-06-30T03:25:21.327+0000","started":"2017-06-30T03:25:21.325+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46721","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46728","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    The new commit has passed all the tests.\n","created":"2017-06-30T05:47:38.006+0000","updated":"2017-06-30T05:47:38.006+0000","started":"2017-06-30T05:47:38.005+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46728","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46782","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @hmcl \n    Could you help me merge this PR?\n","created":"2017-07-01T02:56:23.055+0000","updated":"2017-07-01T02:56:23.055+0000","started":"2017-07-01T02:56:23.055+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46782","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    Could you help me merge this PR?\n","created":"2017-07-01T03:24:31.292+0000","updated":"2017-07-01T03:24:31.292+0000","started":"2017-07-01T03:24:31.291+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46785","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    Did you miss this PR?\n","created":"2017-07-03T00:57:56.941+0000","updated":"2017-07-03T00:57:56.941+0000","started":"2017-07-03T00:57:56.935+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46822","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @HeartSaVioR \n    Did you miss this PR?Could you help me merge this PR?\n","created":"2017-07-04T02:30:44.306+0000","updated":"2017-07-04T02:30:44.306+0000","started":"2017-07-04T02:30:44.305+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46916","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @vesense \n    Could you help me merge it?\n","created":"2017-07-04T02:36:51.625+0000","updated":"2017-07-04T02:36:51.625+0000","started":"2017-07-04T02:36:51.625+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46917","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46932","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @revans2 \n    Could you help me merge it?\n","created":"2017-07-04T07:35:06.201+0000","updated":"2017-07-04T07:35:06.201+0000","started":"2017-07-04T07:35:06.200+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46932","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46934","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @srdo \n    Could you help me merge it?\n","created":"2017-07-04T07:40:45.228+0000","updated":"2017-07-04T07:40:45.228+0000","started":"2017-07-04T07:40:45.227+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46934","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/46935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user liu-zhaokun commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    @harshach \n    Could you help me merge it?\n","created":"2017-07-04T07:42:00.116+0000","updated":"2017-07-04T07:42:00.116+0000","started":"2017-07-04T07:42:00.116+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46935","issueId":"13082483"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082483/worklog/47089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user knusbaum commented on the issue:\n\n    https://github.com/apache/storm/pull/2180\n  \n    +1\n","created":"2017-07-05T20:02:14.938+0000","updated":"2017-07-05T20:02:14.938+0000","started":"2017-07-05T20:02:14.936+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"47089","issueId":"13082483"}]},"customfield_12311820":"0|i3gq7z:"}}