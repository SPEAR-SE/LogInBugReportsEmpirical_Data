{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12686422","self":"https://issues.apache.org/jira/rest/api/2/issue/12686422","key":"STORM-187","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326452","id":"12326452","name":"0.9.2-incubating","archived":false,"released":true,"releaseDate":"2014-06-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-12-30T02:36:41.094+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon May 19 15:25:32 UTC 2014","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5977473013_*|*_5_*:*_1_*:*_0","customfield_12310420":"365411","customfield_12312321":null,"resolutiondate":"2014-03-05T19:33:26.254+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-187/watchers","watchCount":12,"isWatching":false},"created":"2013-12-26T15:08:53.271+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":["netty","storm","zeromq"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-09T00:46:51.550+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"Hi,\n\nI am trying to use Netty as the transport layer in storm 0.9.0.1 but I am getting the following error trace:\n\n{code}\njava.lang.IllegalArgumentException: timeout value is negative\n    at java.lang.Thread.sleep(Native Method)\n    at backtype.storm.messaging.netty.Client.reconnect(Client.java:78)\n    at backtype.storm.messaging.netty.StormClientHandler.exceptionCaught(StormClientHandler.java:108)\n    at org.jboss.netty.handler.codec.frame.FrameDecoder.exceptionCaught(FrameDecoder.java:377)\n    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:525)\n    at org.jboss.netty.channel.socket.nio.NioClientBoss.processSelectedKeys(NioClientBoss.java:109)\n    at org.jboss.netty.channel.socket.nio.NioClientBoss.process(NioClientBoss.java:78)\n    at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\n    at org.jboss.netty.channel.socket.nio.NioClientBoss.run(NioClientBoss.java:41)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n{code}\n\nI am using the following supervisor config:\n\n{code}\nstorm.zookeeper.servers:\n    - \"son-rtl-dev-zook1\"\nstorm.zookeeper.port: 9000\nstorm.local.dir: \"/mnt/storm\"\nstorm.local.hostname: \"son-rtl-dev-superv1\"\n\njava.library.path: \"/usr/local/lib\"\n\nnimbus.host: \"son-rtl-dev-nimbus\"\nnimbus.task.launch.secs: 240\n\nsupervisor.worker.start.timeout.secs: 240\nsupervisor.worker.timeout.secs: 240\nsupervisor.childopts: \"-Xmx512m -Djava.net.preferIPv4Stack=true\"\nsupervisor.slots.ports:\n    - 6700\n    - 6701\n    - 6702\n    - 6703\n    - 6704\n    - 6705\n    - 6706\n    - 6707\n\nworker.childopts: \"-Xmx512m -Djava.net.preferIPv4Stack=true\"\nnimbus.childopts: \"-Xmx512m -Djava.net.preferIPv4Stack=true\"\ntopology.message.timeout.secs: 1\n\nstorm.messaging.transport: \"backtype.storm.messaging.netty.Context\"\nstorm.messaging.netty.server_worker_threads: 1\nstorm.messaging.netty.client_worker_threads: 1\nstorm.messaging.netty.buffer_size: 5242880\nstorm.messaging.netty.max_retries: 30\nstorm.messaging.netty.max_wait_ms: 1000\nstorm.messaging.netty.min_wait_ms: 100\n{code}\n\nWithout these last config lines, topologies are working fine using ZMQ.\n\nAny idea?\n\nThanks","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12632785","id":"12632785","filename":"STORM-187.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"created":"2014-03-05T06:14:25.325+0000","size":1784,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12632785/STORM-187.patch"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"365713","customfield_12312823":null,"summary":"From ZMQ to Netty \"java.lang.IllegalArgumentException: timeout value is negative\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13858533","id":"13858533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mauzhang","name":"mauzhang","key":"mauzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Manu Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"try to set \"storm.messaging.netty.max_retries\" to a smaller number (e.g. 10). The current setting will cause sleep_time to exceed the maximum integer and evaluate to a negative value.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mauzhang","name":"mauzhang","key":"mauzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Manu Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-12-30T02:36:41.094+0000","updated":"2013-12-30T02:36:41.094+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13860321","id":"13860321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"body":"Hi,\n\nThanks for the response. Now I am not getting the mentioned error but the topology is not working. I see to much traces like this:\n\n2014-01-02 16:29:40 b.s.m.n.Client [INFO] Reconnect ... [10]\n2014-01-02 16:29:40 b.s.m.n.Client [WARN] Remote address is not reachable. We will close this client.\n\nAny idea?\n\nThanks\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"created":"2014-01-02T16:44:16.210+0000","updated":"2014-01-02T16:44:16.210+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13861029","id":"13861029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mauzhang","name":"mauzhang","key":"mauzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Manu Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Have you verified any network problems ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mauzhang","name":"mauzhang","key":"mauzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Manu Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-01-03T00:46:27.330+0000","updated":"2014-01-03T00:46:27.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13861375","id":"13861375","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"body":"Yes, it is all fine. As I mentioned the topologies work fine with ZMQ but when I put those lines in the storm.yaml they don't work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"created":"2014-01-03T09:27:09.174+0000","updated":"2014-01-03T09:27:09.174+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13861477","id":"13861477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"body":"More log traces:\n\n2014-01-03 12:38:08 b.s.m.n.Client [WARN] Remote address is not reachable. We will close this client.\n2014-01-03 12:38:09 b.s.util [ERROR] Async loop died!\njava.lang.RuntimeException: java.lang.RuntimeException: Client is being closed, and does not take requests any more\n    at backtype.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:90) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.utils.DisruptorQueue.consumeBatchWhenAvailable(DisruptorQueue.java:61) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.disruptor$consume_batch_when_available.invoke(disruptor.clj:62) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.disruptor$consume_loop_STAR_$fn__2975.invoke(disruptor.clj:74) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.util$async_loop$fn__444.invoke(util.clj:403) ~[storm-core-0.9.0.1.jar:na]\n    at clojure.lang.AFn.run(AFn.java:24) [clojure-1.4.0.jar:na]\n    at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\nCaused by: java.lang.RuntimeException: Client is being closed, and does not take requests any more\n    at backtype.storm.messaging.netty.Client.send(Client.java:109) ~[storm-netty-0.9.0.1.jar:na]\n    at backtype.storm.daemon.worker$mk_transfer_tuples_handler$fn__5867$fn__5868.invoke(worker.clj:304) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.daemon.worker$mk_transfer_tuples_handler$fn__5867.invoke(worker.clj:293) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.disruptor$clojure_handler$reify__2962.onEvent(disruptor.clj:43) ~[storm-core-0.9.0.1.jar:na]\n    at backtype.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:87) ~[storm-core-0.9.0.1.jar:na]\n    ... 6 common frames omitted\n\nI tried to map the hostnames of the different components of the storm architecture (nimbus, zookepers and workers) to their IPs in /etc/hosts just in case, but the result is the same.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jihonrado","name":"jihonrado","key":"jihonrado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jose Ignacio Honrado","active":true,"timeZone":"Europe/Madrid"},"created":"2014-01-03T12:42:01.514+0000","updated":"2014-01-03T12:42:01.514+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13862569","id":"13862569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=piyushrai","name":"piyushrai","key":"piyushrai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piyush Rai","active":true,"timeZone":"Asia/Kolkata"},"body":"I was running a storm topology and found the same issue:\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x655862ff] EXCEPTION: java.net.ConnectException: Connection refused)\njava.lang.IllegalArgumentException: timeout value is negative\n        at java.lang.Thread.sleep(Native Method)\n        at backtype.storm.messaging.netty.Client.reconnect(Client.java:78)\n        at backtype.storm.messaging.netty.StormClientHandler.exceptionCaught(StormClientHandler.java:108)\n        at org.jboss.netty.handler.codec.frame.FrameDecoder.exceptionCaught(FrameDecoder.java:377)\n        at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:525)\n        at org.jboss.netty.channel.socket.nio.NioClientBoss.processSelectedKeys(NioClientBoss.java:109)\n        at org.jboss.netty.channel.socket.nio.NioClientBoss.process(NioClientBoss.java:78)\n        at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\n        at org.jboss.netty.channel.socket.nio.NioClientBoss.run(NioClientBoss.java:41)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:701)\n\nIs netty production ready?\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=piyushrai","name":"piyushrai","key":"piyushrai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piyush Rai","active":true,"timeZone":"Asia/Kolkata"},"created":"2014-01-05T15:17:53.456+0000","updated":"2014-01-05T15:17:53.456+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13862593","id":"13862593","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=piyushrai","name":"piyushrai","key":"piyushrai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piyush Rai","active":true,"timeZone":"Asia/Kolkata"},"body":"Just found out that this issue happens when I directly kill supervisor and nimbus without killing the topology from the storm ui. Also when I start the topology with the same name the error persists, but if I change the topology name the topology starts to work again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=piyushrai","name":"piyushrai","key":"piyushrai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piyush Rai","active":true,"timeZone":"Asia/Kolkata"},"created":"2014-01-05T16:47:50.355+0000","updated":"2014-01-05T16:47:50.355+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13879880","id":"13879880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jnioche","name":"jnioche","key":"jnioche","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jnioche&avatarId=10040","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jnioche&avatarId=10040","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jnioche&avatarId=10040","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jnioche&avatarId=10040"},"displayName":"Julien Nioche","active":true,"timeZone":"Europe/London"},"body":"Am getting the same error Jose posted on 3/01. Here is how I configured storm :\n\n{quote}\nstorm.messaging.transport: \"backtype.storm.messaging.netty.Context\"\nstorm.messaging.netty.server_worker_threads: 1\nstorm.messaging.netty.client_worker_threads: 1\nstorm.messaging.netty.buffer_size: 5242880\nstorm.messaging.netty.max_retries: 10\nstorm.messaging.netty.max_wait_ms: 1000\nstorm.messaging.netty.min_wait_ms: 100\n{quote}\n\nAny idea?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jnioche","name":"jnioche","key":"jnioche","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jnioche&avatarId=10040","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jnioche&avatarId=10040","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jnioche&avatarId=10040","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jnioche&avatarId=10040"},"displayName":"Julien Nioche","active":true,"timeZone":"Europe/London"},"created":"2014-01-23T12:01:03.329+0000","updated":"2014-01-23T12:01:03.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13886409","id":"13886409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Priya+Ganesan","name":"Priya Ganesan","key":"priya ganesan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Priya","active":true,"timeZone":"America/Los_Angeles"},"body":"Can anyone please guide me to run storm in remote mode? what are all the changes that I must do in yaml file to run in remote mode. should I want to add any changes in Netty folder interms of IP address. \n\nThank you,\nPriya","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Priya+Ganesan","name":"Priya Ganesan","key":"priya ganesan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Priya","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-30T08:35:11.773+0000","updated":"2014-01-30T08:35:11.773+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13886658","id":"13886658","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=piyushrai","name":"piyushrai","key":"piyushrai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piyush Rai","active":true,"timeZone":"Asia/Kolkata"},"body":"Go through the following links and I think that should get you started\nhttps://github.com/nathanmarz/storm/wiki/Running-topologies-on-a-production-cluster\nhttp://www.michael-noll.com/tutorials/running-multi-node-storm-cluster/\n\n\n\n\n\n\n\n-- \nRegards,\nPiyush Rai\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=piyushrai","name":"piyushrai","key":"piyushrai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piyush Rai","active":true,"timeZone":"Asia/Kolkata"},"created":"2014-01-30T15:26:09.188+0000","updated":"2014-01-30T15:26:09.188+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13887470","id":"13887470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Priya+Ganesan","name":"Priya Ganesan","key":"priya ganesan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Priya","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Piyush for your reply. I am running storm on windows. The above link consists of linux commands. And also I don't have any clear idea about the dependencies. It will be very useful if you please help me\n\nThanks,\nPriya\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Priya+Ganesan","name":"Priya Ganesan","key":"priya ganesan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Priya","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-31T04:57:40.892+0000","updated":"2014-01-31T04:57:40.892+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13920566","id":"13920566","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"body":"https://github.com/apache/incubator-storm/pull/41","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"created":"2014-03-05T06:14:25.329+0000","updated":"2014-03-05T06:14:25.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/13959718","id":"13959718","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user easyreal commented on the pull request:\n\n    https://github.com/apache/incubator-storm/pull/41#issuecomment-39538772\n  \n    it does not resolve the underlying problems:\"netty reconnect\"ï¼š\n    https://issues.apache.org/jira/browse/STORM-187 \n    I want to know what could cause this problem,because i found the same issue in our project\n    thank you\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-04T07:34:00.783+0000","updated":"2014-04-04T07:34:00.783+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/14000986","id":"14000986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jreichhold","name":"jreichhold","key":"jreichhold","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Reichhold","active":true,"timeZone":"America/Los_Angeles"},"body":"Any chance this is being released soon? Saw discussion a few weeks ago and have tracked down to a point where EC2 nodes won't work with Netty as the transport until this is fixed. Enough changes with this release that I'm getting tempted to cut a 0.9.1.1 release to move forward.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jreichhold","name":"jreichhold","key":"jreichhold","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Reichhold","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-18T04:02:37.678+0000","updated":"2014-05-18T04:02:37.678+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/14001702","id":"14001702","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=SoAG","name":"SoAG","key":"soag","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roland Jungnickel","active":true,"timeZone":"Etc/UTC"},"body":"Is there any info on when there is going to be a release with this fix included? We are facing the situation where we can't reliably scale our storm setup to multiple instances in our production environment due to this bug. So I'd appreciate any info on a release or a temporary workaround. \n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=SoAG","name":"SoAG","key":"soag","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roland Jungnickel","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-19T13:55:41.350+0000","updated":"2014-05-19T13:55:41.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/14001713","id":"14001713","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dschiavu","name":"dschiavu","key":"dschiavu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danijel Schiavuzzi","active":true,"timeZone":"Etc/UTC"},"body":"I agree. A new minor version (0.9.1.1-incubating?) needs to be released with this fix included, since this bug affects the reliability and fault tolerance of the whole Storm cluster!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dschiavu","name":"dschiavu","key":"dschiavu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danijel Schiavuzzi","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-19T14:14:09.183+0000","updated":"2014-05-19T14:14:09.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/14001716","id":"14001716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dschiavu","name":"dschiavu","key":"dschiavu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danijel Schiavuzzi","active":true,"timeZone":"Etc/UTC"},"body":"[~SoAG] a temporary workaround is to merge https://github.com/apache/incubator-storm/pull/41 into 0.9.1-incubating and build your own Storm release. See https://github.com/apache/incubator-storm/blob/master/DEVELOPER.md for build instructions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dschiavu","name":"dschiavu","key":"dschiavu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danijel Schiavuzzi","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-19T14:17:29.722+0000","updated":"2014-05-19T14:17:29.722+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/14001717","id":"14001717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jreichhold","name":"jreichhold","key":"jreichhold","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Reichhold","active":true,"timeZone":"America/Los_Angeles"},"body":"Technically I pulled the apach-0.9.1 tag and included the fix. This worked perfectly after running mvn clean package -DskipTests=true in the main repo and then in the storm-dist folder. One thing interesting I found is that I also needed to grab the libthrift out of the new package. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jreichhold","name":"jreichhold","key":"jreichhold","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Reichhold","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-19T14:18:44.573+0000","updated":"2014-05-19T14:18:44.573+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686422/comment/14001887","id":"14001887","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=SoAG","name":"SoAG","key":"soag","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roland Jungnickel","active":true,"timeZone":"Etc/UTC"},"body":"Cool thanks a lot [~jreichhold] and [~dschiavu]. I am going to give this a try now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=SoAG","name":"SoAG","key":"soag","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roland Jungnickel","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-19T15:25:32.612+0000","updated":"2014-05-19T16:08:33.064+0000"}],"maxResults":19,"total":19,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-187/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1qzfb:"}}