{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12947783","self":"https://issues.apache.org/jira/rest/api/2/issue/12947783","key":"STORM-1609","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329843","id":"12329843","name":"1.0.0","archived":false,"released":true,"releaseDate":"2016-04-12"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335675","id":"12335675","name":"0.10.2","archived":false,"released":true,"releaseDate":"2016-09-14"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-03-08T19:09:49.691+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Aug 17 17:54:55 UTC 2016","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1815421057_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2016-03-28T20:37:29.649+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1609/watchers","watchCount":5,"isWatching":false},"created":"2016-03-07T20:20:28.626+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[{"id":"12512786","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12512786","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12922311","key":"STORM-1394","self":"https://issues.apache.org/jira/rest/api/2/issue/12922311","fields":{"summary":"Netty Client never continue reconnection when worker started a moment ago.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12466784","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12466784","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12922311","key":"STORM-1394","self":"https://issues.apache.org/jira/rest/api/2/issue/12922311","fields":{"summary":"Netty Client never continue reconnection when worker started a moment ago.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sanket991","name":"sanket991","key":"sanket991","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sanket Reddy","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-08-24T05:30:52.847+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"f Worker-A has connection to Worker-B that is unused ( and if Worker-B restarted), we drop messages because Channel is not in good state. Can we avoid message drop until we succeed in making new connection or a timeout?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Netty Client is not best effort delivery on failed Connection","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sanket991","name":"sanket991","key":"sanket991","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sanket Reddy","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sanket991","name":"sanket991","key":"sanket991","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sanket Reddy","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185532","id":"15185532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user redsanket opened a pull request:\n\n    https://github.com/apache/storm/pull/1194\n\n    [STORM-1609] Netty Client is not best effort delivery on failed Connection\n\n    If Worker-A has connection to Worker-B that is unused ( and if Worker-B restarted), we drop messages because Channel is not in good state. Can we avoid message drop until we succeed in making new connection or a timeout?\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/redsanket/storm netty-best-effort\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1194.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1194\n    \n----\ncommit 54b6ac4975582bb6b3ef3511369e52ad81db05b3\nAuthor: Sanket <schintap@untilservice-lm>\nDate:   2016-03-08T19:06:39Z\n\n    netty loss of messages resolution\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T19:09:49.691+0000","updated":"2016-03-08T19:09:49.691+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185687","id":"15185687","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-193948629\n  \n    +1 looks good to me.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T20:12:39.853+0000","updated":"2016-03-08T20:12:39.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185823","id":"15185823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-193972568\n  \n    +1. We should also apply this to 1.x-branch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T21:20:07.232+0000","updated":"2016-03-08T21:20:07.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185869","id":"15185869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user d2r commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55431809\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +164,35 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    --- End diff --\n    \n    Let's move the code in the static block above down here at the beginning of `launchChannelAliveThread`, so that as @revans2 suggests, the stack trace will not be so confusing.\n    \n    ```Java\n    if (timer == null) {\n      synchronized (Client.class) {\n        if (timer == null) {\n          timer = new Timer(\"Netty-ChannelAlive-Timer\", true);\n        }\n      }\n    }\n    ```\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T21:35:22.794+0000","updated":"2016-03-08T21:35:22.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185876","id":"15185876","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user d2r commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55432071\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +164,35 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    +        // netty TimerTask is already defined and hence a fully\n    +        // qualified name\n    +        timer.schedule(new java.util.TimerTask() {\n    +            public void run() {\n    +                try {\n    +                    LOG.debug(\"running timer task, address {}\", dstAddress);\n    +                    if(closing) {\n    +                        this.cancel();\n    --- End diff --\n    \n    Just to be cleaner and avoid a possible race, let's return here so we don't call `getConnectedChannel`.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T21:37:08.538+0000","updated":"2016-03-08T21:37:08.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185878","id":"15185878","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user d2r commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55432309\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -108,6 +110,13 @@\n         private final AtomicInteger messagesLost = new AtomicInteger(0);\n     \n         /**\n    +     * Periodically checks for connected channel in order to avoid loss\n    +     * of messages\n    +     */\n    +    private final long CHANNEL_ALIVE_INTERVAL_MS = 30000L;\n    +\n    --- End diff --\n    \n    minor: extra line\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T21:38:50.486+0000","updated":"2016-03-08T21:38:50.486+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185885","id":"15185885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user d2r commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-193979685\n  \n    Had some usability concerns, but otherwise looks good.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T21:40:21.249+0000","updated":"2016-03-08T21:40:21.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185959","id":"15185959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55439564\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +164,35 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    --- End diff --\n    \n    Good suggestion, I will do that thank you d2r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T22:25:58.987+0000","updated":"2016-03-08T22:25:58.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185974","id":"15185974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55440955\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +164,35 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    +        // netty TimerTask is already defined and hence a fully\n    +        // qualified name\n    +        timer.schedule(new java.util.TimerTask() {\n    +            public void run() {\n    +                try {\n    +                    LOG.debug(\"running timer task, address {}\", dstAddress);\n    +                    if(closing) {\n    +                        this.cancel();\n    --- End diff --\n    \n    fixed\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T22:36:19.228+0000","updated":"2016-03-08T22:36:19.228+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185975","id":"15185975","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55441002\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +164,35 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    --- End diff --\n    \n    fixed\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T22:36:36.591+0000","updated":"2016-03-08T22:36:36.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185983","id":"15185983","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55441072\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -108,6 +110,13 @@\n         private final AtomicInteger messagesLost = new AtomicInteger(0);\n     \n         /**\n    +     * Periodically checks for connected channel in order to avoid loss\n    +     * of messages\n    +     */\n    +    private final long CHANNEL_ALIVE_INTERVAL_MS = 30000L;\n    +\n    --- End diff --\n    \n    fixed\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T22:36:57.101+0000","updated":"2016-03-08T22:36:57.101+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15185984","id":"15185984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-194000825\n  \n    @d2r Addressed your comments\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T22:37:30.394+0000","updated":"2016-03-08T22:37:30.394+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15186030","id":"15186030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user d2r commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-194008759\n  \n    Looks good +1.\n    I see unrelated failures in supervisor-test and transactional-test.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-08T23:03:14.129+0000","updated":"2016-03-08T23:03:14.129+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15186360","id":"15186360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user bugzmanov commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55464579\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +159,43 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    +        // netty TimerTask is already defined and hence a fully\n    +        // qualified name\n    +        if (timer == null) {\n    --- End diff --\n    \n    This looks a lot like racy(incorrect) version of:\n    https://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java\n    \n    So you might end up with two instances of timer running 1 job each\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-09T02:30:19.362+0000","updated":"2016-03-09T02:30:19.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15187364","id":"15187364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55546601\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +159,43 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    +        // netty TimerTask is already defined and hence a fully\n    +        // qualified name\n    +        if (timer == null) {\n    --- End diff --\n    \n    @d2r, @revans2  looking at it it seems a valid explanation. Would like to know whether it is better to revert to earlier static initialization\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-09T16:36:05.742+0000","updated":"2016-03-09T16:36:05.742+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15187553","id":"15187553","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/1194#discussion_r55561657\n  \n    --- Diff: storm-core/src/jvm/org/apache/storm/messaging/netty/Client.java ---\n    @@ -151,10 +159,43 @@\n             bootstrap = createClientBootstrap(factory, bufferSize, stormConf);\n             dstAddress = new InetSocketAddress(host, port);\n             dstAddressPrefixedName = prefixedName(dstAddress);\n    +        launchChannelAliveThread();\n             scheduleConnect(NO_DELAY_MS);\n             batcher = new MessageBuffer(messageBatchSize);\n         }\n     \n    +    /**\n    +     * This thread helps us to check for channel connection periodically.\n    +     * This is performed just to know whether the destination address\n    +     * is alive or attempts to refresh connections if not alive. This\n    +     * solution is better than what we have now in case of a bad channel.\n    +     */\n    +    private void launchChannelAliveThread() {\n    +        // netty TimerTask is already defined and hence a fully\n    +        // qualified name\n    +        if (timer == null) {\n    --- End diff --\n    \n    @d2r @revan2 reverted back to static initialization\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-09T18:10:19.044+0000","updated":"2016-03-09T18:10:19.044+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15188545","id":"15188545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user hustfxj commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-194629551\n  \n    +1. I have a suggestion.  we drop messages because Channel is not in good state. I hope we should put the messages into buffer when Channel is not in good state. Of course, we should drop the buffer if the channel is still not in good state.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-10T02:38:34.584+0000","updated":"2016-03-10T02:38:34.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15189307","id":"15189307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user redsanket commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-194848650\n  \n    Agree, that is a bigger change and I will have a follow up jira for it. Thanks\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-10T13:51:14.889+0000","updated":"2016-03-10T13:51:14.889+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15189319","id":"15189319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vesense commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-194859547\n  \n    LGTM\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-10T14:06:59.436+0000","updated":"2016-03-10T14:06:59.436+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15192074","id":"15192074","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user harshach commented on the pull request:\n\n    https://github.com/apache/storm/pull/1194#issuecomment-195849096\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-13T01:45:54.025+0000","updated":"2016-03-13T01:45:54.025+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15192076","id":"15192076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1194\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-13T01:56:07.364+0000","updated":"2016-03-13T01:56:07.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15372869","id":"15372869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinconaway","name":"kevinconaway","key":"kevinconaway","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kevinconaway&avatarId=29140","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kevinconaway&avatarId=29140","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kevinconaway&avatarId=29140","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kevinconaway&avatarId=29140"},"displayName":"Kevin Conaway","active":true,"timeZone":"Etc/UTC"},"body":"[~ptgoetz] can this be backported to 0.10.2?  We're seeing this (and STORM-1394) fairly frequently in Storm 0.10.0.  I backported this to a custom branch and it fixes the issue for us.\n\nWe're unable to upgrade to Storm 1.0 due to STORM-1879","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinconaway","name":"kevinconaway","key":"kevinconaway","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kevinconaway&avatarId=29140","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kevinconaway&avatarId=29140","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kevinconaway&avatarId=29140","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kevinconaway&avatarId=29140"},"displayName":"Kevin Conaway","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-12T13:25:05.704+0000","updated":"2016-07-12T13:25:05.704+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15372971","id":"15372971","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Sorry for chiming in, but have an update for you, suspected root issue of STORM-1879 is resolved and will be included to 1.0.2. I'm expecting that we will release 1.0.2 in several days, at most in this month.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-07-12T14:37:56.418+0000","updated":"2016-07-12T14:37:56.418+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15373044","id":"15373044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinconaway","name":"kevinconaway","key":"kevinconaway","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kevinconaway&avatarId=29140","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kevinconaway&avatarId=29140","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kevinconaway&avatarId=29140","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kevinconaway&avatarId=29140"},"displayName":"Kevin Conaway","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~kabhwan].\n\nThat said, this backport is fairly non-invasive and does fix a very nasty issue which causes the topology to hang.  If fixes are still being made to 0.10.x, I'd like to see this one go in for those folks who are unwilling or unable to upgrade to 1.0.x","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinconaway","name":"kevinconaway","key":"kevinconaway","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kevinconaway&avatarId=29140","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kevinconaway&avatarId=29140","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kevinconaway&avatarId=29140","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kevinconaway&avatarId=29140"},"displayName":"Kevin Conaway","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-12T15:16:01.596+0000","updated":"2016-07-12T15:16:01.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12947783/comment/15425032","id":"15425032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"body":"Also merged to 0.10.x-branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"created":"2016-08-17T17:54:55.804+0000","updated":"2016-08-17T17:54:55.804+0000"}],"maxResults":25,"total":25,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1609/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2uan3:"}}