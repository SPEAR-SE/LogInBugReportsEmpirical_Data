{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12840757","self":"https://issues.apache.org/jira/rest/api/2/issue/12840757","key":"STORM-914","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":600,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":600,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-06-26T07:27:27.150+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 24 10:02:10 UTC 2015","customfield_12312320":null,"customfield_12310222":null,"customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-914/watchers","watchCount":2,"isWatching":false},"created":"2015-06-26T07:19:49.482+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327123","id":"12327123","description":"security feature branch","name":"0.10.0","archived":false,"released":true,"releaseDate":"2015-11-05"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tedxia","name":"tedxia","key":"tedxia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"xiajun","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-04-16T13:55:55.720+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324395","id":"12324395","name":"storm-hdfs","description":"Storm HDFS Integration"}],"timeoriginalestimate":null,"description":"When storm user a specify hdfs cluster, he will put some config such as namenode.host into hdfs.config when submit storm topology, and when HdfsBolt create HdfsConfiguration, it will use hdfs.config update HDFSConfiguration, then HDFSBolt will visit the right hdfs cluster. But in AutoHDFS's renew and getHadoopCredentials, Configuration not for the HDFS that storm user specify, we should update all the Configuration with hdfs.config.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"10m","remainingEstimateSeconds":0,"timeSpentSeconds":600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"AutoHDFS should also update hdfs.config into Configuration","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tedxia","name":"tedxia","key":"tedxia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"xiajun","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tedxia","name":"tedxia","key":"tedxia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"xiajun","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":600,"total":600,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":600,"total":600,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12840757/comment/14602513","id":"14602513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user tedxia opened a pull request:\n\n    https://github.com/apache/storm/pull/606\n\n    STORM-914: AutoHDFS should also update hdfs.config into Configuration\n\n    PR for [STORM-914](https://issues.apache.org/jira/browse/STORM-914)\n    \n    When storm user a specify hdfs cluster, he will put some config such as namenode.host into hdfs.config when submit storm topology, and when HdfsBolt create HdfsConfiguration, it will use hdfs.config update HDFSConfiguration, then HDFSBolt will visit the right hdfs cluster. But in AutoHDFS's renew and getHadoopCredentials, Configuration not for the HDFS that storm user specify, we should update all the Configuration with hdfs.config.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/tedxia/storm ted-AutoHDFS-should-load-hdfs.config-to-Configure\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/606.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #606\n    \n----\ncommit 9461f66785fec958f66bc7db6ae9b5acf52e8eb9\nAuthor: xiajun <xiajun@xiaomi.com>\nDate:   2015-06-26T07:25:39Z\n\n    STORM-914: AutoHDFS should also update hdfs.config into Configuration\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-26T07:27:27.150+0000","updated":"2015-06-26T07:27:27.150+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12840757/comment/14620082","id":"14620082","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user tedxia commented on the pull request:\n\n    https://github.com/apache/storm/pull/606#issuecomment-119865764\n  \n    @revans2 Will you take a look at this, thanks a lot.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-09T08:04:15.917+0000","updated":"2015-07-09T08:04:15.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12840757/comment/14640224","id":"14640224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user caofangkun commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/606#discussion_r35409819\n  \n    --- Diff: external/storm-hdfs/src/test/java/org/apache/storm/hdfs/trident/TridentSequenceTopology.java ---\n    @@ -60,7 +61,7 @@ public static StormTopology buildTopology(String hdfsUrl){\n                     .withSequenceFormat(new DefaultSequenceFormat(\"key\", \"sentence\"))\n                     .withRotationPolicy(rotationPolicy)\n                     .withFsUrl(hdfsUrl)\n    -                .withConfigKey(\"hdfs.config\")\n    --- End diff --\n    \n    @tedxia \n    if you change ```hdfs.config``` to ```topology.hdfs.config``` \n    should the following several files  change too ?\n    [HdfsFileTopology.java](https://github.com/apache/storm/blob/master/external/storm-hdfs/src/test/java/org/apache/storm/hdfs/bolt/HdfsFileTopology.java#L82)\n    [simple_hdfs.yaml](https://github.com/apache/storm/blob/master/external/flux/flux-examples/src/main/resources/simple_hdfs.yaml#L74)\n    [hdfs_test.yaml](https://github.com/apache/storm/blob/master/external/flux/flux-core/src/test/resources/configs/hdfs_test.yaml#L82)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-24T09:54:40.747+0000","updated":"2015-07-24T09:54:40.747+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12840757/comment/14640234","id":"14640234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user tedxia commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/606#discussion_r35410221\n  \n    --- Diff: external/storm-hdfs/src/test/java/org/apache/storm/hdfs/trident/TridentSequenceTopology.java ---\n    @@ -60,7 +61,7 @@ public static StormTopology buildTopology(String hdfsUrl){\n                     .withSequenceFormat(new DefaultSequenceFormat(\"key\", \"sentence\"))\n                     .withRotationPolicy(rotationPolicy)\n                     .withFsUrl(hdfsUrl)\n    -                .withConfigKey(\"hdfs.config\")\n    --- End diff --\n    \n    yesï¼ŒI think we should change to hdfs.config for this reason, I will add a patch later.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-24T10:02:10.128+0000","updated":"2015-07-24T10:02:10.128+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-914/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":1,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12840757/worklog/91344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user d2r commented on the issue:\n\n    https://github.com/apache/storm/pull/606\n  \n    @tedxia This PR is rather stale. Is it still being worked or should we close it?\n","created":"2018-04-16T13:55:55.716+0000","updated":"2018-04-16T13:55:55.716+0000","started":"2018-04-16T13:55:55.716+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"91344","issueId":"12840757"}]},"customfield_12311820":"0|i2gj0n:"}}