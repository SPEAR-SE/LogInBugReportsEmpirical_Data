{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12823557","self":"https://issues.apache.org/jira/rest/api/2/issue/12823557","key":"STORM-796","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332476","id":"12332476","name":"0.9.5","archived":false,"released":true,"releaseDate":"2015-06-04"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-04-23T20:58:05.076+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu May 07 16:08:47 UTC 2015","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4170184593_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2015-06-11T03:15:16.747+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-796/watchers","watchCount":3,"isWatching":false},"created":"2015-04-23T20:52:12.231+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329548","id":"12329548","name":"0.9.4","archived":false,"released":true,"releaseDate":"2015-03-25"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amontalenti","name":"amontalenti","key":"amontalenti","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=amontalenti&avatarId=19897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=amontalenti&avatarId=19897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=amontalenti&avatarId=19897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=amontalenti&avatarId=19897"},"displayName":"Andrew Montalenti","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-29T02:47:30.097+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327951","id":"12327951","name":"storm-multilang","description":"Storm integration with other programming languages"}],"timeoriginalestimate":null,"description":"The `ShellBolt` can handle the \"error\" command, as shown in this file in Storm source code:\n\nhttps://github.com/apache/storm/blob/2dd7a9426e5634211f14cf5c4e10e021d3420c3c/storm-core/src/jvm/backtype/storm/task/ShellBolt.java#L330\n\nBut, `ShellSpout` does not actually have a handler for \"error\".\n\nhttps://github.com/apache/storm/blob/2dd7a9426e5634211f14cf5c4e10e021d3420c3c/storm-core/src/jvm/backtype/storm/spout/ShellSpout.java#L153-L175\n\nThe symptoms a multi-lang user will see here is that if their Spout throws an error and their multi-lang implementation sends an \"error\" command up to the ShellSpout, the ShellSpout will respond saying that it doesn't recognize the \"error\" command, and thus it will crash (while swallowing the exception thrown by the underlying multi-lang component).\n\nI am about to open a PR on Github that fixes this.\n\nOriginally reported on the streamparse project in this Github issue:\n\nhttps://github.com/Parsely/streamparse/issues/121","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"The \"error\" command isn't supported on ShellSpout","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amontalenti","name":"amontalenti","key":"amontalenti","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=amontalenti&avatarId=19897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=amontalenti&avatarId=19897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=amontalenti&avatarId=19897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=amontalenti&avatarId=19897"},"displayName":"Andrew Montalenti","active":true,"timeZone":"America/New_York"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amontalenti","name":"amontalenti","key":"amontalenti","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=amontalenti&avatarId=19897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=amontalenti&avatarId=19897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=amontalenti&avatarId=19897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=amontalenti&avatarId=19897"},"displayName":"Andrew Montalenti","active":true,"timeZone":"America/New_York"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14509788","id":"14509788","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user amontalenti opened a pull request:\n\n    https://github.com/apache/storm/pull/533\n\n    Add support for \"error\" command in ShellSpout\n\n    Addresses JIRA issue [STORM-796](https://issues.apache.org/jira/browse/STORM-796). \n    \n    The symptoms a multi-lang user will see here is that if their Spout throws an error and their multi-lang implementation sends an \"error\" command up to the ShellSpout, the ShellSpout will respond saying that it doesn't recognize the \"error\" command, and thus it will crash (while swallowing the exception thrown by the underlying multi-lang component).\n    \n    ShellBolt already supports the error command, and ShellSpout already has a way of reporting errors -- so this was just a matter of adding similar logic to the ShellSpout.\n\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/amontalenti/storm master\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/533.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #533\n    \n----\ncommit 2c35cb4dec67604185d3b443a3e04a66fd4a6a6d\nAuthor: Andrew Montalenti <andrew@parsely.com>\nDate:   2015-04-23T20:41:39Z\n\n    add support for \"error\" command in ShellSpout\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-04-23T20:58:05.076+0000","updated":"2015-04-23T20:58:05.076+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14509850","id":"14509850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the pull request:\n\n    https://github.com/apache/storm/pull/533#issuecomment-95723096\n  \n    LGTM.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-04-23T21:25:26.322+0000","updated":"2015-04-23T21:25:26.322+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14509854","id":"14509854","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Fix Version/s is for marking version which version resolves it.\nCurrent master is for 0.11.0, and if you wish to apply it to 0.10.0, it would be better to explain it should be fixed faster.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2015-04-23T21:30:30.362+0000","updated":"2015-04-23T21:30:30.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14513207","id":"14513207","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amontalenti","name":"amontalenti","key":"amontalenti","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=amontalenti&avatarId=19897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=amontalenti&avatarId=19897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=amontalenti&avatarId=19897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=amontalenti&avatarId=19897"},"displayName":"Andrew Montalenti","active":true,"timeZone":"America/New_York"},"body":"[~kabhwan] no problem re: the fix version, I just picked the next unreleased version because the change seemed small enough, and it actually fixes a bug in the multi-lang protocol. Without this fix, multi-lang spouts, when they crash, do not properly report errors up to the storm worker -- instead, they cause an unrelated error in the worker.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amontalenti","name":"amontalenti","key":"amontalenti","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=amontalenti&avatarId=19897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=amontalenti&avatarId=19897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=amontalenti&avatarId=19897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=amontalenti&avatarId=19897"},"displayName":"Andrew Montalenti","active":true,"timeZone":"America/New_York"},"created":"2015-04-26T19:25:55.299+0000","updated":"2015-04-26T19:25:55.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14520477","id":"14520477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/storm/pull/533#issuecomment-97610607\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-04-29T23:05:30.399+0000","updated":"2015-04-29T23:05:30.399+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14532914","id":"14532914","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/533\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-07T16:05:32.462+0000","updated":"2015-05-07T16:05:32.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12823557/comment/14532919","id":"14532919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/storm/pull/533#issuecomment-99924195\n  \n    Thanks @amontalenti. I merged this into master, 0.10.x-branch, and 0.9.x-branch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-07T16:08:47.649+0000","updated":"2015-05-07T16:08:47.649+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-796/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2doo7:"}}