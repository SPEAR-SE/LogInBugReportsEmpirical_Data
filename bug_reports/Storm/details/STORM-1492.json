{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12933455","self":"https://issues.apache.org/jira/rest/api/2/issue/12933455","key":"STORM-1492","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":1800,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false}],"aggregatetimespent":1800,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-02-04T13:28:12.748+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Sep 11 15:24:06 UTC 2017","customfield_12312320":null,"customfield_12310222":null,"customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1492/watchers","watchCount":5,"isWatching":false},"created":"2016-01-22T20:07:14.880+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329843","id":"12329843","name":"1.0.0","archived":false,"released":true,"releaseDate":"2016-04-12"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-09-11T15:24:13.663+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"With the default value for {{nimbus.seeds}} ({{[\"localhost\"]}}) Storm UI may list one \"Offline\" nimbus for localhost, and another as \"Leader\" for the resolved machine name.\n\nSteps to reproduce (assumes ZK is running; all on local machine):\n\n1. Clean install of 1.0.0-SNAPSHOT (do not modify {{storm.yaml}})\n2. Start nimbus\n3. Start supervisor\n4. Start ui\n5. Navigate to http://localhost:8080\n\nA workaround is to modify {{storm.yaml}} and replace \"localhost\" with the hostname of the machine in {{nimbus.seeds}}.\n\nWhile trivial to correct, this may confuse users. One approach is to simply document this behavior.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"0.5h","remainingEstimateSeconds":0,"timeSpentSeconds":1800},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"With nimbus.seeds set to default, a nimbus for localhost may appear \"Offline\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":1800,"total":1800,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":1800,"total":1800,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15132313","id":"15132313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"While I'm curious it's worth to make an effort, we could filter out some of loopback addresses which are not same to NimbusInfo's host and port from nimbus.seeds from function \"nimbus-summary\" in core.clj.\nOr, more simpler we can just filter out only \"localhost\" if NimbusInfo's host and port is not \"localhost\".\n\nNevertheless, we'd better to document that it's encouraged to set nimbus.seeds to hostname of the machine. Since it should be same to NimbusInfo's host and port to avoid this odd behavior, it would be much better to set \"storm.local.hostname\" to same address, too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-02-04T13:28:12.748+0000","updated":"2016-02-04T21:33:52.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15132480","id":"15132480","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"The real issue for me is that the default config uses localhost, so this shows up for every cluster customers spin up with the default config.  It does not look good for storm.  Documentation is great, but everyone will still see it.  I personally would prefer to see a slightly different approach.\n\nnimbus.host is set to localhost in the default config.\nif nimbus.host is set, but nimbus.seeds is not set nimbus.seeds will convert nimbus.host to a FQDN and populate it to nimbus.seeds.\nnimbus.seeds goes through all nimbus.seeds and validates that they are FQDNs and will warn if they are not, because that is what actually causes the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2016-02-04T15:53:16.445+0000","updated":"2016-02-04T15:53:16.445+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133180","id":"15133180","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Since Nimbus HA setup is not mandatory, I expect many users will use default setting, with not caring about the documentation.\nSo I agree that documenting is not enough. \n\nBut I also think we can't force users to set nimbus.seeds to FQDN of machine for nimbus while they don't use Nimbus HA. \nMaybe I'm wrong, but personally, I'm afraid that leaving the warning could be also not enough. Many users don't even see nimbus log unless there're some issues for cluster. If users don't start nimbus on their terminal session, they don't even see the output of \"storm nimbus\" unless \"storm nimbus\" is not functioning.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-02-04T22:28:17.411+0000","updated":"2016-02-04T22:28:17.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133726","id":"15133726","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"body":"Thinking it once more, I realized I was wrong. Only users who uses \"pseudo-distribute\" cluster see this odd behavior.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kabhwan","name":"kabhwan","key":"kabhwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jungtaek Lim","active":true,"timeZone":"Asia/Seoul"},"created":"2016-02-05T06:00:45.488+0000","updated":"2016-02-05T06:00:45.488+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133765","id":"15133765","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user HeartSaVioR opened a pull request:\n\n    https://github.com/apache/storm/pull/1082\n\n    STORM-1492 With nimbus.seeds set to default, a nimbus for localhost may appear \"Offline\"\n\n    First of all, AFAIK, it's just an issue of API output, and it doesn't hurt functionality although we don't fix it.\n    \n    * when determining nimbus addresses from nimbus.seeds, filter out localhost addresses\n      * localhost address: 127.0.0.1, localhost, 0:0:0:0:0:0:0:1\n    * there may be a chance that nimbus (localhost) is not reachable so we can't get info from alive-nimbuses\n      * but it means ui process itself can't reach nimbus so we can ignore this case\n    * there may be another change that user writes nimbus.seeds both unreachable localhost address and other reachable nimbuses fqdn\n      * ui process can reach other nimbus and localhost itself is lost\n      * but I think we can treat it as configuration error\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/HeartSaVioR/storm STORM-1492\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1082.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1082\n    \n----\ncommit 125fd47a7c428e5747ca2cb11fe31ad129311aa3\nAuthor: Jungtaek Lim <kabhwan@gmail.com>\nDate:   2016-02-05T06:40:16Z\n\n    STORM-1492 With nimbus.seeds set to default, a nimbus for localhost may appear \"Offline\"\n    \n    * when determining nimbus addresses from nimbus.seeds, filter out localhost addresses\n      * localhost address: 127.0.0.1, localhost, 0:0:0:0:0:0:0:1\n    * there may be a chance that nimbus (localhost) is not reachable so we can't get info from alive-nimbuses\n      * but it means ui process itself can't reach nimbus so we can ignore this case\n    * there may be another change that user writes nimbus.seeds both unreachable localhost address and other reachable nimbuses fqdn\n      * ui process can reach other nimbus and localhost itself is lost\n      * but I think we can treat it as configuration error\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T06:55:23.375+0000","updated":"2016-02-05T06:55:23.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133780","id":"15133780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the pull request:\n\n    https://github.com/apache/storm/pull/1082#issuecomment-180232975\n  \n    Three builds are failing, which are all intermittent.\n    \n    * storm-core test failure: nimbus-test could be not run completely\n      * https://travis-ci.org/apache/storm/jobs/107172981\n    * !storm-core test failures: storm-hdfs, OS kills org.apache.storm.hdfs.spout.TestDirLock and org.apache.storm.hdfs.blobstore.BlobStoreTest\n      * https://travis-ci.org/apache/storm/jobs/107172983\n      * https://travis-ci.org/apache/storm/jobs/107172984\n    \n    Close and reopen to retrigger.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T07:22:04.517+0000","updated":"2016-02-05T07:22:04.517+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133781","id":"15133781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR closed the pull request at:\n\n    https://github.com/apache/storm/pull/1082\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T07:22:05.021+0000","updated":"2016-02-05T07:22:05.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133782","id":"15133782","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user HeartSaVioR reopened a pull request:\n\n    https://github.com/apache/storm/pull/1082\n\n    STORM-1492 With nimbus.seeds set to default, a nimbus for localhost may appear \"Offline\"\n\n    First of all, AFAIK, it's just an issue of API output, and it doesn't hurt functionality although we don't fix it.\n    \n    * when determining nimbus addresses from nimbus.seeds, filter out localhost addresses\n      * localhost address: 127.0.0.1, localhost, 0:0:0:0:0:0:0:1\n    * there may be a chance that nimbus (localhost) is not reachable so we can't get info from alive-nimbuses\n      * but it means ui process itself can't reach nimbus so we can ignore this case\n    * there may be another change that user writes nimbus.seeds both unreachable localhost address and other reachable nimbuses fqdn\n      * ui process can reach other nimbus and localhost itself is lost\n      * but I think we can treat it as configuration error\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/HeartSaVioR/storm STORM-1492\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/1082.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1082\n    \n----\ncommit 125fd47a7c428e5747ca2cb11fe31ad129311aa3\nAuthor: Jungtaek Lim <kabhwan@gmail.com>\nDate:   2016-02-05T06:40:16Z\n\n    STORM-1492 With nimbus.seeds set to default, a nimbus for localhost may appear \"Offline\"\n    \n    * when determining nimbus addresses from nimbus.seeds, filter out localhost addresses\n      * localhost address: 127.0.0.1, localhost, 0:0:0:0:0:0:0:1\n    * there may be a chance that nimbus (localhost) is not reachable so we can't get info from alive-nimbuses\n      * but it means ui process itself can't reach nimbus so we can ignore this case\n    * there may be another change that user writes nimbus.seeds both unreachable localhost address and other reachable nimbuses fqdn\n      * ui process can reach other nimbus and localhost itself is lost\n      * but I think we can treat it as configuration error\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T07:22:05.259+0000","updated":"2016-02-05T07:22:05.259+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15133839","id":"15133839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the pull request:\n\n    https://github.com/apache/storm/pull/1082#issuecomment-180250363\n  \n    Probability of random test failures becomes very high, though I don't know why.\n    Anyway, I ran test which is same to travis CI but without native profile (it doesn't run on my Mac) and build succeed on storm-core. So test failure is not related to this patch.\n    \n    Btw, build fails on storm-hdfs, throwing `java.lang.NoClassDefFoundError: org/apache/storm/thrift/TBase` which I don't know why it occurs.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T08:37:52.657+0000","updated":"2016-02-05T08:37:52.657+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15168323","id":"15168323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the pull request:\n\n    https://github.com/apache/storm/pull/1082#issuecomment-189086484\n  \n    @ptgoetz @revans2 \n    Could you please take a look? Or Bobby you want to craft your pull request with your suggestion on issue comment?\n    Otherwise we may want to define STORM-1492 as 'Won't fix'?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-26T02:48:36.291+0000","updated":"2016-02-26T02:48:36.291+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15168570","id":"15168570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user wuchong commented on the pull request:\n\n    https://github.com/apache/storm/pull/1082#issuecomment-189140525\n  \n    I find that when we set `nimbus.seeds` as ip, such as `nimbus.seeds: [10.0.0.10]`. Then a nimbus for 10.0.0.10 will be 'Offline'.\n    \n    That's because the nimbus information saved in zk is CanonicalHostName. But the nimbus seeds we set maybe ip. At last, the nimbus with ip will be 'Offline'. \n    \n    ```\n    offline-nimbuses (clojure.set/difference nimbus-seeds alive-nimbuses)\n    ```\n    \n    <img width=\"1268\" alt=\"2016-02-26 2 51 43\" src=\"https://cloud.githubusercontent.com/assets/5378924/13345347/10e3c232-dc99-11e5-9350-5ff1c6c65224.png\">\n    \n    Maybe we need to change all nimbus-seeds to hostname, before do set/difference.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-26T07:02:21.502+0000","updated":"2016-02-26T07:02:21.502+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/15169450","id":"15169450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user HeartSaVioR commented on the pull request:\n\n    https://github.com/apache/storm/pull/1082#issuecomment-189401885\n  \n    @wuchong \n    You're right. Actually this PR just tries to address weird behavior when users leave the setting to default.\n    \n    Btw, there're more to cover if we want to address this to more ideal way.\n    For example, canonical host name for each machine can be overwritten by setting storm.local.hostname.\n    Please refer NimbusConf#fromConf for details.\n    \n    In result, every nimbuses should know what's the return value of NimbusConf#fromConf for other nimbuses, and every nimbuses should match nimbus.seeds and corresponding values by 1 on 1.\n    I don't have an idea how to do it for now, and I really appreciate ideas which address this.\n    \n    Otherwise users should describe the same value which NimbusConf#fromConf will return, for nimbus.seeds.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-26T18:08:21.819+0000","updated":"2016-02-26T18:08:21.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/comment/16161432","id":"16161432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"[~kabhwan],\n\nI merged your pull request into master, but the 1.x line it is not a clean merge.  If you want to put up a separate pull request there I would be happy to review it and merge it in.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2017-09-11T15:24:06.073+0000","updated":"2017-09-11T15:24:06.073+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-1492/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":3,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/worklog/51915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/1082\n  \n    @revans2 Thanks for reviewing. Just got rebased against current master.\n","created":"2017-09-07T22:48:06.638+0000","updated":"2017-09-07T22:48:06.638+0000","started":"2017-09-07T22:48:06.637+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51915","issueId":"12933455"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/worklog/52103","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/1082\n  \n    Still +1\n","created":"2017-09-11T15:03:05.409+0000","updated":"2017-09-11T15:03:05.409+0000","started":"2017-09-11T15:03:05.408+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"52103","issueId":"12933455"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12933455/worklog/52108","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/1082\n","created":"2017-09-11T15:22:05.341+0000","updated":"2017-09-11T15:22:05.341+0000","started":"2017-09-11T15:22:05.340+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"52108","issueId":"12933455"}]},"customfield_12311820":"0|i2rv3z:"}}