{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12693383","self":"https://issues.apache.org/jira/rest/api/2/issue/12693383","key":"STORM-214","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-04-16T21:14:06.548+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed May 07 15:36:32 UTC 2014","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_35446543198_*|*_5_*:*_1_*:*_0","customfield_12310420":"371968","customfield_12312321":null,"resolutiondate":"2015-03-22T22:13:32.831+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-214/watchers","watchCount":2,"isWatching":false},"created":"2014-02-05T15:57:49.826+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["command-line","windows"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sriharsha","name":"sriharsha","key":"sriharsha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sriharsha Chintalapani","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-09T00:51:45.682+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327950","id":"12327950","name":"storm-core","description":"Core storm daemons and APIs including trident"}],"timeoriginalestimate":null,"description":"As reported to user@:\n\nBegin forwarded message:\n\nFrom: Spico Florin <spicoflorin@gmail.com>\nSubject: Fwd: Rebalance topology throws java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nDate: February 5, 2014 at 4:30:43 AM EST\nTo: \"user@storm.incubator.apache.org\" <user@storm.incubator.apache.org>\nReply-To: user@storm.incubator.apache.org\n\n\nHello!\nIn the mentioned version for Windows, the  rebalance command arguments should not be passed as indicated in \n\nhttps://github.com/nathanmarz/storm/wiki/Understanding-the-parallelism-of-a-Storm-topology\nstorm rebalance mytopology -n 5 -e blue-spout=3 -e yellow-bolt=10\n\nIn order to get rid of the mentioned exception(java.lang.StringIndexOutOfBoundsException:) you should use the command\n \nstorm rebalance WordCount -e \"spout=3\"\n\nHowever, trying to rebalance more components (either spouts or bolts) will rebalance only the latest component mentioned in the list. So, for example for example:\n\nstorm rebalance WordCount -e \"spout=3\" -e \"count=5\"\n the rebalance will be applied only for the \"count\" component not for the \"spout\".\n\nSo, in my opinion either the documentation should be updated or the rebalance.clj should be changed in order to support rebalancing for multiple components.\n\nI look forward for your opinions.\n  Regards,\n  Florin\n\n\n\n\n\n\n---------- Forwarded message ----------\nFrom: Spico Florin <spicoflorin@gmail.com>\nDate: Tue, Feb 4, 2014 at 11:10 AM\nSubject: Rebalance topology throws java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nTo: \"user@storm.incubator.apache.org\" <user@storm.incubator.apache.org>\n\n\nHello!\nI'm using the Taylor Goetz's storm version pointed out by article \n\nhttp://ptgoetz.github.io/blog/2013/12/18/running-apache-storm-on-windows/\n\nand located at:\nhttps://github.com/ptgoetz/incubator-storm/tree/windows-test\n\nI have succeeded to install everything on my computer (running windows 7, 64 bit). I have also ran fine the indicated topology and my topology too. But when I'm trying to do a rebalancing of my topology by re-configuring the number of spouts or bolt with the command  \n  storm rebalance WordCount -e spout=3\nI'm getting the exception:\nException in thread \"main\" java.lang.StringIndexOutOfBoundsException: String index out of range: -1\n        at java.lang.String.substring(String.java:1911)\n        at backtype.storm.command.rebalance$parse_executor.invoke(rebalance.clj:24)\n        at clojure.tools.cli$apply_specs.invoke(cli.clj:80)\n        at clojure.tools.cli$cli.doInvoke(cli.clj:130)\n        at clojure.lang.RestFn.invoke(RestFn.java:460)\n        at backtype.storm.command.rebalance$_main.doInvoke(rebalance.clj:31)\n        at clojure.lang.RestFn.applyTo(RestFn.java:137)\n        at backtype.storm.command.rebalance.main(Unknown Source)\n\nIf I'm changing only the number of workers it works without any exceptions.\n\nIf someone of you have tested this version, can you please help me to get rid of it?\nI'll look forward for your answers.\n\nThanks in advance.\n  Regards,\n  Florin \n\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"372272","customfield_12312823":null,"summary":"Windows: storm.cmd does not properly handle multiple -e arguments","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ptgoetz","name":"ptgoetz","key":"ptgoetz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"P. Taylor Goetz","active":true,"timeZone":"America/Havana"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Windows","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693383/comment/13971965","id":"13971965","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user harshach opened a pull request:\n\n    https://github.com/apache/incubator-storm/pull/77\n\n    STORM-214. Windows: storm.cmd does not properly handle multiple -c arguments\n\n    :combine-fn merge doesn't have any affect on multiple args. New version of cli provides a  :assoc-fn capability which can be used  to merge multiple params for same arg. \n    Tested on linux and windows.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/harshach/incubator-storm rebalance-cmd\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/incubator-storm/pull/77.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #77\n    \n----\ncommit bd4ee0e7c606654624c698328b53633489429b37\nAuthor: Sriharsha Chintalapani <schintalapani@hw10843.local>\nDate:   2014-04-16T21:11:14Z\n\n    STORM-214. Windows: storm.cmd does not properly handle multiple -c arguments.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-16T21:14:06.548+0000","updated":"2014-04-16T21:14:06.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693383/comment/13981165","id":"13981165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user ptgoetz commented on the pull request:\n\n    https://github.com/apache/incubator-storm/pull/77#issuecomment-41407121\n  \n    I got confused by my own mistake (typo in the original JIRA). The \"-c\" in the title should be a \"-e\".\n    \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-25T15:43:01.092+0000","updated":"2014-04-25T15:43:01.092+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693383/comment/13990804","id":"13990804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user revans2 commented on the pull request:\n\n    https://github.com/apache/incubator-storm/pull/77#issuecomment-42324509\n  \n    +1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-06T16:21:20.807+0000","updated":"2014-05-06T16:21:20.807+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693383/comment/13991918","id":"13991918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/incubator-storm/pull/77\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-07T15:36:32.279+0000","updated":"2014-05-07T15:36:32.279+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-214/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1s3s7:"}}