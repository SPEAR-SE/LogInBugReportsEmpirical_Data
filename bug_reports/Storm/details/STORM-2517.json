{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13072607","self":"https://issues.apache.org/jira/rest/api/2/issue/13072607","key":"STORM-2517","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":10800,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12314820","id":"12314820","key":"STORM","name":"Apache Storm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13260","id":"13260","description":"Apache Storm Related","name":"Storm"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334657","id":"12334657","name":"2.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12341047","id":"12341047","name":"1.2.0","archived":false,"released":true,"releaseDate":"2018-02-15"}],"aggregatetimespent":10800,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-08-28T22:13:10.263+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Aug 28 22:13:10 UTC 2017","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_8987591215_*|*_5_*:*_1_*:*_0","customfield_12310420":"9223372036854775807","customfield_12312321":null,"resolutiondate":"2017-08-28T22:13:23.387+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2517/watchers","watchCount":3,"isWatching":false},"created":"2017-05-16T21:40:12.243+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335748","id":"12335748","name":"1.1.0","archived":false,"released":true,"releaseDate":"2017-03-29"}],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Angus-slalom","name":"Angus-slalom","key":"angus-slalom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Angus Helm","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-08-28T22:13:23.444+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324395","id":"12324395","name":"storm-hdfs","description":"Storm HDFS Integration"}],"timeoriginalestimate":null,"description":"{{HdfsBolt.makeNewWriter()}} returns an AbstractHDFSWriter instead of an interface. AbstractHDFSWriter is public but its constructor is package-private so it can't actually be subclassed unless your class is in the {{org.apache.storm.hdfs.common}} package. I subclassed HDFSWriter but it required some workarounds.\n\nAlso {{AbstractHDFSWriter.offset}} is package-private and write() is final, so there is no way for a subclass to control or update the offset after {{doWrite()}}","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"3h","remainingEstimateSeconds":0,"timeSpentSeconds":10800},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"storm-hdfs writers can't be subclassed","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Angus-slalom","name":"Angus-slalom","key":"angus-slalom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Angus Helm","active":true,"timeZone":"America/Chicago"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Angus-slalom","name":"Angus-slalom","key":"angus-slalom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Angus Helm","active":true,"timeZone":"America/Chicago"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":10800,"total":10800,"percent":100},"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":10800,"total":10800,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/comment/16144451","id":"16144451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"Thanks [~Angus-slalom],\n\nI merged this into master and branch-1.x","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2017-08-28T22:13:10.263+0000","updated":"2017-08-28T22:13:10.263+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/STORM-2517/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":18,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/43351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user Angus-Slalom opened a pull request:\n\n    https://github.com/apache/storm/pull/2138\n\n    STORM-2517 storm-hdfs writers can't be subclassed\n\n    https://issues.apache.org/jira/browse/STORM-2517\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/Angus-Slalom/storm 1.x-branch\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2138.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2138\n    \n----\ncommit 3f340441574f7ec54190d98bfee636333e86abf2\nAuthor: Angus Helm <angus.helm@slalom.com>\nDate:   2017-05-24T18:27:57Z\n\n    STORM-2517 add interface for Writer\n\ncommit f379579243be1e4d3935421b9b7bb8a1835e9f58\nAuthor: Angus Helm <angus.helm@slalom.com>\nDate:   2017-05-24T18:29:58Z\n\n    STORM-2517 make AbstractHDFSWriter properties protected\n\ncommit a6275e13245b0a47c11ef1b0a7f83b3fe6392874\nAuthor: Angus Helm <angus.helm@slalom.com>\nDate:   2017-05-24T18:37:09Z\n\n    STORM-2517 revert import changes\n\n----\n","created":"2017-05-24T18:38:21.585+0000","updated":"2017-05-24T18:38:21.585+0000","started":"2017-05-24T18:38:21.584+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"43351","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/44794","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user Angus-Slalom closed the pull request at:\n\n    https://github.com/apache/storm/pull/2138\n","created":"2017-06-12T14:52:29.228+0000","updated":"2017-06-12T14:52:29.228+0000","started":"2017-06-12T14:52:29.228+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"44794","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/44796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user Angus-Slalom opened a pull request:\n\n    https://github.com/apache/storm/pull/2157\n\n    STORM-2517 storm-hdfs writers can't be subclassed\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/Angus-Slalom/storm 1.x-branch-STORM-2517\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2157.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2157\n    \n----\ncommit 421336229dbdbe0d2c9a782315c6f2df1e4d0971\nAuthor: Angus Helm <angus.helm@slalom.com>\nDate:   2017-05-24T18:27:57Z\n\n    STORM-2517 add interface for Writer, make AbstractHDFSWriter properties protected\n\n----\n","created":"2017-06-12T14:54:15.889+0000","updated":"2017-06-12T14:54:15.889+0000","started":"2017-06-12T14:54:15.888+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"44796","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46150","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user harshach commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2157#discussion_r124087558\n  \n    --- Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/AbstractHdfsBolt.java ---\n    @@ -297,9 +296,21 @@ protected Path getBasePathForNextFile(Tuple tuple) {\n     \n         abstract protected String getWriterKey(Tuple tuple);\n     \n    -    abstract protected AbstractHDFSWriter makeNewWriter(Path path, Tuple tuple) throws IOException;\n    +    abstract protected Writer makeNewWriter(Path path, Tuple tuple) throws IOException;\n     \n    -    static class WritersMap extends LinkedHashMap<String, AbstractHDFSWriter> {\n    +    public interface Writer {\n    --- End diff --\n    \n    can you move this into this its own file rather than putting it in HDFSBolt\n","created":"2017-06-26T18:41:44.324+0000","updated":"2017-06-26T18:41:44.324+0000","started":"2017-06-26T18:41:44.324+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46150","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dossett commented on the issue:\n\n    https://github.com/apache/storm/pull/2157\n  \n    I hadn't thought about subclassing the writers, instead I thought a new bolt would implements its own writer.  @Angus-Slalom what use case do you have in mind?  I'm not opposed to the change, just curious.\n","created":"2017-06-27T12:38:44.567+0000","updated":"2017-06-27T12:38:44.567+0000","started":"2017-06-27T12:38:44.567+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46327","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user Angus-Slalom commented on the issue:\n\n    https://github.com/apache/storm/pull/2157\n  \n    @dossett the AbstractHDFSBolt uses AbstractHDFSWriter throughout, so any implementation of a writer has to inherit from that. For example the makeNewWriter protected function has to return an AbstractHDFSWriter\n    We've been subclassing the HDFS bolt to add more logging and to make tweaks to our AVRO output\n","created":"2017-06-27T13:54:04.062+0000","updated":"2017-06-27T13:54:04.062+0000","started":"2017-06-27T13:54:04.062+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46332","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user dossett commented on the issue:\n\n    https://github.com/apache/storm/pull/2157\n  \n    @Angus-Slalom Thanks, that makes sense! Feel free to contribute logging changes as well if you think they are generally applicable :-)\n    \n    I'm at +1 pending the change Harsha suggested.\n","created":"2017-06-27T13:59:17.122+0000","updated":"2017-06-27T13:59:17.122+0000","started":"2017-06-27T13:59:17.122+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46338","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46893","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user Angus-Slalom commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2157#discussion_r125324914\n  \n    --- Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/AbstractHdfsBolt.java ---\n    @@ -297,9 +296,21 @@ protected Path getBasePathForNextFile(Tuple tuple) {\n     \n         abstract protected String getWriterKey(Tuple tuple);\n     \n    -    abstract protected AbstractHDFSWriter makeNewWriter(Path path, Tuple tuple) throws IOException;\n    +    abstract protected Writer makeNewWriter(Path path, Tuple tuple) throws IOException;\n     \n    -    static class WritersMap extends LinkedHashMap<String, AbstractHDFSWriter> {\n    +    public interface Writer {\n    --- End diff --\n    \n    updated\n","created":"2017-07-03T16:24:57.486+0000","updated":"2017-07-03T16:24:57.486+0000","started":"2017-07-03T16:24:57.485+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46893","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on a diff in the pull request:\n\n    https://github.com/apache/storm/pull/2157#discussion_r125541489\n  \n    --- Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/Writer.java ---\n    @@ -0,0 +1,18 @@\n    +package org.apache.storm.hdfs.bolt;\n    --- End diff --\n    \n    Missing apache license header.\n","created":"2017-07-05T01:29:17.584+0000","updated":"2017-07-05T01:29:17.584+0000","started":"2017-07-05T01:29:17.583+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46986","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/46987","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user HeartSaVioR commented on the issue:\n\n    https://github.com/apache/storm/pull/2157\n  \n    @Angus-Slalom \n    Could you craft the patch against master? We introduced checkstyle in master branch so forward porting via cherry-pick might not work.\n","created":"2017-07-05T01:30:44.791+0000","updated":"2017-07-05T01:30:44.791+0000","started":"2017-07-05T01:30:44.790+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"46987","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user Angus-Slalom opened a pull request:\n\n    https://github.com/apache/storm/pull/2294\n\n    STORM-2517 add interface for Writer, make AbstractHDFSWriter properti…\n\n    …es protected\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/Angus-Slalom/storm master\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/storm/pull/2294.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #2294\n    \n----\ncommit d3ece270fbcace79195a4217731c3f82bcf2b360\nAuthor: Angus Helm <angus.helm@slalom.com>\nDate:   2017-08-24T20:34:19Z\n\n    STORM-2517 add interface for Writer, make AbstractHDFSWriter properties protected\n\n----\n","created":"2017-08-24T20:39:23.807+0000","updated":"2017-08-24T20:39:23.807+0000","started":"2017-08-24T20:39:23.803+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51100","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51101","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user Angus-Slalom commented on the issue:\n\n    https://github.com/apache/storm/pull/2157\n  \n    Created a pull request on master at https://github.com/apache/storm/pull/2294\n","created":"2017-08-24T20:39:46.324+0000","updated":"2017-08-24T20:39:46.324+0000","started":"2017-08-24T20:39:46.323+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51101","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51102","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user Angus-Slalom commented on the issue:\n\n    https://github.com/apache/storm/pull/2294\n  \n    Created for pull request https://github.com/apache/storm/pull/2157\n","created":"2017-08-24T20:39:57.567+0000","updated":"2017-08-24T20:39:57.567+0000","started":"2017-08-24T20:39:57.567+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51102","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51270","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2294\n  \n    @Angus-Slalom there are some checkstyle violations here, which is why the build is failing.  Other then that it looks good.  +1\n","created":"2017-08-28T21:23:48.507+0000","updated":"2017-08-28T21:23:48.507+0000","started":"2017-08-28T21:23:48.504+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51270","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2294\n  \n    ```\n    external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/Writer.java\n    \t18: 'package' should be separated from previous statement.\n    \t23: Wrong lexicographical order for 'java.io.IOException' import. Should be before 'org.apache.storm.tuple.Tuple'.\n    ```\n    \n    are the two issues associated with the new file you added.  Then there is just one more added in, but because it is changes to existing files it is hard to tell, so it is simplest to just pick one or two other issues to \"fix\" too.\n    \n    ```\n    external/storm-hdfs/src/main/java/org/apache/storm/hdfs/common/AbstractHDFSWriter.java\n    \t18: 'package' should be separated from previous statement.\n    \t25: Wrong lexicographical order for 'java.io.IOException' import. Should be before 'org.apache.storm.tuple.Tuple'.\n    \t27: Abbreviation in name 'AbstractHDFSWriter' must contain no more than '2' consecutive capital letters.\n    \t27: 'public' modifier out of order with the JLS suggestions.\n    \t31: 'protected' modifier out of order with the JLS suggestions.\n    \t32: 'protected' modifier out of order with the JLS suggestions.\n    \t34: Missing a Javadoc comment.\n    \t40: Missing a Javadoc comment.\n    \t40: 'public' modifier out of order with the JLS suggestions.\n    \t47: 'public' modifier out of order with the JLS suggestions.\n    \t51: 'public' modifier out of order with the JLS suggestions.\n    \t63: 'protected' modifier out of order with the JLS suggestions.\n    \t65: 'protected' modifier out of order with the JLS suggestions.\n    \t67: 'protected' modifier out of order with the JLS suggestions.\n    ``` \n","created":"2017-08-28T21:31:44.814+0000","updated":"2017-08-28T21:31:44.814+0000","started":"2017-08-28T21:31:44.813+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51271","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51272","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user revans2 commented on the issue:\n\n    https://github.com/apache/storm/pull/2294\n  \n    @Angus-Slalom actually because these are all just white space changes I can do it myself when I check it in.\n    \n    Let me run the tests all the way through to be sure it looks good then I'll pull it in.\n","created":"2017-08-28T21:35:05.846+0000","updated":"2017-08-28T21:35:05.846+0000","started":"2017-08-28T21:35:05.844+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51272","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2294\n","created":"2017-08-28T22:07:57.393+0000","updated":"2017-08-28T22:07:57.393+0000","started":"2017-08-28T22:07:57.391+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51276","issueId":"13072607"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13072607/worklog/51277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/storm/pull/2157\n","created":"2017-08-28T22:12:15.659+0000","updated":"2017-08-28T22:12:15.659+0000","started":"2017-08-28T22:12:15.657+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"51277","issueId":"13072607"}]},"customfield_12311820":"0|i3f2xz:"}}