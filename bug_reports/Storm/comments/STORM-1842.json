[I'm marking this as critical because it is preventing Petrel, a Python wrapper for Storm, from supporting Storm 1.0 and beyond., https://github.com/AirSage/Petrel/issues/75, Error message from generated Python:
{noformat}
Traceback (most recent call last):
  File "/usr/lib/python2.7/runpy.py", line 162, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/usr/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/vagrant/petrel/petrel/cmdline.py", line 12, in <module>
    from .package import build_jar
  File "/vagrant/petrel/petrel/package.py", line 13, in <module>
    from topologybuilder import TopologyBuilder
  File "/vagrant/petrel/petrel/topologybuilder.py", line 6, in <module>
    from petrel.generated.storm.ttypes import ComponentCommon, Grouping, NullStruct, GlobalStreamId
  File "/vagrant/petrel/petrel/generated/storm/ttypes.py", line 10080, in <module>
    class HBMessageData:
  File "/vagrant/petrel/petrel/generated/storm/ttypes.py", line 10094, in HBMessageData
    (2, TType.STRUCT, 'pulse', (HBPulse, HBPulse.thrift_spec), None, ), # 2
NameError: name 'HBPulse' is not defined
{noformat}, Attached file ttypes.py references HBPulse before its definition. This occurs with the latest Python thrift library (0.9.3)., I'm waiting for this to upgrade my Apache Storm., GitHub user HeartSaVioR opened a pull request:

    https://github.com/apache/storm/pull/1423

    STORM-1842 Forward references in storm.thrift cause tooling issues

    Please refer [STORM-1842](https://issues.apache.org/jira/browse/STORM-1842) for more details.
    
    * python doesn't support forward reference so ttypes.py has a problem regarding this issue
    * reorder HBPulse, HBRecords, HBNodes to resolve forward reference issue

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/HeartSaVioR/storm STORM-1842

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/1423.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1423
    
----
commit ad46a470c173c8daf2bd76bc10ecbfc6fd08865b
Author: Jungtaek Lim <kabhwan@gmail.com>
Date:   2016-05-17T11:23:38Z

    STORM-1842 Forward references in storm.thrift cause tooling issues
    
    * python doesn't support forward reference so ttypes.py has a problem regarding this issue
    * reorder HBPulse, HBRecords, HBNodes to resolve forward reference issue

----
, GitHub user HeartSaVioR opened a pull request:

    https://github.com/apache/storm/pull/1424

    STORM-1842 (1.x) Forward references in storm.thrift cause tooling issues

    For master: #1423 
    
    Please refer STORM-1842 for more details.
    
    * python doesn't support forward reference so ttypes.py has a problem regarding this issue
    * reorder HBPulse, HBRecords, HBNodes to resolve forward reference issue

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/HeartSaVioR/storm STORM-1842-1.x

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/1424.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1424
    
----
commit 4c7117d75f80b820da110c3abee88134ca6ecaaa
Author: Jungtaek Lim <kabhwan@gmail.com>
Date:   2016-05-17T11:45:03Z

    STORM-1842 Forward references in storm.thrift cause tooling issues
    
    * python doesn't support forward reference so ttypes.py has a problem regarding this issue
    * reorder HBPulse, HBRecords, HBNodes to resolve forward reference issue

----
, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/1423#issuecomment-219698986
  
    I'm not sure it breaks backward compatibility, so if anyone checks it doesn't break compatibility that would be great.
, GitHub user HeartSaVioR opened a pull request:

    https://github.com/apache/storm/pull/1425

    STORM-1842 (1.0.x) Forward references in storm.thrift cause tooling issues

    For master: #1423
    For 1.x: #1424 
    
    Please refer STORM-1842 for more details.
    
    * python doesn't support forward reference so ttypes.py has a problem regarding this issue
    * reorder HBPulse, HBRecords, HBNodes to resolve forward reference issue

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/HeartSaVioR/storm STORM-1842-1.0.x

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/1425.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1425
    
----
commit 7bdb1fe92f85435e86c436669760ee8df1e1c7c6
Author: Jungtaek Lim <kabhwan@gmail.com>
Date:   2016-05-17T11:57:15Z

    STORM-1842 Forward references in storm.thrift cause tooling issues
    
    * python doesn't support forward reference so ttypes.py has a problem regarding this issue
    * reorder HBPulse, HBRecords, HBNodes to resolve forward reference issue

----
, [~barrywhart] [~CogumelosMaravilha]
I submitted pull requests for reordering structs to get rid of forward references.

While I'm not sure that breaks compatibility, you may want to build and package your own storm-core by applying this pull request and try to see it helps.

If you want to try testing but don't want to build your own, please ping to me so that I can pass custom package to you.

Thanks!, Github user barrywhart commented on the pull request:

    https://github.com/apache/storm/pull/1423#issuecomment-219707172
  
    The change looks good to me.
    
    Are the build failures related to this change?
    
    https://travis-ci.org/apache/storm/jobs/130816708#L1162
    
    It looks like something unrelated:
    ```[ERROR] Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.2.1:process (default) on project storm-hive: Error resolving project artifact: Could not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.3-jhyde from/to sonatype-apache (https://repository.apache.org/releases/): Connect to repository.apache.org:443 [repository.apache.org/140.211.11.112] failed: Connection timed out for project org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.3-jhyde -> [Help 1]```
, [~kabhwan]: Can you send me a custom package? I'm not familiar with building Storm from source., More of a general question -- are there any automated tests for the generated Python code? Simply attempting to import ttypes.py would've detected this error. If there is no such test, adding one could help avoid problems like this in the future., Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/1423#issuecomment-219709570
  
    @barrywhart 
    https://repository.apache.org/releases/ returns 503 now, which makes Travis CI failed.
, Yeah, good to have a new JIRA issue, and if you would contribute that I'd be really appreciated! , Done. STORM-1846, [~barrywhart] 
Here's custom build of Storm 1.0.2 SNAPSHOT + STORM-1842 patch.
http://people.apache.org/~kabhwan/storm-core-1.0.2-SNAPSHOT.jar

If it incurs other issues please let me know so that I just apply STORM-1842 with Storm 1.0.1 and rebuild., I tested with the updated storm.thrift from your pull request. This addresses my Python thrift issues.

I'm now working on some unrelated Java compilation and runtime issues., Github user barrywhart commented on the pull request:

    https://github.com/apache/storm/pull/1423#issuecomment-219865469
  
    I tested with the updated storm.thrift from this pull request. It addresses the Python Thrift issues I was encountering.
    
    From my perspective, this change is ready for merge.
, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/1434#issuecomment-220489095
  
    Hi @et1975 thanks for the contribution. It's filed to STORM-1842 and #1423 is also ready to review.
    Could you check #1423 and see it also works for C# thrift compiler?
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/1423#issuecomment-220677726
  
    +1
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/1424#issuecomment-220677791
  
    +1
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/1425#issuecomment-220677854
  
    +1
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/1424
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/1425
, Merged to master, 1.0.x and 1.x branches., [~ptgoetz] Seems like you missed to merge this to master. (pull request is not closed and storm.thrift is same.) I'll handle it., Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/1423#issuecomment-220884435
  
    I merged into master but github seems to not recognize merge commits as pull request. 
    Closed via 45e62a75ce667012fa0cf74e1543784b1620d36b
, Github user HeartSaVioR closed the pull request at:

    https://github.com/apache/storm/pull/1423
, Merged. Thanks [~ptgoetz] for reviewing and merging!]