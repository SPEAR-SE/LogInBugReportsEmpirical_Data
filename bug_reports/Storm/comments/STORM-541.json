[GitHub user caofangkun opened a pull request:

    https://github.com/apache/storm/pull/422

    STORM-541:Clean duplicate dependences in poms

    *  Run Command
    ```
     mvn clean &&  mvn install -Dmaven.test.skip=true
    ```
    
    * Got the following warning:
    ```
    [INFO] Scanning for projects...
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:maven-shade-clojure-transformer:jar:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm-maven-plugins:maven-plugin:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm-core:jar:0.10.0-SNAPSHOT
    [WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version (?) @ org.apache.storm:storm-core:[unknown-version], /home/caokun/workspace/apache-storm/storm-core/pom.xml, line 214, column 21
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 'build.plugins.plugin.version' for org.apache.storm:storm-maven-plugins is missing. @ org.apache.storm:storm-core:[unknown-version], /home/caokun/workspace/apache-storm/storm-core/pom.xml, line 479, column 21
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm-starter:jar:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm-kafka:jar:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm-hdfs:jar:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm-hbase:jar:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ org.apache.storm:storm:0.10.0-SNAPSHOT, /home/caokun/workspace/apache-storm/pom.xml, line 523, column 25
    [WARNING] 
    [WARNING] Some problems were encountered while building the effective model for org.apache.storm:storm:pom:0.10.0-SNAPSHOT
    [WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.clojars.runa:conjure:jar -> duplicate declaration of version ${conjure.version} @ line 523, column 25
    [WARNING] 
    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
    [WARNING] 
    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
    [WARNING] 
    ```

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/caofangkun/apache-storm storm-541

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/422.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #422
    
----
commit 6c04e1bea802d28ae92a234ddbaad2c1ed0a6835
Author: caofangkun <caofangkun@gmail.com>
Date:   2015-01-23T01:28:46Z

    Merge pull request #4 from apache/master
    
    Merger from apache/storm to caofangkun/apache-storm

commit d8c98cb1846bd07aef558bde410607b923aa5c1e
Author: caofangkun <caofangkun@gmail.com>
Date:   2015-02-04T01:09:22Z

    Merge pull request #5 from apache/master
    
    Merge from apache/storm to caofangkun/apache-storm

commit 91fefef439388bb3f6f144f6eecd24213ad1cc62
Author: caofangkun <caofangkun@gmail.com>
Date:   2015-02-09T06:14:06Z

    STORM-541:Clean duplicate dependences in poms

----
, Github user caofangkun commented on the pull request:

    https://github.com/apache/storm/pull/422#issuecomment-73626073
  
    @revans2 
    Could you please have a review on this PR? Thanks a lot .
, Github user revans2 commented on a diff in the pull request:

    https://github.com/apache/storm/pull/422#discussion_r26250879
  
    --- Diff: pom.xml ---
    @@ -521,12 +521,6 @@
                     <scope>test</scope>
                 </dependency>
                 <dependency>
    -                <groupId>org.clojars.runa</groupId>
    -                <artifactId>conjure</artifactId>
    -                <version>${conjure.version}</version>
    --- End diff --
    
    The code no longer compiles because this dependency was removed.  dependencyManagement in the pom does not add in a dependency, it just tells maven if a project needs this dependency use this particular version.  Without this here the remaining dependency in storm-core does not know which version to use.
, Github user caofangkun commented on a diff in the pull request:

    https://github.com/apache/storm/pull/422#discussion_r26361833
  
    --- Diff: pom.xml ---
    @@ -521,12 +521,6 @@
                     <scope>test</scope>
                 </dependency>
                 <dependency>
    -                <groupId>org.clojars.runa</groupId>
    -                <artifactId>conjure</artifactId>
    -                <version>${conjure.version}</version>
    --- End diff --
    
    Thank you @revans2 
    Fixed. Please review this PR again.
, Github user revans2 commented on the pull request:

    https://github.com/apache/storm/pull/422#issuecomment-82420774
  
    +1 it cleans up the warnings, the pull request title is a bit confusing, but it works. 
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/422
, Thanks [~caofangkun],

I merged this into master.]