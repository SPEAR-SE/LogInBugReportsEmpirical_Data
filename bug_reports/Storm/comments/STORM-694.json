[GitHub user duke-bartholomew opened a pull request:

    https://github.com/apache/storm/pull/449

    STORM-694

    Exception in thread "main" java.lang.ClassNotFoundException: backtype.storm.daemon.common.SupervisorInfo, compiling:(supervisor.clj:16:1)


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/duke-bartholomew/storm master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/449.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #449
    
----
commit c2b23cfb2fd167aa9d53e16cfa49e7665324d46f
Author: Bartholomew <duke.bartholomew@gmail.com>
Date:   2015-02-27T09:45:49Z

    add explicit :require

commit 905c14e10b878194b12646240284cbf014d8eadd
Author: Duke Bartholomew <duke.bartholomew@gmail.com>
Date:   2015-02-27T09:48:45Z

    Merge pull request #1 from duke-bartholomew/STORM-694
    
    add explicit :require

----
, Github user caofangkun commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-85329513
  
    @duke-bartholomew 
    Does this still a issue? 
    See  SupervisorInfo has already be imported at : 
    https://github.com/apache/storm/blob/master/storm-core/src/clj/backtype/storm/daemon/supervisor.clj#L21  
, Github user duke-bartholomew commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-85680330
  
    @caofangkun 
    I just tried again on the latest master branch, and sadly enough, yes the issue is still there.
    When executing 'mvn package' or 'mvn test' I still get the same error : 
    ```
    Exception in thread "main" java.lang.ClassNotFoundException: backtype.storm.daemon.common.SupervisorInfo, compiling:(supervisor.clj:16:1)
    	at clojure.lang.Compiler$InvokeExpr.eval(Compiler.java:3558)
    	at clojure.lang.Compiler.compile1(Compiler.java:7226)
    	at clojure.lang.Compiler.compile1(Compiler.java:7216)
    	at clojure.lang.Compiler.compile(Compiler.java:7292)
    	at clojure.lang.RT.compile(RT.java:398)
    	at clojure.lang.RT.load(RT.java:438)
    	at clojure.lang.RT.load(RT.java:411)
    	at clojure.core$load$fn__5066.invoke(core.clj:5641)
    	at clojure.core$load.doInvoke(core.clj:5640)
    	at clojure.lang.RestFn.invoke(RestFn.java:408)
    	at clojure.core$load_one.invoke(core.clj:5446)
    	at clojure.core$compile$fn__5071.invoke(core.clj:5652)
    	at clojure.core$compile.invoke(core.clj:5651)
    	at clojure.lang.Var.invoke(Var.java:379)
    	at clojure.lang.Compile.main(Compile.java:
    ```
, Github user caofangkun commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-85783849
  
    @duke-bartholomew 
    It works very well  when I try to reproduce this issue:
    ```
       git clone https://github.com/apache/storm.git  
       cd storm 
       mvn package -Dmaven.test.skip=true 
    ```
, Github user duke-bartholomew commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-85884589
  
    @caofangkun 
    indeed, you are right.  If I start from a new clone, it seems to work.
    Thanks for your reply!
    
    It still confuses me though why this is not working when I pull _master_ on my already cloned storm repo.
    But that's most probably a problem on my side then.

, Github user knusbaum commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-87743965
  
    You're including `common` twice, once on line 29, and once on line 18.
    
    The real solution is to remove the import of `[backtype.storm.daemon.common SupervisorInfo]` and use the record constructor `(->SupervisorInfo ...)` rather than the Java constructor `(SupervisorInfo. ...)` on line 504.
, GitHub user knusbaum opened a pull request:

    https://github.com/apache/storm/pull/492

    STORM-694: java.lang.ClassNotFoundException: backtype.storm.daemon.common.SupervisorInfo

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/knusbaum/incubator-storm STORM-694

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/492.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #492
    
----
commit 0af1d08c690b1bed68669e4fd291a7c186ea185c
Author: Kyle Nusbaum <kylejnusbaum@gmail.com>
Date:   2015-03-30T17:24:13Z

    Fix for STORM-694

----
, Github user knusbaum commented on the pull request:

    https://github.com/apache/storm/pull/492#issuecomment-87761632
  
    #449 
, Github user duke-bartholomew commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-87809406
  
    @knusbaum Thanks for the input :+1: 
, Github user nathanmarz commented on the pull request:

    https://github.com/apache/storm/pull/492#issuecomment-87942556
  
    +1
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/492#issuecomment-90661810
  
    +1
, Github user harshach commented on the pull request:

    https://github.com/apache/storm/pull/492#issuecomment-90666963
  
    +1
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/492
, Github user harshach commented on the pull request:

    https://github.com/apache/storm/pull/492#issuecomment-91033826
  
    Thanks @knusbaum  merged it into master.
, Github user d2r commented on the pull request:

    https://github.com/apache/storm/pull/449#issuecomment-146644018
  
    @duke-bartholomew , Seems STORM-694 was closed because #492 was merged in.  Should this pull request be closed?
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/449
]