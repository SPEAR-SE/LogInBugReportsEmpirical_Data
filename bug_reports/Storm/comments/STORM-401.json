[I saw the crash in event-manager and mk-worker.
{noformat}
17062 [Thread-14] ERROR backtype.storm.event - Error when processing event
java.io.InterruptedIOException: null
	at reply.hacks.printing$print_sequential.invoke(printing.clj:31) ~[na:na]
	at clojure.core$print_map.invoke(core_print.clj:203) ~[clojure-1.5.1.jar:na]
	at clojure.core$fn__5449.invoke(core_print.clj:260) ~[clojure-1.5.1.jar:na]
	at clojure.lang.MultiFn.invoke(MultiFn.java:231) ~[clojure-1.5.1.jar:na]
	at clojure.core$pr_on.invoke(core.clj:3322) ~[clojure-1.5.1.jar:na]
	at clojure.core$pr.invoke(core.clj:3334) ~[clojure-1.5.1.jar:na]
	at clojure.lang.AFn.applyToHelper(AFn.java:161) [clojure-1.5.1.jar:na]
	at clojure.lang.RestFn.applyTo(RestFn.java:132) ~[clojure-1.5.1.jar:na]
	at clojure.core$apply.invoke(core.clj:617) ~[clojure-1.5.1.jar:na]
	at clojure.core$pr_str.doInvoke(core.clj:4297) ~[clojure-1.5.1.jar:na]
	at clojure.lang.RestFn.invoke(RestFn.java:408) ~[clojure-1.5.1.jar:na]
	at backtype.storm.daemon.supervisor$sync_processes$iter__4359__4363$fn__4364.invoke(supervisor.clj:268) ~[na:na]
	at clojure.lang.LazySeq.sval(LazySeq.java:42) ~[clojure-1.5.1.jar:na]
	at clojure.lang.LazySeq.seq(LazySeq.java:60) ~[clojure-1.5.1.jar:na]
	at clojure.lang.RT.seq(RT.java:484) ~[clojure-1.5.1.jar:na]
	at clojure.core$seq.invoke(core.clj:133) ~[clojure-1.5.1.jar:na]
	at clojure.core$dorun.invoke(core.clj:2780) ~[clojure-1.5.1.jar:na]
	at clojure.core$doall.invoke(core.clj:2796) ~[clojure-1.5.1.jar:na]
	at backtype.storm.daemon.supervisor$sync_processes.invoke(supervisor.clj:265) ~[classes/:na]
	at clojure.lang.AFn.applyToHelper(AFn.java:161) [clojure-1.5.1.jar:na]
	at clojure.lang.AFn.applyTo(AFn.java:151) [clojure-1.5.1.jar:na]
	at clojure.core$apply.invoke(core.clj:619) ~[clojure-1.5.1.jar:na]
	at clojure.core$partial$fn__4190.doInvoke(core.clj:2396) ~[clojure-1.5.1.jar:na]
	at clojure.lang.RestFn.invoke(RestFn.java:397) ~[clojure-1.5.1.jar:na]
	at backtype.storm.event$event_manager$fn__4814.invoke(event.clj:39) ~[classes/:na]
	at clojure.lang.AFn.run(AFn.java:24) [clojure-1.5.1.jar:na]
	at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]
{noformat}
{noformat}
11275 [Thread-13] ERROR backtype.storm.daemon.worker - Error on initialization of server mk-worker
java.io.InterruptedIOException: null
        at reply.hacks.printing$print_sequential.invoke(printing.clj:31) ~[na:na]
        at clojure.core$print_map.invoke(core_print.clj:203) ~[clojure-1.5.1.jar:na]
        at clojure.core$fn__5431.invoke(core_print.clj:207) ~[clojure-1.5.1.jar:na]
        at clojure.lang.MultiFn.invoke(MultiFn.java:231) [clojure-1.5.1.jar:na]
        at clojure.core$pr_on.invoke(core.clj:3322) ~[clojure-1.5.1.jar:na]
        at clojure.lang.Var.invoke(Var.java:419) ~[clojure-1.5.1.jar:na]
        at clojure.lang.RT.print(RT.java:1748) [clojure-1.5.1.jar:na]
        at clojure.lang.RT.printString(RT.java:1727) [clojure-1.5.1.jar:na]
        at clojure.lang.APersistentMap.toString(APersistentMap.java:21) ~[clojure-1.5.1.jar:na]
        at clojure.core$str.invoke(core.clj:513) ~[clojure-1.5.1.jar:na]
        at clojure.core$str$fn__3896.invoke(core.clj:517) ~[clojure-1.5.1.jar:na]
        at clojure.core$str.doInvoke(core.clj:519) ~[clojure-1.5.1.jar:na]
        at clojure.lang.RestFn.invoke(RestFn.java:816) [clojure-1.5.1.jar:na]
        at backtype.storm.daemon.worker$fn__6855$exec_fn__2478__auto____6856.invoke(worker.clj:356) ~[classes/:na]
        at clojure.lang.AFn.applyToHelper(AFn.java:185) [clojure-1.5.1.jar:na]
        at clojure.lang.AFn.applyTo(AFn.java:151) [clojure-1.5.1.jar:na]
        at clojure.core$apply.invoke(core.clj:617) [clojure-1.5.1.jar:na]
        at backtype.storm.daemon.worker$fn__6855$mk_worker__6911.doInvoke(worker.clj:355) [classes/:na]
        at clojure.lang.RestFn.invoke(RestFn.java:512) [clojure-1.5.1.jar:na]
        at backtype.storm.daemon.supervisor$fn__7382.invoke(supervisor.clj:561) [classes/:na]
        at clojure.lang.MultiFn.invoke(MultiFn.java:241) [clojure-1.5.1.jar:na]
        at backtype.storm.daemon.supervisor$sync_processes$iter__7226__7230$fn__7231.invoke(supervisor.clj:277) [classes/:na]
        at clojure.lang.LazySeq.sval(LazySeq.java:42) [clojure-1.5.1.jar:na]
        at clojure.lang.LazySeq.seq(LazySeq.java:60) [clojure-1.5.1.jar:na]
        at clojure.lang.RT.seq(RT.java:484) [clojure-1.5.1.jar:na]
        at clojure.core$seq.invoke(core.clj:133) [clojure-1.5.1.jar:na]
        at clojure.core$dorun.invoke(core.clj:2780) [clojure-1.5.1.jar:na]
        at clojure.core$doall.invoke(core.clj:2796) [clojure-1.5.1.jar:na]
        at backtype.storm.daemon.supervisor$sync_processes.invoke(supervisor.clj:265) [classes/:na]
        at clojure.lang.AFn.applyToHelper(AFn.java:161) [clojure-1.5.1.jar:na]
        at clojure.lang.AFn.applyTo(AFn.java:151) [clojure-1.5.1.jar:na]
        at clojure.core$apply.invoke(core.clj:619) [clojure-1.5.1.jar:na]
        at clojure.core$partial$fn__4190.doInvoke(core.clj:2396) [clojure-1.5.1.jar:na]
        at clojure.lang.RestFn.invoke(RestFn.java:397) [clojure-1.5.1.jar:na]
        at backtype.storm.event$event_manager$fn__4814.invoke(event.clj:39) [classes/:na]
        at clojure.lang.AFn.run(AFn.java:24) [clojure-1.5.1.jar:na]
        at java.lang.Thread.run(Thread.java:744) [na:1.7.0_55]
11300 [Thread-13] INFO  backtype.storm.util - Halting process: ("Error on initialization")
{noformat}
, GitHub user iwasakims opened a pull request:

    https://github.com/apache/incubator-storm/pull/191

    STORM-401: supervisor-test sometimes crashes due to InterruptedIOException

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/iwasakims/incubator-storm STORM-401

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-storm/pull/191.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #191
    
----
commit 492dfb9b4a2953c562099740113eccb70a65bf2a
Author: iwasakims <iwasakims@example.com>
Date:   2014-07-14T13:12:43Z

    added handling of InterruptedIOException.

----
, Github user xiaokang commented on the pull request:

    https://github.com/apache/incubator-storm/pull/191#issuecomment-49539641
  
    @iwasakims , is there more information about why InterruptedIOException occurs in supervisor-test?
, Github user revans2 commented on the pull request:

    https://github.com/apache/incubator-storm/pull/191#issuecomment-53494292
  
    @xiaokang 
    
    InterruptedIOException shows up when a thread is interrupted while doing an IO operation.  It is a pain that it is not a subclass of InterruptedException but it serves essentially the same purpose.  The code looks fine to me.
    
    +1

, Thanks Masatake Iwasaki,

I merged this into master.  Sorry it took so long to get a review., Github user asfgit closed the pull request at:

    https://github.com/apache/incubator-storm/pull/191
, Github user iwasakims commented on the pull request:

    https://github.com/apache/incubator-storm/pull/191#issuecomment-53504833
  
    Sorry for not responding this. I saw the error when I run the tests in supervisor_test or nimbus_test. Not every time but occasionally in my env.
]