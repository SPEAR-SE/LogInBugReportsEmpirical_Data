[Github user dsKarthick commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-214857945
  
    @arunmahadevan 
    > Can you also raise a jira
    Sure. Raised [https://issues.apache.org/jira/browse/STORM-1733](STORM-1733)
    
    > When stdout is a terminal its unbufferred and stderr is always unbufferred.
    True. I have added this note to jira.
    
    > This would likely be an issue only when you redirect the stdout of "storm jar" command to a file
    Not sure why you say this. In my case for example, I using runit to start storm components like nimbus, ui, etc and the problem is applicable to all the components. 
    

, Github user arunmahadevan commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-214962026
  
    > Not sure why you say this. In my case for example, I using runit to start storm components like nimbus, ui, etc and the problem is applicable to all the components.
    
    Yes the issue happens when you redirect the stdout of any storm command to a file.
    
    Can you update the PR title to include the JIRA, i.e prefix it with [STORM-1733] ? 
, Github user dsKarthick commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-214988139
  
    > Can you update the PR title to include the JIRA, i.e prefix it with [STORM-1733]
    Done.
, Github user arunmahadevan commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-214998893
  
    +1
, Github user vesense commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-215073019
  
    LGTM
    @dsKarthick Could you address this to 0.10.x-branch and 1.x-branch, too?
, GitHub user dsKarthick opened a pull request:

    https://github.com/apache/storm/pull/1371

    STORM-1733 (0.9.x) Flush stdout and stderr before calling "os.execvp" to prevent log loss.

    Please see https://github.com/apache/storm/pull/1360
    
    @arunmahadevan @vesense

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/dsKarthick/storm-1 flush_launch_command_to_stderr_0.9.x-branch

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/1371.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1371
    
----
commit 98f4e619d54052b73a309d23ab7214953e4c7774
Author: Sriharsha Chintalapani <mail@harsha.io>
Date:   2015-02-05T18:08:05Z

    STORM-130: Supervisor getting killed due to java.io.FileNotFoundException: File '../stormconf.ser' does not exist.
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit a1e5893e1b94c224d39fedf11583b216c21351c8
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-02-24T20:46:12Z

    update changelog for STORM-130

commit 62788f295bb1fb1cc83b99c30f82beb40eea5f25
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-02-24T23:03:40Z

    port STORM-329 fix to 0.9.x

commit 81016c2ed7222da99138bc9971e335533d4cb518
Author: Michael G. Noll <mnoll@verisign.com>
Date:   2015-02-16T09:01:27Z

    Track how many messages are being dropped when a connection is unavailable
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit 97a76fc896de508f015dbe32f1473ddbf10d736b
Author: Michael G. Noll <mnoll@verisign.com>
Date:   2015-02-16T09:03:07Z

    Clarify name of method for dropping messages
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit 9138d9fc255639b4d0d43657379ce467591e8ef2
Author: Michael G. Noll <mnoll@verisign.com>
Date:   2015-02-16T09:07:35Z

    Change log level for intentionally dropping messages from WARN to ERROR
    
    This change makes the log level for dropping messages consistent in
    Client.java.
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit 6b06d8468ff5e743fb12b85dd84fe0931041c2c3
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-02-24T23:18:43Z

    add STORM-329 to changelog

commit e63fb2af9086e2b2e688662ca42a4b4d0112274b
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   2015-03-03T00:06:58Z

    STORM-693: when bolt fails to write tuple, it should report error instead of silently acking.
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit 92836de540ec8ab90d7591b96ba02126e80b5c3a
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T14:59:56Z

    add STORM-693 to changelog

commit c19e482b70f18d690ad165c78551860506486095
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   2015-02-20T19:56:22Z

    STORM-682: supervisor should handle worker state corruption gracefully.
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit f0de11a20fe2f20dc1dc2f485549e0dc342f8680
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T15:05:30Z

    add STORM-682 to changelog

commit 835a410c879dc1eb02d9670410f65fe0be6f28c6
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   2015-01-14T20:27:35Z

    STORM-559: ZkHosts in README should use 2181 as port.
    
    Signed-off-by: P. Taylor Goetz <ptgoetz@gmail.com>

commit 30e0be8616c89cb1f8a51fcf462f76a075e6e964
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T15:11:16Z

    add STORM-559 to changelog

commit b1bbacb7134d17ff47c2e8b8857a66244a4d1d4f
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T15:28:11Z

    add missing import in supervisor.clj

commit edf596bac8feab0c8721f7de94474e5549858355
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T16:21:38Z

    [maven-release-plugin] prepare release v0.9.4

commit 48d10e20eb3c750fc41fcf0bef3d49501cf6d5a4
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T16:21:45Z

    [maven-release-plugin] prepare for next development iteration

commit 41f44f9914d4f27d0db3f211a85f88301533f09b
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T17:59:39Z

    Revert "[maven-release-plugin] prepare for next development iteration"
    
    This reverts commit 48d10e20eb3c750fc41fcf0bef3d49501cf6d5a4.

commit 233603c3cbd729fdfabd2759bfa7705811996aa4
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T18:00:11Z

    Revert "[maven-release-plugin] prepare release v0.9.4"
    
    This reverts commit edf596bac8feab0c8721f7de94474e5549858355.

commit 61e1b5c3e226122143c91bbd7527b605f8ed8727
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T18:05:51Z

    add Apache license header to ConnectionWithStatus.java

commit 00091d7952681a39281aa171adfad133a5e26330
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T18:13:57Z

    [maven-release-plugin] prepare release v0.9.4

commit c248dd98f681e56ea658a0102d204853f6803adc
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-03-18T18:14:04Z

    [maven-release-plugin] prepare for next development iteration

commit ed5a51f679d38281a62f2a9ac15c13853bc4c577
Author: Jungtaek Lim <kabhwan@gmail.com>
Date:   2015-04-06T14:53:31Z

    fix storm.cmd to evaluate 'shift' correctly with 'storm jar'

commit a480eab7bac6a3f754da223a30e495ac5480eeba
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-05-07T15:26:11Z

    update changelog for version 0.9.5

commit 4d550c0f085b86a0c305bd136bb1ddb7cb833d21
Author: Andrew Montalenti <andrew@parsely.com>
Date:   2015-04-23T20:41:39Z

    add support for "error" command in ShellSpout

commit 97de0853f252a173eaf13eed9a54e47009318f66
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-05-07T16:07:43Z

    update changelog for STORM-796

commit ed8ab3ec194f19c75fc2f5c000609204f04b50e8
Author: Enno Shioji <eshioji@gmail.com>
Date:   2015-05-28T19:42:05Z

    Simplified the flow and removed the lock that was causing the deadlock

commit 91b8eb3840432e47b79f40abebec8304627732a8
Author: Enno Shioji <eshioji@gmail.com>
Date:   2015-05-28T19:46:17Z

    Bump version

commit 2c6b97133103ec6eb919219b0422a255e832c76d
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-05-28T21:00:39Z

    apply fix for STORM-790

commit 0eb514dcd8a5804e7155aae377e479d323a92ec6
Author: P. Taylor Goetz <ptgoetz@gmail.com>
Date:   2015-05-28T21:01:44Z

    add STORM-790 to changelog

commit b7d84bdc7fd3de34f45a94131cdbb6bfbd3763dc
Author: Enno Shioji <eshioji@gmail.com>
Date:   2015-05-28T21:27:31Z

    Remove background flushing because it doesn't seem necessary. Netty's Channel queues up written data on an unbounded buffer. The background flushing seems to have been added to avoid this, but in practice it was probably doing it anyways because flushMessages(), which is called by send() doesn't check for isWritable. Moreover, queuing on an unbounded buffer seems fine because back pressure is provided by MAX_PENDING_TUPLE. If OOME occurs due to this buffer overflowing, it seems reasonable that one has to reduce MAX_PENDING_TUPLE, rather than Storm trying to cope with it by dropping messages.

----
, Github user dsKarthick commented on the pull request:

    https://github.com/apache/storm/pull/1371#issuecomment-215259583
  
    Invalid. Please ignore. 
, Github user dsKarthick closed the pull request at:

    https://github.com/apache/storm/pull/1371
, [gigantic auto-comment above|https://issues.apache.org/jira/browse/STORM-1733?focusedCommentId=15261156&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15261156] is an example of why I want to disable the automatic uploading of all GitHub stuff into JIRA., GitHub user dsKarthick opened a pull request:

    https://github.com/apache/storm/pull/1372

    STORM-1733 (0.9.x) Flush stdout and stderr before calling "os.execvp" to prevent log loss.

    Related to https://github.com/apache/storm/pull/1360/#issuecomment-215073019

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/dsKarthick/storm-1 flush_launch_command_to_stderr_0.9.x-branch

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/1372.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1372
    
----
commit 150d959aac646eac8267fb102e5d434cca4b3093
Author: Karthick Duraisamy Soundararaj <ksoundararaj@groupon.com>
Date:   2016-04-27T23:12:16Z

    Flush stdout and stderr before calling os.execvp to prevent log loss.

----
, GitHub user dsKarthick opened a pull request:

    https://github.com/apache/storm/pull/1373

    STORM-1733 (0.10.x) Flush stdout and stderr before calling "os.execvp" to prevent log loss

    Related to #1360

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/dsKarthick/storm-1 flush_launch_command_to_stderr_0.10.x-branch

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/1373.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1373
    
----
commit 01c90265cbbcff8bd5629d2c643090c442312024
Author: Karthick Duraisamy Soundararaj <ksoundararaj@groupon.com>
Date:   2016-04-25T08:54:39Z

    Flush stdout and stderr before calling "os.execvp" to prevent log loss.

----
, Github user dsKarthick commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-215270518
  
    @vesense ported this PR on the versions you listed plus 0.9.x
, Github user vesense commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-215286456
  
    @dsKarthick Seems like we don't have a plan to make a 0.9.x release. So the PR for 0.9.x-branch should be closed.
, Github user dsKarthick closed the pull request at:

    https://github.com/apache/storm/pull/1372
, Github user dsKarthick commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-215525229
  
    @vesense Closed 0.9.x PR. thanks.
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/1360
, Github user arunmahadevan commented on the pull request:

    https://github.com/apache/storm/pull/1360#issuecomment-215622873
  
    Thanks @dsKarthick merged to master.
, Github user arunmahadevan commented on the pull request:

    https://github.com/apache/storm/pull/1374#issuecomment-215623115
  
    +1 
    @ptgoetz since you are cutting the 1.0.1 RC, should this wait to merge to 1.x branch?
, Github user arunmahadevan commented on the pull request:

    https://github.com/apache/storm/pull/1373#issuecomment-215623175
  
    +1 
    @ptgoetz since you are cutting the 0.10.1 RC, should this wait to merge to 0.10.x branch?
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/1374#issuecomment-215760873
  
    +1
    
    @arunmahadevan I will merge for 1.0.1 rc3.
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/1374
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/1373#issuecomment-215774018
  
    +1
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/1373
, Thanks [~d.s.karthick]. This has been merged to master, 1.x-branch and 0.10.x-branch.]