[(Warning: Need citation)

I'm newbie to Storm Project, but I can find usage from "setup-ticks!" in executor.clj.

{code}
(defn setup-ticks! [worker executor-data]
  (let [storm-conf (:storm-conf executor-data)
        tick-time-secs (storm-conf TOPOLOGY-TICK-TUPLE-FREQ-SECS)
        receive-queue (:receive-queue executor-data)
        context (:worker-context executor-data)]
    (when tick-time-secs
      (if (or (system-id? (:component-id executor-data))
              (and (not (storm-conf TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS))
                   (= :spout (:type executor-data))))
        (log-message "Timeouts disabled for executor " (:component-id executor-data) ":" (:executor-id executor-data))
        (schedule-recurring
          (:user-timer worker)
          tick-time-secs
          tick-time-secs
          (fn []
            (disruptor/publish
              receive-queue
              [[nil (TupleImpl. context [tick-time-secs] Constants/SYSTEM_TASK_ID Constants/SYSTEM_TICK_STREAM_ID)]]
              )))))))
{code}

If worker is Spout and TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS is disabled, it doesn't send tick tuple which means it's time to check tuples timeout.

tl;dr. It seems that it's working properly, though I've not tested yet., What branch is this on. I'm looking at latest as well as last couple incubating releases and not finding this.
, I see the problem here.

In the clojure code the variable is

TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS

and the java constant is

TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS

should that be

(get storm-conf Config/TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS)

?
, I don't know Clojure (I'm studying it.) but you can find that more options already used with hyphen, not underscore.
setup-ticks! already uses storm-conf TOPOLOGY-TICK-TUPLE-FREQ-SECS, which is defined to "TOPOLOGY_TICK_TUPLE_FREQ_SECS". 
It may be a Clojure interop rule with Java, or magic inside of Storm., If it is actually getting correctly read and set, it isn't actually disabling timeouts.

Thats what got me looking into this., The second case:

      (if (or (system-id? (:component-id executor-data))
              (and (not (storm-conf TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS))
                   (= :spout (:type executor-data))))

never triggers. I'm testing this now and only (system-id? (:component-id executor-data)) triggers. only my ackers have the timeout disabled., found the bug. the problem is this line expression:

(not (storm-conf TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS))

(storm-conf TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS) is  a java boolean AND...

 (not (Boolean. false)) == false

correct logic is

      (if (or (system-id? (:component-id executor-data))
              (and (= false (storm-conf TOPOLOGY-ENABLE-MESSAGE-TIMEOUTS))
                   (= :spout (:type executor-data))))

, Oh, I didn't ever think about it. It's hell of inter-op.
Awesome job!, [~SeanTAllen], thanks for your efforts in tracking down the root cause and finding a solution. Do you plan on opening a pull request for the fix? If not someone else can take care of it.

I'd like to get this fixed in the next release candidate., Sean, if you don't have time to get it fixed, please let me know. I can take care of it., There will be a PR coming from me on github before the start of next week., GitHub user SeanTAllen opened a pull request:

    https://github.com/apache/storm/pull/309

    STORM-549: "topology.enable.message.timeouts" does nothing

    The ability to turn off message timeouts doesn't work.
    The value is a true/false value that is represented as
    a Java Boolean. The check for the truthiness used the
    clojure not function. The idea was, turn off message
    timeouts if "topology.enable.message.timeouts" is not true.
    Unfortunately this won't worth with clojure's definition of
    truthiness as:
    
    (not (Boolean. false))
    
    evaluates to true.
    
    This commit updates the logic to compare the Java Boolean
    "topology.enable.message.timeouts" to false using the
    = function which will work.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/SeanTAllen/storm master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/309.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #309
    
----
commit 0505d47471170861ad303dc530a8d8de4e730c10
Author: Sean T Allen <sean@monkeysnatchbanana.com>
Date:   2014-11-08T14:41:29Z

    STORM-549: "topology.enable.message.timeouts" does nothing
    
    The ability to turn off message timeouts doesn't work.
    The value is a true/false value that is represented as
    a Java Boolean. The check for the truthiness used the
    clojure not function. The idea was, turn off message
    timeouts if "topology.enable.message.timeouts" is not true.
    Unfortunately this won't worth with clojure's definition of
    truthiness as:
    
    (not (Boolean. false))
    
    evaluates to true.
    
    This commit updates the logic to compare the Java Boolean
    "topology.enable.message.timeouts" to false using the
    = function which will work.

----
, PR created:

https://github.com/apache/storm/pull/309
, Great works!
I'll follow your PR when I have a time. Thanks for your effort., Github user harshach commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-62273575
  
    +1
, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-62289228
  
    @SeanTAllen @harshach 
    Hey, I've added unit test to PR branch.
    I've confirmed that fails on current master branch of Apache Storm and succeeds on current modification.
    Could you check it and merge to reflect current PR? Thanks!
, Github user SeanTAllen commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-62290760
  
    @HeartSaVioR merge it into my master and update the PR?
, Github user SeanTAllen commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-62290800
  
    @HeartSaVioR done
, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-62291331
  
    @SeanTAllen Thanks!
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-63092885
  
    +1
, Github user nathanmarz commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-63094441
  
    +1
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/309#issuecomment-63108151
  
    Thanks @SeanTAllen. I merged this into master and 0.9.3.
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/309
, Thanks [~SeanTAllen]. I merged this to master and 0.9.3.]