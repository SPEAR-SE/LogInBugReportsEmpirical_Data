[It joins multiple arguments into one long str, expecting that it's splitted by space and run properly.
But it's treated to one argument via clojure.java.shell.sh., GitHub user HeartSaVioR opened a pull request:

    https://github.com/apache/storm/pull/581

    STORM-853 Fix upload API to handle multi-args properly

    * flatten arguments so that it can be treated to each arguments
    
    Please refer https://issues.apache.org/jira/browse/STORM-853 for more details.
    
    Please review and comment. Thanks in advance!

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/HeartSaVioR/storm STORM-853

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/storm/pull/581.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #581
    
----
commit edd9baba1e9f976c8c3d1a2b591ebf33e418a351
Author: Jungtaek Lim <kabhwan@gmail.com>
Date:   2015-06-06T04:25:11Z

    STORM-853 Fix upload API to handle multi-args properly
    
    * flatten arguments so that it can be treated to each arguments

----
, Github user HeartSaVioR commented on a diff in the pull request:

    https://github.com/apache/storm/pull/581#discussion_r31864488
  
    --- Diff: storm-core/src/clj/backtype/storm/ui/core.clj ---
    @@ -515,8 +515,7 @@
     
     (defn run-tplg-submit-cmd [tplg-jar-file tplg-config user]
       (let [tplg-main-class (if (not-nil? tplg-config) (trim (tplg-config "topologyMainClass")))
    -        tplg-main-class-args (if (not-nil? tplg-config) (clojure.string/join " " (tplg-config "topologyMainClassArgs")))
    -        tplg-jvm-opts (if (not-nil? tplg-config) (clojure.string/join " " (tplg-config "topologyJvmOpts")))
    --- End diff --
    
    Removed unused variable.
, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/581#issuecomment-109519695
  
    Seems like no argument makes another issue, fixing now.
, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/581#issuecomment-109526183
  
    Case 1. 
    
    > curl -i -b ~/cookiejar.txt -c ~/cookiejar.txt -X POST -F topologyConfig='{"topologyMainClass": "storm.starter.WordCountTopology"}' -F topologyJar=@storm-starter-topologies-0.10.0.jar http://localhost:8080/api/v1/uploadTopology
    
    WordCountTopology runs via local mode -- OK
    
    Case 2.
    
    > curl -i -b ~/cookiejar.txt -c ~/cookiejar.txt -X POST -F topologyConfig='{"topologyMainClass": "storm.starter.WordCountTopology", "topologyMainClassArgs": []}' -F topologyJar=@storm-starter-topologies-0.10.0.jar http://localhost:8080/api/v1/uploadTopology
    
    WordCountTopology runs via local mode -- OK
    
    Case 3.
    
    > curl -i -b ~/cookiejar.txt -c ~/cookiejar.txt -X POST -F topologyConfig='{"topologyMainClass": "storm.starter.WordCountTopology", "topologyMainClassArgs": ["a"]}' -F topologyJar=@storm-starter-topologies-0.10.0.jar http://localhost:8080/api/v1/uploadTopology
    
    WordCountTopology runs via remote mode, which topology name is "a" -- OK
    
    Case 4.
    
    > curl  -i -b ~/cookiejar.txt -c ~/cookiejar.txt -X POST -F topologyConfig='{"topologyMainClass": "storm.starter.RollingTopWords", "topologyMainClassArgs": ["production-topology", "remote"]}' -F topologyJar=@storm-starter-topologies-0.10.0.jar http://localhost:8080/api/v1/uploadTopology
    
    RollingTopWords runs via remote mode, which topology name is "production-topology" -- OK

, Github user HeartSaVioR commented on the pull request:

    https://github.com/apache/storm/pull/581#issuecomment-109535824
  
    Note: When topology is run via local mode via uploadTopology REST API, UI server doesn't respond at that time, and send response when topology is finished or http request is canceled (Ctrl+C while waiting from curl).
, Github user harshach commented on the pull request:

    https://github.com/apache/storm/pull/581#issuecomment-109855687
  
    +1. 
, Github user kishorvpatil commented on the pull request:

    https://github.com/apache/storm/pull/581#issuecomment-110025014
  
    +1
, Github user ptgoetz commented on the pull request:

    https://github.com/apache/storm/pull/581#issuecomment-110454433
  
    +1 Thanks for the quick turnaround @HeartSaVioR.
, Github user asfgit closed the pull request at:

    https://github.com/apache/storm/pull/581
]