{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [{
            "description": "Core storm daemons and APIs including trident",
            "id": "12327950",
            "name": "storm-core",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12327950"
        }],
        "created": "2013-12-15T06:13:16.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xumingming&avatarId=18354",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xumingming&avatarId=18354",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xumingming&avatarId=18354",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xumingming&avatarId=18354"
            },
            "displayName": "James Xu",
            "key": "xumingming",
            "name": "xumingming",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=xumingming",
            "timeZone": "Asia/Shanghai"
        },
        "customfield_10010": null,
        "customfield_12310220": "2016-04-27T08:52:50.568+0000",
        "customfield_12310222": "1_*:*_1_*:*_74717105012_*|*_5_*:*_1_*:*_0",
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310420": "363841",
        "customfield_12310920": "364147",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i1qprz:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Apr 28 00:58:06 UTC 2016",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "https://github.com/nathanmarz/storm/issues/489\n\nhttps://github.com/nathanmarz/storm/blob/master/src/clj/backtype/storm/util.clj#L349\n\nWhen we launch a process, standard out is written to a system buffer and does not appear to be read. Also, nothing is redirected to standard in. This can have the following effects:\n\nA worker can hang when initializing (e.g. UnsatisfiedLinkError looking for jzmq), and it will be unable to communicate the error as standard out is being swallowed.\nA process that writes too much to standard out will block if the buffer fills\nA process that tries to read form standard in for any reason will block.\nPerhaps we can redirect standard out to an .out file, and redirect /dev/null to the standard in stream of the process?\n\n----------\nnathanmarz: Storm redirects stdout to the logging system. It's worked fine for us in our topologies.\n\n----------\nd2r: We see in worker.clj, in mk-worker, where there is a call to redirect-stdio-to-slf4j!. This would not seem to help in cases such as we are seeing when there is a problem launching the worker itself.\n\n(defn -main [storm-id assignment-id port-str worker-id]\n  (let [conf1 (read-storm-config)\n        login_conf_file (System/getProperty \"java.security.auth.login.config\")\n        conf (if login_conf_file (merge conf1 {\"java.security.auth.login.config\" login_conf_file}) conf1)]\n    (validate-distributed-mode! conf)\n    (mk-worker conf nil (java.net.URLDecoder/decode storm-id) assignment-id (Integer/parseInt port-str) worker-id)))\nIf anything were to go wrong (CLASSPATH, jvm opts, misconfiguration...) before -main or before mk-worker, then any output would be lost. The symptom we saw was that the topology sat around apparently doing nothing, yet there was no log indicating that the workers were failing to start.\n\nIs there other redirection to logs that I'm missing?\n\n----------\nxiaokang: we use bash to launch worker process and redirect its stdout to woker-port.out file. it heleped us find the zeromq jni problem that cause the jvm crash without any log.\n\n----------\nnathanmarz: @d2r Yea, that's all I was referring to. If we redirect stdout, will the code that redirects stdout to the logging system still take effect? This is important because we can control the size of the logfiles (via the logback config) but not the size of the redirected stdout file.\n\n----------\nd2r: My hunch is that it will work as it does now, except that any messages that are getting thrown away before that point would go to a file instead. I can play with it and find out. We wouldn't want to change the redirection, just restore visibility to any output that might occur prior to the redirection. There should be some safety valve to control the size of any new .out in case something goes berserk.\n\n@xiaokang I see how that would work. We also need to make sure redirection continues to work as it currently does for the above reason.\n\n----------\nxiaokang: @d2r @nathanmarz In out cluster, storm's stdout redirection still works for any System.out output while JNI errors goes to worker-port.out file. I think it will be nice to use the same worker-port.log file for bash stdout redirection since logback can control log file size. But it is a little bit ugly to use bash to launch worker java process.\n",
        "duedate": null,
        "environment": null,
        "fixVersions": [{
            "archived": false,
            "description": "security feature branch",
            "id": "12327123",
            "name": "0.10.0",
            "releaseDate": "2015-11-05",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12327123"
        }],
        "issuelinks": [
            {
                "id": "12382652",
                "inwardIssue": {
                    "fields": {
                        "issuetype": {
                            "avatarId": 21146,
                            "description": "The sub-task of the issue",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype",
                            "id": "7",
                            "name": "Sub-task",
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7",
                            "subtask": true
                        },
                        "priority": {
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "id": "3",
                            "name": "Major",
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                        },
                        "status": {
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "id": "5",
                            "name": "Resolved",
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "statusCategory": {
                                "colorName": "green",
                                "id": 3,
                                "key": "done",
                                "name": "Done",
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                            }
                        },
                        "summary": "Early warning on worker crash + logging of early errors"
                    },
                    "id": "12693940",
                    "key": "STORM-231",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/12693940"
                },
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12382652",
                "type": {
                    "id": "12310060",
                    "inward": "Is contained by",
                    "name": "Container",
                    "outward": "contains",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060"
                }
            },
            {
                "id": "12465116",
                "inwardIssue": {
                    "fields": {
                        "issuetype": {
                            "avatarId": 21145,
                            "description": "Created by JIRA Software - do not edit or delete. Issue type for a user story.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21145&avatarType=issuetype",
                            "id": "16",
                            "name": "Story",
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/16",
                            "subtask": false
                        },
                        "priority": {
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "id": "3",
                            "name": "Major",
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                        },
                        "status": {
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "id": "5",
                            "name": "Resolved",
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "statusCategory": {
                                "colorName": "green",
                                "id": 3,
                                "key": "done",
                                "name": "Done",
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                            }
                        },
                        "summary": "Logging framework logback -> log4j 2.x"
                    },
                    "id": "12832301",
                    "key": "STORM-833",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/12832301"
                },
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12465116",
                "type": {
                    "id": "12310051",
                    "inward": "is superceded by",
                    "name": "Supercedes",
                    "outward": "supercedes",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310051"
                }
            }
        ],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "id": "4",
            "name": "Minor",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12314820&avatarId=21667",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12314820&avatarId=21667",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12314820&avatarId=21667",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12314820&avatarId=21667"
            },
            "id": "12314820",
            "key": "STORM",
            "name": "Apache Storm",
            "projectCategory": {
                "description": "Apache Storm Related",
                "id": "13260",
                "name": "Storm",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13260"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12314820"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xumingming&avatarId=18354",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xumingming&avatarId=18354",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xumingming&avatarId=18354",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xumingming&avatarId=18354"
            },
            "displayName": "James Xu",
            "key": "xumingming",
            "name": "xumingming",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=xumingming",
            "timeZone": "Asia/Shanghai"
        },
        "resolution": {
            "description": "A fix for this issue is checked into the tree and tested.",
            "id": "1",
            "name": "Fixed",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1"
        },
        "resolutiondate": "2016-04-28T00:58:21.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Launching a process throws away standard out; can hang",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2016-04-28T00:58:21.000+0000",
        "versions": [],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/STORM-143/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/STORM-143/watchers",
            "watchCount": 3
        },
        "workratio": -1
    },
    "id": "12684769",
    "key": "STORM-143",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12684769"
}