{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12444046","self":"https://issues.apache.org/jira/rest/api/2/issue/12444046","key":"MAPREDUCE-1327","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-12-23T01:53:03.276+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Feb 02 06:16:41 UTC 2010","customfield_12310420":"37328","customfield_12312320":null,"customfield_12310222":"10002_*:*_5_*:*_1633538987_*|*_1_*:*_5_*:*_1236299588_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-01-25T03:41:09.138+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-1327/watchers","watchCount":2,"isWatching":false},"created":"2009-12-22T22:30:30.563+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":345600,"aggregatetimeoriginalestimate":345600,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314184","id":"12314184","description":"","name":"0.22.0","archived":false,"released":true,"releaseDate":"2011-12-10"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-07-02T06:31:36.299+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":345600,"description":"When Oracle table contains the columns \"TIMESTAMP(6) WITH LOCAL TIME ZONE\" and \"TIMESTAMP(6) WITH TIME ZONE\", Sqoop fails to map values for those columns to valid Java data types, resulting in the following exception:\n\nERROR sqoop.Sqoop: Got exception running Sqoop: java.lang.NullPointerException\njava.lang.NullPointerException\n        at org.apache.hadoop.sqoop.orm.ClassWriter.generateFields(ClassWriter.java:253)\n        at org.apache.hadoop.sqoop.orm.ClassWriter.generateClassForColumns(ClassWriter.java:701)\n        at org.apache.hadoop.sqoop.orm.ClassWriter.generate(ClassWriter.java:597)\n        at org.apache.hadoop.sqoop.Sqoop.generateORM(Sqoop.java:75)\n        at org.apache.hadoop.sqoop.Sqoop.importTable(Sqoop.java:87)\n        at org.apache.hadoop.sqoop.Sqoop.run(Sqoop.java:175)\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\n        at org.apache.hadoop.sqoop.Sqoop.main(Sqoop.java:201)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\n\nI have modified the code for Hadoop and Sqoop so this bug is fixed on my machine. Please let me know if you would like me to generate the patch and upload it to this ticket.","customfield_10010":null,"timetracking":{"originalEstimate":"96h","remainingEstimate":"96h","originalEstimateSeconds":345600,"remainingEstimateSeconds":345600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12429970","id":"12429970","filename":"MAPREDUCE-1327.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-12T01:16:07.274+0000","size":18858,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12429970/MAPREDUCE-1327.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12430067","id":"12430067","filename":"MAPREDUCE-1327.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T00:06:13.307+0000","size":22197,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12430067/MAPREDUCE-1327.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12430085","id":"12430085","filename":"MAPREDUCE-1327.5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T02:13:14.375+0000","size":22267,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12430085/MAPREDUCE-1327.5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12429944","id":"12429944","filename":"MAPREDUCE-1327.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-11T22:35:21.284+0000","size":19167,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12429944/MAPREDUCE-1327.patch"}],"aggregatetimeestimate":345600,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"14293","customfield_12312823":null,"summary":"Oracle database import via sqoop fails when a table contains the column types such as TIMESTAMP(6) WITH LOCAL TIME ZONE and TIMESTAMP(6) WITH TIME ZONE","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":345600,"percent":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":345600,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12793885","id":"12793885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hammer","name":"hammer","key":"hammer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Hammerbacher","active":true,"timeZone":"Etc/UTC"},"body":"Hey Leonid,\n\nYes, a patch would be great.\n\nThanks,\nJeff","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hammer","name":"hammer","key":"hammer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Hammerbacher","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-23T01:53:03.276+0000","updated":"2009-12-23T01:53:03.276+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12796962","id":"12796962","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"The motivation for this fix is the following. Oracle releases 10.2+ introduced new data types \"TIMESTAMP WITH TIME ZONE\" and \"TIMESTAMP WITH LOCAL TIME ZONE\", and Sqoop did not handle these types properly. To be specific, it did not find the proper Java data types mapping for those SQL columns, which caused the exception described earlier. This error occurred in two situations:\n\n1. Sqoop was attempting to map the table metadata to Java data types while running table import.\n\n2. Sqoop was attempting to map the table metadata to Java data types while loading data to hive.\n\nHence, I added two methods \"toJavaType\" and \"toHiveType\" method to SqlManager interface, and implemented these methods in OracleManager class. From now on, any new data types that are very specific to database vendor and not yet supported can be handled properly.\n\nPlease feel free to provide feedback.\n\nThanks,\nLeonid.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-06T02:22:37.089+0000","updated":"2010-01-06T02:22:37.089+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12796987","id":"12796987","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12429497/MAPREDUCE-1327.patch.gz\n  against trunk revision 896265.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/247/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-06T04:57:22.322+0000","updated":"2010-01-06T04:57:22.322+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797331","id":"12797331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Leonid,\n\nCan you please attach a non-gzipped patch and resubmit?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-06T21:46:35.004+0000","updated":"2010-01-06T21:46:35.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797344","id":"12797344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Looking at this patch myself, a few things stand out:\n\n* This patch seems to revert many recent changes to Sqoop. Please re-merge your branch with trunk before resubmitting and make sure you're not submitting extraneous changes.\n* Please don't go over 80 columns / line\n* Uses of System.out and System.err should be replaced with appropriate LOG.info(), debug(), etc statements.\n* Don't trap the exception on failure to set tz in OracleManager; that should rethrow a SQLException\n* The base SqlManager.toJavaType() method should still return null in the undefined 'else' case. An extra 'dbToJavaType' method is unnecessary; subclasses should simply override toJavaType().\n* The base toHiveType() method should not be empty; it should call o.a.h.sqoop.hive.HiveTypes.toHiveType().\n* I don't understand SqlManager.getDatabaseType(). Nothing Oracle-specific should be in this class; that belongs in OracleManager.\n* getTypeClass() similarly does not belong in the base SqlManager class.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-06T22:04:28.984+0000","updated":"2010-01-06T22:04:28.984+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797409","id":"12797409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Aaron,\n\nI changed the code according to your guidelines, and merged it to the trunk.\n\nAs far as the unit tests for supporting new Oracle data types, I modified the OracleManagerTest.java file to include data types TIMESTAMP WITH TIME ZONE and TIMESTAMP WITH LOCAL TIME ZONE. I tested it in my local environment, so in order to verify that it works a separate QA environment with Oracle database will need to be configured.\n\nLet me know if the code changes are sufficient.\n\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T00:18:53.558+0000","updated":"2010-01-07T00:18:53.558+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797433","id":"12797433","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"I attached the non-gzipped version - MAPREDUCE-1327.patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T01:30:32.881+0000","updated":"2010-01-07T01:30:32.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797436","id":"12797436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"New patch looks mostly good. This should not change the top-level build.xml though.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-07T01:44:15.642+0000","updated":"2010-01-07T01:44:15.642+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797441","id":"12797441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"You are right, it shouldn't. I might have modified build.xml file in the following way:\n\nfrom\n    sysproperty key=\"sqoop.throwOnError\" value=\"\" />\nto\n    sysproperty key=\"sqoop.throwOnError\" value=\"true\" />\n\n to include more error messages while testing the patch.\n\nLet me know if I should resubmit the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T01:49:51.253+0000","updated":"2010-01-07T01:49:51.253+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797443","id":"12797443","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Well, there's that one in /src/contrib/sqoop/build.xml. But also the top level /build.xml file has an extraneous one-liner change. \n\nAlso when running the test, I get this problem:\n\n{code}\nTestcase: testOracleImport took 1.679 sec\n  FAILED\nSQLException when running test setUp(): java.sql.SQLException: java.lang.reflect.InvocationTargetException\njunit.framework.AssertionFailedError: SQLException when running test setUp(): java.sql.SQLException: java.lang.reflect.InvocationTargetException\n  at org.apache.hadoop.sqoop.manager.OracleManagerTest.setUp(OracleManagerTest.java:118)\n{code}\n\nI'm using ojdbc6_g.jar and Oracle XE 10.2.0.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-07T01:53:30.808+0000","updated":"2010-01-07T01:53:30.808+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797456","id":"12797456","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"1. The one line change for the top level /build.xml was made to remove the capitalization from the project name. I was following the instructions provided on this page:\n\nhttp://wiki.apache.org/hadoop/BuildingHadoopFromSVN\n\n2. In regards to the unit test error:\n\nTestcase: testOracleImport took 1.679 sec\n  FAILED\nSQLException when running test setUp(): java.sql.SQLException: java.lang.reflect.InvocationTargetException\njunit.framework.AssertionFailedError: SQLException when running test setUp(): java.sql.SQLException: java.lang.reflect.InvocationTargetException\n  at org.apache.hadoop.sqoop.manager.OracleManagerTest.setUp(OracleManagerTest.java:118)\n\nI'm using ojdbc6.jar, not ojdbc6_g.jar, and Oracle XE 10.2.0.\n\nCan you paste more detailed error message, preferrably from the stack trace? For testing purpose, I also changed the top level build.xml by setting the property from:\n\n<property name=\"test.output\" value=\"no\"/>\n\nto\n\n<property name=\"test.output\" value=\"yes\"/>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T02:26:26.524+0000","updated":"2010-01-07T02:26:26.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797457","id":"12797457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"1) I don't see how those instructions suggest you do that. In any case, don't propagate that change back into any patches you generate.\n\n2) here's the stack trace:\n\n{code}\n10/01/06 18:33:13 ERROR manager.OracleManager: Could not set time zone for oracle connection\njava.lang.reflect.InvocationTargetException\n»- at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n»- at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n»- at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n»- at java.lang.reflect.Method.invoke(Method.java:597)\n»- at org.apache.hadoop.sqoop.manager.OracleManager.setSessionTimeZone(OracleManager.java:107)\n»- at org.apache.hadoop.sqoop.manager.OracleManager.makeConnection(OracleManager.java:89)\n»- at org.apache.hadoop.sqoop.manager.GenericJdbcManager.getConnection(GenericJdbcManager.java:50)\n»- at org.apache.hadoop.sqoop.manager.OracleManagerTest.setUp(OracleManagerTest.java:91)\n»- at junit.framework.TestCase.runBare(TestCase.java:132)\n»- at junit.framework.TestResult$1.protect(TestResult.java:110)\n»- at junit.framework.TestResult.runProtected(TestResult.java:128)\n»- at junit.framework.TestResult.run(TestResult.java:113)\n»- at junit.framework.TestCase.run(TestCase.java:124)\n»- at junit.framework.TestSuite.runTest(TestSuite.java:232)\n»- at junit.framework.TestSuite.run(TestSuite.java:227)\n»- at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)\n»- at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n»- at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)\n»- at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)\n»- at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)\nCaused by: java.sql.SQLDataException: ORA-01882: timezone region  not found\n\n»- at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:159)\n»- at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:137)\n»- at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:257)\n»- at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:468)\n»- at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:418)\n»- at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:1089)\n»- at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:188)\n»- at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:1222)\n»- at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1516)\n»- at oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:2284)\n»- at oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:2227)\n»- at oracle.jdbc.driver.OracleStatementWrapper.executeUpdate(OracleStatementWrapper.java:809)\n»- at oracle.jdbc.driver.PhysicalConnection.setSessionTimeZone(PhysicalConnection.java:13459)\n»- ... 20 more\n{code}\n\nHandy tip: You don't need to see all the output on the console; it appears in text files in build/contrib/sqoop/test/TEST-(testname).txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-07T02:34:48.262+0000","updated":"2010-01-07T02:34:48.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797461","id":"12797461","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for the tips, they are very helpful!\n\n1. The instructions for Hadoop build and release suggested that project names should be lower case:\n\n\"patch the build.xml files of hadoop* to make the project names all lower case otherwise they get published with the wrong name in Ivy\"\n\nbut I will resubmit the patch later without these changes.\n\n2. By any change, are you using Oracle JDeveloper to run the unit test? From what I searched on google, the error \"ORA-01882: timezone region  not found\" typically comes from not having the \"user.timezone\" system property in JDeveloper. Please correct me if I am wrong.\n\nI am running the unit test from the command line:\n\nant -Dtestcase=OracleManagerTest test\n\nand don't have this error.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T02:49:27.397+0000","updated":"2010-01-07T02:49:27.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797463","id":"12797463","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Huh, that's a weird instruction. Maybe there should be a separate JIRA filed to just make that permanent.\n\nAs for the test, I launched it in the exact same way.\n\n{code}\naaron@jargon:~$ ant -version\nApache Ant version 1.7.1 compiled on November 10 2008\naaron@jargon:~$ java -version\njava version \"1.6.0_11\"\nJava(TM) SE Runtime Environment (build 1.6.0_11-b03)\nJava HotSpot(TM) Server VM (build 11.0-b16, mixed mode)\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-07T02:52:11.397+0000","updated":"2010-01-07T02:52:11.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797471","id":"12797471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"In your Oracle database, can you run the query below:\n\nselect dbtimezone from dual\n\nto find the timezone set in the database.\n\nMy understanding is that the timezone on your machine with JVM should be synchronized (i.e. to be the same) with timezone in Oracle DB. Perhaps this is why it is working for me. If this is not the case for your environment, may be the OracleManager.java should have the code:\n\nSystem.getProperty\"user.timezone\")\n\ninstead of \n\nCalendar.getInstance().getTimeZone().getID()\n\nAnyway, can you try to run the unit test this way:\n\nant -Dtestcase=OracleMangerTest -Duser.timezone=YOUR_TIME_ZONE test","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T03:03:44.547+0000","updated":"2010-01-07T03:03:44.547+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797482","id":"12797482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"{code}\nSQL> select dbtimezone from dual;\n\nDBTIME\n------\n+00:00\n{code}\n\nRunning {{ant test -Dtestcase=OracleManagerTest -Duser.timezone=+00:00}} didn't fix this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-07T03:14:23.340+0000","updated":"2010-01-07T03:14:23.340+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797485","id":"12797485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"In your Oracle database, run the query:\n\nselect * from V$TIMEZONE_NAMES\n\nwhich should give you the list of available time zones. if your time zone is not in this list, may be it causes the error. Can you check?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T03:19:40.034+0000","updated":"2010-01-07T03:19:40.034+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797487","id":"12797487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Also, try enclosing the time zone in quotes:\n\n-Duser.timezone=\"+00:00\" ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T03:22:37.853+0000","updated":"2010-01-07T03:22:37.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797504","id":"12797504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12429610/MAPREDUCE-1327.patch\n  against trunk revision 896265.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    -1 javac.  The patch appears to cause tar ant target to fail.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/251/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/251/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/251/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/251/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T04:28:15.305+0000","updated":"2010-01-07T04:28:15.305+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797689","id":"12797689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Can you run this query:\n\nSELECT TZ_OFFSET(YOUR_TIME_ZONE) FROM dual\n\nand see if this generates the error message \"timezone region not found\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-07T17:15:49.842+0000","updated":"2010-01-07T17:15:49.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12797895","id":"12797895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Aaron,\n\nDid you have a chance to check if the query below generates the error message \"timezone region not found\"?\n\nSELECT TZ_OFFSET(YOUR_TIME_ZONE) FROM dual\n\nIn the mean time, I will try to reproduce your scenario by writing a sample program where Oracle database and JVM reside in different time zone regions.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-08T03:29:20.201+0000","updated":"2010-01-08T03:29:20.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12798814","id":"12798814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"These both work:\n\n{code}\nSQL> SELECT TZ_OFFSET('-08:00') FROM dual;\n\nTZ_OFFS\n-------\n-08:00\n\nSQL> SELECT TZ_OFFSET('+00:00') FROM dual;\n\nTZ_OFFS\n-------\n+00:00\n{code}\n\nHowever this patch configures things re. Sqoop's connection to Oracle, it'll need to work without specifying particular JVM settings. Maybe it can pick a default timezone if the JVM doesn't have one (e.g., default to UTC).\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-11T19:34:17.010+0000","updated":"2010-01-11T19:34:17.010+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12798900","id":"12798900","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Aaron,\n\nI made the changes to the setSessionTimezone method such that it will set the default time zone as \"UTC\" in case JVM specific time zone is not valid.\n\nCan you review a new patch? Thanks!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-11T22:35:21.337+0000","updated":"2010-01-11T22:35:21.337+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12798954","id":"12798954","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Leonid,\n\nThanks for the new patch. Note that Hudson won't be able to apply this -- you generated it with paths like  'hadoop-mapreduce/src/contrib/sqoop/...'; you'll need to recreate the patch so that it applies with {{patch -p0}} (i.e., paths like 'src/contrib/sqoop/...')\n\nI noticed that you have flagged this issue as an incompatible change. What API are you breaking / other incompatibility are you introducing with this issue?\n\nAlso, please don't delete the old patch file when you upload a new one -- sometimes it's helpful to refer to older versions of the code. Instead, just upload new versions, maybe with a numeric id (see MAPREDUCE-1126 for an example.)\n\nAfter applying this patch, the oracle test now fails for me with:\n\n{code}\nTestcase: testOracleImport took 3.542 sec\n  FAILED\nnull expected:<...ineering,2009-12-29 [12.00.00.0,2009-12-29 12.00.]00.0> but was:\n<...ineering,2009-12-29 [04:00:00.0,2009-12-29 04:00:]00.0>\njunit.framework.ComparisonFailure: null expected:<...ineering,2009-12-29 [12.00.00.0,2009-12-29 12.00.]00.0> but \nwas:<...ineering,2009-12-29 [04:00:00.0,2009-12-29 04:00:]00.0>\n  at org.apache.hadoop.sqoop.manager.OracleManagerTest.runOracleTest(OracleManagerTest.java:193)\n  at org.apache.hadoop.sqoop.manager.OracleManagerTest.testOracleImport(OracleManagerTest.java:218)\n{code}\n\nI suspect this is due to timezone normalization (12:00 vs 04:00). You may need to determine the correct timezone and make the test expect a different result based on its offset.\n\nThe new changes in the patch look good though. One nitpick about the code:\n\nSqlManager.java: \"This method can no longer remain static\" -- no need for this comment; since the code doesn't say 'static' in it any more, that'll be out-of-context.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-12T00:20:04.538+0000","updated":"2010-01-12T00:20:04.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12798975","id":"12798975","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for the tips and feedback!\n\nThis patch doesn't introduce any incompatibility change. I think I marked it with 'incompatible change' flag by mistake.\n\nI fixed OracleManagerTest unit test and it is working for me. The problem was the typo in one of the values of expected results array.\n\nThe new patch - MAPREDUCE-1327.2.patch - does not include any parent directories like 'hadoop-mapreduce', but only contains the src/ directory tree.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-12T01:16:07.282+0000","updated":"2010-01-12T01:16:07.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12798976","id":"12798976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"In my previous comment, I meant MAPREDUCE-1327.3.patch file, not MAPREDUCE-1327.2.patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-12T01:17:50.020+0000","updated":"2010-01-12T01:17:50.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799061","id":"12799061","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"The patch is availabe - MAPREDUCE-1327.3.patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-12T03:52:12.276+0000","updated":"2010-01-12T03:52:12.276+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799123","id":"12799123","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12429970/MAPREDUCE-1327.3.patch\n  against trunk revision 898019.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/376/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/376/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/376/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/376/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-12T08:53:04.081+0000","updated":"2010-01-12T08:53:04.081+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799368","id":"12799368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"I still receive:\n\n{code}\nTestcase: testOracleImport took 3.088 sec\n  FAILED\nnull expected:<...ineering,2009-12-29 [12:00:00.0,2009-12-29 12]:00:00.0> but \nwas:<...ineering,2009-12-29 [04:00:00.0,2009-12-29 04]:00:00.0>\njunit.framework.ComparisonFailure: null expected:<...ineering,2009-12-29 [12:00:00.0,2009-12-29 12]:00:00.0> but \nwas:<...ineering,2009-12-29 [04:00:00.0,2009-12-29 04]:00:00.0>\n  at org.apache.hadoop.sqoop.manager.OracleManagerTest.runOracleTest(OracleManagerTest.java:193)\n  at org.apache.hadoop.sqoop.manager.OracleManagerTest.testOracleImport(OracleManagerTest.java:218)\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-12T20:25:32.779+0000","updated":"2010-01-12T20:25:32.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799476","id":"12799476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Aaron,\n\nThe new patch MAPREDUCE-1327.4.patch is available. I modified the code for unit test OracleManagerTest.java such that it takes timezone offset into consideration when comparing the test results.\n\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T00:06:13.408+0000","updated":"2010-01-13T00:06:13.408+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799521","id":"12799521","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"This test now passes.\n\nLooking at {{OracleManagerTest.compareRecords()}} though, the date-checking loop should call {{fail()}} or throw a new IOException if it can't parse one of the dates. As-is, the {{mismatch}} flag is never reported back to JUnit as a test failure condition from that loop.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-13T01:52:22.792+0000","updated":"2010-01-13T01:52:22.792+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799531","id":"12799531","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Thank you for the comments! Attached please find a new patch - MAPREDUCE-1327.5.patch. The methd 'compareRecords' in OracleManagerTest.java now throws an IOException if it can't parse a timestamp.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T02:13:14.380+0000","updated":"2010-01-13T02:13:14.380+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799534","id":"12799534","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the update. This patch looks good. All sqoop tests pass on my machine, so +1 from me, pending a +1 from Hudson.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-13T02:18:17.412+0000","updated":"2010-01-13T02:18:17.412+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799539","id":"12799539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Thanks Aaron! It's been a great experience!\n\nI also wanted to ask if this patch will be applied to Cloudera source repository any time soon. The reason I am asking is because my HDFS cluster is running on the current Hadoop release version - 0.20.0, which doesn't support Oracle. Therefore, if I build hadoop from trunk and run Sqoop, it will not work. But Cloudera's latest release supports Oracle, and when this patch MAPREDUCE-1327 is applied to Cloudera, installed on both the namenode and HDFS cluster, Sqoop should work as expected.\n\nThank you in advance.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T02:32:57.134+0000","updated":"2010-01-13T02:32:57.134+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799926","id":"12799926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"cycling patch to retrigger hudson","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-13T20:51:38.129+0000","updated":"2010-01-13T20:51:38.129+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799929","id":"12799929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Leonid,\n\nAfter this patch gets committed to trunk I'll put it in the queue to review for inclusion in CDH. It will almost assuredly be included in CDH3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-13T20:53:29.257+0000","updated":"2010-01-13T20:53:29.257+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12799956","id":"12799956","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"body":"Thank you, Aaron!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lfurman","name":"lfurman","key":"lfurman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Leonid Furman","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T21:53:54.543+0000","updated":"2010-01-13T21:53:54.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12800023","id":"12800023","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12430085/MAPREDUCE-1327.5.patch\n  against trunk revision 898486.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/270/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/270/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/270/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/270/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-13T23:59:57.392+0000","updated":"2010-01-13T23:59:57.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12804362","id":"12804362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"I committed this. Thanks, Leonid!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-01-25T03:41:09.053+0000","updated":"2010-01-25T03:41:09.053+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12804576","id":"12804576","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Mapreduce-trunk #216 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk/216/])\n    . Fix Sqoop handling of Oracle timezone with timestamp data\ntypes in import. Contributed by Leonid Furman\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-25T16:10:21.858+0000","updated":"2010-01-25T16:10:21.858+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444046/comment/12828475","id":"12828475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Mapreduce-trunk-Commit #225 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/225/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-02T06:16:41.605+0000","updated":"2010-02-02T06:16:41.605+0000"}],"maxResults":41,"total":41,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-1327/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i02syn:"}}