{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12523605","self":"https://issues.apache.org/jira/rest/api/2/issue/12523605","key":"MAPREDUCE-3039","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314184","id":"12314184","description":"","name":"0.22.0","archived":false,"released":true,"releaseDate":"2011-12-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-09-20T00:36:42.619+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Sep 28 08:45:53 UTC 2011","customfield_12310420":"50","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_701662289_*|*_1_*:*_1_*:*_18090325_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-09-28T03:24:57.492+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-3039/watchers","watchCount":2,"isWatching":false},"created":"2011-09-19T19:29:05.004+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314184","id":"12314184","description":"","name":"0.22.0","archived":false,"released":true,"releaseDate":"2011-12-10"}],"issuelinks":[{"id":"12343238","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12343238","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12523293","key":"HADOOP-7646","self":"https://issues.apache.org/jira/rest/api/2/issue/12523293","fields":{"summary":"Make hadoop-common use same version of avro as HBase","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-12T06:19:25.159+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312900","id":"12312900","name":"capacity-sched"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12312901","id":"12312901","name":"contrib/fair-share"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313086","id":"12313086","name":"contrib/gridmix"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313274","id":"12313274","name":"contrib/mrunit","description":"MRUnit is a unit test library designed to facilitate easy integration between your MapReduce development process and standard development and testing tools"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313087","id":"12313087","name":"contrib/mumak"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313416","id":"12313416","name":"contrib/raid","description":"HDFS Raid Implementation"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12312905","id":"12312905","name":"contrib/streaming"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12315343","id":"12315343","name":"jobhistoryserver"}],"timeoriginalestimate":null,"description":"HBase depends on avro 1.5.3 whereas hadoop-common depends on 1.3.2.\nWhen building HBase on top of hadoop, this should be consistent.\nMoreover, this should be consistent between common, hdfs, and mapreduce.\n\nContribs seem to have declared a dependency on avro but are not in fact depending on it.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12495172","id":"12495172","filename":"MAPREDUCE-3039-branch-0.22.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-20T00:30:09.774+0000","size":12690,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12495172/MAPREDUCE-3039-branch-0.22.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12496835","id":"12496835","filename":"MAPREDUCE-3039-branch-0.22-shv.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-28T03:05:19.824+0000","size":12473,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12496835/MAPREDUCE-3039-branch-0.22-shv.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"52394","customfield_12312823":null,"summary":"Make mapreduce use same version of avro as HBase","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13108278","id":"13108278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"body":"Will need somebody else with Avro experience to look at this please.\nIn the current patch I have not removed the wrapping of strings (CharSequence) in JobSubmittedEvent. The same occurs in about 71 other places.\nMy concern is that when we insert a Utf8 wrapped string into a map, that when other places try to do a get with a string we'll fail to find the entry. String or other CharSequence will not equal any o.a.avro.util.Utf8 defines equals:\nif (!(o instanceof Utf8)) return false;\n\nIn short I think I need to rip out all the Utf8 wrapping going on. Right? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-20T00:30:09.799+0000","updated":"2011-09-20T00:30:09.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13108283","id":"13108283","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12495172/MAPREDUCE-3039-branch-0.22.patch\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/796//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-20T00:36:42.619+0000","updated":"2011-09-20T00:36:42.619+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13108312","id":"13108312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"body":"I think I have the answer. When compiling this on my Ubuntu 11.04 desktop with JDK 1.6.0_26, Utf8 is allowed in place of Charsequence.\nHowever, our jenkins server running 1.6.0_16 just spat out a bunch of compilation errors:\n\ncompile-mapred-classes:\n[jsp-compile] 11/09/19 18:20:40 WARN compiler.TldLocationsCache: Internal Error: File /WEB-INF/web.xml not found\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/build.xml:380: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 524 source files to /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/build/classes\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:87: incompatible types\n    [javac] found   : org.apache.avro.util.Utf8\n    [javac] required: java.lang.CharSequence\n    [javac]     result.name = new Utf8(name);\n    [javac]                   ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:88: incompatible types\n    [javac] found   : org.apache.avro.generic.GenericData.Array<org.apache.hadoop.mapreduce.jobhistory.JhCounterGroup>\n    [javac] required: java.util.List<org.apache.hadoop.mapreduce.jobhistory.JhCounterGroup>\n    [javac]     result.groups = new GenericData.Array<JhCounterGroup>(0, GROUPS);\n    [javac]                     ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:92: incompatible types\n    [javac] found   : org.apache.avro.util.Utf8\n    [javac] required: java.lang.CharSequence\n    [javac]       g.name = new Utf8(group.getName());\n    [javac]                ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:93: incompatible types\n    [javac] found   : org.apache.avro.util.Utf8\n    [javac] required: java.lang.CharSequence\n    [javac]       g.displayName = new Utf8(group.getDisplayName());\n    [javac]                       ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:94: incompatible types\n    [javac] found   : org.apache.avro.generic.GenericData.Array<org.apache.hadoop.mapreduce.jobhistory.JhCounter>\n    [javac] required: java.util.List<org.apache.hadoop.mapreduce.jobhistory.JhCounter>\n    [javac]       g.counts = new GenericData.Array<JhCounter>(group.size(), COUNTERS);\n    [javac]                  ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:97: incompatible types\n    [javac] found   : org.apache.avro.util.Utf8\n    [javac] required: java.lang.CharSequence\n    [javac]         c.name = new Utf8(counter.getName());\n    [javac]                  ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java:98: incompatible types\n    [javac] found   : org.apache.avro.util.Utf8\n    [javac] required: java.lang.CharSequence\n    [javac]         c.displayName = new Utf8(counter.getDisplayName());\n    [javac]                         ^\n    [javac] /hadoop01/jenkins/jobs/hadoop-mapreduce-SNAPSHOT/workspace/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/TaskAttemptFinishedEvent.java:56: incompatible types\n\netc. etc.\n\nWill remove the UTf8 and submit new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-20T01:30:25.954+0000","updated":"2011-09-20T01:30:25.954+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13108335","id":"13108335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"body":"Ok, I'll take that back.\nWhen heeding my own advice in HADOOP-7646 about clearing out the ~/.ivy2/repository cache the avro 1.3.2 jar disappeared from the classpath and the compilation error went away.\n\nBack to my original question:\nShould I remove the new Utf8(String...) code and put straight Strings into the map in JobSubmittedEvent?\nMy concern is that the map is defined as CharSequence and we're putting Utf8's in the map. If any client tries to retrieve a key using a string, then they will not get the value back as the key of type Utf8 will not equal String or Charsequence types.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-20T02:36:50.911+0000","updated":"2011-09-20T02:36:50.911+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13108796","id":"13108796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> Should I remove the new Utf8(String...) code and put straight Strings into the map in JobSubmittedEvent?\n\nNo.  The jobAcls field is only accessed by JobSubmittedEvent.  That class is consistent about using Utf8 to access the Map, so results should be correct.  Intermixing String and Utf8 as keys in a Map<CharSequence,?> would likely cause problems.  (This is a known issue with Avro: AVRO-803.)\n\nI think the patch looks good as it is.  +1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-20T15:58:51.982+0000","updated":"2011-09-20T15:58:51.982+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13108801","id":"13108801","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for clarifying and the reference to the existing issue Doug.\nThat was indeed the case I had in mind.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-20T16:07:30.697+0000","updated":"2011-09-20T16:07:30.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13116089","id":"13116089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"A slight modification to avoid avro dependency on packaged jars in Hadoop.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-28T03:05:20.888+0000","updated":"2011-09-28T03:05:20.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13116092","id":"13116092","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12496835/MAPREDUCE-3039-branch-0.22-shv.patch\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/877//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-28T03:14:23.116+0000","updated":"2011-09-28T03:14:23.116+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13116100","id":"13116100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this. Thank you Joep.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-28T03:24:57.551+0000","updated":"2011-09-28T03:24:57.551+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12523605/comment/13116295","id":"13116295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Mapreduce-22-branch #77 (See [https://builds.apache.org/job/Hadoop-Mapreduce-22-branch/77/])\n    MAPREDUCE-3039. Upgrade to Avro 1.5.3. Contributed by Joep Rottinghuis.\n\nshv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1176694\nFiles : \n* /hadoop/common/branches/branch-0.22/mapreduce/CHANGES.txt\n* /hadoop/common/branches/branch-0.22/mapreduce/build.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/ivy/libraries.properties\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/capacity-scheduler/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/fairscheduler/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/gridmix/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/mrunit/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/mumak/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/raid/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/contrib/streaming/ivy.xml\n* /hadoop/common/branches/branch-0.22/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java\n* /hadoop/common/branches/branch-0.22/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventWriter.java\n* /hadoop/common/branches/branch-0.22/mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/JobSubmittedEvent.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-28T08:45:53.193+0000","updated":"2011-09-28T08:45:53.193+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-3039/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i09c3r:"}}