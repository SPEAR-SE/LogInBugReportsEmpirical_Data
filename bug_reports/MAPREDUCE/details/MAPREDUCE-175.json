{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12416186","self":"https://issues.apache.org/jira/rest/api/2/issue/12416186","key":"MAPREDUCE-175","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2009-03-12T14:59:08.727+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 21 21:29:52 UTC 2014","customfield_12310420":"148566","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_169743226098_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-21T21:29:51.982+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-175/watchers","watchCount":3,"isWatching":false},"created":"2009-03-05T06:36:05.916+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-07-21T21:29:52.010+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Hi, all\n\nWhen our cluster runs for a long time, some reduce tasks running on some tasktrackers hang. Their states are UNASSIGNED.  Then, all reduce tasks on these tasktracker will hang.\n\nWe kill the hang reduce task, then the reduce task attempt is re-scheduled to this tasktracker, the attempt task continues to hang. We fail it, it goes to another tasktracker, it is executed successfully. \n\nTasktracker which has hang reduce task will receive new reduce task, but the reduce  task continue to hang for ever.\n\nWhen we reboot the tasktracker machine, reduce task no longer hangs.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"108329","customfield_12312823":null,"summary":"Sometimes, Reduce tasks hangï¼Œ State is unassigned","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416186/comment/12679091","id":"12679091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"body":"Today, one map task attempt hang, whose state is unassigned. The following log gives the normal log and the exception log.\n\nNormal Log:\n-------------------\n2009-03-05 11:48:40,527 INFO  mapred.TaskTracker (TaskTracker.java:run(314)) - Received KillTaskAction for task: attempt_200903\n032231_0534_m_000785_0\n2009-03-05 11:48:40,527 INFO  mapred.TaskTracker (TaskTracker.java:purgeTask(1392)) - About to purge task: attempt_200903032231\n_0534_m_000785_0\n2009-03-05 11:48:40,528 INFO  mapred.TaskTracker (TaskTracker.java:addFreeSlot(1625)) - addFreeSlot : current free slots : 1\n2009-03-05 11:48:40,537 WARN  mapred.TaskTracker (TaskTracker.java:reportTaskFinished(2583)) - Unknown child task finshed: atte\nmpt_200903032231_0534_m_000785_0. Ignored.\n\n\nException Log\n--------------------------\n2009-03-05 11:55:51,600 INFO  mapred.TaskTracker (TaskTracker.java:run(314)) - Received KillTaskAction for task: attempt_200903\n032231_0541_m_000046_1\n2009-03-05 11:55:51,603 INFO  mapred.TaskTracker (TaskTracker.java:purgeTask(1392)) - About to purge task: attempt_200903032231\n_0541_m_000046_1\n2009-03-05 11:55:51,603 INFO  mapred.TaskTracker (TaskTracker.java:reportDone(2022)) - Task attempt_200903032231_0541_m_000046_\n1 is done.\n2009-03-05 11:55:51,604 INFO  mapred.TaskTracker (TaskTracker.java:reportDone(2023)) - reported output size for attempt_2009030\n32231_0541_m_000046_1  was 0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T06:36:56.578+0000","updated":"2009-03-05T06:36:56.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416186/comment/12681346","id":"12681346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rash37","name":"rash37","key":"rash37","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam rash","active":true,"timeZone":"America/Los_Angeles"},"body":"We have also seen this error.  This is what we saw in the TaskTracker that was trying to launch the task:\n\n2009-03-12 14:05:53,099 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not find taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct2009-03-12 01:46:30,781 INFO org.apache.hadoop.mapred.TaskTracker: LaunchTaskAction (registerTask): attempt_200902281847_7071_r_000003_\n0\n2009-03-12 01:46:30,781 INFO org.apache.hadoop.mapred.TaskTracker: Trying to launch : attempt_200902281847_7071_r_000003_0\n2009-03-12 01:46:35,802 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not fin\nd taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct\nories\n2009-03-12 01:46:40,805 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not fin\nd taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct\nories\n2009-03-12 01:46:45,807 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not fin\nd taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct\nories\n.... (REPEAT LAST LOG ENTRY)....\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rash37","name":"rash37","key":"rash37","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam rash","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-12T14:59:08.727+0000","updated":"2009-03-12T14:59:08.727+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416186/comment/12681408","id":"12681408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rash37","name":"rash37","key":"rash37","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam rash","active":true,"timeZone":"America/Los_Angeles"},"body":"After doing a series of thread dumps, we have found that parent TaskTracker is hung on the following synchronized block:\n\n{code}\n          synchronized (numFreeSlots) {\n            while (numFreeSlots.get() == 0) {\n              numFreeSlots.wait();\n            }\n{code}\n\nHere is the relevant section of the thread dumps (note this has been in this state for 8+ hours)\n\n{noformat}\n\"TaskLauncher for task\" daemon prio=10 tid=0x6f7f0400 nid=0x1857 in Object.wait() [0x6eae0000..0x6eae1030]\n   java.lang.Thread.State: WAITING (on object monitor)\n\tat java.lang.Object.wait(Native Method)\n\tat java.lang.Object.wait(Object.java:485)\n\tat org.apache.hadoop.mapred.TaskTracker$TaskLauncher.run(TaskTracker.java:1585)\n\t- locked <0x74f3cdf0> (a org.apache.hadoop.io.IntWritable)\n{noformat}\n\nThis is consistent with the previous report that a restart of the TaskTracker is necessary to fix the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rash37","name":"rash37","key":"rash37","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam rash","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-12T17:28:19.883+0000","updated":"2009-03-12T17:28:19.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416186/comment/12681422","id":"12681422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"This looks like HADOOP-4967 fixed in 0.19.1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2009-03-12T18:09:09.804+0000","updated":"2009-03-12T18:09:09.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416186/comment/12689808","id":"12689808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schubertzhang","name":"schubertzhang","key":"schubertzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Schubert Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"There is another issue in 0.19.1 for taskTracker.\n\nHADOOP-5269\nHADOOP-5235\nHADOOP-5367\n\nI am using branch-0.19, it's fine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schubertzhang","name":"schubertzhang","key":"schubertzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Schubert Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2009-03-27T05:05:20.719+0000","updated":"2009-03-27T05:05:20.719+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416186/comment/14069323","id":"14069323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"Closing this as either stale or already fixed or whatever.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2014-07-21T21:29:52.006+0000","updated":"2014-07-21T21:29:52.006+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-175/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0iwbb:"}}