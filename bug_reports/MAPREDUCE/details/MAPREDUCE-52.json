{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12424686","self":"https://issues.apache.org/jira/rest/api/2/issue/12424686","key":"MAPREDUCE-52","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2009-05-08T20:57:31.805+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jun 29 11:06:08 UTC 2009","customfield_12310420":"148457","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-52/watchers","watchCount":1,"isWatching":false},"created":"2009-05-06T11:10:09.335+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12325268","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325268","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"outwardIssue":{"id":"12427976","key":"MAPREDUCE-2","self":"https://issues.apache.org/jira/rest/api/2/issue/12427976","fields":{"summary":"ArrayOutOfIndex error in KeyFieldBasedPartitioner on empty key","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-29T11:06:08.801+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"1) Currently,  KeyFieldBasedPartitioner only support utf8 encoded recored,  we should use text or byteswriteable data types.\n\n2) when using KeyFieldBasedPartitioner, if the record doesn't contain the specified field, the endChar would equal with array.length, which throw ArrayOutOfIndex exception, losting that record!","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12407333","id":"12407333","filename":"encode-free-KeyFieldBasedPartitioner.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-06T11:22:20.883+0000","size":2553,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12407333/encode-free-KeyFieldBasedPartitioner.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12407965","id":"12407965","filename":"encode-free-KeyFieldBasedPartitioner-v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-13T02:56:46.875+0000","size":2484,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12407965/encode-free-KeyFieldBasedPartitioner-v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12410221","id":"12410221","filename":"HADOOP-5779-partial.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-09T13:20:20.079+0000","size":2820,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12410221/HADOOP-5779-partial.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12410397","id":"12410397","filename":"HADOOP-5779-v1.0.patch.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-11T13:19:03.380+0000","size":4691,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12410397/HADOOP-5779-v1.0.patch.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"108435","customfield_12312823":null,"summary":"KeyFieldBasedPartitioner would lost data if specifed field not exist, and it should encode free not only support utf8","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12706381","id":"12706381","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"body":"Using BytesWritable or Text data types for KeyFieldBasedPartitioner, which would support not only utf8, and avoid the ArrayOutOfIndex exception.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-06T11:20:31.575+0000","updated":"2009-05-06T11:20:31.575+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12706383","id":"12706383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"body":"here comes the patch :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-06T11:22:20.917+0000","updated":"2009-05-06T11:22:20.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12707525","id":"12707525","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12407333/encode-free-KeyFieldBasedPartitioner.patch\n  against trunk revision 772960.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/307/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-08T20:57:31.805+0000","updated":"2009-05-08T20:57:31.805+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12708734","id":"12708734","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"body":"create patch using svn diff instead of diff","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-13T02:56:46.908+0000","updated":"2009-05-18T01:51:56.753+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12710191","id":"12710191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"body":"Some minor comments:\n\n* I think it would be better to have the instance check for the keys in a single if block\n{code}\nif (key instanceof BytesWritable) {\n// Handle BytesWritable\n}\nelse if (key instanceof Text) {\n// Handle Text\n}\nelse {\n// error\n}\n{code}\n\n* A test case to test for Text and BytesWritable keys would be good to have for this patch. It could either be a new test case or could modify TestStreamDataProtocol. Also, if the test case can demonstrate the fix for ArrayOutOfBoundsException -- it should fail without this patch and run with this patch, it would be really nice.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-17T11:01:48.708+0000","updated":"2009-05-17T11:01:48.708+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12717669","id":"12717669","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Hey. I tried testing your patch against my testcase and it failed. The code changes to do with the exception seems insufficient. Attaching the code changes that fixes the issue. Can you plz change the patch accordingly? \n\nNote that I havent coded for utf-8 issue. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-09T13:20:20.138+0000","updated":"2009-06-09T13:20:20.138+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12718451","id":"12718451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Attaching a merged patch. Testing in progress.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-11T13:19:03.384+0000","updated":"2009-06-11T13:19:03.384+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12718791","id":"12718791","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"body":"Some minor comments:\n\n# I think endChar cannot be negative, so the check endChar < 0 can be removed. Could you check?\n# Instead of doing i <= end && i < b.length in the hashCode(), I think we should ideally fix the getEndOffset to return min (end, b.length -1).  But I would not -1 for that, I am OK with the existing simple change in the patch as well\n# In the test case, adding an assert to verify the returned partition is 0 would be good.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-12T10:41:56.861+0000","updated":"2009-06-12T10:41:56.861+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12719486","id":"12719486","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"ZhuGuanyin, I am in the process of merging the patches and add a testcase. I hope its ok with you. Can you please let me know how to simulate the situation where key.toString().getBytes(\"UTF-8\") throws exception. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-15T09:31:51.777+0000","updated":"2009-06-15T09:31:51.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12719503","id":"12719503","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"body":"Thanks very much, I'm busy the last month and not followed this issue, I'll attach an example dataset to let key.toString().getBytes(\"UTF-8\") throws exception soon, \n\nThanks again!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=buptzhugy","name":"buptzhugy","key":"buptzhugy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ZhuGuanyin","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-15T10:16:49.229+0000","updated":"2009-06-15T10:16:49.229+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12719989","id":"12719989","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Opened HADOOP-6052 to address the ArrayOutOfIndex exception. ZhuGuanyin, could you plz provide a new patch having framework fix and testcase to solve utf-8 encoding issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-16T08:54:57.143+0000","updated":"2009-06-16T08:54:57.143+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12424686/comment/12725121","id":"12725121","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"MAPREDUCE-2 has fixed the ArrayOutOfIndex error. Can you please upload a new patch for the utf-8 issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-29T11:06:08.791+0000","updated":"2009-06-29T11:06:08.791+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-52/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0iwyv:"}}