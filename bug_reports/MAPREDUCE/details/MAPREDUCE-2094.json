{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12475294","self":"https://issues.apache.org/jira/rest/api/2/issue/12475294","key":"MAPREDUCE-2094","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329060","id":"12329060","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335734","id":"12335734","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-09-28T21:26:23.661+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat May 09 15:30:33 UTC 2015","customfield_12310420":"149991","customfield_12312320":null,"customfield_12310222":"10002_*:*_5_*:*_25248406613_*|*_1_*:*_5_*:*_120205762072_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-05-08T21:36:19.737+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2094/watchers","watchCount":12,"isWatching":false},"created":"2010-09-28T09:40:11.128+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12334110","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12334110","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12470915","key":"HADOOP-6901","self":"https://issues.apache.org/jira/rest/api/2/issue/12470915","fields":{"summary":"Parsing large compressed files with HADOOP-1722 spawns multiple mappers per file","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-08-30T01:20:56.509+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312920","id":"12312920","name":"task","description":"The code that runs in the child task process."}],"timeoriginalestimate":null,"description":"When implementing a custom derivative of FileInputFormat we ran into the effect that a large Gzipped input file would be processed several times. \n\nA near 1GiB file would be processed around 36 times in its entirety. Thus producing garbage results and taking up a lot more CPU time than needed.\n\nIt took a while to figure out and what we found is that the default implementation of the isSplittable method in [org.apache.hadoop.mapreduce.lib.input.FileInputFormat | http://svn.apache.org/viewvc/hadoop/mapreduce/trunk/src/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java?view=markup ] is simply \"return true;\". \n\nThis is a very unsafe default and is in contradiction with the JavaDoc of the method which states: \"Is the given filename splitable? Usually, true, but if the file is stream compressed, it will not be. \" . The actual implementation effectively does \"Is the given filename splitable? Always true, even if the file is stream compressed using an unsplittable compression codec. \"\n\nFor our situation (where we always have Gzipped input) we took the easy way out and simply implemented an isSplittable in our class that does \"return false; \"\n\nNow there are essentially 3 ways I can think of for fixing this (in order of what I would find preferable):\n# Implement something that looks at the used compression of the file (i.e. do migrate the implementation from TextInputFormat to FileInputFormat). This would make the method do what the JavaDoc describes.\n# \"Force\" developers to think about it and make this method abstract.\n# Use a \"safe\" default (i.e. return false)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12731592","id":"12731592","filename":"M2094.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T20:53:45.549+0000","size":10393,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12731592/M2094.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12731611","id":"12731611","filename":"M2094-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T21:33:36.314+0000","size":11162,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12731611/M2094-1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12479785","id":"12479785","filename":"MAPREDUCE-2094-2011-05-19.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2011-05-19T14:28:31.324+0000","size":6612,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12479785/MAPREDUCE-2094-2011-05-19.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12658034","id":"12658034","filename":"MAPREDUCE-2094-20140727.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T18:47:46.946+0000","size":11628,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12658034/MAPREDUCE-2094-20140727.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12658039","id":"12658039","filename":"MAPREDUCE-2094-20140727-svn.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T20:19:00.655+0000","size":10381,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12658039/MAPREDUCE-2094-20140727-svn.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12730601","id":"12730601","filename":"MAPREDUCE-2094-20140727-svn-fixed-spaces.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-05T20:52:59.321+0000","size":11596,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12730601/MAPREDUCE-2094-20140727-svn-fixed-spaces.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12730617","id":"12730617","filename":"MAPREDUCE-2094-2015-05-05-2328.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-05T21:29:29.446+0000","size":11147,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12730617/MAPREDUCE-2094-2015-05-05-2328.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12654696","id":"12654696","filename":"MAPREDUCE-2094-FileInputFormat-docs-v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-08T22:30:45.671+0000","size":4390,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12654696/MAPREDUCE-2094-FileInputFormat-docs-v2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"81062","customfield_12312823":null,"summary":"LineRecordReader should not seek into non-splittable, compressed streams.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/12915689","id":"12915689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"It appears that this issue may have the same root cause.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2010-09-28T09:42:01.385+0000","updated":"2010-09-28T09:42:01.385+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/12915929","id":"12915929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Changing the default implementation to return false would be an incompatible change, potentially breaking existing subclasses.  Making the method abstract would also be incompatible and break subclasses, but in a way that they'd easily detect.\n\nPerhaps the javadoc should just be clarified to better document this default?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-28T21:26:23.661+0000","updated":"2010-09-28T21:26:23.661+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/12916076","id":"12916076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"bq. Changing the default implementation to return false would be an incompatible change, potentially breaking existing subclasses. \n\nIf you mean with \"breaking\" :  \"Some subclasses will see an unexpected performance degradation\" . then Yes, that will most likely occur ( first one I think of is SequenceFileInputFormat ).\nI however do not expect any functional \"breaking\" of the output of these subclasses.\n\nbq. Making the method abstract would also be incompatible and break subclasses, but in a way that they'd easily detect. \n\nYes. \nThe downside of this option is that if subclasses want to have detection depending on the compression I expect a lot of code duplication to occur. \nThis code duplication is already occurring within the main code base in KeyValueTextInputFormat , TextInputFormat, CombineFileInputFormat and their old API counterparts (I found a total of 5 duplicates of the same isSplittable implementation).\n\nbq. Perhaps the javadoc should just be clarified to better document this default?\n\nDefinitely an option. However this would not fix the effect in the existing subclasses.\n\nI just did a quick manual code check of the current trunk and I found that the following classes are derived from FileInputFormat yet do not  implement the isSplittable method (and thus use \"return true\").\n* ./src/java/org/apache/hadoop/mapreduce/lib/input/NLineInputFormat.java\n* ./src/contrib/streaming/src/java/org/apache/hadoop/streaming/AutoInputFormat.java\n* ./src/java/org/apache/hadoop/mapred/SequenceFileInputFormat.java\n\nI expect that the NLineInputFormat and the AutoInputFormat will affected by this \"large gzip\" bug.\nSo expect that simply fixing the isSplittable documentation would lead to the need to fix *at least* these two classes.\n\nAs far as I understand the SequenceFileInputFormat can only be compressed using a \"splittable\" compression, so the \"return true;\" from FileInputFormat will work fine there.\n\nOverall I still prefer the clean option of  returning the correct value depending on the compression. That would effectively leave the behavior in most use cases unchanged. Yet in those cases where splitting is known to cause problems it would avoid those problems. Thus avoiding major issues like the ones we had and described in HADOOP-6901.\nFor the SequenceFileInputFormat it may be needed to implement the isSplittable as \"return true;\"\n\nEffectively the set of changes I propose (in both the old and new API versions of these classes):\n1) FileInputFormat . isSplittable  gets the implementation as seen in TextInputFormat\n2) The isSplittable implementation is removed from  KeyValueTextInputFormat , TextInputFormat, CombineFileInputFormat (useless code duplication)\n3) The isSplittable implementation \"return true\" is added to SequenceFileInputFormat. Given the fact that you cannot gzip a sequencefile I expect this to be an optional fix.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2010-09-29T08:32:52.241+0000","updated":"2010-09-29T08:32:52.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/12918851","id":"12918851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"I just noticed that the Yahoo Hadoop tutorial \"[Module 5: Advanced MapReduce Features |http://developer.yahoo.com/hadoop/tutorial/module5.html]\" shows a code example for defining your own [FileInputFormat|http://developer.yahoo.com/hadoop/tutorial/module5.html#fileformat].\nThe shown example code implements a derivative using FileInputFormat and LineRecordReader without overruling isSplittable ... I expect this tutorial code to lead people into this bug.\n\nSince this bug will only become apparent when using large \"non splittable\" (gzipped) input files it is also important to notice that almost no one will have a (unit) test that will trip on this bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2010-10-07T09:23:36.593+0000","updated":"2010-10-07T09:23:36.593+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/13036218","id":"13036218","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"I've created a patch that in my mind fixes this issue the correct way. If this is really the case if very open to discussion.\n\nThere are basically 4 current situations:\n# People use the existing FileInputFormat derivatives. This patch ensures that all of those that are present in the existing code base (including the examples) still retain the same behavior as before.\n# People have created a new derivative and HAVE overridden isSplitable with something that fits their needs. This patch does not change those situations.\n# People have created a new derivative and have *NOT* overridden isSplitable. \n## If their input is in a splittable form (like LZO or uncompressed); then this patch will not affect them\n## In the situation where they have big non-splittable input files (like gzip files) they will have ran into unexpected errors. Possibly they will spent a lot of time looking for performance issues and wrong results in production that did not occur during unit testing (we did!). This patch will fix this problem without any code changes in their code base.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2011-05-19T14:28:31.350+0000","updated":"2011-05-19T14:28:31.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/13036225","id":"13036225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"I've not marked this as an \"Incompatible change\" because the behaviour is only changed in the situations where there was an error condition.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2011-05-19T14:31:45.809+0000","updated":"2011-05-19T14:31:45.809+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/13036388","id":"13036388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12479785/MAPREDUCE-2094-2011-05-19.patch\n  against trunk revision 1124553.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\n    +1 system test framework.  The patch passed system test framework compile.\n\nTest results: https://builds.apache.org/hudson/job/PreCommit-MAPREDUCE-Build/273//testReport/\nFindbugs warnings: https://builds.apache.org/hudson/job/PreCommit-MAPREDUCE-Build/273//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/hudson/job/PreCommit-MAPREDUCE-Build/273//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-05-19T19:21:12.871+0000","updated":"2011-05-19T19:21:12.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/13036399","id":"13036399","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"I think this is still incompatible.\n\nI think the majority of file-based input formats *should* be splittable - it's the whole reason that MR scales to big files. It's the minority of cases where files shouldn't be splittable.\n\nIMO the correct fix for this issue is to do a better job of documenting FileInputFormat.isSplitable() and the class-level javadoc on FileInputFormat. This way, those who implement it themselves will take note that they need to override it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2011-05-19T19:37:33.362+0000","updated":"2011-05-19T19:37:33.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/13039819","id":"13039819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"cancelling patch for discussion","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2011-05-26T17:44:16.726+0000","updated":"2011-05-26T17:44:16.726+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/13648652","id":"13648652","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggoodson","name":"ggoodson","key":"ggoodson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Garth Goodson","active":true,"timeZone":"America/Los_Angeles"},"body":"We just hit this bug.  I'm very surprised that it hasn't been fixed.  Having a default isSplitable that just returns true is wrong behavior.  This ended up causing data corruption for our customers.  The default behavior should check whether the codec is splitable like other input formats do.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggoodson","name":"ggoodson","key":"ggoodson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Garth Goodson","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-03T18:26:44.135+0000","updated":"2013-05-03T18:26:44.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14055606","id":"14055606","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"body":"We just hit this bug too. I'd really prefer a safer default (like \"return false\" or something like Niels's patch) but if that is not doable, better docs would have helped. The current docs imply that the default implementation handles splittable vs non-splittable files, even though it doesn't.\n\nI've attached some wording that I think is more clear.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-08T22:20:33.279+0000","updated":"2014-07-08T22:20:33.279+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14055615","id":"14055615","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"body":"I just attached a different patch that also adjusts the class-level javadocs in addition to the methods.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-08T22:30:45.680+0000","updated":"2014-07-08T22:30:45.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075606","id":"14075606","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"Question for [~gian], [~ggoodson] and others who have faced this problem.\nDid you use the 'out of the box' LineRecordReader (or a subclass of that) as shown in https://developer.yahoo.com/hadoop/tutorial/module5.html#inputformat or did you write something 'completely new'?\n\nWhen I ran into this I followed the tutorial.\n\nI think the 'next best' spot to stop most problem scenarios (i.e. everyone who implements it like the tutorial shows) can be caught by letting the LineRecordReader fail the entire job when it is initialized with non splittable codec file and the provided split is not the entire file. \n\nWhat do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T11:17:34.252+0000","updated":"2014-07-27T11:17:34.252+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075633","id":"14075633","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"body":"I did use the LineRecordReader. I think a safety net like the one you described would have been useful.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gian","name":"gian","key":"gian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gian Merlino","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-27T14:51:39.712+0000","updated":"2014-07-27T14:51:39.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075683","id":"14075683","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"This is the patch I created to throw an exception in the most common case where the described problem occurs.\nSo this is a \"Fail hard when things already went wrong\" patch.\n\nNOTE 1: This patch includes all the JavaDoc improvements created by [~gian].\nNOTE 2: To create a unit test I needed to include a small gzipped file in the patch. I hope I did that the right way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T18:47:46.949+0000","updated":"2014-07-27T18:47:46.949+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075684","id":"14075684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"This \"Fix\" does not solve the problem in all scenarios as this is a rabbit hole proven to be too deep.\n\nThis does however fix all scenarios where a new FileInputFormat is created that also uses the LineRecordReader (or a subclass) and forget to implement the correct isSplitable. This is exactly the case that happens if someone were to follow the example from the Yahoo Hadoop tutorial ( https://developer.yahoo.com/hadoop/tutorial/module5.html#fileformat ) to create their own inputformat.\n\nThis patch makes the job fail when it detects the corruption scenario.\n\nI haven't tried it yet but with this patch; if you feed a large Gzipped file into the software from the mentioned tutorial it should now fail the entire job hard the moment it creates a second split. \n\nNOTE 1: This patch includes all the JavaDoc improvements created by [~gian].\nNOTE 2: To create a unit test I needed to include a small gzipped file in the patch. I hope I did that the right way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T18:49:42.894+0000","updated":"2014-07-27T18:49:42.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075706","id":"14075706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12658034/MAPREDUCE-2094-20140727.patch\n  against trunk revision .\n\n    {color:red}-1 patch{color}.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4771//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-27T18:52:10.506+0000","updated":"2014-07-27T18:52:10.506+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075741","id":"14075741","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"Problem with binary file in the patch file","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T20:17:16.512+0000","updated":"2014-07-27T20:17:16.512+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075743","id":"14075743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"Created new patch file via the svn route.\nIn this the binary file is now an ASCII file. This is possible because the content of the file is irrelevant, only the filename and the size (> 3 bytes) are what matters.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T20:19:00.660+0000","updated":"2014-07-27T20:19:00.660+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075745","id":"14075745","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"This patch no longer contains the binary file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2014-07-27T20:19:41.048+0000","updated":"2014-07-27T20:19:41.048+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14075752","id":"14075752","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12658039/MAPREDUCE-2094-20140727-svn.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 3 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4772//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4772//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-27T20:49:04.336+0000","updated":"2014-07-27T20:49:04.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14525562","id":"14525562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  14m 31s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 3 new or modified test files. |\n| {color:green}+1{color} | javac |   7m 27s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 37s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   1m  3s | There were no new checkstyle issues. |\n| {color:red}-1{color} | whitespace |   0m  1s | The patch has 9  line(s) that end in whitespace. Use git apply --whitespace=fix. |\n| {color:green}+1{color} | install |   1m 35s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 32s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 15s | The patch does not introduce any new Findbugs (version 2.0.3) warnings. |\n| {color:green}+1{color} | mapreduce tests |   1m 34s | Tests passed in hadoop-mapreduce-client-core. |\n| | |  38m  0s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12658039/MAPREDUCE-2094-20140727-svn.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 6ae2a0d |\n| whitespace | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5609/artifact/patchprocess/whitespace.txt |\n| hadoop-mapreduce-client-core test log | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5609/artifact/patchprocess/testrun_hadoop-mapreduce-client-core.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5609/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5609/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-03T00:18:40.614+0000","updated":"2015-05-03T00:18:40.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14529241","id":"14529241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"I removed the trailing spaces from the lines I touched.\nOne line that was reported however is a line I didn't touch in my patch.\n\nQuestion: What should I do about that?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-05T20:52:59.326+0000","updated":"2015-05-05T20:52:59.326+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14529249","id":"14529249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"Removed the trailing spaces from the lines I touched.\n\n@[~aw]: Apparently the trailing spaces check is also triggered by the trailing space in one of the 'surrounding' lines in the patch file. How should this be handled?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-05T20:55:49.978+0000","updated":"2015-05-05T20:55:49.978+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14529260","id":"14529260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:red}-1{color} | patch |   0m  0s | The patch command could not apply the patch during dryrun. |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12730601/MAPREDUCE-2094-20140727-svn-fixed-spaces.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 0100b15 |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5647/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-05T21:00:30.060+0000","updated":"2015-05-05T21:00:30.060+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14529320","id":"14529320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"This should work","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-05T21:29:29.451+0000","updated":"2015-05-05T21:29:29.451+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14529382","id":"14529382","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  14m 57s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 3 new or modified test files. |\n| {color:green}+1{color} | javac |   7m 40s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 47s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   0m 53s | There were no new checkstyle issues. |\n| {color:red}-1{color} | whitespace |   0m  0s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |\n| {color:green}+1{color} | install |   1m 31s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 16s | The patch does not introduce any new Findbugs (version 2.0.3) warnings. |\n| {color:green}+1{color} | mapreduce tests |   1m 38s | Tests passed in hadoop-mapreduce-client-core. |\n| | |  38m 46s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12730617/MAPREDUCE-2094-2015-05-05-2328.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 0100b15 |\n| whitespace | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5648/artifact/patchprocess/whitespace.txt |\n| hadoop-mapreduce-client-core test log | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5648/artifact/patchprocess/testrun_hadoop-mapreduce-client-core.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5648/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf904.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5648/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-05T22:09:30.559+0000","updated":"2015-05-05T22:09:30.559+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14530935","id":"14530935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"We're talking about the whitespace plugin being broken over in HADOOP-11923.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-05-06T17:09:28.077+0000","updated":"2015-05-06T17:09:28.077+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14531171","id":"14531171","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"[Given|http://mail-archives.apache.org/mod_mbox/hadoop-common-dev/201405.mbox/%3CCADoiZqoBKme-HYoM%3DhRxPEs1w2qdevo0%3DaoihqiWT4vS8D42Yg%40mail.gmail.com%3E] [discussion|https://mail-archives.apache.org/mod_mbox/hadoop-common-dev/201406.mbox/%3CCADoiZqoqKpn_7B9w75DCrVjxZ1SqbKrYQBrwLW1rwO26a4eiVQ@mail.gmail.com%3E] on the dev list, the following error message:\n{noformat}\n+          throw new IOException(\n+                    \"Implementation bug in the used FileInputFormat: \" +\n+                    \"The isSplitable method returned 'true' on a file that \" +\n+                    \"was compressed with a non splittable compression codec. \" +\n+                    \"If you get this right after upgrading Hadoop then know \"+\n+                    \"that you have been looking at reports based on \" +\n+                    \"corrupt data for a long time !!! (see: MAPREDUCE-2094)\");\n{noformat}\nis a little over the top. Please just report the error detected e.g., {{\"Cannot seek in \" + codec.getClass().getSimpleName() + \"  compressed stream\"}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-06T18:45:54.967+0000","updated":"2015-05-06T18:45:54.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14531362","id":"14531362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"I understand you want the error message to be 'clean'. Normally I would do that too.\nThis message can however only appear if you are using (or have been using for a long time)  a (usually custom) FileInputFormat that has been corrupting your results (for perhaps even years ... note I created this bug report about 4.5 years ago).\nI think it is important to clarify the impact of the problem the author of the custom code introduced themselves so they immediately understand what went wrong.\nAnd yes... this message is bit over the top ...\n\nAtleast let's make the message easier to understand what went wrong and make aware of the historical implications.\nHow about {{\"A split was attempted for a file that is being decompressed by \" + codec.getClass().getSimpleName() + \" which does not support splitting. Note that this would have corrupted the data in older Hadoop versions.\"}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-06T20:39:44.183+0000","updated":"2015-05-06T20:39:44.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14531367","id":"14531367","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"body":"P.S. I'm unable to provide an updated patch for the next week or so. So please make up a good message and so people can start catching this problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nielsbasjes","name":"nielsbasjes","key":"nielsbasjes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=nielsbasjes&avatarId=26763","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nielsbasjes&avatarId=26763","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nielsbasjes&avatarId=26763","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nielsbasjes&avatarId=26763"},"displayName":"Niels Basjes","active":true,"timeZone":"Europe/Amsterdam"},"created":"2015-05-06T20:42:38.347+0000","updated":"2015-05-06T20:42:38.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14535498","id":"14535498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Rewrote exception message.\n\n[~nielsbasjes], I know you think this undersells the severity of the bug. I'll rewrite the description to limit the scope of this fix, if you still want to litigate the point in another JIRA.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T20:53:45.554+0000","updated":"2015-05-08T20:53:45.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14535602","id":"14535602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Ran test-patch locally, all OK except a spurious whitespace and a release audit warning (fixed)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T21:33:36.321+0000","updated":"2015-05-08T21:33:36.321+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14535608","id":"14535608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"+1\n\nI committed this to trunk and branch-2. Thanks Niels","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T21:36:19.778+0000","updated":"2015-05-08T21:36:19.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14535738","id":"14535738","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #7779 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/7779/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-08T22:23:15.709+0000","updated":"2015-05-08T22:23:15.709+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14536395","id":"14536395","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk-Java8 #191 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/191/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-09T11:57:23.331+0000","updated":"2015-05-09T11:57:23.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14536444","id":"14536444","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk #922 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/922/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-09T12:01:38.835+0000","updated":"2015-05-09T12:01:38.835+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14536539","id":"14536539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2120 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2120/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-09T14:21:34.818+0000","updated":"2015-05-09T14:21:34.818+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14536590","id":"14536590","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #180 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/180/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-09T14:27:29.655+0000","updated":"2015-05-09T14:27:29.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14536651","id":"14536651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Mapreduce-trunk-Java8 #190 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/190/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-09T15:16:02.617+0000","updated":"2015-05-09T15:16:02.617+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475294/comment/14536698","id":"14536698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Mapreduce-trunk #2138 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2138/])\nMAPREDUCE-2094. LineRecordReader should not seek into non-splittable, compressed streams. (cdouglas: rev 2edcf931d7843cddcf3da5666a73d6ee9a10d00d)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/pom.xml\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/resources/TestSafeguardSplittingUnsplittableFiles.txt.gz\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/FileInputFormat.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/LineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-09T15:30:33.830+0000","updated":"2015-05-09T15:30:33.830+0000"}],"maxResults":41,"total":41,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2094/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0e80v:"}}