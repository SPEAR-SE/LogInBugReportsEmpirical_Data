{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12443621","self":"https://issues.apache.org/jira/rest/api/2/issue/12443621","key":"MAPREDUCE-1308","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2009-12-17T08:11:00.957+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 29 21:17:03 UTC 2014","customfield_12310420":"149426","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_145638360371_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-29T21:17:03.603+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-1308/watchers","watchCount":2,"isWatching":false},"created":"2009-12-17T06:11:03.267+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-07-29T21:17:03.635+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312906","id":"12312906","name":"tasktracker"}],"timeoriginalestimate":null,"description":"We recently migrated our 0.19.2 cluster from Gentoo Linux to Fedora Linux.  Everything was running smoothly before, but now about 5%-10% of our jobs have at least one reduce task that stalls out and is eventually killed with the message:\n\n      Task attempt_200912102211_1648_r_000009_0 failed to report status for 6003 seconds. Killing!\n\nThe task is then re-launched and completes successfully, usually in a couple of minutes.\n\nThis is problematic because our scheduled Hadoop jobs now take an extra hour-and-a-half to run (6000 seconds).\n\nThere are no indications in the logs that anything is amiss.  The task starts, a small amount of the copy/shuffle runs, and then nothing is else is heard from the task until it is killed.  I will attach the relevant parts of the TaskTracker logs in the comments.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"81305","customfield_12312823":null,"summary":"reduce tasks stall and are eventually killed","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"20-node cluster, 8 cores per machine, 32GB memory, Fedora Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791801","id":"12791801","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"The relevant jobtracker logs:\n\n2009-12-17 03:56:05,122 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200912102211_1648_r_000009_0' to tip task_200912102211_1648_r_000009, for tracker 'tracker_hadoop0038.data.sjc1.metaweb.com:localhost.localdomain/127.0.0.1:52433'\n2009-12-17 05:36:19,032 INFO org.apache.hadoop.mapred.TaskInProgress: Error from attempt_200912102211_1648_r_000009_0: Task attempt_200912102211_1648_r_000009_0 failed to report status for 6003 seconds. Killing!\n2009-12-17 05:36:19,033 INFO org.apache.hadoop.mapred.JobTracker: Adding task (cleanup)'attempt_200912102211_1648_r_000009_0' to tip task_200912102211_1648_r_000009, for tracker 'tracker_hadoop0038.data.sjc1.metaweb.com:localhost.localdomain/127.0.0.1:52433'\n2009-12-17 05:36:20,581 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200912102211_1648_r_000009_1' to tip task_200912102211_1648_r_000009, for tracker 'tracker_hadoop0038.data.sjc1.metaweb.com:localhost.localdomain/127.0.0.1:52433'\n2009-12-17 05:36:20,581 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200912102211_1648_r_000009_0' from 'tracker_hadoop0038.data.sjc1.metaweb.com:localhost.localdomain/127.0.0.1:52433'\n2009-12-17 05:40:01,767 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200912102211_1648_r_000009_1' has completed task_200912102211_1648_r_000009 successfully.\n2009-12-17 05:40:04,614 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200912102211_1648_r_000009_0' from 'tracker_hadoop0038.data.sjc1.metaweb.com:localhost.localdomain/127.0.0.1:52433'\n2009-12-17 05:40:04,615 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200912102211_1648_r_000009_1' from 'tracker_hadoop0038.data.sjc1.metaweb.com:localhost.localdomain/127.0.0.1:52433'\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T06:13:55.333+0000","updated":"2009-12-17T06:13:55.333+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791802","id":"12791802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"The relevant tasktracker logs on the affected tasktracker:\n\n[hadoop@hadoop0038.data.sjc1 logs]$ grep 200912102211_1648_r_000009 hadoop-hadoop-tasktracker-hadoop0038.data.sjc1.metaweb.com.log | grep -v file.out\n2009-12-17 03:56:05,124 INFO org.apache.hadoop.mapred.TaskTracker: LaunchTaskAction (registerTask): attempt_200912102211_1648_r_000009_0 task's state:UNASSIGNED\n2009-12-17 03:56:05,124 INFO org.apache.hadoop.mapred.TaskTracker: Trying to launch : attempt_200912102211_1648_r_000009_0\n2009-12-17 03:56:05,124 INFO org.apache.hadoop.mapred.TaskTracker: In TaskLauncher, current free slots : 8 and trying to launch attempt_200912102211_1648_r_000009_0\n2009-12-17 03:56:06,155 INFO org.apache.hadoop.mapred.TaskTracker: JVM with ID: jvm_200912102211_1648_r_1323622642 given task: attempt_200912102211_1648_r_000009_0\n2009-12-17 03:56:12,611 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200912102211_1648_r_000009_0 0.014619883% reduce > copy (60 of 1368 at 4.35 MB/s) > \n2009-12-17 05:36:15,959 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200912102211_1648_r_000009_0: Task attempt_200912102211_1648_r_000009_0 failed to report status for 6003 seconds. Killing!\n2009-12-17 05:36:16,030 INFO org.apache.hadoop.mapred.TaskTracker: About to purge task: attempt_200912102211_1648_r_000009_0\n2009-12-17 05:36:16,030 INFO org.apache.hadoop.mapred.TaskRunner: attempt_200912102211_1648_r_000009_0 done; removing files.\n2009-12-17 05:36:19,031 INFO org.apache.hadoop.mapred.TaskRunner: attempt_200912102211_1648_r_000009_0 done; removing files.\n2009-12-17 05:36:19,036 INFO org.apache.hadoop.mapred.TaskTracker: LaunchTaskAction (registerTask): attempt_200912102211_1648_r_000009_0 task's state:FAILED_UNCLEAN\n2009-12-17 05:36:19,036 INFO org.apache.hadoop.mapred.TaskTracker: Trying to launch : attempt_200912102211_1648_r_000009_0\n2009-12-17 05:36:19,036 INFO org.apache.hadoop.mapred.TaskTracker: In TaskLauncher, current free slots : 8 and trying to launch attempt_200912102211_1648_r_000009_0\n2009-12-17 05:36:20,230 INFO org.apache.hadoop.mapred.TaskTracker: JVM with ID: jvm_200912102211_1648_r_2026654121 given task: attempt_200912102211_1648_r_000009_0\n2009-12-17 05:36:20,572 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200912102211_1648_r_000009_0 0.0% \n2009-12-17 05:36:20,577 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200912102211_1648_r_000009_0 0.0% cleanup\n2009-12-17 05:36:20,578 INFO org.apache.hadoop.mapred.TaskTracker: Task attempt_200912102211_1648_r_000009_0 is done.\n2009-12-17 05:36:20,579 INFO org.apache.hadoop.mapred.TaskTracker: reported output size for attempt_200912102211_1648_r_000009_0  was 0\n2009-12-17 05:36:20,579 INFO org.apache.hadoop.mapred.TaskRunner: attempt_200912102211_1648_r_000009_0 done; removing files.\n2009-12-17 05:36:20,583 INFO org.apache.hadoop.mapred.TaskTracker: LaunchTaskAction (registerTask): attempt_200912102211_1648_r_000009_1 task's state:UNASSIGNED\n2009-12-17 05:36:20,584 INFO org.apache.hadoop.mapred.TaskTracker: Trying to launch : attempt_200912102211_1648_r_000009_1\n2009-12-17 05:36:20,584 INFO org.apache.hadoop.mapred.TaskTracker: In TaskLauncher, current free slots : 8 and trying to launch attempt_200912102211_1648_r_000009_1\n2009-12-17 05:36:21,276 INFO org.apache.hadoop.mapred.TaskTracker: JVM with ID: jvm_200912102211_1648_r_-1445045544 given task: attempt_200912102211_1648_r_000009_1\n2009-12-17 05:36:27,586 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200912102211_1648_r_000009_1 0.014619883% reduce > copy (60 of 1368 at 4.35 MB/s) > \n2009-12-17 05:36:30,598 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200912102211_1648_r_000009_1 0.019493178% reduce > copy (80 of 1368 at 23.23 MB/s) > \n\n...\n\nThe attempt_200912102211_1648_r_000009_1 then runs to completion.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T06:16:24.851+0000","updated":"2009-12-17T06:16:24.851+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791842","id":"12791842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. This is problematic because our scheduled Hadoop jobs now take an extra hour-and-a-half to run (6000 seconds).\n\nFirst up, this is a per-job config... why is mapred.task.timeout set to 6000s? The default value is 600s.\n\n----\n\nCould you please check the reducer's syslog file to check if there are issues?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-12-17T08:11:00.957+0000","updated":"2009-12-17T08:11:00.957+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791965","id":"12791965","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"\nArun --\n\nThanks for the pointers.  I'm not quite sure how mapred.task.timeout got set incorrectly -- I went through our local SVN repo, and it seems to have been set that way at our site since we were using 0.16.4 back in July 2008.  Since it was never an issue until now, we never noticed, I guess.  ;-)\n\nParameter has been modified.\n\nI'll check the syslogs and report back in the next comment.\n\nBrian","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T15:13:58.515+0000","updated":"2009-12-17T15:13:58.515+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791969","id":"12791969","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"\nI can find no indication of error in the syslog files.\n\n/var/log/messages has only syslog-ng and ntpd messages in the time 03:50 -- 05:40.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T15:21:25.244+0000","updated":"2009-12-17T15:21:25.244+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791973","id":"12791973","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"Outside of the time period in question, I do see a few other worrisome log messages in the hadoop (not syslog) files.\n\nIn the datanode logs, I see 5 messages (in a 24 hour period) like:\n\n2009-12-17 10:14:13,565 WARN org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(172.29.2.67:50010, storageID=DS-739735928-172.29.2.67-50010-1259798617913, infoPort=50075, ipcPort=50020):Got exception while serving blk_786885296716083440_1313776 to /172.29.2.67:\njava.io.IOException: Block blk_786885296716083440_1313776 is not valid.\n        at org.apache.hadoop.hdfs.server.datanode.FSDataset.getBlockFile(FSDataset.java:731)\n        at org.apache.hadoop.hdfs.server.datanode.FSDataset.getLength(FSDataset.java:719)\n        at org.apache.hadoop.hdfs.server.datanode.BlockSender.<init>(BlockSender.java:92)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.readBlock(DataXceiver.java:172)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:95)\n        at java.lang.Thread.run(Thread.java:619)\n\n2009-12-17 10:14:13,565 ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(172.29.2.67:50010, storageID=DS-739735928-172.29.2.67-50010-1259798617913, infoPort=50075, ipcPort=50020):DataXceiver\njava.io.IOException: Block blk_786885296716083440_1313776 is not valid.\n        at org.apache.hadoop.hdfs.server.datanode.FSDataset.getBlockFile(FSDataset.java:731)\n        at org.apache.hadoop.hdfs.server.datanode.FSDataset.getLength(FSDataset.java:719)\n        at org.apache.hadoop.hdfs.server.datanode.BlockSender.<init>(BlockSender.java:92)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.readBlock(DataXceiver.java:172)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:95)\n        at java.lang.Thread.run(Thread.java:619)\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T15:27:27.695+0000","updated":"2009-12-17T15:27:27.695+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791974","id":"12791974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"\nAnd I see one message for a SocketTimeout:\n\n2009-12-17 06:26:20,082 WARN org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(172.29.2.67:50010, storageID=DS-739735928-172.29.2.67-50010-1259798617913, infoPort=50075, ipcPort=50020):Got exception while serving blk_-7712543153225807619_1300911 to /172.29.2.67:\njava.net.SocketTimeoutException: 480000 millis timeout while waiting for channel to be ready for write. ch : java.nio.channels.SocketChannel[connected local=/172.29.2.67:50010 remote=/172.29.2.67:41058]\n        at org.apache.hadoop.net.SocketIOWithTimeout.waitForIO(SocketIOWithTimeout.java:185)\n        at org.apache.hadoop.net.SocketOutputStream.waitForWritable(SocketOutputStream.java:159)\n        at org.apache.hadoop.net.SocketOutputStream.transferToFully(SocketOutputStream.java:198)\n        at org.apache.hadoop.hdfs.server.datanode.BlockSender.sendChunks(BlockSender.java:313)\n        at org.apache.hadoop.hdfs.server.datanode.BlockSender.sendBlock(BlockSender.java:400)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.readBlock(DataXceiver.java:180)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:95)\n        at java.lang.Thread.run(Thread.java:619)\n\n2009-12-17 06:26:20,082 ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(172.29.2.67:50010, storageID=DS-739735928-172.29.2.67-50010-1259798617913, infoPort=50075, ipcPort=50020):DataXceiver\njava.net.SocketTimeoutException: 480000 millis timeout while waiting for channel to be ready for write. ch : java.nio.channels.SocketChannel[connected local=/172.29.2.67:50010 remote=/172.29.2.67:41058]\n        at org.apache.hadoop.net.SocketIOWithTimeout.waitForIO(SocketIOWithTimeout.java:185)\n        at org.apache.hadoop.net.SocketOutputStream.waitForWritable(SocketOutputStream.java:159)\n        at org.apache.hadoop.net.SocketOutputStream.transferToFully(SocketOutputStream.java:198)\n        at org.apache.hadoop.hdfs.server.datanode.BlockSender.sendChunks(BlockSender.java:313)\n        at org.apache.hadoop.hdfs.server.datanode.BlockSender.sendBlock(BlockSender.java:400)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.readBlock(DataXceiver.java:180)\n        at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:95)\n        at java.lang.Thread.run(Thread.java:619)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T15:28:15.669+0000","updated":"2009-12-17T15:28:15.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/12791978","id":"12791978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"body":"And in the tasktracker logs, around the same time but for a different task, I get errors like the one below.  There are about 55 of these over a 24-hour period.\n\n2009-12-17 03:56:14,843 WARN org.apache.hadoop.mapred.TaskTracker: getMapOutput(attempt_200912102211_1648_m_000082_0,46) failed :\njava.net.SocketException: Connection reset\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:136)\n        at org.mortbay.http.ChunkingOutputStream.bypassWrite(ChunkingOutputStream.java:151)\n        at org.mortbay.http.BufferedOutputStream.write(BufferedOutputStream.java:139)\n        at org.mortbay.http.HttpOutputStream.write(HttpOutputStream.java:423)\n        at org.mortbay.jetty.servlet.ServletOut.write(ServletOut.java:54)\n        at org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:2919)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)\n        at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:475)\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n        at org.mortbay.http.HttpContext.handle(HttpContext.java:1565)\n        at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:635)\n        at org.mortbay.http.HttpContext.handle(HttpContext.java:1517)\n        at org.mortbay.http.HttpServer.service(HttpServer.java:954)\n        at org.mortbay.http.HttpConnection.service(HttpConnection.java:814)\n        at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:981)\n        at org.mortbay.http.HttpConnection.handle(HttpConnection.java:831)\n        at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)\n        at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n        at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)\n\n2009-12-17 03:56:14,844 INFO org.apache.hadoop.mapred.TaskTracker.clienttrace: src: 172.29.2.67:50060, dest: 172.29.2.61:17116, bytes: 589824, op: MAPRED_SHUFFLE, cliID: attempt_200912102211_1648_m_000082_0\n2009-12-17 03:56:14,844 WARN /: /mapOutput?job=job_200912102211_1648&map=attempt_200912102211_1648_m_000082_0&reduce=46: \njava.lang.IllegalStateException: Committed\n        at org.mortbay.jetty.servlet.ServletHttpResponse.resetBuffer(ServletHttpResponse.java:212)\n        at org.mortbay.jetty.servlet.ServletHttpResponse.sendError(ServletHttpResponse.java:375)\n        at org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:2945)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)\n        at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:475)\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n        at org.mortbay.http.HttpContext.handle(HttpContext.java:1565)\n        at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:635)\n        at org.mortbay.http.HttpContext.handle(HttpContext.java:1517)\n        at org.mortbay.http.HttpServer.service(HttpServer.java:954)\n        at org.mortbay.http.HttpConnection.service(HttpConnection.java:814)\n        at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:981)\n        at org.mortbay.http.HttpConnection.handle(HttpConnection.java:831)\n        at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)\n        at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n        at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zenkat","name":"zenkat","key":"zenkat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian Karlak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-17T15:32:53.719+0000","updated":"2009-12-17T15:32:53.719+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12443621/comment/14078378","id":"14078378","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"stale.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2014-07-29T21:17:03.631+0000","updated":"2014-07-29T21:17:03.631+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-1308/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0e9iv:"}}