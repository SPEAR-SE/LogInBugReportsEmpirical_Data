{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12506718","self":"https://issues.apache.org/jira/rest/api/2/issue/12506718","key":"MAPREDUCE-2481","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 10 13:48:51 UTC 2011","customfield_12310420":"150218","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2481/watchers","watchCount":3,"isWatching":false},"created":"2011-05-10T13:47:06.057+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314205","id":"12314205","description":"","name":"0.20.2","archived":false,"released":true,"releaseDate":"2010-02-16"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-03-28T11:14:34.303+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312920","id":"12312920","name":"task","description":"The code that runs in the child task process."}],"timeoriginalestimate":null,"description":"SocketTimeoutException is coming when reduce task tries to read MapTaskCompletionEventsUpdate object from task tracker, it is able to read reset, TaskCompletionEvent.taskId, TaskCompletionEvent.idWithinJob properties and it is failing for reading the property isMap in TaskCompletionEvent which is of type boolean. This exception is coming multiple times.\n\n{code}\n2011-04-20 15:58:03,037 FATAL mapred.TaskTracker (TaskTracker.java:fatalError(2812)) - Task: attempt_201104201115_0010_r_000002_0 - Killed : java.io.IOException:  Tried for the max ping retries On TimeOut :1\n\tat org.apache.hadoop.ipc.Client.checkPingRetries(Client.java:1342)\n\tat org.apache.hadoop.ipc.Client$Connection$PingInputStream.read(Client.java:402)\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:237)\n\tat java.io.DataInputStream.readBoolean(DataInputStream.java:225)\n\tat org.apache.hadoop.mapred.TaskCompletionEvent.readFields(TaskCompletionEvent.java:230)\n\tat org.apache.hadoop.mapred.MapTaskCompletionEventsUpdate.readFields(MapTaskCompletionEventsUpdate.java:64)\n\tat org.apache.hadoop.io.ObjectWritable.readObject(ObjectWritable.java:245)\n\tat org.apache.hadoop.io.ObjectWritable.readFields(ObjectWritable.java:69)\n\tat org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:698)\n\tat org.apache.hadoop.ipc.Client$Connection.run(Client.java:593)\nCaused by: java.net.SocketTimeoutException: 60000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/127.0.0.1:45798 remote=/127.0.0.1:35419]\n\tat org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:165)\n\tat org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:155)\n\tat org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:128)\n\tat java.io.FilterInputStream.read(FilterInputStream.java:116)\n\tat org.apache.hadoop.ipc.Client$Connection$PingInputStream.read(Client.java:397)\n\t... 9 more\n{code}\n\n org.mortbay.jetty.EofException is also coming many times in the logs as described in MAPREDUCE-5.\n{code}\n2011-04-20 15:57:20,748 WARN  mapred.TaskTracker (TaskTracker.java:doGet(3164)) - getMapOutput(attempt_201104201115_0010_m_000038_0,4) failed :\norg.mortbay.jetty.EofException\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:787)\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"80972","customfield_12312823":null,"summary":"SocketTimeoutException is coming in the reduce task when the data size is very high","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12506718/comment/13031188","id":"13031188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"body":"It has already read many other fields and so there is no chance of a network disconnect, because always problem is coming while reading same field (isMap property in TaskCompletionEvent object).\n\n{code:title=TaskCompletionEvent.java|borderStyle=solid}\n  public void readFields(DataInput in) throws IOException {\n    taskId.readFields(in); \n    idWithinJob = WritableUtils.readVInt(in);\n    isMap = in.readBoolean();\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-05-10T13:48:51.362+0000","updated":"2011-05-10T13:48:51.362+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2481/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0e7gv:"}}