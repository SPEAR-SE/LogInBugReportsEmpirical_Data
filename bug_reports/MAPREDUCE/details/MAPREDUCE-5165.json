{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12643270","self":"https://issues.apache.org/jira/rest/api/2/issue/12643270","key":"MAPREDUCE-5165","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-04-18T17:50:31.177+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Apr 18 20:18:29 UTC 2013","customfield_12310420":"323680","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-5165/watchers","watchCount":5,"isWatching":false},"created":"2013-04-18T16:32:38.039+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":"JobConf mapred mapreduce MiniMRCluster","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-04-18T20:18:29.987+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"The MiniMapRedCluster class references some older mapred.* classes (as per comments below however, there is the MiniMRYarnCluster, which may aim to replace it). \n\nIt could be recreated in the mapreduce package to use the Configuration class instead of JobConf, which would make it simpler to use and integrate with new FS implementations and test harnesses that use new Configuration (not JobConf) objects to drive tests.\n\nThis could be done many ways:\n\n1) using inheritance or else \n2) by copying the code directly\n\nThe appropriate implementation depends on wether or not \n\n1) Is it okay for mapreduce.* classes to depend on mapred.* classes ?\n2) Is the mapred MiniMRCluster implementation going to be deprecated or eliminated anytime? \n3) What is the future of the JobConf class - which has been deprecated and then undeprecated ?\n\nNote that This is all intimately linked to the role that MiniMRYarnCluster will play.  Relevant classes:\n\n.//hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapred/MiniMRClientCluster.java\n\n.//hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapred/MiniMRClientClusterFactory.java\n\n.//hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapred/MiniMRCluster.java\n\n.//hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapred/MiniMRYarnClusterAdapter.java\n\n.//hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/v2/MiniMRYarnCluster.java\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"324025","customfield_12312823":null,"summary":"Create MiniMRCluster version which uses the mapreduce package.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12643270/comment/13635378","id":"13635378","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"I have just found that rehashes contents from another JIRA\nhttps://issues.apache.org/jira/browse/MAPREDUCE-3169... and there is a MiniMRYarnCluster in fact in the mapreduce package.\n\nSo.. then... Is MiniMRCluster an artifact of the MR1 days that will be less used once MR2 takes over ? \n\nIs MiniMrYarnCluster a generic version of MiniMRCluster which will one day obviate the implementation specific MiniMRCluster altogether for the Hadoop-MapReduce jobs that are implemented in the MR2 YARN framework? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-18T17:26:19.584+0000","updated":"2013-04-18T17:26:19.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12643270/comment/13635418","id":"13635418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"MiniMRCluster has been added to Hadoop2 to enabled backward compatibility for downstream projects that used Hadoop1 MiniMRCluster in their testcases. In other words, to support legacy stuff.\n\nIf you are starting something from scratch you should use the new MiniMRYarnCluster directly.\n\nIMO, I'd close this JIRA as not-a-problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2013-04-18T17:50:31.177+0000","updated":"2013-04-18T17:50:31.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12643270/comment/13635448","id":"13635448","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"+1 to close, but the deprecation story is somewhat tricky not sure how to improve it.  Maybe just a wiki page update to http://wiki.apache.org/hadoop/HowToContribute to explain the changes to MRMiniCluster would be in order here, or something. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-18T18:01:25.388+0000","updated":"2013-04-18T18:01:25.388+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12643270/comment/13635631","id":"13635631","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sseth","name":"sseth","key":"sseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siddharth Seth","active":true,"timeZone":"America/Los_Angeles"},"body":"MiniMRClientClusterFactory should be used instead of using MiniMRCluster or MiniMRYarnCluster.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sseth","name":"sseth","key":"sseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siddharth Seth","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-18T20:18:29.987+0000","updated":"2013-04-18T20:18:29.987+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-5165/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1jufb:"}}