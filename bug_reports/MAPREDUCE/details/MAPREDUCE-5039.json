{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12634791","self":"https://issues.apache.org/jira/rest/api/2/issue/12634791","key":"MAPREDUCE-5039","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-03-01T11:26:10.496+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Mar 05 05:43:58 UTC 2013","customfield_12310420":"315284","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-5039/watchers","watchCount":4,"isWatching":false},"created":"2013-03-01T11:00:03.000+0000","customfield_12310192":"Using Hadoop: hadoop-2.0.0-mr1-cdh4.1.2","customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":216000,"aggregatetimeoriginalestimate":216000,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12318883","id":"12318883","description":"0.23.1 - Performance release","name":"0.23.1","archived":false,"released":true,"releaseDate":"2012-02-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-03-05T05:43:58.711+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313273","id":"12313273","name":"contrib/vaidya","description":"Hadoop-Vaidya is a rule based performance diagnostic tool for MapReduce jobs"}],"timeoriginalestimate":216000,"description":"when we run the vaidya scrpit in hadoop-2.0.0-mr1-cdh4.1.2.\n\nException:java.lang.NumberFormatException: For input string: \"0.05\"java.lang.NumberFormatException: For input string: \"0.05\"\nat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\nat java.lang.Integer.parseInt(Integer.java:458)\nat java.lang.Integer.parseInt(Integer.java:499)\nat org.apache.hadoop.conf.Configuration.getInt(Configuration.java:887)\nat org.apache.hadoop.vaidya.postexdiagnosis.tests.MapSideDiskSpill.getPrescription(MapSideDiskSpill.java:99)\nat org.apache.hadoop.vaidya.DiagnosticTest.getReportElement(DiagnosticTest.java:283)\nat org.apache.hadoop.vaidya.postexdiagnosis.PostExPerformanceDiagnoser.main(PostExPerformanceDiagnoser.java:254)\n\nIn the job conf file\nthe properties are like\n\n<property><name>mapred.reduce.slowstart.completed.maps</name><value>0.05</value><source>mapred-default.xml</source><source>/tmp/hadoop-527022/mapred/local/jobTracker/job_201302121643_0003.xml</source></property>\n\n<property><name>io.sort.record.percent</name><value>0.05</value><source>mapred-default.xml</source><source>/tmp/hadoop-527022/mapred/local/jobTracker/job_201302121643_0003.xml</source></property>\n\n<property><name>io.sort.spill.percent</name><value>0.80</value><source>mapred-default.xml</source><source>/tmp/hadoop-527022/mapred/local/jobTracker/job_201302121643_0003.xml</source></property>\n\nall the above lines throw the exception.\n\nThe important thing is default values for the above properties are 0.05 and 0.8 \n\nBut the getInt() Function takes only integer values, if not it takes only the integer part.\nIn Hadoop io.sort.spill.percent,io.sort.record.percent,mapred.reduce.slowstart.completed.maps are expressed as Floating Point Numbers.\n\n\n","customfield_10010":null,"timetracking":{"originalEstimate":"60h","remainingEstimate":"60h","originalEstimateSeconds":216000,"remainingEstimateSeconds":216000},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":216000,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"315628","customfield_12312823":null,"summary":"Configuration getInt is called From vaidya, but it actually need a float calculation(The values always be a Floating Poin Number)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shobin.joseph%40tcs.com","name":"shobin.joseph@tcs.com","key":"shobin.joseph@tcs.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"shobin joseph","active":true,"timeZone":"Australia/Sydney"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shobin.joseph%40tcs.com","name":"shobin.joseph@tcs.com","key":"shobin.joseph@tcs.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"shobin joseph","active":true,"timeZone":"Australia/Sydney"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":216000,"percent":0},"customfield_12311024":null,"environment":"hadoop-2.0.0-mr1-cdh4.1.2, Ubuntu 10.04","customfield_12313520":null,"customfield_12311020":null,"duedate":"2013-03-01","customfield_12310250":null,"progress":{"progress":0,"total":216000,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12634791/comment/13590423","id":"13590423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shobin.joseph%40tcs.com","name":"shobin.joseph@tcs.com","key":"shobin.joseph@tcs.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"shobin joseph","active":true,"timeZone":"Australia/Sydney"},"body":"The bug is raised from the direction of [~qwertymaniac] related to https://issues.apache.org/jira/browse/HADOOP-2081","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shobin.joseph%40tcs.com","name":"shobin.joseph@tcs.com","key":"shobin.joseph@tcs.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"shobin joseph","active":true,"timeZone":"Australia/Sydney"},"created":"2013-03-01T11:02:25.625+0000","updated":"2013-03-01T11:02:25.625+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12634791/comment/13590436","id":"13590436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks shobin. I see trunk still has vaidya sources but perhaps not in active build (it doesn't appear to be mavenized). I am not sure if it is still maintained. However, any improvement patches are still welcome.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-03-01T11:26:10.496+0000","updated":"2013-03-01T11:26:10.496+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12634791/comment/13592100","id":"13592100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shobin.joseph%40tcs.com","name":"shobin.joseph@tcs.com","key":"shobin.joseph@tcs.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"shobin joseph","active":true,"timeZone":"Australia/Sydney"},"body":"[~qwertymaniac] I couldn't see the code in the svn trunk. Can you please let me know the url  of the trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shobin.joseph%40tcs.com","name":"shobin.joseph@tcs.com","key":"shobin.joseph@tcs.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"shobin joseph","active":true,"timeZone":"Australia/Sydney"},"created":"2013-03-04T10:18:19.902+0000","updated":"2013-03-04T10:18:19.902+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12634791/comment/13593092","id":"13593092","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"I seem to have looked at a past Apache release's src/ directory when posting that, instead of the current trunk. You are correct that vaidya is no longer maintained/available on trunk and is probably shelved.\n\nWhat version are you looking at a fix for? What version of Hadoop are you using Vaidya with?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-03-05T05:43:58.711+0000","updated":"2013-03-05T05:43:58.711+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-5039/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1iemf:"}}