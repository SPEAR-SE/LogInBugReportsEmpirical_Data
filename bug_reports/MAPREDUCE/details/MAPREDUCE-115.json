{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12402620","self":"https://issues.apache.org/jira/rest/api/2/issue/12402620","key":"MAPREDUCE-115","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2008-08-20T15:29:13.146+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 24 08:23:16 UTC 2010","customfield_12310420":"148514","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_27887769548_*|*_5_*:*_2_*:*_35918841909_*|*_4_*:*_1_*:*_3886437","customfield_12312321":null,"resolutiondate":"2010-08-27T23:31:55.819+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-115/watchers","watchCount":5,"isWatching":false},"created":"2008-08-19T10:23:37.925+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314205","id":"12314205","description":"","name":"0.20.2","archived":false,"released":true,"releaseDate":"2010-02-16"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-09-24T08:23:16.328+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"The following is the log -- Map tasks are unable to locate the spill files when they are doing the final merge (mergeParts). \n\njava.io.FileNotFoundException: File /xxx/mapred-tt/mapred-local/taskTracker/jobcache/job_200808190959_0001/attempt_200808190959_0001_m_000000_0/output/spill23.out does not exist.\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:420)\n\tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:244)\n\tat org.apache.hadoop.fs.FileSystem.getContentSummary(FileSystem.java:682)\n\tat org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSInputChecker.getFileLength(ChecksumFileSystem.java:218)\n\tat org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSInputChecker.seek(ChecksumFileSystem.java:259)\n\tat org.apache.hadoop.fs.FSDataInputStream.seek(FSDataInputStream.java:37)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.mergeParts(MapTask.java:1102)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.flush(MapTask.java:769)\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:255)\n\tat org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:2208)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"108003","customfield_12312823":null,"summary":"Map tasks are receiving FileNotFound Exceptions for spill files on a regular basis and are getting killed","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12624026","id":"12624026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Saw something similar\n{noformat}\n08-08-20 15:00:04,983 INFO org.apache.hadoop.mapred.Merger: Merging 2 sorted segments\n2008-08-20 15:00:04,984 INFO org.apache.hadoop.mapred.Merger: Down to the last merge-pass, with 2 segments left of total size: 2391740 bytes\n2008-08-20 15:00:05,025 INFO org.apache.hadoop.mapred.MapTask: Index: (32617022, 2391738, 2391738)\n2008-08-20 15:00:21,204 WARN org.apache.hadoop.mapred.TaskRunner: Parent died.  Exiting attempt_20080820144820_0001_m_000264_0\n2008-08-20 15:00:22,466 WARN org.apache.hadoop.mapred.TaskTracker: Error running child\njava.io.FileNotFoundException: \n   File xxx/taskTracker/jobcache/job_20080820144820_0001/attempt_20080820144820_0001_m_000264_0/output/spill0.out does not exist.\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:420)\n\tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:244)\n\tat org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSInputChecker.<init>(ChecksumFileSystem.java:116)\n\tat org.apache.hadoop.fs.ChecksumFileSystem.open(ChecksumFileSystem.java:274)\n\tat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:357)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.mergeParts(MapTask.java:1101)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.flush(MapTask.java:769)\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:255)\n\tat org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:2318)\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-20T15:29:13.146+0000","updated":"2008-08-20T15:29:13.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12728509","id":"12728509","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"body":"Do not see this issue in the trunk any longer. Resolving this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-08T04:59:47.463+0000","updated":"2009-07-08T04:59:47.463+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12868472","id":"12868472","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=geoff_hendrey","name":"geoff_hendrey","key":"geoff_hendrey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"geoff hendrey","active":true,"timeZone":"Etc/UTC"},"body":"Most of my mappers are dying with this error. I am using Hadoop 20.2. Any suggestions for a work around?\n\n010-05-17 14:03:42,738 INFO org.apache.hadoop.mapred.Merger: Merging 22 sorted segments\n2010-05-17 14:03:43,099 WARN org.apache.hadoop.mapred.TaskTracker: Error running child\njava.io.FileNotFoundException: /hive4/mapred/local/taskTracker/jobcache/job_201005141621_0137/attempt_201005141621_0137_m_000000_0/output/spill15.out\n\tat org.apache.hadoop.fs.RawLocalFileSystem.open(RawLocalFileSystem.java:167)\n\tat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:356)\n\tat org.apache.hadoop.mapred.Merger$Segment.init(Merger.java:205)\n\tat org.apache.hadoop.mapred.Merger$Segment.access$100(Merger.java:165)\n\tat org.apache.hadoop.mapred.Merger$MergeQueue.merge(Merger.java:418)\n\tat org.apache.hadoop.mapred.Merger$MergeQueue.merge(Merger.java:381)\n\tat org.apache.hadoop.mapred.Merger.merge(Merger.java:77)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.mergeParts(MapTask.java:1522)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.flush(MapTask.java:1154)\n\tat org.apache.hadoop.mapred.MapTask$NewOutputCollector.close(MapTask.java:549)\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:623)\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)\n\tat org.apache.hadoop.mapred.Child.main(Child.java:170)\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=geoff_hendrey","name":"geoff_hendrey","key":"geoff_hendrey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"geoff hendrey","active":true,"timeZone":"Etc/UTC"},"created":"2010-05-18T00:58:56.189+0000","updated":"2010-05-18T00:58:56.189+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12903683","id":"12903683","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"re-opening. we are seeing this a lot on hadoop-20 (yahoo distribution):\n\n1. reducers not able to fetch map outputs because map side tasktracker cannot locate map output\n2. mappers not able to locate previously spilled data\n\nScott has added logging that is telling us that:\n- for #1. that the map output file was actually present/created at the time the map was first reported to be done\n- that we have not removed the mapoutput file (from the TT code path deleting the files) before the reducer fetch request came in\n\nso something very fishy - seems like either the files disappear in the interim - or that the localdirallocator is not being able to find things that are actually present. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-08-27T22:27:09.369+0000","updated":"2010-08-27T22:27:09.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12903711","id":"12903711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"my bad. i didn't realize that we have some new changes that are not reflected in trunk. this seems to be the most likely the result of those changes. closing again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-08-27T23:31:55.786+0000","updated":"2010-08-27T23:31:55.786+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12914086","id":"12914086","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcurdt","name":"tcurdt","key":"tcurdt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Torsten Curdt","active":true,"timeZone":"Europe/Berlin"},"body":"Seen the same thing on Amazon's Elastic Map Reduce (aka hadoop 0.2.x)\n\nTrying to narrow this down further.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcurdt","name":"tcurdt","key":"tcurdt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Torsten Curdt","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-23T16:25:26.403+0000","updated":"2010-09-23T16:25:26.403+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12402620/comment/12914379","id":"12914379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcurdt","name":"tcurdt","key":"tcurdt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Torsten Curdt","active":true,"timeZone":"Europe/Berlin"},"body":"We were able reproduce it with every job run. Now we switched from lzo to gz compression for the input and turned off intermediate compression and that worked.\n\nSo I am not sure this was (also - like another issue) related the lzo compression or because of a bug in the intermediate compression.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcurdt","name":"tcurdt","key":"tcurdt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Torsten Curdt","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-24T08:23:16.248+0000","updated":"2010-09-24T08:23:16.248+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-115/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0iuav:"}}