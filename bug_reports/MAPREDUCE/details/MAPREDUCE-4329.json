{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12559828","self":"https://issues.apache.org/jira/rest/api/2/issue/12559828","key":"MAPREDUCE-4329","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2012-06-08T13:52:41.949+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Aug 19 08:19:36 UTC 2012","customfield_12310420":"252678","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4329/watchers","watchCount":5,"isWatching":false},"created":"2012-06-08T10:56:27.791+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320250","id":"12320250","description":"maintenance release on branch-1.0","name":"1.0.3","archived":false,"released":true,"releaseDate":"2012-05-07"}],"issuelinks":[{"id":"12356798","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12356798","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12603976","key":"MAPREDUCE-4566","self":"https://issues.apache.org/jira/rest/api/2/issue/12603976","fields":{"summary":"security.job.task.protocol.acl should not be used","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12437482","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12437482","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12864129","key":"HADOOP-12413","self":"https://issues.apache.org/jira/rest/api/2/issue/12864129","fields":{"summary":"AccessControlList should avoid calling getGroupNames in isUserInList with empty groups.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-15T18:29:17.264+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313041","id":"12313041","name":"security"}],"timeoriginalestimate":null,"description":"On running MapReduce job, username is changed to jobid and the job fails.\nException is as follows:\n\n{code}\n2012-06-08 19:39:26,555 WARN org.apache.hadoop.security.ShellBasedUnixGroupsMapping: got exception trying to get groups for user job_201206081934_0002\norg.apache.hadoop.util.Shell$ExitCodeException: id: job_201206081934_0002: no such user\n\n        at org.apache.hadoop.util.Shell.runCommand(Shell.java:255)\n        at org.apache.hadoop.util.Shell.run(Shell.java:182)\n        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:375)\n        at org.apache.hadoop.util.Shell.execCommand(Shell.java:461)\n        at org.apache.hadoop.util.Shell.execCommand(Shell.java:444)\n        at org.apache.hadoop.security.ShellBasedUnixGroupsMapping.getUnixGroups(ShellBasedUnixGroupsMapping.java:68)\n        at org.apache.hadoop.security.ShellBasedUnixGroupsMapping.getGroups(ShellBasedUnixGroupsMapping.java:45)\n        at org.apache.hadoop.security.Groups.getGroups(Groups.java:79)\n        at org.apache.hadoop.security.UserGroupInformation.getGroupNames(UserGroupInformation.java:1026)\n        at org.apache.hadoop.security.authorize.AccessControlList.isUserAllowed(AccessControlList.java:141)\n        at org.apache.hadoop.security.authorize.ServiceAuthorizationManager.authorize(ServiceAuthorizationManager.java:99)\n        at org.apache.hadoop.ipc.Server.authorize(Server.java:1659)\n        at org.apache.hadoop.ipc.Server$Connection.authorizeConnection(Server.java:1320)\n        at org.apache.hadoop.ipc.Server$Connection.processOneRpc(Server.java:1286)\n        at org.apache.hadoop.ipc.Server$Connection.readAndProcess(Server.java:1182)\n        at org.apache.hadoop.ipc.Server$Listener.doRead(Server.java:537)\n        at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:344)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:680)\n{code}\n\nThis issue can be reproduced by following steps:\n\n1. set hadoop.security.authorization = true in core-site.xml\n\n{code}\n  <property>\n    <name>hadoop.security.authorization</name>\n    <value>true</value>\n  </property>\n{code}\n\n2. set any value except for '*' to security.task.umbilical.protocol.acl in hadoop-policy.xml\n\n{code}\n\n  <property>\n    <name>security.task.umbilical.protocol.acl</name>\n    <value>sho sho</value>\n    <description>ACL for TaskUmbilicalProtocol, used by the map and reduce \n    tasks to communicate with the parent tasktracker. \n    The ACL is a comma-separated list of user and group names. The user and \n    group list is separated by a blank. For e.g. \"alice,bob users,wheel\". \n    A special value of \"*\" means all users are allowed.</description>\n  </property>\n{code}\n\n3. run any mapreduce job.\n\n\nh4. Code Analysis\n\n./src/mapred/org/apache/hadoop/mapred/Child.java:102-118\n\n{code}\n    UserGroupInformation taskOwner \n     = UserGroupInformation.createRemoteUser(firstTaskid.getJobID().toString());\n    taskOwner.addToken(jt);\n    \n    // Set the credentials\n    defaultConf.setCredentials(credentials);\n    \n    final TaskUmbilicalProtocol umbilical = \n      taskOwner.doAs(new PrivilegedExceptionAction<TaskUmbilicalProtocol>() {\n        @Override\n        public TaskUmbilicalProtocol run() throws Exception {\n          return (TaskUmbilicalProtocol)RPC.getProxy(TaskUmbilicalProtocol.class,\n              TaskUmbilicalProtocol.versionID,\n              address,\n              defaultConf);\n        }\n    });\n{code}\n\n\nThis code indicates that TaskUmbilicalProtocol uses jobid as username.\nThis code came from MAPREDUCE-1457. \nhttps://issues.apache.org/jira/browse/MAPREDUCE-1457\n\nDevaraj said as follows in the JIRA:\n\n{quote}\n2) In Child.java, the task authenticates to the TaskTracker using the jobtoken. The username in the jobtoken is jobId. The doAs block done using taskOwner is required so that the username mentioned in the token and the one doing the operation matches.\n{quote}\n\nWe can't change security.task.umbilical.protocol.acl and should always be '*' .\nTaskUmbilicalProtocol should be removed from MapReducePolicyProvider to disable security.task.umbilical.protocol.acl.\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12532327","id":"12532327","filename":"MAPREDUCE-4329.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-06-17T07:29:42.639+0000","size":4670,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12532327/MAPREDUCE-4329.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12532326","id":"12532326","filename":"MAPREDUCE-4329.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-06-17T06:28:24.428+0000","size":4531,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12532326/MAPREDUCE-4329.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74113","customfield_12312823":null,"summary":"security.task.umbilical.protocol.acl should not be configurable","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13291745","id":"13291745","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"body":"Removing TaskUmbilicalProtocol from MapReducePolicyProvider doesn't work.\n\n{code}\n2012-06-08 21:32:32.527 java[9886:1903] Unable to load realm info from SCDynamicStore\nException in thread \"main\" org.apache.hadoop.ipc.RemoteException: Protocol interface org.apache.hadoop.mapred.TaskUmbilicalProtocol is not known.\n        at org.apache.hadoop.ipc.Client.call(Client.java:1070)\n        at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)\n        at $Proxy1.getProtocolVersion(Unknown Source)\n        at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)\n        at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:370)\n        at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:420)\n        at org.apache.hadoop.mapred.Child$1.run(Child.java:113)\n        at org.apache.hadoop.mapred.Child$1.run(Child.java:110)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:396)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1132)\n        at org.apache.hadoop.mapred.Child.main(Child.java:109)\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-06-08T12:36:44.646+0000","updated":"2012-06-08T12:36:44.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13291781","id":"13291781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"I think removing its config from the docs/default policy files (if that works) or documenting that this should never be changed from '*' should be good enough. We should let it exist in the policy set (as its supposed to be a complete list).\n\nThe real problem is that users may change this/care about changing it, which is a wrong thing to do.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-08T13:52:41.949+0000","updated":"2012-06-08T13:52:41.949+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13393462","id":"13393462","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"body":"This patch removes the acl property from hadoop-policy.xml and docs, but doesn't remove the property itself from code.\nI wrote comment in MapReducePolicyProvider which registers TaskUmbilicalProtocol as a Service.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-06-17T06:28:24.477+0000","updated":"2012-06-17T06:28:24.477+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13393476","id":"13393476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks Sho. Patch looks good, just one comment (about the comment):\n\n{code}\n+       * Since TaskUmbilicalProtocol always uses job ID as username, setting\n+       * specific user/group to security.task.umbilical.protocol.acl doesn't\n+       * work. This property was removed from hadoop-policy.xml in\n+       * MAPREDUCE-4329 but the property itself still works because we cannot\n+       * remove the following code.\n{code}\n\nI think the following may be better, what are your thoughts?\n\n{code}\nSince TaskUmbilicalProtocol uses the job ID (of the task that uses it, hence dynamic) as its identifier, due to the security implementation, setting specific users/groups in security.task.umbilical.protocol.acl has no effect other than breaking jobs. This should never be configured to anything apart from '*', and hence MAPREDUCE-4329 removes it from the docs but this line remains to not break the protocol provider.\n{code}\n\nAlso, is this issue present with MR2 ACLs too Sho? Or let me know if you'd like me to investigate that instead. We can do with a supplementary patch (Trunk first, branch-1 afterwards).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-17T06:59:59.912+0000","updated":"2012-06-17T06:59:59.912+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13393480","id":"13393480","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"body":"Thanks for reviewing the patch!\nYeah your comment makes makes more sense, so I'll update the patch to replace the old comment to yours.\n\n\nThis property was set as deprecated in MAPREDUCE-2746 so I don't think there is nothing to do for trunk.\n\n{code}\n    Configuration.addDeprecation(\"security.task.umbilical.protocol.acl\", \n        new String[] {\n        MRJobConfig.MR_AM_SECURITY_SERVICE_AUTHORIZATION_TASK_UMBILICAL   \n    });\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-06-17T07:24:38.124+0000","updated":"2012-06-17T07:24:38.124+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13393482","id":"13393482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"body":"replace the comment on MapReducePolicyProvider to Harsh's one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-06-17T07:29:42.744+0000","updated":"2012-06-17T07:29:42.744+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13404587","id":"13404587","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"Patch looks good for branch-1. +1.\n\nHowever, before we commit it in, I'd like to double-check trunk/branch-2 states. MAPREDUCE-2746 merely deprecated the old name into a new name, but please grep the new name and if you find it documented anywhere, please remove the same.\n\nIf none of the new style AM names aren't documented anywhere, then please file a new JIRA to have them documented for trunk/branch-2 (where AMs exist), and we can ensure there (in the description) to not document MR_AM_SECURITY_SERVICE_AUTHORIZATION_TASK_UMBILICAL specifically, for the same reason. Thereby we cover trunk as well as the 1.x maintenance branch.\n\nDoes this make sense Sho? Please let us know what you find! :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-06-30T17:50:35.170+0000","updated":"2012-06-30T17:50:35.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559828/comment/13437476","id":"13437476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"body":"Thanks for advice, Harsh.\nIn trunk, MR_AM_SECURITY_SERVICE_AUTHORIZATION_TASK_UMBILICAL is used only in MRAMPolicyProvider class.\n\n{code:java}\n  private static final Service[] mapReduceApplicationMasterServices = \n      new Service[] {\n    new Service(\n        MRJobConfig.MR_AM_SECURITY_SERVICE_AUTHORIZATION_TASK_UMBILICAL,\n        TaskUmbilicalProtocol.class),\n    new Service(\n        MRJobConfig.MR_AM_SECURITY_SERVICE_AUTHORIZATION_CLIENT,\n        MRClientProtocolPB.class)\n  };\n{code}\n\nI found the new property \"security.job.task.protocol.acl\" is documented in hadoop-policy.xml.\nI'll file a new JIRA and do the same way with trunk. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sho.shimauchi","name":"sho.shimauchi","key":"sho.shimauchi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sho Shimauchi","active":true,"timeZone":"Asia/Tokyo"},"created":"2012-08-19T08:19:36.475+0000","updated":"2012-08-19T08:19:36.475+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4329/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d22v:"}}