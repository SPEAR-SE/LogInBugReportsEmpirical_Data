{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12512916","self":"https://issues.apache.org/jira/rest/api/2/issue/12512916","key":"MAPREDUCE-2645","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-07-06T06:06:06.830+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jul 07 13:46:16 UTC 2011","customfield_12310420":"44081","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_126681242_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-07-07T13:02:36.198+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2645/watchers","watchCount":0,"isWatching":false},"created":"2011-07-06T01:51:14.983+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-07-07T13:46:17.810+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314301","id":"12314301","name":"mrv2","description":"MR-279: Map Reduce Next."}],"timeoriginalestimate":null,"description":"There are a few issues w/the current INSTALL document for MRv2 that I came across when I attempted to get it running:\n\n1) Correct the mvn arg for skipping tests,\n2) Add a step to start the yarn historyserver,\n3) Add instructions to explicitly build the examples jar file and specify the mapreduce.clientfactory.class.name parameter correctly for MRv2.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12485474","id":"12485474","filename":"MAPREDUCE-2645.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-06T18:17:54.278+0000","size":4166,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12485474/MAPREDUCE-2645.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"52594","customfield_12312823":null,"summary":"Updates to MRv2 INSTALL documentation","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13060312","id":"13060312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Josh,\n\n-Dtest.skip=true skips tests altogether, even compilcation. -Dmaven.test.skip.exec=true OTOH will compile them at the least. I guess we can differentiate these?\n\nI just did a review of the current INSTALL doc to cover anything else that is missing. Some more points I'd like get added:\n - Required version for Protobuf library is proto 2.4.0 and above. I found that the compilation gets broken with 2.3 erring on the option \"java_generate_equals_and_hash\" as unknown.\n - Before starting NM, we should set HADOOP_HDFS_HOME specifically. Without HDFS_HDFS_HOME, NM fails localization.\n - For launching MR jobs, we also need these configured in yarn-site.xml\n   <property>\n    <name>nodemanager.auxiluary.services</name>\n    <value>mapreduce.shuffle</value>\n   </property>\n\n   <property>\n    <name>nodemanager.aux.service.mapreduce.shuffle.class</name>\n    <value>org.apache.hadoop.mapred.ShuffleHandler</value>\n   </property>\n\nWhen you try to run with security enabled, you will need more settings, but that's for later :)\n\nThanks for looking into this!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-06T06:06:06.830+0000","updated":"2011-07-06T06:06:06.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13060549","id":"13060549","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Yikes, just realised there is a README too in the yarn directory.\n\nbq. Required version for Protobuf library is proto 2.4.0 and above. I found that the compilation gets broken with 2.3 erring on the option \"java_generate_equals_and_hash\" as unknown.\nWe can drop my comment above, the README is clear about this.\n\nWill be glad if we can make the changes in the README file too.\n - Maven plugin is no longer needed to be installed separately. We can knock those steps off.\n - The entire section under \"General instructions for starting Yarn and MapReduce\" is stale and better explained by the instructions in the INSTALL file, it can be dumped altogether.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-06T13:05:18.226+0000","updated":"2011-07-06T13:05:18.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13060734","id":"13060734","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"body":"INSTALL doc fixes, yarn/README fixes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-06T18:17:54.320+0000","updated":"2011-07-06T18:17:54.320+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13060736","id":"13060736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the review Vinod- that was very helpful to me. I added the changes to the README file that you suggested. A couple of replies to your other comments:\n\n1) Re: HADOOP_HDFS_HOME, the need to set it explicitly is in Step 8 of the INSTALL file.\n2) Re: ShuffleHandler, is that only true for mapred.*-based mapreduces, or mapreduce.* based ones as well?\n\nThanks again!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-06T18:20:24.168+0000","updated":"2011-07-06T18:20:24.168+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13061268","id":"13061268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. 2) Re: ShuffleHandler, is that only true for mapred.-based mapreduces, or mapreduce. based ones as well?\nMapreduce is a user land library now and so ShuffleHandler has to specially configured on the NMs to be able to run mapreduce jobs which also have reduces.\n\nRegarding the config item, yes it points to org.apache.hadoop.mapred.ShuffleHandler and not to mapreduce.\n\nNever mind anyways. I made the change myself.\n\nI noted that the earlier patch is missing. Did you remove it by chance? The custom around here is that we keep uploading updated patches without deleting the older ones - serves as a history of the development :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-07T13:01:16.977+0000","updated":"2011-07-07T13:01:16.977+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13061271","id":"13061271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this. Thanks Josh!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-07T13:02:36.206+0000","updated":"2011-07-07T13:02:36.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512916/comment/13061305","id":"13061305","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"body":"On Thu, Jul 7, 2011 at 6:02 AM, Vinod Kumar Vavilapalli (JIRA) <\n\n\nThanks man. :)\n\n\nCool- yeah, I didn't realize that. Will do going forward.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwills","name":"jwills","key":"jwills","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jwills&avatarId=15651","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jwills&avatarId=15651","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jwills&avatarId=15651","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jwills&avatarId=15651"},"displayName":"Josh Wills","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-07T13:46:16.842+0000","updated":"2011-07-07T13:46:16.842+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2645/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i09dc7:"}}