{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12479311","self":"https://issues.apache.org/jira/rest/api/2/issue/12479311","key":"MAPREDUCE-2177","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2010-11-08T01:16:48.943+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jun 07 15:15:24 UTC 2011","customfield_12310420":"71818","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2177/watchers","watchCount":5,"isWatching":false},"created":"2010-11-07T00:57:39.505+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314205","id":"12314205","description":"","name":"0.20.2","archived":false,"released":true,"releaseDate":"2010-02-16"}],"issuelinks":[{"id":"12334732","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12334732","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12479979","key":"MAPREDUCE-2187","self":"https://issues.apache.org/jira/rest/api/2/issue/12479979","fields":{"summary":"map tasks timeout during sorting","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-06-07T15:15:24.148+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312906","id":"12312906","name":"tasktracker"}],"timeoriginalestimate":null,"description":"We sometimes saw maptask timeout in cdh3b2. Here is log from one of the maptasks:\n\n2010-11-04 10:34:23,820 INFO org.apache.hadoop.mapred.MapTask: Spilling map output: buffer full= true\n2010-11-04 10:34:23,820 INFO org.apache.hadoop.mapred.MapTask: bufstart = 119534169; bufend = 59763857; bufvoid = 298844160\n\n2010-11-04 10:34:23,820 INFO org.apache.hadoop.mapred.MapTask: kvstart = 438913; kvend = 585320; length = 983040\n2010-11-04 10:34:41,615 INFO org.apache.hadoop.mapred.MapTask: Finished spill 3\n2010-11-04 10:35:45,352 INFO org.apache.hadoop.mapred.MapTask: Spilling map output: buffer full= true\n\n2010-11-04 10:35:45,547 INFO org.apache.hadoop.mapred.MapTask: bufstart = 59763857; bufend = 298837899; bufvoid = 298844160\n2010-11-04 10:35:45,547 INFO org.apache.hadoop.mapred.MapTask: kvstart = 585320; kvend = 731585; length = 983040\n\n2010-11-04 10:45:41,289 INFO org.apache.hadoop.mapred.MapTask: Finished spill 4\n\nNote how long the last spill took.\n\nIn MapTask.java, the following code waits for spill to finish:\nwhile (kvstart != kvend) { reporter.progress(); spillDone.await(); }\n\nIn trunk code, code is similar.\n\nThere is no timeout mechanism for Condition.await(). In case the SpillThread takes long before calling spillDone.signal(), we would see timeout.\nCondition.awaitNanos(long nanosTimeout) should be called.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"81036","customfield_12312823":null,"summary":"The wait for spill completion should call Condition.awaitNanos(long nanosTimeout)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929423","id":"12929423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"It is forced to block because the buffer is full. Returning from collect without serializing the emitted record would be an error, as would serializing the record over data allocated to the spill. Changing the call as you suggest would affect correctness, unless you're arguing that the task should fail if the spill takes more than some set amount of time. If the task timeout is killing the task, then it's working as designed, and equivalently to the proposed mechanism.\n\nThere are many reasons the spill could take a long time. Running with a combiner, using a non-{{RawComparator}}, spilling to a failing/slow disk, etc. It's possible you're seeing a race condition that causes the collection thread to miss the signal, but the fix would not be to add a timeout to the wait, but to fix the locking. Can you get a stack trace from a map task stuck in this state? If the job is rerun over the same data, do the same tasks hang? Do the timeouts occur on particular machines? Does the task succeed on later attempts on different machines?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-11-08T01:16:48.943+0000","updated":"2010-11-08T01:16:48.943+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929427","id":"12929427","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Chris, I think Ted's point is not that it should return after a timeout, but that it should call reporter.progress and then go back to waiting. This seems valid - if the mapper thread is blocked because the buffer is full, either the buffer spill thread should be calling progress() as it spills the buffer to disk, or the blocked thread should periodically unblock to call progress(), don't you think?\n\nI think so long as the spiller is actually making some progress getting bytes to disk, it shouldn't cause a task failure - this kind of \"alive but very slow\" scenario is supposed to be handled by speculation rather than suicide :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2010-11-08T01:40:46.307+0000","updated":"2010-11-08T01:40:46.307+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929444","id":"12929444","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"body":"SpillThread doesn't currently have reference to TaskReporter.\nIt is easier to use short timeout for spillDone.awaitNanos() so that Buffer.write() can call progress().","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"created":"2010-11-08T03:31:54.049+0000","updated":"2010-11-08T03:31:54.049+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929512","id":"12929512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}SpillThread doesn't currently have reference to TaskReporter.\nIt is easier to use short timeout for spillDone.awaitNanos() so that Buffer.write() can call progress().{quote}\n\nThat prevents the task from being killed, but its semantics are incorrect. Todd's suggestion- calling progress() during the merge- at least ensures that the task is doing work; reporting progress from a thread that isn't actually proceeding is broken. Isn't progress already reported during the merge? Can you provide more detail on the environment where you're observing this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-11-08T09:02:54.648+0000","updated":"2010-11-08T09:02:54.648+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929619","id":"12929619","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"bq.  calling progress() during the merge- at least ensures that the task is doing work; reporting progress from a thread that isn't actually proceeding is broken. Isn't progress already reported during the merge? Can you provide more detail on the environment where you're observing this?\n\nChris, we've seen this at Y! too, this might just be a bug in progress reporting during the merge.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-11-08T16:26:30.231+0000","updated":"2010-11-08T16:26:30.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929638","id":"12929638","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"body":"I didn't capture stack trace of MapTask when this happened - will do next time.\n\nWe can add call to reporter.progress() in sortAndSpill()\nBut since we don't know how long each call to writer.append() / combinerRunner.combine() would take, there is no guarantee that we can prevent this issue from happening.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"created":"2010-11-08T17:37:58.038+0000","updated":"2010-11-08T17:37:58.038+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929648","id":"12929648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"body":"The occurrence in our cluster may have something to do with the fact that we run HBase region server alongside task tracker.\n\nReporting progress from a thread that isn't blocked by long write to disk or combiner call is one option. We can put some limit on the total amount of time spillDone.awaitNanos() calls take in the following loop:\n                while (kvstart != kvend) {\n                  reporter.progress();\n                  spillDone.awaitNanos();\n                }\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"created":"2010-11-08T18:00:58.679+0000","updated":"2010-11-08T18:00:58.679+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929747","id":"12929747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"The progress reporting during the merge is not on every record emitted. For jobs with combiners that emit far fewer records than they consume, it's possible that the framework fails to report progress, though (1) IIRC it reports at least once for every partition and (2) that wouldn't explain why the job is taking so much longer for a particular spill.\n\nAdding some reporting in the reader could make sense, but we could use more information. Adding progress reporting only to prevent the job from being killed may be the wrong fix.\n\nbq. But since we don't know how long each call to writer.append() / combinerRunner.combine() would take, there is no guarantee that we can prevent this issue from happening.\n\nIf the task is stuck, then it should be killed. I agree that the timeout mechanism's granularity is too coarse to measure all progress, but the overhead of measuring every event is too high to be the default.\n\nbq. Reporting progress from a thread that isn't blocked by long write to disk or combiner call is one option. We can put some limit on the total amount of time spillDone.awaitNanos() calls take in the following loop:\n\nAgain, _that_ thread isn't making progress. It shouldn't prevent the task from getting killed if the merge is truly stuck.\n\nTed, please provide some details on the job you're running (w/ combiner? do reexecutions succeed? does this happen on particular machines? do other tasks complete normally while another is in this state?).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-11-08T21:37:10.143+0000","updated":"2010-11-08T21:37:10.143+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12929861","id":"12929861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"body":"When this issue appears again, I will collect more details.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ted_yu","name":"ted_yu","key":"ted_yu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Yu","active":true,"timeZone":"Etc/UTC"},"created":"2010-11-09T01:05:58.356+0000","updated":"2010-11-09T01:05:58.356+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/12932267","id":"12932267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vicaya","name":"vicaya","key":"vicaya","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luke Lu","active":true,"timeZone":"America/Los_Angeles"},"body":"The combiner code path doesn't report progress at some configured interval, so it can timeout when map output is large. The right fix is probably in CombineOutputCollector#collect to report progress a la Merger#writeFile.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vicaya","name":"vicaya","key":"vicaya","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Luke Lu","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-11-15T23:59:18.286+0000","updated":"2010-11-15T23:59:18.286+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12479311/comment/13045471","id":"13045471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anupamseth","name":"anupamseth","key":"anupamseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anupam Seth","active":true,"timeZone":"America/Chicago"},"body":"Found MAPREDUCE-2187 to be more closely related to the fix I was intending (though this seems closely related per the previous comment), so putting back original description and revoking ownership.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anupamseth","name":"anupamseth","key":"anupamseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anupam Seth","active":true,"timeZone":"America/Chicago"},"created":"2011-06-07T15:15:24.116+0000","updated":"2011-06-07T15:15:24.116+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2177/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0e7v3:"}}