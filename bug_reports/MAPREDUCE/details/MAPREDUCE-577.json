{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12397384","self":"https://issues.apache.org/jira/rest/api/2/issue/12397384","key":"MAPREDUCE-577","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314184","id":"12314184","description":"","name":"0.22.0","archived":false,"released":true,"releaseDate":"2011-12-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-06-14T08:48:17.364+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Aug 15 21:48:48 UTC 2013","customfield_12310420":"148906","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_966687774_*|*_1_*:*_3_*:*_64855069738_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-07-05T10:43:17.681+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-577/watchers","watchCount":10,"isWatching":false},"created":"2008-06-03T14:54:00.169+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"10.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-08-15T21:48:48.089+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312905","id":"12312905","name":"contrib/streaming"}],"timeoriginalestimate":null,"description":"I have an XML file with 93626 rows.  A row is marked by <row>...</row>.\n\nI've confirmed this with grep and the Grep example program included with HADOOP.\n\nHere is the grep example output.  93626\t<row>\n\nI've setup my job configuration as follows:   \n\nconf.set(\"stream.recordreader.class\", \"org.apache.hadoop.streaming.StreamXmlRecordReader\");\nconf.set(\"stream.recordreader.begin\", \"<row>\");\nconf.set(\"stream.recordreader.end\", \"</row>\");\n\nconf.setInputFormat(StreamInputFormat.class);\n\nI have a fairly simple test Mapper.\n\nHere's the map method.\n\n  public void map(Text key, Text value, OutputCollector<Text, IntWritable> output, Reporter reporter) throws IOException {\n        try {\n\n            output.collect(totalWord, one);\n\n            if (key != null && key.toString().indexOf(\"01852\") != -1) {\n                output.collect(new Text(\"01852\"), one);\n            }\n\n        } catch (Exception ex) {\n            Logger.getLogger(TestMapper.class.getName()).log(Level.SEVERE, null, ex);\n            System.out.println(value);\n        }\n\n    }\n\nFor totalWord (\"TOTAL\"), I get:\n\nTOTAL\t140850\n\nand for 01852 I get.\n\n01852\t86\n\nThere are 43 instances of 01852 in the file.\n\nI have the following setting in my config.  \n\n   conf.setNumMapTasks(1);\n\nI have a total of six machines in my cluster.\n\nIf I run without this, the result is 12x the actual value, not 2x.\n\nHere's some info from the cluster web page.\n\nMaps\tReduces\tTotal Submissions\tNodes\tMap Task Capacity\tReduce Task Capacity\tAvg. Tasks/Node\n0\t0\t1\t6\t12\t12\t4.00\n\nI've also noticed something really strange in the job's output.  It looks like it's starting over or redoing things.\nThis was run using all six nodes and no limitations on map or reduce tasks.  I haven't seen this behavior in any other case.\n\n08/06/03 10:50:35 INFO mapred.FileInputFormat: Total input paths to process : 1\n08/06/03 10:50:36 INFO mapred.JobClient: Running job: job_200806030916_0018\n08/06/03 10:50:37 INFO mapred.JobClient:  map 0% reduce 0%\n08/06/03 10:50:42 INFO mapred.JobClient:  map 2% reduce 0%\n08/06/03 10:50:45 INFO mapred.JobClient:  map 12% reduce 0%\n08/06/03 10:50:47 INFO mapred.JobClient:  map 31% reduce 0%\n08/06/03 10:50:48 INFO mapred.JobClient:  map 49% reduce 0%\n08/06/03 10:50:49 INFO mapred.JobClient:  map 68% reduce 0%\n08/06/03 10:50:50 INFO mapred.JobClient:  map 100% reduce 0%\n08/06/03 10:50:54 INFO mapred.JobClient:  map 87% reduce 0%\n08/06/03 10:50:55 INFO mapred.JobClient:  map 100% reduce 0%\n08/06/03 10:50:56 INFO mapred.JobClient:  map 0% reduce 0%\n08/06/03 10:51:00 INFO mapred.JobClient:  map 0% reduce 1%\n08/06/03 10:51:05 INFO mapred.JobClient:  map 28% reduce 2%\n08/06/03 10:51:07 INFO mapred.JobClient:  map 80% reduce 4%\n08/06/03 10:51:08 INFO mapred.JobClient:  map 100% reduce 4%\n08/06/03 10:51:09 INFO mapred.JobClient:  map 100% reduce 7%\n08/06/03 10:51:10 INFO mapred.JobClient:  map 90% reduce 9%\n08/06/03 10:51:11 INFO mapred.JobClient:  map 100% reduce 9%\n08/06/03 10:51:12 INFO mapred.JobClient:  map 100% reduce 11%\n08/06/03 10:51:13 INFO mapred.JobClient:  map 90% reduce 11%\n08/06/03 10:51:14 INFO mapred.JobClient:  map 97% reduce 11%\n08/06/03 10:51:15 INFO mapred.JobClient:  map 63% reduce 11%\n08/06/03 10:51:16 INFO mapred.JobClient:  map 48% reduce 11%\n08/06/03 10:51:17 INFO mapred.JobClient:  map 21% reduce 11%\n08/06/03 10:51:19 INFO mapred.JobClient:  map 0% reduce 11%\n08/06/03 10:51:20 INFO mapred.JobClient:  map 15% reduce 12%\n08/06/03 10:51:21 INFO mapred.JobClient:  map 27% reduce 13%\n08/06/03 10:51:22 INFO mapred.JobClient:  map 67% reduce 13%\n08/06/03 10:51:24 INFO mapred.JobClient:  map 22% reduce 16%\n08/06/03 10:51:25 INFO mapred.JobClient:  map 46% reduce 16%\n08/06/03 10:51:26 INFO mapred.JobClient:  map 70% reduce 16%\n08/06/03 10:51:27 INFO mapred.JobClient:  map 73% reduce 18%\n08/06/03 10:51:28 INFO mapred.JobClient:  map 85% reduce 19%\n08/06/03 10:51:29 INFO mapred.JobClient:  map 7% reduce 19%\n08/06/03 10:51:32 INFO mapred.JobClient:  map 100% reduce 20%\n08/06/03 10:51:35 INFO mapred.JobClient:  map 100% reduce 22%\n08/06/03 10:51:37 INFO mapred.JobClient:  map 100% reduce 23%\n08/06/03 10:51:38 INFO mapred.JobClient:  map 100% reduce 46%\n08/06/03 10:51:39 INFO mapred.JobClient:  map 100% reduce 58%\n08/06/03 10:51:40 INFO mapred.JobClient:  map 100% reduce 80%\n08/06/03 10:51:42 INFO mapred.JobClient:  map 100% reduce 90%\n08/06/03 10:51:43 INFO mapred.JobClient:  map 100% reduce 100%\n08/06/03 10:51:44 INFO mapred.JobClient: Job complete: job_200806030916_0018\n08/06/03 10:51:44 INFO mapred.JobClient: Counters: 17\n08/06/03 10:51:44 INFO mapred.JobClient:   File Systems\n08/06/03 10:51:44 INFO mapred.JobClient:     Local bytes read=1705\n08/06/03 10:51:44 INFO mapred.JobClient:     Local bytes written=29782\n08/06/03 10:51:44 INFO mapred.JobClient:     HDFS bytes read=1366064660\n08/06/03 10:51:44 INFO mapred.JobClient:     HDFS bytes written=23\n08/06/03 10:51:44 INFO mapred.JobClient:   Job Counters \n08/06/03 10:51:44 INFO mapred.JobClient:     Launched map tasks=37\n08/06/03 10:51:44 INFO mapred.JobClient:     Launched reduce tasks=10\n08/06/03 10:51:44 INFO mapred.JobClient:     Data-local map tasks=22\n08/06/03 10:51:44 INFO mapred.JobClient:     Rack-local map tasks=15\n08/06/03 10:51:44 INFO mapred.JobClient:   Map-Reduce Framework\n08/06/03 10:51:44 INFO mapred.JobClient:     Map input records=942105\n08/06/03 10:51:44 INFO mapred.JobClient:     Map output records=942621\n08/06/03 10:51:44 INFO mapred.JobClient:     Map input bytes=1365761556\n08/06/03 10:51:44 INFO mapred.JobClient:     Map output bytes=9426210\n08/06/03 10:51:44 INFO mapred.JobClient:     Combine input records=942621\n08/06/03 10:51:44 INFO mapred.JobClient:     Combine output records=49\n08/06/03 10:51:44 INFO mapred.JobClient:     Reduce input groups=2\n08/06/03 10:51:44 INFO mapred.JobClient:     Reduce input records=49\n08/06/03 10:51:44 INFO mapred.JobClient:     Reduce output records=2\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12385055","id":"12385055","filename":"0001-test-to-demonstrate-HADOOP-3484.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T21:57:19.541+0000","size":4196,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12385055/0001-test-to-demonstrate-HADOOP-3484.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12385056","id":"12385056","filename":"0002-patch-for-HADOOP-3484.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T21:57:49.883+0000","size":1032,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12385056/0002-patch-for-HADOOP-3484.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12447596","id":"12447596","filename":"577.20S.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-21T11:41:21.044+0000","size":9338,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12447596/577.20S.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12447449","id":"12447449","filename":"577.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-18T10:26:56.682+0000","size":8288,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12447449/577.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12447674","id":"12447674","filename":"577.v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-22T08:09:28.885+0000","size":9579,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12447674/577.v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12448201","id":"12448201","filename":"577.v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-28T11:47:18.424+0000","size":7194,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12448201/577.v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12448380","id":"12448380","filename":"577.v3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-30T06:18:18.286+0000","size":12219,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12448380/577.v3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12448668","id":"12448668","filename":"577.v4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-05T05:31:42.285+0000","size":9128,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12448668/577.v4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12385066","id":"12385066","filename":"HADOOP-3484.combined.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T23:01:13.764+0000","size":5214,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12385066/HADOOP-3484.combined.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12386506","id":"12386506","filename":"HADOOP-3484.try3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-21T08:31:52.200+0000","size":30248,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12386506/HADOOP-3484.try3.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"107900","customfield_12312823":null,"summary":"Duplicate Mapper input when using StreamXmlRecordReader","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=camda03","name":"camda03","key":"camda03","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Campbell","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=camda03","name":"camda03","key":"camda03","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Campbell","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"HADOOP 0.17.0, Java 6.0","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12605050","id":"12605050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"I ran into a similar problem while trying to debug/implement support for compressed input files.  I believe that the problem is in StreamXmlRecordReader.java in the fast-match code.  When the bytestream doesn't completely match the begin/end pattern, the code does \"pos_ += m\" to increment the position in the stream by the number of  characters matching the pattern... but it forgets the \"c\" character which didn't match.  Ultimately, the code ends up reading significantly past the end of the split, resulting in the same record (at least the first one right after the split) being detected by multiple StreamXmlRecordReader instances.\n\nThe fix is simple.  The line mentioned above should be: pos_ += m + 1;\n\nI'm planning to submit this and my gzip-support as soon as I can figure out how to submit a patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-14T08:48:17.364+0000","updated":"2008-06-14T08:48:17.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12605053","id":"12605053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=camda03","name":"camda03","key":"camda03","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Campbell","active":true,"timeZone":"Etc/UTC"},"body":"Great job!\n\nI'm sure a lot of people (definitely including me) will be pleased to see that get fixed!\n\nThanks!\n\nDave\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=camda03","name":"camda03","key":"camda03","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Campbell","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-14T09:38:45.806+0000","updated":"2008-06-14T09:38:45.806+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12609724","id":"12609724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Here is a patch to create a test case that demonstrates the problem. In my personal testing, it was very easy to run into the problem, but I had to tweak the block size to trigger the error in the junit tests.\n\n(sorry about the duplicate comment)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T21:57:19.569+0000","updated":"2008-07-01T21:57:19.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12609725","id":"12609725","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Here is the patch that fixes the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T21:57:49.932+0000","updated":"2008-07-01T21:57:49.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12609733","id":"12609733","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12385056/0002-patch-for-HADOOP-3484.patch\n  against trunk revision 673215.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2777/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T22:06:56.772+0000","updated":"2008-07-01T22:06:56.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12609741","id":"12609741","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Combined patches and used \"--no-prefix\" to strip the leading directory names.\n\nThis patch includes both the test and the fix in a single file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-01T23:01:13.802+0000","updated":"2008-07-01T23:01:13.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12611355","id":"12611355","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lohit","name":"lohit","key":"lohit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lohit Vijayarenu","active":true,"timeZone":"America/Los_Angeles"},"body":"Bo, This looks good. \nFew minor changes.\n- Test depends on perl. In testcase, would it be possible to check perl and terminate if there isnt on system running this, else it might be difficult to find the test failure.\n- Could we move the testcase to already existing test file TestStreamXmlRecordReader.java instead of creating a new one?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lohit","name":"lohit","key":"lohit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lohit Vijayarenu","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-07-07T21:20:23.728+0000","updated":"2008-07-07T21:20:23.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12613049","id":"12613049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wmchen","name":"wmchen","key":"wmchen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wei-Ming Chen","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\n\nI also found the missing \"+1\" bug a few days ago. However, there are still duplicates even if the proposed patch (pos_ += m + 1) is applied. \n\nThe duplicates happen when the assigned split boundary (end_) is between an end tag and another beginning tag (for example, there are several newlines between two records). In this case, after reading the last record in this split, the pos_ is still smaller than end_. Therefore, the reader will continue trying to find another beginning tag which may actually resides in another split. In this case, both splits will return the record, causing duplicates.\n\nIn addition, the pos_ variable does not present the real position in the situation that there are additional bytes between records, even if the proposed patch is applied. This is because pos_ is only updated when trying to find the end tag. If there are several bytes skipped during the process of finding the beginning tag and the pos_ is not updated, the position will be wrong.\n\nMy solution should be able to solve the two problems. If you agree with me and think my solution works, feel free to use my code. I willl be glad if the problem gets fixed in the next release.\n\n{code:title=StreamXmlRecordReader.java|borderStyle=solid}\n\n  boolean fastReadUntilMatch(String textPat, boolean includePat, DataOutputBuffer outBufOrNull) throws IOException {\n    byte[] cpat = textPat.getBytes(\"UTF-8\");\n    int m = 0;\n    boolean match = false;\n    int msup = cpat.length;\n    int LL = 120000 * 10;\n\n    bin_.mark(LL); // large number to invalidate mark\n    while (true) {\n      int b = bin_.read();\n      if (b == -1) break;\n\n      byte c = (byte) b; // this assumes eight-bit matching. OK with UTF-8\n      if (c == cpat[m]) {\n        m++;\n        if (m == msup) {\n          match = true;\n          break;\n        }\n      } else {\n        bin_.mark(LL); // rest mark so we could jump back if we found a match\n        if (outBufOrNull != null) {\n          outBufOrNull.write(cpat, 0, m);\n          outBufOrNull.write(c);\n-         pos_ += m;\n+         pos_ += m + 1;\n+       } else {\n+         pos_ += m + 1;\n+         if (pos_ >= end_)\n+           break;\n        }\n        m = 0;\n      }\n    }\n    if (!includePat && match) {\n      bin_.reset();\n    } else if (outBufOrNull != null) {\n      outBufOrNull.write(cpat);\n      pos_ += msup;\n    }\n    return match;\n  }\n{code} \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wmchen","name":"wmchen","key":"wmchen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wei-Ming Chen","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-12T04:32:45.135+0000","updated":"2008-07-12T04:32:45.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12613238","id":"12613238","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Hmm, yeah, that seems plausible.\n\nUnfortunately, I'm working on a paper deadline, so I won't get to this for another week.  But I think there's something still wrong here.  This new change assumes that we want to stop reading at the split boundary, but that's not true.  If the split boundary falls in the middle of a record, then the preceding split needs to go past the boundary to \"see\" the whole record.  Additionally, this only fixes the fast match, but I'm thinking (haven't checked) that a similar issue exists with the slow match... so this check needs to happen in next(), not inside the match routines.\n\nI think that means we should have a few more test cases, to check all these variations.  Lohit: I was hoping someone else would take up the charge of doing \"the right thing\" with my patches.   :)   I can certainly take a stab at creating new tests for Wei-Ming's case and merging all these new tests into TestStreamXmlReacord.java, if no one beats me to it.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-14T04:49:43.489+0000","updated":"2008-07-14T04:49:43.489+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12613368","id":"12613368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wmchen","name":"wmchen","key":"wmchen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wei-Ming Chen","active":true,"timeZone":"Etc/UTC"},"body":"My solution should stop reading only when trying to find a beginning tag. When it tries to find an end tag, the outBufOrNull will not be null and the boundary-checking code will not be reached. Therefore, the whole record can be returned. However, all these assume outBufOrNull can be used to discern whether it's trying to find a beginning tag or an end tag.\n\nI have not checked the slow match either. However, if the boundary-checking can be done inside the match function, it should help some performance improvement.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wmchen","name":"wmchen","key":"wmchen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wei-Ming Chen","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-14T16:51:07.815+0000","updated":"2008-07-14T16:51:07.815+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12615142","id":"12615142","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Ah, okay, I see what you're doing.  I agree that the performance would be slightly faster inside the match function.  But I also feel like the code will be harder to maintain, because this \"check for split boundary\" has to happen in both slow and fast match cases.\n\nOn the issue of test cases: I managed to create a test case that demonstrates the bug that Wei-Ming addresses, but I'm having a problem combining the test cases into a single file.  When I do that, the tests pass -- as if a single jobconf was being used for all the tests.  Any ideas on what I might be doing wrong?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-21T02:51:25.568+0000","updated":"2008-07-21T02:51:25.568+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12615159","id":"12615159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Turns out that the problem is with org.apache.hadoop.fs.FileSystem.  There is a cache object inside of it, which remembers the LocalFileSystem that is created; even though I set \"-jobconf fs.local.block.size=xx\" in subsequent jobs, the original object is kept so the override doesn't happen.\n\nThere is a FileSystem.closeAll() method, which seems to erase the cache.  I tried calling this at the end of each job, so that the LocalFileSystem is recreated with the new blocksize (I have three blocksizes that I test).  This works the first time, but not the second, so that the third blocksize is the same as the second.  At this point, I'd say that the easiest way forward is to have a separate file for each test, since I need to change the blocksize to elicit the two errors.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-21T07:04:43.466+0000","updated":"2008-07-21T07:04:43.466+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12615165","id":"12615165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"body":"Here is my latest patch that implements tests demonstrating the problem, and how I think it should be fixed (including the info from Wei-Ming).  I did not implement the early-quit discussed above, but it's easy to do for the person doing the actual commit.\n\nThe tests are done as separate files, to avoid the FileSystem caching that I mentioned earlier.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thumper","name":"thumper","key":"thumper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bo Adler","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-21T08:31:52.218+0000","updated":"2008-07-21T08:31:52.218+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12694744","id":"12694744","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdcryans","name":"jdcryans","key":"jdcryans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Daniel Cryans","active":true,"timeZone":"America/Los_Angeles"},"body":"I've just tried the fix described by Wei-Ching in it's July 11 post to process the wikipedia articles dump and it works perfectly (instead of having maps not ending even tho they are at 1600%). This really should be committed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdcryans","name":"jdcryans","key":"jdcryans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Daniel Cryans","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-04-01T21:08:55.752+0000","updated":"2009-04-01T21:08:55.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12729411","id":"12729411","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pdlug","name":"pdlug","key":"pdlug","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Dlug","active":true,"timeZone":"Etc/UTC"},"body":"This problem still exists in 0.20.0, I was also successful in applying Wei-Ching's fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pdlug","name":"pdlug","key":"pdlug","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Dlug","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-09T20:56:23.381+0000","updated":"2009-07-09T20:56:23.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12753029","id":"12753029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"Is the latest patch the one with the desired fix? If so then please mark \"Patch Available\" to run it through Hudson, otherwise please post up a new patch first. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2009-09-09T11:06:57.993+0000","updated":"2009-09-09T11:06:57.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12880154","id":"12880154","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Attaching patch for trunk. This patch is same as the earlier patch HADOOP-3484.try3.patch except fixing TestStreamXmlMultiInner.java to have fs.local.block.size=59 instead of 80 sothat the testcase fails without the fix of this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-18T10:26:56.776+0000","updated":"2010-06-18T10:26:56.776+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12880159","id":"12880159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Looks like the testcase TestStreamXmlMultiOuter is failing in trunk but passing in 0.20. Will investigate.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-18T10:52:37.031+0000","updated":"2010-06-18T10:52:37.031+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12880790","id":"12880790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"It was an issue in input to testcases. The perl scripts seem to be depending on the number of occurences of the word \"is\". My earlier patch changed the input --- causing the testcase failure.\n\nHere is the patch for Y! 20S distribution with the correct input to testcases. Both testcases passed on my local machine in Y! 20S with patch and fail without the fix of this patch.\n----------------------\n\nSame patch has an issue in trunk. Number of splits seem to be 1 in TestStreamXmlMultiInner.java even though fs.local.block.size=59. Will investigate.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-21T11:41:21.132+0000","updated":"2010-06-21T11:41:21.132+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12881122","id":"12881122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"In trunk, testcases were not picking the block size because in TestStreaming(the base class of the 2 tests of this patch) is creating input file by creating FileSystem object. As we were setting the config fs.local.block.size later, it is not effective for the FileSystem --- causing single split in both tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-22T07:57:39.337+0000","updated":"2010-06-22T07:57:39.337+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12881125","id":"12881125","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Attaching patch for trunk by fixing the testcases so that the configuration used when FileSystem object is created will have fs.local.block.size set to the proper value needed.\n\nBoth testcases fail without the fix of the patch and pass with the fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-22T08:09:29.024+0000","updated":"2010-06-22T08:09:29.024+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12882070","id":"12882070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"Some comments on testcases:\n1. Can you put both the tests into single file?\n2. Both the tests look similar except changes in input and some configuration parameters. Can you re-use the code in tests by passing them as parameters?\n3. Minor: Can you put perl script for mapper and reducer in String and use it?\n4. Minor: In UtilsForTest, change LOG(..., StringUtils.StringifyException(e)) to LOG(..., e).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-06-24T06:44:57.264+0000","updated":"2010-06-24T06:44:57.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12883113","id":"12883113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Attaching new patch incorporating review comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-28T11:47:18.525+0000","updated":"2010-06-28T11:47:18.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12883114","id":"12883114","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"This patch is on top of patch of MAPREDUCE-1888 because test cases are refactored in MAPREDUCE-1888.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-28T11:48:53.083+0000","updated":"2010-06-28T11:48:53.083+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12883507","id":"12883507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"After merging, the file system block size is not updated properly. So adding FileSystem.closeAll() call at the begimning of each test case. Will upload a patch soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-29T10:53:43.455+0000","updated":"2010-06-29T10:53:43.455+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12883801","id":"12883801","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Attaching new patch fixing the issue with FileSystem block size setting using FileSystem.closeAll() in the test cases. With this, the block size is properly set to 60, 80, 60 and 80 in the 4 test cases respectively.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-30T06:18:18.361+0000","updated":"2010-06-30T06:18:18.361+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12883874","id":"12883874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12448380/577.v3.patch\n  against trunk revision 959193.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 14 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/275/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/275/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/275/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/275/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-30T10:18:25.288+0000","updated":"2010-06-30T10:18:25.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12885109","id":"12885109","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Some code changes to test cases done in this patch have gone in MAPREDUCE-1888. So regenerating this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-05T05:31:42.370+0000","updated":"2010-07-05T05:31:42.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12885163","id":"12885163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12448668/577.v4.patch\n  against trunk revision 960446.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 8 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/285/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/285/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/285/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h4.grid.sp2.yahoo.net/285/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-05T10:05:16.600+0000","updated":"2010-07-05T10:05:16.600+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12885173","id":"12885173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"body":"Contrib test failed is because of MAPREDUCE-1834.\nAll other tests passed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ravidotg","name":"ravidotg","key":"ravidotg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ravi Gummadi","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-05T10:30:33.672+0000","updated":"2010-07-05T10:30:33.672+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12885175","id":"12885175","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"+1\n\nI just committed this. Thanks Ravi!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-07-05T10:43:17.569+0000","updated":"2010-07-05T10:43:17.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12885404","id":"12885404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks Bo Alder for the earlier patches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-07-06T03:33:36.771+0000","updated":"2010-07-06T03:33:36.771+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/12926075","id":"12926075","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Mapreduce-trunk-Commit #523 (See [https://hudson.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/523/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-29T02:03:33.656+0000","updated":"2010-10-29T02:03:33.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/13447568","id":"13447568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mingjin","name":"mingjin","key":"mingjin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ming Jin","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi everyone,\n\nI found the exact same issue in Hadoop v1.0.3(http://fossies.org/dox/hadoop-1.0.3/StreamXmlRecordReader_8java_source.html). \n\nIs there any plan to fix it in v1.0.3?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mingjin","name":"mingjin","key":"mingjin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ming Jin","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-09-04T08:58:08.631+0000","updated":"2012-09-04T08:58:08.631+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/13582426","id":"13582426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmobarry","name":"cmobarry","key":"cmobarry","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Clark Mobarry","active":true,"timeZone":"America/New_York"},"body":"I found the exact same issue in Hadoop v2.0.0 (via Cloudera CDH 4.1.2.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmobarry","name":"cmobarry","key":"cmobarry","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Clark Mobarry","active":true,"timeZone":"America/New_York"},"created":"2013-02-20T19:10:01.631+0000","updated":"2013-02-20T19:10:01.631+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/13582457","id":"13582457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmobarry","name":"cmobarry","key":"cmobarry","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Clark Mobarry","active":true,"timeZone":"America/New_York"},"body":"I found the exact same issue in Hadoop 0.20.2 via Cloudera CDH 4.1.2 MRv1.  I did not attempt this with MRv2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmobarry","name":"cmobarry","key":"cmobarry","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Clark Mobarry","active":true,"timeZone":"America/New_York"},"created":"2013-02-20T19:37:31.480+0000","updated":"2013-02-20T19:37:31.480+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397384/comment/13741530","id":"13741530","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pflaquerre","name":"pflaquerre","key":"pflaquerre","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pierre-Francois Laquerre","active":true,"timeZone":"America/New_York"},"body":"This is still broken in 1.1.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pflaquerre","name":"pflaquerre","key":"pflaquerre","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pierre-Francois Laquerre","active":true,"timeZone":"America/New_York"},"created":"2013-08-15T21:48:48.089+0000","updated":"2013-08-15T21:48:48.089+0000"}],"maxResults":37,"total":37,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-577/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0itnz:"}}