{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12601649","self":"https://issues.apache.org/jira/rest/api/2/issue/12601649","key":"MAPREDUCE-4522","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-09-24T16:37:13.646+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 25 04:58:10 UTC 2016","customfield_12310420":"253823","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4522/watchers","watchCount":7,"isWatching":false},"created":"2012-08-07T01:48:32.550+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["newbie"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316391","id":"12316391","description":"Merge append/sync support with security","name":"0.20.205.0","archived":false,"released":true,"releaseDate":"2011-10-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-07-25T04:58:10.063+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313272","id":"12313272","name":"task-controller","description":"TaskController"}],"timeoriginalestimate":null,"description":"In DBRecordWriter#close(), progress is never updated. In large batch inserts, this can cause the reduce task to time out due to the amount of time it takes the SQL engine to process that insert. \n\nPotential solutions I can see:\nDon't batch inserts; do the insert when DBRecordWriter#write() is called (awful)\nSpin up a thread in DBRecordWriter#close() and update progress in that. (gross)\n\nI can provide code for either if you're interested. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12792970","id":"12792970","filename":"MAPREDUCE-4522.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-12T21:02:10.349+0000","size":4205,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12792970/MAPREDUCE-4522.001.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"80649","customfield_12312823":null,"summary":"DBOutputFormat Times out on large batch inserts","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarusn","name":"jarusn","key":"jarusn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Jarus","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarusn","name":"jarusn","key":"jarusn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Jarus","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/14906610","id":"14906610","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=neelesh77","name":"neelesh77","key":"neelesh77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=neelesh77&avatarId=24299","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neelesh77&avatarId=24299","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neelesh77&avatarId=24299","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neelesh77&avatarId=24299"},"displayName":"Neelesh Srinivas Salian","active":true,"timeZone":"America/Dawson"},"body":"[~jarusn], is this still an issue? Would you have time to look at this and provide a patch?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=neelesh77","name":"neelesh77","key":"neelesh77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=neelesh77&avatarId=24299","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neelesh77&avatarId=24299","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neelesh77&avatarId=24299","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neelesh77&avatarId=24299"},"displayName":"Neelesh Srinivas Salian","active":true,"timeZone":"America/Dawson"},"created":"2015-09-24T16:37:13.646+0000","updated":"2015-09-24T16:37:13.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15170675","id":"15170675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"Re-posting to all users\n\nI am a newbie and this is my first post here. I looked at the issue and code and I want to propose another solution.\nWe could accumulate the keys in DBRecordWriter#write() into a collection and in DBRecordWriter#close() we could do a batch insert of 500 or 1000 keys in single batch. This is not ideal, but might help with large inserts and update the progress.\nI would like to provide a patch if this solution is acceptable.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-27T18:11:16.462+0000","updated":"2016-02-27T18:11:16.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15170730","id":"15170730","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"on my local , I made the change and tested org.apache.hadoop.examples.DBCountPageView.java . The example ran fine and I didn't see the exception in verify() method. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-27T21:53:31.992+0000","updated":"2016-02-27T21:53:31.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15171436","id":"15171436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shyam_gav] sounds reasonable. I'm thinking to make the batch size configurable. Could you tackle this issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-02-29T05:50:55.826+0000","updated":"2016-02-29T05:50:55.826+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15172182","id":"15172182","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"Yes, I can make the batch size configurable. I will work on it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-29T17:21:34.397+0000","updated":"2016-02-29T17:21:34.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15173166","id":"15173166","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"[~ozawa] I made the configuration change. Added a property  in mapred-default.xml \n<property>\n  <name>mapreduce.output.dboutputformat.batch-size</name>\n  <value>1000</value>\n  <description>The batch size of SQL statements that will be executed before reporting progress. Default is 1000</description>\n</property>\n\nAdded a constant in MRJobConfig.java - public static final String MR_DBOUTPUTFORMAT_BATCH_SIZE=\"mapreduce.output.dboutputformat.batch-size\";\n\nLet me know if this good and I will create a patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-01T03:18:01.288+0000","updated":"2016-03-01T03:18:01.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15173168","id":"15173168","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"I also tested it by running org.apache.hadoop.examples.DBCountPageView.java and I didn't see any exceptions and the test was successful. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-01T03:19:55.548+0000","updated":"2016-03-01T03:19:55.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15179088","id":"15179088","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shyam_gav] thank you for updating. MR_DBOUTPUTFORMAT_BATCH_SIZE is DBInputFormat specific configuration. Please add  the configuraition to MR_DBOUTPUTFORMAT_BATCH_SIZE instead of MRJobConfig. After addressing the comment, could you attach the patch to jira?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-04T01:13:59.524+0000","updated":"2016-03-04T01:13:59.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15179395","id":"15179395","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"body":"In addition to the above comment, MR_DBOUTPUTFORMAT_BATCH_SIZE should be renamed as MR_DB_OUTPUT_FORMAT_BATCH_SIZE.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-04T06:01:16.672+0000","updated":"2016-03-04T06:01:16.672+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15180056","id":"15180056","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"[~ozawa] can you please clarify \" Please add the configuraition to MR_DBOUTPUTFORMAT_BATCH_SIZE instead of MRJobConfig\" . I will rename the MR_DBOUTPUTFORMAT_BATCH_SIZE to MR_DB_OUTPUTFORMAT_BATCH_SIZE","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-04T16:01:19.120+0000","updated":"2016-03-04T16:01:19.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15182035","id":"15182035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shyam_gav] Thank you for the question. That's my mistake: Correctly: \"Please add the configuraition, MR_DBOUTPUTFORMAT_BATCH_SIZE, to DBOutputFormat  class instead of MRJobConfig\". ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-06T07:42:01.274+0000","updated":"2016-03-06T07:42:01.274+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15191821","id":"15191821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"I made the changes and applied the patch. Please review ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-12T20:47:51.880+0000","updated":"2016-03-12T20:47:51.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15191827","id":"15191827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"body":"Submitting for code review before submitting the patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shyam_gav","name":"shyam_gav","key":"shyam_gav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shyam Gavulla","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-12T21:06:56.203+0000","updated":"2016-03-12T21:06:56.203+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15390946","id":"15390946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~shyam_gav], submitting a patch just triggers a pre-commit build with unit tests. You don't need a code review to click 'submit patch'.\n\nI'll let a MapReduce/YARN dev take a look at the actual patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arpitagarwal","name":"arpitagarwal","key":"arpitagarwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arpit Agarwal","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-24T05:33:32.504+0000","updated":"2016-07-24T05:33:32.504+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15390952","id":"15390952","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 19s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red} 0m 0s {color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 8m 42s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 34s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 21s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 39s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 17s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 3s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 29s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 31s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 0m 28s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 0m 28s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 20s {color} | {color:red} hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core: The patch generated 6 new + 8 unchanged - 0 fixed = 14 total (was 8) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 34s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch 1 line(s) with tabs. {color} |\n| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 2s {color} | {color:green} The patch has no ill-formed XML file. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 13s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 23s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 29s {color} | {color:green} hadoop-mapreduce-client-core in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 18s {color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 19m 46s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:9560f25 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12792970/MAPREDUCE-4522.001.patch |\n| JIRA Issue | MAPREDUCE-4522 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  xml  |\n| uname | Linux 119cdff07048 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 7052ca8 |\n| Default Java | 1.8.0_91 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6639/artifact/patchprocess/diff-checkstyle-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6639/artifact/patchprocess/whitespace-tabs.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6639/testReport/ |\n| modules | C: hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core U: hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6639/console |\n| Powered by | Apache Yetus 0.3.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-07-24T05:59:48.638+0000","updated":"2016-07-24T05:59:48.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601649/comment/15391345","id":"15391345","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shyam_gav] Thanks for updating and sorry for my delay. Following lines exceeds 80LOC, so could you fix them?\n\n{quote}\n+          List<List<K>> subLists = Lists.partition(records, context.getConfiguration().getInt(MR_DB_OUTPUTFORMAT_BATCH_SIZE,1000));\n{quote}\n\n{quote}\n+  public static final String MR_DB_OUTPUTFORMAT_BATCH_SIZE=\"mapreduce.output.dboutputformat.batch-size\";\n{quote}\n\n{quote}\n+  <description>The batch size of SQL statements that will be executed before reporting progress. Default is 1000</description>\n\n{quote}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-25T04:58:10.063+0000","updated":"2016-07-25T04:58:10.063+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4522/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0e5h3:"}}