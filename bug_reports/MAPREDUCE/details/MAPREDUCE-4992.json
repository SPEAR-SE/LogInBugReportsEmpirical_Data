{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12631457","self":"https://issues.apache.org/jira/rest/api/2/issue/12631457","key":"MAPREDUCE-4992","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323954","id":"12323954","description":"0.23.7 release","name":"0.23.7","archived":false,"released":true,"releaseDate":"2013-04-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324032","id":"12324032","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-02-11T21:50:44.533+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Mar 29 15:40:14 UTC 2013","customfield_12310420":"311953","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_40026660_*|*_1_*:*_2_*:*_347850102_*|*_5_*:*_2_*:*_2555122579_*|*_4_*:*_1_*:*_1294433047","customfield_12312321":null,"resolutiondate":"2013-03-29T15:40:13.989+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4992/watchers","watchCount":6,"isWatching":false},"created":"2013-02-08T14:36:21.626+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12322471","id":"12322471","description":"2.0.2-alpha release","name":"2.0.2-alpha","archived":false,"released":true,"releaseDate":"2012-10-09"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12323502","id":"12323502","description":"0.23.6 release","name":"0.23.6","archived":false,"released":true,"releaseDate":"2013-02-06"}],"issuelinks":[{"id":"12365932","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12365932","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12637619","key":"MAPREDUCE-5079","self":"https://issues.apache.org/jira/rest/api/2/issue/12637619","fields":{"summary":"Recovery should restore task state from job history info directly","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12364330","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12364330","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12632134","key":"MAPREDUCE-5003","self":"https://issues.apache.org/jira/rest/api/2/issue/12632134","fields":{"summary":"AM recovery should recreate records for attempts that were incomplete","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-10T04:30:47.529+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315342","id":"12315342","name":"mr-am"}],"timeoriginalestimate":null,"description":"A job hung in the Recovery Service on an AM restart. There were four map tasks events that were not processed and that prevented the complete task count from reaching zero which exits the recovery service. All four tasks were speculative","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324032","id":"12324032","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324140","id":"12324140","description":"0.23.8 release","name":"0.23.8","archived":false,"released":true,"releaseDate":"2013-06-05"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12568892","id":"12568892","filename":"MAPREDUCE-4992v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"created":"2013-02-11T21:24:58.320+0000","size":14856,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12568892/MAPREDUCE-4992v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12568916","id":"12568916","filename":"MAPREDUCE-4992v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"created":"2013-02-12T01:23:56.973+0000","size":15276,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12568916/MAPREDUCE-4992v2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"312299","customfield_12312823":null,"summary":"AM hangs in RecoveryService when recovering tasks with speculative attempts","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13576136","id":"13576136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"body":"Added code to identify all the completed task attempts in the JobHistory parser and then removed incomplete task attempts from the completed tasks identified in the recovery service. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"created":"2013-02-11T21:24:21.849+0000","updated":"2013-02-11T21:24:21.849+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13576159","id":"13576159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12568892/MAPREDUCE-4992v1.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:red}-1 eclipse:eclipse{color}.  The patch failed to build with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3326//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3326//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-11T21:50:44.533+0000","updated":"2013-02-11T21:50:44.533+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13576195","id":"13576195","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"This approach looks OK for the short-term.  I'm not thrilled about the idea of explicitly losing information on task attempts that happened to not complete, as it will be odd in the history of the recovered AM to see a map task with a single attempt that ends in _1 or _2 instead of _0.  If this goes in we should file a follow-up JIRA to fix recovery so attempts that were \"in-flight\" when the AM crashed are at least documented in some way on the subsequent AM (e.g.: we mark them as KILLED or something, but at least the user can see what nodes they ran on and what time they were launched).\n\nThere is one thing I'd like to see fixed in the patch.  When we're iterating the taskAttempts in the {{taskInfo}} and filtering out attempts that didn't complete, we should walk and remove entries using an iterator rather than reaching around and calling {{remove}} on the map.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2013-02-11T23:00:50.055+0000","updated":"2013-02-11T23:00:50.055+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13576277","id":"13576277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"body":"Thanks for the review Jason.  I incorporated the iterator to remove the entries, which is a much better approach.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robsparker","name":"robsparker","key":"robsparker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robsparker&avatarId=15639","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robsparker&avatarId=15639","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robsparker&avatarId=15639","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robsparker&avatarId=15639"},"displayName":"Robert Parker","active":true,"timeZone":"America/Chicago"},"created":"2013-02-12T01:23:56.976+0000","updated":"2013-02-12T01:23:56.976+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13576786","id":"13576786","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12568916/MAPREDUCE-4992v2.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3328//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3328//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-12T17:10:11.040+0000","updated":"2013-02-12T17:10:11.040+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577284","id":"13577284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"+1 lgtm.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2013-02-13T02:10:26.516+0000","updated":"2013-02-13T02:10:26.516+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577289","id":"13577289","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"Thanks, Robert!  I committed this to trunk, branch-2, and branch-0.23.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2013-02-13T02:20:58.372+0000","updated":"2013-02-13T02:20:58.372+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577292","id":"13577292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk-Commit #3350 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3350/])\n    MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker (Revision 1445456)\n\n     Result = SUCCESS\njlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1445456\nFiles : \n* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/recover/RecoveryService.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/TestRecovery.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobHistoryParser.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-13T02:27:49.576+0000","updated":"2013-02-13T02:27:49.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577481","id":"13577481","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Yarn-trunk #126 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/126/])\n    MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker (Revision 1445456)\n\n     Result = SUCCESS\njlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1445456\nFiles : \n* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/recover/RecoveryService.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/TestRecovery.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobHistoryParser.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-13T10:47:48.199+0000","updated":"2013-02-13T10:47:48.199+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577528","id":"13577528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Hdfs-0.23-Build #524 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/524/])\n    svn merge -c 1445456 FIXES: MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker (Revision 1445458)\n\n     Result = SUCCESS\njlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1445458\nFiles : \n* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt\n* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/recover/RecoveryService.java\n* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/TestRecovery.java\n* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobHistoryParser.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-13T12:48:58.115+0000","updated":"2013-02-13T12:48:58.115+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577534","id":"13577534","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Hdfs-trunk #1315 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1315/])\n    MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker (Revision 1445456)\n\n     Result = FAILURE\njlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1445456\nFiles : \n* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/recover/RecoveryService.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/TestRecovery.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobHistoryParser.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-13T13:04:47.324+0000","updated":"2013-02-13T13:04:47.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13577576","id":"13577576","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Mapreduce-trunk #1343 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1343/])\n    MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker (Revision 1445456)\n\n     Result = FAILURE\njlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1445456\nFiles : \n* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/recover/RecoveryService.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/TestRecovery.java\n* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobHistoryParser.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-13T14:05:19.755+0000","updated":"2013-02-13T14:05:19.755+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13602370","id":"13602370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"This is still occurring in a number of ways:\n\n* If the task attempt that succeeded was attempt 1 but there is no completion event in the history file for attempt 0, it recovers only attempt 0 but is waiting for attempt 1 to complete.\n* If two task attempts succeed simultaneously it only recovers attempt 0 but is waiting for attempt 1 to complete.\n* If the prior AM attempt was backed up in event processing and launched speculative task attempts *after* a task attempt completed then it ends up waiting on them but they were never launched.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2013-03-14T16:06:20.958+0000","updated":"2013-03-14T16:06:20.958+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631457/comment/13617442","id":"13617442","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tgraves","name":"tgraves","key":"tgraves","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Graves","active":true,"timeZone":"America/Chicago"},"body":"resolving this as its committed. The additional work is being done under MAPREDUCE-5079","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tgraves","name":"tgraves","key":"tgraves","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Graves","active":true,"timeZone":"America/Chicago"},"created":"2013-03-29T15:40:14.010+0000","updated":"2013-03-29T15:40:14.010+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4992/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1hu2f:"}}