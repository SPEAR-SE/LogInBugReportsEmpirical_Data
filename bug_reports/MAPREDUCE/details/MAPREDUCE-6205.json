{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12763628","self":"https://issues.apache.org/jira/rest/api/2/issue/12763628","key":"MAPREDUCE-6205","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2014-12-24T05:46:57.694+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jan 08 00:28:55 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-6205/watchers","watchCount":6,"isWatching":false},"created":"2014-12-24T04:40:06.886+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":["BB2015-05-TBR"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12404226","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12404226","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12640889","key":"MAPREDUCE-5130","self":"https://issues.apache.org/jira/rest/api/2/issue/12640889","fields":{"summary":"Add missing job config options to mapred-default.xml","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-05-06T03:27:20.575+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314301","id":"12314301","name":"mrv2","description":"MR-279: Map Reduce Next."}],"timeoriginalestimate":null,"description":"In current hadoop code, the old property \"mapred.child.java.opts\" is deprecated and its new versions are MRJobConfig.MAP_JAVA_OPTS and MRJobConfig.REDUCE_JAVA_OPTS. However, when user set a value to the deprecated property \"mapred.child.java.opts\", hadoop won't automatically update its new versions properties MRJobConfig.MAP_JAVA_OPTS(\"mapreduce.map.java.opts\") and MRJobConfig.REDUCE_JAVA_OPTS(\"mapreduce.reduce.java.opts\"). As hadoop will update the new version properties for many other deprecated properties, we also should support such feature on the old property \"mapred.child.java.opts\", otherwise it might bring some imcompatible issues.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12690653","id":"12690653","filename":"MAPREDUCE-6205.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-07T23:13:46.973+0000","size":15595,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12690653/MAPREDUCE-6205.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12689020","id":"12689020","filename":"MAPREDUCE-6205.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-24T09:18:23.682+0000","size":3535,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12689020/MAPREDUCE-6205.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12688990","id":"12688990","filename":"MAPREDUCE-6205.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-24T04:46:51.349+0000","size":1842,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12688990/MAPREDUCE-6205.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Update the value of the new version properties of the deprecated property \"mapred.child.java.opts\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14257956","id":"14257956","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Unlike many other deprecated properties, the old property \"mapred.child.java.opts\" does not only has one new version property, but has two new version properties: MRJobConfig.MAP_JAVA_OPTS, MRJobConfig.REDUCE_JAVA_OPTS. So we should add a new function Configuration#DeprecationDelta(String key, String[] newKeys) to support it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-24T04:46:51.357+0000","updated":"2014-12-24T04:46:51.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14257958","id":"14257958","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"If we only set value \"-Xms32m -Xmx1G\" to the deprecated property \"mapred.child.java.opts\" before MR job execution:\n- Without this patch, during map/reduce tasks execution, we can NOT get correct value of MRJobConfig.MAP_JAVA_OPTS and MRJobConfig.REDUCE_JAVA_OPTS, but get null value:\nMAPRED_TASK_JAVA_OPTS=-Xms32m -Xmx1G\nMRJobConfig.MAP_JAVA_OPTS=null\nMRJobConfig.REDUCE_JAVA_OPTS=null\n\n- With this patch, during map/reduce tasks execution, we can get correct value of them:\nMAPRED_TASK_JAVA_OPTS=-Xms32m -Xmx1G\nMRJobConfig.MAP_JAVA_OPTS=-Xms32m -Xmx1G\nMRJobConfig.REDUCE_JAVA_OPTS=-Xms32m -Xmx1G","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-24T04:49:02.083+0000","updated":"2014-12-24T04:49:02.083+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14257997","id":"14257997","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12688990/MAPREDUCE-6205.patch\n  against trunk revision 41a548a.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:red}-1 findbugs{color}.  The patch appears to introduce 16 new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core:\n\n                  org.apache.hadoop.mapred.TestJobConf\n\nTest results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5090//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5090//artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html\nFindbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5090//artifact/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-core.html\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5090//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-24T05:46:57.694+0000","updated":"2014-12-24T05:46:57.694+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14258130","id":"14258130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Updated TestJobConf according the code changes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-24T09:18:23.690+0000","updated":"2014-12-24T09:18:23.690+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14258158","id":"14258158","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12689020/MAPREDUCE-6205.patch\n  against trunk revision 4f18018.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:red}-1 findbugs{color}.  The patch appears to introduce 16 new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core:\n\n                  org.apache.hadoop.ha.TestZKFailoverControllerStress\n\nTest results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5091//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5091//artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html\nFindbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5091//artifact/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-core.html\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5091//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-24T10:17:00.534+0000","updated":"2014-12-24T10:17:00.534+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14258815","id":"14258815","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iwasakims","name":"iwasakims","key":"iwasakims","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iwasakims&avatarId=18289","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iwasakims&avatarId=18289","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iwasakims&avatarId=18289","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iwasakims&avatarId=18289"},"displayName":"Masatake Iwasaki","active":true,"timeZone":"Asia/Tokyo"},"body":"The value of \"mapred.child.java.opts\" seems to be used as fallback in MapReduceChildJVM#getChildJavaOpts. Is this not enough?\n{code}\n  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    String userClasspath = \"\";\n    String adminClasspath = \"\";\n    if (isMapTask) {\n      userClasspath =\n          jobConf.get(\n              JobConf.MAPRED_MAP_TASK_JAVA_OPTS,\n              jobConf.get(\n                  JobConf.MAPRED_TASK_JAVA_OPTS,\n                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n          );\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iwasakims","name":"iwasakims","key":"iwasakims","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iwasakims&avatarId=18289","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iwasakims&avatarId=18289","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iwasakims&avatarId=18289","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iwasakims&avatarId=18289"},"displayName":"Masatake Iwasaki","active":true,"timeZone":"Asia/Tokyo"},"created":"2014-12-25T17:14:07.207+0000","updated":"2014-12-25T17:14:07.207+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14259140","id":"14259140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Yes, the MapReduceChildJVM#getChildJavaOpts makes the old property as fallback. However, this solution has two disadvantages:\n1. During map/reduce task execution, the program might get incorrect value of new property  MRJobConfig.MAP_JAVA_OPTS and MRJobConfig.REDUCE_JAVA_OPTS, if only the value of \"mapred.child.java.opts\" is defined before.\n2. Inconsistent handling style. For most of other deprecated properties, Hadoop will automatically update the value of their new version with the value of old version. However, hadoop does not use same style to handle the deprecation of property \"mapred.child.java.opts\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-26T16:51:56.226+0000","updated":"2014-12-26T16:51:56.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14259141","id":"14259141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Yes, the MapReduceChildJVM#getChildJavaOpts makes the old property as fallback. However, this solution has two disadvantages:\n1. During map/reduce task execution, the program might get incorrect value of new property  MRJobConfig.MAP_JAVA_OPTS and MRJobConfig.REDUCE_JAVA_OPTS, if only the value of \"mapred.child.java.opts\" is defined before.\n2. Inconsistent handling style. For most of other deprecated properties, Hadoop will automatically update the value of their new version with the value of old version. However, hadoop does not use same style to handle the deprecation of property \"mapred.child.java.opts\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-26T16:52:03.615+0000","updated":"2014-12-26T16:52:03.615+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14260081","id":"14260081","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sam liu], thanks for the patch. \n# Please follow the guideline for including a version in patch names under https://wiki.apache.org/hadoop/HowToContribute#Naming_your_patch. \n# The deprecation delta  should be \" mapred.child.java.opts\" -> { \"mapred.map.child.java.opts\", \"mapred.reduce.child.java.opts\" }. Otherwise you introduce non-determinism due to existing deprecation deltas \"mapred.map|reduce.child.java.opts\" -> \"mapreduce.map|reduce.java.opts\"\n# mapred-default.xml should be updated. Currently mapreduce.map|reduce.java.opts is commented out. Instead both should have thw substitution value: {{$\\{mapred.child.java.opts\\}}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-12-29T12:43:52.340+0000","updated":"2014-12-29T12:43:52.340+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14262063","id":"14262063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Gera,\n\nYes, there is an existing deprecation deltas \"mapred.map|reduce.child.java.opts\" -> \"mapreduce.map|reduce.java.opts\". \n\nHowever, after I add the deprecation delta as \" mapred.child.java.opts\" ->  \"mapred.map|reduce.child.java.opts\", the test TestWritableJobConf#testEmptyConfiguration() failed. In this test, it compares two configurations(conf and deser):\n-conf:  JobConf conf = new JobConf();\n-deser: Configuration deser = serDeser(conf);\n\n[A] Before I added the new deprecation delta, I got following output during running this test and the test passed.\n[A.1] The properties of 'conf':\nmapred.child.java.opts=-Xmx200m\n2014-12-31 01:13:12,092 INFO  [main] Configuration.deprecation (Configuration.java:warnOnceIfDeprecated(1013)) - mapred.map.child.java.opts is deprecated. Instead, use mapreduce.map.java.opts\nmapred.map.child.java.opts=null\n2014-12-31 01:13:12,107 INFO  [main] Configuration.deprecation (Configuration.java:warnOnceIfDeprecated(1013)) - mapred.reduce.child.java.opts is deprecated. Instead, use mapreduce.reduce.java.opts\nmapred.reduce.child.java.opts=null\nmapreduce.map.java.opts=null\nmapreduce.reduce.java.opts=null\n[A.2] The properties of 'deser':\nmapred.child.java.opts=-Xmx200m\nmapred.map.child.java.opts=null\nmapred.reduce.child.java.opts=null\nmapreduce.map.java.opts=null\nmapreduce.reduce.java.opts=null\n\n[B] After I added the new deprecation delta, I got following output during running this test and the test failed.\n[B.1] The properties of 'conf':\n2014-12-31 01:06:22,313 INFO  [main] Configuration.deprecation (Configuration.java:warnOnceIfDeprecated(1013)) - mapred.child.java.opts is deprecated. Instead, use mapred.map.child.java.opts, mapred.reduce.child.java.opts\nmapred.child.java.opts=-Xmx200m\nmapred.map.child.java.opts=null\nmapred.reduce.child.java.opts=null\nmapreduce.map.java.opts=null\nmapreduce.reduce.java.opts=null\n[B.2] The properties of 'deser':\nmapred.child.java.opts=-Xmx200m\nmapred.map.child.java.opts=-Xmx200m\nmapred.reduce.child.java.opts=-Xmx200m\nmapreduce.map.java.opts=-Xmx200m\nmapreduce.reduce.java.opts=-Xmx200m\n\nFurthermore, if I did not add the deprecation delta as \"mapred.child.java.opts\" ->  \"mapred.map|reduce.child.java.opts\", but add the deprecation delta as \"mapred.child.java.opts\" ->  \"mapreduce.map|reduce.java.opts\",  the test TestWritableJobConf#testEmptyConfiguration() could pass.\n\nWhat's your opinion?\n\nThanks!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-31T09:46:21.886+0000","updated":"2014-12-31T09:46:21.886+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14265505","id":"14265505","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sam liu], the test failure you see should go away if you implement suggestion 3 from my previous comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-06T01:27:31.312+0000","updated":"2015-01-06T01:27:31.312+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14265742","id":"14265742","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Gera, \n\nThanks for your reminder!\n\nAfter implementing suggestion 3(update mapred-default.xml), the unit test failed on 'assertEquals(conf, deser)', but with different issue:\n- the expected is: 'mapreduce.reduce.java.opts=${mapred.child.java.opts}, mapreduce.map.java.opts=${mapred.child.java.opts}'\n- but is: 'mapreduce.reduce.java.opts=-Xmx200m, mapreduce.map.java.opts=-Xmx200m'\n\nHowever, I could get following output by 'conf.get(key)' or 'deser.get(key)' during running this test:\n1. The properties of 'conf':\nmapred.child.java.opts=-Xmx200m\nmapred.map.child.java.opts=-Xmx200m\nmapred.reduce.child.java.opts=-Xmx200m\nmapreduce.map.java.opts=-Xmx200m\nmapreduce.reduce.java.opts=-Xmx200m\n2. The properties of 'deser':\nmapred.child.java.opts=-Xmx200m\nmapred.map.child.java.opts=-Xmx200m\nmapred.reduce.child.java.opts=-Xmx200m\nmapreduce.map.java.opts=-Xmx200m\nmapreduce.reduce.java.opts=-Xmx200m\n\nAny comments?\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-01-06T06:13:28.546+0000","updated":"2015-01-06T06:13:28.546+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14267371","id":"14267371","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"body":"Gera,\n\nThe root cause of above failure is that after deserializing both the deprecated and the non-deprecated versions of a config are set. So, before deserializing, mapreduce.reduce.java.opts is equals to $ {mapred.child.java.opts}; after deserializing, mapreduce.reduce.java.opts is equals to '-Xmx200m'.\n\nTo resolve this issue, I have a proposal that in mapred-default.xml:\n- Comment out the property 'mapred.child.java.opts'\n- Uncomment both mapreduce.map|reduce.java.opts and set their value as '-Xmx200m'.\n\nI think this makes sense, because 'mapred.child.java.opts' is deprecated, but 'mapreduce.map|reduce.java.opts' are recommended by hadoop. With such modifications, test TestWritableJobConf could pass. Also I ran some other regarding tests, and I found only test TestJobConf should be updated till now.\n\nWhat's your comments on the proposal?\n\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sam+liu","name":"sam liu","key":"sam liu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sam liu","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-01-07T07:46:03.212+0000","updated":"2015-01-07T07:46:03.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14267431","id":"14267431","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iwasakims","name":"iwasakims","key":"iwasakims","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iwasakims&avatarId=18289","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iwasakims&avatarId=18289","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iwasakims&avatarId=18289","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iwasakims&avatarId=18289"},"displayName":"Masatake Iwasaki","active":true,"timeZone":"Asia/Tokyo"},"body":"bq. Uncomment both mapreduce.map|reduce.java.opts and set their value as '-Xmx200m'.\n\n[~sam liu], [the comment in MAPREDUCE-5130|https://issues.apache.org/jira/browse/MAPREDUCE-5130?focusedCommentId=13623376&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13623376] says it breaks compatibility.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iwasakims","name":"iwasakims","key":"iwasakims","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iwasakims&avatarId=18289","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iwasakims&avatarId=18289","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iwasakims&avatarId=18289","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iwasakims&avatarId=18289"},"displayName":"Masatake Iwasaki","active":true,"timeZone":"Asia/Tokyo"},"created":"2015-01-07T08:55:52.734+0000","updated":"2015-01-07T08:55:52.734+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14268479","id":"14268479","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"body":"I think [~sam liu]'s approach works well now that deprecation deltas are added. [~sam liu], please upload patches for easier review of issues you are discussing. To catch up on this, I took the liberty to capture the current state in 003 patch. I think we should do the same with env properties as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-07T23:13:46.979+0000","updated":"2015-01-07T23:13:46.979+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14268495","id":"14268495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"I think we need to be _very_ careful with a patch like this, or it could easily create more problems than it solves.  Something like this can readily break backwards compatibility.  For example, if a user does \"-Dmapreduce.map.java.opts=X -Dmapred.child.java.opts=Y\", then maps should get X and reduces should get Y.  We need to make sure that this code doesn't end up setting maps and reduces to Y because of the order we processed those settings and how they're aliased.  mapred.child.java.opts is indeed deprecated, but it is not strictly an alias for the map/reduce-specific settings.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2015-01-07T23:23:42.293+0000","updated":"2015-01-07T23:23:42.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14268556","id":"14268556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"body":"I agree. I think the proposed deprecation chain handles this correctly but we should definitely capture these requirements in unit tests. And I hope you can review it [~jlowe].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira.shegalov","name":"jira.shegalov","key":"jira.shegalov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gera Shegalov","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-08T00:13:20.875+0000","updated":"2015-01-08T00:13:20.875+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12763628/comment/14268589","id":"14268589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12690653/MAPREDUCE-6205.003.patch\n  against trunk revision e13a484.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n      {color:red}-1 javac{color}.  The applied patch generated 1219 javac compiler warnings (more than the trunk's current 1218 warnings).\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:red}-1 findbugs{color}.  The patch appears to introduce 13 new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The test build failed in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app \n\nTest results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5099//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5099//artifact/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-core.html\nJavac warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5099//artifact/patchprocess/diffJavacWarnings.txt\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5099//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-08T00:28:55.441+0000","updated":"2015-01-08T00:28:55.441+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-6205/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i23r4f:"}}