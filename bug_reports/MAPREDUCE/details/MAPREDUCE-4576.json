{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12604520","self":"https://issues.apache.org/jira/rest/api/2/issue/12604520","key":"MAPREDUCE-4576","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321661","id":"12321661","description":"1.2.0 release","name":"1.2.0","archived":false,"released":true,"releaseDate":"2013-05-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-08-28T15:52:20.607+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed May 15 05:16:07 UTC 2013","customfield_12310420":"247407","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_1205013138_*|*_1_*:*_1_*:*_498417425_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-09-11T14:35:08.315+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4576/watchers","watchCount":7,"isWatching":false},"created":"2012-08-22T21:24:37.764+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316391","id":"12316391","description":"Merge append/sync support with security","name":"0.20.205.0","archived":false,"released":true,"releaseDate":"2011-10-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12318240","id":"12318240","description":"1.0.0 release","name":"1.0.0","archived":false,"released":true,"releaseDate":"2011-12-27"}],"issuelinks":[{"id":"12356896","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12356896","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"12507144","key":"MAPREDUCE-2494","self":"https://issues.apache.org/jira/rest/api/2/issue/12507144","fields":{"summary":"Make the distributed cache delete entires using LRU priority","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-15T05:16:07.488+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":null,"customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321661","id":"12321661","description":"1.2.0 release","name":"1.2.0","archived":false,"released":true,"releaseDate":"2013-05-13"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12542634","id":"12542634","filename":"MR-4576.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2012-08-27T17:55:59.967+0000","size":5151,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12542634/MR-4576.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"46294","customfield_12312823":null,"summary":"Large dist cache can block tasktracker heartbeat","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13439874","id":"13439874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"MAPREDUCE-2494 introduced a new lock when releasing a dist cache entry that introduced this problem.  Thanks to Koji for finding and debugging this.\n\nEssentially the heartbeat thread holds a lock on the TaskTracker object.\nSo does the job cleanup thread.  Which also holds a lock on the TrackerDistributedCacheMenager's big list lock (this is the lock that MAPREDUCE-2494 added in).\nThe thread that deletes things from the dist cache also grabs that big lock, and at the same time grabs locks in turn for every entry in the dist cache.\nWhile an entry in the dist cache is being downloaded it also holds the lock for the dist cache entry.\n\nSo this can result in\n\nDownloading thread holds dist cache lock which blocks the dist cache delete thread which holds the full dist cache map lock that blocks the job cleanup thread that holds that Task Tracker lock which blocks the heartbeat thread.  This can be seen below.\n\nI think it is probably best to change the DistCache entries' locks so that when we go to delete them if the lock is held we skip that entry instead of having it block. \n\n{noformat}\nHere, tracing from the heartbeat thread.\n1=================================================\n\"main\" prio=10 tid=0x0875c400 nid=0x3fca waiting for monitor entry [0xf73e6000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n  at\norg.apache.hadoop.mapred.TaskTracker.transmitHeartBeat(TaskTracker.java:1790)\n  - waiting to lock <0xb4299248> (a org.apache.hadoop.mapred.TaskTracker)\n  at org.apache.hadoop.mapred.TaskTracker.offerService(TaskTracker.java:1653)\n  at org.apache.hadoop.mapred.TaskTracker.run(TaskTracker.java:2503)\n  at org.apache.hadoop.mapred.TaskTracker.main(TaskTracker.java:3744)\n\nLooking for lock <0xb4299248> \n2=================================================\n\"taskCleanup\" daemon prio=10 tid=0x0949ac00 nid=0x405c waiting for monitor\nentry [0xadead000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager$CacheStatus.decRefCount(TrackerDistributedCacheManager.java:597)\n  - waiting to lock <0xb4214308> (a java.util.LinkedHashMap)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager.releaseCache(TrackerDistributedCacheManager.java:233)\n  at\norg.apache.hadoop.filecache.TaskDistributedCacheManager.release(TaskDistributedCacheManager.java:254)\n  at org.apache.hadoop.mapred.TaskTracker.purgeJob(TaskTracker.java:2066)\n  - locked <0xb51e5d78> (a org.apache.hadoop.mapred.TaskTracker$RunningJob)\n  - locked <0xb4299248> (a org.apache.hadoop.mapred.TaskTracker)\n  at org.apache.hadoop.mapred.TaskTracker$1.run(TaskTracker.java:439)\n  at java.lang.Thread.run(Thread.java:619)\n\n\nLooking for the lock <0xb4214308>\n\n\n3=================================================\n\"Thread-27\" prio=10 tid=0xae501400 nid=0x4021 waiting for monitor entry\n[0xae4ad000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager$BaseDirManager.checkAndCleanup(TrackerDistributedCacheManager.java:1019)\n  - waiting to lock <0xb52776c0> (a\norg.apache.hadoop.filecache.TrackerDistributedCacheManager$CacheStatus)\n  - locked <0xb4214308> (a java.util.LinkedHashMap)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager$CleanupThread.run(TrackerDistributedCacheManager.java:948)\n\nLooking for the lock <0xb52776c0>\n\n4=================================================\n\"Thread-187419\" daemon prio=10 tid=0xaa103400 nid=0x3758 runnable [0xad75c000]\n   java.lang.Thread.State: RUNNABLE\n  at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n  at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:210)\n  at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:65)\n  at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:69)\n  - locked <0xb52998d0> (a sun.nio.ch.Util$1)\n  - locked <0xb52998e0> (a java.util.Collections$UnmodifiableSet)\n  - locked <0xb5299880> (a sun.nio.ch.EPollSelectorImpl)\n  at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:80)\n  at\norg.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select(SocketIOWithTimeout.java:332)\n  at\norg.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:157)\n  at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:155)\n  at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:128)\n  at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n  at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)\n  at java.io.BufferedInputStream.read(BufferedInputStream.java:317)\n  - locked <0xb5505ec8> (a java.io.BufferedInputStream)\n  at java.io.DataInputStream.read(DataInputStream.java:132)\n  at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:153)\n  at\norg.apache.hadoop.hdfs.DFSClient$BlockReader.readChunk(DFSClient.java:1598)\n  - locked <0xb5505ef8> (a org.apache.hadoop.hdfs.DFSClient$BlockReader)\n  at\norg.apache.hadoop.fs.FSInputChecker.readChecksumChunk(FSInputChecker.java:237)\n  at org.apache.hadoop.fs.FSInputChecker.read1(FSInputChecker.java:189)\n  at org.apache.hadoop.fs.FSInputChecker.read(FSInputChecker.java:158)\n  - locked <0xb5505ef8> (a org.apache.hadoop.hdfs.DFSClient$BlockReader)\n  at org.apache.hadoop.hdfs.DFSClient$BlockReader.read(DFSClient.java:1457)\n  - locked <0xb5505ef8> (a org.apache.hadoop.hdfs.DFSClient$BlockReader)\n  at\norg.apache.hadoop.hdfs.DFSClient$DFSInputStream.readBuffer(DFSClient.java:2172)\n  - locked <0xb5505fd8> (a org.apache.hadoop.hdfs.DFSClient$DFSInputStream)\n  at org.apache.hadoop.hdfs.DFSClient$DFSInputStream.read(DFSClient.java:2224)\n  - locked <0xb5505fd8> (a org.apache.hadoop.hdfs.DFSClient$DFSInputStream)\n  at java.io.DataInputStream.read(DataInputStream.java:83)\n  at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:74)\n  at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:47)\n  at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:100)  at\norg.apache.hadoop.fs.FileUtil.copy(FileUtil.java:230)\n  at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:220)\n  at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:220)\n  at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:220)\n  at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:220)\n  at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:163)\n  at org.apache.hadoop.fs.FileSystem.copyToLocalFile(FileSystem.java:1222)\n  at org.apache.hadoop.fs.FileSystem.copyToLocalFile(FileSystem.java:1203)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager.downloadCacheObject(TrackerDistributedCacheManager.java:416)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager.localizePublicCacheObject(TrackerDistributedCacheManager.java:464)\n  at\norg.apache.hadoop.filecache.TrackerDistributedCacheManager.getLocalCache(TrackerDistributedCacheManager.java:191)\n  - locked <0xb52776c0> (a\norg.apache.hadoop.filecache.TrackerDistributedCacheManager$CacheStatus)\n  at\norg.apache.hadoop.filecache.TaskDistributedCacheManager.setupCache(TaskDistributedCacheManager.java:182)\n  at org.apache.hadoop.mapred.TaskTracker$4.run(TaskTracker.java:1212)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at javax.security.auth.Subject.doAs(Subject.java:396)\n  at\norg.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1093)\n  at org.apache.hadoop.mapred.TaskTracker.initializeJob(TaskTracker.java:1203)\n  at org.apache.hadoop.mapred.TaskTracker.localizeJob(TaskTracker.java:1118)\n  at org.apache.hadoop.mapred.TaskTracker$5.run(TaskTracker.java:2430)\n  at java.lang.Thread.run(Thread.java:619)\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2012-08-22T21:39:46.812+0000","updated":"2012-08-22T21:39:46.812+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13439877","id":"13439877","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"I forgot to add in that I tested this on 0.23, and mrv2 does not have this issue at all.  I added in a dist cache entry that takes 30 min to download and the job succeeded.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2012-08-22T21:40:56.512+0000","updated":"2012-08-22T21:40:56.512+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13439880","id":"13439880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"Moved it to MAPREDUCE.  I don't know how it ended up being created in HDFS, I guess I just put it in the wrong spot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2012-08-22T21:42:26.261+0000","updated":"2012-08-22T21:42:26.261+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13442555","id":"13442555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"This patch changes the locking on CacheStatus.  I have not added in any new tests because it is a complicated bug, that is difficult to reproduce outside of a full cluster.  branch-1 seems to have a build issue so I have tested it against 1.0.2.  The commit tests pass, and the smoke tests are still running.  I will also verify that it fixes the issue manually once the other tests finish. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2012-08-27T17:55:59.968+0000","updated":"2012-08-27T17:55:59.968+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13443231","id":"13443231","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"body":"I have \"verified\" with some code changes that this fixes the issue.  It is very difficult to reproduce the error.  I had to modify the code to cause the issue to show up more often.  I had to make it so the dist cache always was trying to delete things, and it never actually deleted them, I also had to modify it so that all dist cache entries take a long time to download, and on top of that I had to hit it just right so that a job was finishing at the same time a dist cache entry was being deleted.  ugg.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=revans2","name":"revans2","key":"revans2","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Joseph Evans","active":true,"timeZone":"America/Chicago"},"created":"2012-08-28T15:51:30.956+0000","updated":"2012-08-28T15:51:30.956+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13443232","id":"13443232","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12542634/MR-4576.txt\n  against trunk revision .\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2784//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-28T15:52:20.607+0000","updated":"2012-08-28T15:52:20.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13453054","id":"13453054","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tgraves","name":"tgraves","key":"tgraves","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Graves","active":true,"timeZone":"America/Chicago"},"body":"+1. Thanks Bobby.\n\nNote the findbugs exist without this patch.  \n\n    [exec] -1 overall.  \n     [exec] \n     [exec]     +1 @author.  The patch does not contain any @author tags.\n     [exec] \n     [exec]     -1 tests included.  The patch doesn't appear to include any new or modified tests.\n     [exec]                         Please justify why no tests are needed for this patch.\n     [exec] \n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n     [exec] \n     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n     [exec] \n     [exec]     -1 findbugs.  The patch appears to introduce 8 new Findbugs (version 1.3.9) warnings.\n     [exec] \n     [exec] \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tgraves","name":"tgraves","key":"tgraves","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Graves","active":true,"timeZone":"America/Chicago"},"created":"2012-09-11T14:33:14.631+0000","updated":"2012-09-11T14:33:14.631+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604520/comment/13658021","id":"13658021","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"body":"Closed upon release of Hadoop 1.2.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-15T05:16:07.485+0000","updated":"2013-05-15T05:16:07.485+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4576/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i08agn:"}}