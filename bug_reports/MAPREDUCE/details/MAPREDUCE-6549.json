{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12913110","self":"https://issues.apache.org/jira/rest/api/2/issue/12913110","key":"MAPREDUCE-6549","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329060","id":"12329060","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332954","id":"12332954","description":"2.7.2 release","name":"2.7.2","archived":false,"released":true,"releaseDate":"2016-01-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334004","id":"12334004","description":"2.6.3 release","name":"2.6.3","archived":false,"released":true,"releaseDate":"2015-12-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335734","id":"12335734","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-11-15T22:08:39.331+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jan 13 23:11:46 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_3_*:*_4063539_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_3_*:*_959133203","customfield_12312321":null,"resolutiondate":"2015-11-26T01:06:00.733+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-6549/watchers","watchCount":11,"isWatching":false},"created":"2015-11-14T21:32:44.101+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332954","id":"12332954","description":"2.7.2 release","name":"2.7.2","archived":false,"released":true,"releaseDate":"2016-01-25"}],"issuelinks":[{"id":"12504341","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12504341","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13073928","key":"MAPREDUCE-6891","self":"https://issues.apache.org/jira/rest/api/2/issue/13073928","fields":{"summary":"TextInputFormat: duplicate records with custom delimiter","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12448749","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12448749","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12873194","key":"MAPREDUCE-6481","self":"https://issues.apache.org/jira/rest/api/2/issue/12873194","fields":{"summary":"LineRecordReader may give incomplete record and wrong position/key information for uncompressed input sometimes.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12450049","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12450049","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12915756","key":"MAPREDUCE-6558","self":"https://issues.apache.org/jira/rest/api/2/issue/12915756","fields":{"summary":"multibyte delimiters with compressed input files generate duplicate records","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-05-23T11:54:11.130+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315344","id":"12315344","name":"mrv1"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12314301","id":"12314301","name":"mrv2","description":"MR-279: Map Reduce Next."}],"timeoriginalestimate":null,"description":"LineRecorderReader currently produces duplicate records under certain scenarios such as:\n\n1) input string: \"abc+++def++ghi++\" \ndelimiter string: \"+++\" \ntest passes with all sizes of the split \n2) input string: \"abc++def+++ghi++\" \ndelimiter string: \"+++\" \ntest fails with a split size of 4 \n2) input string: \"abc+++def++ghi++\" \ndelimiter string: \"++\" \ntest fails with a split size of 5 \n3) input string \"abc+++defg++hij++\" \ndelimiter string: \"++\" \ntest fails with a split size of 4 \n4) input string \"abc++def+++ghi++\" \ndelimiter string: \"++\" \ntest fails with a split size of 9 ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12774214","id":"12774214","filename":"MAPREDUCE-6549.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-25T00:38:47.926+0000","size":31256,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12774214/MAPREDUCE-6549.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12772390","id":"12772390","filename":"MAPREDUCE-6549-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"created":"2015-11-14T21:39:01.914+0000","size":2907,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12772390/MAPREDUCE-6549-1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12772422","id":"12772422","filename":"MAPREDUCE-6549-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-15T23:02:58.294+0000","size":30972,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12772422/MAPREDUCE-6549-2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"multibyte delimiters with LineRecordReader cause duplicate records","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15005631","id":"15005631","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"body":"Attaching a patch to basically remove the attempt to read the last incomplete record of an input and change the tests to test a more generic, imperfect scenario.  I'll add some more tests if review deems it necessary.  As far as I am aware, we should drop an incomplete record at the end of the input, which now this happens with this patch in addition to the correct number of records coming up in the middle of the input (where previously there were duplicates).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"created":"2015-11-14T21:39:01.918+0000","updated":"2015-11-14T21:39:01.918+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15005632","id":"15005632","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"body":"[~zxu], could you review this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"created":"2015-11-14T21:39:49.042+0000","updated":"2015-11-14T21:39:49.042+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15006059","id":"15006059","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"I tried the change that you made in the patch and it fails the current tests.\nThe patch changes one test (TestLineRecordReader.java) but we have two versions. The mapred version is unchanged and now fails. The mapreduce version works but as soon as I change the delimiter back it also fails. That means that the change does not fix the issue.\n\nit also brings the two tests out of sync which is not correct","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-15T22:08:39.331+0000","updated":"2015-11-15T22:08:39.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15006080","id":"15006080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"[~cotedm] I have picked up the jira and have a fully tested and working patch for the issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-15T23:00:05.022+0000","updated":"2015-11-15T23:00:05.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15006085","id":"15006085","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"The issue is related to [MAPREDUCE-6481]. That jira changed the position calculation and made sure that the full records are returned by the reader as expected. It did not anticipate the record duplication. Junit tests also did not cover the use cases correctly to discover the issue.\nThe problem is limited to multi byte delimiters only as far as I can trace. \n\nThe junit tests for the multi byte delimiter only take the best case scenario into account. The input data contained the exact delimiter and no ambiguous characters. As soon as the test is changed, either the delimiter or the input data, a failure will be triggered. The issue with the failure is that it does not clearly show when and how it fails. Analysis of the test failures shows that a complex combination of input data, split and buffer size will trigger a failure.\n\nBased on testing the duplication of the record occurs only if:\n- the first character(s) of the delimiter are part of the record data, example: \n  1) the delimiter is {{\\+=}} and the data contains a {{\\+}} and is not followed by {{=}}\n  2) the delimiter is {{\\+=\\+=}} and the data contains {{\\+=\\+}} and is not followed by {{=}}\n- the delimiter character is found at the split boundary: the last character before the split ends\n- a fill of the buffer is triggered to finish processing the record\n\nThe underlying problem is that we set a flag called {{needAdditionalRecord}} in the {{UncompressedSplitLineReader}} when we fill the buffer and have encountered part of a delimiter in combination with a split. We keep track of this in the ambiguous character number. However is it turns out that if the character(s) found after that point do not belong to a delimiter we do not unset the {{needAdditionalRecord}}. This causes the next record to be read twice and thus we see a duplication of records.\nThe solution would be to unset the flag when we detect that we're not processing a delimiter. We currently only add the ambiguous characters to the record read and set the number back to 0. At the same point we need to unset the flag.\n\nThe patch was developed based on junit tests that exercise the split and buffer settings in combination with multiple delimiter types using different inputs. All cases now provide a consistent count of records and correct position inside the data.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-15T23:02:58.299+0000","updated":"2015-11-15T23:02:58.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15006294","id":"15006294","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"body":"Nice catch! But I think this issue is not related to MAPREDUCE-6481. Without MAPREDUCE-6481, this issue will still happen. Also I think the same issue may also happen for compressed input. The attached patch only fix the issue for uncompressed input.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-16T07:23:32.250+0000","updated":"2015-11-16T07:23:32.250+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15006839","id":"15006839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"body":"[~wilfreds]\n\nAre you sure your fix is the right one?  The reason I changed the tests was because they validate an incomplete record for some reason at the end (which is the part of my fix that is breaking tests in the mapred package since I forgot to change them).  The reason I'm saying this is because I would expect the following:\nInput: abcdefghij++kl++mno\nOutput records: 1) abcdefghij 2) kl\n\nIt looks like your tests do the same thing.  mno doesn't have a delimiter at the end, so isn't that garbage data as an incomplete record?  I would expect that to be the behavior if I were using the API, but I don't see any real documentation for this on multibyte delimiters.  If we're going to commit to the last part of the data without a delimiter at the end as being a record, then that should be documented as well.  Otherwise, I'd rather merge our patches together and verify the functionality so that the above scenario is what happens instead of pulling in undelimited data at the end of the file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"created":"2015-11-16T16:06:16.346+0000","updated":"2015-11-16T16:06:16.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15008133","id":"15008133","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"[~zxu] The change in MAPREDUCE-6481 is not to blame for the duplicate records as far as I can tell. It fixed things and now we get to see what is there and thus we noticed the duplicates. I did not look at the compressed input, and I do think you are correct. Compressed input uses the same steps and we should clear the setting in the same way as we did the uncompressed stream. I will try to generate a compressed stream that is splittable to get a test case. I will upload a new patch but I will first try to generate the test case before I do that.\n\n[~cotedm] An EOF will automatically terminate the record there is no need for a record delimiter at the end of the file. All the test, and comments in the code show it. The assumption is that the last record before EOF does not need a record terminator. It is not a new assumption, assuming that an EOF would not delimit a record would be counter intuitive. Most text files for instance do not have a newline at the last line.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-17T06:27:23.365+0000","updated":"2015-11-17T06:27:23.365+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15009199","id":"15009199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"body":"[~wilfreds] ok I agree that it works this way, but I disagree on the assumption that text files don't usually end with a new line on the last line.  At least POSIX standards (which I consider intuitive) define lines to require a newline at the end --> http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_206  \n\nThat said, it looks like LineRecordReader is indeed always using EOF as something equivalent to a delimiter, so it probably makes more sense to stick with the convention defined with the LineRecordReader's defaults already.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cotedm","name":"cotedm","key":"cotedm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cotedm&avatarId=26990","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cotedm&avatarId=26990","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cotedm&avatarId=26990","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cotedm&avatarId=26990"},"displayName":"Dustin Cote","active":true,"timeZone":"America/New_York"},"created":"2015-11-17T18:32:08.405+0000","updated":"2015-11-17T18:32:08.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15013993","id":"15013993","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"I have been able to generate a compressed file which shows a same record duplication as was shown in the uncompressed processing. The code however behaves completely different in the two cases since we do not have the same kind of buffer filling process. I am still trying to fix the compressed code without breaking the uncompressed code.\n\nI should have a fix for both cases in a day or two.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-19T17:39:05.716+0000","updated":"2015-11-19T17:39:05.716+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15024233","id":"15024233","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"The compressed version is not as easily fixable, and I am opening up a new jira for that one.\n\nThe compressed version does not use the split size as the uncompressed version does. The split size as far as I can tell depends on the compression codec and the file encoding/compression blocks. The split size is not taken into account as it is in the uncompressed version.\n\nI ran a set of similar junit tests over the compressed data and the changed code is not even triggered.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-24T10:43:16.869+0000","updated":"2015-11-24T10:43:16.869+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15024263","id":"15024263","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"[~zxu] & [~jlowe] can you also please have a look at the patch for the uncompressed version?\nI have not seen a build being triggered from the patch that was added. That might need to be triggered somehow for this patch (naming convention wrong for the patch?)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-24T10:58:35.184+0000","updated":"2015-11-24T10:58:35.184+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15024775","id":"15024775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 8m 43s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 12s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 9s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 8s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 46s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 31s {color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 2m 11s {color} | {color:red} hadoop-common-project/hadoop-common in trunk has 1 extant Findbugs warnings. {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 1m 20s {color} | {color:red} hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core in trunk has 2 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 29s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 42s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 2m 14s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 19s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 10m 19s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 5s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 10m 5s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 9s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 42s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 30s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 3m 46s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 30s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 41s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 7m 38s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_66. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 2m 19s {color} | {color:red} hadoop-mapreduce-client-core in the patch failed with JDK v1.8.0_66. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 7m 26s {color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_85. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 2m 31s {color} | {color:red} hadoop-mapreduce-client-core in the patch failed with JDK v1.7.0_85. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red} 0m 23s {color} | {color:red} Patch generated 1 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 93m 59s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_66 Failed junit tests | hadoop.fs.permission.TestFsPermission |\n|   | hadoop.mapreduce.lib.input.TestLineRecordReader |\n| JDK v1.7.0_85 Failed junit tests | hadoop.ipc.TestDecayRpcScheduler |\n|   | hadoop.security.ssl.TestReloadingX509TrustManager |\n|   | hadoop.fs.permission.TestFsPermission |\n|   | hadoop.mapreduce.lib.input.TestLineRecordReader |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:0ca8df7 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12772422/MAPREDUCE-6549-2.patch |\n| JIRA Issue | MAPREDUCE-6549 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 7b2604a891e5 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 28dfe72 |\n| findbugs | v3.0.0 |\n| findbugs | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |\n| findbugs | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/branch-findbugs-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core-warnings.html |\n| unit | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_66.txt |\n| unit | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core-jdk1.8.0_66.txt |\n| unit | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_85.txt |\n| unit | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core-jdk1.7.0_85.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_66.txt https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core-jdk1.8.0_66.txt https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_85.txt https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-unit-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core-jdk1.7.0_85.txt |\n| JDK v1.7.0_85  Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-common-project/hadoop-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core U: . |\n| Max memory used | 76MB |\n| Powered by | Apache Yetus   http://yetus.apache.org |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6186/console |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-24T16:24:20.296+0000","updated":"2015-11-24T16:24:20.296+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15025844","id":"15025844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"Updated the patch to fix the NPE in the testUncompressedInputCustomDelimiterPosValue\n\nChecked the license, findbugs and other junit test failures and they are not related to the changes from this patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-25T00:42:19.050+0000","updated":"2015-11-25T00:42:19.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15026098","id":"15026098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 8m 46s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 9m 40s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 9m 51s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 6s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 50s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 29s {color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 1m 57s {color} | {color:red} hadoop-common-project/hadoop-common in trunk has 1 extant Findbugs warnings. {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 1m 14s {color} | {color:red} hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core in trunk has 2 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 23s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 37s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 2m 16s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 40s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 8m 40s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 38s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 8m 38s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 0s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 37s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 28s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 3m 12s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 17s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 31s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 7m 7s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_66. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 51s {color} | {color:green} hadoop-mapreduce-client-core in the patch passed with JDK v1.8.0_66. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 7m 15s {color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_85. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 13s {color} | {color:green} hadoop-mapreduce-client-core in the patch passed with JDK v1.7.0_85. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red} 0m 22s {color} | {color:red} Patch generated 1 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 86m 42s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_66 Failed junit tests | hadoop.fs.permission.TestFsPermission |\n| JDK v1.7.0_85 Failed junit tests | hadoop.metrics2.impl.TestGangliaMetrics |\n|   | hadoop.ipc.TestIPC |\n|   | hadoop.fs.permission.TestFsPermission |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:0ca8df7 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12774214/MAPREDUCE-6549.3.patch |\n| JIRA Issue | MAPREDUCE-6549 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux dac75dfa74ba 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 23c625e |\n| findbugs | v3.0.0 |\n| findbugs | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |\n| findbugs | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/branch-findbugs-hadoop-mapreduce-project_hadoop-mapreduce-client_hadoop-mapreduce-client-core-warnings.html |\n| unit | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_66.txt |\n| unit | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_85.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_66.txt https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_85.txt |\n| JDK v1.7.0_85  Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-common-project/hadoop-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core U: . |\n| Max memory used | 76MB |\n| Powered by | Apache Yetus   http://yetus.apache.org |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6190/console |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-25T03:21:32.777+0000","updated":"2015-11-25T03:21:32.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15026312","id":"15026312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"Test failures are not related and tracked in different jiras:\n\ntestIpcWithReaderQueuing is tracked by HADOOP-10406\ntestGangliaMetrics2 is tracked in HADOOP-12588\ntestDeprecatedUmask is tracked in HDFS-9451","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-25T06:51:13.264+0000","updated":"2015-11-25T06:51:13.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15027383","id":"15027383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkanter","name":"rkanter","key":"rkanter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Kanter","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 LGTM\n\nWill commit later today if nobody has any other comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkanter","name":"rkanter","key":"rkanter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Kanter","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-25T19:07:01.760+0000","updated":"2015-11-25T19:07:01.760+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15027822","id":"15027822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rchiang","name":"rchiang","key":"rchiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray Chiang","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 (nonbinding)\n\nMuch easier to understand with all the unit tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rchiang","name":"rchiang","key":"rchiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray Chiang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-25T23:43:16.892+0000","updated":"2015-11-25T23:43:16.892+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15027933","id":"15027933","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkanter","name":"rkanter","key":"rkanter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Kanter","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Wilfred and everyone who helped out on this.\n\nCommitted to trunk and branch-2!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkanter","name":"rkanter","key":"rkanter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Kanter","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-26T01:06:00.786+0000","updated":"2015-11-26T01:06:00.786+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028039","id":"15028039","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #8894 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8894/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T02:26:59.247+0000","updated":"2015-11-26T02:26:59.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028144","id":"15028144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #1457 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1457/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T04:31:00.668+0000","updated":"2015-11-26T04:31:00.668+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028162","id":"15028162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #645 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/645/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T04:55:01.496+0000","updated":"2015-11-26T04:55:01.496+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028168","id":"15028168","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Mapreduce-trunk-Java8 #726 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/726/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T04:58:55.338+0000","updated":"2015-11-26T04:58:55.338+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028188","id":"15028188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #2668 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2668/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T05:20:48.566+0000","updated":"2015-11-26T05:20:48.566+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028232","id":"15028232","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk-Java8 #737 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/737/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T05:56:45.050+0000","updated":"2015-11-26T05:56:45.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15028344","id":"15028344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2582 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2582/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (rkanter: rev 7fd00b3db4b7d73afd41276ba9a06ec06a0e1762)\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LineReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestLineRecordReader.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/input/TestLineRecordReader.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/UncompressedSplitLineReader.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-26T08:09:49.897+0000","updated":"2015-11-26T08:09:49.897+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15031214","id":"15031214","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"body":"Should this be pulled back into 2.7.3 and 2.6.3 based on the fact that [~jlowe] pulled MAPREDUCE-6481 into those releases?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wilfreds","name":"wilfreds","key":"wilfreds","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilfred Spiegelenburg","active":true,"timeZone":"Australia/Sydney"},"created":"2015-11-29T23:22:02.404+0000","updated":"2015-11-29T23:22:02.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15032161","id":"15032161","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"Thanks, [~wilfreds]!  Agree this should be in 2.7.3 and 2.6.3, so I committed this to branch-2.7 and branch-2.6 as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2015-11-30T17:53:30.707+0000","updated":"2015-11-30T17:53:30.707+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15033565","id":"15033565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~wilfreds], [~rkanter] and [~jlowe], I noticed that MAPREDUCE-6558 (compressed version) is still open. Do we think this patch could go independently to 2.6.3 or better to be combined with MAPREDUCE-6558 to 2.6.4?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-12-01T12:00:34.642+0000","updated":"2015-12-01T12:00:34.642+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15033702","id":"15033702","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"It can go independently, which is why I already put it into 2.6.3 per the above comment.  It fixes the uncompressed input data case, whereas MAPREDUCE-6558 is tracking the issue with compressed input.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2015-12-01T13:51:45.126+0000","updated":"2015-12-01T13:51:45.126+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15034114","id":"15034114","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"body":"Sounds good to have it in 2.6.3. Thanks Jason!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-12-01T17:23:03.247+0000","updated":"2015-12-01T17:23:03.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15097186","id":"15097186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Pulled this into 2.7.2 to keep the release up-to-date with 2.6.3. Changing fix-versions to reflect the same.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-01-13T22:42:33.860+0000","updated":"2016-01-13T22:42:33.860+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12913110/comment/15097241","id":"15097241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #9102 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/9102/])\nMAPREDUCE-6549. multibyte delimiters with LineRecordReader cause (vinodkv: rev 9b33a03900c9ffdb9f4b4c59161fdce39ca8c73d)\n* hadoop-mapreduce-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-13T23:11:46.037+0000","updated":"2016-01-13T23:11:46.037+0000"}],"maxResults":33,"total":33,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-6549/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2oep3:"}}