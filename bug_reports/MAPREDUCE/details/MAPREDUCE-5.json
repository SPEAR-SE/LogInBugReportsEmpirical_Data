{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12425766","self":"https://issues.apache.org/jira/rest/api/2/issue/12425766","key":"MAPREDUCE-5","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2009-05-19T03:41:59.509+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Mar 31 00:24:18 UTC 2015","customfield_12310420":"148412","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_135505968970_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-09-03T06:45:43.451+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-5/watchers","watchCount":29,"isWatching":false},"created":"2009-05-18T22:12:54.532+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314205","id":"12314205","description":"","name":"0.20.2","archived":false,"released":true,"releaseDate":"2010-02-16"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321660","id":"12321660","description":"maintenance release on branch-1.1","name":"1.1.1","archived":false,"released":true,"releaseDate":"2012-11-27"}],"issuelinks":[{"id":"12324858","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12324858","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12359917","key":"MAPREDUCE-163","self":"https://issues.apache.org/jira/rest/api/2/issue/12359917","fields":{"summary":"TaskTracker's Jetty throws SocketException followed by IllegalStateException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12374644","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12374644","type":{"id":"12310051","name":"Supercedes","inward":"is superceded by","outward":"supercedes","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310051"},"inwardIssue":{"id":"12666650","key":"MAPREDUCE-5492","self":"https://issues.apache.org/jira/rest/api/2/issue/12666650","fields":{"summary":"Suppress expected log output stated on MAPREDUCE-5","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-31T00:24:18.422+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"During the shuffle phase, I'm seeing a large sequence of the following actions:\n\n1) WARN org.apache.hadoop.mapred.TaskTracker: getMapOutput(attempt_200905181452_0002_m_000010_0,0) failed : org.mortbay.jetty.EofException\n2) WARN org.mortbay.log: Committed before 410 getMapOutput(attempt_200905181452_0002_m_000010_0,0) failed : org.mortbay.jetty.EofException\n3) ERROR org.mortbay.log: /mapOutput java.lang.IllegalStateException: Committed\n\nThe map phase completes with 100%, and then the reduce phase crawls along with the above errors in each of the TaskTracker logs.  None of the tasktrackers get lost.  When I run non-data jobs like the 'pi' test from the example jar, everything works fine.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12529886","id":"12529886","filename":"temp.rar","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xieguiming","name":"xieguiming","key":"xieguiming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xieguiming&avatarId=14331","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xieguiming&avatarId=14331","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xieguiming&avatarId=14331","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xieguiming&avatarId=14331"},"displayName":"xieguiming","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-27T09:32:19.237+0000","size":918994,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12529886/temp.rar"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"46169","customfield_12312823":null,"summary":"Shuffle's getMapOutput() fails with EofException, followed by IllegalStateException","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmporter","name":"gmporter","key":"gmporter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Porter","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmporter","name":"gmporter","key":"gmporter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Porter","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Sun Java 1.6.0_13, OpenSolaris, running on a SunFire 4150 (x64) 10 node cluster","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12710515","id":"12710515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmporter","name":"gmporter","key":"gmporter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Porter","active":true,"timeZone":"America/Los_Angeles"},"body":"The relevant sections of the TaskTracker log are:\n\n2009-05-18 14:59:05,699 INFO org.apache.hadoop.mapred.JvmManager: No new JVM spawned for jobId/taskid: job_200905181452_0002/attempt_200905181452_0002_m_000110_0. Attempting to reuse: jvm_200905181452_0002_m_-1082179983\n2009-05-18 14:59:05,718 INFO org.apache.hadoop.mapred.TaskTracker: JVM with ID: jvm_200905181452_0002_m_-1082179983 given task: attempt_200905181452_0002_m_000110_0\n2009-05-18 14:59:07,536 WARN org.apache.hadoop.mapred.TaskTracker: getMapOutput(attempt_200905181452_0002_m_000010_0,0) failed :\norg.mortbay.jetty.EofException\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:787)\n\tat org.mortbay.jetty.AbstractGenerator$Output.flush(AbstractGenerator.java:566)\n\tat org.mortbay.jetty.HttpConnection$Output.flush(HttpConnection.java:946)\n\tat org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:646)\n\tat org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:577)\n\tat org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:2979)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:363)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:324)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:533)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:207)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)\nCaused by: java.io.IOException: Broken pipe\n\tat sun.nio.ch.FileDispatcher.write0(Native Method)\n\tat sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:29)\n\tat sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:104)\n\tat sun.nio.ch.IOUtil.write(IOUtil.java:75)\n\tat sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:334)\n\tat org.mortbay.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:169)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.flush(SelectChannelEndPoint.java:221)\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:721)\n\t... 23 more\n\n2009-05-18 14:59:07,537 WARN org.mortbay.log: Committed before 410 getMapOutput(attempt_200905181452_0002_m_000010_0,0) failed :\norg.mortbay.jetty.EofException\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:787)\n\tat org.mortbay.jetty.AbstractGenerator$Output.flush(AbstractGenerator.java:566)\n\tat org.mortbay.jetty.HttpConnection$Output.flush(HttpConnection.java:946)\n\tat org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:646)\n\tat org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:577)\n\tat org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:2979)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:363)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:324)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:533)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:207)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)\nCaused by: java.io.IOException: Broken pipe\n\tat sun.nio.ch.FileDispatcher.write0(Native Method)\n\tat sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:29)\n\tat sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:104)\n\tat sun.nio.ch.IOUtil.write(IOUtil.java:75)\n\tat sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:334)\n\tat org.mortbay.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:169)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.flush(SelectChannelEndPoint.java:221)\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:721)\n\t... 23 more\n\n2009-05-18 14:59:07,537 INFO org.apache.hadoop.mapred.TaskTracker.clienttrace: src: 0.0.0.0:0, dest: 10.7.2.97:55398, bytes: 65536, op: MAPRED_SHUFFLE, cliID: attempt_200905181452_0002_m_000010_0\n2009-05-18 14:59:07,552 ERROR org.mortbay.log: /mapOutput\njava.lang.IllegalStateException: Committed\n\tat org.mortbay.jetty.Response.resetBuffer(Response.java:994)\n\tat org.mortbay.jetty.Response.sendError(Response.java:240)\n\tat org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:3002)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:363)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:324)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:533)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:207)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)\n2009-05-18 14:59:08,479 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200905181452_0002_m_000101_0 1.0% hdfs://rep4150-90h:9000/sortinput/part-00006:671088640+134217728\n2009-05-18 14:59:09,284 INFO org.apache.hadoop.mapred.TaskTracker: attempt_200905181452_0002_m_000101_0 1.0% hdfs://rep4150-90h:9000/sortinput/part-00006:671088640+134217728\n2009-05-18 14:59:09,285 INFO org.apache.hadoop.mapred.TaskTracker: Task attempt_200905181452_0002_m_000101_0 is done.\n2009-05-18 14:59:09,285 INFO org.apache.hadoop.mapred.TaskTracker: reported output size for attempt_200905181452_0002_m_000101_0  was 0\n2009-05-18 14:59:09,285 INFO org.apache.hadoop.mapred.TaskTracker: addFreeSlot : current free slots : 1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmporter","name":"gmporter","key":"gmporter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Porter","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-05-18T22:13:27.323+0000","updated":"2009-05-18T22:13:27.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12710516","id":"12710516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmporter","name":"gmporter","key":"gmporter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Porter","active":true,"timeZone":"America/Los_Angeles"},"body":"There could be a connection to HADOOP-861.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmporter","name":"gmporter","key":"gmporter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Porter","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-05-18T22:15:16.960+0000","updated":"2009-05-18T22:15:16.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12710602","id":"12710602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"body":"The Jetty EOFException is observed when the Reduce Task prematurely closes a connection to a jetty server. The RT might decide to do this when the expected map output size is less than its memory cache limit, but cannot fetch it now because it has already fetched several other map outputs to memory. So, it triggers a flush of the existing map outputs from memory to disk and once this flush is complete, it will attempt to fetch the map output again by reopening the connection to the Jetty. In short, it is OK to see such messages.\n\nThis should neither cause a task nor a job failure. Are you seeing failures? The reason why these error messages appear for some jobs and not for others is primarily got to do with the size of map outputs and the heap size allocated for the reducer.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jothipn","name":"jothipn","key":"jothipn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jothi Padmanabhan","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-19T03:41:59.509+0000","updated":"2009-05-19T03:41:59.509+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12801848","id":"12801848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ogrisel","name":"ogrisel","key":"ogrisel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olivier Grisel","active":true,"timeZone":"Europe/Berlin"},"body":"I can reproduce this on a job and I confirm that the reduce tasks fails 3 consecutive times (at 83% of completion) and makes the job fail. The memory on my node  was pretty full so this it probably related to reducer heap size configuration.\n\nIt would be nice if the user could be provided with a more meaningful error message telling her to give more heap space to the reducer.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ogrisel","name":"ogrisel","key":"ogrisel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olivier Grisel","active":true,"timeZone":"Europe/Berlin"},"created":"2010-01-18T16:28:30.255+0000","updated":"2010-01-18T16:28:30.255+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12854266","id":"12854266","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"If these messages are harmful, then we need to give a better message.\n\nIf these messages aren't harmful, then we shouldn't be throwing a java exception.\n\nFWIW, we see these all the time at LinkedIn.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2010-04-06T23:54:55.045+0000","updated":"2010-04-06T23:54:55.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12861209","id":"12861209","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fantacymaker","name":"fantacymaker","key":"fantacymaker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray Young","active":true,"timeZone":"Etc/UTC"},"body":"Is this issue solved? Since the filling of the memory is the always case in Sort like jobs, is it preferable not to close the input stream and maintain it, also to avoid the unnecessary reopen? This will not lead to job failure as reopen and re-transferring will occur, but the hosts will be regarded as \"slow hosts\" and put into the penaltyBox, thus slowing down the whole progress.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fantacymaker","name":"fantacymaker","key":"fantacymaker","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray Young","active":true,"timeZone":"Etc/UTC"},"created":"2010-04-27T02:27:00.260+0000","updated":"2010-04-27T02:27:00.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/12865791","id":"12865791","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=patrickangeles","name":"patrickangeles","key":"patrickangeles","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Angeles","active":true,"timeZone":"America/New_York"},"body":"> If these messages are harmful, then we need to give a better message.\n> If these messages aren't harmful, then we shouldn't be throwing a java exception.\n\n+1\n\nIn particular, logging the entire stacktrace blows up the log file. If this is normal behavior, then perhaps a warning or info log could be emitted with no stacktrace.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=patrickangeles","name":"patrickangeles","key":"patrickangeles","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Angeles","active":true,"timeZone":"America/New_York"},"created":"2010-05-10T14:58:28.449+0000","updated":"2010-05-10T14:58:28.449+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13030767","id":"13030767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=patricioe","name":"patricioe","key":"patricioe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=patricioe&avatarId=10634","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=patricioe&avatarId=10634","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=patricioe&avatarId=10634","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=patricioe&avatarId=10634"},"displayName":"Patricio Echague","active":true,"timeZone":"Etc/UTC"},"body":"> If these messages are harmful, then we need to give a better message.\n> If these messages aren't harmful, then we shouldn't be throwing a java exception.\n\n+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=patricioe","name":"patricioe","key":"patricioe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=patricioe&avatarId=10634","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=patricioe&avatarId=10634","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=patricioe&avatarId=10634","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=patricioe&avatarId=10634"},"displayName":"Patricio Echague","active":true,"timeZone":"Etc/UTC"},"created":"2011-05-09T15:16:30.838+0000","updated":"2011-05-09T15:16:30.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13194590","id":"13194590","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=divyapt","name":"divyapt","key":"divyapt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"divya","active":true,"timeZone":"Etc/UTC"},"body":"We get the above exception on a cluster set up and not on single node . Due to this the performance of the map/reduce job goes down (from 1mins, 35sec to 4mins, 24sec ). \nBut one change in the exception the cause . \n\norg.mortbay.jetty.EofException\n     \nCaused by: java.io.IOException: Connection reset by peer\n        at sun.nio.ch.FileDispatcher.write0(Native Method)\n       \n\nDoes it happen due to connectivity issue among the nodes ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=divyapt","name":"divyapt","key":"divyapt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"divya","active":true,"timeZone":"Etc/UTC"},"created":"2012-01-27T10:15:07.660+0000","updated":"2012-01-27T10:15:07.660+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13260660","id":"13260660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mid9commander","name":"mid9commander","key":"mid9commander","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Qiu","active":true,"timeZone":"Etc/UTC"},"body":"We are getting the same exception in shuffle and it causes all reducers to failed, attached please find the exception.\n\n2012-04-24 15:03:52,163 INFO org.apache.hadoop.mapred.TaskTracker.clienttrace: src: 10.112.195.128:50060, dest: 10.242.102.100:35678, bytes: 65536, op: MAPRED_SHUFFLE, cliID: attempt_201204202043_0002_m_000328_0, duration: 11772847\n2012-04-24 15:03:52,163 ERROR org.mortbay.log: /mapOutput\njava.lang.IllegalStateException: Committed\n        at org.mortbay.jetty.Response.resetBuffer(Response.java:1023)\n        at org.mortbay.jetty.Response.sendError(Response.java:240)\n        at org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:3718)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)\n        at org.apache.hadoop.http.HttpServer$QuotingInputFilter.doFilter(HttpServer.java:824)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\n        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n        at org.mortbay.jetty.Server.handle(Server.java:326)\n        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\n        at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mid9commander","name":"mid9commander","key":"mid9commander","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Qiu","active":true,"timeZone":"Etc/UTC"},"created":"2012-04-24T15:29:14.095+0000","updated":"2012-04-24T15:29:14.095+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13284114","id":"13284114","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xieguiming","name":"xieguiming","key":"xieguiming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xieguiming&avatarId=14331","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xieguiming&avatarId=14331","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xieguiming&avatarId=14331","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xieguiming&avatarId=14331"},"displayName":"xieguiming","active":true,"timeZone":"Etc/UTC"},"body":"I also met the same exception, and so many.  and at last the TT port(50060), 83 connections are in CLOSE_WAIT state. and can not accept any connect.  \n\n2012-05-17 15:52:42,513 INFO  TaskTracker.clienttrace (TaskTracker.java:doGet(3211)) - src: 172.16.4.7:10060, dest: 172.16.4.8:47138, bytes: 458752, op: MAPRED_SHUFFLE, cliID: attempt_201205061050_13074_m_000179_0\n2012-05-17 15:52:42,514 ERROR mortbay.log (Slf4jLog.java:warn(87)) - /mapOutput\njava.lang.IllegalStateException: Committed\n\tat org.mortbay.jetty.Response.resetBuffer(Response.java:1023)\n\tat org.mortbay.jetty.Response.sendError(Response.java:240)\n\tat org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:3202)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:401)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n2012-05-17 15:52:42,510 WARN  mapred.TaskTracker (TaskTracker.java:doGet(3198)) - getMapOutput(attempt_201205061050_13076_m_000055_0,4) failed :\norg.mortbay.jetty.EofException: timeout\n\tat org.mortbay.jetty.AbstractGenerator$Output.blockForOutput(AbstractGenerator.java:548)\n\tat org.mortbay.jetty.AbstractGenerator$Output.flush(AbstractGenerator.java:572)\n\tat org.mortbay.jetty.HttpConnection$Output.flush(HttpConnection.java:1012)\n\tat org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:651)\n\tat org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:580)\n\tat org.apache.hadoop.mapred.TaskTracker$MapOutputServlet.doGet(TaskTracker.java:3179)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:401)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xieguiming","name":"xieguiming","key":"xieguiming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xieguiming&avatarId=14331","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xieguiming&avatarId=14331","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xieguiming&avatarId=14331","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xieguiming&avatarId=14331"},"displayName":"xieguiming","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-27T06:55:49.422+0000","updated":"2012-05-27T06:55:49.422+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13284130","id":"13284130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xieguiming","name":"xieguiming","key":"xieguiming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xieguiming&avatarId=14331","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xieguiming&avatarId=14331","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xieguiming&avatarId=14331","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xieguiming&avatarId=14331"},"displayName":"xieguiming","active":true,"timeZone":"Etc/UTC"},"body":"I have analyzed this problem for one whole day, and I will show some details more.\n1>The TT throw the EofException and the IllegalStateExcetion for the getMapOutput.\n\n2>and then,I use the netstat command to check the http port (50060), and find 83 connections are on CLOSE_WAIT state.and the CLOSE_WAIT state do not disapper always. At least, for 24 hours.\n\n3>form the TT log, after print the exception, the TT http server do not work well. can not accept any http request(no \"sent out\" log found later). and JT add it to the blacklist. I use the curl shell command to access the http service, and client throw timeout. and the Datanode http service on the same node is ok.\n\n4>and I also find the TT CPU is 100% even when there is no any childjvm.\n\n5>and I also find the reduce task on the same node copy slower from other node .\n\n6>I restart the TT. and the TT works well.\n\nI attach the TT logs. if need other logs, tell me. but I am sorry that  we have not the matched userlog, because the userlog will be delete after only 3 hours. and when we find the problem, and many hours pass.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xieguiming","name":"xieguiming","key":"xieguiming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xieguiming&avatarId=14331","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xieguiming&avatarId=14331","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xieguiming&avatarId=14331","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xieguiming&avatarId=14331"},"displayName":"xieguiming","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-27T09:30:32.492+0000","updated":"2012-05-27T09:30:32.492+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13473990","id":"13473990","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=j_caplan","name":"j_caplan","key":"j_caplan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joshua Caplan","active":true,"timeZone":"America/Los_Angeles"},"body":"Could this be interacting negatively with MAPREDUCE-3851?  If the exceptions here really are innocuous, we might want to supply some defaults for mapreduce.reduce.shuffle.catch.exception.stack.regex and mapreduce.reduce.shuffle.catch.exception.message.regex which manage to exclude these from consideration when calculating if the shuffle exception threshold has been reached.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=j_caplan","name":"j_caplan","key":"j_caplan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joshua Caplan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-11T09:27:03.888+0000","updated":"2012-10-11T09:27:03.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13529555","id":"13529555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davidparks21","name":"davidparks21","key":"davidparks21","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Parks","active":true,"timeZone":"Etc/UTC"},"body":"I'm encountering this same situation on AWS's mapreduce instance using v1.0.3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davidparks21","name":"davidparks21","key":"davidparks21","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Parks","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-12T01:39:21.111+0000","updated":"2012-12-12T01:39:21.111+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13630611","id":"13630611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevewatt","name":"stevewatt","key":"stevewatt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Watt","active":true,"timeZone":"America/Chicago"},"body":"For folks looking for a workaround - I am seeing these same exceptions in my logs. I am running a 1TB TeraSort with 20 Reducers on a 4 node cluster. 5 Reducer Tasks hung in the \"Reduce > Sort\" phase at 33% progress for a very long time after all the other reducer tasks had long since completed (hours ago). All of these Reducer Tasks are on the same node, which is very low on free memory (200MB available). The amount of memory allocated to each slot JVM is 1024MB. Net net, I have over provisioned the amount of slots (as well as the JVM memory allocated to each slot) on this node. To fix this, I greatly reduced the slot allocations on this node.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevewatt","name":"stevewatt","key":"stevewatt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Watt","active":true,"timeZone":"America/Chicago"},"created":"2013-04-12T20:48:48.497+0000","updated":"2013-04-12T20:48:48.497+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13673021","id":"13673021","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwtan","name":"cwtan","key":"cwtan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tan Cheng Wee","active":true,"timeZone":"Etc/UTC"},"body":"Will cut down the number of parallel copies help to address this issue?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwtan","name":"cwtan","key":"cwtan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tan Cheng Wee","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-03T11:17:07.492+0000","updated":"2013-06-03T11:17:07.492+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/13756394","id":"13756394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"This one's been stale for a long time, and given the below comment from Jothi, am marking it as Not A Problem.\n\n{quote}\nThe Jetty EOFException is observed when the Reduce Task prematurely closes a connection to a jetty server. The RT might decide to do this when the expected map output size is less than its memory cache limit, but cannot fetch it now because it has already fetched several other map outputs to memory. So, it triggers a flush of the existing map outputs from memory to disk and once this flush is complete, it will attempt to fetch the map output again by reopening the connection to the Jetty. In short, it is OK to see such messages.\nThis should neither cause a task nor a job failure. Are you seeing failures? The reason why these error messages appear for some jobs and not for others is primarily got to do with the size of map outputs and the heap size allocated for the reducer.\n{quote}\n\nFor suppressing the log, as discussed earlier, I've filed: MAPREDUCE-5492.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-09-03T06:45:43.483+0000","updated":"2013-09-03T06:46:53.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425766/comment/14387686","id":"14387686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiptan","name":"jiptan","key":"jiptan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jipeng Tan","active":true,"timeZone":"Etc/UTC"},"body":"Can you let me know which parameter control reducer memory cache limit?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiptan","name":"jiptan","key":"jiptan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jipeng Tan","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-31T00:24:18.422+0000","updated":"2015-03-31T00:24:18.422+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-5/votes","votes":12,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i089ov:"}}