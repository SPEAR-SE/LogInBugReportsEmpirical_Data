{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12473730","self":"https://issues.apache.org/jira/rest/api/2/issue/12473730","key":"MAPREDUCE-2060","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2010-09-10T00:48:55.109+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Mar 11 20:28:56 UTC 2015","customfield_12310420":"149966","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_142040383107_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-03-11T20:28:56.546+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2060/watchers","watchCount":9,"isWatching":false},"created":"2010-09-09T20:49:13.485+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314184","id":"12314184","description":"","name":"0.22.0","archived":false,"released":true,"releaseDate":"2011-12-10"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-11T20:28:56.587+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312907","id":"12312907","name":"jobtracker"}],"timeoriginalestimate":null,"description":"I get the following strange error on the jobtracker when attempting to submit a job:\n\n10/09/09 20:31:35 INFO ipc.Server: IPC Server handler 7 on 31000, call submitJob(job_201009092028_0001, hdfs://hns4.sea1.qc:21000/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009092028_0001, org.apache.hadoop.security.Credentials@20c87621) from 10.128.130.145:49253: error: java.io.IOException: Filesystem closed\njava.io.IOException: Filesystem closed\n\tat org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:307)\n\tat org.apache.hadoop.hdfs.DFSClient.mkdirs(DFSClient.java:1212)\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.mkdirs(DistributedFileSystem.java:494)\n\tat org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:1491)\n\tat org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:395)\n\tat org.apache.hadoop.mapred.JobTracker.submitJob(JobTracker.java:3078)\n\tat org.apache.hadoop.mapred.JobTracker.submitJob(JobTracker.java:3014)\n\tat org.apache.hadoop.mapred.JobTracker.submitJob(JobTracker.java:2996)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:349)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1380)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1376)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1105)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:1374)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74280","customfield_12312823":null,"summary":"IOException: Filesystem closed on submitJob","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"https://svn.apache.org/repos/asf/hadoop/mapreduce/trunk@994941\nhttps://svn.apache.org/repos/asf/hadoop/hdfs/trunk@993542","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12907822","id":"12907822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"FYI: My workaround is to revert https://svn.apache.org/repos/asf/hadoop/mapreduce/trunk@982353, a fix to MAPREDUCE-1900.  I'd rather have a small leak in the JobTracker than not be able to submit jobs.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-09T23:32:07.327+0000","updated":"2010-09-09T23:32:07.327+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12907847","id":"12907847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Hey Dan, this is really odd. For all RPC methods, the RPC server creates a UGI for the remote user and the method call is invoked within a UGI.doAs. closeAllForUGI closes the filesystems that were opened in the context of this doAs. The UGI for the remote user should be different from the UGI of the JobTracker user.. So I don't understand how can closeAllForUGI close the filesystems opened by the JobTracker user (UGI). Is this consistently happening for all job submissions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2010-09-10T00:48:55.109+0000","updated":"2010-09-10T00:48:55.109+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12907855","id":"12907855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, this is happening for all of my job submissions.  Removing the closeAllForUGI() makes the problem go away.\n\nWhen you explain it that way, perhaps it's a problem with doAs() or the closeAllForUGI().  What I know for certain is that the JobTracker's fs gets closed by the closeAllForUGI() call in the JobInProgress constructor.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-10T01:29:15.286+0000","updated":"2010-09-10T01:29:15.286+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12907858","id":"12907858","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Would It be possible that the JobTracker and the user (who submits jobs) using the same account?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-10T01:42:50.810+0000","updated":"2010-09-10T01:42:50.810+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12908087","id":"12908087","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"> Would It be possible that the JobTracker and the user (who submits jobs) using the same account? \n\nIt is certainly possible, though it is not the case for this particular job.\n\nFor all the talk about whether the JobTracker fs is opened under the JobTracker user, it appears that it is not opened under any user:\n\nsrc/java/org/apache/hadoop/mapred/JobTracker.java\n@@ 4092,3 @@ JobTracker(final JobConf conf, Clock clock, boolean ignoredForSimulation)\n    if (fs == null) {\n      fs = FileSystem.get(conf);\n    }\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-10T16:53:48.436+0000","updated":"2010-09-10T16:53:48.436+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12908590","id":"12908590","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Dan, in the implementation of FileSystem caching, you will notice that there is a UGI component in the Key. I am referring to {noformat}static class Key{noformat} in the class FileSystem. So even though in the JobTracker, there is no explicit doAs in the place where the FileSystem is obtained, it will get implicitly owned by the JobTracker's UGI.\nThe closeAll method iterates through the FileSystem instances and closes only those FileSystems whose UGI matches that of the passed UGI. The UGI equality is a reference equality on the Subject field. The remote user's subject (that gets created as part of the UGI when the RPC call in invoked at the server) and the JobTracker's subject wouldn't match.... I am still fighting to understand what's going on in your setup. Can you give more details on your setup, etc., and a way to reproduce this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2010-09-13T02:29:07.690+0000","updated":"2010-09-13T02:29:07.690+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909039","id":"12909039","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"I'm not sure exactly how to provide a repro.  I hit this every time.  I just restarted my jobtracker and hit the \"Filesystem closed\" error right away: no need to even submit a job.  My jobtracker is run as user mr20, the namenode is run as user hd20 on the same node.  Here are their logs:\n\n************************************************************/\n10/09/13 23:04:52 INFO mapred.JobTracker: STARTUP_MSG: \n/************************************************************\nSTARTUP_MSG: Starting JobTracker\nSTARTUP_MSG:   host = hns4.sea1.qc/10.2.12.100\nSTARTUP_MSG:   args = []\nSTARTUP_MSG:   version = 0.22.0-qc\nSTARTUP_MSG:   classpath = /home/mr20/bin/../conf:/usr/java/default/lib/tools.jar:/home/mr20/bin/..:/home/mr20/bin/../hadoop-common-0.22.0-qc.jar:/home/mr20/bin/../hadoop-hdfs-0.22.0-qc.jar:/home/mr20/bin/../hadoop-mapred-0.22.0-qc.jar:/home/mr20/bin/../lib/ant-1.6.5.jar:/home/mr20/bin/../lib/asm-3.2.jar:/home/mr20/bin/../lib/aspectjrt-1.6.5.jar:/home/mr20/bin/../lib/aspectjtools-1.6.5.jar:/home/mr20/bin/../lib/avro-1.3.2.jar:/home/mr20/bin/../lib/commons-cli-1.2.jar:/home/mr20/bin/../lib/commons-codec-1.4.jar:/home/mr20/bin/../lib/commons-el-1.0.jar:/home/mr20/bin/../lib/commons-httpclient-3.1.jar:/home/mr20/bin/../lib/commons-lang-2.5.jar:/home/mr20/bin/../lib/commons-logging-1.1.1.jar:/home/mr20/bin/../lib/commons-logging-api-1.1.jar:/home/mr20/bin/../lib/commons-net-1.4.1.jar:/home/mr20/bin/../lib/core-3.1.1.jar:/home/mr20/bin/../lib/ftplet-api-1.0.0.jar:/home/mr20/bin/../lib/ftpserver-core-1.0.0.jar:/home/mr20/bin/../lib/ftpserver-deprecated-1.0.0-M2.jar:/home/mr20/bin/../lib/hadoop-0.22.0-qc-fairscheduler.jar:/home/mr20/bin/../lib/hsqldb-1.8.0.10.jar:/home/mr20/bin/../lib/jackson-core-asl-1.4.2.jar:/home/mr20/bin/../lib/jackson-mapper-asl-1.4.2.jar:/home/mr20/bin/../lib/jasper-compiler-5.5.12.jar:/home/mr20/bin/../lib/jasper-runtime-5.5.12.jar:/home/mr20/bin/../lib/jdiff-1.0.9.jar:/home/mr20/bin/../lib/jets3t-0.7.1.jar:/home/mr20/bin/../lib/jetty-6.1.14.jar:/home/mr20/bin/../lib/jetty-util-6.1.14.jar:/home/mr20/bin/../lib/jsp-2.1-6.1.14.jar:/home/mr20/bin/../lib/jsp-api-2.1-6.1.14.jar:/home/mr20/bin/../lib/junit-4.8.1.jar:/home/mr20/bin/../lib/kfs-0.3.jar:/home/mr20/bin/../lib/log4j-1.2.15.jar:/home/mr20/bin/../lib/mina-core-2.0.0-M5.jar:/home/mr20/bin/../lib/mockito-all-1.8.2.jar:/home/mr20/bin/../lib/oro-2.0.8.jar:/home/mr20/bin/../lib/paranamer-2.2.jar:/home/mr20/bin/../lib/paranamer-ant-2.2.jar:/home/mr20/bin/../lib/paranamer-generator-2.2.jar:/home/mr20/bin/../lib/qdox-1.10.1.jar:/home/mr20/bin/../lib/servlet-api-2.5-6.1.14.jar:/home/mr20/bin/../lib/slf4j-api-1.5.11.jar:/home/mr20/bin/../lib/slf4j-log4j12-1.5.11.jar:/home/mr20/bin/../lib/xmlenc-0.52.jar:/home/mr20/bin/../lib/jsp-2.1/*.jar:/home/mr20:/home/mr20/conf:/home/mr20/hadoop-mapred-0.22.0-qc.jar:/home/mr20/lib/ant-1.6.5.jar:/home/mr20/lib/asm-3.2.jar:/home/mr20/lib/aspectjrt-1.6.5.jar:/home/mr20/lib/aspectjtools-1.6.5.jar:/home/mr20/lib/avro-1.3.2.jar:/home/mr20/lib/commons-cli-1.2.jar:/home/mr20/lib/commons-codec-1.4.jar:/home/mr20/lib/commons-el-1.0.jar:/home/mr20/lib/commons-httpclient-3.1.jar:/home/mr20/lib/commons-lang-2.5.jar:/home/mr20/lib/commons-logging-1.1.1.jar:/home/mr20/lib/commons-logging-api-1.1.jar:/home/mr20/lib/commons-net-1.4.1.jar:/home/mr20/lib/core-3.1.1.jar:/home/mr20/lib/ftplet-api-1.0.0.jar:/home/mr20/lib/ftpserver-core-1.0.0.jar:/home/mr20/lib/ftpserver-deprecated-1.0.0-M2.jar:/home/mr20/lib/hadoop-0.22.0-qc-fairscheduler.jar:/home/mr20/lib/hsqldb-1.8.0.10.jar:/home/mr20/lib/jackson-core-asl-1.4.2.jar:/home/mr20/lib/jackson-mapper-asl-1.4.2.jar:/home/mr20/lib/jasper-compiler-5.5.12.jar:/home/mr20/lib/jasper-runtime-5.5.12.jar:/home/mr20/lib/jdiff-1.0.9.jar:/home/mr20/lib/jets3t-0.7.1.jar:/home/mr20/lib/jetty-6.1.14.jar:/home/mr20/lib/jetty-util-6.1.14.jar:/home/mr20/lib/jsp-2.1-6.1.14.jar:/home/mr20/lib/jsp-api-2.1-6.1.14.jar:/home/mr20/lib/junit-4.8.1.jar:/home/mr20/lib/kfs-0.3.jar:/home/mr20/lib/log4j-1.2.15.jar:/home/mr20/lib/mina-core-2.0.0-M5.jar:/home/mr20/lib/mockito-all-1.8.2.jar:/home/mr20/lib/oro-2.0.8.jar:/home/mr20/lib/paranamer-2.2.jar:/home/mr20/lib/paranamer-ant-2.2.jar:/home/mr20/lib/paranamer-generator-2.2.jar:/home/mr20/lib/qdox-1.10.1.jar:/home/mr20/lib/servlet-api-2.5-6.1.14.jar:/home/mr20/lib/slf4j-api-1.5.11.jar:/home/mr20/lib/slf4j-log4j12-1.5.11.jar:/home/mr20/lib/xmlenc-0.52.jar:/home/mr20:/home/mr20/hadoop-mapred-0.22.0-qc.jar:/home/mr20/lib/ant-1.6.5.jar:/home/mr20/lib/asm-3.2.jar:/home/mr20/lib/aspectjrt-1.6.5.jar:/home/mr20/lib/aspectjtools-1.6.5.jar:/home/mr20/lib/avro-1.3.2.jar:/home/mr20/lib/commons-cli-1.2.jar:/home/mr20/lib/commons-codec-1.4.jar:/home/mr20/lib/commons-el-1.0.jar:/home/mr20/lib/commons-httpclient-3.1.jar:/home/mr20/lib/commons-lang-2.5.jar:/home/mr20/lib/commons-logging-1.1.1.jar:/home/mr20/lib/commons-logging-api-1.1.jar:/home/mr20/lib/commons-net-1.4.1.jar:/home/mr20/lib/core-3.1.1.jar:/home/mr20/lib/ftplet-api-1.0.0.jar:/home/mr20/lib/ftpserver-core-1.0.0.jar:/home/mr20/lib/ftpserver-deprecated-1.0.0-M2.jar:/home/mr20/lib/hadoop-0.22.0-qc-fairscheduler.jar:/home/mr20/lib/hsqldb-1.8.0.10.jar:/home/mr20/lib/jackson-core-asl-1.4.2.jar:/home/mr20/lib/jackson-mapper-asl-1.4.2.jar:/home/mr20/lib/jasper-compiler-5.5.12.jar:/home/mr20/lib/jasper-runtime-5.5.12.jar:/home/mr20/lib/jdiff-1.0.9.jar:/home/mr20/lib/jets3t-0.7.1.jar:/home/mr20/lib/jetty-6.1.14.jar:/home/mr20/lib/jetty-util-6.1.14.jar:/home/mr20/lib/jsp-2.1-6.1.14.jar:/home/mr20/lib/jsp-api-2.1-6.1.14.jar:/home/mr20/lib/junit-4.8.1.jar:/home/mr20/lib/kfs-0.3.jar:/home/mr20/lib/log4j-1.2.15.jar:/home/mr20/lib/mina-core-2.0.0-M5.jar:/home/mr20/lib/mockito-all-1.8.2.jar:/home/mr20/lib/oro-2.0.8.jar:/home/mr20/lib/paranamer-2.2.jar:/home/mr20/lib/paranamer-ant-2.2.jar:/home/mr20/lib/paranamer-generator-2.2.jar:/home/mr20/lib/qdox-1.10.1.jar:/home/mr20/lib/servlet-api-2.5-6.1.14.jar:/home/mr20/lib/slf4j-api-1.5.11.jar:/home/mr20/lib/slf4j-log4j12-1.5.11.jar:/home/mr20/lib/xmlenc-0.52.jar\nSTARTUP_MSG:   build = git://dadkins-l.corp.qc/Users/dadkins/sandbox/hadoop-git/hadoop-common -r f8cf1bbc93e1091991961eac871cc3132015c4a9; compiled by 'dadkins' on Thu Sep  9 13:57:06 PDT 2010\n************************************************************/\n10/09/13 23:04:58 INFO mapred.JobTracker: Starting jobtracker with owner as mr20 and supergroup as supergroup\n10/09/13 23:04:58 INFO delegation.AbstractDelegationTokenSecretManager: Updating the current master key for generating delegation tokens\n10/09/13 23:04:58 INFO mapred.JobTracker: Scheduler configured with (memSizeForMapSlotOnJT, memSizeForReduceSlotOnJT, limitMaxMemForMapTasks, limitMaxMemForReduceTasks) (-1, -1, -1, -1)\n10/09/13 23:04:58 INFO delegation.AbstractDelegationTokenSecretManager: Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)\n10/09/13 23:04:58 INFO delegation.AbstractDelegationTokenSecretManager: Updating the current master key for generating delegation tokens\n10/09/13 23:04:58 INFO util.HostsFileReader: Refreshing hosts (include/exclude) list\n10/09/13 23:04:58 INFO mapred.QueueManager: AllQueues : {default=default}; LeafQueues : {default=default}\n10/09/13 23:04:58 INFO ipc.Server: Starting SocketReader\n10/09/13 23:04:58 INFO metrics.RpcMetrics: Initializing RPC Metrics with hostName=JobTracker, port=31000\n10/09/13 23:04:58 INFO metrics.RpcDetailedMetrics: Initializing RPC Metrics with hostName=JobTracker, port=31000\n10/09/13 23:04:58 INFO mortbay.log: Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog\n10/09/13 23:04:59 INFO http.HttpServer: Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)\n10/09/13 23:04:59 INFO jobhistory.JobHistory: History log directory is file:////home/mr20/bin/../logs/history\n10/09/13 23:04:59 INFO http.HttpServer: Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 32000\n10/09/13 23:04:59 INFO http.HttpServer: listener.getLocalPort() returned 32000 webServer.getConnectors()[0].getLocalPort() returned 32000\n10/09/13 23:04:59 INFO http.HttpServer: Jetty bound to port 32000\n10/09/13 23:04:59 INFO mortbay.log: jetty-6.1.14\n10/09/13 23:05:04 INFO mortbay.log: Started SelectChannelConnector@hns4.sea1.qc:32000\n10/09/13 23:05:04 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\n10/09/13 23:05:04 INFO mapred.JobTracker: JobTracker up at: 31000\n10/09/13 23:05:04 INFO mapred.JobTracker: JobTracker webserver: 32000\n10/09/13 23:05:04 WARN conf.Configuration: mapred.task.id is deprecated. Instead, use mapreduce.task.attempt.id\n10/09/13 23:05:04 WARN mapred.JobTracker: Failed to add the job jobtracker.info\njava.lang.IllegalArgumentException: JobId string : jobtracker.info is not properly formed\n\tat org.apache.hadoop.mapreduce.JobID.forName(JobID.java:158)\n\tat org.apache.hadoop.mapred.JobID.forName(JobID.java:84)\n\tat org.apache.hadoop.mapred.JobTracker$RecoveryManager.addJobForRecovery(JobTracker.java:1057)\n\tat org.apache.hadoop.mapred.JobTracker.<init>(JobTracker.java:1565)\n\tat org.apache.hadoop.mapred.JobTracker.startTracker(JobTracker.java:275)\n\tat org.apache.hadoop.mapred.JobTracker.startTracker(JobTracker.java:267)\n\tat org.apache.hadoop.mapred.JobTracker.startTracker(JobTracker.java:262)\n\tat org.apache.hadoop.mapred.JobTracker.main(JobTracker.java:4256)\n10/09/13 23:05:04 INFO jobhistory.JobHistory: Inited the done directory to file:/home/mr20/logs/history/done\n10/09/13 23:05:04 INFO jobhistory.JobHistory: Job History Cleaner Thread started. MaxAge is 604800000 ms(7.0 days), Cleanup Frequency is 86400000 ms (1.0 days)\n10/09/13 23:05:04 WARN conf.Configuration: topology.node.switch.mapping.impl is deprecated. Instead, use net.topology.node.switch.mapping.impl\n10/09/13 23:05:04 INFO mapred.CompletedJobStatusStore: Completed job store activated/configured with retain-time : 3600000 , job-info-dir : /jobtracker/jobsInfo\n10/09/13 23:05:05 INFO mapred.FairScheduler: Successfully configured FairScheduler\n10/09/13 23:05:05 INFO mapred.JobTracker: Starting the recovery process for 1 jobs ...\n10/09/13 23:05:05 INFO mapred.JobTracker: Submitting job job_201009090022_0001\n10/09/13 23:05:05 WARN mapred.JobTracker: Could not recover job job_201009090022_0001\njava.io.FileNotFoundException: File does not exist: hdfs://hns4.sea1.qc:21000/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009090022_0001/job.xml\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:732)\n\tat org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:231)\n\tat org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:183)\n\tat org.apache.hadoop.fs.FileSystem.copyToLocalFile(FileSystem.java:1587)\n\tat org.apache.hadoop.fs.FileSystem.copyToLocalFile(FileSystem.java:1568)\n\tat org.apache.hadoop.mapred.JobInProgress.<init>(JobInProgress.java:426)\n\tat org.apache.hadoop.mapred.JobTracker.submitJob(JobTracker.java:3048)\n\tat org.apache.hadoop.mapred.JobTracker.access$1200(JobTracker.java:125)\n\tat org.apache.hadoop.mapred.JobTracker$RecoveryManager.recover(JobTracker.java:1171)\n\tat org.apache.hadoop.mapred.JobTracker.offerService(JobTracker.java:1733)\n\tat org.apache.hadoop.mapred.JobTracker.main(JobTracker.java:4257)\n10/09/13 23:05:05 INFO mapred.JobTracker: Recovery done! Recoverd 0 of 1 jobs.\n10/09/13 23:05:05 INFO mapred.JobTracker: Recovery Duration (ms):73\n10/09/13 23:05:05 INFO mapred.JobTracker: Refreshing hosts information\n10/09/13 23:05:05 INFO util.HostsFileReader: Setting the includes file to \n10/09/13 23:05:05 INFO util.HostsFileReader: Setting the excludes file to \n10/09/13 23:05:05 INFO util.HostsFileReader: Refreshing hosts (include/exclude) list\n10/09/13 23:05:05 INFO mapred.JobTracker: Decommissioning 0 nodes\n10/09/13 23:05:05 WARN mapred.CompletedJobStatusStore: Could not obtain job info files : Filesystem closed\njava.io.IOException: Filesystem closed\n\tat org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:307)\n\tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:860)\n\tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:845)\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.listStatus(DistributedFileSystem.java:373)\n\tat org.apache.hadoop.mapred.CompletedJobStatusStore.deleteJobStatusDirs(CompletedJobStatusStore.java:143)\n\tat org.apache.hadoop.mapred.CompletedJobStatusStore.run(CompletedJobStatusStore.java:128)\n\tat java.lang.Thread.run(Thread.java:619)\n\n\n10/09/13 23:05:04 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=listStatus\tsrc=/tmp/hadoop-mr20/mapred/system\tdst=null\tperm=null\n10/09/13 23:05:04 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=open\tsrc=/tmp/hadoop-mr20/mapred/system/jobtracker.info\tdst=null\tperm=null\n10/09/13 23:05:04 INFO namenode.FSNamesystem: Number of transactions: 64758 Total time for transactions(ms): 565Number of transactions batched in Syncs: 7924 Number of syncs: 32035 SyncTimes(ms): 259783 \n10/09/13 23:05:04 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=create\tsrc=/tmp/hadoop-mr20/mapred/system/jobtracker.info.recover\tdst=nullperm=mr20:supergroup:rw-r--r--\n10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=setPermission\tsrc=/tmp/hadoop-mr20/mapred/system/jobtracker.info.recover\tdst=null\tperm=mr20:supergroup:rw-------\n10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/system/jobtracker.info.recover. blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]}\n10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.3:21100 is added to blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]} size 0\n10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.7:21100 is added to blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]} size 0\n10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.1:21100 is added to blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]} size 0\n10/09/13 23:05:05 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/system/jobtracker.info.recover is closed by DFSClient_544581191\n10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_-651419604412711033_11114 to 10.2.19.102:21100 10.2.19.4:21100 10.2.20.102:21100 \n10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=delete\tsrc=/tmp/hadoop-mr20/mapred/system/jobtracker.info\tdst=null\tperm=null\n10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=rename\tsrc=/tmp/hadoop-mr20/mapred/system/jobtracker.info.recover\tdst=/tmp/hadoop-mr20/mapred/system/jobtracker.info\tperm=mr20:supergroup:rw-------\n10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20\tip=/10.2.12.100\tcmd=open\tsrc=/tmp/hadoop-mr20/mapred/system/job_201009090022_0001/job-info\tdst=null\tperm=null\n10/09/13 23:05:06 INFO hdfs.StateChange: BLOCK* ask 10.2.20.102:21100 to delete  blk_-651419604412711033_11114\n10/09/13 23:05:06 INFO hdfs.StateChange: BLOCK* ask 10.2.19.102:21100 to delete  blk_-651419604412711033_11114\n10/09/13 23:05:06 INFO hdfs.StateChange: BLOCK* ask 10.2.19.4:21100 to delete  blk_-651419604412711033_11114\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-13T23:11:59.396+0000","updated":"2010-09-13T23:11:59.396+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909041","id":"12909041","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Do you have the property mapreduce.jobtracker.restart.recover set to true in your config?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2010-09-13T23:18:18.360+0000","updated":"2010-09-13T23:18:18.360+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909043","id":"12909043","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"Here's the view from HDFS of job submission leading up to the \"Filesystem closed\" error, the original fault reported (I apologize for the length.  I don't know what might be relevant).\n\n10/09/13 23:17:43 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=mkdirs\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913\n2304_0001\tdst=null\tperm=dadkins:supergroup:rwxr-xr-x\n10/09/13 23:17:43 WARN security.ShellBasedUnixGroupsMapping: got exception trying to get groups for user dadkins\norg.apache.hadoop.util.Shell$ExitCodeException: id: dadkins: No such user\n\n\tat org.apache.hadoop.util.Shell.runCommand(Shell.java:256)\n\tat org.apache.hadoop.util.Shell.run(Shell.java:183)\n\tat org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:376)\n\tat org.apache.hadoop.util.Shell.execCommand(Shell.java:462)\n\tat org.apache.hadoop.util.Shell.execCommand(Shell.java:445)\n\tat org.apache.hadoop.security.ShellBasedUnixGroupsMapping.getUnixGroups(ShellBasedUnixGroupsMapping.java:60)\n\tat org.apache.hadoop.security.ShellBasedUnixGroupsMapping.getGroups(ShellBasedUnixGroupsMapping.java:47)\n\tat org.apache.hadoop.security.Groups.getGroups(Groups.java:88)\n\tat org.apache.hadoop.security.UserGroupInformation.getGroupNames(UserGroupInformation.java:996)\n\tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.<init>(FSPermissionChecker.java:51)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkPermission(FSNamesystem.java:4060)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkOwner(FSNamesystem.java:4023)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.setPermission(FSNamesystem.java:679)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.setPermission(NameNode.java:792)\n\tat sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:349)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1380)\n\tat org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1376)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1105)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:1374)\n10/09/13 23:17:43 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setPermission\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001\tdst=null\tperm=dadkins:supergroup:rwx------\n10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=create\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913\n2304_0001/job.jar\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.jar. blk_441\n168967748892583_13013{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.\n2.19.10:21100|RBW], ReplicaUnderConstruction[10.2.19.105:21100|RBW]]}\n10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.105:21100 is added to blk_441168967748892583_13013{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.2.19.10:21100|RBW], ReplicaUnde\nrConstruction[10.2.19.105:21100|RBW]]} size 0\n10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.10:21100 is added to blk_441168967748892583_13013{blockUCSta\nte=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.2.19.10:21100|RBW], ReplicaUnder\nConstruction[10.2.19.105:21100|RBW]]} size 0\n10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.1:21100 is added to blk_441168967748892583_13013{blockUCStat\ne=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.2.19.10:21100|RBW], ReplicaUnderC\nonstruction[10.2.19.105:21100|RBW]]} size 0\n10/09/13 23:17:44 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.jar is clo\nsed by DFSClient_-540240165\n10/09/13 23:17:44 INFO namenode.FSNamesystem: Increasing replication for file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.jar. New\n replication is 10\n10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setReplication\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001/job.jar\tdst=null\tperm=null\n10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setPermission\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001/job.jar\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=create\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913\n2304_0001/job.split\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setPermission\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001/job.split\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:44 INFO namenode.FSNamesystem: Increasing replication for file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.split. N\new replication is 10\n10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setReplication\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001/job.split\tdst=null\tperm=null\n10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.split. blk_-\n1148662313095098724_13014{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction\n[10.2.20.109:21100|RBW], ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100\n|RBW], ReplicaUnderConstruction[10.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUn\nderConstruction[10.2.19.5:21100|RBW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]}\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.2:21100 is added to blk_-1148662313095098724_13014{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd\nerConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.\n2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW\n], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.5:21100 is added to blk_-1148662313095098724_13014{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd\nerConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.\n2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW\n], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.110:21100 is added to blk_-1148662313095098724_13014{blockUC\nState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU\nnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1\n0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R\nBW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.9:21100 is added to blk_-1148662313095098724_13014{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd\nerConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.\n2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW\n], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.103:21100 is added to blk_-1148662313095098724_13014{blockUC\nState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU\nnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1\n0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R\nBW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.105:21100 is added to blk_-1148662313095098724_13014{blockUC\nState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU\nnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1\n0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R\nBW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.3:21100 is added to blk_-1148662313095098724_13014{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd\nerConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.\n2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW\n], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.7:21100 is added to blk_-1148662313095098724_13014{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd\nerConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.\n2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW\n], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.109:21100 is added to blk_-1148662313095098724_13014{blockUC\nState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU\nnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1\n0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R\nBW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.8:21100 is added to blk_-1148662313095098724_13014{blockUCSt\nate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd\nerConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.\n2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW\n], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.split is c\nlosed by DFSClient_-540240165\n10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=create\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913\n2304_0001/job.splitmetainfo\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setPermission\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001/job.splitmetainfo\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.splitmetainf\no. blk_3663919217952367661_13015{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConst\nruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.19.9:21100|RBW]]}\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.9:21100 is added to blk_3663919217952367661_13015{blockUCSta\nte=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderC\nonstruction[10.2.19.9:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.7:21100 is added to blk_3663919217952367661_13015{blockUCSta\nte=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderC\nonstruction[10.2.19.9:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.7:21100 is added to blk_3663919217952367661_13015{blockUCSta\nte=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderC\nonstruction[10.2.19.9:21100|RBW]]} size 0\n10/09/13 23:17:45 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.splitmetai\nnfo is closed by DFSClient_-540240165\n10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=create\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913\n2304_0001/job.xml\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=setPermission\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_\n201009132304_0001/job.xml\tdst=null\tperm=dadkins:supergroup:rw-r--r--\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* ask 10.2.19.105:21100 to replicate blk_441168967748892583_13013 to datanode(s) 10.2.20.4:21100 10.2.20.5:21100 10\n.2.19.107:21100 10.2.20.102:21100 10.2.20.6:21100 10.2.20.8:21100 10.2.20.101:21100\n10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.xml. blk_261\n8516530812979395_13016{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[\n10.2.19.5:21100|RBW], ReplicaUnderConstruction[10.2.20.5:21100|RBW]]}\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.5:21100 is added to blk_2618516530812979395_13016{blockUCSta\nte=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW], ReplicaUnde\nrConstruction[10.2.20.5:21100|RBW]]} size 0\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.5:21100 is added to blk_2618516530812979395_13016{blockUCSta\nte=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW], ReplicaUnde\nrConstruction[10.2.20.5:21100|RBW]]} size 0\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.107:21100 is added to blk_2618516530812979395_13016{blockUCS\ntate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW], ReplicaUn\nderConstruction[10.2.20.5:21100|RBW]]} size 0\n10/09/13 23:17:46 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.xml is clo\nsed by DFSClient_-540240165\n10/09/13 23:17:46 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.2.12.100\tcmd=open\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_000\n1/job.xml\tdst=null\tperm=null\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.19.1:21100 10.2.19.10:21100 10.2.19.105:21100 \n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_-1148662313095098724_13014 to 10.2.19.8:21100 10.2.20.109:21100 10.2.20.7:21100 \n10.2.20.3:21100 10.2.20.105:21100 10.2.20.103:21100 10.2.20.9:21100 10.2.19.110:21100 10.2.19.5:21100 10.2.20.2:21100 \n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_3663919217952367661_13015 to 10.2.20.7:21100 10.2.19.7:21100 10.2.19.9:21100 \n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_2618516530812979395_13016 to 10.2.19.107:21100 10.2.19.5:21100 10.2.20.5:21100 \n10/09/13 23:17:46 INFO FSNamesystem.audit: ugi=dadkins\tip=/10.128.130.145\tcmd=delete\tsrc=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913\n2304_0001\tdst=null\tperm=null\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.4:21100 size 252058 does not belong to any fil\ne.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.4:21100\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.5:21100 size 252058 does not belong to any fil\ne.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.5:21100\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.19.107:21100 size 252058 does not belong to any f\nile.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.19.107:21100\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.102:21100 size 252058 does not belong to any f\nile.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.102:21100\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.6:21100 size 252058 does not belong to any fil\ne.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.6:21100\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.8:21100 size 252058 does not belong to any fil\ne.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.8:21100\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.101:21100 size 252058 does not belong to any f\nile.\n10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.101:21100\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-13T23:21:51.524+0000","updated":"2010-09-13T23:21:51.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909044","id":"12909044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"> Do you have the property mapreduce.jobtracker.restart.recover set to true in your config? \n\nYes, intentionally.  I was testing that feature.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-13T23:22:57.717+0000","updated":"2010-09-13T23:22:57.717+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909056","id":"12909056","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Sigh .. we haven't tested things with the JobTracker recovery set to true. That might explain some. \nFrom your logs you pasted last, it seems like the NameNode is not able to resolve the group for user dadkins (the default implementation for group resolution assumes user accounts exist on all nodes on the cluster). Are you able to do normal HDFS operations as dadkins? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2010-09-14T00:06:06.653+0000","updated":"2010-09-14T00:06:06.653+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909063","id":"12909063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, I am able to all HDFS operations as dadkins.\n\nWe do not have user accounts on individual boxes in our cluster; we are not doing LDAP or anything of that nature.  We do, however, have the mr20 (mapreduce) and hd20 (hdfs) users on all nodes, and those users own the local files on each node.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-14T00:16:16.725+0000","updated":"2010-09-14T00:16:16.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909538","id":"12909538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"body":"I instrumented the doAs and the suspect closeAllForUGI() call in JobInProgress:\n\nsrc/java/org/apache/hadoop/mapred/JobInProgress.java:\npublic JobInProgress(JobTracker jobtracker,...\n      LOG.info(\"doAs: \" + ugi);\n      fs = ugi.doAs(new PrivilegedExceptionAction<FileSystem>() {\n\n      LOG.info(\"closeAllForUGI: \" + UserGroupInformation.getCurrentUser());\n      FileSystem.closeAllForUGI(UserGroupInformation.getCurrentUser());\n\nThe result:\n10/09/15 00:28:57 INFO mapred.JobInProgress: doAs: dadkins\n10/09/15 00:28:57 INFO mapred.JobInProgress: closeAllForUGI: mr20\n\nI think that narrows down the source of the problem.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dadkins","name":"dadkins","key":"dadkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Adkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-15T00:32:48.464+0000","updated":"2010-09-15T00:32:48.464+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/12909858","id":"12909858","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Dan, if you want to continue testing the jobtracker recovery feature, for now, please revert the patch in your local copy. We will fix the problem in a follow up patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2010-09-15T19:49:53.854+0000","updated":"2010-09-15T19:49:53.854+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473730/comment/14357532","id":"14357532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"stale/won't fix. 0.22 is dead","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-03-11T20:28:56.579+0000","updated":"2015-03-11T20:28:56.579+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2060/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d33z:"}}