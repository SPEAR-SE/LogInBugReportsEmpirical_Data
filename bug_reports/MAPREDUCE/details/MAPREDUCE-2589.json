{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12510130","self":"https://issues.apache.org/jira/rest/api/2/issue/12510130","key":"MAPREDUCE-2589","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316391","id":"12316391","description":"Merge append/sync support with security","name":"0.20.205.0","archived":false,"released":true,"releaseDate":"2011-10-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2011-06-13T20:21:25.168+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Oct 19 00:30:20 UTC 2011","customfield_12310420":"66906","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_1123887127_*|*_1_*:*_1_*:*_2591088090_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-07-26T18:45:51.809+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2589/watchers","watchCount":10,"isWatching":false},"created":"2011-06-13T18:49:36.619+0000","customfield_12310192":"Won't Fix","customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316391","id":"12316391","description":"Merge append/sync support with security","name":"0.20.205.0","archived":false,"released":true,"releaseDate":"2011-10-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-10-19T00:30:20.448+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312906","id":"12312906","name":"tasktracker"}],"timeoriginalestimate":null,"description":"UserLogCleaner is not robust. Leftover userlogs after a restart sometimes have to be manually\ncleaned. Things can accumulate over a period of time.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12482371","id":"12482371","filename":"cleanup_userlogs.py","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=traviscrawford","name":"traviscrawford","key":"traviscrawford","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=traviscrawford&avatarId=26745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=traviscrawford&avatarId=26745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=traviscrawford&avatarId=26745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=traviscrawford&avatarId=26745"},"displayName":"Travis Crawford","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-13T20:21:25.149+0000","size":7227,"mimeType":"text/x-python-script","content":"https://issues.apache.org/jira/secure/attachment/12482371/cleanup_userlogs.py"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12487372","id":"12487372","filename":"MAPREDUCE-2589_1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-21T23:21:45.360+0000","size":2642,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12487372/MAPREDUCE-2589_1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12482575","id":"12482575","filename":"MAPREDUCE-2589.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-14T17:46:32.788+0000","size":2641,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12482575/MAPREDUCE-2589.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"112018","customfield_12312823":null,"summary":"TaskTracker not purging userlog directories","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"0.20.205","customfield_12313520":null,"customfield_12311020":null,"duedate":"2011-06-20","customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13048744","id":"13048744","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=traviscrawford","name":"traviscrawford","key":"traviscrawford","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=traviscrawford&avatarId=26745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=traviscrawford&avatarId=26745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=traviscrawford&avatarId=26745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=traviscrawford&avatarId=26745"},"displayName":"Travis Crawford","active":true,"timeZone":"America/Los_Angeles"},"body":"We see this on our clusters too.\n\nAttached is a script that I run from cron to cleanup old userlogs. The general idea is setting some high water mark for userlog disk space, and when passed, delete logs until passing some low water mark. Logs for running jobs are excluded from cleanup, which has infrequently caused issues but in general are worth excluding.\n\nPosting as an example of what the replacement might look like (as an internal periodic task, of course). Also, not sure how the nextgen stuff deals with cleanup.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=traviscrawford","name":"traviscrawford","key":"traviscrawford","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=traviscrawford&avatarId=26745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=traviscrawford&avatarId=26745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=traviscrawford&avatarId=26745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=traviscrawford&avatarId=26745"},"displayName":"Travis Crawford","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-13T20:21:25.168+0000","updated":"2011-06-13T20:21:25.168+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13049304","id":"13049304","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"body":"Attached fix will delete leftover user logs which are last modified 7 days ago\nand are not for any running jobs when TaskTracker restarts. \nUserLogCleaner still\ntakes care of normal user logs cleanup.\nDEFAULT_USER_LOG_RETAIN_HOURS is 1 day, so I added new\nDEFAULT_USER_LOG_RETAIN_MAX_HOURS as 7 days.\n\nI would like to have a separate JIRA to handle cleanup old userlogs based on\nuserlog disk space water mark since which may deal with job configuration settings\nchange.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-14T17:46:32.841+0000","updated":"2011-06-14T17:46:32.841+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13049310","id":"13049310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Sherry, does this issue not also affect trunk? If so, would you mind preparing a trunk patch as well?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-14T17:55:33.610+0000","updated":"2011-06-14T17:55:33.610+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13062159","id":"13062159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"body":"Aaron,\nI believe MAPREDUCE-1100 and related JIRAs change how task-logs work. We may not need to have this patch for trunk at this point.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-08T20:27:41.893+0000","updated":"2011-07-08T20:27:41.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13064759","id":"13064759","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12482575/MAPREDUCE-2589.patch\n  against trunk revision 1145889.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/464//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-13T18:43:29.694+0000","updated":"2011-07-13T18:43:29.694+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13067471","id":"13067471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"The patch looks good.\n\nOne minor nit:\n\n I think the variable name below:\n\n{quote}\n  long logRetainiMillSec = DEFAULT_USER_LOG_RETAIN_MAX_HOURS * 60 * 60 * 1000;\n{quote}\nwas supposed to be logRetainMilliSec? (spelling mistake?)\n\nAlso, can you please post the ant test results on the jira? \n\nTHe patch lacks unit tests,  have you already verified the fix on a small cluster?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-19T03:27:24.681+0000","updated":"2011-07-19T03:27:24.681+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13067516","id":"13067516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"body":"One improvement can be done in the patch, now for every file in the user log directory it is getting the jobs which are to be completed every time and checking. Instead of this it can get the jobs list once and can check for all the files in the user log directory whether it belongs to running job or not.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-19T05:38:39.662+0000","updated":"2011-07-19T05:38:39.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13069283","id":"13069283","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"body":"Fixed typo.\nAnt test passed by manually testing in a single node cluster.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-21T23:21:45.384+0000","updated":"2011-07-21T23:21:45.384+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13069288","id":"13069288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12487372/MAPREDUCE-2589_1.patch\n  against trunk revision 1149323.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/493//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-21T23:33:28.954+0000","updated":"2011-07-21T23:33:28.954+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13070295","id":"13070295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"Sherry,\n Sorry I looked at it again and I think its good if we make the DEFAULT_USER_LOG_RETAIN_MAX_HOURS configurable. Also, -1 should disable the feature. I think its important to be able to switch off misbehaving configuration. \n\nAlso, why do we need a call to get jobs that are still running? I thought the call was made only on restart/reinit? We should be able to clean old user logs without calling jc.jobstocomplete? I think we should avoid adding a dependency on calling jobtracker client methods in the tasktracker itself. what do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-25T02:14:05.124+0000","updated":"2011-07-25T02:14:05.124+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13070916","id":"13070916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"body":"Mahadev,\n\nPer Bharath (Mundlapudi), his change in MAPREDUCE-2415 distributes TaskTracker userlogs onto multiple\ndisks, it went into 0.20.204.\nChanges in MAPREDUCE-2415 strengthened TaskTracker reliability with regard to disk failures, also\nhave addOldUserLogsForDeletion() to add the job log directories for deletion with default retain hours.\n\nI tested with MAPREDUCE-2415 change in, all old job log directories will be deleted after default retain hours.\n\nI think my change here is not necessary, I would like to withdraw it. Is it OK with you?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sherri_chen","name":"sherri_chen","key":"sherri_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sherry Chen","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-26T03:22:34.805+0000","updated":"2011-07-26T03:22:34.805+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13070918","id":"13070918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"Sherry,\n That sounds good to me! Please resolve this as WONT FIX.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-26T03:26:14.361+0000","updated":"2011-07-26T03:26:14.361+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12510130/comment/13130277","id":"13130277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"body":"Closed upon release of 0.20.205.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-10-19T00:30:20.447+0000","updated":"2011-10-19T00:30:20.447+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-2589/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0jj27:"}}