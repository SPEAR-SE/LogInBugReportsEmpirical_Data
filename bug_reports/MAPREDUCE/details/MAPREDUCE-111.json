{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12426085","self":"https://issues.apache.org/jira/rest/api/2/issue/12426085","key":"MAPREDUCE-111","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2011-08-10T09:29:25.165+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 16 05:44:27 UTC 2011","customfield_12310420":"64967","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_163088638381_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-22T19:53:43.149+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-111/watchers","watchCount":0,"isWatching":false},"created":"2009-05-22T05:29:44.791+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-07-22T19:53:43.169+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312907","id":"12312907","name":"jobtracker"}],"timeoriginalestimate":null,"description":"JobTracker.getSystemDir throws NPE if it is called during intialization.\nIt should check if fileSystem is null and throw IllegalStateException, as in getFilesystemName method.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"108466","customfield_12312823":null,"summary":"JobTracker.getSystemDir throws NPE if it is called during intialization","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12426085/comment/13082252","id":"13082252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subrotosanyal","name":"subrotosanyal","key":"subrotosanyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Subroto Sanyal","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Amreshwari,\n\nThis issue seems to be invalid to me as, the constructor of JobTracker will make sure that the FileSystem is initialized i.e. the constructor takes the full responsibility of initializing the FileSystem.\n\nThe initialization is in an infinite loop which will make sure FileSystem is not null.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subrotosanyal","name":"subrotosanyal","key":"subrotosanyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Subroto Sanyal","active":true,"timeZone":"Europe/Berlin"},"created":"2011-08-10T09:29:25.165+0000","updated":"2011-08-10T09:29:25.165+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12426085/comment/13082278","id":"13082278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"NPE occurs only during initialization. The issue says we should throw IllegalStateException instead of NPE, in such case.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-08-10T10:34:18.952+0000","updated":"2011-08-10T10:34:18.952+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12426085/comment/13082871","id":"13082871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abhijit.shingate","name":"abhijit.shingate","key":"abhijit.shingate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abhijit.shingate&avatarId=20080","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abhijit.shingate&avatarId=20080","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abhijit.shingate&avatarId=20080","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abhijit.shingate&avatarId=20080"},"displayName":"Abhijit Suresh Shingate","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi Amreshwari,\nFrom my understanding, the while loop and try catch block takes care that the FileSystem must be initialised properly and then only JobTracker should proceed with other tasks.\n\nDo you see any scenario where the org.apache.hadoop.mapred.JobTracker.getSystemDir() is called even before the fs is set?\n\nThanks & Regards,\nAbhijit","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abhijit.shingate","name":"abhijit.shingate","key":"abhijit.shingate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abhijit.shingate&avatarId=20080","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abhijit.shingate&avatarId=20080","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abhijit.shingate&avatarId=20080","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abhijit.shingate&avatarId=20080"},"displayName":"Abhijit Suresh Shingate","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-08-11T03:11:00.356+0000","updated":"2011-08-11T03:11:00.356+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12426085/comment/13082877","id":"13082877","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abhijit.shingate","name":"abhijit.shingate","key":"abhijit.shingate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abhijit.shingate&avatarId=20080","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abhijit.shingate&avatarId=20080","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abhijit.shingate&avatarId=20080","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abhijit.shingate&avatarId=20080"},"displayName":"Abhijit Suresh Shingate","active":true,"timeZone":"Asia/Kolkata"},"body":"As a Good Public API practice, we can make it throw IllegalStateException in case the fs is not initialised.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abhijit.shingate","name":"abhijit.shingate","key":"abhijit.shingate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abhijit.shingate&avatarId=20080","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abhijit.shingate&avatarId=20080","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abhijit.shingate&avatarId=20080","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abhijit.shingate&avatarId=20080"},"displayName":"Abhijit Suresh Shingate","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-08-11T03:21:28.481+0000","updated":"2011-08-11T03:21:28.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12426085/comment/13085546","id":"13085546","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subrotosanyal","name":"subrotosanyal","key":"subrotosanyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Subroto Sanyal","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Amreshwari/Abhijit,\n\nTo call the public API *org.apache.hadoop.mapred.JobTracker.getSystemDir()* we must have the instance of *JobTracker*. When the call to *JobTracker* constructor is made, the constructor makes sure that *FileSystem* is initialized.\n\nPlease let me know if I am missing any point where *FileSystem* will not be initialized but, the *JobTracker* will be.\n\nAs per my understanding if we introduce such checks, we will end up making null checks in all public APIs leading to too much defensive coding.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subrotosanyal","name":"subrotosanyal","key":"subrotosanyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Subroto Sanyal","active":true,"timeZone":"Europe/Berlin"},"created":"2011-08-16T05:44:27.886+0000","updated":"2011-08-16T05:44:27.886+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-111/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ix5r:"}}