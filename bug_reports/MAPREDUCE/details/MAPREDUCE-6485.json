{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12888739","self":"https://issues.apache.org/jira/rest/api/2/issue/12888739","key":"MAPREDUCE-6485","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310941","id":"12310941","key":"MAPREDUCE","name":"Hadoop Map/Reduce","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329060","id":"12329060","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335734","id":"12335734","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-09-19T07:38:18.947+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Aug 18 09:39:07 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_34086171_*|*_4_*:*_1_*:*_705487346_*|*_5_*:*_2_*:*_138540026_*|*_10002_*:*_1_*:*_274443879","customfield_12312321":null,"resolutiondate":"2015-10-02T15:08:49.086+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-6485/watchers","watchCount":9,"isWatching":false},"created":"2015-09-19T06:59:31.806+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326698","id":"12326698","description":"2.4.1 bug-fix release","name":"2.4.1","archived":false,"released":true,"releaseDate":"2014-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12327180","id":"12327180","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12331978","id":"12331978","description":"2.7.1 release","name":"2.7.1","archived":false,"released":true,"releaseDate":"2015-07-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335734","id":"12335734","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-08-18T09:39:07.156+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315625","id":"12315625","name":"applicationmaster"}],"timeoriginalestimate":null,"description":"The scenarios is like this:\nWith configuring mapreduce.job.reduce.slowstart.completedmaps=0.8, reduces will take resource and  start to run when all the map have not finished. \nBut It could happened that when all the resources are taken up by running reduces, there is still one map not finished. \nUnder this condition , the last map have two task attempts .\nAs for the first attempt was killed due to timeout(mapreduce.task.timeout), and its state transitioned from RUNNING to FAIL_CONTAINER_CLEANUP then to FAILED, but failed map attempt would not be restarted for there is still one speculate map attempt in progressing. \nAs for the second attempt which was started due to having enable map task speculative is pending at UNASSINGED state because of no resource available. But the second map attempt request have lower priority than reduces, so preemption would not happened.\nAs a result all reduces would not finished because of there is one map left. and the last map hanged there because of no resource available. so, the job would never finish.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12761796","id":"12761796","filename":"MAPREDUCE-6485.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-23T03:05:25.637+0000","size":2867,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12761796/MAPREDUCE-6485.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12764223","id":"12764223","filename":"MAPREDUCE-6485.004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-29T10:49:53.401+0000","size":9900,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12764223/MAPREDUCE-6485.004.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12764243","id":"12764243","filename":"MAPREDUCE-6485.005.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-29T13:43:03.373+0000","size":9863,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12764243/MAPREDUCE-6485.005.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12764359","id":"12764359","filename":"MAPREDUCE-6485.006.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-30T01:18:35.979+0000","size":9848,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12764359/MAPREDUCE-6485.006.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12762310","id":"12762310","filename":"MAPREDUCE-6845.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-25T02:53:43.582+0000","size":11070,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12762310/MAPREDUCE-6845.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12762342","id":"12762342","filename":"MAPREDUCE-6845.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-25T07:02:58.319+0000","size":11356,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12762342/MAPREDUCE-6845.003.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"MR job hanged forever because all resources are taken up by reducers and the last map attempt never get resource to run","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jobo","name":"Jobo","key":"jobo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bob.zhao","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jobo","name":"Jobo","key":"jobo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bob.zhao","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":"2015-09-19","customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14876950","id":"14876950","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=varun_saxena","name":"varun_saxena","key":"varun_saxena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Saxena","active":true,"timeZone":"Asia/Kolkata"},"body":"Do you have AM logs ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=varun_saxena","name":"varun_saxena","key":"varun_saxena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Saxena","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-09-19T07:38:18.947+0000","updated":"2015-09-19T07:38:18.947+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14877128","id":"14877128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jobo","name":"Jobo","key":"jobo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bob.zhao","active":true,"timeZone":"Etc/UTC"},"body":"@[~varun_saxena] Thanks for your checking this issue. Below are some related logs you can refer to.\n*1. All logs in AM about first attempt:*\n{code}\n03:30:32,457 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_0 TaskAttempt Transitioned from NEW to UNASSIGNED\n03:33:22,037 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_003425 to attempt_1439640536651_4710_m_002807_0\n03:33:22,038 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_0 TaskAttempt Transitioned from UNASSIGNED to ASSIGNED\n03:33:22,044 INFO [ContainerLauncher #27] org.apache.hadoop.mapreduce.v2.app.launcher.ContainerLauncherImpl: Processing the event EventType: CONTAINER_REMOTE_LAUNCH for container container_1439640536651_4710_01_003425 taskAttempt attempt_1439640536651_4710_m_002807_0\n03:33:22,044 INFO [ContainerLauncher #27] org.apache.hadoop.mapreduce.v2.app.launcher.ContainerLauncherImpl: Launching attempt_1439640536651_4710_m_002807_0\n03:33:22,071 INFO [ContainerLauncher #27] org.apache.hadoop.mapreduce.v2.app.launcher.ContainerLauncherImpl: Shuffle port returned by ContainerManager for attempt_1439640536651_4710_m_002807_0 : 26008\n03:33:22,071 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: TaskAttempt: [attempt_1439640536651_4710_m_002807_0] using containerId: [container_1439640536651_4710_01_003425 on NM: [SCCHDPHIV02129:26009]\n03:33:22,071 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_0 TaskAttempt Transitioned from ASSIGNED to RUNNING\n03:33:31,481 INFO [IPC Server handler 24 on 27102] org.apache.hadoop.mapred.TaskAttemptListenerImpl: JVM with ID: jvm_1439640536651_4710_m_003425 given task: attempt_1439640536651_4710_m_002807_0\n03:43:31,473 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: Diagnostics report from attempt_1439640536651_4710_m_002807_0: AttemptID:attempt_1439640536651_4710_m_002807_0 Timed out after 600 secs\n03:43:31,473 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: Diagnostics report from attempt_1439640536651_4710_m_002807_0: AttemptID:attempt_1439640536651_4710_m_002807_0 Timed out after 600 secs\n03:43:31,474 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_0 TaskAttempt Transitioned from RUNNING to FAIL_CONTAINER_CLEANUP\n03:43:31,474 INFO [ContainerLauncher #23] org.apache.hadoop.mapreduce.v2.app.launcher.ContainerLauncherImpl: Processing the event EventType: CONTAINER_REMOTE_CLEANUP for container container_1439640536651_4710_01_003425 taskAttempt attempt_1439640536651_4710_m_002807_0\n03:43:31,474 INFO [ContainerLauncher #23] org.apache.hadoop.mapreduce.v2.app.launcher.ContainerLauncherImpl: KILLING attempt_1439640536651_4710_m_002807_0\n03:43:31,478 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_0 TaskAttempt Transitioned from FAIL_CONTAINER_CLEANUP to FAIL_TASK_CLEANUP\n03:43:31,478 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_0 TaskAttempt Transitioned from FAIL_TASK_CLEANUP to FAILED\n03:43:32,701 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: Diagnostics report from attempt_1439640536651_4710_m_002807_0: Container killed by the ApplicationMaster.\n{code}\n*2. All logs in AM about second  attempt (only have one split):*\n{code}\n03:39:55,339 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1439640536651_4710_m_002807_1 TaskAttempt Transitioned from NEW to UNASSIGNED\n{code}\n*3. Checking the log with  time_stamp we can see later available resource are all allocated to reduces not the last map attempt after the second attempt started :*\n{code}\n03:39:55,978 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_015149 to attempt_1439640536651_4710_r_000669_0\n03:39:55,978 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: After Scheduling: PendingReds:0 ScheduledMaps:1 ScheduledReds:330 AssignedMaps:1 AssignedReds:669 CompletedMaps:14257 CompletedReds:0 ContAlloc:14958 ContRel:30 HostLocal:14221 RackLocal:38\n03:40:01,004 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Got allocated containers 1\n03:40:01,004 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned to reduce\n03:40:01,004 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_015150 to attempt_1439640536651_4710_r_000670_0\n03:40:01,004 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: After Scheduling: PendingReds:0 ScheduledMaps:1 ScheduledReds:329 AssignedMaps:1 AssignedReds:670 CompletedMaps:14257 CompletedReds:0 ContAlloc:14959 ContRel:30 HostLocal:14221 RackLocal:38\n03:40:05,025 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Got allocated containers 1\n03:40:05,025 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned to reduce\n03:40:05,025 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_015151 to attempt_1439640536651_4710_r_000671_0\n03:40:05,025 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: After Scheduling: PendingReds:0 ScheduledMaps:1 ScheduledReds:328 AssignedMaps:1 AssignedReds:671 CompletedMaps:14257 CompletedReds:0 ContAlloc:14960 ContRel:30 HostLocal:14221 RackLocal:38\n03:40:15,078 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Got allocated containers 1\n03:40:15,078 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned to reduce\n03:40:15,140 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_015152 to attempt_1439640536651_4710_r_000672_0\n03:40:15,140 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: After Scheduling: PendingReds:0 ScheduledMaps:1 ScheduledReds:327 AssignedMaps:1 AssignedReds:672 CompletedMaps:14257 CompletedReds:0 ContAlloc:14961 ContRel:30 HostLocal:14221 RackLocal:38\n03:40:19,161 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Got allocated containers 1\n03:40:19,161 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned to reduce\n03:40:19,161 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_015153 to attempt_1439640536651_4710_r_000673_0\n03:40:19,161 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: After Scheduling: PendingReds:0 ScheduledMaps:1 ScheduledReds:326 AssignedMaps:1 AssignedReds:673 CompletedMaps:14257 CompletedReds:0 ContAlloc:14962 ContRel:30 HostLocal:14221 RackLocal:38\n03:43:32,701 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Received completed container container_1439640536651_4710_01_003425\n03:43:32,701 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Got allocated containers 1\n03:43:32,701 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned to reduce\n03:43:32,701 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Assigned container container_1439640536651_4710_01_015154 to attempt_1439640536651_4710_r_000674_0\n03:43:32,701 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: After Scheduling: PendingReds:0 ScheduledMaps:1 ScheduledReds:325 AssignedMaps:0 AssignedReds:674 CompletedMaps:14257 CompletedReds:0 ContAlloc:14963 ContRel:30 HostLocal:14221 RackLocal:38\n....\n{code}\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jobo","name":"Jobo","key":"jobo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bob.zhao","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-19T13:54:41.993+0000","updated":"2015-09-19T13:54:41.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14877199","id":"14877199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"body":"I believe this is a duplicate of MAPREDUCE-6302, and an artifact of the scheduler's headroom calculation not being accurate. \n\nPlease re-open if you disagree. \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-19T16:27:37.845+0000","updated":"2015-09-19T16:27:37.845+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14900283","id":"14900283","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~kasha], the two are similar but not the same. In MAPREDUCE-6302, a map is marked as failed so it can raise another resource request with higher priority than reduce, and thus can consume the preempt resource. In this case, the map is killed due to time out. In the current implementation, the killed map is not marked as failed, so it won't raise new resource request and retry to do the map. Then it fails completely and the whole job hangs there.\n\nNow reopen it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-21T06:56:16.902+0000","updated":"2015-09-21T06:56:16.902+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14900407","id":"14900407","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"bq. the killed map is not marked as failed, so it won't raise new resource request and retry to do the map\nTimed out task attempts are marked as FAILED. New attempt will launch with priority 5 i.e failed map request.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-21T09:09:05.747+0000","updated":"2015-09-21T09:09:05.747+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14900410","id":"14900410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Got the logs from [~Jobo] offline. One of the potential issue is when speculative task attempt launches. The below is the flow of events which causes problem.\n# There are T1..Tn task attempts are there. The tasks T1..Tn-1 are finished and task attempt Tn is running. \n# Reducers are scheduled(RR is sent to RM). Some of the reducers attempts are running. So Tn th task + Reducer tasks are occupied full cluster. And 50 more reducers task are in queue i.e RM has to assign 50 containers with 10 i.e reducer priority.\n# Speculative task for Tn map task attempt is spawned with priority 20 and ResourceRequest has sent to RM.\n# Since Reducers has higher priority, RM will not assign any containers to mapper task resource request(speculative task).\n# Tn mapper task has timed out because of some reason. So task attempt is marked as failed.\n# But new attempt with failed map task priority WILL NOT BE created since already one attempt i.e speculative attempt is there with scheduledMap. {color:red}MR job hangs forever here.{color}\n\nCorrect me if I am wrong, I think MAPREDUCE-6302 solution will not solve fully because even if reducer preemption happens it has to preempt all the scheduled reducers containers by which means RM has to assign container to reducers and preempt. After all the queued reducers request are served since reducers has  higher priority and pick up the mapper resource request for assignment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-21T09:11:36.729+0000","updated":"2015-09-21T09:11:36.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14900776","id":"14900776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~rohithsharma], you are right. I find this can be fixed through a simple approach. Now in {{TaskImpl}}, A failed task can only been rescheduled when there's no {{inProgressAttempts}} and {{successfulAttempts}},\n{code}\n      if (task.failedAttempts.size() < task.maxAttempts) {\n        task.handleTaskAttemptCompletion(\n            taskAttemptId, \n            TaskAttemptCompletionEventStatus.FAILED);\n        // we don't need a new event if we already have a spare\n        task.inProgressAttempts.remove(taskAttemptId);\n        if (task.inProgressAttempts.size() == 0\n            && task.successfulAttempt == null) {\n          task.addAndScheduleAttempt(Avataar.VIRGIN);\n        }\n      } else {\n{code}\nIn this case, the speculative attempt is in progress so no new attempt will be created. However, the speculative attempt can't get resource since it's priority is 20 and the cluster is full of reduces. Now we can check if all of the {{inProgressAttempts}} are in {{SCHEDULED}} state (no inProgressAttempts is really running). If yes, it indicate that the speculative attempts are all waiting for resource, which mean the cluster resource is in short. The attempt failed in this case should create a new attempt that has higher priority which can preempt resource, like this,\n{code}\n        if ((task.inProgressAttempts.size() == 0 || all_of_in_progress_attempts_are_waiting_for_resource)\n            && task.successfulAttempt == null) {\n          task.addAndScheduleAttempt(Avataar.VIRGIN);\n        }\n{code}\nthoughts?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-21T14:51:37.440+0000","updated":"2015-09-21T14:51:37.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14901766","id":"14901766","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Correct above comment: we should check if all of the {{inProgressAttempts}} are in {{UNASSIGNED}} state, other than {{SCHEDULED}}.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-22T01:54:34.420+0000","updated":"2015-09-22T01:54:34.420+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14903811","id":"14903811","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jobo","name":"Jobo","key":"jobo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bob.zhao","active":true,"timeZone":"Etc/UTC"},"body":"[~xinxianyin],Thanks for your deeply analysis. Though we have found the rootcause of this issue, could you provide one patch for this? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jobo","name":"Jobo","key":"jobo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bob.zhao","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-23T02:08:04.272+0000","updated":"2015-09-23T02:08:04.272+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14903871","id":"14903871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Upload a patch, pls review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-23T03:05:25.641+0000","updated":"2015-09-23T03:05:25.641+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14904277","id":"14904277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Looked deeper in to reducer preemption code and find that even if *headroom is available for assigning map request* and {{pendingReducers}} are zero and {{scheduledReducers}} are more then *neither preemption will be triggered nor Ramping down of reducers will happen*. RM always allocates containers to reducers. If scheduledReducers are more, then at some point of time cluster resources are fully acquired by reducers. Say if reducers memory is 5GB and mapper memory is 4GB. Headroom 4GB is available where 1 mapper can be assigned to it. But since more reducers requests are there  to assign, RM always skip the assignment for reducers since capacity 5GB is greater then 4GB headroom.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-23T09:54:40.031+0000","updated":"2015-09-23T09:54:40.031+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14904279","id":"14904279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Overall patch looks good to me.. Can you add test for handling regression?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-23T09:55:20.460+0000","updated":"2015-09-23T09:55:20.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14904285","id":"14904285","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"nit : can you check for greater then rather not equal?\n{{task.inProgressAttempts.size() != 0}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-23T09:57:16.816+0000","updated":"2015-09-23T09:57:16.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14907463","id":"14907463","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks for review, [~rohithsharma]\n{quote}\nCan you add test for handling regression?\n{quote}\nAdd a test case which mock the scenario.\n{quote}\nnit : can you check for greater then rather not equal?\n{{task.inProgressAttempts.size() != 0}}\n{quote}\nFixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-25T02:53:43.585+0000","updated":"2015-09-25T02:53:43.585+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14907693","id":"14907693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Thinking that TaskAttemptStateInternal which is exposed only testing but using in TaskImpl. I am not sure how much it is good to have this way. \nHow about adding new method TaskAttemptImpl which check of NEW and UNASSIGNED states and return boolean value like below. New exposed method can be used in TaskImpl.\n{noformat}\n// The meaning of scheduled in life cycle of task is ResourceRequests which are sent to RM but not yet assigned.\nprivate static final EnumSet<TaskAttemptStateInternal> SCHEDULED_TASK_STATES = \nEnumSet.of(TaskAttemptStateInternal.NEW,TaskAttemptStateInternal.UNASSIGNED);\n\npublic boolean isScheduledTask(){\nreturn SCHEDULED_TASK_STATES.contains(getInternalState())\n}\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-25T06:37:48.164+0000","updated":"2015-09-25T06:37:48.164+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14907721","id":"14907721","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~rohithsharma], better solution! Attached new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-25T07:02:58.323+0000","updated":"2015-09-25T07:02:58.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14934989","id":"14934989","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Discussed with [~rohithsharma] off-line, and changed the method of checking the taskAttempt whether being hanging for resource according to  [~rohithsharma]'s suggestion. Now the checking looks,\n{code}\nboolean isContainerAssigned() {\n  return container == null ? false : true;\n}\n{code}\nother than checking the internal states in patch ver-003.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-29T10:49:53.407+0000","updated":"2015-09-29T10:49:53.407+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14934992","id":"14934992","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Tick jenkins.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-29T10:54:45.339+0000","updated":"2015-09-29T10:54:45.339+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14935065","id":"14935065","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  19m 18s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | javac |   9m  6s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |  11m 55s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 27s | The applied patch does not increase the total number of release audit warnings. |\n| {color:red}-1{color} | checkstyle |   0m 43s | The applied patch generated  1 new checkstyle issues (total was 356, now 355). |\n| {color:red}-1{color} | whitespace |   0m  0s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |\n| {color:green}+1{color} | install |   1m 44s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 38s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 18s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:green}+1{color} | mapreduce tests |  10m  5s | Tests passed in hadoop-mapreduce-client-app. |\n| | |  55m 18s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12764223/MAPREDUCE-6485.004.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / d6fa34e |\n| checkstyle |  https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6032/artifact/patchprocess/diffcheckstylehadoop-mapreduce-client-app.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6032/artifact/patchprocess/whitespace.txt |\n| hadoop-mapreduce-client-app test log | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6032/artifact/patchprocess/testrun_hadoop-mapreduce-client-app.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6032/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf907.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6032/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-29T12:10:44.088+0000","updated":"2015-09-29T12:10:44.088+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14935182","id":"14935182","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"The checkstyle and whitespace warnings are not generated in the patch. However, attach ver-005 to fix the whitespace warning.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-29T13:43:03.377+0000","updated":"2015-09-29T13:43:03.377+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14935257","id":"14935257","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  17m 11s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | javac |   7m 50s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |  10m 19s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 24s | The applied patch does not increase the total number of release audit warnings. |\n| {color:red}-1{color} | checkstyle |   0m 34s | The applied patch generated  1 new checkstyle issues (total was 356, now 355). |\n| {color:green}+1{color} | whitespace |   0m  1s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 27s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m  9s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:green}+1{color} | mapreduce tests |   9m 40s | Tests passed in hadoop-mapreduce-client-app. |\n| | |  49m 13s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12764243/MAPREDUCE-6485.005.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / d6fa34e |\n| checkstyle |  https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6034/artifact/patchprocess/diffcheckstylehadoop-mapreduce-client-app.txt |\n| hadoop-mapreduce-client-app test log | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6034/artifact/patchprocess/testrun_hadoop-mapreduce-client-app.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6034/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf903.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6034/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-29T14:38:16.628+0000","updated":"2015-09-29T14:38:16.628+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14936204","id":"14936204","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks good. One minor comment - isContainerAssigned() - can we do the following please\n{code}\nboolean isContainerAssigned() {\n  return container != null;\n}\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-30T01:10:26.636+0000","updated":"2015-09-30T01:10:38.781+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14936217","id":"14936217","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks, [~kasha].\n{quote}\n isContainerAssigned() - can we do the following please\n{code}\nboolean isContainerAssigned() {\n  return container != null;\n}\n{code}\n{quote}\nfixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-30T01:18:35.983+0000","updated":"2015-09-30T01:18:35.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14936231","id":"14936231","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"+1 for latest patch.. pending jenkins","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-30T01:39:59.446+0000","updated":"2015-09-30T01:39:59.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14936297","id":"14936297","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  16m 41s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | javac |   7m 56s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |  10m  2s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 24s | The applied patch does not increase the total number of release audit warnings. |\n| {color:red}-1{color} | checkstyle |   0m 36s | The applied patch generated  1 new checkstyle issues (total was 356, now 355). |\n| {color:green}+1{color} | whitespace |   0m  1s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 29s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m  9s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:green}+1{color} | mapreduce tests |   9m 39s | Tests passed in hadoop-mapreduce-client-app. |\n| | |  48m 34s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12764359/MAPREDUCE-6485.006.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 071733d |\n| checkstyle |  https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6039/artifact/patchprocess/diffcheckstylehadoop-mapreduce-client-app.txt |\n| hadoop-mapreduce-client-app test log | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6039/artifact/patchprocess/testrun_hadoop-mapreduce-client-app.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6039/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf901.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/6039/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-30T03:04:02.822+0000","updated":"2015-09-30T03:04:02.822+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14937459","id":"14937459","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"I will commit it tomorrow if there is no more comments on the patch.. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-09-30T16:17:27.920+0000","updated":"2015-09-30T16:17:27.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941211","id":"14941211","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Committing shortly.. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-10-02T14:39:18.853+0000","updated":"2015-10-02T14:39:18.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941235","id":"14941235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"committed to branch-2/trunk.. Thanks [~xinxianyin] for contributions!! [~kasha] for the additional review.. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-10-02T15:08:49.152+0000","updated":"2015-10-02T15:08:49.152+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941241","id":"14941241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #8554 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8554/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T15:13:41.291+0000","updated":"2015-10-02T15:13:41.291+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941295","id":"14941295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #479 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/479/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n* hadoop-mapreduce-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T15:51:07.942+0000","updated":"2015-10-02T15:51:07.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941433","id":"14941433","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #471 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/471/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T17:24:28.160+0000","updated":"2015-10-02T17:24:28.160+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941455","id":"14941455","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hadoop-Yarn-trunk #1209 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1209/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T17:34:06.863+0000","updated":"2015-10-02T17:34:06.863+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941511","id":"14941511","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #2414 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2414/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T18:11:39.003+0000","updated":"2015-10-02T18:11:39.003+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941598","id":"14941598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #445 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/445/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T19:16:29.025+0000","updated":"2015-10-02T19:16:29.025+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14941658","id":"14941658","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2385 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2385/])\nMAPREDUCE-6485. Create a new task attempt with failed map task priority (rohithsharmaks: rev 439f43ad3defbac907eda2d139a793f153544430)\n* hadoop-mapreduce-project/CHANGES.txt\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskAttemptImpl.java\n* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-02T19:59:18.555+0000","updated":"2015-10-02T19:59:18.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/14947924","id":"14947924","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~rohithsharma] and [~kasha] for review and valuable comments!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xinxianyin","name":"xinxianyin","key":"xinxianyin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xianyin Xin","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-10-08T01:33:11.514+0000","updated":"2015-10-08T01:33:11.514+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12888739/comment/16131973","id":"16131973","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daemon","name":"daemon","key":"daemon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"YunFan Zhou","active":true,"timeZone":"Etc/UTC"},"body":"[~varun_impala_149e] [~rohithsharma] Hi, Rohith Sharma K S,Karthik Kambatla.\nCould you please help me with my problems?\nThe job I ran was hanged, but it was different from the scenario you encountered. What I've observed is that there are 15564 maps in total, and only one map is Pending. All reduce is pending because the map is not finished. But the resources for clustering and queues are very idle. The job was pending about 12 hours until I used the MR Cli to actively fail the map, and the job was finished normally.\nTo view AM's log, the following info has been reported:\n\n{noformat}\n2017-08-17 07:58:44,401 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Ramping down all scheduled reduces:0\n2017-08-17 07:58:44,401 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Going to preempt 1 due to lack of space for maps\n2017-08-17 07:58:44,401 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Recalculating schedule, headroom=<memory:814012, vCores:-1>\n2017-08-17 07:58:44,401 INFO [RMCommunicator Allocator] org.apache.hadoop.mapreduce.v2.app.rm.RMContainerAllocator: Reduce slow start threshold not met. completedMapsForReduceSlowstart 15564\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daemon","name":"daemon","key":"daemon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"YunFan Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2017-08-18T09:39:07.156+0000","updated":"2017-08-18T09:39:07.156+0000"}],"maxResults":37,"total":37,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-6485/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2l5fb:"}}