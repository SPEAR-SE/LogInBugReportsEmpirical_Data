{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "sam liu",
            "key": "sam liu",
            "name": "sam liu",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=sam+liu",
            "timeZone": "Asia/Shanghai"
        },
        "components": [
            {
                "description": "TaskController",
                "id": "12313272",
                "name": "task-controller",
                "self": "https://issues.apache.org/jira/rest/api/2/component/12313272"
            },
            {
                "id": "12312906",
                "name": "tasktracker",
                "self": "https://issues.apache.org/jira/rest/api/2/component/12312906"
            }
        ],
        "created": "2012-07-27T01:22:21.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "George Datskos",
            "key": "datskos",
            "name": "datskos",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=datskos",
            "timeZone": "Asia/Tokyo"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": "2012-08-09T19:46:20.032+0000",
        "customfield_12310222": "10002_*:*_2_*:*_13027461476_*|*_1_*:*_2_*:*_46315889602_*|*_5_*:*_1_*:*_0",
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "3.0",
        "customfield_12310320": [{
            "archived": false,
            "description": "maintenance release on branch-1.2",
            "id": "12324149",
            "name": "1.2.1",
            "releaseDate": "2013-08-01",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12324149"
        }],
        "customfield_12310420": "252683",
        "customfield_12310920": "74170",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i0d2fj:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jun 13 21:38:12 UTC 2014",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "When using LinuxTaskController, JVM reuse (mapred.job.reuse.jvm.num.tasks > 1) with more map tasks in a job than there are map slots in the cluster will result in immediate task failures for the second task in each JVM (and then the JVM exits). We have investigated this bug and the root cause is as follows. When using LinuxTaskController, the userlog directory for a task attempt (../userlogs/job/task-attempt) is created only on the first invocation (when the JVM is launched) because userlogs directories are created by the task-controller binary which only runs *once* per JVM. Therefore, attempting to create log.index is guaranteed to fail with ENOENT leading to immediate task failure and child JVM exit.\n\n{quote}\n2012-07-24 14:29:11,914 INFO org.apache.hadoop.mapred.TaskLog: Starting logging for a new task attempt_201207241401_0013_m_000027_0 in the same JVM as that of the first task /var/log/hadoop/mapred/userlogs/job_201207241401_0013/attempt_201207241401_0013_m_000006_0\n2012-07-24 14:29:11,915 WARN org.apache.hadoop.mapred.Child: Error running child\nENOENT: No such file or directory\n        at org.apache.hadoop.io.nativeio.NativeIO.open(Native Method)\n        at org.apache.hadoop.io.SecureIOUtils.createForWrite(SecureIOUtils.java:161)\n        at org.apache.hadoop.mapred.TaskLog.writeToIndexFile(TaskLog.java:296)\n        at org.apache.hadoop.mapred.TaskLog.syncLogs(TaskLog.java:369)\n        at org.apache.hadoop.mapred.Child.main(Child.java:229)\n{quote}\n\nThe above error occurs in a JVM which runs tasks 6 and 27.  Task6 goes smoothly. Then Task27 starts. The directory /var/log/hadoop/mapred/userlogs/job_201207241401_0013/attempt_201207241401_0013_m_0000027_0 is never created so when mapred.Child tries to write the log.index file for Task27, it fails with ENOENT because the attempt_201207241401_0013_m_0000027_0 directory does not exist. Therefore, the second task in each JVM is guaranteed to fail (and then the JVM exits) every time when using LinuxTaskController. Note that this problem does not occur when using the DefaultTaskController because the userlogs directories are created for each task (not just for each JVM as with LinuxTaskController).\n\nFor each task, the TaskRunner calls the TaskController's createLogDir method before attempting to write out an index file.\n\n* DefaultTaskController#createLogDir: creates log directory for each task\n* LinuxTaskController#createLogDir: does nothing\n** task-controller binary creates log directory [create_attempt_directories] (but only for the first task)\n\nPossible Solution: add a new command to task-controller *initialize task* to create attempt directories.  Call that command, with ShellCommandExecutor, in the LinuxTaskController#createLogDir method\n\n\n\n\n",
        "duedate": null,
        "environment": null,
        "fixVersions": [{
            "archived": false,
            "description": "maintenance release on branch-1.2",
            "id": "12324149",
            "name": "1.2.1",
            "releaseDate": "2013-08-01",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12324149"
        }],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": ["patch"],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
            "id": "2",
            "name": "Critical",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/2"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310941&avatarId=10096",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310941&avatarId=10096",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310941&avatarId=10096",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310941&avatarId=10096"
            },
            "id": "12310941",
            "key": "MAPREDUCE",
            "name": "Hadoop Map/Reduce",
            "projectCategory": {
                "description": "Scalable Distributed Computing",
                "id": "10292",
                "name": "Hadoop",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310941"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "George Datskos",
            "key": "datskos",
            "name": "datskos",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=datskos",
            "timeZone": "Asia/Tokyo"
        },
        "resolution": {
            "description": "A fix for this issue is checked into the tree and tested.",
            "id": "1",
            "name": "Fixed",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1"
        },
        "resolutiondate": "2014-06-13T21:38:12.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "JVM reuse is incompatible with LinuxTaskController (and therefore incompatible with Security)",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2014-06-13T21:38:12.000+0000",
        "versions": [
            {
                "archived": false,
                "description": "Merge append/sync support with security",
                "id": "12316391",
                "name": "0.20.205.0",
                "releaseDate": "2011-10-06",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12316391"
            },
            {
                "archived": false,
                "description": "maintenance release on branch-1.0",
                "id": "12320250",
                "name": "1.0.3",
                "releaseDate": "2012-05-07",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12320250"
            },
            {
                "archived": false,
                "description": "maintenance release on branch-1.2",
                "id": "12324149",
                "name": "1.2.1",
                "releaseDate": "2013-08-01",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12324149"
            }
        ],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4490/votes",
            "votes": 4
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/MAPREDUCE-4490/watchers",
            "watchCount": 21
        },
        "workratio": -1
    },
    "id": "12600413",
    "key": "MAPREDUCE-4490",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12600413"
}