[The bug may be introduced from this [commit|https://github.com/apache/hadoop/commit/1aba4503cfc8aaa67c42179f7a69483deb3cf8d9].  I am trying to fix it. Please assign to me., GitHub user wenxinhe opened a pull request:

    https://github.com/apache/hadoop/pull/215

    MAPREDUCE-6879. TestDFSIO#sequentialTest throws java.lang.NullPointerException due to uninitialized IOStream

    [https://issues.apache.org/jira/browse/MAPREDUCE-6879](https://issues.apache.org/jira/browse/MAPREDUCE-6879)
    
    When I use -seq arg to write files, TestDFSIO#sequentialTest throws java.lang.NullPointerException due to uninitialized stream inherited from IOMapperBase:
    
    [root@7b65290f2609 hadoop-3.0.0-alpha3-SNAPSHOT]# bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.0.0-alpha3-SNAPSHOT-tests.jar TestDFSIO -seq -write
    2017-04-20 15:50:43,505 INFO fs.TestDFSIO: TestDFSIO.1.8
    2017-04-20 15:50:43,510 INFO fs.TestDFSIO: nrFiles = 1
    2017-04-20 15:50:43,510 INFO fs.TestDFSIO: nrBytes (MB) = 1.0
    2017-04-20 15:50:43,510 INFO fs.TestDFSIO: bufferSize = 1000000
    2017-04-20 15:50:43,510 INFO fs.TestDFSIO: baseDir = /benchmarks/TestDFSIO
    2017-04-20 15:50:43,655 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
    java.lang.NullPointerException
    	at org.apache.hadoop.fs.TestDFSIO$WriteMapper.doIO(TestDFSIO.java:427)
    	at org.apache.hadoop.fs.TestDFSIO$WriteMapper.doIO(TestDFSIO.java:395)
    	at org.apache.hadoop.fs.TestDFSIO.sequentialTest(TestDFSIO.java:722)
    	at org.apache.hadoop.fs.TestDFSIO.run(TestDFSIO.java:846)
    	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)
    	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:90)
    	at org.apache.hadoop.fs.TestDFSIO.main(TestDFSIO.java:731)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:71)
    	at org.apache.hadoop.util.ProgramDriver.run(ProgramDriver.java:144)
    	at org.apache.hadoop.test.MapredTestDriver.run(MapredTestDriver.java:136)
    	at org.apache.hadoop.test.MapredTestDriver.main(MapredTestDriver.java:144)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.apache.hadoop.util.RunJar.run(RunJar.java:239)
    	at org.apache.hadoop.util.RunJar.main(RunJar.java:153)


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/wenxinhe/hadoop trunk

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hadoop/pull/215.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #215
    
----
commit 4d7caeffc54cc5f74ed2f28f262f86ef2c77cfed
Author: vincent he <he.wenxin@zte.com.cn>
Date:   2017-04-20T08:41:05Z

    MAPREDUCE-6879. TestDFSIO#sequentialTest throws java.lang.NullPointerException due to uninitialized IOStream

----
, The patch is available, please check., Github user wenxinhe closed the pull request at:

    https://github.com/apache/hadoop/pull/215
]