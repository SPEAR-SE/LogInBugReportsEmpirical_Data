[Looking at the code in the JobNotifier class:

{code}
      URLConnection conn = urlToNotify.openConnection();
      conn.setConnectTimeout(5*1000);
      conn.setReadTimeout(5*1000);
      conn.setAllowUserInteraction(false);
      InputStream is = conn.getInputStream();
      conn.getContent();
      is.close();
{code}

Instead it should be


{code}

      HttpURLConnection conn = (HttpURLConnection) urlToNotify.openConnection();
      conn.setConnectTimeout(5*1000);
      conn.setReadTimeout(5*1000);
      conn.setAllowUserInteraction(false);
      if (conn.getResponseCode() != HttpURLConnection.HTTP_OK) {
        //LOG WARNING
      }
{code}
, Agreed! We saw the same exception in MAPREDUCE-3484 . I was guessing that the notification did happen, although the server didn't return any content. This would be a good fix though.

+1 to the change

Attaching a patch which I tested, sends out the HTTP notification. I haven't checked if it warns about the no-content, but from the code it seems it shouldn't =D, Sneaking a couple of javadoc changes inside this patch., Correcting the assignment. , @Ravi, 
 Did you test out the patch on a cluster? , Nevermind,
 I ran the patch with an oozie cluster. It works fine. Ill go ahead and check this in., I just committed this. Thanks Ravi and Alejandro!, Integrated in Hadoop-Hdfs-0.23-Commit #371 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Commit/371/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev) - Merging r1232126 from trunk.

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232128
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Hdfs-trunk-Commit #1620 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1620/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev)

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232126
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Common-trunk-Commit #1547 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1547/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev)

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232126
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Common-0.23-Commit #381 (See [https://builds.apache.org/job/Hadoop-Common-0.23-Commit/381/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev) - Merging r1232126 from trunk.

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232128
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Mapreduce-0.23-Commit #394 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Commit/394/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev) - Merging r1232126 from trunk.

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232128
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #1565 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1565/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev)

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232126
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Hdfs-trunk #928 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/928/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev)

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232126
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Hdfs-0.23-Build #141 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/141/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev) - Merging r1232126 from trunk.

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232128
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Mapreduce-0.23-Build #163 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Build/163/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev) - Merging r1232126 from trunk.

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232128
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
, Integrated in Hadoop-Mapreduce-trunk #961 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/961/])
    MAPREDUCE-3649. Job End notification gives an error on calling back. (Ravi Prakash via mahadev)

mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1232126
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/JobEndNotifier.java
]