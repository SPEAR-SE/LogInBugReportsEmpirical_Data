[Attach a patch. There is no unit test because this is a cmd script only change., +1 for the patch.  I'll commit this., I've committed this to trunk, branch-2, and branch-2.2.  Chuan, thank you for the patch., SUCCESS: Integrated in Hadoop-trunk-Commit #4600 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/4600/])
MAPREDUCE-5546. mapred.cmd on Windows set HADOOP_OPTS incorrectly. Contributed by Chuan Liu. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1532016)
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/bin/mapred.cmd
, SUCCESS: Integrated in Hadoop-Yarn-trunk #363 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/363/])
MAPREDUCE-5546. mapred.cmd on Windows set HADOOP_OPTS incorrectly. Contributed by Chuan Liu. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1532016)
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/bin/mapred.cmd
, FAILURE: Integrated in Hadoop-Hdfs-trunk #1553 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1553/])
MAPREDUCE-5546. mapred.cmd on Windows set HADOOP_OPTS incorrectly. Contributed by Chuan Liu. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1532016)
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/bin/mapred.cmd
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1579 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1579/])
MAPREDUCE-5546. mapred.cmd on Windows set HADOOP_OPTS incorrectly. Contributed by Chuan Liu. (cnauroth: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1532016)
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/bin/mapred.cmd
]