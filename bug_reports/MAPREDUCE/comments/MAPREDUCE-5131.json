[Patch which helps deal more gracefully with job-related apis during JT restart., The defaultPolicy is to retry on JobTrackerNotYetInitializedException.  For SafeModeException, defaultPolicy is equivalent to TRY_ONCE_THEN_FAIL since SafeModeException will be thrown as a RemoteException.  So remoteExceptionToPolicyMap.put(SafeModeException.class, defaultPolicy) is the same as remoteExceptionToPolicyMap.put(SafeModeException.class, TRY_ONCE_THEN_FAIL).

I think it is simpler to change RetryUtils.getDefaultRetryPolicy to support multiple exceptions.

, Good point, thanks for taking a look Nic.

Here is an update with your feedback incorporated., +1 the new patch looks good., The second patch definitely looks good. Thanks Arun.

Minor comments:
# JobTracker#setInitDone() shouldn't need to take any parameter, no? Currently, it is only the test using it, but this can change.
# JobTracker#waitForInit() shouldn't we do something when we catch the InterruptedException - at the least, logging it might help
# JobTracker#waitForInit() - adding a log message that we are about to wait should help
# RetryUtils#getDefaultRetryPolicy() - break after setting found?, Thanks for taking a look [~kkambatl].

I incorporated all your comments (good catch on the 'break', my bad) except the boolean param - I feel we can use it to toggle initDone in future; IAC, it's internal api., +1. Looks good to me. Thanks Arun., Trivial mods - fixed javadocs and a warning; added a few comments., Thanks for the reviews [~szetszwo] and [~kkambatl]. I just committed this. , Closed upon release of Hadoop 1.2.0.]