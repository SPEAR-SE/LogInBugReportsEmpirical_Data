[modify TaskLogServlet haveTaskLog method
private boolean haveTaskLog(TaskAttemptID taskId, boolean isCleanup, 
TaskLog.LogName type) throws IOException { 
File f = TaskLog.getTaskLogFile(taskId, isCleanup, type); 
if (f.exists() && f.canRead())
{ return true; }
else { 
File indexFile = TaskLog.getIndexFile(taskId, isCleanup); 
if (!indexFile.exists())
{ return false; }
BufferedReader fis; 
try
{ fis = new BufferedReader(new InputStreamReader( SecureIOUtils.openForRead(indexFile, TaskLog.obtainLogDirOwner(taskId)))); }
catch (FileNotFoundException ex) { 
LOG.warn("Index file for the log of " + taskId 
+ " does not exist.");
// Assume no task reuse is used and files exist on attemptdir 
StringBuffer input = new StringBuffer(); 
input.append(LogFileDetail.LOCATION 
+ TaskLog.getAttemptDir(taskId, isCleanup) + "\n"); 
for (LogName logName : TaskLog.LOGS_TRACKED_BY_INDEX_FILES)
{ input.append(logName + ":0 -1\n"); }

fis = new BufferedReader(new StringReader(input.toString())); 
}
try { 
String str = fis.readLine(); 
if (str == null)
{ // thefile doesn't have anything throw new IOException("Index file for the log of " + taskId + "is empty."); }

String loc = str.substring(str.indexOf(LogFileDetail.LOCATION) 
+ LogFileDetail.LOCATION.length()); 
File tf = new File(loc, type.toString()); 
return tf.exists() && tf.canRead();
} finally
{ if (fis != null) fis.close(); }

}
}, I think this could be closed as won't fix.

[~yangjun2@sohu.com], Could you attach patch file to JIRA as described in [wiki|https://wiki.apache.org/hadoop/HowToContribute], if you have update for this or another issue?
]