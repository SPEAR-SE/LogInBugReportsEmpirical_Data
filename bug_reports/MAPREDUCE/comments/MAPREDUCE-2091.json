[Are you able to compile trunk? I'm getting
{noformat}
compile-mapred-classes:
    [javac] Compiling 479 source files to /homes/cos/work/git/mapreduce/build/classes
    [javac] /homes/cos/work/git/mapreduce/src/java/org/apache/hadoop/mapred/TaskTracker.java:653: non-static method refresh(org.apache.hadoop.conf.Configuration,org.apache.hadoop.security.authorize.PolicyProvider) cannot be referenced from a static context
    [javac]       ServiceAuthorizationManager.refresh(fConf, policyProvider);
    [javac]                                  ^
    [javac] /homes/cos/work/git/mapreduce/src/java/org/apache/hadoop/mapred/JobTracker.java:1458: non-static method refresh(org.apache.hadoop.conf.Configuration,org.apache.hadoop.security.authorize.PolicyProvider) cannot be referenced from a static context
    [javac]       ServiceAuthorizationManager.refresh(conf, new MapReducePolicyProvider());
    [javac]                                  ^
    [javac] /homes/cos/work/git/mapreduce/src/java/org/apache/hadoop/mapred/JobTracker.java:4359: non-static method refresh(org.apache.hadoop.conf.Configuration,org.apache.hadoop.security.authorize.PolicyProvider) cannot be referenced from a static context
    [javac]     ServiceAuthorizationManager.refresh(conf, new MapReducePolicyProvider());
    [javac]                                ^
    [javac] Note: Some input files use or override a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] 3 errors
{noformat}, Also, I have just checked branch-0.21: src/test/smoke-tests is right there. Have you ran 'svn up' recently?, Just to make sure I have ran {{ant run-smoke-test}} on 0.21 and everything is found ok., Cos, thanks for taking the time to look at this.

src/test/smoke-tests exist in trunk and in the Branch for 0.21 at http://svn.apache.org/repos/asf/hadoop/mapreduce/branches/branch-0.21/

but NOT in the tagged release for 0.21 at http://svn.apache.org/repos/asf/hadoop/mapreduce/tags/release-0.21.0/

Aside from that fact that these two should be in sync, I've always been building against the tagged release, should I be building against the branch instead?, Stale.]