[Attaching patch on Owen's behalf.

It's incredibly hard to unit test this without multiple versions of hadoop.

Via PIG-2125 pig-dev@ have used this for nearly 2 months now and has no issues., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12497570/MAPREDUCE-3138.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed unit tests in .

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/931//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/931//console

This message is automatically generated., Minor update - added javadoc to the class itself., I just committed this. Thanks Owen!, Konstantin - you might want to merge this to branch-0.22, please take a look. Thanks., Integrated in Hadoop-Common-trunk-Commit #1006 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1006/])
    MAPREDUCE-3138. Add a utility to help applications bridge changes in Context Objects APIs due to MAPREDUCE-954. Contributed by omalley.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178650
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, Integrated in Hadoop-Hdfs-trunk-Commit #1084 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1084/])
    MAPREDUCE-3138. Add a utility to help applications bridge changes in Context Objects APIs due to MAPREDUCE-954. Contributed by omalley.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178650
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, Patch for 0.22, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12497580/MAPREDUCE-3138.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed unit tests in .

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/932//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/932//console

This message is automatically generated., Integrated in Hadoop-Mapreduce-trunk-Commit #1026 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1026/])
    MAPREDUCE-3138. Add a utility to help applications bridge changes in Context Objects APIs due to MAPREDUCE-954. Contributed by omalley.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178650
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, 0.22 version of the patch is being validated by BigTop's build for 0.22 stack to make sure that it solved the problem there., I assume this patch doesn't fix Pig-0.8 issues with 0.22 and is targeted to 0.9 and later?, Integrated in Hadoop-Mapreduce-0.23-Build #36 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Build/36/])
    Merge -r 1178649:1178650 from trunk to branch-0.23 to fix MAPREDUCE-3138.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178651
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, Integrated in Hadoop-Hdfs-trunk #820 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/820/])
    MAPREDUCE-3138. Add a utility to help applications bridge changes in Context Objects APIs due to MAPREDUCE-954. Contributed by omalley.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178650
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, Integrated in Hadoop-Hdfs-0.23-Build #29 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/29/])
    Merge -r 1178649:1178650 from trunk to branch-0.23 to fix MAPREDUCE-3138.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178651
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, Integrated in Hadoop-Mapreduce-trunk #850 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/850/])
    MAPREDUCE-3138. Add a utility to help applications bridge changes in Context Objects APIs due to MAPREDUCE-954. Contributed by omalley.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1178650
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/ContextFactory.java
, I am not positive of the intention of this patch.  It provides a bridge where pig can potentially compile against both 0.22 and 0.23 but it does not fix any binary compatibility issues.  Pig and Pig loader/storer UDFs compiled against pre-0.21 will need to be recompiled to work on 0.22 and 0.23.  The Java linker will throw an error if a class was compiled against a class and sees an interface with the same name or vise versa.  If the intention is not to provide binary compatibility we really need a JIRA to do that.  We have too many customers that are going to mutiny if they have to maintain two different binary versions of the same code to run on different grids. , First of all, I'm really happy to see a move towards helping the downstream clients migrate to .23 smoothly. That said,
I'm not quite sure what is the intent of the patch. It would be very nice to have a clear description of what is it trying to accomplish. As it stands now, I can't really build Pig/Hive (or anything else for that matter) against .23 nor can I run the older binaries. Has this patch been tested?, Arun, thanks for the tip.
Do you plan to remove {{org.apache.hadoop.mapreduce.task.JobContextImpl}} from trunk and 0.23. Or is it some Pig build magic that excludes the package from the classpath?
Otherwise I don't understand how this patch distinguishes between 0.21 and 0.23., Oh, you are distinguishing between 0.20.*** and any version from 0.21 and up. Will try Pig on 0.22 with this patch now., Integrated in Hadoop-Common-trunk-Commit #1046 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1046/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180751
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
, Integrated in Hadoop-Hdfs-trunk-Commit #1124 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1124/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180751
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
, Committed to 0.22 branch., Integrated in Hadoop-Mapreduce-trunk-Commit #1066 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1066/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180751
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
, Integrated in Hadoop-Hdfs-trunk #826 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/826/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180751
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
, Integrated in Hadoop-Hdfs-0.23-Build #35 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/35/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180753
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
, Integrated in Hadoop-Mapreduce-22-branch #83 (See [https://builds.apache.org/job/Hadoop-Mapreduce-22-branch/83/])
    MAPREDUCE-3138. Add a utility to help applications bridge changes in Context Objects APIs due to MAPREDUCE-954. Contributed by omalley.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180750
Files : 
* /hadoop/common/branches/branch-0.22/mapreduce/CHANGES.txt
* /hadoop/common/branches/branch-0.22/mapreduce/src/java/org/apache/hadoop/mapreduce/ContextFactory.java
, Integrated in Hadoop-Mapreduce-0.23-Build #42 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Build/42/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180753
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
, Integrated in Hadoop-Mapreduce-trunk #856 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/856/])
    Move MAPREDUCE-3138 changes to Release 0.22 section.

shv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1180751
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
]