[In the {{run}} method, the line:

{code}
        jc.set("mapred.local.dir", "build/test/mapred/local");
{code}

should be changed to:

{code}
        jc.set("mapred.local.dir", System.getProperty("test.build.mapred", "build/test/mapred/local"));
{code}

Thus  preserving the current behavior but allowing to change it via a system property.
, Patch that incorporates Alejandro's suggestion with "test.build.mapred" sysprop.

Ran a sample MR cluster program to test change.
{code}
   [junit] Running org.apache.hadoop.mapred.TestMiniMRChildTask
    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 119.227 sec
{code}, (Patch is for 0.20, security branch.), -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12492931/MAPREDUCE-2817.r1.diff
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 5 new or modified tests.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/603//console

This message is automatically generated., If this is still useful, please give it a quick review, or if not, feel free to just close it out., This isn't very important to fix, and is not an issue on trunk., This actually would be useful to have; for example, tests that use MiniMRCluster will write to {{build/test/mapred/local/jobTracker}}, and it would be nice if we could override this.  , This patch is the same as Harsh's except that it reuses {{test.build.data}} instead of adding a new one.  , {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12564739/MAPREDUCE-2817.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3236//console

This message is automatically generated., +1, Thanks Robert. Committed to branch-1.]