[No tests included because there is no test infrastructure for verifying this. I manually tested on a pseudo-distributed cluster., Would it work to just create a TaskTracker, poke at the data structures as if a task had run and create the task logs and map outputs, and use http client to get the content type? There would be a lot of value in adding that kind of test., Here's a new version that includes a unit test for TaskLogServlet (not just the content type but also some of the escaping behavior, etc). I pulled in Jetty's ServletTester libs into our test ivy conf.

Hopefully this test will serve as an example for how to test servlets using this library and we can add some tests for other servlets as part of other jiras., Fixed patch to include license header on new test, removed some unused imports., +1 The tests are very nice.

Very minor nit: don't use a star import in the test., I thought * imports were OK for things like junit and Mockito in tests? Looking at the current tests, we actually use Assert.* in 37 files and Assert.individualStuff in only 14.

Will commit momentarily, thanks for review, Integrated in Hadoop-Mapreduce-trunk-Commit #586 (See [https://hudson.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/586/])
    MAPREDUCE-2253. Servlets should specify content type. Contributed by Todd Lipcon
, Integrated in Hadoop-Mapreduce-22-branch #33 (See [https://hudson.apache.org/hudson/job/Hadoop-Mapreduce-22-branch/33/])
    , Integrated in Hadoop-Mapreduce-trunk #643 (See [https://hudson.apache.org/hudson/job/Hadoop-Mapreduce-trunk/643/])
    ]