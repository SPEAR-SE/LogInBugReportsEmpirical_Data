[I have ran TestDFSIO on 0.20 secured cluster and used -Dtest.build.data to some place on HDFS. TestDFSIO failed because it couldn't create {{/benchmarks}} directory.
Therefore I am changing this JIRA from 'Improvement' to 'Bug', It turns out the the problem is pretty typical for the programs in the hadoop-test.jar. E.g. NNBench does't allow to configure a location of the results log thus dictating the working directory from where this test can be ran., Specifying "test.build.data" changes the output directory for TestDFSIO. -Dtest.build.data probably doesn't work, as this parameter should be configured.
For NNBench there is an explicit -baseDir option.
Could you please verify that it work., .bq Specifying "test.build.data" changes the output directory for TestDFSIO. -Dtest.build.data probably doesn't work, as this parameter should be configured.

Yes, setting this parameter does not do any good - I still can see that {{Permission denied: user=cos, access=WRITE, inode="":hdfs:hdfs:rwxr-xr-x}} issue, It seems that MAPREDUCE-1832 hasn't fixed this particular problem however has laid all the ground work for it. Simple fix to address the issue in question., This has been fixed by MAPREDUCE-1832.]