[This happens when the job history is not setup. He is the trace:

{code}

2011-10-19 21:52:30,556 WARN  mapred.ClientServiceDelegate (ClientServiceDelegate.java:checkAndGetHSProxy(234)) - Job History Server is not configured.
Exception in thread "main" RemoteTrace: 
java.lang.NullPointerException
        at org.apache.hadoop.yarn.server.resourcemanager.ClientRMService.forceKillApplication(ClientRMService.java:253)
        at org.apache.hadoop.yarn.api.impl.pb.service.ClientRMProtocolPBServiceImpl.forceKillApplication(ClientRMProtocolPBServiceImpl.java:86)
        at org.apache.hadoop.yarn.proto.ClientRMProtocol$ClientRMProtocolService$2.callBlockingMethod(ClientRMProtocol.java:167)
        at org.apache.hadoop.yarn.ipc.ProtoOverHadoopRpcEngine$Server.call(ProtoOverHadoopRpcEngine.java:343)
        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1486)
        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1482)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:396)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1152)
        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1480)
 at Local Trace: 
        org.apache.hadoop.yarn.exceptions.impl.pb.YarnRemoteExceptionPBImpl: 
        at org.apache.hadoop.yarn.ipc.ProtoOverHadoopRpcEngine$Invoker.invoke(ProtoOverHadoopRpcEngine.java:151)
        at $Proxy6.forceKillApplication(Unknown Source)
        at org.apache.hadoop.yarn.api.impl.pb.client.ClientRMProtocolPBClientImpl.forceKillApplication(ClientRMProtocolPBClientImpl.java:94)
        at org.apache.hadoop.mapred.ResourceMgrDelegate.killApplication(ResourceMgrDelegate.java:309)
        at org.apache.hadoop.mapred.YARNRunner.killJob(YARNRunner.java:449)
        at org.apache.hadoop.mapreduce.Job.killJob(Job.java:591)
        at org.apache.hadoop.mapreduce.tools.CLI.run(CLI.java:259)
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:69)
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:83)
{code}
, Looks there was a TODO for checking if application was null fixed post the filing of the jira. 

Killing a valid completed app with job history not configured seems to be work:

$HADOOP_MAPRED_HOME/bin/mapred job -kill job_1320866934255_0001
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.
11/11/09 11:45:24 WARN conf.Configuration: mapred.used.genericoptionsparser is deprecated. Instead, use mapreduce.client.genericoptionsparser.used
11/11/09 11:45:25 INFO mapreduce.Cluster: Cannot pick org.apache.hadoop.mapred.LocalClientProtocolProvider as the ClientProtocolProvider - returned null protocol
11/11/09 11:45:25 INFO ipc.YarnRPC: Creating YarnRPC for org.apache.hadoop.yarn.ipc.HadoopYarnProtoRPC
11/11/09 11:45:25 INFO mapred.ResourceMgrDelegate: Connecting to ResourceManager at /0.0.0.0:8040
11/11/09 11:45:25 INFO ipc.HadoopYarnRPC: Creating a HadoopYarnProtoRpc proxy for protocol interface org.apache.hadoop.yarn.api.ClientRMProtocol
11/11/09 11:45:25 INFO mapred.ResourceMgrDelegate: Connected to ResourceManager at /0.0.0.0:8040
11/11/09 11:45:25 INFO mapred.ClientServiceDelegate: Application state is completed. FinalApplicationStatus=SUCCEEDED. Redirecting to job history server
11/11/09 11:45:25 WARN mapred.ClientServiceDelegate: Job History Server is not configured.
11/11/09 11:45:25 INFO mapred.ResourceMgrDelegate: Killing application application_1320866934255_0001
Killed job job_1320866934255_0001

Killing a non-existent job throws absent application exception: 


$HADOOP_MAPRED_HOME/bin/mapred job -kill job_1320866934255_0002
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.
11/11/09 11:46:32 WARN conf.Configuration: mapred.used.genericoptionsparser is deprecated. Instead, use mapreduce.client.genericoptionsparser.used
11/11/09 11:46:33 INFO mapreduce.Cluster: Cannot pick org.apache.hadoop.mapred.LocalClientProtocolProvider as the ClientProtocolProvider - returned null protocol
11/11/09 11:46:33 INFO ipc.YarnRPC: Creating YarnRPC for org.apache.hadoop.yarn.ipc.HadoopYarnProtoRPC
11/11/09 11:46:33 INFO mapred.ResourceMgrDelegate: Connecting to ResourceManager at /0.0.0.0:8040
11/11/09 11:46:33 INFO ipc.HadoopYarnRPC: Creating a HadoopYarnProtoRpc proxy for protocol interface org.apache.hadoop.yarn.api.ClientRMProtocol
11/11/09 11:46:33 INFO mapred.ResourceMgrDelegate: Connected to ResourceManager at /0.0.0.0:8040
11/11/09 11:46:33 WARN mapred.ClientServiceDelegate: Exception thrown by remote end.
RemoteTrace: 
 at LocalTrace: 
	org.apache.hadoop.yarn.exceptions.impl.pb.YarnRemoteExceptionPBImpl: Trying to get information for an absent application application_1320866934255_0002
	at org.apache.hadoop.yarn.ipc.ProtoOverHadoopRpcEngine$Invoker.invoke(ProtoOverHadoopRpcEngine.java:142)
	at $Proxy6.getApplicationReport(Unknown Source)
	at org.apache.hadoop.yarn.api.impl.pb.client.ClientRMProtocolPBClientImpl.getApplicationReport(ClientRMProtocolPBClientImpl.java:111)
	at org.apache.hadoop.mapred.ResourceMgrDelegate.getApplicationReport(ResourceMgrDelegate.java:321)
	at org.apache.hadoop.mapred.ClientServiceDelegate.getProxy(ClientServiceDelegate.java:137)
	at org.apache.hadoop.mapred.ClientServiceDelegate.invoke(ClientServiceDelegate.java:273)
	at org.apache.hadoop.mapred.ClientServiceDelegate.getJobStatus(ClientServiceDelegate.java:353)
	at org.apache.hadoop.mapred.YARNRunner.getJobStatus(YARNRunner.java:431)
	at org.apache.hadoop.mapreduce.Cluster.getJob(Cluster.java:186)
	at org.apache.hadoop.mapreduce.tools.CLI.run(CLI.java:271)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:69)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:83)
	at org.apache.hadoop.mapred.JobClient.main(JobClient.java:1106)
Exception in thread "main" RemoteTrace: 
 at Local Trace: 
	org.apache.hadoop.yarn.exceptions.impl.pb.YarnRemoteExceptionPBImpl: Trying to get information for an absent application application_1320866934255_0002
	at org.apache.hadoop.yarn.ipc.ProtoOverHadoopRpcEngine$Invoker.invoke(ProtoOverHadoopRpcEngine.java:142)
	at $Proxy6.getApplicationReport(Unknown Source)
	at org.apache.hadoop.yarn.api.impl.pb.client.ClientRMProtocolPBClientImpl.getApplicationReport(ClientRMProtocolPBClientImpl.java:111)
	at org.apache.hadoop.mapred.ResourceMgrDelegate.getApplicationReport(ResourceMgrDelegate.java:321)
	at org.apache.hadoop.mapred.ClientServiceDelegate.getProxy(ClientServiceDelegate.java:137)
	at org.apache.hadoop.mapred.ClientServiceDelegate.invoke(ClientServiceDelegate.java:273)
	at org.apache.hadoop.mapred.ClientServiceDelegate.getJobStatus(ClientServiceDelegate.java:353)
	at org.apache.hadoop.mapred.YARNRunner.getJobStatus(YARNRunner.java:431)
	at org.apache.hadoop.mapreduce.Cluster.getJob(Cluster.java:186)
	at org.apache.hadoop.mapreduce.tools.CLI.run(CLI.java:271)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:69)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:83)
	at org.apache.hadoop.mapred.JobClient.main(JobClient.java:1106)
, No longer reproducible. ]