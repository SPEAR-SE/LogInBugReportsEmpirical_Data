[I have attached patch to address this., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12529930/MAPREDUCE-4286.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 1 new or modified test files.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2418//console

This message is automatically generated., Re-attaching the same patch to run Hadoop QA., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12530037/MAPREDUCE-4286.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 1 new or modified test files.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2421//console

This message is automatically generated., Updated the patch., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12699119/MAPREDUCE-4286-1.patch
  against trunk revision 447bd7b.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapred.TestMapProgress
                  org.apache.hadoop.mapred.TestMiniMRChildTask
                  org.apache.hadoop.mapred.TestMRTimelineEventHandling
                  org.apache.hadoop.mapred.TestReporter
                  org.apache.hadoop.mapreduce.TestMapReduce
                  org.apache.hadoop.mapred.lib.TestMultithreadedMapRunner
                  org.apache.hadoop.mapred.TestMapOutputType
                  org.apache.hadoop.mapred.TestJobCleanup
                  org.apache.hadoop.mapred.lib.aggregate.TestAggregates
                  org.apache.hadoop.mapred.join.TestDatamerge
                  org.apache.hadoop.mapred.TestMapRed
                  org.apache.hadoop.mapred.TestMultiFileInputFormat
                  org.apache.hadoop.mapred.TestJobCounters
                  org.apache.hadoop.mapred.TestJobSysDirWithDFS
                  org.apache.hadoop.mapred.TestMultiFileSplit
                  org.apache.hadoop.mapred.TestMultipleTextOutputFormat
                  org.apache.hadoop.mapred.pipes.TestPipeApplication
                  org.apache.hadoop.mapred.TestSequenceFileAsTextInputFormat
                  org.apache.hadoop.mapred.TestTaskCommit
                  org.apache.hadoop.mapred.TestSequenceFileAsBinaryOutputFormat
                  org.apache.hadoop.mapred.lib.TestMultipleOutputs
                  org.apache.hadoop.mapred.lib.TestChainMapReduce
                  org.apache.hadoop.mapred.TestOldCombinerGrouping
                  org.apache.hadoop.mapred.pipes.TestPipesNonJavaInputFormat
                  org.apache.hadoop.mapred.TestLazyOutput
                  org.apache.hadoop.mapred.TestClientRedirect
                  org.apache.hadoop.mapreduce.TestValueIterReset
                  org.apache.hadoop.mapred.TestYARNRunner
                  org.apache.hadoop.mapred.TestMerge
                  org.apache.hadoop.mapreduce.TestNewCombinerGrouping
                  org.apache.hadoop.mapred.TestReduceFetch
                  org.apache.hadoop.fs.TestDFSIO
                  org.apache.hadoop.mapred.TestTextOutputFormat
                  org.apache.hadoop.mapred.TestMiniMRWithDFSWithDistinctUsers
                  org.apache.hadoop.ipc.TestMRCJCSocketFactory
                  org.apache.hadoop.mapred.lib.TestKeyFieldBasedComparator
                  org.apache.hadoop.fs.TestFileSystem
                  org.apache.hadoop.mapred.TestUserDefinedCounters
                  org.apache.hadoop.mapred.TestComparators
                  org.apache.hadoop.mapred.TestClusterMRNotification
                  org.apache.hadoop.mapred.jobcontrol.TestJobControl
                  org.apache.hadoop.conf.TestJobConf
                  org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath
                  org.apache.hadoop.mapred.TestLineRecordReaderJobs
                  org.apache.hadoop.mapred.lib.TestLineInputFormat
                  org.apache.hadoop.mapred.TestMiniMRClientCluster
                  org.apache.hadoop.mapred.TestMRCJCFileOutputCommitter
                  org.apache.hadoop.mapred.TestClusterMapReduceTestCase
                  org.apache.hadoop.mapred.TestSequenceFileAsBinaryInputFormat
                  org.apache.hadoop.mapred.TestReduceFetchFromPartialMem
                  org.apache.hadoop.mapreduce.TestChild
                  org.apache.hadoop.mapreduce.TestLocalRunner
                  org.apache.hadoop.mapred.TestSequenceFileInputFilter
                  org.apache.hadoop.mapred.TestMiniMRBringup
                  org.apache.hadoop.mapreduce.TestMapReduceLazyOutput
                  org.apache.hadoop.mapred.TestFieldSelection
                  org.apache.hadoop.mapred.TestMiniMRClasspath
                  org.apache.hadoop.mapred.TestLocalMRNotification
                  org.apache.hadoop.fs.slive.TestSlive
                  org.apache.hadoop.mapred.TestJavaSerialization
                  org.apache.hadoop.mapred.TestFileInputFormatPathFilter
                  org.apache.hadoop.mapred.jobcontrol.TestLocalJobControl
                  org.apache.hadoop.mapred.TestSequenceFileInputFormat
                  org.apache.hadoop.mapred.TestKeyValueTextInputFormat
                  org.apache.hadoop.mapreduce.TestMRJobClient
                  org.apache.hadoop.mapred.TestCollect
                  org.apache.hadoop.mapreduce.TestMROutputFormat
                  org.apache.hadoop.mapred.TestFileOutputFormat
                  org.apache.hadoop.mapred.TestNetworkedJob
                  org.apache.hadoop.mapred.TestJobName
                  org.apache.hadoop.mapred.TestMRIntermediateDataEncryption

                                      The following test timeouts occurred in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

org.apache.hadoop.mapreduce.security.ssl.TestEncryptedShuffle

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5200//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5200//console

This message is automatically generated., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12699119/MAPREDUCE-4286-1.patch
  against trunk revision 814afa4.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.conf.TestJobConf

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5201//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5201//console

This message is automatically generated., [~devaraj.k], thank you for taking this JIRA. Looks good to me overall. 

{code}
-    try {
-      conf.set(MRConfig.FRAMEWORK_NAME, "classic");
-      conf.set(JTConfig.JT_IPC_ADDRESS, "local");
-      new Cluster(conf);
-      fail("Cluster with classic Framework name shouldnot use local JT address");
{code}

Should we keep testClusterWithJTClientProvider like this in addition to testClusterWithYarnClientProvider for backward compatibility?

{code}
  @Test
  public void testClusterWithJTClientProvider() throws Exception {
    Configuration conf = new Configuration();
    try {
      conf.set(MRConfig.FRAMEWORK_NAME, "classic");
      conf.set(JTConfig.JT_IPC_ADDRESS, "local");
      new Cluster(conf);
      fail("Cluster with classic Framework name should not use " +
          "local JT address");
    } catch (IOException e){

    }
  }
{code}, Thanks [~] ozawa for your prompt review.

I have removed the case because there is no JTClientProvider to verify the +ve test scenario.
Anyway I have added back the exception scenario case for JTClientProvider as you suggested in the updated patch.
, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12699229/MAPREDUCE-4286-2.patch
  against trunk revision cf4b7f5.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapreduce.security.TestJHSSecurity
                  org.apache.hadoop.conf.TestJobConf

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5203//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/5203//console

This message is automatically generated., These test failures are not related to the patch., +1. Checking this in.

{code}
I have removed the case because there is no JTClientProvider to verify the +ve test scenario.
{code}

About classic mode, I think we can remove it from document. Let's discuss the topic on another JIRA., Committed this to trunk and branch-2. Thanks [~devaraj.k] for your contribution., SUCCESS: Integrated in Hadoop-trunk-Commit #7140 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/7140/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
* hadoop-mapreduce-project/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk #842 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/842/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
* hadoop-mapreduce-project/CHANGES.txt
, SUCCESS: Integrated in Hadoop-Yarn-trunk-Java8 #108 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/108/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
* hadoop-mapreduce-project/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #99 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/99/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/CHANGES.txt
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
, SUCCESS: Integrated in Hadoop-Hdfs-trunk #2040 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2040/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
* hadoop-mapreduce-project/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #109 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/109/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/CHANGES.txt
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2059 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2059/])
MAPREDUCE-4286. TestClientProtocolProviderImpls passes on failure conditions. Contributed by Devaraj K. (ozawa: rev 7c782047c609b29178945bd566a0d162e64dbfdb)
* hadoop-mapreduce-project/CHANGES.txt
* hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/TestClientProtocolProviderImpls.java
]