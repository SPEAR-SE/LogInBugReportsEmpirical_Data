[This patch put JobHistory log to a queue first. So JobTracker won't hung due to DataNode.
The original TestJobHistory is enough, so I didn't add any new test case.
JobHistory is already rewrite for trunk, no patch for trunk., Thanks for working on this!  I think it's a duplicate of MAPREDUCE-1144.  Additionally, I think MAPREDUCE-5606 is a duplicate of the same issue.  Can you please take a look at MAPREDUCE-1144?  If you agree that it's the same problem, then I recommend closing this as duplicate and moving your patch over to MAPREDUCE-1144., I agree with you that's duplicate of  MAPREDUCE-1144.
I'll move my patch to  MAPREDUCE-1144.
Thanks for you review.]