[Damien,  The combiner only runs as part of the shuffle phase.  The shuffle phase only runs when there is a reducer that needs the data to be shuffled.  So your indexing works just fine if all of the indexes for a given key are not in the same file?

If you want just a combiner to run with no reducers configured, you are going to have to write something for that yourself., If you feel strongly that this should be supported you can reopen this JIRA as new feature work., Hmm that is sad. it fit really well with our needs: Aggregating things by mapper easily for bulk treatment that not really need global aggregation (like indexation).
Can you point me out where this is done in the code (running or not Combiner class) ?, In trunk it is the MergeManagerImpl that calls the combiner

./hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl.java

In branch-1 MapTask.java itself handles the combiner code. You can look at Task.java for some of the implementations of it.]