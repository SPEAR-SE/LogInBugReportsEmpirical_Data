[Here is a fix patch (not for commit) reintroducing that parameter as before, with a dummy change in the jobclient package to enforce tests.

When committing, I'll post another patch minus the dummy changes., So far things seem to be passing at: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2895/console

Will commit this fix (minus dummy forced changes) and open a new JIRA to see what we ought to do about that parameter name as it has "cluster" in it and only LocalRunner uses it anymore per my greps. But the property can stay and continue to be harmless for now.

{code}
Running org.apache.hadoop.mapreduce.TestLocalRunner
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 26.904 sec
{code}, The patch looks good. I don't think that ClientServiceDelegate.java needs to be changed at all.

It would also be nice to add in a test so that changes like this don't break it again in the future, but I am not sure how easy that would be so I am OK without it., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12547227/MAPREDUCE-4695.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2895//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2895//console

This message is automatically generated., bq. The patch looks good. I don't think that ClientServiceDelegate.java needs to be changed at all.

Thats my dummy change to trigger tests in jobclient (tests reside there, while default xml is in core, a problem we've yet to fix, will follow up on this afterwards). It won't go into the final patch.

bq. It would also be nice to add in a test so that changes like this don't break it again in the future, but I am not sure how easy that would be so I am OK without it.

If we moved all tests to their right module we wouldn't have this issue (i.e. we won't miss it in pre commit builds).

Thanks Robert, I'll commit this in (new patch minus jobclient package change)., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12547236/MAPREDUCE-4695.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2896//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/2896//console

This message is automatically generated., Integrated in Hadoop-Common-trunk-Commit #2797 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2797/])
    MAPREDUCE-4695. Fix LocalRunner on trunk after MAPREDUCE-3223 broke it. Contributed by Harsh J. (harsh) (Revision 1392446)

     Result = SUCCESS
harsh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1392446
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
, Integrated in Hadoop-Hdfs-trunk-Commit #2860 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2860/])
    MAPREDUCE-4695. Fix LocalRunner on trunk after MAPREDUCE-3223 broke it. Contributed by Harsh J. (harsh) (Revision 1392446)

     Result = SUCCESS
harsh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1392446
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
, Integrated in Hadoop-Mapreduce-trunk-Commit #2819 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2819/])
    MAPREDUCE-4695. Fix LocalRunner on trunk after MAPREDUCE-3223 broke it. Contributed by Harsh J. (harsh) (Revision 1392446)

     Result = FAILURE
harsh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1392446
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
, Integrated in Hadoop-Hdfs-trunk #1183 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1183/])
    MAPREDUCE-4695. Fix LocalRunner on trunk after MAPREDUCE-3223 broke it. Contributed by Harsh J. (harsh) (Revision 1392446)

     Result = SUCCESS
harsh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1392446
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
, Integrated in Hadoop-Mapreduce-trunk #1214 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1214/])
    MAPREDUCE-4695. Fix LocalRunner on trunk after MAPREDUCE-3223 broke it. Contributed by Harsh J. (harsh) (Revision 1392446)

     Result = FAILURE
harsh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1392446
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
]