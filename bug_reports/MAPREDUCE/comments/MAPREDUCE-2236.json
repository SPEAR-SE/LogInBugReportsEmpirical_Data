[We can also set a hard cap on the attempts amount when its being set; although how much should that be must be discussed. Integer.MAX_VALUE / 2 should do I guess?, A hard-cap should be on the order of 100 or so... 100 attempts per task is nearly 1 attempt on every rack in a 4k-node cluster. Thoughts?, 100 sounds reasonable to me; would be a good cap for smaller clusters too., I'm wondering on how to cap this? Would it be best capped at the set level, or checked and capped at the get level?

I'm thinking 'get' is better., Patch that caps maximum attempts at 100., +1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12475887/MAPREDUCE-2236.r1.diff
  against trunk revision 1090390.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

    +1 system test framework.  The patch passed system test framework compile.

Test results: https://hudson.apache.org/hudson/job/PreCommit-MAPREDUCE-Build/162//testReport/
Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-MAPREDUCE-Build/162//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://hudson.apache.org/hudson/job/PreCommit-MAPREDUCE-Build/162//console

This message is automatically generated., Rebased patch, should apply cleanly to current trunk., (Change release note.)

This patch would change an existing possibility by limiting it down, would it be considered as an "incompatible" change due to this?, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12482151/MAPREDUCE-2236.r2.diff
  against trunk revision 1134180.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed these core unit tests:
                  org.apache.hadoop.cli.TestMRCLI
                  org.apache.hadoop.conf.TestNoDefaultsJobConf
                  org.apache.hadoop.examples.terasort.TestTeraSort
                  org.apache.hadoop.fs.TestDFSIO
                  org.apache.hadoop.fs.TestFileSystem
                  org.apache.hadoop.ipc.TestSocketFactory
                  org.apache.hadoop.mapred.join.TestDatamerge
                  org.apache.hadoop.mapred.lib.TestDelegatingInputFormat
                  org.apache.hadoop.mapred.pipes.TestPipes
                  org.apache.hadoop.mapred.TestBadRecords
                  org.apache.hadoop.mapred.TestClusterMapReduceTestCase
                  org.apache.hadoop.mapred.TestCommandLineJobSubmission
                  org.apache.hadoop.mapred.TestCompressedEmptyMapOutputs
                  org.apache.hadoop.mapred.TestControlledMapReduceJob
                  org.apache.hadoop.mapred.TestFileInputFormat
                  org.apache.hadoop.mapred.TestJobClient
                  org.apache.hadoop.mapred.TestJobDirCleanup
                  org.apache.hadoop.mapred.TestJobHistory
                  org.apache.hadoop.mapred.TestJobName
                  org.apache.hadoop.mapred.TestJobQueueInformation
                  org.apache.hadoop.mapred.TestJobStatusPersistency
                  org.apache.hadoop.mapred.TestJobSysDirWithDFS
                  org.apache.hadoop.mapred.TestJobTrackerXmlJsp
                  org.apache.hadoop.mapred.TestLazyOutput
                  org.apache.hadoop.mapred.TestMapredHeartbeat
                  org.apache.hadoop.mapred.TestMapredSystemDir
                  org.apache.hadoop.mapred.TestMiniMRChildTask
                  org.apache.hadoop.mapred.TestMiniMRClasspath
                  org.apache.hadoop.mapred.TestMiniMRDFSCaching
                  org.apache.hadoop.mapred.TestMiniMRDFSSort
                  org.apache.hadoop.mapred.TestMiniMRWithDFSWithDistinctUsers
                  org.apache.hadoop.mapred.TestMiniMRWithDFS
                  org.apache.hadoop.mapred.TestMultipleLevelCaching
                  org.apache.hadoop.mapred.TestNodeRefresh
                  org.apache.hadoop.mapred.TestRecoveryManager
                  org.apache.hadoop.mapred.TestReduceFetchFromPartialMem
                  org.apache.hadoop.mapred.TestReduceFetch
                  org.apache.hadoop.mapred.TestSetupAndCleanupFailure
                  org.apache.hadoop.mapred.TestSeveral
                  org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath
                  org.apache.hadoop.mapred.TestSubmitJob
                  org.apache.hadoop.mapred.TestTaskFail
                  org.apache.hadoop.mapred.TestWebUIAuthorization
                  org.apache.hadoop.mapreduce.lib.input.TestCombineFileInputFormat
                  org.apache.hadoop.mapreduce.lib.input.TestDelegatingInputFormat
                  org.apache.hadoop.mapreduce.lib.join.TestJoinDatamerge
                  org.apache.hadoop.mapreduce.lib.join.TestJoinProperties
                  org.apache.hadoop.mapreduce.security.TestBinaryTokenFile
                  org.apache.hadoop.mapreduce.security.TestTokenCacheOldApi
                  org.apache.hadoop.mapreduce.security.TestTokenCache
                  org.apache.hadoop.mapreduce.TestMapReduceLazyOutput
                  org.apache.hadoop.mapreduce.TestMRJobClient
                  org.apache.hadoop.security.authorize.TestServiceLevelAuthorization
                  org.apache.hadoop.security.TestMapredGroupMappingServiceRefresh
                  org.apache.hadoop.tools.TestCopyFiles
                  org.apache.hadoop.tools.TestDistCh
                  org.apache.hadoop.tools.TestHadoopArchives
                  org.apache.hadoop.tools.TestHarFileSystem

    -1 contrib tests.  The patch failed contrib unit tests.

    +1 system test framework.  The patch passed system test framework compile.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/376//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/376//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/376//console

This message is automatically generated., I think it's better to cap it in TaskInProgress where it's pulled out of the conf -- that's more consistent with what we do with other such "limits"., Patch that caps it during set/load in {{TaskInProgress}}. Puts out a WARN log if the requested attempts exceed 100 (hardcoded, unconfigurable)., Sorry to come in late, the patch has gone stale. Can you please rebase? Thanks.

Given this is not an issue with MRv2 should we still commit this? I'm happy to, but not sure it's useful. Thanks., Well do you want me to rebase or do you feel there's no need to? I'm not targeting anything lower than trunk here, so let me know if its relevant (I'll also like hows/whys :D), From above comments, apparently not a problem on 0.23+. We may reopen this if it is., Dropping fix-version from 'non-fixed' (didn't have code-fixes) JIRAs.]