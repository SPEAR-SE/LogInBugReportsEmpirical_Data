[Today, one map task attempt hang, whose state is unassigned. The following log gives the normal log and the exception log.

Normal Log:
-------------------
2009-03-05 11:48:40,527 INFO  mapred.TaskTracker (TaskTracker.java:run(314)) - Received KillTaskAction for task: attempt_200903
032231_0534_m_000785_0
2009-03-05 11:48:40,527 INFO  mapred.TaskTracker (TaskTracker.java:purgeTask(1392)) - About to purge task: attempt_200903032231
_0534_m_000785_0
2009-03-05 11:48:40,528 INFO  mapred.TaskTracker (TaskTracker.java:addFreeSlot(1625)) - addFreeSlot : current free slots : 1
2009-03-05 11:48:40,537 WARN  mapred.TaskTracker (TaskTracker.java:reportTaskFinished(2583)) - Unknown child task finshed: atte
mpt_200903032231_0534_m_000785_0. Ignored.


Exception Log
--------------------------
2009-03-05 11:55:51,600 INFO  mapred.TaskTracker (TaskTracker.java:run(314)) - Received KillTaskAction for task: attempt_200903
032231_0541_m_000046_1
2009-03-05 11:55:51,603 INFO  mapred.TaskTracker (TaskTracker.java:purgeTask(1392)) - About to purge task: attempt_200903032231
_0541_m_000046_1
2009-03-05 11:55:51,603 INFO  mapred.TaskTracker (TaskTracker.java:reportDone(2022)) - Task attempt_200903032231_0541_m_000046_
1 is done.
2009-03-05 11:55:51,604 INFO  mapred.TaskTracker (TaskTracker.java:reportDone(2023)) - reported output size for attempt_2009030
32231_0541_m_000046_1  was 0, We have also seen this error.  This is what we saw in the TaskTracker that was trying to launch the task:

2009-03-12 14:05:53,099 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not find taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct2009-03-12 01:46:30,781 INFO org.apache.hadoop.mapred.TaskTracker: LaunchTaskAction (registerTask): attempt_200902281847_7071_r_000003_
0
2009-03-12 01:46:30,781 INFO org.apache.hadoop.mapred.TaskTracker: Trying to launch : attempt_200902281847_7071_r_000003_0
2009-03-12 01:46:35,802 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not fin
d taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct
ories
2009-03-12 01:46:40,805 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not fin
d taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct
ories
2009-03-12 01:46:45,807 INFO org.apache.hadoop.mapred.TaskTracker: org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not fin
d taskTracker/jobcache/job_200902281847_7071/attempt_200902281847_7071_r_000003_0/output/file.out in any of the configured local direct
ories
.... (REPEAT LAST LOG ENTRY)....

, After doing a series of thread dumps, we have found that parent TaskTracker is hung on the following synchronized block:

{code}
          synchronized (numFreeSlots) {
            while (numFreeSlots.get() == 0) {
              numFreeSlots.wait();
            }
{code}

Here is the relevant section of the thread dumps (note this has been in this state for 8+ hours)

{noformat}
"TaskLauncher for task" daemon prio=10 tid=0x6f7f0400 nid=0x1857 in Object.wait() [0x6eae0000..0x6eae1030]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.mapred.TaskTracker$TaskLauncher.run(TaskTracker.java:1585)
	- locked <0x74f3cdf0> (a org.apache.hadoop.io.IntWritable)
{noformat}

This is consistent with the previous report that a restart of the TaskTracker is necessary to fix the problem., This looks like HADOOP-4967 fixed in 0.19.1., There is another issue in 0.19.1 for taskTracker.

HADOOP-5269
HADOOP-5235
HADOOP-5367

I am using branch-0.19, it's fine., Closing this as either stale or already fixed or whatever.]