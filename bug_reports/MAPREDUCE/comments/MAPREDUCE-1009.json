[The following is the documentation needed for the changes incorporated in MAPREDUCE-862:

*Inorder to display information about queue hierarchy with YUI,the web clients are expected to have an internet connection and able to connect to YUI servers. In case of clients who cannot connect to YUI server, a web page of queue hierarchy with minimal tabular form is displayed.*, Attaching patch fixing the documentation., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12421598/MAPREDUCE-1009-20091008.txt
  against trunk revision 819740.

    +1 @author.  The patch does not contain any @author tags.

    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/150/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/150/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/150/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/150/console

This message is automatically generated., MAPREDUCE-1105 broke this patch. Will upload a new one., cluster_setup.xml

1. In the section conf/mapred-queues.xml . 
When we are explaninig the properties we need to specify whether we can change the value using refresh or not
So we can have 3rd column 
can be refreshed.
values being yes , no and Not applicable.
2. Instead of "both from the command line (See this and this)"  instead of this , we can use -list and -info.
3. In section "Refreshing queue configuration" we should mention that no change is allowed to hierarchy of queues. either in terms of structure or in terms of name. Only properties are allowed to change.
Instead we are just saying "Not all configuration properties can be reloaded of course. For example, new queues cannot be added dynamically, neither can an existing queue be deleted"

capacity_scheduler.xml
1. In section "Configuring Properties for Queues" the table should have seperate column for refresh as mentioned for cluster_setup.xml
, Uploading patch that addresses Rahul's review comments., +1 with the patch, A few comments on this patch:

- Why is the docs target copying xml template files to build ? In case it is needed, shouldn't the target be overridden in capacity-scheduler's build file, rather than putting contrib specific operations in build.xml.
- The documentation of maximum-capacity in capacity-scheduler's mapred-queues.xml.template seems to have problems. E.g. it says: maximum-capacity-stretch instead of maximum-capacity. Mentions default value as 100. It also talks about sub-queues, but that becomes ambiguous if this is a leaf queue. Same applies for Forrest documentation.
- Maybe we should specify in the conf template file and the forrest documentation what properties apply for container queues and what don't.
- In the example (using queues q1 and q2) can we scrub the values of properties to be more clear - like we have capacity set to 0, which is wrong.
- The link to conf/mapred-queues.xml.template in cluster_setup.xml seems wrong. It is pointing t mapred-queues.xml and not the template.
- Typo: But the usage of multiple as well as hierarchical queues in actually dependent... -> should be ...hierarchical queues is actually dependent...
- I think it makes sense to explicitly define what hierarchical queues are somewhere early on when talking about queues. What they are, how they can be used etc. Because we refer to it at multiple places but I don't think the intent is explicitly coming out.
- Queue refresh is also a scheduler specific supported feature. Should we call that out in the cluster-setup documentation ?
- I think we need not mention that queue web UI uses YUI. It seems like an implementation detail. Any specific reason for mentioning this ?
- Shouldn't the Map/Reduce commands section move to the commands manual ? And we can possibly link them from cluster-setup. There seems to be a specific format we are using for describing the commands and it would be consistent to mention it in the same way, which we can easily do by moving to the commands manual., bq. Why is the docs target copying xml template files to build ? In case it is needed, shouldn't the target be overridden in capacity-scheduler's build file, rather than putting contrib specific operations in build.xml.
bq. The link to conf/mapred-queues.xml.template in cluster_setup.xml seems wrong. It is pointing t mapred-queues.xml and not the template.
The docs target is to generate the default config files so that we can publish them to the site when 0.21 is release. See http://hadoop.apache.org/common/docs/current/core-default.html for an example which is referenced to from cluster_setup.html.

As suggested, I've moved the target to capacity-scheduler build file. Eventually, during release, we should commit the following:
 - build/docs/mapred-queues.xml to "http://hadoop.apache.org/mapreduce/docs/current/mapred-queues.xml"
 - build/docs/mapred-queues-capacity-scheduler.xml to "http://hadoop.apache.org/mapreduce/docs/current/mapred-queues-capacity-scheduler.xml"
 - build/docs/capacity-scheduler-conf.html to "http://hadoop.apache.org/mapreduce/docs/current/capacity-scheduler-conf.html"

bq. Queue refresh is also a scheduler specific supported feature. Should we call that out in the cluster-setup documentation ?
This was already done in the patch.

Included rest of the comments., +1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12427714/MAPREDUCE-1009-20091211.txt
  against trunk revision 889571.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 1 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/189/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/189/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/189/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/189/console

This message is automatically generated., I am attaching a new patch that makes some modifications:
- Added a new file build-utils.xml that moves the java5.check and forrest.check targets. Imported this into the main build.xml and build-contrib.xml, thereby removing duplication of these targets in the earlier patch.
- I reorganized and edited the section on mapred-queues.xml in cluster-setup documentation. Primarily, I tried to make the connection between the queues and schedulers more explicit. I also tried to classify various queue configurations a little more clearly - like single queue setup, multiple single level queue setup and hierarchical queue setup, giving descriptions of each.
- Some other editorial changes - like scrubbing the example of hierarchical queue setup in mapred-queues.xml.template.

Vinod, can you quickly glance at these differences and see if you are comfortable with these ?, +1 for the changes. Running it through Hudson., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12428398/MAPREDUCE-1009-20091217.txt
  against trunk revision 892479.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 1 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    -1 contrib tests.  The patch failed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/327/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/327/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/327/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/327/console

This message is automatically generated., This is only a documentation patch, and the test failures are unrelated. Good to commit., Attaching a new patch that adds an entry to .gitignore for the mapred-queues.xml file under src/contrib/capacity-scheduler/ tree. Only change in the patch., Canceling to try hudson again, just for sanity check., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12428714/MAPREDUCE-1009-20091222.txt
  against trunk revision 893055.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 1 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed core unit tests.

    -1 contrib tests.  The patch failed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/333/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/333/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/333/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/333/console

This message is automatically generated., I tried running a few of the tests locally on updated trunk. They all passed. I suspect Hudson is goofing. Trying again., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12428714/MAPREDUCE-1009-20091222.txt
  against trunk revision 893409.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 1 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    -1 contrib tests.  The patch failed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/337/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/337/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/337/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h6.grid.sp2.yahoo.net/337/console

This message is automatically generated., The test failures were unrelated to this documentation patch and are being tracked in MAPREDUCE-1311 and MAPREDUCE-1312.

Hence, I committed this patch to trunk and branch 0.21. Thanks, Vinod !, Integrated in Hadoop-Mapreduce-trunk #196 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk/196/])
    ]