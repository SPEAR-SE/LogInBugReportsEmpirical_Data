[I'm not sure why LinkedHashMap would necessarily solve this issue, since the order in which entries are put into the map is the order in which they are retrieved from the Properties Hashtable.

Currently the string generated by JobImpl.getWorkflowAdjacencies is not intended to have any particular ordering.  Here are some other possible ways to address the test issue:
1) Make getWorkflowAdjacencies apply an ordering (e.g. putting the entries obtained by Configuration.getValByRegex into a sorted map instead of just using the HashMap it returns, presumably also with an effect on performance).
2) Instead of testing an exact string with an assumed ordering, split the string on spaces and ensure each element appears as expected.
3) Only test a single adjacency entry to avoid the ordering issue entirely., Billie, thanks for your reply. I will make appropriate changes, as you have suggested., I have made proper changes in TestJobImpl testcase. Is there away to transfer this JIRA to MAPREDUCE component?, patch uploaded , When the patch is ready for review, please move the JIRA into the Patch Available state via the "Submit Patch" button.  That triggers the QA bot to comment on the patch and also flags the JIRA as being in a ready-to-review state for committers.

Also if you need to move JIRAs to other projects in the future, you can do this via the "Move" option under the "More Actions" drop-down menu., {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12577609/MAPREDUCE-5136.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3509//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3509//console

This message is automatically generated., bq. Also if you need to move JIRAs to other projects in the future, you can do this via the "Move" option under the "More Actions" drop-down menu.

I think this is only possible if you are a contributor to the ticket's current project., do we know into which build (release) this patch will be included? This patch is needed for IBM JAVA . thanks , Amir, unfortunately I can't answer your question as I'm not a committer.  But I wanted to ask, if you get a chance, could you try building a new checkout of branch-1 with IBM Java?  It has a different test for workflow adjacencies that assumes if you iterate over a HashMap multiple times (without adding new elements) you will get the keys in the same order., sure Billie, I will try that.
, Billi, I assumed the intended testcase in branch_1 was TestJobHistory, was that correct? All JUnit tests, including validateJobHistoryFileContent() passed successfully with IBM JAVA.
, Yes, that's correct.  Thanks for testing that!, +1, looks good to me.  I'll commit this shortly., Thanks, Amir!  I committed this to trunk and branch-2., Integrated in Hadoop-trunk-Commit #3595 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3595/])
    MAPREDUCE-5136. TestJobImpl->testJobNoTasks fails with IBM JAVA. Contributed by Amir Sanjar (Revision 1467061)

     Result = SUCCESS
jlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1467061
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestJobImpl.java
, Integrated in Hadoop-Yarn-trunk #181 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/181/])
    MAPREDUCE-5136. TestJobImpl->testJobNoTasks fails with IBM JAVA. Contributed by Amir Sanjar (Revision 1467061)

     Result = SUCCESS
jlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1467061
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestJobImpl.java
, Integrated in Hadoop-Hdfs-trunk #1370 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1370/])
    MAPREDUCE-5136. TestJobImpl->testJobNoTasks fails with IBM JAVA. Contributed by Amir Sanjar (Revision 1467061)

     Result = FAILURE
jlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1467061
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestJobImpl.java
, Integrated in Hadoop-Mapreduce-trunk #1397 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1397/])
    MAPREDUCE-5136. TestJobImpl->testJobNoTasks fails with IBM JAVA. Contributed by Amir Sanjar (Revision 1467061)

     Result = SUCCESS
jlowe : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1467061
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestJobImpl.java
]