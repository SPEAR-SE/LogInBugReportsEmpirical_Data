[It is expected to require recompilation if not outright code changes on major version upgrades.  This is documented in the Hadoop Compatibility Guide.

Closing as won't fix.]