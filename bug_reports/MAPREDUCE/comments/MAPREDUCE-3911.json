[{{DelegationTokenRenewal}} is used to renew the job's tokens.  It will attempt an immediate renewal, but the problem is the first renewal is performed in a background thread that ignores renewal failures.  If the first renewal is performed in the job's thread context, then an invalid token will abort the job.

I posted a patch a few months ago that fixed this very issue.  Unfortunately I'm having trouble finding the jira.]