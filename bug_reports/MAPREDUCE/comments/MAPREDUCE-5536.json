[looks like few things were missed in YARN-1204. attaching the patch which fixes this., I think it makes sense to have a separate knob for JHS to enable SSL. In that context, we should also rename mapreduce.ssl.enabled to be mapreduce.am.ssl-enabled.

JobHistoryUtils.getDefaultHistoryWebappPort should be private.
, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12605138/YARN-1240.20131025.1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapred.TestClusterMRNotification
                  org.apache.hadoop.mapreduce.TestMRJobClient
                  org.apache.hadoop.mapred.TestJobCleanup

                                      The following test timeouts occurred in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

org.apache.hadoop.mapreduce.v2.app.TestRMContainerAllocator
org.apache.hadoop.mapreduce.v2.TestUberAM

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4049//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4049//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-app.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4049//console

This message is automatically generated., updated doc for core-site.xml HADOOP-10004, * findbug warning is not related to my patch
* all the test cases are failing irrespective of this patch.
* adding new configuration mapreduce.jobhistory.ssl.enabled and change am configuration to mapreduce.am.ssl.enabled.
, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12605554/MAPREDUCE-5536.20131027.1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapreduce.jobhistory.TestJobHistoryEventHandler
                  org.apache.hadoop.mapreduce.v2.app.webapp.TestAMWebServices
                  org.apache.hadoop.mapreduce.v2.app.job.impl.TestJobImpl
                  org.apache.hadoop.mapreduce.v2.app.TestKill
                  org.apache.hadoop.mapreduce.v2.app.TestRMContainerAllocator
                  org.apache.hadoop.mapreduce.v2.app.TestRecovery
                  org.apache.hadoop.mapreduce.v2.app.TestMRAppComponentDependencies
                  org.apache.hadoop.mapreduce.v2.app.TestMRAppMaster
                  org.apache.hadoop.mapreduce.v2.app.launcher.TestContainerLauncher
                  org.apache.hadoop.mapreduce.v2.app.TestAMInfos
                  org.apache.hadoop.mapred.TestTaskAttemptListenerImpl
                  org.apache.hadoop.mapreduce.v2.app.webapp.TestAMWebServicesAttempts
                  org.apache.hadoop.mapreduce.v2.app.TestFail
                  org.apache.hadoop.mapreduce.v2.app.job.impl.TestTaskImpl
                  org.apache.hadoop.mapreduce.v2.app.webapp.TestAMWebApp
                  org.apache.hadoop.mapreduce.v2.app.webapp.TestAMWebServicesJobConf
                  org.apache.hadoop.mapreduce.v2.app.webapp.TestAMWebServicesJobs
                  org.apache.hadoop.mapreduce.v2.app.job.impl.TestTaskAttempt
                  org.apache.hadoop.mapreduce.v2.app.TestFetchFailure
                  org.apache.hadoop.mapreduce.v2.app.commit.TestCommitterEventHandler
                  org.apache.hadoop.mapreduce.v2.app.webapp.TestAMWebServicesTasks
                  org.apache.hadoop.mapreduce.v2.app.TestStagingCleanup
                  org.apache.hadoop.mapreduce.v2.app.TestMRClientService
                  org.apache.hadoop.mapreduce.v2.app.job.impl.TestTaskAttemptContainerRequest
                  org.apache.hadoop.mapreduce.jobhistory.TestEvents
                  org.apache.hadoop.mapreduce.v2.app.job.impl.TestMapReduceChildJVM
                  org.apache.hadoop.mapreduce.v2.app.TestMRApp
                  org.apache.hadoop.mapred.TestJobClient
                  org.apache.hadoop.mapred.TestMRWithDistributedCache
                  org.apache.hadoop.mapred.TestLocalDistributedCacheManager
                  org.apache.hadoop.mapred.TestLocalModeWithNewApis
                  org.apache.hadoop.mapreduce.v2.TestRPCFactories
                  org.apache.hadoop.mapreduce.v2.util.TestMRApps
                  org.apache.hadoop.mapred.TestJobClientGetJob
                  org.apache.hadoop.mapreduce.task.reduce.TestFetcher
                  org.apache.hadoop.mapred.TestJobEndNotifier
                  org.apache.hadoop.mapreduce.lib.jobcontrol.TestJobControl
                  org.apache.hadoop.mapreduce.security.TestTokenCache
                  org.apache.hadoop.mapreduce.lib.input.TestFileInputFormat
                  org.apache.hadoop.mapred.TestJobConf
                  org.apache.hadoop.mapreduce.lib.output.TestFileOutputFormat
                  org.apache.hadoop.mapred.TestQueue
                  org.apache.hadoop.mapreduce.TestJob
                  org.apache.hadoop.mapreduce.TestContextFactory
                  org.apache.hadoop.mapreduce.TestShufflePlugin
                  org.apache.hadoop.mapreduce.TestJobMonitorAndPrint
                  org.apache.hadoop.mapred.TestFileInputFormat
                  org.apache.hadoop.mapreduce.task.reduce.TestMerger
                  org.apache.hadoop.mapred.TestJobAclsManager
                  org.apache.hadoop.mapred.TestIndexCache
                  org.apache.hadoop.mapred.TestJobInfo
                  org.apache.hadoop.mapreduce.filecache.TestClientDistributedCacheManager
                  org.apache.hadoop.mapred.TestFileOutputCommitter
                  org.apache.hadoop.mapreduce.task.reduce.TestMergeManager
                  org.apache.hadoop.mapreduce.lib.output.TestFileOutputCommitter
                  org.apache.hadoop.mapred.TestTaskLog
                  org.apache.hadoop.mapreduce.task.reduce.TestShuffleScheduler
                  org.apache.hadoop.mapred.TestSkipBadRecords
                  org.apache.hadoop.mapred.TestCounters
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHsWebServices
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHsWebServicesJobsQuery
                  org.apache.hadoop.mapreduce.v2.hs.TestJobHistoryEvents
                  org.apache.hadoop.mapreduce.v2.hs.webapp.dao.TestJobInfo
                  org.apache.hadoop.mapreduce.v2.hs.TestJobHistoryServer
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHSWebApp
                  org.apache.hadoop.mapreduce.v2.hs.TestJobHistory
                  org.apache.hadoop.mapreduce.v2.hs.TestJobHistoryEntities
                  org.apache.hadoop.mapreduce.v2.hs.TestHistoryServerFileSystemStateStoreService
                  org.apache.hadoop.mapreduce.v2.hs.server.TestHSAdminServer
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHsWebServicesTasks
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHsWebServicesJobConf
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHsWebServicesJobs
                  org.apache.hadoop.mapreduce.v2.hs.TestJobHistoryParsing
                  org.apache.hadoop.mapreduce.v2.hs.TestCompletedTask
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestHsWebServicesAttempts
                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestMapReduceTrackingUriPlugin
                  org.apache.hadoop.mapred.lib.aggregate.TestAggregates
                  org.apache.hadoop.mapred.TestWritableJobConf
                  org.apache.hadoop.mapreduce.v2.TestMiniMRProxyUser
                  org.apache.hadoop.mapreduce.lib.db.TestDataDrivenDBInputFormat
                  org.apache.hadoop.mapred.TestTextInputFormat
                  org.apache.hadoop.mapreduce.lib.input.TestMRKeyValueTextInputFormat
                  org.apache.hadoop.mapred.TestClusterMRNotification
                  org.apache.hadoop.mapred.TestTaskCommit
                  org.apache.hadoop.mapreduce.lib.jobcontrol.TestMapReduceJobControlWithMocks
                  org.apache.hadoop.mapred.TestFieldSelection
                  org.apache.hadoop.mapreduce.lib.input.TestFileInputFormat
                  org.apache.hadoop.mapred.TestSequenceFileAsBinaryOutputFormat
                  org.apache.hadoop.io.TestSequenceFileMergeProgress
                  org.apache.hadoop.mapred.join.TestWrappedRecordReaderClassloader
                  org.apache.hadoop.mapreduce.lib.input.TestCombineSequenceFileInputFormat
                  org.apache.hadoop.mapreduce.TestLocalRunner
                  org.apache.hadoop.mapred.TestReduceTask
                  org.apache.hadoop.mapred.TestUserDefinedCounters
                  org.apache.hadoop.mapred.TestSequenceFileAsTextInputFormat
                  org.apache.hadoop.mapreduce.v2.TestSpeculativeExecution
                  org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath
                  org.apache.hadoop.mapreduce.TestMROutputFormat
                  org.apache.hadoop.mapred.TestLineRecordReader
                  org.apache.hadoop.mapred.TestCombineTextInputFormat
                  org.apache.hadoop.mapreduce.lib.fieldsel.TestMRFieldSelection
                  org.apache.hadoop.mapreduce.v2.TestRMNMInfo
                  org.apache.hadoop.mapred.lib.TestMultipleInputs
                  org.apache.hadoop.mapred.TestLocalMRNotification
                  org.apache.hadoop.mapred.TestIFile
                  org.apache.hadoop.mapred.TestMiniMRClasspath
                  org.apache.hadoop.mapreduce.TestClientProtocolProviderImpls
                  org.apache.hadoop.mapreduce.lib.map.TestMultithreadedMapper
                  org.apache.hadoop.mapreduce.v2.TestMRAppWithCombiner
                  org.apache.hadoop.mapred.TestReduceFetchFromPartialMem
                  org.apache.hadoop.mapreduce.lib.input.TestNLineInputFormat
                  org.apache.hadoop.mapred.lib.TestChainMapReduce
                  org.apache.hadoop.mapreduce.security.TestBinaryTokenFile
                  org.apache.hadoop.mapreduce.TestMapReduce
                  org.apache.hadoop.mapred.TestLazyOutput
                  org.apache.hadoop.mapreduce.lib.join.TestJoinDatamerge
                  org.apache.hadoop.mapred.lib.TestKeyFieldBasedComparator
                  org.apache.hadoop.mapred.lib.TestMultithreadedMapRunner
                  org.apache.hadoop.mapreduce.v2.TestMRJobsWithHistoryService
                  org.apache.hadoop.mapreduce.TestChild
                  org.apache.hadoop.mapred.TestReduceFetch
                  org.apache.hadoop.mapreduce.lib.input.TestCombineTextInputFormat
                  org.apache.hadoop.mapreduce.TestMapperReducerCleanup
                  org.apache.hadoop.mapred.TestMerge
                  org.apache.hadoop.mapred.lib.TestMultipleOutputs
                  org.apache.hadoop.mapred.TestJavaSerialization
                  org.apache.hadoop.mapreduce.TestYarnClientProtocolProvider
                  org.apache.hadoop.mapreduce.lib.input.TestLineRecordReader
                  org.apache.hadoop.mapred.TestBlockLimits
                  org.apache.hadoop.mapred.TestMiniMRBringup
                  org.apache.hadoop.mapreduce.lib.input.TestMRSequenceFileAsTextInputFormat
                  org.apache.hadoop.mapreduce.security.ssl.TestEncryptedShuffle
                  org.apache.hadoop.mapreduce.lib.output.TestMRMultipleOutputs
                  org.apache.hadoop.mapred.TestClusterMapReduceTestCase
                  org.apache.hadoop.mapred.lib.TestKeyFieldBasedPartitioner
                  org.apache.hadoop.mapred.TestYARNRunner
                  org.apache.hadoop.mapred.TestCollect
                  org.apache.hadoop.mapred.TestMapProgress
                  org.apache.hadoop.fs.slive.TestSlive
                  org.apache.hadoop.mapred.TestNetworkedJob
                  org.apache.hadoop.mapreduce.lib.partition.TestBinaryPartitioner
                  org.apache.hadoop.mapred.join.TestDatamerge
                  org.apache.hadoop.mapred.TestFileInputFormat
                  org.apache.hadoop.mapreduce.security.TestJHSSecurity
                  org.apache.hadoop.mapreduce.TestMapCollection
                  org.apache.hadoop.mapreduce.v2.TestMRAMWithNonNormalizedCapabilities
                  org.apache.hadoop.mapred.TestCombineFileInputFormat
                  org.apache.hadoop.mapred.pipes.TestPipeApplication
                  org.apache.hadoop.mapred.lib.db.TestConstructQuery
                  org.apache.hadoop.mapreduce.lib.input.TestDelegatingInputFormat
                  org.apache.hadoop.mapred.TestMiniMRClientCluster
                  org.apache.hadoop.mapred.TestInputPath
                  org.apache.hadoop.mapred.TestSequenceFileAsBinaryInputFormat
                  org.apache.hadoop.mapred.jobcontrol.TestJobControl
                  org.apache.hadoop.fs.TestDFSIO
                  org.apache.hadoop.mapreduce.lib.output.TestJobOutputCommitter
                  org.apache.hadoop.mapreduce.security.TestMRCredentials
                  org.apache.hadoop.mapred.lib.TestDelegatingInputFormat
                  org.apache.hadoop.mapreduce.lib.input.TestMRSequenceFileAsBinaryInputFormat
                  org.apache.hadoop.mapreduce.lib.aggregate.TestMapReduceAggregates
                  org.apache.hadoop.mapred.TestMapRed
                  org.apache.hadoop.mapred.TestSequenceFileInputFormat
                  org.apache.hadoop.util.TestReflectionUtils
                  org.apache.hadoop.mapred.TestFileOutputFormat
                  org.apache.hadoop.mapreduce.TestValueIterReset
                  org.apache.hadoop.mapreduce.v2.TestMROldApiJobs
                  org.apache.hadoop.mapred.TestMapOutputType
                  org.apache.hadoop.conf.TestJobConf
                  org.apache.hadoop.mapreduce.v2.TestNonExistentJob
                  org.apache.hadoop.mapreduce.TestCounters
                  org.apache.hadoop.mapreduce.lib.partition.TestTotalOrderPartitioner
                  org.apache.hadoop.mapreduce.lib.join.TestWrappedRRClassloader
                  org.apache.hadoop.mapred.TestKeyValueTextInputFormat
                  org.apache.hadoop.mapreduce.lib.db.TestDBOutputFormat
                  org.apache.hadoop.mapred.TestFileOutputCommitter
                  org.apache.hadoop.mapred.TestMiniMRChildTask
                  org.apache.hadoop.mapred.TestJobCounters
                  org.apache.hadoop.fs.TestFileSystem
                  org.apache.hadoop.mapred.TestFileInputFormatPathFilter
                  org.apache.hadoop.mapred.TestAuditLogger
                  org.apache.hadoop.mapred.lib.TestLineInputFormat
                  org.apache.hadoop.mapred.TestMultiFileSplit
                  org.apache.hadoop.mapreduce.v2.TestUberAM
                  org.apache.hadoop.mapred.pipes.TestPipesNonJavaInputFormat
                  org.apache.hadoop.mapred.lib.TestChain
                  org.apache.hadoop.conf.TestNoDefaultsJobConf
                  org.apache.hadoop.mapred.TestReporter
                  org.apache.hadoop.mapred.TestJobName
                  org.apache.hadoop.fs.TestJHLA
                  org.apache.hadoop.mapreduce.lib.partition.TestMRKeyFieldBasedComparator
                  org.apache.hadoop.mapreduce.lib.input.TestCombineFileInputFormat
                  org.apache.hadoop.mapreduce.lib.join.TestJoinProperties
                  org.apache.hadoop.mapred.TestJobSysDirWithDFS
                  org.apache.hadoop.mapreduce.lib.output.TestMRSequenceFileAsBinaryOutputFormat
                  org.apache.hadoop.mapreduce.lib.output.TestFileOutputCommitter
                  org.apache.hadoop.mapreduce.lib.chain.TestChainErrors
                  org.apache.hadoop.mapreduce.lib.chain.TestSingleElementChain
                  org.apache.hadoop.mapreduce.lib.input.TestMultipleInputs
                  org.apache.hadoop.mapreduce.lib.partition.TestInputSampler
                  org.apache.hadoop.mapred.TestSequenceFileInputFilter
                  org.apache.hadoop.mapreduce.v2.TestMRJobs
                  org.apache.hadoop.mapred.TestClientRedirect
                  org.apache.hadoop.mapred.TestComparators
                  org.apache.hadoop.mapreduce.util.TestMRAsyncDiskService
                  org.apache.hadoop.mapreduce.lib.chain.TestMapReduceChain
                  org.apache.hadoop.mapred.TestMultipleTextOutputFormat
                  org.apache.hadoop.mapred.TestClientServiceDelegate
                  org.apache.hadoop.mapred.jobcontrol.TestLocalJobControl
                  org.apache.hadoop.mapreduce.TestMRJobClient
                  org.apache.hadoop.mapred.TestCombineSequenceFileInputFormat
                  org.apache.hadoop.mapred.TestMultiFileInputFormat
                  org.apache.hadoop.mapreduce.lib.input.TestMRSequenceFileInputFilter
                  org.apache.hadoop.mapred.TestJobCleanup
                  org.apache.hadoop.mapreduce.TestMapReduceLazyOutput
                  org.apache.hadoop.mapreduce.lib.jobcontrol.TestControlledJob
                  org.apache.hadoop.mapreduce.security.TestUmbilicalProtocolWithJobToken
                  org.apache.hadoop.ipc.TestSocketFactory
                  org.apache.hadoop.mapred.TestTextOutputFormat
                  org.apache.hadoop.mapreduce.lib.jobcontrol.TestMapReduceJobControl
                  org.apache.hadoop.mapred.TestMiniMRWithDFSWithDistinctUsers

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4057//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4057//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-app.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4057//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-hs-plugins.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4057//console

This message is automatically generated., restructuring the patch., More comments on the patch. This has to be one of the hardest patches I reviewed in recent times.
 - WebAppUtil.getDefaultJHSWebappPort() and getDefaultJHSWebappURLWithoutScheme() can be private.
 - getHistoryUrl() -> getApplicationHistoryURLWithoutScheme().
 - getJHSWebappURLWithScheme() : No need to have a isSSLEnabledInJHS check.
 - getJHSSchemePrefix() -> getJHSWebAppSchemePrefix()()
 - Add a getApplicationHistoryURLWithSchem() and use in MR AM's RMCommunicator?
 - MR's WebAppUtil -> Mark as Private. - WebAppUtil -> MRWebAppUtil.
 - JHAdminConfig.getResolvedMRHistoryWebAppURLWithoutScheme() still takes in a flag - it doesn't need to. And may be move it to MiniMRYarnCluster if that is the only caller.

I think instead of WebAppUtil.setSSLEnabledIn*() methods,  we should have WebAppUtil.initialize(Configuration conf). That way, every component doesn't need to remember what config to read., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12605975/MAPREDUCE-5536.20131030.1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestMapReduceTrackingUriPlugin
                  org.apache.hadoop.mapred.TestJobCleanup

                                      The following test timeouts occurred in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

org.apache.hadoop.mapreduce.v2.TestUberAM

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4064//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4064//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-hs-plugins.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4064//console

This message is automatically generated., Thanks vinod..

bq. WebAppUtil.getDefaultJHSWebappPort() and getDefaultJHSWebappURLWithoutScheme() can be private
fixed..

bq. getHistoryUrl() -> getApplicationHistoryURLWithoutScheme().
fixed.

bq. getJHSWebappURLWithScheme() : No need to have a isSSLEnabledInJHS check.
fixed.

bq. getJHSSchemePrefix() -> getJHSWebAppSchemePrefix()()
fixed.

bq. Add a getApplicationHistoryURLWithSchem() and use in MR AM's RMCommunicator?
fixed.

bq. MR's WebAppUtil -> Mark as Private. - WebAppUtil -> MRWebAppUtil.
fixed..

bq. JHAdminConfig.getResolvedMRHistoryWebAppURLWithoutScheme() still takes in a flag - it doesn't need to. And may be move it to MiniMRYarnCluster if that is the only caller.
moved it to MiniMRYarnCluster

bq. I think instead of WebAppUtil.setSSLEnabledIn*() methods, we should have WebAppUtil.initialize(Configuration conf). That way, every component doesn't need to remember what config to read.
fixed.
, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12606013/MAPREDUCE-5536.20131030.1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapreduce.v2.hs.webapp.TestMapReduceTrackingUriPlugin
                  org.apache.hadoop.mapred.TestJobCleanup

                                      The following test timeouts occurred in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

org.apache.hadoop.mapreduce.v2.TestUberAM

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4068//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4068//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-hs-plugins.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4068//console

This message is automatically generated., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12606046/MAPREDUCE-5536.20131030.3.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

                  org.apache.hadoop.mapred.TestJobCleanup

                                      The following test timeouts occurred in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient:

org.apache.hadoop.mapreduce.v2.TestUberAM

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4070//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/4070//console

This message is automatically generated., This test is failing on trunk.. opening blocker bug. MAPREDUCE-5552 , org.apache.hadoop.mapreduce.v2.TestUberAM is timing out on my local machine too without patch., The patch looks so much better now. +1. Committing this., finally.. thanks vinod., SUCCESS: Integrated in Hadoop-trunk-Commit #4508 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/4508/])
MAPREDUCE-5536. Fixed MR AM and JHS to respect mapreduce.jobhistory.webapp.https.address. Contributed by Omkar Vinit Joshi. (vinodkv: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1528251)
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/MRAppMaster.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/client/MRClientService.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMCommunicator.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/AppController.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/JobBlock.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/NavBlock.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/TaskPage.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/WebAppUtil.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/dao/AMAttemptInfo.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/jobhistory/JHAdminConfig.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/jobhistory/JobHistoryUtils.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/util/MRWebAppUtil.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/MRConfig.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/MapReduceTrackingUriPlugin.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/CompletedJob.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/HistoryClientService.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsJobBlock.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsTaskPage.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/v2/MiniMRYarnCluster.java
, Here's a patch for branch-2.1 that I used. The original patch didn't apply cleanly., Committed this to trunk, branch-2 and branch-2.1. Thanks Omkar!, FAILURE: Integrated in Hadoop-Yarn-trunk #350 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/350/])
MAPREDUCE-5536. Fixed MR AM and JHS to respect mapreduce.jobhistory.webapp.https.address. Contributed by Omkar Vinit Joshi. (vinodkv: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1528251)
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/MRAppMaster.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/client/MRClientService.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMCommunicator.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/AppController.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/JobBlock.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/NavBlock.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/TaskPage.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/WebAppUtil.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/dao/AMAttemptInfo.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/jobhistory/JHAdminConfig.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/jobhistory/JobHistoryUtils.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/util/MRWebAppUtil.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/MRConfig.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs-plugins/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/MapReduceTrackingUriPlugin.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/CompletedJob.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/HistoryClientService.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsJobBlock.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsTaskPage.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapreduce/v2/MiniMRYarnCluster.java
, Closing old tickets that are already shipped in a release.]