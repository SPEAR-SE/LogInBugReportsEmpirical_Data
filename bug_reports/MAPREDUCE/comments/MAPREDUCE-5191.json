[Attaching the patch. The fix is to increases the timeout from 5 to 10 seconds. 

First, I timed the call to {{File.createTempFile}} and it was ~5 seconds consistently on my box. After that, I looked this up online, and turned out to be a [known issue|http://stackoverflow.com/questions/2608763/why-does-first-call-to-java-io-file-createtempfilestring-string-file-take-5-se]. 
, {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12580936/MAPREDUCE-5191.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3553//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3553//console

This message is automatically generated., Hi, Ivan.  Good find!  Is the increased timeout meant to go on testQueue instead of test2Queue?  On my VM, testQueue is the one that times out.  It calls writeFile to create a temp file., bq. Is the increased timeout meant to go on testQueue instead of test2Queue?
That's absolutely right... I overlooked, thanks Chris!, Attaching the updated patch. , {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12580991/MAPREDUCE-5191.2.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3554//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3554//console

This message is automatically generated., +1 for the patch.  The test passes consistently for me on Mac and Windows.  Thanks for the fix, Ivan.
, Does it make sense to not use the temp file method in such a scenario to reduce the time it takes to run? How about just creating a file under target/ with the name of the test as filename? On a Mac, I saw this test run on an avg of 1 second for multiple runs. 

 , bq. How about just creating a file under target/ with the name of the test as filename?
Thanks Hitesh, totaly makes sense. Will attach the updated patch., {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12583740/MAPREDUCE-5191.3.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3650//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3650//console

This message is automatically generated., +1. Committing shortly. , Thanks Ivan. Committed to trunk., Integrated in Hadoop-trunk-Commit #3769 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3769/])
    MAPREDUCE-5191. TestQueue#testQueue fails with timeout on Windows. (Contributed by Ivan Mitic) (Revision 1484575)

     Result = SUCCESS
hitesh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1484575
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestQueue.java
, Thanks Hitesh!, Integrated in Hadoop-Yarn-trunk #216 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/216/])
    MAPREDUCE-5191. TestQueue#testQueue fails with timeout on Windows. (Contributed by Ivan Mitic) (Revision 1484575)

     Result = FAILURE
hitesh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1484575
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestQueue.java
, Integrated in Hadoop-Hdfs-trunk #1405 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1405/])
    MAPREDUCE-5191. TestQueue#testQueue fails with timeout on Windows. (Contributed by Ivan Mitic) (Revision 1484575)

     Result = FAILURE
hitesh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1484575
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestQueue.java
, Integrated in Hadoop-Mapreduce-trunk #1432 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1432/])
    MAPREDUCE-5191. TestQueue#testQueue fails with timeout on Windows. (Contributed by Ivan Mitic) (Revision 1484575)

     Result = FAILURE
hitesh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1484575
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestQueue.java
, I merged the patch to branch-2.]