[Attaching patch for trunk., Looks good to me. +1, Attaching new patch with the gold trace expected in a Folder testcase modified to reflect this bug-fix., Attaching new patch by changing the file path of LoggedTaskAttempt.java as it is moved to a new folder., Looks good to me. +1., Once we bring back the Rumen unit tests, TestRumenFolder should pass based on this fix.

I just committed this patch to trunk., Integrated in Hadoop-Hdfs-trunk-Commit #1814 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1814/])
    MAPREDUCE-3757. [Rumen] Fixed Rumen Folder to adjust shuffleFinished and sortFinished times when needed. (Revision 1245303)

     Result = SUCCESS
ravigummadi : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1245303
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/docs/src/documentation/content/xdocs/rumen.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/src/test/tools/data/rumen/small-trace-test/goldFoldedTrace.json.gz
* /hadoop/common/trunk/hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/LoggedTaskAttempt.java
, Integrated in Hadoop-Common-trunk-Commit #1740 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1740/])
    MAPREDUCE-3757. [Rumen] Fixed Rumen Folder to adjust shuffleFinished and sortFinished times when needed. (Revision 1245303)

     Result = SUCCESS
ravigummadi : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1245303
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/docs/src/documentation/content/xdocs/rumen.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/src/test/tools/data/rumen/small-trace-test/goldFoldedTrace.json.gz
* /hadoop/common/trunk/hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/LoggedTaskAttempt.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #1752 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1752/])
    MAPREDUCE-3757. [Rumen] Fixed Rumen Folder to adjust shuffleFinished and sortFinished times when needed. (Revision 1245303)

     Result = FAILURE
ravigummadi : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1245303
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/docs/src/documentation/content/xdocs/rumen.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/src/test/tools/data/rumen/small-trace-test/goldFoldedTrace.json.gz
* /hadoop/common/trunk/hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/LoggedTaskAttempt.java
, Committed the same patch to 0.23.1 also., Integrated in Hadoop-Hdfs-trunk #958 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/958/])
    MAPREDUCE-3757. [Rumen] Fixed Rumen Folder to adjust shuffleFinished and sortFinished times when needed. (Revision 1245303)

     Result = SUCCESS
ravigummadi : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1245303
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/docs/src/documentation/content/xdocs/rumen.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/src/test/tools/data/rumen/small-trace-test/goldFoldedTrace.json.gz
* /hadoop/common/trunk/hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/LoggedTaskAttempt.java
, Integrated in Hadoop-Mapreduce-trunk #993 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/993/])
    MAPREDUCE-3757. [Rumen] Fixed Rumen Folder to adjust shuffleFinished and sortFinished times when needed. (Revision 1245303)

     Result = SUCCESS
ravigummadi : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1245303
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/docs/src/documentation/content/xdocs/rumen.xml
* /hadoop/common/trunk/hadoop-mapreduce-project/src/test/tools/data/rumen/small-trace-test/goldFoldedTrace.json.gz
* /hadoop/common/trunk/hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/LoggedTaskAttempt.java
, I merged this into branch-2.]