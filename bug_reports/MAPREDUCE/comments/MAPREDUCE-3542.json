[Simple patch with test case., +1 pending jenkins, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12507249/MAPREDUCE-3542.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    -1 javac.  The applied patch generated 2313 javac compiler warnings (more than the trunk's current 2311 warnings).

    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed unit tests in .

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/1436//testReport/
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/1436//console

This message is automatically generated., Thanks for taking this up Tom. I ran into this while fixing Pig unit tests., I've just committed this. (The two extra javac warnings were due to new method calls on the deprecated Counters class in the test.) , Integrated in Hadoop-Hdfs-trunk-Commit #1490 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1490/])
    MAPREDUCE-3542. Support "FileSystemCounter" legacy counter group name for compatibility.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213971
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Common-trunk-Commit #1416 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1416/])
    MAPREDUCE-3542. Support "FileSystemCounter" legacy counter group name for compatibility.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213971
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #1441 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1441/])
    MAPREDUCE-3542. Support "FileSystemCounter" legacy counter group name for compatibility.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213971
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Mapreduce-trunk #927 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/927/])
    MAPREDUCE-3542. Support "FileSystemCounter" legacy counter group name for compatibility.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213971
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Hdfs-trunk #894 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/894/])
    MAPREDUCE-3542. Support "FileSystemCounter" legacy counter group name for compatibility.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213971
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Hdfs-0.23-Commit #289 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Commit/289/])
    Merge -r 1213970:1213971 from trunk to branch-0.23. Fixes: MAPREDUCE-3542.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1215360
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Common-0.23-Commit #300 (See [https://builds.apache.org/job/Hadoop-Common-0.23-Commit/300/])
    Merge -r 1213970:1213971 from trunk to branch-0.23. Fixes: MAPREDUCE-3542.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1215360
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Mapreduce-0.23-Commit #312 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Commit/312/])
    Merge -r 1213970:1213971 from trunk to branch-0.23. Fixes: MAPREDUCE-3542.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1215360
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Hdfs-0.23-Build #110 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/110/])
    Merge -r 1213970:1213971 from trunk to branch-0.23. Fixes: MAPREDUCE-3542.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1215360
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Integrated in Hadoop-Mapreduce-0.23-Build #130 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Build/130/])
    Merge -r 1213970:1213971 from trunk to branch-0.23. Fixes: MAPREDUCE-3542.

tomwhite : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1215360
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java
* /hadoop/common/branches/branch-0.23/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapred/TestCounters.java
, Hi Guys,
I was investigating related issue in Sqoop  project(http://sqoop.apache.org/). Basically we are reporting number of written filesystem bytes back to the user and on Hadoop 0.23/2.x we're always getting 0. I've noticed that there was some refactorization in FileSystem counter related code and found this issue requesting backward compatibility. 

Included patch seems to be adding counter "FileSystemCounter":

{code:title=hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/counters/AbstractCounters.java:84}
legacyMap.put("FileSystemCounter", FileSystemCounter.class.getName());
{code}

But it appears that original name is "FileSystemCounters" (Notice the plural "s" at the end of name):

{code:title=src/mapred/org/apache/hadoop/mapred/Task.java:91 (0.20.2)}
protected static final String FILESYSTEM_COUNTER_GROUP = "FileSystemCounters";
{code}

{code:title=src/mapred/org/apache/hadoop/mapred/Task.java:109 (1.0.3)}
protected static final String FILESYSTEM_COUNTER_GROUP = "FileSystemCounters";
{code}

I therefore believe that this counter should be renamed in order to provide backward compatibility. I might fix this discrepancy in Sqoop, but I believe that other projects/users might also be affected and therefore it would be better to fix it in upstream. I wanted to reopen this ticket, but apparently I do not have enough privileges to do so. Could I ask anyone with proper privileges to do that or should I create new JIRA instead?
, I've provided fix to rename the backward compatible name to the original name that is present in Hadoop 0.20 and Hadoop 1.0.3.

I've also checked linked Pig sources to see if this change won't break them. They seems to have special classes for handling differences between hadoop versions:

{code:title=shims/src/hadoop23/org/apache/pig/backend/hadoop/executionengine/shims/HadoopShims.java:83}
static public String getFsCounterGroupName() {
  return "org.apache.hadoop.mapreduce.FileSystemCounter";
}
{code}

{code:title=shims/src/hadoop20/org/apache/pig/backend/hadoop/executionengine/shims/HadoopShims.java:85}
static public String getFsCounterGroupName() {
  return "FileSystemCounters";
}
{code}

I therefore believe that this change will not affect pig.]