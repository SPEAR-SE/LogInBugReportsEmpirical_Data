[This probably could probably be marked as a duplicate for MAPREDUCE-3796. 

MR-3796 is meant to be more yarn-specific to ensure that the application submission should fail if the AM memory request exceeds max allowed. However this jira may still be needed if the job client does not handle app submission failures properly. , Ah, I forgot about that. So, yes I think this is a duplicate.

Todd, essentially, we now have a cluster level configuration for max-resource-size which is supposed to be set by cluster admins such that all nodes have greater than that. RM will reject apps if the AM resource requirement is more than this. I think that should work, please close this as duplicate if you agree too. Thanks., Can we automatically bound the max-resource-size configuration by max(available resources) across the registered NMs? It seems the most common reason one would hit this is if a newbie admin set the NM resource limit to something like 1G. In that case, the admin wouldn't know to also set any max-resource-size parameter.

Or perhaps we can default the max-resource-size parameter to be equal to the advertised NM resource size, for the same effect?, Sandy, you should duplicate it the other way around. This is the second time you did this IIRC, just FYI., bq. Can we automatically bound the max-resource-size configuration by max(available resources) across the registered NMs?
This *can* be done in YARN and I believe is being tracked at YARN-56.]