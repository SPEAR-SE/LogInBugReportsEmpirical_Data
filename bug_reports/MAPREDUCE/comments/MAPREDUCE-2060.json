[FYI: My workaround is to revert https://svn.apache.org/repos/asf/hadoop/mapreduce/trunk@982353, a fix to MAPREDUCE-1900.  I'd rather have a small leak in the JobTracker than not be able to submit jobs.
, Hey Dan, this is really odd. For all RPC methods, the RPC server creates a UGI for the remote user and the method call is invoked within a UGI.doAs. closeAllForUGI closes the filesystems that were opened in the context of this doAs. The UGI for the remote user should be different from the UGI of the JobTracker user.. So I don't understand how can closeAllForUGI close the filesystems opened by the JobTracker user (UGI). Is this consistently happening for all job submissions., Yes, this is happening for all of my job submissions.  Removing the closeAllForUGI() makes the problem go away.

When you explain it that way, perhaps it's a problem with doAs() or the closeAllForUGI().  What I know for certain is that the JobTracker's fs gets closed by the closeAllForUGI() call in the JobInProgress constructor., Would It be possible that the JobTracker and the user (who submits jobs) using the same account?, > Would It be possible that the JobTracker and the user (who submits jobs) using the same account? 

It is certainly possible, though it is not the case for this particular job.

For all the talk about whether the JobTracker fs is opened under the JobTracker user, it appears that it is not opened under any user:

src/java/org/apache/hadoop/mapred/JobTracker.java
@@ 4092,3 @@ JobTracker(final JobConf conf, Clock clock, boolean ignoredForSimulation)
    if (fs == null) {
      fs = FileSystem.get(conf);
    }
, Dan, in the implementation of FileSystem caching, you will notice that there is a UGI component in the Key. I am referring to {noformat}static class Key{noformat} in the class FileSystem. So even though in the JobTracker, there is no explicit doAs in the place where the FileSystem is obtained, it will get implicitly owned by the JobTracker's UGI.
The closeAll method iterates through the FileSystem instances and closes only those FileSystems whose UGI matches that of the passed UGI. The UGI equality is a reference equality on the Subject field. The remote user's subject (that gets created as part of the UGI when the RPC call in invoked at the server) and the JobTracker's subject wouldn't match.... I am still fighting to understand what's going on in your setup. Can you give more details on your setup, etc., and a way to reproduce this., I'm not sure exactly how to provide a repro.  I hit this every time.  I just restarted my jobtracker and hit the "Filesystem closed" error right away: no need to even submit a job.  My jobtracker is run as user mr20, the namenode is run as user hd20 on the same node.  Here are their logs:

************************************************************/
10/09/13 23:04:52 INFO mapred.JobTracker: STARTUP_MSG: 
/************************************************************
STARTUP_MSG: Starting JobTracker
STARTUP_MSG:   host = hns4.sea1.qc/10.2.12.100
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.22.0-qc
STARTUP_MSG:   classpath = /home/mr20/bin/../conf:/usr/java/default/lib/tools.jar:/home/mr20/bin/..:/home/mr20/bin/../hadoop-common-0.22.0-qc.jar:/home/mr20/bin/../hadoop-hdfs-0.22.0-qc.jar:/home/mr20/bin/../hadoop-mapred-0.22.0-qc.jar:/home/mr20/bin/../lib/ant-1.6.5.jar:/home/mr20/bin/../lib/asm-3.2.jar:/home/mr20/bin/../lib/aspectjrt-1.6.5.jar:/home/mr20/bin/../lib/aspectjtools-1.6.5.jar:/home/mr20/bin/../lib/avro-1.3.2.jar:/home/mr20/bin/../lib/commons-cli-1.2.jar:/home/mr20/bin/../lib/commons-codec-1.4.jar:/home/mr20/bin/../lib/commons-el-1.0.jar:/home/mr20/bin/../lib/commons-httpclient-3.1.jar:/home/mr20/bin/../lib/commons-lang-2.5.jar:/home/mr20/bin/../lib/commons-logging-1.1.1.jar:/home/mr20/bin/../lib/commons-logging-api-1.1.jar:/home/mr20/bin/../lib/commons-net-1.4.1.jar:/home/mr20/bin/../lib/core-3.1.1.jar:/home/mr20/bin/../lib/ftplet-api-1.0.0.jar:/home/mr20/bin/../lib/ftpserver-core-1.0.0.jar:/home/mr20/bin/../lib/ftpserver-deprecated-1.0.0-M2.jar:/home/mr20/bin/../lib/hadoop-0.22.0-qc-fairscheduler.jar:/home/mr20/bin/../lib/hsqldb-1.8.0.10.jar:/home/mr20/bin/../lib/jackson-core-asl-1.4.2.jar:/home/mr20/bin/../lib/jackson-mapper-asl-1.4.2.jar:/home/mr20/bin/../lib/jasper-compiler-5.5.12.jar:/home/mr20/bin/../lib/jasper-runtime-5.5.12.jar:/home/mr20/bin/../lib/jdiff-1.0.9.jar:/home/mr20/bin/../lib/jets3t-0.7.1.jar:/home/mr20/bin/../lib/jetty-6.1.14.jar:/home/mr20/bin/../lib/jetty-util-6.1.14.jar:/home/mr20/bin/../lib/jsp-2.1-6.1.14.jar:/home/mr20/bin/../lib/jsp-api-2.1-6.1.14.jar:/home/mr20/bin/../lib/junit-4.8.1.jar:/home/mr20/bin/../lib/kfs-0.3.jar:/home/mr20/bin/../lib/log4j-1.2.15.jar:/home/mr20/bin/../lib/mina-core-2.0.0-M5.jar:/home/mr20/bin/../lib/mockito-all-1.8.2.jar:/home/mr20/bin/../lib/oro-2.0.8.jar:/home/mr20/bin/../lib/paranamer-2.2.jar:/home/mr20/bin/../lib/paranamer-ant-2.2.jar:/home/mr20/bin/../lib/paranamer-generator-2.2.jar:/home/mr20/bin/../lib/qdox-1.10.1.jar:/home/mr20/bin/../lib/servlet-api-2.5-6.1.14.jar:/home/mr20/bin/../lib/slf4j-api-1.5.11.jar:/home/mr20/bin/../lib/slf4j-log4j12-1.5.11.jar:/home/mr20/bin/../lib/xmlenc-0.52.jar:/home/mr20/bin/../lib/jsp-2.1/*.jar:/home/mr20:/home/mr20/conf:/home/mr20/hadoop-mapred-0.22.0-qc.jar:/home/mr20/lib/ant-1.6.5.jar:/home/mr20/lib/asm-3.2.jar:/home/mr20/lib/aspectjrt-1.6.5.jar:/home/mr20/lib/aspectjtools-1.6.5.jar:/home/mr20/lib/avro-1.3.2.jar:/home/mr20/lib/commons-cli-1.2.jar:/home/mr20/lib/commons-codec-1.4.jar:/home/mr20/lib/commons-el-1.0.jar:/home/mr20/lib/commons-httpclient-3.1.jar:/home/mr20/lib/commons-lang-2.5.jar:/home/mr20/lib/commons-logging-1.1.1.jar:/home/mr20/lib/commons-logging-api-1.1.jar:/home/mr20/lib/commons-net-1.4.1.jar:/home/mr20/lib/core-3.1.1.jar:/home/mr20/lib/ftplet-api-1.0.0.jar:/home/mr20/lib/ftpserver-core-1.0.0.jar:/home/mr20/lib/ftpserver-deprecated-1.0.0-M2.jar:/home/mr20/lib/hadoop-0.22.0-qc-fairscheduler.jar:/home/mr20/lib/hsqldb-1.8.0.10.jar:/home/mr20/lib/jackson-core-asl-1.4.2.jar:/home/mr20/lib/jackson-mapper-asl-1.4.2.jar:/home/mr20/lib/jasper-compiler-5.5.12.jar:/home/mr20/lib/jasper-runtime-5.5.12.jar:/home/mr20/lib/jdiff-1.0.9.jar:/home/mr20/lib/jets3t-0.7.1.jar:/home/mr20/lib/jetty-6.1.14.jar:/home/mr20/lib/jetty-util-6.1.14.jar:/home/mr20/lib/jsp-2.1-6.1.14.jar:/home/mr20/lib/jsp-api-2.1-6.1.14.jar:/home/mr20/lib/junit-4.8.1.jar:/home/mr20/lib/kfs-0.3.jar:/home/mr20/lib/log4j-1.2.15.jar:/home/mr20/lib/mina-core-2.0.0-M5.jar:/home/mr20/lib/mockito-all-1.8.2.jar:/home/mr20/lib/oro-2.0.8.jar:/home/mr20/lib/paranamer-2.2.jar:/home/mr20/lib/paranamer-ant-2.2.jar:/home/mr20/lib/paranamer-generator-2.2.jar:/home/mr20/lib/qdox-1.10.1.jar:/home/mr20/lib/servlet-api-2.5-6.1.14.jar:/home/mr20/lib/slf4j-api-1.5.11.jar:/home/mr20/lib/slf4j-log4j12-1.5.11.jar:/home/mr20/lib/xmlenc-0.52.jar:/home/mr20:/home/mr20/hadoop-mapred-0.22.0-qc.jar:/home/mr20/lib/ant-1.6.5.jar:/home/mr20/lib/asm-3.2.jar:/home/mr20/lib/aspectjrt-1.6.5.jar:/home/mr20/lib/aspectjtools-1.6.5.jar:/home/mr20/lib/avro-1.3.2.jar:/home/mr20/lib/commons-cli-1.2.jar:/home/mr20/lib/commons-codec-1.4.jar:/home/mr20/lib/commons-el-1.0.jar:/home/mr20/lib/commons-httpclient-3.1.jar:/home/mr20/lib/commons-lang-2.5.jar:/home/mr20/lib/commons-logging-1.1.1.jar:/home/mr20/lib/commons-logging-api-1.1.jar:/home/mr20/lib/commons-net-1.4.1.jar:/home/mr20/lib/core-3.1.1.jar:/home/mr20/lib/ftplet-api-1.0.0.jar:/home/mr20/lib/ftpserver-core-1.0.0.jar:/home/mr20/lib/ftpserver-deprecated-1.0.0-M2.jar:/home/mr20/lib/hadoop-0.22.0-qc-fairscheduler.jar:/home/mr20/lib/hsqldb-1.8.0.10.jar:/home/mr20/lib/jackson-core-asl-1.4.2.jar:/home/mr20/lib/jackson-mapper-asl-1.4.2.jar:/home/mr20/lib/jasper-compiler-5.5.12.jar:/home/mr20/lib/jasper-runtime-5.5.12.jar:/home/mr20/lib/jdiff-1.0.9.jar:/home/mr20/lib/jets3t-0.7.1.jar:/home/mr20/lib/jetty-6.1.14.jar:/home/mr20/lib/jetty-util-6.1.14.jar:/home/mr20/lib/jsp-2.1-6.1.14.jar:/home/mr20/lib/jsp-api-2.1-6.1.14.jar:/home/mr20/lib/junit-4.8.1.jar:/home/mr20/lib/kfs-0.3.jar:/home/mr20/lib/log4j-1.2.15.jar:/home/mr20/lib/mina-core-2.0.0-M5.jar:/home/mr20/lib/mockito-all-1.8.2.jar:/home/mr20/lib/oro-2.0.8.jar:/home/mr20/lib/paranamer-2.2.jar:/home/mr20/lib/paranamer-ant-2.2.jar:/home/mr20/lib/paranamer-generator-2.2.jar:/home/mr20/lib/qdox-1.10.1.jar:/home/mr20/lib/servlet-api-2.5-6.1.14.jar:/home/mr20/lib/slf4j-api-1.5.11.jar:/home/mr20/lib/slf4j-log4j12-1.5.11.jar:/home/mr20/lib/xmlenc-0.52.jar
STARTUP_MSG:   build = git://dadkins-l.corp.qc/Users/dadkins/sandbox/hadoop-git/hadoop-common -r f8cf1bbc93e1091991961eac871cc3132015c4a9; compiled by 'dadkins' on Thu Sep  9 13:57:06 PDT 2010
************************************************************/
10/09/13 23:04:58 INFO mapred.JobTracker: Starting jobtracker with owner as mr20 and supergroup as supergroup
10/09/13 23:04:58 INFO delegation.AbstractDelegationTokenSecretManager: Updating the current master key for generating delegation tokens
10/09/13 23:04:58 INFO mapred.JobTracker: Scheduler configured with (memSizeForMapSlotOnJT, memSizeForReduceSlotOnJT, limitMaxMemForMapTasks, limitMaxMemForReduceTasks) (-1, -1, -1, -1)
10/09/13 23:04:58 INFO delegation.AbstractDelegationTokenSecretManager: Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
10/09/13 23:04:58 INFO delegation.AbstractDelegationTokenSecretManager: Updating the current master key for generating delegation tokens
10/09/13 23:04:58 INFO util.HostsFileReader: Refreshing hosts (include/exclude) list
10/09/13 23:04:58 INFO mapred.QueueManager: AllQueues : {default=default}; LeafQueues : {default=default}
10/09/13 23:04:58 INFO ipc.Server: Starting SocketReader
10/09/13 23:04:58 INFO metrics.RpcMetrics: Initializing RPC Metrics with hostName=JobTracker, port=31000
10/09/13 23:04:58 INFO metrics.RpcDetailedMetrics: Initializing RPC Metrics with hostName=JobTracker, port=31000
10/09/13 23:04:58 INFO mortbay.log: Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
10/09/13 23:04:59 INFO http.HttpServer: Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
10/09/13 23:04:59 INFO jobhistory.JobHistory: History log directory is file:////home/mr20/bin/../logs/history
10/09/13 23:04:59 INFO http.HttpServer: Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 32000
10/09/13 23:04:59 INFO http.HttpServer: listener.getLocalPort() returned 32000 webServer.getConnectors()[0].getLocalPort() returned 32000
10/09/13 23:04:59 INFO http.HttpServer: Jetty bound to port 32000
10/09/13 23:04:59 INFO mortbay.log: jetty-6.1.14
10/09/13 23:05:04 INFO mortbay.log: Started SelectChannelConnector@hns4.sea1.qc:32000
10/09/13 23:05:04 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=
10/09/13 23:05:04 INFO mapred.JobTracker: JobTracker up at: 31000
10/09/13 23:05:04 INFO mapred.JobTracker: JobTracker webserver: 32000
10/09/13 23:05:04 WARN conf.Configuration: mapred.task.id is deprecated. Instead, use mapreduce.task.attempt.id
10/09/13 23:05:04 WARN mapred.JobTracker: Failed to add the job jobtracker.info
java.lang.IllegalArgumentException: JobId string : jobtracker.info is not properly formed
	at org.apache.hadoop.mapreduce.JobID.forName(JobID.java:158)
	at org.apache.hadoop.mapred.JobID.forName(JobID.java:84)
	at org.apache.hadoop.mapred.JobTracker$RecoveryManager.addJobForRecovery(JobTracker.java:1057)
	at org.apache.hadoop.mapred.JobTracker.<init>(JobTracker.java:1565)
	at org.apache.hadoop.mapred.JobTracker.startTracker(JobTracker.java:275)
	at org.apache.hadoop.mapred.JobTracker.startTracker(JobTracker.java:267)
	at org.apache.hadoop.mapred.JobTracker.startTracker(JobTracker.java:262)
	at org.apache.hadoop.mapred.JobTracker.main(JobTracker.java:4256)
10/09/13 23:05:04 INFO jobhistory.JobHistory: Inited the done directory to file:/home/mr20/logs/history/done
10/09/13 23:05:04 INFO jobhistory.JobHistory: Job History Cleaner Thread started. MaxAge is 604800000 ms(7.0 days), Cleanup Frequency is 86400000 ms (1.0 days)
10/09/13 23:05:04 WARN conf.Configuration: topology.node.switch.mapping.impl is deprecated. Instead, use net.topology.node.switch.mapping.impl
10/09/13 23:05:04 INFO mapred.CompletedJobStatusStore: Completed job store activated/configured with retain-time : 3600000 , job-info-dir : /jobtracker/jobsInfo
10/09/13 23:05:05 INFO mapred.FairScheduler: Successfully configured FairScheduler
10/09/13 23:05:05 INFO mapred.JobTracker: Starting the recovery process for 1 jobs ...
10/09/13 23:05:05 INFO mapred.JobTracker: Submitting job job_201009090022_0001
10/09/13 23:05:05 WARN mapred.JobTracker: Could not recover job job_201009090022_0001
java.io.FileNotFoundException: File does not exist: hdfs://hns4.sea1.qc:21000/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009090022_0001/job.xml
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:732)
	at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:231)
	at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:183)
	at org.apache.hadoop.fs.FileSystem.copyToLocalFile(FileSystem.java:1587)
	at org.apache.hadoop.fs.FileSystem.copyToLocalFile(FileSystem.java:1568)
	at org.apache.hadoop.mapred.JobInProgress.<init>(JobInProgress.java:426)
	at org.apache.hadoop.mapred.JobTracker.submitJob(JobTracker.java:3048)
	at org.apache.hadoop.mapred.JobTracker.access$1200(JobTracker.java:125)
	at org.apache.hadoop.mapred.JobTracker$RecoveryManager.recover(JobTracker.java:1171)
	at org.apache.hadoop.mapred.JobTracker.offerService(JobTracker.java:1733)
	at org.apache.hadoop.mapred.JobTracker.main(JobTracker.java:4257)
10/09/13 23:05:05 INFO mapred.JobTracker: Recovery done! Recoverd 0 of 1 jobs.
10/09/13 23:05:05 INFO mapred.JobTracker: Recovery Duration (ms):73
10/09/13 23:05:05 INFO mapred.JobTracker: Refreshing hosts information
10/09/13 23:05:05 INFO util.HostsFileReader: Setting the includes file to 
10/09/13 23:05:05 INFO util.HostsFileReader: Setting the excludes file to 
10/09/13 23:05:05 INFO util.HostsFileReader: Refreshing hosts (include/exclude) list
10/09/13 23:05:05 INFO mapred.JobTracker: Decommissioning 0 nodes
10/09/13 23:05:05 WARN mapred.CompletedJobStatusStore: Could not obtain job info files : Filesystem closed
java.io.IOException: Filesystem closed
	at org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:307)
	at org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:860)
	at org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:845)
	at org.apache.hadoop.hdfs.DistributedFileSystem.listStatus(DistributedFileSystem.java:373)
	at org.apache.hadoop.mapred.CompletedJobStatusStore.deleteJobStatusDirs(CompletedJobStatusStore.java:143)
	at org.apache.hadoop.mapred.CompletedJobStatusStore.run(CompletedJobStatusStore.java:128)
	at java.lang.Thread.run(Thread.java:619)


10/09/13 23:05:04 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=listStatus	src=/tmp/hadoop-mr20/mapred/system	dst=null	perm=null
10/09/13 23:05:04 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=open	src=/tmp/hadoop-mr20/mapred/system/jobtracker.info	dst=null	perm=null
10/09/13 23:05:04 INFO namenode.FSNamesystem: Number of transactions: 64758 Total time for transactions(ms): 565Number of transactions batched in Syncs: 7924 Number of syncs: 32035 SyncTimes(ms): 259783 
10/09/13 23:05:04 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=create	src=/tmp/hadoop-mr20/mapred/system/jobtracker.info.recover	dst=nullperm=mr20:supergroup:rw-r--r--
10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=setPermission	src=/tmp/hadoop-mr20/mapred/system/jobtracker.info.recover	dst=null	perm=mr20:supergroup:rw-------
10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/system/jobtracker.info.recover. blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]}
10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.3:21100 is added to blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]} size 0
10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.7:21100 is added to blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]} size 0
10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.1:21100 is added to blk_2162037812829037837_13011{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.1:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW]]} size 0
10/09/13 23:05:05 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/system/jobtracker.info.recover is closed by DFSClient_544581191
10/09/13 23:05:05 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_-651419604412711033_11114 to 10.2.19.102:21100 10.2.19.4:21100 10.2.20.102:21100 
10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=delete	src=/tmp/hadoop-mr20/mapred/system/jobtracker.info	dst=null	perm=null
10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=rename	src=/tmp/hadoop-mr20/mapred/system/jobtracker.info.recover	dst=/tmp/hadoop-mr20/mapred/system/jobtracker.info	perm=mr20:supergroup:rw-------
10/09/13 23:05:05 INFO FSNamesystem.audit: ugi=mr20	ip=/10.2.12.100	cmd=open	src=/tmp/hadoop-mr20/mapred/system/job_201009090022_0001/job-info	dst=null	perm=null
10/09/13 23:05:06 INFO hdfs.StateChange: BLOCK* ask 10.2.20.102:21100 to delete  blk_-651419604412711033_11114
10/09/13 23:05:06 INFO hdfs.StateChange: BLOCK* ask 10.2.19.102:21100 to delete  blk_-651419604412711033_11114
10/09/13 23:05:06 INFO hdfs.StateChange: BLOCK* ask 10.2.19.4:21100 to delete  blk_-651419604412711033_11114
, Do you have the property mapreduce.jobtracker.restart.recover set to true in your config?, Here's the view from HDFS of job submission leading up to the "Filesystem closed" error, the original fault reported (I apologize for the length.  I don't know what might be relevant).

10/09/13 23:17:43 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=mkdirs	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913
2304_0001	dst=null	perm=dadkins:supergroup:rwxr-xr-x
10/09/13 23:17:43 WARN security.ShellBasedUnixGroupsMapping: got exception trying to get groups for user dadkins
org.apache.hadoop.util.Shell$ExitCodeException: id: dadkins: No such user

	at org.apache.hadoop.util.Shell.runCommand(Shell.java:256)
	at org.apache.hadoop.util.Shell.run(Shell.java:183)
	at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:376)
	at org.apache.hadoop.util.Shell.execCommand(Shell.java:462)
	at org.apache.hadoop.util.Shell.execCommand(Shell.java:445)
	at org.apache.hadoop.security.ShellBasedUnixGroupsMapping.getUnixGroups(ShellBasedUnixGroupsMapping.java:60)
	at org.apache.hadoop.security.ShellBasedUnixGroupsMapping.getGroups(ShellBasedUnixGroupsMapping.java:47)
	at org.apache.hadoop.security.Groups.getGroups(Groups.java:88)
	at org.apache.hadoop.security.UserGroupInformation.getGroupNames(UserGroupInformation.java:996)
	at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.<init>(FSPermissionChecker.java:51)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkPermission(FSNamesystem.java:4060)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkOwner(FSNamesystem.java:4023)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.setPermission(FSNamesystem.java:679)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.setPermission(NameNode.java:792)
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:349)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1380)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1376)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1105)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1374)
10/09/13 23:17:43 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setPermission	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001	dst=null	perm=dadkins:supergroup:rwx------
10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=create	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913
2304_0001/job.jar	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.jar. blk_441
168967748892583_13013{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.
2.19.10:21100|RBW], ReplicaUnderConstruction[10.2.19.105:21100|RBW]]}
10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.105:21100 is added to blk_441168967748892583_13013{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.2.19.10:21100|RBW], ReplicaUnde
rConstruction[10.2.19.105:21100|RBW]]} size 0
10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.10:21100 is added to blk_441168967748892583_13013{blockUCSta
te=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.2.19.10:21100|RBW], ReplicaUnder
Construction[10.2.19.105:21100|RBW]]} size 0
10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.1:21100 is added to blk_441168967748892583_13013{blockUCStat
e=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.1:21100|RBW], ReplicaUnderConstruction[10.2.19.10:21100|RBW], ReplicaUnderC
onstruction[10.2.19.105:21100|RBW]]} size 0
10/09/13 23:17:44 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.jar is clo
sed by DFSClient_-540240165
10/09/13 23:17:44 INFO namenode.FSNamesystem: Increasing replication for file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.jar. New
 replication is 10
10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setReplication	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001/job.jar	dst=null	perm=null
10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setPermission	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001/job.jar	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=create	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913
2304_0001/job.split	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setPermission	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001/job.split	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:44 INFO namenode.FSNamesystem: Increasing replication for file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.split. N
ew replication is 10
10/09/13 23:17:44 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setReplication	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001/job.split	dst=null	perm=null
10/09/13 23:17:44 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.split. blk_-
1148662313095098724_13014{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction
[10.2.20.109:21100|RBW], ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100
|RBW], ReplicaUnderConstruction[10.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUn
derConstruction[10.2.19.5:21100|RBW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]}
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.2:21100 is added to blk_-1148662313095098724_13014{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd
erConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.
2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW
], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.5:21100 is added to blk_-1148662313095098724_13014{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd
erConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.
2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW
], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.110:21100 is added to blk_-1148662313095098724_13014{blockUC
State=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU
nderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1
0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R
BW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.9:21100 is added to blk_-1148662313095098724_13014{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd
erConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.
2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW
], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.103:21100 is added to blk_-1148662313095098724_13014{blockUC
State=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU
nderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1
0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R
BW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.105:21100 is added to blk_-1148662313095098724_13014{blockUC
State=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU
nderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1
0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R
BW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.3:21100 is added to blk_-1148662313095098724_13014{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd
erConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.
2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW
], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.7:21100 is added to blk_-1148662313095098724_13014{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd
erConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.
2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW
], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.109:21100 is added to blk_-1148662313095098724_13014{blockUC
State=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaU
nderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[1
0.2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|R
BW], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.8:21100 is added to blk_-1148662313095098724_13014{blockUCSt
ate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.8:21100|RBW], ReplicaUnderConstruction[10.2.20.109:21100|RBW], ReplicaUnd
erConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.20.3:21100|RBW], ReplicaUnderConstruction[10.2.20.105:21100|RBW], ReplicaUnderConstruction[10.
2.20.103:21100|RBW], ReplicaUnderConstruction[10.2.20.9:21100|RBW], ReplicaUnderConstruction[10.2.19.110:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW
], ReplicaUnderConstruction[10.2.20.2:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.split is c
losed by DFSClient_-540240165
10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=create	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913
2304_0001/job.splitmetainfo	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setPermission	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001/job.splitmetainfo	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.splitmetainf
o. blk_3663919217952367661_13015{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConst
ruction[10.2.19.7:21100|RBW], ReplicaUnderConstruction[10.2.19.9:21100|RBW]]}
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.9:21100 is added to blk_3663919217952367661_13015{blockUCSta
te=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderC
onstruction[10.2.19.9:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.7:21100 is added to blk_3663919217952367661_13015{blockUCSta
te=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderC
onstruction[10.2.19.9:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.7:21100 is added to blk_3663919217952367661_13015{blockUCSta
te=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.20.7:21100|RBW], ReplicaUnderConstruction[10.2.19.7:21100|RBW], ReplicaUnderC
onstruction[10.2.19.9:21100|RBW]]} size 0
10/09/13 23:17:45 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.splitmetai
nfo is closed by DFSClient_-540240165
10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=create	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913
2304_0001/job.xml	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:45 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=setPermission	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_
201009132304_0001/job.xml	dst=null	perm=dadkins:supergroup:rw-r--r--
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* ask 10.2.19.105:21100 to replicate blk_441168967748892583_13013 to datanode(s) 10.2.20.4:21100 10.2.20.5:21100 10
.2.19.107:21100 10.2.20.102:21100 10.2.20.6:21100 10.2.20.8:21100 10.2.20.101:21100
10/09/13 23:17:45 INFO hdfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.xml. blk_261
8516530812979395_13016{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[
10.2.19.5:21100|RBW], ReplicaUnderConstruction[10.2.20.5:21100|RBW]]}
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.20.5:21100 is added to blk_2618516530812979395_13016{blockUCSta
te=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW], ReplicaUnde
rConstruction[10.2.20.5:21100|RBW]]} size 0
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.5:21100 is added to blk_2618516530812979395_13016{blockUCSta
te=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW], ReplicaUnde
rConstruction[10.2.20.5:21100|RBW]]} size 0
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.2.19.107:21100 is added to blk_2618516530812979395_13016{blockUCS
tate=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[10.2.19.107:21100|RBW], ReplicaUnderConstruction[10.2.19.5:21100|RBW], ReplicaUn
derConstruction[10.2.20.5:21100|RBW]]} size 0
10/09/13 23:17:46 INFO hdfs.StateChange: DIR* NameSystem.completeFile: file /tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_0001/job.xml is clo
sed by DFSClient_-540240165
10/09/13 23:17:46 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.2.12.100	cmd=open	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_201009132304_000
1/job.xml	dst=null	perm=null
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.19.1:21100 10.2.19.10:21100 10.2.19.105:21100 
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_-1148662313095098724_13014 to 10.2.19.8:21100 10.2.20.109:21100 10.2.20.7:21100 
10.2.20.3:21100 10.2.20.105:21100 10.2.20.103:21100 10.2.20.9:21100 10.2.19.110:21100 10.2.19.5:21100 10.2.20.2:21100 
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_3663919217952367661_13015 to 10.2.20.7:21100 10.2.19.7:21100 10.2.19.9:21100 
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_2618516530812979395_13016 to 10.2.19.107:21100 10.2.19.5:21100 10.2.20.5:21100 
10/09/13 23:17:46 INFO FSNamesystem.audit: ugi=dadkins	ip=/10.128.130.145	cmd=delete	src=/tmp/hadoop-mr20/mapred/staging/dadkins/.staging/job_20100913
2304_0001	dst=null	perm=null
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.4:21100 size 252058 does not belong to any fil
e.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.4:21100
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.5:21100 size 252058 does not belong to any fil
e.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.5:21100
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.19.107:21100 size 252058 does not belong to any f
ile.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.19.107:21100
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.102:21100 size 252058 does not belong to any f
ile.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.102:21100
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.6:21100 size 252058 does not belong to any fil
e.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.6:21100
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.8:21100 size 252058 does not belong to any fil
e.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.8:21100
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addBlock: block blk_441168967748892583_13013 on 10.2.20.101:21100 size 252058 does not belong to any f
ile.
10/09/13 23:17:46 INFO hdfs.StateChange: BLOCK* NameSystem.addToInvalidates: blk_441168967748892583_13013 to 10.2.20.101:21100
, > Do you have the property mapreduce.jobtracker.restart.recover set to true in your config? 

Yes, intentionally.  I was testing that feature.
, Sigh .. we haven't tested things with the JobTracker recovery set to true. That might explain some. 
From your logs you pasted last, it seems like the NameNode is not able to resolve the group for user dadkins (the default implementation for group resolution assumes user accounts exist on all nodes on the cluster). Are you able to do normal HDFS operations as dadkins? , Yes, I am able to all HDFS operations as dadkins.

We do not have user accounts on individual boxes in our cluster; we are not doing LDAP or anything of that nature.  We do, however, have the mr20 (mapreduce) and hd20 (hdfs) users on all nodes, and those users own the local files on each node.
, I instrumented the doAs and the suspect closeAllForUGI() call in JobInProgress:

src/java/org/apache/hadoop/mapred/JobInProgress.java:
public JobInProgress(JobTracker jobtracker,...
      LOG.info("doAs: " + ugi);
      fs = ugi.doAs(new PrivilegedExceptionAction<FileSystem>() {

      LOG.info("closeAllForUGI: " + UserGroupInformation.getCurrentUser());
      FileSystem.closeAllForUGI(UserGroupInformation.getCurrentUser());

The result:
10/09/15 00:28:57 INFO mapred.JobInProgress: doAs: dadkins
10/09/15 00:28:57 INFO mapred.JobInProgress: closeAllForUGI: mr20

I think that narrows down the source of the problem.
, Dan, if you want to continue testing the jobtracker recovery feature, for now, please revert the patch in your local copy. We will fix the problem in a follow up patch., stale/won't fix. 0.22 is dead]