[Straightforward fix. I could successfully run random writer with hdfs., Updated patch - cleaned out a lot of cruft in bin/yarn including stale refs to ivy stuff from common/hdfs and used java6 ability to pass directory paths to drop loops., +1 lgtm, I just committed this. Thanks Sharad!, Integrated in Hadoop-Common-trunk-Commit #805 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/805/])
    MAPREDUCE-2904. Fixed bin/yarn to correctly include HDFS jars and clean up of stale refs to pre-mavenized Hadoop Common and HDFS. Contributed by Sharad Agarwal and Arun C. Murthy.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1162954
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-yarn/bin/yarn
, Integrated in Hadoop-Hdfs-trunk-Commit #882 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/882/])
    MAPREDUCE-2904. Fixed bin/yarn to correctly include HDFS jars and clean up of stale refs to pre-mavenized Hadoop Common and HDFS. Contributed by Sharad Agarwal and Arun C. Murthy.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1162954
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-yarn/bin/yarn
, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12492117/MAPREDUCE-2904.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 8 new or modified tests.

    -1 javadoc.  The javadoc tool appears to have generated 87 warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    -1 findbugs.  The patch appears to introduce 5 new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed unit tests in hadoop-mapreduce-project.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-common.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-hs.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-core.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-app.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-shuffle.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-jobclient.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-api.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-nodemanager.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-resourcemanager.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-common.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-common.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/554//console

This message is automatically generated., Integrated in Hadoop-Mapreduce-trunk-Commit #815 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/815/])
    MAPREDUCE-2904. Fixed bin/yarn to correctly include HDFS jars and clean up of stale refs to pre-mavenized Hadoop Common and HDFS. Contributed by Sharad Agarwal and Arun C. Murthy.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1162954
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-yarn/bin/yarn
, Integrated in Hadoop-Hdfs-trunk #776 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/776/])
    MAPREDUCE-2904. Fixed bin/yarn to correctly include HDFS jars and clean up of stale refs to pre-mavenized Hadoop Common and HDFS. Contributed by Sharad Agarwal and Arun C. Murthy.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1162954
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-yarn/bin/yarn
, Integrated in Hadoop-Mapreduce-trunk #801 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/801/])
    MAPREDUCE-2904. Fixed bin/yarn to correctly include HDFS jars and clean up of stale refs to pre-mavenized Hadoop Common and HDFS. Contributed by Sharad Agarwal and Arun C. Murthy.

acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1162954
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/hadoop-yarn/bin/yarn
]