[Attaching patch removing the code that creates the output directory. This creation causes the above reported issue when it is insdie inputDir(as is in the case where gridmix.output.directory is not defined by user and -generate option tries to generate data in inputDir)., With earlier patch, TestGridmixSubmission was failing. Attaching new patch with the correct fix. Also added testcase., Attaching new patch removing the special check for the default output path existence.
There are many checks that can be done and can be done in a separate JIRA(as they is not relevant here). Raised MAPREDUCE-2006 to handle these validations., Attaching new patch by changing the test case a little bit on Amar's suggestion., There is need for creation of outputPath just to set the permissions of this directory to 777 sothat all users(who launch mapreduce jobs within this gridmix run) will be able to create their own output directories under this outputPath through mapreduce jobs., Attaching new patch with a small modification to the call of list.toArracy() in the testcase for better readability as suggested by Amar., ant test and test-patch passed on my local machine., +1. Looks fine to me., I just committed this. Thanks Ravi !, Integrated in Hadoop-Mapreduce-trunk-Commit #523 (See [https://hudson.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/523/])
    ]