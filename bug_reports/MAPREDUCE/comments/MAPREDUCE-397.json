[
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/887/
-----------------------------------------------------------

Review request for hadoop-mapreduce.


Summary
-------

In case of a task failure, the corresponding TIP is added back to the non-running list via failMap()/failReduce() api. This reentry should be done only for TIPs that have not failed. Reentry is useless for failed TIPs.

Change checks for tip.isFailed() before proceeding.


This addresses bug MAPREDUCE-397.
    http://issues.apache.org/jira/browse/MAPREDUCE-397


Diffs
-----

  src/java/org/apache/hadoop/mapred/JobInProgress.java 429d2b0 

Diff: https://reviews.apache.org/r/887/diff


Testing
-------


Thanks,

Harsh

, Sorry to come in late, the patch has gone stale. Can you please rebase? Thanks.

Given this is not an issue with MRv2 should we still commit this? I'm happy to, but not sure it's useful. Thanks., Not a problem, per Arun's comment, in MR2.

Not a severe problem for 1.0.]