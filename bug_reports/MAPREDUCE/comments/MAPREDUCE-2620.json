[Oops, I have broken RAID again by HDFS-2087.  Thanks Todd for notifying me., m2620_20110624.patch: changed to use the new API.  In addition, I think there is an existing bug which sets {{minBytesRcvd=blockSize}} and {{maxBytesRcvd=0}}.  It should be the other way around.  I also fixed it as shown below.
{code}
-        Sender.opWriteBlock(out, block.getBlock(), 1,
-                                                 BlockConstructionStage.
-                                                 PIPELINE_SETUP_CREATE,
-                                                 0, blockSize, 0, "", null,
-                                                 nodes, block.getBlockToken());
+        new Sender(out).writeBlock(block.getBlock(), block.getBlockToken(), "",
+            nodes, null, BlockConstructionStage.PIPELINE_SETUP_CREATE,
+            1, 0L, blockSize, 0L);
{code}, +1 the patch looks good to me., Thanks Scott for the review.

I checked the patch manually for the compilation problem.

I have committed it., Integrated in Hadoop-Mapreduce-trunk-Commit #732 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/732/])
    MAPREDUCE-2620. Update RAID for HDFS-2087.

szetszwo : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1139400
Files : 
* /hadoop/common/trunk/mapreduce/CHANGES.txt
* /hadoop/common/trunk/mapreduce/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java
, Integrated in Hadoop-Mapreduce-trunk #722 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/722/])
    , This got committed a few weeks ago]