[patch for 0.20, this seems fixed via other changes in 0.21 and trunk. so attaching patch for 0.20 and closing.]