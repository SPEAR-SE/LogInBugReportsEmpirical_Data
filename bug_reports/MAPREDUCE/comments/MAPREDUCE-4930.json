[Uploading the patch from MR-4678. The patch readily applies to branch-2 and branch-0.23. Will upload branch-1 equivalent shortly., Changing the scope of this JIRA to only branch-1 per https://issues.apache.org/jira/browse/MAPREDUCE-4925?focusedCommentId=13549964&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13549964, mr-4925.patch backports MR-4678 and MR-4925 to branch-1., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12564287/mr-4925.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/3228//console

This message is automatically generated., +1, the backported changes look good to me (there are constants missing but the probably did not exist so its okay). Thanks!

Committed to branch-1., Had made a typo in the commit message, sending jira # as MAPREDUCE-4390 instead. Reverted and re-committed with proper message., Closed upon release of Hadoop 1.2.0.]