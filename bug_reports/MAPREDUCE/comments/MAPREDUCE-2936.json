[The errors:
{code}
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:34: cannot find symbol
    [javac] symbol  : class FSConstants
    [javac] location: package org.apache.hadoop.hdfs.protocol
    [javac] import org.apache.hadoop.hdfs.protocol.FSConstants;
    [javac]                                       ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:49: cannot find symbol
    [javac] symbol  : class FSConstants
    [javac] location: package org.apache.hadoop.hdfs.protocol
    [javac] import org.apache.hadoop.hdfs.protocol.FSConstants;
    [javac]                                       ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:50: package org.apache.hadoop.hdfs.protocol.FSConstants does not exist
    [javac] import org.apache.hadoop.hdfs.protocol.FSConstants.DatanodeReportType;
    [javac]                                                   ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:53: cannot find symbol
    [javac] symbol  : class HdfsConstants
    [javac] location: package org.apache.hadoop.hdfs.server.common
    [javac] import org.apache.hadoop.hdfs.server.common.HdfsConstants;
    [javac]                                            ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:392: cannot find symbol
    [javac] symbol  : variable FSConstants
    [javac] location: class org.apache.hadoop.hdfs.server.datanode.RaidBlockSender
    [javac]         maxChunksPerPacket = (Math.max(FSConstants.IO_FILE_BUFFER_SIZE,
    [javac]                                        ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:392: operator + cannot be applied to <any>,int
    [javac]         maxChunksPerPacket = (Math.max(FSConstants.IO_FILE_BUFFER_SIZE,
    [javac]                                       ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:394: operator - cannot be applied to <nulltype>,int
    [javac]                               + bytesPerChecksum - 1)/bytesPerChecksum;
    [javac]                                                  ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:400: cannot find symbol
    [javac] symbol  : variable FSConstants
    [javac] location: class org.apache.hadoop.hdfs.server.datanode.RaidBlockSender
    [javac]             (FSConstants.IO_FILE_BUFFER_SIZE + bytesPerChecksum - 1)/bytesPerChecksum);   
    [javac]              ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:400: operator + cannot be applied to FSConstants.IO_FILE_BUFFER_SIZE,int
    [javac]             (FSConstants.IO_FILE_BUFFER_SIZE + bytesPerChecksum - 1)/bytesPerChecksum);   
    [javac]                         ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:400: operator - cannot be applied to <nulltype>,int
    [javac]             (FSConstants.IO_FILE_BUFFER_SIZE + bytesPerChecksum - 1)/bytesPerChecksum);   
    [javac]                                                                 ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:615: cannot find symbol
    [javac] symbol  : variable DatanodeReportType
    [javac] location: class org.apache.hadoop.raid.BlockFixer.BlockFixerHelper
    [javac]         dfs.getClient().datanodeReport(DatanodeReportType.LIVE);
    [javac]                                        ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:744: cannot find symbol
    [javac] symbol  : variable HdfsConstants
    [javac] location: class org.apache.hadoop.raid.BlockFixer.BlockFixerHelper
    [javac]                          HdfsConstants.READ_TIMEOUT);
    [javac]                          ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:749: cannot find symbol
    [javac] symbol  : variable HdfsConstants
    [javac] location: class org.apache.hadoop.raid.BlockFixer.BlockFixerHelper
    [javac]                                           HdfsConstants.WRITE_TIMEOUT);
    [javac]                                           ^
    [javac] /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java:754: cannot find symbol
    [javac] symbol  : variable FSConstants
    [javac] location: class org.apache.hadoop.raid.BlockFixer.BlockFixerHelper
    [javac]                                                       FSConstants.
    [javac]                                                       ^
    [javac] Note: /home/vinodkv/Workspace/eclipse-workspace/apache-git/hadoop-common/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] 14 errors
{code}, To see this issue, either you have to fix MAPREDUCE-2935 or you work around it by removing TestServiceLevelAuthorization and then compiling., Patch that should fix the issue. You can use it to proceed with builds.

Please don't commit this yet, I will confirm if HDFS-1620 can fix it to be a backwards-compatible change., Apologies. I overlooked contrib/raid for these constants. I believe since those classes aren't publicly consumable ones, it should be OK to just have the renaming done as provided in your patch?

+1 to that patch, btw, lgtm.

Also, does the HDFS-1620 affect TestServiceLevelAuthorization? I'm slightly confused if its just RAID that got affected or things beyond that too in MR land., This patch solves the compilation problem for me. +1., bq. Also, does the HDFS-1620 affect TestServiceLevelAuthorization? I'm slightly confused if its just RAID that got affected or things beyond that too in MR land.
That is a different one (MAPREDUCE-2935), we are dealing with multiple issues here.

Given HDFS-1620 clearly says the constants are private, I think this patch should be fine. (Ah, I hate these tools not being rebuilt whenever HDFS changes)., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12493137/MAPREDUCE-2936-20110906.txt
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    -1 findbugs.  The patch appears to introduce 13 new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed unit tests in hadoop-mapreduce-project.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-common.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-api.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-common.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-resourcemanager.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-nodemanager.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-app.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-core.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-common.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-hs.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-shuffle.html
Findbugs warnings: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-mapreduce-client-jobclient.html
Console output: https://builds.apache.org/job/PreCommit-MAPREDUCE-Build/614//console

This message is automatically generated., bq. -1 tests included. The patch doesn't appear to include any new or modified tests.
The patch fixes compilation. Current tests should continue to verify the code. Unfortunately they aren't run as part of the automated builds. Will file a ticket.

bq.-1 findbugs. The patch appears to introduce 13 new Findbugs (version 1.3.9) warnings.
None of the warnings are new and due to patch. I'll fix them via MAPREDUCE-2908., Integrated in Hadoop-Hdfs-trunk-Commit #912 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/912/])
    MAPREDUCE-2936. Contrib Raid compilation broken after HDFS-1620. Contributed by Vinod Kumar Vavilapalli.

vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165657
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #846 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/846/])
    MAPREDUCE-2936. Contrib Raid compilation broken after HDFS-1620. Contributed by Vinod Kumar Vavilapalli.

vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165657
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java
, I just committed this trunk and branch 0.23., Thanks Vinod!, Thanks a lot for taking care of this, Vinod. I'm sorry I missed this when committing it. In the future, this should be noticed earlier once HADOOP-7612 goes in., Integrated in Hadoop-Mapreduce-trunk #808 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/808/])
    MAPREDUCE-2936. Contrib Raid compilation broken after HDFS-1620. Contributed by Vinod Kumar Vavilapalli.

vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165657
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java
, Can we get this merged to branch-0.23 too?, It's already merged into 23, I failed to notice this earlier, but HDFS-1620 wasn't put into 0.23. Why was this necessary to be put into 0.23 in that case?

Looking over atm's commits in HDFS-1620, I don't see a 0.23 commit but I may be wrong since I do not know how those svn callbacks work (and if they're supposed to log back here for branch commits). In any case, if HDFS-1620 was put into 0.23, we need to update its fix versions field too, just as it was done here :), Arun, my bad.  I was getting compilation errors and thought it was because this had not gone into 0.23, but it looks like it was put into 0.23 but it should not have gone in.  HdfsConstants does not have IO_FILE_BUFFER_SIZE in it, that is in FSConstants in 0.23.  Thanks Harsh for seeing that., I just reverted this from 0.23 branch. Thanks Harsh and Bobby for pointing it out!, Integrated in Hadoop-Hdfs-trunk #786 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/786/])
    MAPREDUCE-2936. Contrib Raid compilation broken after HDFS-1620. Contributed by Vinod Kumar Vavilapalli.

vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165657
Files : 
* /hadoop/common/trunk/hadoop-mapreduce-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java
* /hadoop/common/trunk/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/raid/BlockFixer.java
, It looks like HDFS-1620 was just merged to branch-0.23 and needs this fix in it now., You must have caught me between merging the two patches. I did merge this as well., Was this fixed on trunk? Contrib raid compilation is still seems broken. HdfsConstants definitely exists in the various hdfs jars deployed in the contrib build dir.

compile:
     [echo] contrib: raid
    [javac] Compiling 33 source files to /home/eli/src/hadoop-trunk2/hadoop-mapreduce-project/build/contrib/raid/classes
    [javac] /home/eli/src/hadoop-trunk2/hadoop-mapreduce-project/src/contrib/raid/src/java/org/apache/hadoop/hdfs/server/datanode/RaidBlockSender.java:34: cannot find symbol
    [javac] symbol  : class HdfsConstants
    [javac] location: package org.apache.hadoop.hdfs.protocol
    [javac] import org.apache.hadoop.hdfs.protocol.HdfsConstants;
]