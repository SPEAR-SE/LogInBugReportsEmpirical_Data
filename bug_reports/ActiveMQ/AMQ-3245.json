{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [{
            "id": "12313891",
            "name": "Selector",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12313891"
        }],
        "created": "2011-03-28T19:03:29.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Melvin Ramos",
            "key": "jayd.lowrider",
            "name": "jayd.lowrider",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jayd.lowrider",
            "timeZone": "Etc/UTC"
        },
        "customfield_10010": null,
        "customfield_12310041": null,
        "customfield_12310080": null,
        "customfield_12310220": "2011-03-28T19:15:34.320+0000",
        "customfield_12310222": "1_*:*_1_*:*_242526974_*|*_5_*:*_1_*:*_0",
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "4.0",
        "customfield_12310420": "74709",
        "customfield_12310920": "255277",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i182xj:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Mar 31 14:25:36 UTC 2011",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "Is it possible that selector was broken due to new enhancement regarding REST selectors on 5.4.0? We are using 5.3.0 and selectors are working fine, however since we've upgraded our demo and test environments to 5.4.1 and essentially 5.4.2 it stop working for some reason. I can recreate it 100% of the time and below are the steps.\n\n1) First create the producer with String property set to 30. i.e. test, 30:\n{code}\nString username=\"Me\"\nString passwd = \"invicible\"\nString url =\"failover:(tcp://localhost:51515)?maxReconnectDelay=5000&useExponentialBackOff=false\";\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(username, passwd, url);\nConnection connection = connectionFactory.createConnection();\n// connection.setUseCompression(true); set this on the URL instead\nconnection.setExceptionListener(this);\n\nString destinationString = \"Test.Dest\";\n// create a session, destination, and producer\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nDestination destination = session.createQueue(destinationString);\n\nMessageProducer producer = session.createProducer(destination);\nproducer.setDeliveryMode(DeliveryMode.PERSISTENT);\n\nMessage message = session.createTextMessage(\"This is a test message\");\nmessage.setIntProperty(\"test\", 30);\n// insert the message 1000 times.\nfor (long l = 0L; l < 1000; l++) {\n      producer.send(message);\n}\n producer.close();\n session.close();\n connection.close();\n{code}\n\nNow we have 1000 message sitting on activemq, if you navigate to http://localhost:8161/admin and view \"Test.Dest\" queue you should see the 1000 message there.\n\n2) Create the consumer with test > 50 selector.\n{code}\npublic void setup() {\nString username=\"Me\"\nString passwd = \"invicible\"\nString url =\"failover:(tcp://localhost:51515)?maxReconnectDelay=5000&useExponentialBackOff=false\"; //\"tcp://localhost:51515\";\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(username, passwd, url);\nConnection connection = connectionFactory.createConnection();\n// connection.setUseCompression(true); set this on the URL instead\nconnection.setExceptionListener(this);\n\n// create a session, destination, and consumer\nSession session = connection.createSession(false, Session.CLIENT_ACKNOWLEDGE);\nString destinationString = \"Test.Dest\";\nsession.createQueue(destinationString);\nMessageConsumer consumer = session.createConsumer(destination, \"test > 50\");\nconsumer.setMessageListener(this);\n\nconnection.start();\n\n}\n\n\npublic void onMessage(Message message) {\n       try {\n            if (print && text) {\n                TextMessage textMessage = (TextMessage) message;\n                System.out.println(textMessage.getText());\n            }\n\n       catch (Exception ex)\n       { //swallow } \n}\n\n{code}\n\nOnce connected to broker, you'll see that it doesn't do anything as the message is not for this selector.\n\n3) Edit the code to producer.\n{code}\nmessage.setIntProperty(\"test\", 60);\n{code}\n\nAnd then rerun the producer to insert the 1000 records again.\n\nActual: Nothing happens, the consumer just waits for any message that comes in that matches the selector. \nExpected: The message gets consumed, as the latter part of the producer ran matches the selector.\n\nThis behavior works perfectly fine with 5.3.0. As selector is an important functionality of JMS as a whole this being broken is actually bad.",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "id": "3",
            "name": "Major",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011"
            },
            "id": "12311210",
            "key": "AMQ",
            "name": "ActiveMQ",
            "projectCategory": {
                "description": "ActiveMQ",
                "id": "11160",
                "name": "ActiveMQ",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/11160"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12311210"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Melvin Ramos",
            "key": "jayd.lowrider",
            "name": "jayd.lowrider",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jayd.lowrider",
            "timeZone": "Etc/UTC"
        },
        "resolution": {
            "description": "A fix for this issue is checked into the tree and tested.",
            "id": "1",
            "name": "Fixed",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1"
        },
        "resolutiondate": "2011-03-31T14:25:36.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "SELECTORS doesn't work for releases 5.4.0 to current",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2011-03-31T14:25:36.000+0000",
        "versions": [
            {
                "archived": false,
                "description": "Maintenance release for 5.4.0",
                "id": "12315624",
                "name": "5.4.1",
                "releaseDate": "2010-09-21",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12315624"
            },
            {
                "archived": false,
                "description": "",
                "id": "12315625",
                "name": "5.4.2",
                "releaseDate": "2010-12-02",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12315625"
            }
        ],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-3245/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-3245/watchers",
            "watchCount": 0
        },
        "workratio": -1
    },
    "id": "12502617",
    "key": "AMQ-3245",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12502617"
}