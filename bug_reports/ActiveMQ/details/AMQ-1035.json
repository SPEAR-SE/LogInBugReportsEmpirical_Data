{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483141","self":"https://issues.apache.org/jira/rest/api/2/issue/12483141","key":"AMQ-1035","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315626","id":"12315626","description":"","name":"5.5.0","archived":false,"released":true,"releaseDate":"2011-04-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-05-14T13:44:01.211+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Feb 26 15:43:40 UTC 2011","customfield_12310420":"46505","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_135757486906_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-02-26T15:43:40.888+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1035/watchers","watchCount":1,"isWatching":false},"created":"2006-11-08T09:18:54.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315612","id":"12315612","description":"","name":"4.0.2","archived":false,"released":true,"releaseDate":"2006-07-25"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-02-26T15:43:40.899+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Hi,\n\nWe have an AMQ Broker [4.1.0 incubator SNAPSHOT] running as a standalone java application.\n \nThe AMQ Broker has Authentication and Authorization plugins installed by virtue of which only users with the correct credentials may get authenticated onto the Broker, and further Access roles and permissions with respect to users and admin have been set up using the Authorization plugin.\n\nThe above broker supports both TCP and STOMP.\n\n\nCASE 1:\n\nWhen we connect using TCP and a JAVA written client, both the plugins work correctly and as expected.\n\n\nCASE 2:\n\nWhen we connect using STOMP and the Java written client:\n\n - The program stalls at \"connection.start(); Does not proceed further from here...\n\n\nCASE 3:\n\nWhen we use C++ and STOMP following are our observations:\n\n\n[1] When connecting using the STOMP client with incorrect credentials, the AMQ Broker throws SecurityException [which is expected], however the STOMP client receives a message 'CONNECTED'\n\n[2] The STOMP client does not get notified that there was a SecurityException while connecting [when connecting using wrong credentials].\n\n\n\nQuestions are:\n\n[1] Why does the program execution not proceed in case of CASE 2 ?\n\n[2] How does the C++ STOMP client get notified of any Authentication or Authorization exceptions that may be generated at the AMQ Broker end ?\n\nThanks in anticipation.\n\nAditya","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59660","customfield_12312823":null,"summary":"Problem with STOMP C++ Client connecting with a AMQ Broker having Authorization and Authentication Plugins installed","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=avindeshmukh","name":"avindeshmukh","key":"avindeshmukh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Avinash Deshmukh","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=avindeshmukh","name":"avindeshmukh","key":"avindeshmukh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Avinash Deshmukh","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483141/comment/12938944","id":"12938944","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ijsklont","name":"ijsklont","key":"ijsklont","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pieter","active":true,"timeZone":"Etc/UTC"},"body":"Case 3 happens also for PHP stomp clients. I saw there was a patch on the mailing list, but unfortunately the link to the patch doesn't work anymore. ActiveMQ should send an error frame and disconnect when a securityexception occurs. Now, it just continues, and the client can read/write messages without any problem, thus the authentication is useless for the stomp protocol.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ijsklont","name":"ijsklont","key":"ijsklont","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pieter","active":true,"timeZone":"Etc/UTC"},"created":"2007-05-14T13:44:01.211+0000","updated":"2007-05-14T13:44:01.211+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483141/comment/12999802","id":"12999802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This has been fixed for some time now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-02-26T15:43:40.897+0000","updated":"2011-02-26T15:43:40.897+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1035/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0akwn:"}}