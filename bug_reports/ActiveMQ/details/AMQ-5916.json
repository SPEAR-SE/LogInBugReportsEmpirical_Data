{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12851399","self":"https://issues.apache.org/jira/rest/api/2/issue/12851399","key":"AMQ-5916","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329258","id":"12329258","name":"5.12.0","archived":false,"released":true,"releaseDate":"2015-08-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-08-04T16:44:45.741+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 04 18:55:22 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_17488221_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-08-04T18:55:22.427+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5916/watchers","watchCount":4,"isWatching":false},"created":"2015-08-04T14:03:54.236+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329382","id":"12329382","name":"5.11.1","archived":false,"released":true,"releaseDate":"2015-02-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-08-04T18:55:28.500+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When JAAS authentication and authorization are setup, creation of durable subscriber fails due to lack of securityContext. \n\nThe ConnectionContext object does not inherit the securityContext of the broker's shared connection context","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12748676","id":"12748676","filename":"AMQ-5916-GMURTHY-PATCH.TXT","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T14:33:23.945+0000","size":9640,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12748676/AMQ-5916-GMURTHY-PATCH.TXT"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12748693","id":"12748693","filename":"AMQ-5916-GMURTHY-PATCH2.TXT","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T17:47:13.676+0000","size":9685,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12748693/AMQ-5916-GMURTHY-PATCH2.TXT"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Creation of durable subscriber fails via broker AdminView due to lack of SecurityContext  on ConnectionContext","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12851399/comment/14653686","id":"14653686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"body":"The org.apache.activemq.broker.jmx.BrokerView class has a createDurableSubscriber(String clientId, String subscriberName, String topicName, String selector) function and it instantiates a new connection context like this - \n\nConnectionContext connectionContext = new ConnectionContext();\n\nthis fails to copy the securityContext from the shared global connectionContext.\n\nThe above line must be replaced with \nConnectionContext sharedContext = BrokerSupport.getConnectionContext(broker.getContextBroker());\nConnectionContext context = sharedContext.copy();","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T14:06:18.188+0000","updated":"2015-08-04T14:08:16.454+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12851399/comment/14653690","id":"14653690","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"body":"Attached a patch for this issue - AMQ-5916-GMURTHY-PATCH.TXT","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T14:12:24.823+0000","updated":"2015-08-04T14:12:24.823+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12851399/comment/14653948","id":"14653948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"With the patch applied the test BrokerViewSlowStoreStartupTest#testBrokerViewOnSlowStoreStart fails when it calls createDurableSubscriber due to an exception not being thrown.  Should investigate if the test is wrong or the fix has broker something. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-08-04T16:44:45.741+0000","updated":"2015-08-04T16:44:45.741+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12851399/comment/14654033","id":"14654033","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"body":"Please take a look at my attached new patch AMQ-5916-GMURTHY-PATCH2.TXT\nBrokerViewSlowStoreStartupTest#testBrokerViewOnSlowStoreStart should not fail after applying AMQ-5916-GMURTHY-PATCH2.TXT\nI added a null check in the code.\nThanks.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ganeshmurthy","name":"ganeshmurthy","key":"ganeshmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ganeshmurthy&avatarId=25271","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ganeshmurthy&avatarId=25271","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ganeshmurthy&avatarId=25271","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ganeshmurthy&avatarId=25271"},"displayName":"Ganesh Murthy","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T17:47:01.315+0000","updated":"2015-08-04T17:47:01.315+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12851399/comment/14654151","id":"14654151","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 82e3ce805ee349a83c0684c908d6ebe0d546f432 in activemq's branch refs/heads/master from [~tabish121]\n[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=82e3ce8 ]\n\nhttps://issues.apache.org/jira/browse/AMQ-5916\n\nApply patch from Ganesh Murthy to resolve issue of creation of durable\nsubscriber fails via broker AdminView due to lack of SecurityContext on\nConnectionContext","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T18:54:22.468+0000","updated":"2015-08-04T18:54:22.468+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12851399/comment/14654153","id":"14654153","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"patch applied with thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-08-04T18:55:22.448+0000","updated":"2015-08-04T18:55:22.448+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5916/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2ibef:"}}