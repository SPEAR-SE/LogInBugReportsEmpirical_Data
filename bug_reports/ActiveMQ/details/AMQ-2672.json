{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482971","self":"https://issues.apache.org/jira/rest/api/2/issue/12482971","key":"AMQ-2672","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315623","id":"12315623","description":"version 5 feature complete","name":"5.4.0","archived":false,"released":true,"releaseDate":"2010-08-17"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-03-29T14:16:30.644+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jun 17 11:57:59 UTC 2010","customfield_12310420":"74852","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4530609804_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-05-17T13:33:06.597+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2672/watchers","watchCount":1,"isWatching":false},"created":"2010-03-26T03:02:56.793+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315621","id":"12315621","description":"","name":"5.3.1","archived":false,"released":true,"releaseDate":"2010-03-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-06-17T11:57:59.816+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313895","id":"12313895","name":"Message Store"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I'm using kahadb as storage. I have seen this several times, for both 5.3.0 and 5.3.1. If there are many messages in queues and ActiveMQ is not stopped in a correct manner, such as server crash or reboot accidentally, then ActiveMQ can not be started. I have to delete all files in data directory to make it start-able. But this kind of operation causes data loss. Is there anyway to fix that? Here is the log when it fails to start:\n2010-03-23 21:28:19,187 | INFO  | ActiveMQ 5.3.1 JMS Message Broker (datacenter) is starting | org.apache.activemq.broker.BrokerService | main\n2010-03-23 21:28:19,187 | INFO  | For help or more information please see: http://activemq.apache.org/ | org.apache.activemq.broker.BrokerService | main\n2010-03-23 21:28:19,937 | INFO  | Kaha Store using data directory D:\\Application\\apache-activemq-5.3.1\\bin\\..\\data\\datacenter\\tmp_storage | org.apache.activemq.kaha.impl.KahaStore | main\n2010-03-23 21:28:21,687 | ERROR | Failed to start ActiveMQ JMS Message Broker. Reason: java.lang.NullPointerException | org.apache.activemq.broker.BrokerService | main\njava.lang.NullPointerException\n        at org.apache.kahadb.index.BTreeNode$BTreeIterator.findNextPage(BTreeNode.java:109)\n        at org.apache.kahadb.index.BTreeNode$BTreeIterator.hasNext(BTreeNode.java:120)\n        at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$4.execute(KahaDBStore.java:222)\n        at org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n        at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recover(KahaDBStore.java:219)\n        at org.apache.activemq.broker.region.Queue.initialize(Queue.java:251)\n        at org.apache.activemq.broker.region.DestinationFactoryImpl.createDestination(DestinationFactoryImpl.java:83)\n        at org.apache.activemq.broker.region.AbstractRegion.createDestination(AbstractRegion.java:464)\n        at org.apache.activemq.broker.jmx.ManagedQueueRegion.createDestination(ManagedQueueRegion.java:56)\n        at org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:120)\n        at org.apache.activemq.broker.region.RegionBroker.addDestination(RegionBroker.java:268)\n        at org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:142)\n        at org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:142)\n        at org.apache.activemq.advisory.AdvisoryBroker.addDestination(AdvisoryBroker.java:153)\n        at org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:142)\n        at org.apache.activemq.broker.MutableBrokerFilter.addDestination(MutableBrokerFilter.java:149)\n        at org.apache.activemq.broker.region.AbstractRegion.start(AbstractRegion.java:94)\n        at org.apache.activemq.broker.region.RegionBroker.start(RegionBroker.java:178)\n        at org.apache.activemq.broker.jmx.ManagedRegionBroker.start(ManagedRegionBroker.java:100)\n        at org.apache.activemq.broker.TransactionBroker.start(TransactionBroker.java:112)\n        at org.apache.activemq.broker.BrokerFilter.start(BrokerFilter.java:154)\n        at org.apache.activemq.broker.BrokerFilter.start(BrokerFilter.java:154)\n        at org.apache.activemq.broker.BrokerService$3.start(BrokerService.java:1707)\n        at org.apache.activemq.broker.BrokerService.start(BrokerService.java:469)\n        at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1414)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1375)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1335)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)\n        at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\n        at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\n        at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96)\n        at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52)\n        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\n        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n        at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n        at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n        at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136)\n        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n        at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.apache.activemq.console.Main.runTaskClass(Main.java:251)\n        at org.apache.activemq.console.Main.main(Main.java:107)\n2010-03-23 21:28:21,781 | INFO  | ActiveMQ Message Broker (datacenter, null) is shutting down | org.apache.activemq.broker.BrokerService | main\n2010-03-23 21:28:21,781 | INFO  | Connector openwire Stopped | org.apache.activemq.broker.TransportConnector | main\n2010-03-23 21:28:22,843 | INFO  | ActiveMQ JMS Message Broker (datacenter, null) stopped | org.apache.activemq.broker.BrokerService | main","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"159888","customfield_12312823":null,"summary":"ActiveMQ failed to start after server crash","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows 2003","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942271","id":"12942271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"I uploaded the data folder here in case it's needed for investigation: http://rapidshare.com/files/368221874/data.zip.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2010-03-26T03:09:43.514+0000","updated":"2010-03-26T03:10:02.068+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942331","id":"12942331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"I could successfully read the files with trunk - do you have the same problem with 5.4-SNAPSHOT ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-29T14:16:30.644+0000","updated":"2010-03-29T14:16:30.644+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942340","id":"12942340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"I tried 5.4 snapshot. It did start successfully but looks the web admin didn't work. I could see there was no error in log but the port 8161 was just not opened. How can I verify?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2010-03-30T00:57:35.394+0000","updated":"2010-03-30T00:57:35.394+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942364","id":"12942364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Hi,\n\nthat's strange. Can you verify that you have configured web console and included jetty.xml in your configuration file. Also, can you post startup log, where should be relevant entries about starting the web server and console application.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-03-30T08:16:03.101+0000","updated":"2010-03-30T08:16:03.101+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942379","id":"12942379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"This is the startup log:\n2010-03-29 23:41:00,062 | INFO  | ActiveMQ JMS Message Broker (datacenter, ID:xuxulike-bca7e5-3933-1269877226406-0:0) stopped | org.apache.activemq.broker.BrokerService | ActiveMQ ShutdownHook\n2010-03-29 23:43:37,281 | INFO  | PListStore:D:\\Application\\apache-activemq-5.4-SNAPSHOT\\bin\\..\\data\\datacenter\\tmp_storage started | org.apache.activemq.store.kahadb.plist.PListStore | main\n2010-03-29 23:43:37,390 | INFO  | Using Persistence Adapter: org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter@186d484 | org.apache.activemq.broker.BrokerService | main\n2010-03-29 23:43:38,562 | INFO  | Replayed 1 operations from the journal in 0.031 seconds. | org.apache.activemq.store.kahadb.MessageDatabase | main\n2010-03-29 23:43:38,625 | INFO  | ActiveMQ 5.4-SNAPSHOT JMS Message Broker (datacenter) is starting | org.apache.activemq.broker.BrokerService | main\n2010-03-29 23:43:38,625 | INFO  | For help or more information please see: http://activemq.apache.org/ | org.apache.activemq.broker.BrokerService | main\n2010-03-29 23:43:39,062 | INFO  | Scheduler using directory: activemq-data\\scheduler | org.apache.activemq.broker.scheduler.SchedulerBroker | main\n2010-03-29 23:43:39,812 | INFO  | Listening for connections at: tcp://xuxulike-bca7e5:62616 | org.apache.activemq.transport.TransportServerThreadSupport | main\n2010-03-29 23:43:39,812 | INFO  | Connector openwire Started | org.apache.activemq.broker.TransportConnector | main\n2010-03-29 23:43:39,828 | INFO  | ActiveMQ JMS Message Broker (datacenter, ID:xuxulike-bca7e5-1307-1269877418875-0:0) started | org.apache.activemq.broker.BrokerService | main\n2010-03-29 23:43:40,000 | INFO  | Logging to org.slf4j.impl.JCLLoggerAdapter(org.eclipse.jetty.util.log) via org.eclipse.jetty.util.log.Slf4jLog | org.eclipse.jetty.util.log | main\n2010-03-29 23:43:40,000 | INFO  | jetty-7.0.1.v20091125 | org.eclipse.jetty.util.log | main\n2010-03-29 23:43:41,796 | INFO  | ActiveMQ WebConsole initialized. | org.apache.activemq.web.WebConsoleStarter | main\n2010-03-29 23:43:42,578 | INFO  | Initializing Spring FrameworkServlet 'dispatcher' | /admin | main\n2010-03-29 23:43:43,046 | INFO  | ActiveMQ Console at http://0.0.0.0:8161/admin | org.eclipse.jetty.util.log | main\n2010-03-29 23:43:43,687 | INFO  | Initializing Spring root WebApplicationContext | /camel | main\n2010-03-29 23:44:40,875 | INFO  | Slow KahaDB access: cleanup took 1688 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\n2010-03-29 23:45:15,312 | INFO  | Slow KahaDB access: cleanup took 797 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\n2010-03-29 23:45:26,578 | INFO  | Slow KahaDB access: cleanup took 1610 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\n\nThe log looks fine for me but I can not even telnet to port 8161. I didn't configure anything for web console and I cann jetty is in conf:\n<!-- \n        Enable web consoles, REST and Ajax APIs and demos\n        Take a look at activemq-jetty.xml for more details \n    -->\n    <import resource=\"jetty.xml\"/>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2010-03-30T14:47:41.639+0000","updated":"2010-03-30T14:47:41.639+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12941990","id":"12941990","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Rural,\n\nI think you hit a Camel webapp configuration problem introduced lately. You can try the latest snapshot which contains the fix or a workaround documented here: http://cwiki.apache.org/confluence/display/ACTIVEMQ/Web+Console\n\nPlease let me know if it works for you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-03-31T08:07:50.903+0000","updated":"2010-03-31T08:07:50.903+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942088","id":"12942088","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"I tried the latest snapshot without any modification. Simply download and startup. This time http service on 8161 is open but it's still in error:\nHTTP ERROR: 503\n\nProblem accessing /admin/. Reason:\n\n    Service Unavailable\n\nPowered by Jetty://\n\nThis is what I can see in the log:\n2010-04-01 21:24:20,609 | INFO  | jetty-7.0.1.v20091125 | org.eclipse.jetty.util.log | main\n2010-04-01 21:24:21,187 | INFO  | ActiveMQ WebConsole initialized. | org.apache.activemq.web.WebConsoleStarter | main\n2010-04-01 21:24:21,593 | INFO  | Initializing Spring FrameworkServlet 'dispatcher' | /admin | main\n2010-04-01 21:24:21,937 | INFO  | ActiveMQ Console at http://0.0.0.0:8161/admin | org.eclipse.jetty.util.log | main\n2010-04-01 21:24:22,171 | INFO  | Initializing Spring root WebApplicationContext | /camel | main\n2010-04-01 21:24:24,484 | ERROR | Context initialization failed | org.springframework.web.context.ContextLoader | main\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activemq' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot create inner bean 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' of type [org.apache.activemq.ActiveMQConnectionFactory] while setting bean property 'connectionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:120)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n\tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:645)\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:189)\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:978)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:349)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:165)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:92)\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:228)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1527)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1468)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n\tat org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n\tat org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.activemq.console.Main.runTaskClass(Main.java:251)\n\tat org.apache.activemq.console.Main.main(Main.java:107)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1344)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\n\t... 60 more\nCaused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1012)\n\tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:857)\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1341)\n\t... 64 more\n2010-04-01 21:24:24,656 | ERROR | Failed startup of context WebAppContext@1b88122@1b88122/camel,file:/D:/apache-activemq-5.4-SNAPSHOT/webapps/camel/ | org.eclipse.jetty.util.log | main\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activemq' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot create inner bean 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' of type [org.apache.activemq.ActiveMQConnectionFactory] while setting bean property 'connectionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:120)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n\tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:645)\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:189)\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:978)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:349)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:165)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:92)\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:228)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1527)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1468)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n\tat org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n\tat org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.activemq.console.Main.runTaskClass(Main.java:251)\n\tat org.apache.activemq.console.Main.main(Main.java:107)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1344)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\n\t... 60 more\nCaused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1012)\n\tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:857)\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1341)\n\t... 64 more\n2010-04-01 21:24:24,875 | ERROR | Nested in org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'activemq' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot create inner bean 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' of type [org.apache.activemq.ActiveMQConnectionFactory] while setting bean property 'connectionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.ActiveMQConnectionFactory#1e6978d' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?: | org.eclipse.jetty.util.log | main\norg.springframework.beans.NotWritablePropertyException: Invalid property 'useSingleConnection' of bean class [org.apache.activemq.ActiveMQConnectionFactory]: Bean property 'useSingleConnection' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n\tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1012)\n\tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:857)\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1341)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:120)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n\tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:645)\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:189)\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:978)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:349)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:165)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:92)\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:228)\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1527)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1468)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n\tat org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n\tat org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.activemq.console.Main.runTaskClass(Main.java:251)\n\tat org.apache.activemq.console.Main.main(Main.java:107)\n2010-04-01 21:24:25,343 | INFO  | ActiveMQ Web Demos at http://0.0.0.0:8161/demo | org.eclipse.jetty.util.log | main\n2010-04-01 21:24:25,437 | INFO  | RESTful file access application at http://0.0.0.0:8161/fileserver | org.eclipse.jetty.util.log | main\n2010-04-01 21:24:25,484 | INFO  | Started SelectChannelConnector@0.0.0.0:8161 | org.eclipse.jetty.util.log | main\n2010-04-01 21:24:45,921 | WARN  | Committed before 503 null | org.eclipse.jetty.util.log | qtp30964613-18","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2010-04-01T15:09:48.043+0000","updated":"2010-04-01T15:09:48.043+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942112","id":"12942112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Hi,\n\nit's fixed in svn revision 930197. I managed to mess the simple patch. You can try the next snapshot, or apply the aforementioned workaround on the current one. Sorry about that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-04-02T09:15:40.030+0000","updated":"2010-04-02T09:15:40.030+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942110","id":"12942110","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"Sorry I tried the latest snapshot and it's still not working. same as the last build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2010-04-02T11:51:03.009+0000","updated":"2010-04-02T11:51:03.009+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942129","id":"12942129","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"It's the built before the fix made in. I started another build, should be finished soon","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-04-02T13:07:24.277+0000","updated":"2010-04-02T13:07:24.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942428","id":"12942428","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"I confirm it's fixed in latest snapshot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2010-04-18T15:41:43.877+0000","updated":"2010-04-18T15:41:43.877+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942568","id":"12942568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiorsak","name":"kiorsak","key":"kiorsak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Oleg Kiorsak","active":true,"timeZone":"Etc/UTC"},"body":"I have unwillingly and unsuspectedly reproduced exactly same issue today... then googled out this page\nnice to see it has been fixed already...\n\nbut when is 5.4 coming out?\n\nor is it maybe fixed in latest FUSE sub-releases??\n\nthank you!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiorsak","name":"kiorsak","key":"kiorsak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Oleg Kiorsak","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-17T08:47:56.298+0000","updated":"2010-06-17T08:47:56.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482971/comment/12942587","id":"12942587","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"Hi Oleg, can u also verify that the current 5.4-SNAPSHOT resolves the restart for you?\n\nWe aim to have 5.4 complete by the end of July.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-17T11:57:59.766+0000","updated":"2010-06-17T11:57:59.766+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2672/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0rq73:"}}