{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12595083","self":"https://issues.apache.org/jira/rest/api/2/issue/12595083","key":"AMQ-3889","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321258","id":"12321258","description":"Next v5 maintenance release","name":"5.7.0","archived":false,"released":true,"releaseDate":"2012-10-08"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-06-19T15:33:39.441+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Oct 02 04:15:02 UTC 2012","customfield_12310420":"249813","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_19077869_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-06-19T15:33:39.380+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3889/watchers","watchCount":5,"isWatching":false},"created":"2012-06-19T10:15:41.633+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12318549","id":"12318549","name":"5.5.1","archived":false,"released":true,"releaseDate":"2011-10-16"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-10-02T04:15:02.784+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313904","id":"12313904","name":"JMX","description":"The JMX support in ActiveMQ"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When using the browse method of org.apache.activemq.broker.jmx.QueueViewMBean to obtain CompositeData of messages, the Body Preview of BytesMessages changes between each browse.\n\nI am not sure if that is intended behaviour, but I have written a testcase that illustrates it. \n\nI have also narrowed it down to org.apache.activemq.broker.jmx.OpenTypeSupport.BytesMessageOpenTypeFactory, which uses ActiveMQBytesMessage.readBytes but does not call reset afterwards.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12532523","id":"12532523","filename":"OpenTypeSupport.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"created":"2012-06-19T10:22:52.746+0000","size":467,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12532523/OpenTypeSupport.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12532521","id":"12532521","filename":"OpenTypeSupportTest.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"created":"2012-06-19T10:19:01.923+0000","size":2528,"mimeType":"text/x-java","content":"https://issues.apache.org/jira/secure/attachment/12532521/OpenTypeSupportTest.java"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10042","value":"Patch Available","id":"10042"}],"customfield_12310921":null,"customfield_12310920":"59134","customfield_12312823":null,"summary":"Body Preview of BytesMessages change when browsed multiple times from QueueViewMbean","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux 64-bit, multiple java versions.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595083/comment/13396652","id":"13396652","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"body":"Testcase to reproduce issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"created":"2012-06-19T10:19:01.979+0000","updated":"2012-06-19T10:19:01.979+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595083/comment/13396656","id":"13396656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"body":"Resolves this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kaaveland","name":"kaaveland","key":"kaaveland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robin Kåveland Hansen","active":true,"timeZone":"Europe/Oslo"},"created":"2012-06-19T10:22:52.770+0000","updated":"2012-06-19T10:22:52.770+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595083/comment/13396857","id":"13396857","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Fix applied in trunk with thanks. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-06-19T15:33:39.441+0000","updated":"2012-06-19T15:33:39.441+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595083/comment/13467089","id":"13467089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=z80pio","name":"z80pio","key":"z80pio","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sathish V","active":true,"timeZone":"Etc/UTC"},"body":"Hi,  I see the same issue.  What should I do to get the patch, please let me know the details.\n\n-Sathish","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=z80pio","name":"z80pio","key":"z80pio","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sathish V","active":true,"timeZone":"Etc/UTC"},"created":"2012-10-01T18:48:52.828+0000","updated":"2012-10-01T18:48:52.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595083/comment/13467099","id":"13467099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"ActiveMQ 5.7.0 is undergoing the release process now.  You can wait a few days for that or grab one of the nightly SNAPSHOT builds.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-10-01T18:59:43.258+0000","updated":"2012-10-01T18:59:43.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595083/comment/13467469","id":"13467469","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=z80pio","name":"z80pio","key":"z80pio","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sathish V","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for your quick response.    My aim to create a external tool using JMX that will monitor few ActiveMQ Queues periodically and peek(browse) into certain non-well formed messages and raise alerts.\n\nFew questions, if you can answer, will help me a lot.\n1) Is there a workaround available for this?  \n2) Is this an issue with activeMQ JMX agent service?  The upcoming patch to be applied to activeMQ service?\n3) I guess even though the browse shows message with null characters(after couple of browsing on the same message), read message actually fetches the message properly, please confirm if this is correct.  \n\nThanks\nSathish","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=z80pio","name":"z80pio","key":"z80pio","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sathish V","active":true,"timeZone":"Etc/UTC"},"created":"2012-10-02T04:15:02.784+0000","updated":"2012-10-02T04:15:02.784+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3889/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ahnr:"}}