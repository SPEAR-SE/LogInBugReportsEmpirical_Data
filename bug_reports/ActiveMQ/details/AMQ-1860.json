{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482608","self":"https://issues.apache.org/jira/rest/api/2/issue/12482608","key":"AMQ-1860","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-08-14T08:31:09.830+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jun 03 15:06:41 UTC 2011","customfield_12310420":"72166","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2297101837_*|*_5_*:*_2_*:*_116368670_*|*_4_*:*_1_*:*_1519989448","customfield_12312321":null,"resolutiondate":"2008-09-02T07:03:47.976+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1860/watchers","watchCount":1,"isWatching":false},"created":"2008-07-18T18:26:08.021+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315618","id":"12315618","description":"","name":"5.1.0","archived":false,"released":true,"releaseDate":"2008-05-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-06-03T15:06:41.674+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313894","id":"12313894","name":"Documentation"}],"timeoriginalestimate":null,"customfield_12310080":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10091","value":"Regression","id":"10091"}],"description":"The documentation for TCP transport, shows soTimeout, connectionTimeout and socketBufferSize as properties without a prefix.\nThe code in TcpTransportServer.java doesn't have the support for these properties.\nhence setting a URL to tcp://192.168.3.3:61616?soTimeout=180000 does nothing, and defaults to soTimeout=0 (which is a bad value due to how sockets get closed, and can cause the system to hang on  a socketWrite call, causing the rest of the server to hang, but I can explain that on the dev lists for those interested)\n\nBug description: Transport properties are incorrectly document or implemented\n\nThere are two solutions to this bug:\n\n1. The preferred, would be to fix the documentation\nhttp://activemq.apache.org/tcp-transport-reference.html\nthe mentioned options will work if they are prefixed with \"transport.\"\nso the URL would be \ntcp://192.168.3.3:61616?transport.soTimeout=180000\n\n2. Add the properties with their getters/setters into TcpTransportServer.java and then during the handleSocket method add them to the options map\n\nPlease note, this bug refers to the soTimeout setting on the socket that gets created on the server when a producer/consumer connects in using TCP\n\nbest\nFilip","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461212","id":"12461212","filename":"transport-options.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T04:05:59.913+0000","size":1909,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461212/transport-options.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"161804","customfield_12312823":null,"summary":"soTimeout transport property- Incorrect documentation (or code, you pick)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"All","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12939979","id":"12939979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"body":"As a side note, and not relevant to this issue, let me explain why soTimeout=0 is a bad default value\n\nLets say you have a connection between a consumer and the AMQ server, that connections gets terminated.\n\nWhen a socket is closed, it doesn't really mean its closed - this is explained in:\nhttp://java.sun.com/j2se/1.5.0/docs/guide/net/articles/connection_release.html\n\nOn the server the following will happen\n\nyy.yy.yy.yy.61616    xx.xx.xx.xx.44674    49152      0 49330      0 CLOSE_WAIT\n\nAnd inside of the AMQ you'll see the following stack trace\n\"ActiveMQ Transport: tcp:///xx.xx.xx.xx:44674\" daemon prio=4 tid=0x002ebc88 nid=0x2a runnable [0xd10ff000..0xd10ffc70]\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:136)\n        at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:105)\n        at java.io.DataOutputStream.flush(DataOutputStream.java:106)\n        at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:154)\n        at org.apache.activemq.transport.InactivityMonitor.oneway(InactivityMonitor.java:157)\n        - locked <0xd8775fc0> (a org.apache.activemq.transport.InactivityMonitor$2)\n        at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:82)\n        at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:91)\n        at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:40)\n        - locked <0xd8775da8> (a java.lang.Object)\n        at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:1151)\n        at org.apache.activemq.broker.TransportConnection.processDispatch(TransportConnection.java:766)\n        at org.apache.activemq.broker.TransportConnection.dispatchSync(TransportConnection.java:727)\n\nplease remember, the client is no longer connected, and is no longer reading data. The server now has a CLOSE_WAIT connection and a thread that is stuck in this state.\nThe socketWrite0 will only return after a TCP packets has moved on the connection (which it wont since the client is no longer present) or until it times out (which it wont since soTimeout is 0)\n\nAs you can see this thread is also holding a bunch of locks, some of these interfer with other server threads, causing the system to display systems of being hung. The only work around ar this point is to restart the AMQ server.\n\nHope this makes sense. My recommendation would be to have a >0 soTimeout value as default, (and the property name be documented properly of course:) )\n\nbest\nFilip","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-18T19:03:13.073+0000","updated":"2008-07-18T19:03:13.073+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940034","id":"12940034","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"body":"Looks like the problems go further than just the documentation being incorrect. On the server, it the soTimeout setting wont take into effect unless you use transport.soTimeout property.\nHowever, trying to apply this setting to a client URL, the system bombs out\nCaused by: java.lang.IllegalArgumentException: Invalid connect parameters: {transport.soTimeout=180000}\n    at org.apache.activemq.transport.TransportFactory.doConnect(TransportFactory.java:133)\n    at org.apache.activemq.transport.TransportFactory.doConnect(TransportFactory.java:47)\n    at org.apache.activemq.transport.TransportFactory.connect(TransportFactory.java:76)\n    at org.apache.activemq.ActiveMQConnectionFactory.createTransport(ActiveMQConnectionFactory.java:235)\n\nthen it would probably be better to just allow the property soTimeout, but it looks like the entire socket property settings need to have a look over, since there is no consistent way of setting these properties. And because the soTimeout property is not set, the whoe server locks up if there is a client that is deciding to stop receiving data.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T04:03:08.865+0000","updated":"2008-08-05T04:03:08.865+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940024","id":"12940024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"body":"Example of how to make the soTimeout property work on the server","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T04:03:44.035+0000","updated":"2008-08-05T04:03:44.035+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940028","id":"12940028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"body":"Example of how to make the soTimeout work for the server, one must of course verify that the client is picking up the option too","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T04:05:59.942+0000","updated":"2008-08-05T04:05:59.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940030","id":"12940030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Thanks Filip - applied the patch in SVN revision 685808","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-14T08:31:09.830+0000","updated":"2008-08-14T08:31:09.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940038","id":"12940038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"body":"Rob, looks like I wrote the patch with my head up my rear,\n\nthis\n\n+            options.put(\"soTimeout\", Integer.valueOf(soTimeout));\n+            options.put(\"soTimeout\", Integer.valueOf(soTimeout));\n+            options.put(\"connectionTimeout\", Integer.valueOf(socketBufferSize));\n\nshould be\n\n+            options.put(\"soTimeout\", Integer.valueOf(soTimeout));\n+            options.put(\"socketBufferSize\", Integer.valueOf(socketBufferSize));\n+            options.put(\"connectionTimeout\", Integer.valueOf(connectionTimeout));","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-14T17:08:44.381+0000","updated":"2008-08-14T17:08:44.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940067","id":"12940067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"body":"See previous note, copy paste error in the included patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhanik","name":"fhanik","key":"fhanik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Filip Hanik","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-15T16:50:38.512+0000","updated":"2008-08-15T16:50:38.512+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/12940143","id":"12940143","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"no problem! - updated in SVN revision 691129","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T07:03:47.966+0000","updated":"2008-09-02T07:03:47.966+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/13042156","id":"13042156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"body":"Hi,\n\nWhy, unlike proposed  Filip, the soTimeout is still at 0 by default?\n\nThis is from the current documentation at http://activemq.apache.org/tcp-transport-reference.html\n\nI had a quick look at the 5.4.2 code and I see that TcpTransportServer.configureServerSocket() sets soTimeout to 2000 and is called in TcpTransportServer.bind() which is itself used by TransportServer.doBind(). I stopped there, so maybe I'm missing something...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"created":"2011-06-01T13:16:14.764+0000","updated":"2011-06-01T13:17:13.738+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/13042167","id":"13042167","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"The default for client transports and server side accepted connections (and underlying transports) is still 0, configureServerSocket is a bit of an anomaly, it applies to just the listen socket, the socket that does an accept loop such that the accept thread won't block a shutdown.\n\nThere is a distinction on the server/broker side between the listen transport and accepted transports (new connections).\n\nTransport options on the broker side that need to be applied to newly accepted connections need to use the \"transport.\" prefix. without the prefix, they are applied just to the listener.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-01T13:36:38.420+0000","updated":"2011-06-01T13:36:38.420+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/13042239","id":"13042239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"body":"Thanks Garry,\n\nThis helped much :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"created":"2011-06-01T15:34:39.646+0000","updated":"2011-06-01T15:34:39.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/13042422","id":"13042422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"body":"Just one question more,\n\nWhen in activemq.xml I put\n{code}\n<transportConnector name=\"openwire\" uri=\"tcp://0.0.0.0:61616?transport.soTimeout=60000\"/>\n{code}\n\nI don't see anymore information dynamically changing at http://server:8161/admin/topics.jsp (we use a topic to broadcast), is it normal?\nI checked with lsof and netstat there are connections created and removed. \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"created":"2011-06-01T20:47:04.870+0000","updated":"2011-06-01T21:03:59.952+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/13042662","id":"13042662","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"body":"OK Forget my question, it's actually dynamically changing but far, far less than before...\n\nI think I will have some other questions but I have to check how our application (based on Apache OFBiz which uses JNDI to connect to the broker) handles some parts before","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"created":"2011-06-02T09:28:08.227+0000","updated":"2011-06-02T09:28:08.227+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482608/comment/13043387","id":"13043387","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"body":"OK, it's all clear, thanks again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jacques.le.roux","name":"jacques.le.roux","key":"jacques.le.roux","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jacques.le.roux&avatarId=29375","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jacques.le.roux&avatarId=29375","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jacques.le.roux&avatarId=29375","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jacques.le.roux&avatarId=29375"},"displayName":"Jacques Le Roux","active":true,"timeZone":"Europe/Paris"},"created":"2011-06-03T15:06:41.637+0000","updated":"2011-06-03T15:06:41.637+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1860/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0s20v:"}}