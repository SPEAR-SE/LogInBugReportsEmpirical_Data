{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12637024","self":"https://issues.apache.org/jira/rest/api/2/issue/12637024","key":"AMQ-4372","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323932","id":"12323932","name":"5.9.0","archived":false,"released":true,"releaseDate":"2013-10-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-04-19T18:37:15.139+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 22 07:40:41 UTC 2013","customfield_12310420":"317516","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_7184393967_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-06-05T17:35:36.835+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4372/watchers","watchCount":14,"isWatching":false},"created":"2013-03-14T13:55:42.890+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["web-console"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323282","id":"12323282","description":"Maintenance release with new AMQP support and smaller modules","name":"5.8.0","archived":false,"released":true,"releaseDate":"2013-02-11"}],"issuelinks":[{"id":"12369885","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12369885","type":{"id":"12310051","name":"Supercedes","inward":"is superceded by","outward":"supercedes","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310051"},"inwardIssue":{"id":"12644624","key":"AMQ-4487","self":"https://issues.apache.org/jira/rest/api/2/issue/12644624","fields":{"summary":"java.lang.OutOfMemoryError: Java heap space","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-07-22T07:40:41.877+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I have a standalone installation of activemq.\n\nWhen I want to browse a queue with more than 100 elements, the console throw a Java Heap Space, because he try to show all elements in the queue. \nBut when I have 40 elements, the page work well, and i can browse messages.\n\nIt should be interesting to paginate this page, to only show, for example, the first 100 elements.\n\nThe page : \nhttp://localhost:8161/admin/browse.jsp?JMSDestination=TestQueueOne\n\n\nAdded : \nI have tested with the 5.7.0 version of activemq and this bug doesn't exist. \n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"317857","customfield_12312823":null,"summary":"WebConsole throw Java Heap Space when browse a queue with more than 100 elements","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elendrim","name":"elendrim","key":"elendrim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grégory OLIVER","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elendrim","name":"elendrim","key":"elendrim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grégory OLIVER","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux/Ubuntu","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13636708","id":"13636708","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gamik","name":"gamik","key":"gamik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gael Falez","active":true,"timeZone":"Etc/UTC"},"body":"Same issue here: \nOS: ubuntu\nactiveMq version 5.8.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gamik","name":"gamik","key":"gamik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gael Falez","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-19T18:37:15.139+0000","updated":"2013-04-19T18:37:15.139+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13637885","id":"13637885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smox","name":"smox","key":"smox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Rasmussen","active":true,"timeZone":"Europe/Berlin"},"body":"I can confirm the issue:\n\nOS: Windows 7\nAMQ: 5.8.0\n\nIt occurs when I try to browse a queue using a tools such as ActiveMQBrowser which indicates that it is a general issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smox","name":"smox","key":"smox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Rasmussen","active":true,"timeZone":"Europe/Berlin"},"created":"2013-04-22T10:03:25.757+0000","updated":"2013-04-22T10:03:38.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13642714","id":"13642714","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"body":"Same issue here, does not happen on 5.7. Tested on 1.6 and 1.7 JDK.\n\nIf you click on 'active consumers' in the console when this is happening, you can see an enormous amount of enqueue and dequeues from the MQ host itself which seems to eat the box.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-26T09:59:53.681+0000","updated":"2013-04-26T09:59:53.681+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13642719","id":"13642719","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"body":"A few more details on our setup;\n\nActiveMQ 5.8.0, Running on Java 1.6.x\nBackend Storage is Multi-Master Percona 5.5.x","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-26T10:14:10.474+0000","updated":"2013-04-26T10:14:10.474+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13655098","id":"13655098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=david.lloyd","name":"david.lloyd","key":"david.lloyd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Lloyd","active":true,"timeZone":"Etc/UTC"},"body":"Appear to have the same issue here, running ActiveMQ 5.8.0 on Java 1.7.x (Windows 7) - queues stored in SQL Server 2008 R2\n\nHave also attempted to browse the queue with alternative queue browsers, using HermesJMS to browse a queue with 92 messages queued it retrieved over 500,000 messages from the queue before I told it to stop. It appears to get stuck in a loop and repeatedly retrieve the same 92 messages (which makes more sense to me that this runs the default browser out of heap space when a handful fewer messages are no problem).\n\nWhen replaying messaging into the queue from HermesJMS, even with 2000 messages in the queue the default browser loads them in under 2 seconds, we only seem to encounter this issue when the queue is populated from our application which is using the Apache NMS API.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=david.lloyd","name":"david.lloyd","key":"david.lloyd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Lloyd","active":true,"timeZone":"Etc/UTC"},"created":"2013-05-11T01:24:40.793+0000","updated":"2013-05-11T01:24:40.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13656438","id":"13656438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Have you tried to create a JUnit test case to reproduce?  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-05-13T21:56:55.029+0000","updated":"2013-05-13T21:56:55.029+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13674515","id":"13674515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Same root cause from what I can tell.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-06-04T15:54:27.385+0000","updated":"2013-06-04T15:54:27.385+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13674516","id":"13674516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You can work around this in the latest 5.9-SNAPSHOT builds if you set the maxProducersToAudit Policy value to a high enough value to account for the number of producers in your scenario.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-06-04T15:56:11.321+0000","updated":"2013-06-04T15:56:11.321+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13676152","id":"13676152","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Fixed on trunk.  Try the next ActiveMQ 5.9.0 SNAPSHOT for testing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-06-05T17:35:36.853+0000","updated":"2013-06-05T17:35:36.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13694683","id":"13694683","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"body":"Confirmed this solved my issue.\n\nAre we likely to see this fix backported to a minor 5.8 release or wait for 5.9-RELEASE?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-27T12:53:30.963+0000","updated":"2013-06-27T12:53:30.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13694780","id":"13694780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ceposta","name":"ceposta","key":"ceposta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ceposta&avatarId=15051","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ceposta&avatarId=15051","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ceposta&avatarId=15051","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ceposta&avatarId=15051"},"displayName":"Christian Posta","active":true,"timeZone":"America/Phoenix"},"body":"Most likely 5.9 release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ceposta","name":"ceposta","key":"ceposta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ceposta&avatarId=15051","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ceposta&avatarId=15051","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ceposta&avatarId=15051","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ceposta&avatarId=15051"},"displayName":"Christian Posta","active":true,"timeZone":"America/Phoenix"},"created":"2013-06-27T15:07:22.369+0000","updated":"2013-06-27T15:07:22.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13695405","id":"13695405","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"body":"Can I get a diff or a link to the commit so I can take a look at porting this to 5.8 stable?\n\nIt's causing us some rather bad production issues and we can't roll back to 5.7 due to another issue.\n\nCheers,\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subathra1985","name":"subathra1985","key":"subathra1985","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Subathra Jayaraman","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-28T11:45:54.814+0000","updated":"2013-06-28T11:45:54.814+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13695418","id":"13695418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Just click on the \"Source\" link and you'll get the list of commits relevant to this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2013-06-28T12:35:14.028+0000","updated":"2013-06-28T12:35:14.028+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13699080","id":"13699080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=byteflinger","name":"byteflinger","key":"byteflinger","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pedro de Lara","active":true,"timeZone":"Europe/Berlin"},"body":"I have just tried applying the patches listed on source to 5.8.0 and it seems to work. I should note that there is one patch missing from the source list. When applying the patches for the PolicyEntry.java file make sure to start with the previous revision than the first one mentioned in the source, if you apply that patch plus all the others mentioned in the source it should work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=byteflinger","name":"byteflinger","key":"byteflinger","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pedro de Lara","active":true,"timeZone":"Europe/Berlin"},"created":"2013-07-03T15:27:55.996+0000","updated":"2013-07-03T15:27:55.996+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13709578","id":"13709578","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=byteflinger","name":"byteflinger","key":"byteflinger","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pedro de Lara","active":true,"timeZone":"Europe/Berlin"},"body":"After some further testing I am not sure this issue is solved. I have applied the patches to 5.8.0 and it seems to make it more stable however not completely. I have managed to browse the queue using the webconsole a few times however other times it will still try to load for a while and return with the following error\n\njava.lang.OutOfMemoryError: Java heap space\n\tat java.util.Arrays.copyOf(Arrays.java:2367)\n\tat java.io.CharArrayWriter.write(CharArrayWriter.java:105)\n\tat java.io.PrintWriter.write(PrintWriter.java:426)\n\tat com.opensymphony.module.sitemesh.filter.RoutablePrintWriter.write(RoutablePrintWriter.java:144)\n\tat org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:181)\n\tat org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:449)\n\tat org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:462)\n\tat org.apache.jsp.browse_jsp$browse_jspHelper.invoke0(org.apache.jsp.browse_jsp:394)\n\tat org.apache.jsp.browse_jsp$browse_jspHelper.invoke(org.apache.jsp.browse_jsp:450)\n\tat org.apache.jsp.tag.web.jms.forEachMessage_tag.doTag(org.apache.jsp.tag.web.jms.forEachMessage_tag:89)\n\tat org.apache.jsp.browse_jsp._jspx_meth_jms_forEachMessage_0(org.apache.jsp.browse_jsp:170)\n\tat org.apache.jsp.browse_jsp._jspService(org.apache.jsp.browse_jsp:100)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:109)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:806)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:389)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:486)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:380)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:806)\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:652)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1329)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1300)\n\tat org.apache.activemq.web.SessionFilter.doFilter(SessionFilter.java:45)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1300)\n\tat org.apache.activemq.web.filter.ApplicationContextFilter.doFilter(ApplicationContextFilter.java:102)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1300)\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1300)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:445)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=byteflinger","name":"byteflinger","key":"byteflinger","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pedro de Lara","active":true,"timeZone":"Europe/Berlin"},"created":"2013-07-16T07:43:49.614+0000","updated":"2013-07-16T07:43:49.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13709790","id":"13709790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Try pulling in the fix for AMQ-4595","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-07-16T14:02:33.035+0000","updated":"2013-07-16T14:02:33.035+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637024/comment/13714991","id":"13714991","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=byteflinger","name":"byteflinger","key":"byteflinger","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pedro de Lara","active":true,"timeZone":"Europe/Berlin"},"body":"Thanks Timothy\n\nThat seems to have done the trick and so far things have been stable. I'll report if any other issues occur.\n\nI should also mention, for anybody attempting it, that as for the patches from this bug (4372), the patch for 4595 also is not directly appliable to 5.8.0 sources. You probably have to go back a few revisions however a bit of editing on the revision pertaining to the bug is enough to be able to apply it to 5.8.0 sources.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=byteflinger","name":"byteflinger","key":"byteflinger","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pedro de Lara","active":true,"timeZone":"Europe/Berlin"},"created":"2013-07-22T07:40:41.877+0000","updated":"2013-07-22T07:40:41.877+0000"}],"maxResults":17,"total":17,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4372/votes","votes":7,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1isdb:"}}