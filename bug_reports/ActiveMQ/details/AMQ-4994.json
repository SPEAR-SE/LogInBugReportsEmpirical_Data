{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12691351","self":"https://issues.apache.org/jira/rest/api/2/issue/12691351","key":"AMQ-4994","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326455","id":"12326455","name":"5.9.1","archived":false,"released":true,"releaseDate":"2014-04-04"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324950","id":"12324950","name":"5.10.0","archived":false,"released":true,"releaseDate":"2014-06-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-01-28T02:34:59.696+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Feb 05 02:42:21 UTC 2014","customfield_12310420":"370096","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_544513_*|*_1_*:*_1_*:*_384501721_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-01-31T22:04:52.778+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4994/watchers","watchCount":6,"isWatching":false},"created":"2014-01-27T11:07:26.585+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323932","id":"12323932","name":"5.9.0","archived":false,"released":true,"releaseDate":"2013-10-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-04-02T21:54:49.856+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12321500","id":"12321500","name":"webconsole","description":"Web console such as the old and the new hawtio console"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When browsing a deep queue with large number of messages, broker throws \n\n{code}java.lang.OutOfMemoryError: Java heap space\n\tat java.util.Arrays.copyOf(Arrays.java:2367)\n\tat java.io.CharArrayWriter.write(CharArrayWriter.java:105)\n\tat java.io.PrintWriter.write(PrintWriter.java:426)\n\tat com.opensymphony.module.sitemesh.filter.RoutablePrintWriter.write(RoutablePrintWriter.java:144)\n\tat org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:181)\n\tat org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:412)\n\tat org.apache.taglibs.standard.tag.common.core.OutSupport.writeEscapedXml(OutSupport.java:239)\n\tat org.apache.taglibs.standard.tag.common.core.OutSupport.out(OutSupport.java:208)\n\tat org.apache.taglibs.standard.tag.common.core.OutSupport.doStartTag(OutSupport.java:128)\n\tat org.apache.jsp.browse_jsp._jspx_meth_c_out_6(org.apache.jsp.browse_jsp:323)\n\tat org.apache.jsp.browse_jsp.access$8(org.apache.jsp.browse_jsp:314)\n\tat org.apache.jsp.browse_jsp$browse_jspHelper.invoke0(org.apache.jsp.browse_jsp:426)\n\tat org.apache.jsp.browse_jsp$browse_jspHelper.invoke(org.apache.jsp.browse_jsp:450)\n\tat org.apache.jsp.tag.web.jms.forEachMessage_tag.doTag(org.apache.jsp.tag.web.jms.forEachMessage_tag:89)\n\tat org.apache.jsp.browse_jsp._jspx_meth_jms_forEachMessage_0(org.apache.jsp.browse_jsp:170)\n\tat org.apache.jsp.browse_jsp._jspService(org.apache.jsp.browse_jsp:100)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:109)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:806)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:389)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:486)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:380)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:806)\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:652)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1320)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1291)\n\tat org.apache.activemq.web.SessionFilter.doFilter(SessionFilter.java:45)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1291)\n\tat org.apache.activemq.web.filter.ApplicationContextFilter.doFilter(ApplicationContextFilter.java:102)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1291)\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129){code}\n\nwhen trying to browse that queue.\n\nTo reproduce it:\n\n1. Start a broker with default configuration\n\n2. Send 200k messages with\n\n{code}ant producer -Dmax=200000 -Ddurable=true -Dsubject=TEST{code}\n\n3. Try to browse the queue\n\nhttp://localhost:8161/admin/browse.jsp?JMSDestination=TEST\n\nThe proper solution to this problem is to implement proper pagination while browsing the messages, so users can browse through all messages showing 100 msgs (or so) at the time and not using all the available memory.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12626037","id":"12626037","filename":"AMQ-4994.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dkulp","name":"dkulp","key":"dkulp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dkulp&avatarId=10090","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dkulp&avatarId=10090","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dkulp&avatarId=10090","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dkulp&avatarId=10090"},"displayName":"Daniel Kulp","active":true,"timeZone":"America/New_York"},"created":"2014-01-30T01:38:48.133+0000","size":22464,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12626037/AMQ-4994.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"370398","customfield_12312823":null,"summary":"Web Console - java.lang.OutOfMemoryError: Java heap space - while browsing deep queues","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13883678","id":"13883678","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"body":"Dejan,\n\nWhy is this a bug and why is this a blocker? The console was designed to keep messages in memory. Obviously past a certain limit one would run out of memory. What I understand is that you actually require an improvement, which would be probably major, not even critical for the console to use pagination to handle a limited number of messages.\n\nI would argue that for extremely large messages even 100 msgs per page would probably be too much. I also find your suggestion to use pagination a bit lacking, as if one would have 200k messages in the queue pagination would definitely not help and more advanced features like (multi-faceted) filtering would be necessary. \n\nA good place to start is documenting the limitations of the current console.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"created":"2014-01-28T02:34:59.696+0000","updated":"2014-01-28T02:34:59.696+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13884064","id":"13884064","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"In my opinion, anything that can cause broker (a vital middleware infrastructure component) to crash in production with OOM should be considered a blocker bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2014-01-28T12:29:14.622+0000","updated":"2014-01-28T12:29:14.622+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13884254","id":"13884254","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\n\nI had a similar problem when I was building BZCareer.com search engine where I had half a million records in the database that I wanted to show to users. I couldn't just send half a million JSON objects from the server to the client because it's just too much data. Rather I gave them the first 10 records per page. \n\nFor that reason I have to agree with Dejan regarding his suggestion for adding pagination. \n\nUsers don't need to see 200,000 records on a single page. Only maybe 100 records per page. \n\nIf everyone agrees with this I can write the client side JavaScript to generate pagination and get data asynchronously. I can also write the server side code that will return a JSON object with the first hundred records and subsequent records from specifying in the query string 'page=#'.\n\n\n/admin/browse.jsp?JMSDestination=TEST&page=1\nNote: Page=1 is the first 100 records and so on...\n\nI think pagination added to the console would solve this issue. With every decision we can weigh the benefit vs the cost. If this is a benefit that has no cost then why not implement this or better yet why not let me implement this as a matter of fact.\n\n\nThanks,\nZak\n@Prospect1010\nhttp://github.com/zmhassan\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-01-28T15:33:21.654+0000","updated":"2014-01-28T15:34:37.118+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13884257","id":"13884257","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"body":"Zak, go for it, thanks.\nOne suggestion: what if instead of using one \"page\" parameter in URL you'd use two \"from\" and \"to\" parameters to specify the message range explicitly? It's semantically equivalent. On the page you can still display pages with a little bit of arithmetic in js.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"created":"2014-01-28T15:41:17.513+0000","updated":"2014-01-28T15:41:17.513+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13884267","id":"13884267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"\nGreat suggestion Hadrian. I have logic in the code to do that. I will be using similar code found on this page: \n\nhttp://www.bzcareer.com/CA/search?keyword=Developer&local=\nNote: view source to see how I did it.\n\nAs you can see you won't see a from or to anywhere in the query string. It's all handled via Ajax. 'from' and 'to' we don't need to expose to the user however I was planning on including a single parameter to avoid confusion 'page=#'. \n\nHow about we add a drop down where a user can choose how many items will display per page ?\n\nThanks,\nZak\n@Prospect1010\nhttp://github.com/zmhassan\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-01-28T15:56:01.277+0000","updated":"2014-01-28T15:56:01.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13884279","id":"13884279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"body":"Sure. Either that or profile settings, whatever you think is best. That can be easily changed if needed without changing the url structure and the rest of the logic.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"created":"2014-01-28T16:12:30.269+0000","updated":"2014-01-28T16:12:30.269+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13885825","id":"13885825","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"I'm able to generate pagination on the UI when the requests are small but I seem to be getting an error from the server-side \"java.lang out of memory .... \" when messages when the queue depth is large. I'm searching for where this bug is coming from. Pagination may sort of help but we still need to find some way of limiting the amount of messages that get displayed.\nI narrowed down where the problem is coming from I suspect that is somewhere in:\n\nhttps://github.com/apache/activemq/blob/trunk/activemq-web-console/src/main/java/org/apache/activemq/web/controller/SendMessage.java#L51-L79\n\nAlso I can imagine that there could me more messages being produced and consumed at the same time which we have to consider. Any suggestions on possible options? \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-01-29T21:21:25.005+0000","updated":"2014-01-29T22:29:45.426+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886013","id":"13886013","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"I'll take a look at the updated code if you like.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-01-29T23:45:53.987+0000","updated":"2014-01-29T23:45:53.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886149","id":"13886149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dkulp","name":"dkulp","key":"dkulp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dkulp&avatarId=10090","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dkulp&avatarId=10090","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dkulp&avatarId=10090","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dkulp&avatarId=10090"},"displayName":"Daniel Kulp","active":true,"timeZone":"America/New_York"},"body":"Here's a start of a patch that fixes the immediate OOM issue by removing the sitemesh stuff from the filterchain so everything is streamed back directly to the client without buffering.  All the .jsp are changed to include a head/header/footer jsp files that handle the formatting for those.   \n\nThis is just a start, still need to actually remove the sitemesh stuff, delete the various sitemesh specific files, etc...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dkulp","name":"dkulp","key":"dkulp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dkulp&avatarId=10090","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dkulp&avatarId=10090","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dkulp&avatarId=10090","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dkulp&avatarId=10090"},"displayName":"Daniel Kulp","active":true,"timeZone":"America/New_York"},"created":"2014-01-30T01:38:48.138+0000","updated":"2014-01-30T01:38:48.138+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886206","id":"13886206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"On the pagination with messages being produced and consumed - I wouldn't worry about it.  Messages may be consumed or produced all the time meaning the web UI can never be fully correct.\n\nTo keep the UI as consistent as possible, perhaps the simplest approach is to just show only one page at a time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-01-30T02:58:31.364+0000","updated":"2014-01-30T02:58:31.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886224","id":"13886224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"I was originally planning on making a slight change in the design. I was planning on making a restful endpoint that will display the first hundred JMS messages in queue in JSON format (one argument 'page'). It would save time and resource because we don't loop through all 200,000 items in queue. However that would make a change in the design and I was thinking there must be a way that we can reuse existing code that does web service like functionality. \n\nOne option I was looking at was that we could use the RSS/ATOM feed with xml data and pull from it via javascript on the client-side to get the messages in queue but when I tried this, it was a really large xml file and takes a long time to load. When the number of messages grow too large I was unsuccessful in requesting it and parsing it. Perhaps if we can just display 100 messages of the 200,000 in queue that would make it an easier problem to solve. \n\nhttp://localhost:8161/admin/queueBrowse/TEST?view=rss&feedType=atom_1.0\n\n\nHere is an example of how I will get the xml data from JavaScript just in case anyone would like to see the code:\n\nhttps://gist.github.com/zmhassan/8702385\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-01-30T03:45:25.740+0000","updated":"2014-01-30T04:22:43.062+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886264","id":"13886264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"Looking at the broker code, it should be feasible to modify the code to return a specific \"page\" of messages.  Probably pass a start message # and end message #, or start and count.\n\nOne concern is that the current method of returning messages is using ActiveMQQueueBrowser to iterate through messages, making the operation to skip to the first message requested inefficient.  One way to reduce that concern could be caching the browser in the web session.  Still looking through the code to see what's feasible on that front.\n\nAnother concern is what feasible limits do we attempt to address?  For example, message sizes on the order of the broker's available memory size are going to be impossible to process.  More realistically, should the solution assume that one page of messages will fit in memory?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-01-30T05:25:34.070+0000","updated":"2014-01-30T05:25:34.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886269","id":"13886269","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"Hmm, looking at the JMX destination browsing code, it looks like it may only support up to 200 messages maximum.  Is that correct?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-01-30T05:33:46.386+0000","updated":"2014-01-30T05:33:46.386+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886275","id":"13886275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"OK, so the JMX view (browse operation on the DestinationView MBean) only supports up to 400 messages.  Found in the code and confirmed with a test (involving a lot of mouse clicks and funny stares from family members).\n\nIt would be very simple to limit the web console in the same way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-01-30T05:43:15.348+0000","updated":"2014-01-30T05:43:15.348+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886653","id":"13886653","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"In my opinion it would be the best to move off the JMS interface for browsing and do it over JMX. Next, the JMX interface should be improved to allow browsing of all available messages (at the moment that are messages that are paged in memory, but in the future we should be able to browse the whole store), in reasonable sized batches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2014-01-30T15:20:20.423+0000","updated":"2014-01-30T15:20:20.423+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886656","id":"13886656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dkulp","name":"dkulp","key":"dkulp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dkulp&avatarId=10090","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dkulp&avatarId=10090","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dkulp&avatarId=10090","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dkulp&avatarId=10090"},"displayName":"Daniel Kulp","active":true,"timeZone":"America/New_York"},"body":"\nCould a new JIRA be created for the pagination stuff?   That's more of a feature request.\n\ngithub pull request which removes sitemesh which is the root cause of the OOM:\n\nhttps://github.com/apache/activemq/pull/10\n\n(and the OOM COULD occur on other pages such as if there are 200K queues or similar.  This pull request fixes those as well.)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dkulp","name":"dkulp","key":"dkulp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dkulp&avatarId=10090","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dkulp&avatarId=10090","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dkulp&avatarId=10090","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dkulp&avatarId=10090"},"displayName":"Daniel Kulp","active":true,"timeZone":"America/New_York"},"created":"2014-01-30T15:24:03.662+0000","updated":"2014-01-30T15:24:03.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13886684","id":"13886684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"Ditto on the desire to move the entire solution to JMX - a separate ticket should be entered for that.  Dejan - will you take the lead on that effort?\n\nLet's keep this issue about the OOM.  I think the paging solution is a nicer way to go, but we could simply limit the number of messages returned from here in the same way JMX does.  The down side being that it reduces existing functionality.\n\nI'll keep working toward a paging solution - it's feeling close.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-01-30T15:47:17.558+0000","updated":"2014-01-30T15:47:17.558+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13887988","id":"13887988","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"Okay at this point I'm just testing the client side code. Every page will display 100 Jms Messages and as we paginate through it will show the next 100. I can do some optimizations but wanted  your input on the design of it. Changed a bit of the UI to look more modern using bootstrap and jQuery. \n\nSee screenshoot:\nhttps://www.dropbox.com/s/f8wgkae6vpgrc21/Screenshot%20from%202014-01-31%2013%3A35%3A31.png\n\n\nThis was done by utilizing Bootstrap 3.0 css + jQuery + teamwork  to get RSS feed data from  ActiveMQ for the first 100 messages in the queue. As we go deeper the slower it will be. I'm working on a way around that but still thinking at this point. Appreciate any feedback I'll be online at the usual times > 7pm (E.S.T).\n\nI'll send in my pull request once I'm satisfied that everything is working 100%  test and fully functional. \n\nBest Regards,\nZak\n“Empowerment of individuals is a key part of what makes open source work, since in the end, innovations tend to come from small groups, not from large, structured efforts.”\n– Tim O’Reilly\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-01-31T18:46:55.722+0000","updated":"2014-01-31T19:14:16.924+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13888225","id":"13888225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"body":"Patch committed with thanks to Dan Kulp.\n\nThere is no OOME thrown, tried in both Mozilla and Chrome. Without the pagination feature it takes a long time for the page to refresh. Mozilla appears to be hanging and you get a standardista-table-sorting.js unresponsive (line 404) and you have the option to continue or stop the script. Either way, the browser doesn't crash and there is no exception. \n\nIn Chrome it's a bit nicer because of the incremental page rendering the browser is responsive at all times. One could stop loading the page though.\n\nI even tested with two browsers trying to load the content of the TEST queue at the same time. No problems other than the large amount of memory used and longer delays in accessing the net, which is to be expected.\n\nI believe that although the OOME issue is resolved, pagination and search features are necessary if one needs to deal with deep queues. Let's track those features as separate improvement issues.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadrian","name":"hadrian","key":"hadrian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadrian&avatarId=13649","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadrian&avatarId=13649","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadrian&avatarId=13649","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadrian&avatarId=13649"},"displayName":"Hadrian Zbarcea","active":true,"timeZone":"America/New_York"},"created":"2014-01-31T22:04:52.804+0000","updated":"2014-01-31T22:04:52.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13888238","id":"13888238","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"@Hadrian,\n\nYes I guess we can move the pagination stuff to a separate issue. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-01-31T22:19:58.754+0000","updated":"2014-01-31T22:19:58.754+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13891602","id":"13891602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"body":"Do we have an issue for pagination?  If not, let me know and I'll create it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=artnaseef","name":"artnaseef","key":"artnaseef","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Arthur Naseef","active":true,"timeZone":"America/Phoenix"},"created":"2014-02-05T02:02:22.675+0000","updated":"2014-02-05T02:02:22.675+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691351/comment/13891626","id":"13891626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"body":"No we don't have an issue. Please create one and assign to me.\n\nThanks,\nZak\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zmhassan","name":"zmhassan","key":"zmhassan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zmhassan&avatarId=19976","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zmhassan&avatarId=19976","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zmhassan&avatarId=19976","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zmhassan&avatarId=19976"},"displayName":"Zak Hassan","active":true,"timeZone":"Etc/UTC"},"created":"2014-02-05T02:42:21.580+0000","updated":"2014-02-05T02:42:21.580+0000"}],"maxResults":22,"total":22,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4994/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1rscf:"}}