{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12481732","self":"https://issues.apache.org/jira/rest/api/2/issue/12481732","key":"AMQ-876","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315613","id":"12315613","description":"","name":"4.1.0","archived":false,"released":true,"releaseDate":"2006-11-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-09-12T10:02:55.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Nov 15 17:54:16 UTC 2006","customfield_12310420":"84510","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2136387000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_116049000_*|*_4_*:*_1_*:*_6037970000","customfield_12312321":null,"resolutiondate":"2006-11-15T17:54:16.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-876/watchers","watchCount":1,"isWatching":false},"created":"2006-08-11T19:00:50.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315613","id":"12315613","description":"","name":"4.1.0","archived":false,"released":true,"releaseDate":"2006-11-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-11-15T17:54:16.000+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313895","id":"12313895","name":"Message Store"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Keep getting exception below.  Note that you are looking for queue-data-1, but actual file name is data-queue-data-1\n\n$ pwd\n  /cygdrive/d/amq/activemq-kaha/kaha.db\n$ ls\ndata-kaha-1  data-queue-data-1  index-kaha  index-queue-data  index-transactions\n\njavax.jms.JMSException: java.io.IOException: Could not locate data file queue-data-1\n        at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:46)\n        at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1154)\n        at org.apache.activemq.TransactionContext.commit(TransactionContext.java:260)\n        at org.apache.activemq.ActiveMQSession.commit(ActiveMQSession.java:464)\n        at com.barra.cp.common.io.MultiQueueReceiver.onMessage(MultiQueueReceiver.java:163)\n        at com.barra.cp.common.io.SingleMessageMultiQueueReceiver$OneMessageAtATime.runMultiQueue(SingleMessageMultiQueueReceiver.java:176)\n        at com.barra.cp.common.io.SingleMessageMultiQueueReceiver$OneMessageAtATime.doRun(SingleMessageMultiQueueReceiver.java:143)\n        at com.barra.cp.common.io.SingleMessageMultiQueueReceiver$OneMessageAtATime.run(SingleMessageMultiQueueReceiver.java:124)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.activemq.kaha.RuntimeStoreException: java.io.IOException: Could not locate data file queue-data-1\n        at org.apache.activemq.kaha.impl.MapContainerImpl.getValue(MapContainerImpl.java:340)\n        at org.apache.activemq.kaha.impl.MapContainerImpl.remove(MapContainerImpl.java:265)\n        at org.apache.activemq.store.kahadaptor.KahaMessageStore.removeMessage(KahaMessageStore.java:68)\n        at org.apache.activemq.store.kahadaptor.KahaTransaction.commit(KahaTransaction.java:92)\n        at org.apache.activemq.store.kahadaptor.KahaTransactionStore.commit(KahaTransactionStore.java:95)\n        at org.apache.activemq.transaction.LocalTransaction.commit(LocalTransaction.java:68)\n        at org.apache.activemq.broker.TransactionBroker.commitTransaction(TransactionBroker.java:154)\n        at org.apache.activemq.broker.BrokerFilter.commitTransaction(BrokerFilter.java:92)\n        at org.apache.activemq.broker.BrokerFilter.commitTransaction(BrokerFilter.java:92)\n        at org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:102)\n        at org.apache.activemq.broker.AbstractConnection.processCommitTransactionOnePhase(AbstractConnection.java:330)\n        at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:99)\n        at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:228)\n        at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:63)\n        at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:92)\n        at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:67)\n        at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:123)\n        at org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:123)\n        at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:88)\n        at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:127)\n        ... 1 more\nCaused by: java.io.IOException: Could not locate data file queue-data-1\n        at org.apache.activemq.kaha.impl.DataManager.getDataFile(DataManager.java:117)\n        at org.apache.activemq.kaha.impl.StoreDataReader.readItem(StoreDataReader.java:62)\n        at org.apache.activemq.kaha.impl.DataManager.readItem(DataManager.java:121)\n        at org.apache.activemq.kaha.impl.MapContainerImpl.getValue(MapContainerImpl.java:337)\n        ... 20 more\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12460610","id":"12460610","filename":"test.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-15T17:50:39.000+0000","size":7151132,"mimeType":"application/zip","content":"https://issues.apache.org/jira/secure/attachment/12460610/test.zip"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"171967","customfield_12312823":null,"summary":"Kaha DB cannot locate queue data files","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"WinXP","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938409","id":"12938409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"Sorry, but I still get this problem\n\nERROR MapContainerImpl               - Failed to get value for offset=357, key=(-1, -1, 0), value=(-1, -1, 0), previousItem=-1, nextItem=765\n\njava.io.IOException: Could not locate data file queue-data-1\n\n\tat org.apache.activemq.kaha.impl.data.DataManager.getDataFile(DataManager.java:118)\n\n\tat org.apache.activemq.kaha.impl.data.StoreDataReader.readItem(StoreDataReader.java:62)\n\n\tat org.apache.activemq.kaha.impl.data.DataManager.readItem(DataManager.java:122)\n\n\tat org.apache.activemq.kaha.impl.container.MapContainerImpl.getValue(MapContainerImpl.java:344)\n\n\tat org.apache.activemq.kaha.impl.container.MapContainerImpl.remove(MapContainerImpl.java:272)\n\n\tat org.apache.activemq.store.kahadaptor.KahaMessageStore.removeMessage(KahaMessageStore.java:68)\n\n\tat org.apache.activemq.store.kahadaptor.KahaTransaction.commit(KahaTransaction.java:92)\n\n\tat org.apache.activemq.store.kahadaptor.KahaTransactionStore.commit(KahaTransactionStore.java:95)\n\n\tat org.apache.activemq.transaction.LocalTransaction.commit(LocalTransaction.java:68)\n\n\tat org.apache.activemq.broker.TransactionBroker.commitTransaction(TransactionBroker.java:154)\n\n\tat org.apache.activemq.broker.BrokerFilter.commitTransaction(BrokerFilter.java:93)\n\n\tat org.apache.activemq.broker.BrokerFilter.commitTransaction(BrokerFilter.java:93)\n\n\tat org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:103)\n\n\tat org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:103)\n\n\tat org.apache.activemq.broker.AbstractConnection.processCommitTransactionOnePhase(AbstractConnection.java:330)\n\n\tat org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:99)\n\n\tat org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:228)\n\n\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:63)\n\n\tat org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:92)\n\n\tat org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:67)\n\n\tat org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:124)\n\n\tat org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:123)\n\n\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:88)\n\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:129)\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-06T20:41:26.000+0000","updated":"2006-09-06T20:41:26.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938469","id":"12938469","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"\nHi Rob,\n\nI have been trying to understand what is going on there. Here is what I found out so far. The exception happens in DataManager.getDataFile(DataItem) method. In this method the 2nd line is fileMap.get(key); and the key is -1 when the exception occurs. \n\nThe key is from getFile() method of the DataItem. If you scroll down the stack trace to MapContainerImpl.getValue(), the DataItem's file field is set from IndexItem's valueFile member. This value is set \"incorrectly\" to -1 in MapContainerImpl.remove. \n\nIn this method you find the following lines:\n\n// ensure we have the upto date item\nitem=indexList.getEntry(item);\n\nThe IndexItem item is set from a HashMap in this method and the valueFile field on this object is \"correct\" (i.e. != -1). However after this line, the value that is read from the file system has the -1 in it, which results in error.\n\nQuite frankly, I do not yet understand the Kaha code well enough. Can you please guide me to through this, so I can help you with resolving and testing this issue? By the way can you reproduce this JIRA?  \n\nRegards,\n\nVadim\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-12T00:46:35.000+0000","updated":"2006-09-12T00:46:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938410","id":"12938410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Hi Vadim,\n\nI couldn't reproduce this - and as I'd fixed something like this a few weeks ago - I'd assumed it was fixed.\nCould you try and produce a test case for this ?\n\ncheers,\n\nRob","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-12T10:02:55.000+0000","updated":"2006-09-12T10:02:55.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938405","id":"12938405","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"Rob,\n\nUnfortunately it is not easy to reproduce this bug. It happens all the time when I run my test, but not on the same iteration of the test. Sometimes it happens right away, other times I have to wait longer. My test sends 1500 messages but the error happens only once, but every time.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-12T16:38:57.000+0000","updated":"2006-09-12T16:38:57.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938197","id":"12938197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"Hi Rob,\n\nI just send the test code to help reproduce this problem to you Gmail account. Please let me know if you got it and was able to reproduce the problem. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-14T18:03:58.000+0000","updated":"2006-09-14T18:03:58.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938340","id":"12938340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"I am not sure if you got my message or not. Since I am going to be away starting on Monday I am attaching the test and my e-mail.\n\n\"I was unable to write a simple unit test to recreate the problem, so I am attaching simulation test along with some utility classes. I am using IntelliJ Idea and JDK 1.5.2 installed. I am not sure if there is any 1.5 syntax. To run the test just start the broker (with kaha persistence) and execute DailyUpdateSimulationJmsTest JUnit class from Idea (Idea project file included). Sometimes it takes awhile before the error occurs (up to 5 minutes), but most of the time it happens very quickly. To check if error happened \"grep\" the AMQ log for \"Could not locate data file\" string. Thanks.\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-15T17:50:39.000+0000","updated":"2006-09-15T17:50:39.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12936464","id":"12936464","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"Hi Rob,\n\nIs there any chance you can give me heads up on when you may have time to take a look at this? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-10-03T22:26:19.000+0000","updated":"2006-10-03T22:26:19.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938506","id":"12938506","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Hi Vadim,\n\nwould you mind trying the latest code ? I've done some bug fixes in the kaha area today - unfortunately one of the bug fixes means it's no longer backwards compatible\n\ncheers,\n\nRob","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2006-10-05T10:23:49.000+0000","updated":"2006-10-05T10:23:49.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938459","id":"12938459","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"Hi Rob,\n\nYes looks like you got it. Thanks a lot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-10-20T22:00:46.000+0000","updated":"2006-10-20T22:00:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481732/comment/12938613","id":"12938613","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"body":"this seems to be fixed","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vpesochi","name":"vpesochi","key":"vpesochi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Pesochinskiy","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-15T17:54:16.000+0000","updated":"2006-11-15T17:54:16.000+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-876/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0tsr3:"}}