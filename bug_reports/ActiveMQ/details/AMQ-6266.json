{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12963001","self":"https://issues.apache.org/jira/rest/api/2/issue/12963001","key":"AMQ-6266","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-06-14T02:47:34.287+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jun 21 22:03:51 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6266/watchers","watchCount":6,"isWatching":false},"created":"2016-04-27T12:11:31.447+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334774","id":"12334774","name":"5.13.2","archived":false,"released":true,"releaseDate":"2016-03-04"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-06-21T22:03:51.491+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Sending messages via the REST API via a curl leaks ActiveMQ connections.\n\nAny curl such as the one in the ActiveMQ web site creates the problem:\n\ncurl -u system:manager -d \"body=message\" http://localhost:8161/demo/message/TEST?type=queue\n\nThe number of connections can be checked via the Jolokia or the JConsole interface.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"REST API and CURL leaking connections","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Broker 5.13.2 running on MAC or PC\ncurl client on MAC and LINUX","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15328837","id":"15328837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"body":"Hi\n\nMay I know what is the status for this one?\nI want to contribute.\n\nPlease let me kniow.\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-14T02:47:34.287+0000","updated":"2016-06-14T02:47:34.287+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15330232","id":"15330232","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This issue is awaiting someone knowledgeable to work on it and provide a patch and some tests to validate.  If you'd like to contribute we welcome your efforts. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-06-14T19:24:03.409+0000","updated":"2016-06-14T19:24:03.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15330490","id":"15330490","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"body":"Thank you for your answer.\nYes, I would like to contribute.\nPlease let me know in which version should this be fixed?\n5.13.2?\n\nThanks ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-14T20:16:37.288+0000","updated":"2016-06-14T20:16:37.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15330669","id":"15330669","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You should always work off of the master branch, then once fixed we might backport the change to a 5.13.x branch if any additional releases go out there and the change isn't to risky. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-06-14T21:35:27.821+0000","updated":"2016-06-14T21:35:27.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15331306","id":"15331306","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"body":"The problem happened on version 5.13.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-15T07:39:27.880+0000","updated":"2016-06-15T07:39:27.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15334874","id":"15334874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"body":"[UNABLE TO REPRODUCE]\nHi\n\nI have tried with latest source code (June-14-2016) and could not reproduce.\nI tried with:\n- offline consumer and sent 30 messages using CURL using REST\n- online consumer and sent 20 messages using CURL using REST\n\nmy curl I tested with:\ncurl -u admin:admin -d \"body=message\" http://andromeda:8161/api/message/TEST.FOO?type=queue\n\non console under connections I was able to see only the consumer connection.\nand after closing the consumer connection the connection was gone on console as well. \n\n@Arnaud Marchand could you please:\n1.  provide more details, was the consumer running at the moment the messages were sent\n2. could you please provide your code for consumer\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-16T22:50:08.236+0000","updated":"2016-06-16T22:50:08.236+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15335513","id":"15335513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djj0809","name":"djj0809","key":"djj0809","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ding Jinqiang","active":true,"timeZone":"Asia/Shanghai"},"body":"It seems the same with my issue #AMQ-6233, actually you can add clientId=XXX to fix it, and you should unsubscribe your client when done","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djj0809","name":"djj0809","key":"djj0809","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ding Jinqiang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-06-17T06:27:26.922+0000","updated":"2016-06-17T06:27:26.922+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15335568","id":"15335568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"body":"That's easy to reproduce on an UNIX box with something like that:\n\nfor i in `seq 1 1000`;  do curl -u admin:admin -d \"body=message\" http://127.0.0.1:8161/api/message/TEST.FOO?type=queue; done\n\n===> Result:\n\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n<title>Error 500 Server Error</title>\n</head>\n<body><h2>HTTP ERROR 500</h2>\n<p>Problem accessing /api/message/TEST.FOO. Reason:\n<pre>    Server Error</pre></p><h3>Caused by:</h3><pre>java.lang.OutOfMemoryError: unable to create new native thread\n\tat java.lang.Thread.start0(Native Method)\n\tat java.lang.Thread.start(Thread.java:713)\n\tat java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:949)\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1371)\n\tat org.apache.activemq.thread.PooledTaskRunner.wakeup(PooledTaskRunner.java:83)\n\tat org.apache.activemq.transport.vm.VMTransport.wakeup(VMTransport.java:246)\n\n\nOn my side, it crashes after 3000 CURLs.\n\nhttp://www.pi2s.be/JIRA/Screen%20Shot%20AMQJIRA1.jpg","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-17T07:07:11.958+0000","updated":"2016-06-17T07:07:44.903+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15338895","id":"15338895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"body":"So here we have an Out of memory issue, because of failing to create a native thread.\n\nPlease \n1. consider to increase the maximum of JVM memory (xmx option)\n\n2. refer to\nReducing Threads and/or Reducing Memory Consumption section at following link\nhttp://activemq.apache.org/scaling-queues.html\n\nAlso it is interesting to look at this link \nhttps://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread\npay attention comparison between  mac and linux max thread count\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-20T02:09:38.713+0000","updated":"2016-06-20T02:09:38.713+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15341532","id":"15341532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"body":"[~tabish121] I think this issue should be closed as a environment problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-21T10:38:33.509+0000","updated":"2016-06-21T10:38:33.509+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15341799","id":"15341799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"body":"I don't totally agree. Probably adding a default client ID when there is none specified could be an acceptable fix. But not doing anything just let all the ActiveMQ servers unsecured. A DOS attack written in less than 3 lines of shell script crashes the full system in less than 10 seconds.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snuids","name":"snuids","key":"snuids","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arnaud Marchand","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-21T13:52:54.205+0000","updated":"2016-06-21T13:53:18.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12963001/comment/15342847","id":"15342847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"body":"[~a.marchand@progeri.com] please provide:\n1. the platform - are you running on mac?\n2. what is the amount of RAM?\n3. can you monitor what is thread count and memory usage for activemq before crash?\n     please use\n     cat /proc/<PROCESS_PID>/status\n\nIn my case max thread count was around 450,\neven if I send 6000 messages, while message consumer is not running.\n\nLet's keep in mind the error is out of memory while creating native thread.\n\n4. is your message consumer running?\ndoes it consume the messages?\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=v_haruty","name":"v_haruty","key":"v_haruty","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Viktorya Harutyunyan","active":true,"timeZone":"Etc/UTC"},"created":"2016-06-21T22:03:51.491+0000","updated":"2016-06-21T22:03:51.491+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6266/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2wtjj:"}}