{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12481622","self":"https://issues.apache.org/jira/rest/api/2/issue/12481622","key":"AMQ-621","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315608","id":"12315608","description":"","name":"4.0 RC2","archived":false,"released":true,"releaseDate":"2006-04-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-03-09T12:56:05.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Mar 17 11:29:13 UTC 2006","customfield_12310420":"49255","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_731443000_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2006-03-17T11:29:13.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-621/watchers","watchCount":0,"isWatching":false},"created":"2006-03-09T00:18:30.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315607","id":"12315607","description":"Milestone 4","name":"4.0 M4","archived":false,"released":true,"releaseDate":"2006-01-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-03-17T11:29:13.000+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313896","id":"12313896","name":"JMS client"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"setup: (1) activemq up running with ssl\n            (2) JMS client (application) was compiled purely used sun solaris environment with jdk1.5.0_03 and jms1.1.jar. Debugging mode was turned on.\n            (3) use jndi.properties file provided at activemq.\n\nExecution:\n         Producer simply sent 1000 text messages with 46 characters each on a queue.\n         Consumer use synchrouse receive mode: receive()\n\nObservation:\n         (1) Both producer and receiver successfully handsaked with activemq (by looking into logs about ssl certification verification and negociation.\n         (2) Producer continuously pushed messages into queue and consumer received messages.\n         (3) After several hundred message delivered and received, consumer got null pointer exception as below:\n       \n         ....\n         main, WRITE: TLSv1 Application Data, length = 46\n         Client received: No. 450:Sever message: abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\n         Socket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, READ: TLSv1 Application Data, length = 161\n         main, WRITE: TLSv1 Application Data, length = 46\n         Client received: No. 451:Sever message: abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\n         Socket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, READ: TLSv1 Application Data, length = 161\n         Mar 8, 2006 2:38:10 PM org.apache.activemq.ActiveMQConnection onAsyncException\n         WARNING: Async exception with no exception listener: java.io.IOException: Unexpected Error: java.lang.NullPointerException\n        java.io.IOException: Unexpected Error: java.lang.NullPointerException\n        at org.activeio.adapter.SyncToAsyncChannel.run(SyncToAsyncChannel.java:161)\n        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:643)\n        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:668)\n        at java.lang.Thread.run(Thread.java:595)\nCaused by: java.lang.NullPointerException\n        at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:146)\n        at org.activeio.command.AsyncChannelToAsyncCommandChannel$1.onPacket(AsyncChannelToAsyncCommandChannel.java:69)\n        at org.apache.activemq.transport.activeio.PacketAggregatingAsyncChannel.onPacket(PacketAggregatingAsyncChannel.java:92)\n        at org.activeio.FilterAsyncChannel.onPacket(FilterAsyncChannel.java:87)\n        at org.apache.activemq.transport.activeio.ActivityMonitor.onPacket(ActivityMonitor.java:42)\n        at org.activeio.adapter.SyncToAsyncChannel.run(SyncToAsyncChannel.java:155)\n        ... 3 more\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, called close()\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, called closeInternal(true)\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, SEND TLSv1 ALERT:  warning, description = close_notify\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, WRITE: TLSv1 Alert, length = 18\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, called close()\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, called closeInternal(true)\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, called close()\nSocket Connection: /127.0.0.1:55693 -> localhost/127.0.0.1:61618, called closeInternal(true)\n\n \n\n\n\n\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"254722","customfield_12312823":null,"summary":"Consumer get java.lang.nullPointerException","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wangbh","name":"wangbh","key":"wangbh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binhua Wang","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wangbh","name":"wangbh","key":"wangbh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binhua Wang","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Solaris.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481622/comment/12937597","id":"12937597","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Can you try using the latest snapshot build please?\n\nhttp://activemq.org/Download\n\nonly we've fixed numerous bugs lately which tend to appear after sending thousands of messages\n\nhttp://jira.activemq.org/jira/browse/AMQ-525\nhttp://jira.activemq.org/jira/browse/AMQ-617","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-03-09T12:56:05.000+0000","updated":"2006-03-09T12:56:05.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481622/comment/12937481","id":"12937481","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"I think this is now fixed - please let us know if you still have problems and we can reopen it again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-03-17T11:29:13.000+0000","updated":"2006-03-17T11:29:13.000+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-621/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i17zi7:"}}