{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12515528","self":"https://issues.apache.org/jira/rest/api/2/issue/12515528","key":"AMQ-3418","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2012-11-29T21:26:40.262+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 29 21:26:40 UTC 2012","customfield_12310420":"66782","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_42451086909_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-11-29T21:26:40.249+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3418/watchers","watchCount":4,"isWatching":false},"created":"2011-07-27T13:28:33.578+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315626","id":"12315626","description":"","name":"5.5.0","archived":false,"released":true,"releaseDate":"2011-04-01"}],"issuelinks":[{"id":"12341276","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12341276","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"outwardIssue":{"id":"12483659","key":"AMQ-2152","self":"https://issues.apache.org/jira/rest/api/2/issue/12483659","fields":{"summary":"Slave Exception Channel was inactive for too long","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-11-29T21:26:40.485+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I have a master/slave setup on the same machine. Clients (consumers) are connecting to the master and they are all up and running for two days. There is no message produced and consumed during the period and then i will get the following:\n2009-03-08 03:16:43,032 [$Worker@1f4577d] ERROR TransportConnection            - Slave has exception: Channel was inactive for too long: /127.0.0.1:32803 shutting down master now\n.\norg.apache.activemq.transport.InactivityIOException: Channel was inactive for too long: /127.0.0.1:32803\n        at org.apache.activemq.transport.InactivityMonitor$5.run(InactivityMonitor.java:164)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\n2009-03-08 03:16:43,032 [0.0.0.245:33220] ERROR MasterBroker                   - Slave Failed\norg.apache.activemq.transport.InactivityIOException: Channel was inactive for too long: /127.0.0.1:32803\n        at org.apache.activemq.transport.InactivityMonitor$5.run(InactivityMonitor.java:164)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\n2009-03-08 03:16:43,044 [0.0.0.245:33236] ERROR MasterBroker                   - Slave Failed\norg.apache.activemq.transport.InactivityIOException: Channel was inactive for too long: /127.0.0.1:32803\n        at org.apache.activemq.transport.InactivityMonitor$5.run(InactivityMonitor.java:164)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12487974","id":"12487974","filename":"masterbroker.log.gz","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"created":"2011-07-27T13:32:53.185+0000","size":177206,"mimeType":"application/x-gzip","content":"https://issues.apache.org/jira/secure/attachment/12487974/masterbroker.log.gz"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12487975","id":"12487975","filename":"slavebroker.log.gz","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"created":"2011-07-27T13:33:17.272+0000","size":82777,"mimeType":"application/x-gzip","content":"https://issues.apache.org/jira/secure/attachment/12487975/slavebroker.log.gz"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"81475","customfield_12312823":null,"summary":"CLONE - Slave Exception Channel was inactive for too long","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"CentOS 5.5\nActivemq 5.5.0","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515528/comment/13071715","id":"13071715","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"body":"I am seeing the same thing.  I have a master-slave pair and almost as frequently as once a day I see a message like this in the master broker's log, then the master broker goes down, leaving the slave up.\n\n2011-07-26 22:41:10,810 | ERROR | Slave Failed | org.apache.activemq.broker.ft.MasterBroker | ActiveMQ NIO Worker\norg.apache.activemq.transport.InactivityIOException: Channel was inactive for too (>30000) long: /172.16.10.123:33644\n\nI have tried setting timeout like this in the slave's activemq xml config, but the error above, referencing 30k milli timout still happens, as if this setting has no effect.\n\ntcp://masterbroker:61616?wireFormat.maxInactivityDuration=150000\n\nI am attaching both the master and slave logs with DEBUG turned on.  I am actually running 5.5.0, not 5.2.0 as the original issue is written.  This is also running on CentOS 5.5","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"created":"2011-07-27T13:29:09.851+0000","updated":"2011-07-27T13:37:11.852+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515528/comment/13071718","id":"13071718","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"body":"master broker full DEBUG log","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"created":"2011-07-27T13:32:53.216+0000","updated":"2011-07-27T13:32:53.216+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515528/comment/13071720","id":"13071720","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"body":"slave broker full DEBUG log","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adphillips","name":"adphillips","key":"adphillips","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Phillips","active":true,"timeZone":"America/New_York"},"created":"2011-07-27T13:33:17.295+0000","updated":"2011-07-27T13:33:17.295+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515528/comment/13506825","id":"13506825","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Pure master/slave removed in upcoming v5.8.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-11-29T21:26:40.262+0000","updated":"2012-11-29T21:26:40.262+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3418/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0eakn:"}}