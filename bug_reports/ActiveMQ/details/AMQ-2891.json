{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482391","self":"https://issues.apache.org/jira/rest/api/2/issue/12482391","key":"AMQ-2891","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2010-09-02T11:35:53.662+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Dec 09 20:37:02 UTC 2011","customfield_12310420":"14802","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_143078285_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-09-02T11:37:01.233+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2891/watchers","watchCount":2,"isWatching":false},"created":"2010-08-31T19:52:22.948+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315623","id":"12315623","description":"version 5 feature complete","name":"5.4.0","archived":false,"released":true,"releaseDate":"2010-08-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-09T20:37:02.741+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"ActiveMQ takes around five minutes to start with KahaDb with more than 10000 messages. All messages are persistent queue. \nWith 500,000 persistent messsages, ittook around 20 minutes to start.\n\nSee the five minutes time difference between lines:\n\n2010-08-31 12:55:19,286 | INFO | PListStore:C:\\ActiveMQ\\apache-activemq-5.4.0\\bin\\win32\\..\\..\\data\\localhost\\tmp_storage initialized | org.apache.activemq.store.kahadb.plist.PListStore | WrapperSimpleAppMain\n2010-08-31 13:03:56,983 | INFO | Listening for connections at: nio://S90356004630988:61616 | org.apache.activemq.transport.TransportServerThreadSupport | WrapperSimpleAppMain\n\nFrom activemq.log with 100,000 messages\n\n2010-08-31 12:55:10,436 | INFO | JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi | org.apache.activemq.broker.jmx.ManagementContext | JMX connector\n2010-08-31 12:55:11,294 | INFO | KahaDB is version 2 | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2010-08-31 12:55:11,435 | INFO | Recovering from the journal ... | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2010-08-31 12:55:11,435 | INFO | Recovery replayed 1 operations from the journal in 0.063 seconds. | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2010-08-31 12:55:12,090 | INFO | ActiveMQ 5.4.0 JMS Message Broker (localhost) is starting | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2010-08-31 12:55:12,090 | INFO | For help or more information please see: http://activemq.apache.org/ | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2010-08-31 12:55:12,278 | INFO | Scheduler using directory: activemq-data\\scheduler | org.apache.activemq.broker.scheduler.SchedulerBroker | WrapperSimpleAppMain\n2010-08-31 12:55:19,286 | INFO | PListStore:C:\\ActiveMQ\\apache-activemq-5.4.0\\bin\\win32\\..\\..\\data\\localhost\\tmp_storage initialized | org.apache.activemq.store.kahadb.plist.PListStore | WrapperSimpleAppMain\n2010-08-31 13:03:56,983 | INFO | Listening for connections at: nio://S90356004630988:61616 | org.apache.activemq.transport.TransportServerThreadSupport | WrapperSimpleAppMain\n2010-08-31 13:03:56,999 | INFO | Connector nio Started | org.apache.activemq.broker.TransportConnector | WrapperSimpleAppMain\n2010-08-31 13:03:57,045 | INFO | ActiveMQ JMS Message Broker (localhost, ID:S90356004630988-3777-1283273712137-0:0) started | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2010-08-31 13:03:57,639 | INFO | Logging to org.slf4j.impl.JCLLoggerAdapter(org.eclipse.jetty.util.log) via org.eclipse.jetty.util.log.Slf4jLog | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 13:03:57,639 | INFO | jetty-7.0.1.v20091125 | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 13:03:58,451 | INFO | ActiveMQ WebConsole initialized. | org.apache.activemq.web.WebConsoleStarter | WrapperSimpleAppMain\n2010-08-31 13:03:58,857 | INFO | Initializing Spring FrameworkServlet 'dispatcher' | /admin | WrapperSimpleAppMain\n2010-08-31 13:03:59,341 | INFO | ActiveMQ Console at http://0.0.0.0:8161/admin | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 13:04:00,091 | INFO | Initializing Spring root WebApplicationContext | /camel | WrapperSimpleAppMain\n2010-08-31 13:04:02,668 | INFO | Connector vm://localhost Started | org.apache.activemq.broker.TransportConnector | WrapperSimpleAppMain\n2010-08-31 13:04:04,526 | INFO | Camel Console at http://0.0.0.0:8161/camel | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 13:04:04,589 | INFO | ActiveMQ Web Demos at http://0.0.0.0:8161/demo | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 13:04:04,651 | INFO | RESTful file access application at http://0.0.0.0:8161/fileserver | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 13:04:04,698 | INFO | Started SelectChannelConnector@0.0.0.0:8161 | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2\n\nWith 500,000 messages, AMQ took 20 minutes to start.\n2010-08-31 15:24:31,178 | INFO  | JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi | org.apache.activemq.broker.jmx.ManagementContext | JMX connector\n2010-08-31 15:24:31,975 | INFO  | KahaDB is version 2 | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2010-08-31 15:24:32,194 | INFO  | Recovering from the journal ... | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2010-08-31 15:24:32,194 | INFO  | Recovery replayed 1 operations from the journal in 0.047 seconds. | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2010-08-31 15:24:35,365 | INFO  | ActiveMQ 5.4.0 JMS Message Broker (localhost) is starting | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2010-08-31 15:24:35,365 | INFO  | For help or more information please see: http://activemq.apache.org/ | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2010-08-31 15:24:35,552 | INFO  | Scheduler using directory: activemq-data\\scheduler | org.apache.activemq.broker.scheduler.SchedulerBroker | WrapperSimpleAppMain\n2010-08-31 15:24:48,034 | INFO  | PListStore:C:\\ActiveMQ\\apache-activemq-5.4.0\\bin\\win32\\..\\..\\data\\localhost\\tmp_storage initialized | org.apache.activemq.store.kahadb.plist.PListStore | WrapperSimpleAppMain\n2010-08-31 15:45:09,767 | INFO  | Listening for connections at: nio://S90356004630988:61616 | org.apache.activemq.transport.TransportServerThreadSupport | WrapperSimpleAppMain\n2010-08-31 15:45:09,767 | INFO  | Connector nio Started | org.apache.activemq.broker.TransportConnector | WrapperSimpleAppMain\n2010-08-31 15:45:09,876 | INFO  | ActiveMQ JMS Message Broker (localhost, ID:S90356004630988-3029-1283282675427-0:0) started | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2010-08-31 15:45:10,923 | INFO  | Logging to org.slf4j.impl.JCLLoggerAdapter(org.eclipse.jetty.util.log) via org.eclipse.jetty.util.log.Slf4jLog | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 15:45:10,923 | INFO  | jetty-7.0.1.v20091125 | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 15:45:10,970 | INFO  | Slow KahaDB access: cleanup took 1047 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\n2010-08-31 15:45:11,829 | INFO  | ActiveMQ WebConsole initialized. | org.apache.activemq.web.WebConsoleStarter | WrapperSimpleAppMain\n2010-08-31 15:45:12,235 | INFO  | Initializing Spring FrameworkServlet 'dispatcher' | /admin | WrapperSimpleAppMain\n2010-08-31 15:45:12,719 | INFO  | ActiveMQ Console at http://0.0.0.0:8161/admin | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 15:45:13,422 | INFO  | Initializing Spring root WebApplicationContext | /camel | WrapperSimpleAppMain\n2010-08-31 15:45:16,390 | INFO  | Connector vm://localhost Started | org.apache.activemq.broker.TransportConnector | WrapperSimpleAppMain\n2010-08-31 15:45:18,468 | INFO  | Camel Console at http://0.0.0.0:8161/camel | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 15:45:18,561 | INFO  | ActiveMQ Web Demos at http://0.0.0.0:8161/demo | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 15:45:18,624 | INFO  | RESTful file access application at http://0.0.0.0:8161/fileserver | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n2010-08-31 15:45:18,686 | INFO  | Started SelectChannelConnector@0.0.0.0:8161 | org.eclipse.jetty.util.log | WrapperSimpleAppMain\n\nHere is the config:\n\n    <broker xmlns=\"http://activemq.apache.org/schema/core\" brokerName=\"localhost\" dataDirectory=\"${activemq.base}/data\" persistent=\"true\" systemExitOnShutdown=\"true\" useShutdownHook=\"false\" advisorySupport=\"false\" useJmx=\"true\">\n \n        <!--\n\t\t\tFor better performances use VM cursor and small memory limit.\n\t\t\tFor more information, see:\n            \n            http://activemq.apache.org/message-cursors.html\n            \n            Also, if your producer is \"hanging\", it's probably due to producer flow control.\n            For more information, see:\n            http://activemq.apache.org/producer-flow-control.html\n        -->\n              \n        <destinationPolicy>\n            <policyMap>\n              <policyEntries>\n                <policyEntry topic=\">\" producerFlowControl=\"false\" optimizedDispatch=\"true\" memoryLimit=\"128mb\">\n                  <pendingSubscriberPolicy>\n                    <fileCursor />\n                  </pendingSubscriberPolicy>\n                </policyEntry>\n                <policyEntry queue=\">\" producerFlowControl=\"false\" optimizedDispatch=\"true\" memoryLimit=\"128mb\">\n                  <!-- Use VM cursor for better latency\n                       For more information, see:\n                       \n                       http://activemq.apache.org/message-cursors.html\n                   -->    \n                  <pendingQueuePolicy>\n                    <fileQueueCursor/>\n                  </pendingQueuePolicy>\n                  \n                </policyEntry>\n              </policyEntries>\n            </policyMap>\n        </destinationPolicy> \n \n        \n        <!-- \n            The managementContext is used to configure how ActiveMQ is exposed in \n            JMX. By default, ActiveMQ uses the MBean server that is started by \n            the JVM. For more information, see: \n            \n            http://activemq.apache.org/jmx.html \n        -->\n        <managementContext>\n            <managementContext createConnector=\"true\"/>\n        </managementContext>\n\n        <!-- \n            Configure message persistence for the broker. The default persistence\n            mechanism is the KahaDB store (identified by the kahaDB tag). \n            For more information, see: \n            \n            http://activemq.apache.org/persistence.html \n        -->\n        <persistenceAdapter>\n            <kahaDB directory=\"${activemq.base}/data/kahadb\" enableIndexWriteAsync=\"true\" journalMaxFileLength=\"64mb\"  indexWriteBatchSize=\"10000\" indexCacheSize=\"10000\"/>\n        </persistenceAdapter>\n        \n        \n          <!--\n            The systemUsage controls the maximum amount of space the broker will \n            use before slowing down producers. For more information, see:\n            \n            http://activemq.apache.org/producer-flow-control.html\n             \n        <systemUsage>\n            <systemUsage>\n                <memoryUsage>\n                    <memoryUsage limit=\"600 mb\"/>\n                </memoryUsage>\n                <storeUsage>\n                    <storeUsage limit=\"10 gb\"/>\n                </storeUsage>\n                <tempUsage>\n                    <tempUsage limit=\"1 gb\"/>\n                </tempUsage>\n            </systemUsage>\n        </systemUsage>\n\t\t-->\n\t\t  \n        <!-- \n            The transport connectors expose ActiveMQ over a given protocol to\n            clients and other brokers. For more information, see: \n            \n            http://activemq.apache.org/configuring-transports.html \n        -->\n        <transportConnectors>\n            <transportConnector name=\"nio\" uri=\"nio://0.0.0.0:61616\"/>\n        </transportConnectors>\n\n\n    </broker>\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"63759","customfield_12312823":null,"summary":"ActiveMQ takes longer to start with KahaDb and more than 10000 messages","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmat","name":"dmat","key":"dmat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dinny Mathew","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmat","name":"dmat","key":"dmat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dinny Mathew","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows XP","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/12942822","id":"12942822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"This behavior is the result of the fileQueueCursor recovery. It caches messages in memory and subsequently on disk when the memory limit is exhausted. On a restart, it wants to refill its memory cache which requires a replay of all messages through that cache and a refill of the temp store. This is not optimal for a deep queue but it means that subsequent message consumption will come from memory (the cache).\n\nThe default store based cursor has a similar cache and batch mechanism to load from the store but it does not reload the cache on startup, the cache is disabled till the store is depleted. For deep queues, this will provide a faster restart time, but consumers will be batching from the store rather than reading from the cache. With kahaDB, which is fast, this should not be   problem. One config item that may help is the default maxPageSize attribute, configurable through a PolicyEntry, this defaults to 200, increasing to 1000 may give you a performance impact for a deep queue if you are doing simple load and consume tests.\n\nTo use the default store cursor for queues, remove the \"<pendingQueuePoicy>\" entry or replace \"fileQueueCursor\" with \" storeCursor\".\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2010-09-02T11:35:53.662+0000","updated":"2010-09-02T11:35:53.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/12942832","id":"12942832","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"resolving, working as designed, see explanation in earlier comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2010-09-02T11:37:01.210+0000","updated":"2010-09-02T11:38:04.507+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/12942823","id":"12942823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"small update, following some sensible user comment, thanks Fredrik, I added some progress notification to the log when cursor recovery is in progress, with 500000 messages you will see something like:{code}2010-09-03 10:16:48,458 [main  ] INFO  Queue - cursor for queue://TEST.FOO has recovered 50000 messages. 10% complete\n2010-09-03 10:17:02,057 [main  ] INFO  Queue - cursor for queue://TEST.FOO has recovered 100000 messages. 20% complete\n2010-09-03 10:17:37,641 [main  ] INFO  Queue - cursor for queue://TEST.FOO has recovered 150000 messages. 30% complete{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2010-09-03T09:24:49.542+0000","updated":"2010-09-03T09:24:49.542+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/12942842","id":"12942842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmat","name":"dmat","key":"dmat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dinny Mathew","active":true,"timeZone":"Etc/UTC"},"body":"Changing to storeCursor resolved this issue. Tested with million queue messages and  no delay in startup. With KahaDb, I haven't seen any performance change with storeCursor. \nThanks for the quick resolution. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmat","name":"dmat","key":"dmat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dinny Mathew","active":true,"timeZone":"Etc/UTC"},"created":"2010-09-03T13:48:40.671+0000","updated":"2010-09-03T13:48:40.671+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/13165673","id":"13165673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"body":"I am facing the same issue but the recommended solution does not work.\n\nI am embedding activeMQ in a process where producer and consumer are in the same process.\nThe consumers can be turned off for long periods of time.\n\nWhen i re-start the process which has about 1.1 million persistent message( KahaDB directory around 14GB), it takes\n479 seconds to bootup with fileQueueCursor and 113 seconds to bootup with storeCursor.\n\n\n\nAny ideas on how to speed up the bootup would be greatly appreciated!!\n\nVersion: ActiveMQ 5.5.1 \nOS: CentOS 5.6\nH/W: 24 core machine with 12 GB ram\n\ncode snippet\n{\n                BrokerService broker = new BrokerService();\n\t\tbrokerName = \"somename\";\n\t\tbroker.setBrokerName(brokerName);\n\t\tbroker.setDataDirectory(\"/something\");\n\t\tbrokerUrl = \"vm://\" + brokerName + \"?marshal=false&broker.persistent=true\";\n\t\tbroker.addConnector(brokerUrl);\n\t\t\n\t\tSystemUsage sm = broker.getSystemUsage();\n\t\tsm.setSendFailIfNoSpace(true);\n\t\t\n\t\t// set broker memory and disk limits\n\t\tif( memoryLimit > 0 )\n\t\t\tsm.getMemoryUsage().setLimit(memoryLimit);\n\t\t\n\t\tif( storageLimit > 0 )\n\t\t\tsm.getStoreUsage().setLimit(storageLimit);\n\t\t\n\t\tif( tempStorageLimit > 0 )\n\t\t\tsm.getTempUsage().setLimit(tempStorageLimit);\n\n\t\t// kahaDB settings for data recovery in case of corruption\n\t\tKahaDBPersistenceAdapter adapter = (KahaDBPersistenceAdapter) broker\n\t\t\t\t.getPersistenceAdapter();\n\t\tadapter.setCheckForCorruptJournalFiles(true);\n\t\tadapter.setChecksumJournalFiles(true);\n\t\tadapter.setIgnoreMissingJournalfiles(true);\n\t\t\n\t\tPolicyMap policyMap = new PolicyMap();\n   \t    PolicyEntry policy = new PolicyEntry();\n\t    StorePendingQueueMessageStoragePolicy storePolicy = new StorePendingQueueMessageStoragePolicy();\n\t    policy.setPendingQueuePolicy(storePolicy);\n\t    policy.setProducerFlowControl(false);\n\t    \n\t    policyMap.setDefaultEntry(policy);\n\t    broker.setDestinationPolicy(policyMap);\n\t        \n\t\t// start the broker\n\t\tbroker.start();\n\t\t\n\nthanks,\nRaghav","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-08T23:27:29.457+0000","updated":"2011-12-08T23:27:29.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/13166111","id":"13166111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"@Raghav How do you stop the broker? If the broker does not do a clean shutdown it will initiate recovery on restart which involves replaying the journal from the last checkpoint which can be slow with large volumes. This should be the exception (jvm abort) and not the norm. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-09T11:52:27.236+0000","updated":"2011-12-09T11:52:27.236+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/13166421","id":"13166421","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"body":"@Gary \n\nThanks for your reply. I have found another issue....\n\nLet's consider the case where the JVM process crashed.\nNow when the broker restarts KahaDB is not able to load the messages and reports out of memory error.\n\nThe KahaDB database size on disk is 34GB and has about 3 million records.\n\nI set the broker memory limit to 2GB but still it crashes. Is it trying to load the entire 34 GB in memory??\n\nStack Trace\n-----------\nexception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n        at org.apache.activemq.protobuf.BaseMessage.mergeFramed(BaseMessage.java:228)\n        at org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:825)\n        at org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:955)\n        at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$4.execute(KahaDBStore.java:471)\n        at org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n        at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recover(KahaDBStore.java:464)\n        at org.apache.activemq.store.ProxyMessageStore.recover(ProxyMessageStore.java:52)\n        at org.apache.activemq.broker.region.Queue.initialize(Queue.java:270)\n        at org.apache.activemq.broker.region.DestinationFactoryImpl.createDestination(DestinationFactoryImpl.java:86)\n        at org.apache.activemq.broker.region.AbstractRegion.createDestination(AbstractRegion.java:473)\n        at org.apache.activemq.broker.jmx.ManagedQueueRegion.createDestination(ManagedQueueRegion.java:56)\n        at org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:123)\n        at org.apache.activemq.broker.region.RegionBroker.addDestination(RegionBroker.java:298)\n        at org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:145)\n        at org.apache.activemq.advisory.AdvisoryBroker.addDestination(AdvisoryBroker.java:145)\n        at org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:145)\n        at org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:145)\n        at org.apache.activemq.broker.MutableBrokerFilter.addDestination(MutableBrokerFilter.java:151)\n        at org.apache.activemq.broker.region.AbstractRegion.start(AbstractRegion.java:95)\n        at org.apache.activemq.broker.region.RegionBroker.start(RegionBroker.java:198)\n        at org.apache.activemq.broker.jmx.ManagedRegionBroker.start(ManagedRegionBroker.java:106)\n        at org.apache.activemq.broker.BrokerFilter.start(BrokerFilter.java:157)\n        at org.apache.activemq.broker.BrokerFilter.start(BrokerFilter.java:157)\n        at org.apache.activemq.broker.TransactionBroker.start(TransactionBroker.java:109)\n        at org.apache.activemq.broker.BrokerService$3.start(BrokerService.java:1803)\n        at org.apache.activemq.broker.BrokerService.start(BrokerService.java:497)\n\n\nLog messages from ActiveMQ broker\n---------------------------------\n[2011-12-09 10:26:29.339]  DEBUG: Main:memory: usage change from: 24822% of available memory, to: 24823% of available memory\n[2011-12-09 10:26:30.322]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 24823% of available memory, to: 24824% of available memory\n[2011-12-09 10:26:30.323]  DEBUG: Main:memory: usage change from: 24823% of available memory, to: 24824% of available memory\n[2011-12-09 10:26:31.714]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 24824% of available memory, to: 24825% of available memory\n[2011-12-09 10:26:31.715]  DEBUG: Main:memory: usage change from: 24824% of available memory, to: 24825% of available memory\n[2011-12-09 10:26:32.696]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 24825% of available memory, to: 24826% of available memory\n[2011-12-09 10:26:32.696]  DEBUG: Main:memory: usage change from: 24825% of available memory, to: 24826% of available memory\n[2011-12-09 10:26:34.657]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 24826% of available memory, to: 24827% of available memory\n[2011-12-09 10:26:34.657]  DEBUG: Main:memory: usage change from: 24826% of available memory, to: 24827% of available memory\n\nthanks,\nRaghav","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-09T18:40:29.596+0000","updated":"2011-12-09T18:40:29.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/13166463","id":"13166463","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"recovery should not be any more onerous on memory resources than normal operation. What is the JVM heap allowance (-Xmx ?? command line option to the jvm)? Did the JVM process crash with an OOM initially?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-09T19:15:14.475+0000","updated":"2011-12-09T19:15:14.475+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/13166502","id":"13166502","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"body":"@Gary\n\nMy Bad: please ignore the previous comment. \n\ni was playing around with vmQueueCursor and left it in the code base.\nIt was causing the out of memory issue.\n\nRegarding the original issue i reported with KahaDB being slow, i am not shutting down the broker cleanly all the time since i am using the JVM shutdown hook, which does not run if the process is killed externally.\n\nI would add the logic to shut it down cleanly and then re-run the tests to report the number.\n\nThanks for your help.\n\nthanks,\nRaghav\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-09T19:54:42.498+0000","updated":"2011-12-09T19:54:42.498+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482391/comment/13166537","id":"13166537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"body":"@Gary\n\nThe issue where Broker is starting slowly even after shutting it down cleanly is still there..\n\nIt takes 117 seconds to restart the broker with KahaDB size on disk = 14GB with 1 million records.\nSubsequent starts after clean shutdown also take the same amount of time.\n\nWhen i stop the broker i am calling broker.stop();\n\nThoughts??\n\nLog statements\n--------------\n[2011-12-09 12:18:43.372]  DEBUG: binding to broker: stitcher1-UDCServer\n[2011-12-09 12:18:43.461]   INFO: PListStore:/home/rrao/myudc/stitcher1-UDCServer/tmp_storage started\n[2011-12-09 12:18:43.572]  DEBUG: Probably not using JRE 1.4: mx4j.tools.naming.NamingService\n[2011-12-09 12:18:43.574]  DEBUG: Starting JMXConnectorServer...\n[2011-12-09 12:18:43.694]   INFO: Using Persistence Adapter: KahaDBPersistenceAdapter[/home/rrao/myudc/stitcher1-UDCServer/KahaDB]\n[2011-12-09 12:18:43.700]   INFO: JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi\n[2011-12-09 12:20:34.390]   INFO: KahaDB is version 3\n[2011-12-09 12:20:34.391]  DEBUG: loading\n[2011-12-09 12:20:34.400]  DEBUG: loading\n[2011-12-09 12:20:34.400]  DEBUG: loading\n[2011-12-09 12:20:34.400]  DEBUG: loading\n[2011-12-09 12:20:34.409]  DEBUG: loading\n[2011-12-09 12:20:34.409]  DEBUG: loading\n[2011-12-09 12:20:34.464]   INFO: Recovering from the journal ...\n[2011-12-09 12:20:34.464]   INFO: Recovery replayed 1 operations from the journal in 0.055 seconds.\n[2011-12-09 12:20:36.905]   INFO: ActiveMQ null JMS Message Broker (stitcher1-UDCServer) is starting\n[2011-12-09 12:20:36.905]   INFO: For help or more information please see: http://activemq.apache.org/\n[2011-12-09 12:20:37.076]  DEBUG: stitcher1-UDCServer adding destination: queue://queue-AVIR\n[2011-12-09 12:20:40.731]  DEBUG: Checkpoint started.\n[2011-12-09 12:20:40.752]  DEBUG: Checkpoint done.\n[2011-12-09 12:20:40.794]  DEBUG: queue-AVIR toPageIn: 200, Inflight: 0, pagedInMessages.size 0, enqueueCount: 0, dequeueCount: 0\n[2011-12-09 12:20:40.800]  DEBUG: Publishing: vm://stitcher1-UDCServer for broker transport URI: vm://stitcher1-UDCServer?marshal=false&broker.persistent=true\n[2011-12-09 12:20:40.800]  DEBUG: stitcher1-UDCServer adding destination: topic://ActiveMQ.Advisory.Queue\n[2011-12-09 12:20:40.811]  DEBUG: queue-AVIR toPageIn: 200, Inflight: 0, pagedInMessages.size 0, enqueueCount: 0, dequeueCount: 0\n[2011-12-09 12:20:40.814]   INFO: Connector vm://stitcher1-UDCServer?marshal=false&broker.persistent=true Started\n[2011-12-09 12:20:40.830]   INFO: ActiveMQ JMS Message Broker (stitcher1-UDCServer, ID:stitcher1-38687-1323462036935-0:1) started\n[2011-12-09 12:20:40.940]  DEBUG: Setting up new connection id: ID:stitcher1-38687-1323462036935-2:1, address: vm://stitcher1-UDCServer?marshal=false&broker.persistent=true#0\n[2011-12-09 12:20:40.941]  DEBUG: stitcher1-UDCServer adding destination: topic://ActiveMQ.Advisory.Connection\n[2011-12-09 12:20:40.949]  DEBUG: stitcher1-UDCServer adding consumer: ID:stitcher1-38687-1323462036935-2:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic\n[2011-12-09 12:20:41.080]  DEBUG: Setting up new connection id: ID:stitcher1-38687-1323462036935-2:2, address: vm://stitcher1-UDCServer?marshal=false&broker.persistent=true#2\n[2011-12-09 12:20:41.082]  DEBUG: stitcher1-UDCServer adding consumer: ID:stitcher1-38687-1323462036935-2:2:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic\n[2011-12-09 12:20:41.088]  DEBUG: stitcher1-UDCServer adding consumer: ID:stitcher1-38687-1323462036935-2:2:1:1 for destination: queue://queue-AVIR\n[2011-12-09 12:20:41.095]  DEBUG: queue://queue-AVIR add sub: QueueSubscription: consumer=ID:stitcher1-38687-1323462036935-2:2:1:1, destinations=0, dispatched=0, delivered=0, pending=0, dequeues: 0, dispatched: 0, inflight: 0\n[2011-12-09 12:20:41.095]  DEBUG: stitcher1-UDCServer adding destination: topic://ActiveMQ.Advisory.Consumer.Queue.queue-AVIR\n[2011-12-09 12:20:41.096]  DEBUG: queue-AVIR toPageIn: 200, Inflight: 0, pagedInMessages.size 0, enqueueCount: 0, dequeueCount: 0\n[2011-12-09 12:20:41.101]   INFO: started dispatcher [AVIR-1] (com.activevideo.udc.server.dispatcher.DispatcherManager.start:832)\n[2011-12-09 12:20:41.157]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 0% of available memory, to: 1% of available memory\n[2011-12-09 12:20:41.158]  DEBUG: Main:memory: usage change from: 0% of available memory, to: 1% of available memory\n[2011-12-09 12:20:41.169]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 1% of available memory, to: 2% of available memory\n[2011-12-09 12:20:41.169]  DEBUG: Main:memory: usage change from: 1% of available memory, to: 2% of available memory\n[2011-12-09 12:20:41.184]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 2% of available memory, to: 3% of available memory\n[2011-12-09 12:20:41.184]  DEBUG: Main:memory: usage change from: 2% of available memory, to: 3% of available memory\n[2011-12-09 12:20:41.199]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 3% of available memory, to: 4% of available memory\n[2011-12-09 12:20:41.199]  DEBUG: Main:memory: usage change from: 3% of available memory, to: 4% of available memory\n[2011-12-09 12:20:41.213]  DEBUG: Main:memory:queue://queue-AVIR:memory: usage change from: 4% of available memory, to: 5% of available memory\n[2011-12-09 12:20:41.213]  DEBUG: Main:memory: usage change from: 4% of available memory, to: 5% of available memory\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rrao","name":"rrao","key":"rrao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"raghav rao","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-09T20:37:02.684+0000","updated":"2011-12-09T20:37:02.684+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2891/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ba5z:"}}