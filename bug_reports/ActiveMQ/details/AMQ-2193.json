{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483061","self":"https://issues.apache.org/jira/rest/api/2/issue/12483061","key":"AMQ-2193","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-08-04T07:11:15.252+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 04 07:11:15 UTC 2009","customfield_12310420":"75031","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_10699529080_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-08-04T07:11:15.292+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2193/watchers","watchCount":0,"isWatching":false},"created":"2009-04-02T11:05:46.212+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-08-04T07:11:15.267+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"The ActiveMQ Web Console does not work out of box when deployed within the ServiceMix 4 OSGI container. For more details, please have a look at the Fuse Forum post: [http://fusesource.com/forums/thread.jspa?threadID=749&tstart=0]\n\nSo there are two problems here:\n1. The jstl.jar and standard.jar are required to run the JSP page in the container but the two jars are not in the AMQ web console war file \"WEB-INF\\lib\" directory. \n2. The PAX web and web extender bundles that installed by the \"web-core\" and \"web\" features from the servicemix 4 feature list does not support the JSP .tag files (JSP2 spec). See related PAX issues: [http://tinyurl.com/cbztny] and [http://tinyurl.com/ccah47]. As a workaround, people have to manually install the latest SNAPSHOT PAX Web and PAX Web Extender bundles from ops4j snapshot repository [http://repository.ops4j.org/mvn-snapshots/org/ops4j/pax/] to get around the problem.\n\nIn a non-OSGI environment. all classes and tag libs that required from jstl.jar and standard.jar are contained in jsp-api jar and it is loaded when the AMQ is started. Hence, it is no need to put the two jars into the war file to deploy. However, in the ServiceMix 4 container, the two jars will have to be either placed in the war or deployed as individual OSGI bundles. \n\nI did some tests to convert the jstl.jar into OSGI bundle and list all the packages to be exported in it's manifest file, it seems working fine. However, I could not get standard.jar working even after converted it to an OSGI bundle and deployed into the SMX4 container. It looks like eventually I have to put at least the standard.jar into the web console war \"WEB-INF\\lib\" directory to be deployed to the container using PAX \"war\" deployer.\n\nAnother difficulty is that we will have to wait for the OPS4J to release PAX Web and PAX Web extender jars with the latest fix as a non-snapshot release. Otherwise, people will always need to manually download those jars and deployed into the SMX4 container to get around the problem #2.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"255202","customfield_12312823":null,"summary":"The ActiveMQ Web Console does not work out of box when deployed in the ServiceMix 4 container","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joeluo","name":"joeluo","key":"joeluo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Luo","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joeluo","name":"joeluo","key":"joeluo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Luo","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483061/comment/12940925","id":"12940925","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"This was a problem with older versions of PAX.\n\nThere's a guide, that instructs how to integrate web console with the ServiceMix\n\nhttp://activemq.apache.org/osgi-integration.html#OSGiIntegration-Webconsole\n\nMore improvements will be added for new 6.0 console.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2009-08-04T07:11:15.252+0000","updated":"2009-08-04T07:11:15.252+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2193/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i182gv:"}}