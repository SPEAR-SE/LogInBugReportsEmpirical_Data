{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12481866","self":"https://issues.apache.org/jira/rest/api/2/issue/12481866","key":"AMQ-1054","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315614","id":"12315614","description":"","name":"4.1.1","archived":false,"released":true,"releaseDate":"2007-06-08"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-11-20T16:16:07.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Nov 29 08:56:56 UTC 2006","customfield_12310420":"92815","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1058416000_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2006-11-28T15:45:35.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1054/watchers","watchCount":1,"isWatching":false},"created":"2006-11-16T09:45:19.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12334943","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12334943","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12481931","key":"AMQ-1088","self":"https://issues.apache.org/jira/rest/api/2/issue/12481931","fields":{"summary":"TransactionContext class cast exception","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-02-26T20:05:09.078+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"XAResource.recover seems to fail for 4.x of ActiveMQ:\n\nERROR IN RECOVERY [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,152 \n[Lorg.apache.activemq.command.DataStructure; [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,152 \nat: org.apache.activemq.TransactionContext.recover(TransactionContext.java:508) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,152 \nat: com.atomikos.datasource.xa.XATransactionalResource.recover(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,152 \nat: com.atomikos.datasource.xa.XATransactionalResource.endRecovery(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,152 \nat: com.atomikos.icatch.imp.TransactionServiceImp.recover(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,153 \nat: com.atomikos.datasource.xa.XATransactionalResource.setRecoveryService(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,153 \nat: com.atomikos.icatch.system.Configuration.addResource(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,153 \nat: com.atomikos.jms.QueueConnectionFactoryBean.checkSetup(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,153 \nat: com.atomikos.jms.QueueConnectionFactoryBean.createQueueConnection(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,153 \nat: com.atomikos.jms.QueueConnectionFactoryBean.createConnection(Unknown Source) [thread: SimpleAsyncTaskExecutor-3] on: 06-11-16 08:43:35,153 \n\nAlso see http://www.atomikos-support.com/forums/viewtopic.php?t=351 (where I borrowed this stack trace from). We have seen similar things in other applications that tried to use ActiveMQ. I think this is a class cast error in ActiveMQ...\n\nWith 3.1 there is no problem. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12460557","id":"12460557","filename":"pom.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T12:29:15.000+0000","size":3592,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12460557/pom.xml"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"160133","customfield_12312823":null,"summary":"XA recover fails for 4.0.1","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Java, JDK 1.4, Windows, Atomikos TransactionsEssentials for the JTA/XA part","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938651","id":"12938651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Does this happen on 4.0.2 as well?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-20T16:16:07.000+0000","updated":"2006-11-20T16:16:07.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938664","id":"12938664","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"body":"Yes, 4.0.2 too.\n\nBelow is a test program (you need the atomikos jars in the classpath, as well as all activemq jars). Note that the only atomikos dependency is the Xid format.\n\nGuy\n\npackage activemqtest;\n\nimport javax.jms.MessageConsumer;\nimport javax.jms.XAConnection;\nimport javax.jms.XASession;\nimport javax.transaction.xa.XAResource;\nimport javax.transaction.xa.Xid;\n\nimport org.apache.activemq.ActiveMQXAConnectionFactory;\nimport org.apache.activemq.command.ActiveMQQueue;\n\nimport com.atomikos.datasource.xa.DefaultXidFactory;\n\npublic class XATest {\n\t\n\t\n\tpublic static void main ( String[] args ) throws Exception {\n\t\t\n\t\tString url = \"tcp://localhost:61616\";\n\t\tString qName = \"MyQueue\";\n\t\tint timeout = 5;\n\t\t\n\t\tDefaultXidFactory xidFactory = new DefaultXidFactory();\n\t\t\n\t\tActiveMQXAConnectionFactory xacf = new ActiveMQXAConnectionFactory();\n\t\txacf.setBrokerURL ( url );\n\t\t\n\t\tActiveMQQueue queue = new ActiveMQQueue();\n\t\tqueue.setPhysicalName ( qName );\n\t\t\n\t\tXAConnection xaconn = xacf.createXAConnection();\n\t\txaconn.start();\n\t\tXASession session = xaconn.createXASession();\n\t\tXAResource xares = session.getXAResource();\n\t\tMessageConsumer receiver = session.getSession().createConsumer ( queue );\n\t\t\n\t\txares.recover ( XAResource.TMSTARTRSCAN );\n\t\txares.recover ( XAResource.TMNOFLAGS );\n\t\txares.setTransactionTimeout ( timeout );\n\t\txares.isSameRM ( xares );\n\t\t\n\t\tXid xid = xidFactory.createXid ( \"part1\" , \"part2\");\n\t\txares.start ( xid , XAResource.TMNOFLAGS );\n\t\treceiver.receive ( timeout );\n\t\txares.end ( xid , XAResource.TMSUCCESS );\n\t\txares.rollback ( xid );\n\t}\n\n}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-22T06:29:38.000+0000","updated":"2006-11-22T06:29:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938727","id":"12938727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"body":"Hi, \nI am also using atomikos with activemq and facing the same problem, i ran the above test with logging turned on and with level Debug and my log output is as follows.\n\nDEBUG [main] WireFormatNegotiator.start(65) | Sending: WireFormatInfo { version=1, properties={TightEncodingEnabled=true, TcpNoDelayEnabled=true, SizePrefixDisabled=false, StackTraceEnabled=true, MaxInactivityDuration=30000, CacheEnabled=true}, magic=[A,c,t,i,v,e,M,Q]}\nDEBUG [ActiveMQ Transport: tcp://localhost/127.0.0.1:61616] WireFormatNegotiator.onCommand(95) | Received WireFormat: WireFormatInfo { version=1, properties={StackTraceEnabled=true, TightEncodingEnabled=true, TcpNoDelayEnabled=true, SizePrefixDisabled=false, MaxInactivityDuration=30000, CacheEnabled=true}, magic=[A,c,t,i,v,e,M,Q]}\nDEBUG [ActiveMQ Transport: tcp://localhost/127.0.0.1:61616] WireFormatNegotiator.onCommand(102) | tcp://localhost/127.0.0.1:61616 before negotiation: OpenWireFormat{version=1, cacheEnabled=false, stackTraceEnabled=false, tightEncodingEnabled=false, sizePrefixDisabled=false}\nDEBUG [ActiveMQ Transport: tcp://localhost/127.0.0.1:61616] WireFormatNegotiator.onCommand(113) | tcp://localhost/127.0.0.1:61616 after negotiation: OpenWireFormat{version=1, cacheEnabled=true, stackTraceEnabled=true, tightEncodingEnabled=true, sizePrefixDisabled=false}\nDEBUG [main] TransactionContext.recover(503) | Recover: 16777216\n\nand the exception was as follows.\n\nException in thread \"main\" java.lang.ClassCastException: [Lorg.apache.activemq.command.DataStructure;\n\tat org.apache.activemq.TransactionContext.recover(TransactionContext.java:508)\n\tat activemqtest.XATest.main(XATest.java:27)\n\n\nIt seems to me that in case when activemq has nothing to recover as there is no transaction to recover then the code has problems and the offending line is\n\nreturn (XATransactionId[]) receipt.getData();\n\nAnd my ide is on evaluating this line shows me\nreceipt.getData() = org.apache.activemq.command.DataStructure[0]\n\nand it seems to me that this array of DataStructure contains nothing and it is just instantiated without any elements and the class used to instatiate is not the instance of XATransactionId, i think it might work if there is something to recover.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-27T11:32:06.000+0000","updated":"2006-11-27T11:32:06.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938600","id":"12938600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"h3. Guy\n\nI've added your test case to subversion...\n\nhttps://svn.apache.org/repos/asf/incubator/activemq/trunk/activemq-test-atomikos/\n\nUnfortunately it works perfectly against trunk. I'm guessing the test case only fails if you have XA transactions to recover?\n\n\nh3. Shoaib \n\nThanks for the great diagnosis! Yeah that line of code does look suspicious. I've patched the code in trunk to avoid the ClassCastException - though I'm not too sure how to reproduce the bug yet. I wonder could you try trunk and see if it now works for you?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-27T19:11:14.000+0000","updated":"2006-11-27T19:11:14.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938576","id":"12938576","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"body":"Hi James,\n\nThanks but no, we don't have to recover anything in this test case.  \nIt just fails for 4.0.2 and 4.0.1. Not so for 3.1.\n\nAlso see this on the JOMT list:\n\nhttp://mail-archive.objectweb.org/jotm/2006-11/msg00002.html\n\n(second half of the message). The issue also seems to arise with JOTM.\n\nBest,\nGuy\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-27T20:54:02.000+0000","updated":"2006-11-27T20:54:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938695","id":"12938695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"body":"\nJames,\n\nDid you try with JDK 1.4.2? That is the one we used.\n\nGuy\n\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-27T20:58:02.000+0000","updated":"2006-11-27T20:58:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938532","id":"12938532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"FWIW I've tried the same test case against 4.0.2 as well and it works fine. I'm attaching the pom.xml file you can use in the activemq-test-atomikos directory to run the test case against 4.0.2 of ActiveMQ.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T12:28:16.000+0000","updated":"2006-11-28T12:28:16.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12936524","id":"12936524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"This pom.xml replaces the one in activemq-test-atomikos to run against 4.0.2 of ActiveMQ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T12:29:15.000+0000","updated":"2006-11-28T12:29:15.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938623","id":"12938623","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Just to make absolutely sure, I've added the test case into the 4.0 branch too\n\nhttps://svn.apache.org/repos/asf/incubator/activemq/branches/activemq-4.0/activemq-test-atomikos/\n\nand the test case works fine. I wonder if these tests fail on a specific platform only? I wonder could someone try running these test cases on Windows (am an OS X / unix person myself)\n\nBTW I tried Java 1.4.2 with the 4.0 branch (which is basically 4.0.2)\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T13:26:57.000+0000","updated":"2006-11-28T13:26:57.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938545","id":"12938545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"body":"James,\n\nFYI: I am seeing this exactly on OSX/Unix myself.\n\nWhat I can do is upload the whole thing as a ZIP (if you say whereto).\n\nGuy\n\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guypardon","name":"guypardon","key":"guypardon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy Pardon","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T14:06:02.000+0000","updated":"2006-11-28T14:06:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938547","id":"12938547","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"body":"Hi James,\nIt is quite amazing that you cannot reproduce the problem Guy mentioned. Anyhow i am using Sun JDK 1.5.0.9 (most latest update from Sun) on Windows XP (service pack 2) with ActiveMq version 4.0.2 (the latest released version). And the problem comes i do not use linux/unix so not sure about them but on windows it is giving the classcast exception and as i said before there seems bug with activemq code when there is NO Transaction to recover and i am sure though i did not tested that in case ther is any transaction to rceover it well might work. \n\nRegards,\nShoaib","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T14:12:38.000+0000","updated":"2006-11-28T14:12:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12936488","id":"12936488","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Guy\n\nJust to be sure - are you saying the bug doesn't happen for you on OSX/Unix? i.e. its a windows only bug?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T14:29:11.000+0000","updated":"2006-11-28T14:29:11.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938602","id":"12938602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Shoaib - I wonder could you try using ActiveMQ trunk (or tomorrows nightly snapshot build of 4.2-SNAPSHOT) to see if I've fixed the bug for you on your environment? I think I've nailed the ClassCastException you're seeing - am just not yet sure of the magic incantations to reproduce it so I can know for sure its fixed","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T14:30:50.000+0000","updated":"2006-11-28T14:30:50.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938644","id":"12938644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"body":"Hi James,\nIn the meanwhile the url mentioned by Guy Pardon really shows that the exception occurs only when there is no transaction to recover\nhttp://mail-archive.objectweb.org/jotm/2006-11/msg00002.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T14:33:00.000+0000","updated":"2006-11-28T14:33:00.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938650","id":"12938650","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Shoaib\n\nThanks for the link. FWIW the patch Mary gives is similar to the one you suggested and the one I've applied to trunk to fix this issue. So fingers crossed its fixed.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T15:18:23.000+0000","updated":"2006-11-28T15:18:23.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938508","id":"12938508","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"body":"Hi James and Guy,\n\nI ran the above test with ActiveMq 3.1 on Windows Xp service pack 2 on jdk 1.5.0.9 and as mentioned by Guy it worked perfectly well. And the line i mentioned in my previous entry (i.e.  return (ActiveMQXid[]) receipt.getResult(); ) evaulated to as follows\n\nreceipt.getResult()=org.activemq.message.ActiveMQXid[0]\n\nand as you can see in previosu post that for 4.0.2 it evaulated to \nreceipt.getData() = org.apache.activemq.command.DataStructure[0]\n\nI know there has been lot of changes in 3.1 nad 4.0.2 but somehow this bug was introduced as you can see\n that ActiveMQXid[0] and .DataStructure[0] has a lot of differnce as the former can be casted to ActiveMQXid[] or \nXATransactionId[] in new version but the DataStructure[0] could not be. \nSo i am sure that ActiveMq code has definetly a problem here and the URL mentioned by Guy on JOTM also support this (though i could not find those lines in code) but i guess that this problem should be resolved quickly as both atomikos and activemq are great products and form an excellent combination with each other.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T15:23:40.000+0000","updated":"2006-11-28T15:23:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938663","id":"12938663","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"body":"Hi James,\nSorry i could not see your post before i posted my comment. If it is fixed may i ask whats the timeline for it releasing as it seems to be quite a major bug.\n\nBest Regards and Thanks,\nShoaib","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T15:28:46.000+0000","updated":"2006-11-28T15:28:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938729","id":"12938729","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Aha! So the reason the test case was working that I checked into trunk and 4.0 branch was due to the fact that the test was using the VM transport - which tends to avoid mashalling to and from a socket, so not causing the bug.\n\nHave patched the test case both in trunk and in the 4.0 branch. The one in the 4.0 branch now does indeed fail with the ClassCastException. The one in trunk passes with flying colours. So this issue is now resolved and will go out as part of the 4.2 release.\n\nIf we cut a 4.1.x bug fix release this fix can be back ported for that too\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T15:45:35.000+0000","updated":"2006-11-28T15:45:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938712","id":"12938712","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Have backported the test case and fix to 4.1 branch too if we release a new bug fix release of 4.1 before 4.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-28T16:15:29.000+0000","updated":"2006-11-28T16:15:29.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938678","id":"12938678","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"body":"Hi James,\nThanks for the fixed bug and thanks to Guy Pardon as well for reporting this issue. Last nigh i saw the patch you applied and i think though still not able to check that it should be working but the patch code seems to be a little hack i think it can be improved and that too not in TransactionContext anyhow it is still great that this bug is fixed. Great work ActiveMq team, its is a great and extremely cool messaging system. Cheers !\n\nRegards,\nShoaib Akhtar","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shoaib","name":"shoaib","key":"shoaib","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shoaib Akhtar","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-29T03:37:18.000+0000","updated":"2006-11-29T03:37:18.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481866/comment/12938583","id":"12938583","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"updated fix versions","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-11-29T08:56:56.000+0000","updated":"2006-11-29T08:56:56.000+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1054/votes","votes":7,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0rrpj:"}}