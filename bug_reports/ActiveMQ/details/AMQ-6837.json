{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13108580","self":"https://issues.apache.org/jira/rest/api/2/issue/13108580","key":"AMQ-6837","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"2017-10-11 12:20:49.991","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6837/watchers","watchCount":1,"isWatching":false},"created":"2017-10-11T12:20:49.991+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341031","id":"12341031","name":"5.15.1","archived":false,"released":true,"releaseDate":"2017-10-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-10-11T12:20:49.991+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324803","id":"12324803","name":"JDBC"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When configuring ActiveMQ to use JDBC and MySQL with SSL the trustStore configured must have the intermediate CA certificate in the keystore.\r\n\r\nOur certificate uses an intermediate CA, so the cerificate looks like this:\r\nmysql.server -> Intermediate CA -> Root CA.\r\n\r\nWhen using JDBC and/or DBCP directly, like in our example code below, you can connect to MySQL by using only the Root CA in your trustStore.\r\n\r\nActiveMQ requires both the Root CA *and* the Intermediate CA.\r\n\r\nExample code:\r\n{code}\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport org.apache.commons.dbcp2.BasicDataSource;\r\nimport javax.sql.DataSource;\r\n\r\npublic class Launcher {\r\n  public static void main(String[] args) throws SQLException, ClassNotFoundException {\r\n    StringBuffer sb = new StringBuffer(\"jdbc:mysql://hostname/database?useSSL=true&\");\r\n    sb.append(\"useJDBCCompliantTimezoneShift=true&requireSSL=true&verifyServerCertificate=true&connectTimeout=5000&socketTimeout=5000&queryTimeoutKillsConnection=true&\");\r\n    sb.append(\"poolPreparedStatements=true&validationQuery=select 1&\");\r\n    // sb.append(\"trustCertificateKeyStorePassword=changeit&\");\r\n    // sb.append(\"trustCertificateKeyStoreUrl=file:///etc/ssl/certs/java/cacerts&\");\r\n    sb.append(\"user=user&password=password\");\r\n\r\n    DataSource dataSource = setupDataSource(sb.toString());\r\n    Connection c = dataSource.getConnection();\r\n\r\n    Statement st = c.createStatement();\r\n    ResultSet rs = st.executeQuery(\"SELECT 1 as id\");\r\n    while (rs.next()) {\r\n      System.out.println(rs.getInt(\"id\"));\r\n    }\r\n    rs.close(); st.close(); c.close();\r\n\r\n  }\r\n  public static DataSource setupDataSource(String connectURI) {\r\n    BasicDataSource ds = new BasicDataSource();\r\n    ds.setDriverClassName(\"com.mysql.jdbc.Driver\");\r\n    ds.setUrl(connectURI);\r\n    return ds;\r\n  }\r\n}\r\n{code}\r\n\r\nStacktrace, in JSON, from ActiveMQ:\r\n{code}\r\n{\r\n    \"endOfBatch\": false,\r\n    \"level\": \"WARN\",\r\n    \"loggerFqcn\": \"org.slf4j.impl.Log4jLoggerAdapter\",\r\n    \"loggerName\": \"org.apache.activemq.store.jdbc.JDBCPersistenceAdapter\",\r\n    \"message\": \"Could not get JDBC connection: Cannot create PoolableConnectionFactory (Communications link failure\\n\\nThe last packet successfully received from the server was 760 milliseconds ago.  The last packet sent successfully to the server was 755 milliseconds ago.)\",\r\n    \"thread\": \"main\",\r\n    \"thrown\": {\r\n        \"cause\": {\r\n            \"cause\": {\r\n                \"commonElementCount\": 23,\r\n                \"extendedStackTrace\": [\r\n                    {\r\n                        \"class\": \"sun.security.ssl.Alerts\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Alerts.java\",\r\n                        \"line\": 192,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"getSSLException\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.Alerts\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Alerts.java\",\r\n                        \"line\": 154,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"getSSLException\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 2023,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"recvAlert\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 1125,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"readRecord\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 1769,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"waitForClose\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.HandshakeOutStream\",\r\n                        \"exact\": false,\r\n                        \"file\": \"HandshakeOutStream.java\",\r\n                        \"line\": 124,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"flush\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.Handshaker\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Handshaker.java\",\r\n                        \"line\": 1083,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"sendChangeCipherSpec\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.ClientHandshaker\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ClientHandshaker.java\",\r\n                        \"line\": 1222,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"sendChangeCipherAndFinish\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.ClientHandshaker\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ClientHandshaker.java\",\r\n                        \"line\": 1134,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"serverHelloDone\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.ClientHandshaker\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ClientHandshaker.java\",\r\n                        \"line\": 348,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"processMessage\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.Handshaker\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Handshaker.java\",\r\n                        \"line\": 979,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"processLoop\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.Handshaker\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Handshaker.java\",\r\n                        \"line\": 914,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"process_record\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 1062,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"readRecord\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 1375,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"performInitialHandshake\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 1403,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"startHandshake\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.security.ssl.SSLSocketImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"SSLSocketImpl.java\",\r\n                        \"line\": 1387,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"startHandshake\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.ExportControlled\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ExportControlled.java\",\r\n                        \"line\": 95,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"transformSocketToSSLSocket\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.MysqlIO\",\r\n                        \"exact\": false,\r\n                        \"file\": \"MysqlIO.java\",\r\n                        \"line\": 4793,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"negotiateSSLConnection\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.MysqlIO\",\r\n                        \"exact\": false,\r\n                        \"file\": \"MysqlIO.java\",\r\n                        \"line\": 1635,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"proceedHandshakeWithPluggableAuthentication\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.MysqlIO\",\r\n                        \"exact\": false,\r\n                        \"file\": \"MysqlIO.java\",\r\n                        \"line\": 1207,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"doHandshake\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ConnectionImpl.java\",\r\n                        \"line\": 2254,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"coreConnect\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ConnectionImpl.java\",\r\n                        \"line\": 2285,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"connectOneTryOnly\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ConnectionImpl.java\",\r\n                        \"line\": 2084,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"createNewIO\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ConnectionImpl.java\",\r\n                        \"line\": 795,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"<init>\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.JDBC4Connection\",\r\n                        \"exact\": false,\r\n                        \"file\": \"JDBC4Connection.java\",\r\n                        \"line\": 44,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"<init>\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.reflect.NativeConstructorAccessorImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"NativeConstructorAccessorImpl.java\",\r\n                        \"line\": -2,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"newInstance0\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.reflect.NativeConstructorAccessorImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"NativeConstructorAccessorImpl.java\",\r\n                        \"line\": 62,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"newInstance\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"sun.reflect.DelegatingConstructorAccessorImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"DelegatingConstructorAccessorImpl.java\",\r\n                        \"line\": 45,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"newInstance\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"java.lang.reflect.Constructor\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Constructor.java\",\r\n                        \"line\": 423,\r\n                        \"location\": \"?\",\r\n                        \"method\": \"newInstance\",\r\n                        \"version\": \"1.8.0_112\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.Util\",\r\n                        \"exact\": false,\r\n                        \"file\": \"Util.java\",\r\n                        \"line\": 404,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"handleNewInstance\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                        \"exact\": false,\r\n                        \"file\": \"ConnectionImpl.java\",\r\n                        \"line\": 400,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"getInstance\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"com.mysql.jdbc.NonRegisteringDriver\",\r\n                        \"exact\": false,\r\n                        \"file\": \"NonRegisteringDriver.java\",\r\n                        \"line\": 327,\r\n                        \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                        \"method\": \"connect\",\r\n                        \"version\": \"5.1.37\"\r\n                    },\r\n                    {\r\n                        \"class\": \"org.apache.commons.dbcp2.DriverConnectionFactory\",\r\n                        \"exact\": false,\r\n                        \"file\": \"DriverConnectionFactory.java\",\r\n                        \"line\": 39,\r\n                        \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                        \"method\": \"createConnection\",\r\n                        \"version\": \"2.1.1\"\r\n                    },\r\n                    {\r\n                        \"class\": \"org.apache.commons.dbcp2.PoolableConnectionFactory\",\r\n                        \"exact\": false,\r\n                        \"file\": \"PoolableConnectionFactory.java\",\r\n                        \"line\": 256,\r\n                        \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                        \"method\": \"makeObject\",\r\n                        \"version\": \"2.1.1\"\r\n                    },\r\n                    {\r\n                        \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                        \"exact\": false,\r\n                        \"file\": \"BasicDataSource.java\",\r\n                        \"line\": 2304,\r\n                        \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                        \"method\": \"validateConnectionFactory\",\r\n                        \"version\": \"2.1.1\"\r\n                    },\r\n                    {\r\n                        \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                        \"exact\": false,\r\n                        \"file\": \"BasicDataSource.java\",\r\n                        \"line\": 2290,\r\n                        \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                        \"method\": \"createPoolableConnectionFactory\",\r\n                        \"version\": \"2.1.1\"\r\n                    }\r\n                ],\r\n                \"localizedMessage\": \"Received fatal alert: unknown_ca\",\r\n                \"message\": \"Received fatal alert: unknown_ca\",\r\n                \"name\": \"javax.net.ssl.SSLHandshakeException\"\r\n            },\r\n            \"commonElementCount\": 23,\r\n            \"extendedStackTrace\": [\r\n                {\r\n                    \"class\": \"sun.reflect.NativeConstructorAccessorImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"NativeConstructorAccessorImpl.java\",\r\n                    \"line\": -2,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance0\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"sun.reflect.NativeConstructorAccessorImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"NativeConstructorAccessorImpl.java\",\r\n                    \"line\": 62,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"sun.reflect.DelegatingConstructorAccessorImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"DelegatingConstructorAccessorImpl.java\",\r\n                    \"line\": 45,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"java.lang.reflect.Constructor\",\r\n                    \"exact\": false,\r\n                    \"file\": \"Constructor.java\",\r\n                    \"line\": 423,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.Util\",\r\n                    \"exact\": false,\r\n                    \"file\": \"Util.java\",\r\n                    \"line\": 404,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"handleNewInstance\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.SQLError\",\r\n                    \"exact\": false,\r\n                    \"file\": \"SQLError.java\",\r\n                    \"line\": 983,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"createCommunicationsException\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.ExportControlled\",\r\n                    \"exact\": false,\r\n                    \"file\": \"ExportControlled.java\",\r\n                    \"line\": 110,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"transformSocketToSSLSocket\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.MysqlIO\",\r\n                    \"exact\": false,\r\n                    \"file\": \"MysqlIO.java\",\r\n                    \"line\": 4793,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"negotiateSSLConnection\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.MysqlIO\",\r\n                    \"exact\": false,\r\n                    \"file\": \"MysqlIO.java\",\r\n                    \"line\": 1635,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"proceedHandshakeWithPluggableAuthentication\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.MysqlIO\",\r\n                    \"exact\": false,\r\n                    \"file\": \"MysqlIO.java\",\r\n                    \"line\": 1207,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"doHandshake\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"ConnectionImpl.java\",\r\n                    \"line\": 2254,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"coreConnect\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"ConnectionImpl.java\",\r\n                    \"line\": 2285,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"connectOneTryOnly\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"ConnectionImpl.java\",\r\n                    \"line\": 2084,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"createNewIO\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"ConnectionImpl.java\",\r\n                    \"line\": 795,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"<init>\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.JDBC4Connection\",\r\n                    \"exact\": false,\r\n                    \"file\": \"JDBC4Connection.java\",\r\n                    \"line\": 44,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"<init>\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"sun.reflect.NativeConstructorAccessorImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"NativeConstructorAccessorImpl.java\",\r\n                    \"line\": -2,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance0\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"sun.reflect.NativeConstructorAccessorImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"NativeConstructorAccessorImpl.java\",\r\n                    \"line\": 62,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"sun.reflect.DelegatingConstructorAccessorImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"DelegatingConstructorAccessorImpl.java\",\r\n                    \"line\": 45,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"java.lang.reflect.Constructor\",\r\n                    \"exact\": false,\r\n                    \"file\": \"Constructor.java\",\r\n                    \"line\": 423,\r\n                    \"location\": \"?\",\r\n                    \"method\": \"newInstance\",\r\n                    \"version\": \"1.8.0_112\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.Util\",\r\n                    \"exact\": false,\r\n                    \"file\": \"Util.java\",\r\n                    \"line\": 404,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"handleNewInstance\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.ConnectionImpl\",\r\n                    \"exact\": false,\r\n                    \"file\": \"ConnectionImpl.java\",\r\n                    \"line\": 400,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"getInstance\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"com.mysql.jdbc.NonRegisteringDriver\",\r\n                    \"exact\": false,\r\n                    \"file\": \"NonRegisteringDriver.java\",\r\n                    \"line\": 327,\r\n                    \"location\": \"mysql-connector-java-5.1.37-bin.jar\",\r\n                    \"method\": \"connect\",\r\n                    \"version\": \"5.1.37\"\r\n                },\r\n                {\r\n                    \"class\": \"org.apache.commons.dbcp2.DriverConnectionFactory\",\r\n                    \"exact\": false,\r\n                    \"file\": \"DriverConnectionFactory.java\",\r\n                    \"line\": 39,\r\n                    \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                    \"method\": \"createConnection\",\r\n                    \"version\": \"2.1.1\"\r\n                },\r\n                {\r\n                    \"class\": \"org.apache.commons.dbcp2.PoolableConnectionFactory\",\r\n                    \"exact\": false,\r\n                    \"file\": \"PoolableConnectionFactory.java\",\r\n                    \"line\": 256,\r\n                    \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                    \"method\": \"makeObject\",\r\n                    \"version\": \"2.1.1\"\r\n                },\r\n                {\r\n                    \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                    \"exact\": false,\r\n                    \"file\": \"BasicDataSource.java\",\r\n                    \"line\": 2304,\r\n                    \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                    \"method\": \"validateConnectionFactory\",\r\n                    \"version\": \"2.1.1\"\r\n                },\r\n                {\r\n                    \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                    \"exact\": false,\r\n                    \"file\": \"BasicDataSource.java\",\r\n                    \"line\": 2290,\r\n                    \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                    \"method\": \"createPoolableConnectionFactory\",\r\n                    \"version\": \"2.1.1\"\r\n                }\r\n            ],\r\n            \"localizedMessage\": \"Communications link failure\\n\\nThe last packet successfully received from the server was 760 milliseconds ago.  The last packet sent successfully to the server was 755 milliseconds ago.\",\r\n            \"message\": \"Communications link failure\\n\\nThe last packet successfully received from the server was 760 milliseconds ago.  The last packet sent successfully to the server was 755 milliseconds ago.\",\r\n            \"name\": \"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException\"\r\n        },\r\n        \"commonElementCount\": 0,\r\n        \"extendedStackTrace\": [\r\n            {\r\n                \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                \"exact\": false,\r\n                \"file\": \"BasicDataSource.java\",\r\n                \"line\": 2294,\r\n                \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                \"method\": \"createPoolableConnectionFactory\",\r\n                \"version\": \"2.1.1\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                \"exact\": false,\r\n                \"file\": \"BasicDataSource.java\",\r\n                \"line\": 2039,\r\n                \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                \"method\": \"createDataSource\",\r\n                \"version\": \"2.1.1\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.commons.dbcp2.BasicDataSource\",\r\n                \"exact\": false,\r\n                \"file\": \"BasicDataSource.java\",\r\n                \"line\": 1533,\r\n                \"location\": \"commons-dbcp2-2.1.1.jar\",\r\n                \"method\": \"getConnection\",\r\n                \"version\": \"2.1.1\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.store.jdbc.TransactionContext\",\r\n                \"exact\": true,\r\n                \"file\": \"TransactionContext.java\",\r\n                \"line\": 59,\r\n                \"location\": \"activemq-jdbc-store-5.13.4.jar\",\r\n                \"method\": \"getConnection\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.store.jdbc.JDBCPersistenceAdapter\",\r\n                \"exact\": true,\r\n                \"file\": \"JDBCPersistenceAdapter.java\",\r\n                \"line\": 449,\r\n                \"location\": \"activemq-jdbc-store-5.13.4.jar\",\r\n                \"method\": \"loadAdapter\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.store.jdbc.JDBCPersistenceAdapter\",\r\n                \"exact\": true,\r\n                \"file\": \"JDBCPersistenceAdapter.java\",\r\n                \"line\": 432,\r\n                \"location\": \"activemq-jdbc-store-5.13.4.jar\",\r\n                \"method\": \"createAdapter\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.store.jdbc.JDBCPersistenceAdapter\",\r\n                \"exact\": true,\r\n                \"file\": \"JDBCPersistenceAdapter.java\",\r\n                \"line\": 381,\r\n                \"location\": \"activemq-jdbc-store-5.13.4.jar\",\r\n                \"method\": \"getAdapter\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.store.jdbc.JDBCPersistenceAdapter\",\r\n                \"exact\": true,\r\n                \"file\": \"JDBCPersistenceAdapter.java\",\r\n                \"line\": 296,\r\n                \"location\": \"activemq-jdbc-store-5.13.4.jar\",\r\n                \"method\": \"init\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.broker.LockableServiceSupport\",\r\n                \"exact\": true,\r\n                \"file\": \"LockableServiceSupport.java\",\r\n                \"line\": 89,\r\n                \"location\": \"activemq-broker-5.13.4.jar\",\r\n                \"method\": \"preStart\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.util.ServiceSupport\",\r\n                \"exact\": true,\r\n                \"file\": \"ServiceSupport.java\",\r\n                \"line\": 54,\r\n                \"location\": \"activemq-client-5.13.4.jar\",\r\n                \"method\": \"start\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.broker.BrokerService\",\r\n                \"exact\": true,\r\n                \"file\": \"BrokerService.java\",\r\n                \"line\": 672,\r\n                \"location\": \"activemq-broker-5.13.4.jar\",\r\n                \"method\": \"doStartPersistenceAdapter\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.broker.BrokerService\",\r\n                \"exact\": true,\r\n                \"file\": \"BrokerService.java\",\r\n                \"line\": 656,\r\n                \"location\": \"activemq-broker-5.13.4.jar\",\r\n                \"method\": \"startPersistenceAdapter\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.broker.BrokerService\",\r\n                \"exact\": true,\r\n                \"file\": \"BrokerService.java\",\r\n                \"line\": 620,\r\n                \"location\": \"activemq-broker-5.13.4.jar\",\r\n                \"method\": \"start\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.command.StartCommand\",\r\n                \"exact\": true,\r\n                \"file\": \"StartCommand.java\",\r\n                \"line\": 88,\r\n                \"location\": \"activemq-console-5.13.4.jar\",\r\n                \"method\": \"runTask\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.command.AbstractCommand\",\r\n                \"exact\": true,\r\n                \"file\": \"AbstractCommand.java\",\r\n                \"line\": 63,\r\n                \"location\": \"activemq-console-5.13.4.jar\",\r\n                \"method\": \"execute\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.command.ShellCommand\",\r\n                \"exact\": true,\r\n                \"file\": \"ShellCommand.java\",\r\n                \"line\": 154,\r\n                \"location\": \"activemq-console-5.13.4.jar\",\r\n                \"method\": \"runTask\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.command.AbstractCommand\",\r\n                \"exact\": true,\r\n                \"file\": \"AbstractCommand.java\",\r\n                \"line\": 63,\r\n                \"location\": \"activemq-console-5.13.4.jar\",\r\n                \"method\": \"execute\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.command.ShellCommand\",\r\n                \"exact\": true,\r\n                \"file\": \"ShellCommand.java\",\r\n                \"line\": 104,\r\n                \"location\": \"activemq-console-5.13.4.jar\",\r\n                \"method\": \"main\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"sun.reflect.NativeMethodAccessorImpl\",\r\n                \"exact\": false,\r\n                \"file\": \"NativeMethodAccessorImpl.java\",\r\n                \"line\": -2,\r\n                \"location\": \"?\",\r\n                \"method\": \"invoke0\",\r\n                \"version\": \"1.8.0_112\"\r\n            },\r\n            {\r\n                \"class\": \"sun.reflect.NativeMethodAccessorImpl\",\r\n                \"exact\": false,\r\n                \"file\": \"NativeMethodAccessorImpl.java\",\r\n                \"line\": 62,\r\n                \"location\": \"?\",\r\n                \"method\": \"invoke\",\r\n                \"version\": \"1.8.0_112\"\r\n            },\r\n            {\r\n                \"class\": \"sun.reflect.DelegatingMethodAccessorImpl\",\r\n                \"exact\": false,\r\n                \"file\": \"DelegatingMethodAccessorImpl.java\",\r\n                \"line\": 43,\r\n                \"location\": \"?\",\r\n                \"method\": \"invoke\",\r\n                \"version\": \"1.8.0_112\"\r\n            },\r\n            {\r\n                \"class\": \"java.lang.reflect.Method\",\r\n                \"exact\": false,\r\n                \"file\": \"Method.java\",\r\n                \"line\": 498,\r\n                \"location\": \"?\",\r\n                \"method\": \"invoke\",\r\n                \"version\": \"1.8.0_112\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.Main\",\r\n                \"exact\": true,\r\n                \"file\": \"Main.java\",\r\n                \"line\": 262,\r\n                \"location\": \"activemq.jar\",\r\n                \"method\": \"runTaskClass\",\r\n                \"version\": \"5.13.4\"\r\n            },\r\n            {\r\n                \"class\": \"org.apache.activemq.console.Main\",\r\n                \"exact\": true,\r\n                \"file\": \"Main.java\",\r\n                \"line\": 115,\r\n                \"location\": \"activemq.jar\",\r\n                \"method\": \"main\",\r\n                \"version\": \"5.13.4\"\r\n            }\r\n        ],\r\n        \"localizedMessage\": \"Cannot create PoolableConnectionFactory (Communications link failure\\n\\nThe last packet successfully received from the server was 760 milliseconds ago.  The last packet sent successfully to the server was 755 milliseconds ago.)\",\r\n        \"message\": \"Cannot create PoolableConnectionFactory (Communications link failure\\n\\nThe last packet successfully received from the server was 760 milliseconds ago.  The last packet sent successfully to the server was 755 milliseconds ago.)\",\r\n        \"name\": \"java.sql.SQLException\"\r\n    },\r\n    \"timeMillis\": 1507702258729\r\n}\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Intermediate CA certificate required in trustStore","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simmel","name":"simmel","key":"simmel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Lundstrom","active":true,"timeZone":"Europe/Stockholm"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simmel","name":"simmel","key":"simmel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Lundstrom","active":true,"timeZone":"Europe/Stockholm"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"{code}\r\n# lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 14.04.5 LTS\r\nRelease:        14.04\r\nCodename:       trusty\r\n# java -version\r\njava version \"1.8.0_112\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_112-b15)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.112-b15, mixed mode)\r\n{code}","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6837/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3l4r3:"}}