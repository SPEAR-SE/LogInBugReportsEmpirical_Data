{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482866","self":"https://issues.apache.org/jira/rest/api/2/issue/12482866","key":"AMQ-2814","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2011-10-31T19:08:26.956+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 19 09:31:32 UTC 2012","customfield_12310420":"74787","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_72085467541_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-10-19T09:31:32.860+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2814/watchers","watchCount":1,"isWatching":false},"created":"2010-07-08T01:47:05.351+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-10-19T09:31:32.890+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"In an environment where multiple ActiveMQ broker servers are running on the same host, the \"activemq-admin stop\" command will shutdown other instances if the requested instance is already down.\n\nThis is very dangerous behavior in the case where a user inadvertently attempts to shutdown a broker instance which is already down - instead of getting an error message, or the command being a no-op, a different instance than requested will be shutdown instead.\n\nTo reproduce:\n\n* Install ActiveMQ into SOMEDIR/broker_a and configure port and name.\n* Install ActiveMQ into SOMEDIR/broker_b and configure unique port and name.\n* Start broker_a - broker_a/bin/activemq (or alternatively activemq-admin start)\n* Start broker_b - broker_b/bin/activemq (or alternatively activemq-admin start)\n* Stop broker_a - broker_a/bin/activemq-admin stop\n* Try to stop broker_a again - broker_a/bin/activemq-admin stop -- THIS WILL RESULT IN broker_b SHUTTING DOWN\n\nIf there are three or more instances, the result is the same - \"activemq-admin stop\" will shutdown instances other than the one requested.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59945","customfield_12312823":null,"summary":"When running multiple brokers on the same box, \"activemq-admin stop\" command on a downed instance will shutdown other instances","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux 2.6.31-22-generic-pae #60-Ubuntu SMP Thu May 27 01:40:15 UTC 2010 i686 GNU/Linux\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482866/comment/13140457","id":"13140457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattrpav","name":"mattrpav","key":"mattrpav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Pavlovich","active":true,"timeZone":"America/Chicago"},"body":"Hi Scott-\n\nThe activemq-admin script has an option to point to a specific jmx URL.  I suggest looking at adding the jmx URL as an argument to the activemq-admin program when you execute it.  \n\nThere are many different ways folks run multiple ActiveMQ instances installed on a single system, so it is difficult to have those scripts always line up to the correct instance in those scenarios.  The best solution is to align it to the correct JMX URL.\n\nCheck out this JIRA to see the correct syntax:\nhttps://issues.apache.org/jira/browse/AMQ-3456\n\nThanks,\nMatt Pavlovich","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattrpav","name":"mattrpav","key":"mattrpav","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Pavlovich","active":true,"timeZone":"America/Chicago"},"created":"2011-10-31T19:08:26.956+0000","updated":"2011-10-31T19:10:09.820+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482866/comment/13479907","id":"13479907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"This has been resolved since\n\nbin/activemq script now support defining jmx url and credentials","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2012-10-19T09:31:32.873+0000","updated":"2012-10-19T09:31:32.873+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2814/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0amnz:"}}