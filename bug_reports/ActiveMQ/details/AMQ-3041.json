{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483877","self":"https://issues.apache.org/jira/rest/api/2/issue/12483877","key":"AMQ-3041","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315626","id":"12315626","description":"","name":"5.5.0","archived":false,"released":true,"releaseDate":"2011-04-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2011-01-20T13:36:51.078+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jan 20 13:36:51 UTC 2011","customfield_12310420":"14714","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5632499093_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-01-20T13:36:51.133+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3041/watchers","watchCount":1,"isWatching":false},"created":"2010-11-16T09:01:52.040+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315624","id":"12315624","description":"Maintenance release for 5.4.0","name":"5.4.1","archived":false,"released":true,"releaseDate":"2010-09-21"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315625","id":"12315625","description":"","name":"5.4.2","archived":false,"released":true,"releaseDate":"2010-12-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-01-20T13:36:51.121+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When you use Session.createTemporaryQueue(...) you will see that the TemporaryQueue will get added to JMX. Now when you call TemporaryQueue.delete() it will not get delete from JMX. So when you make heavy use of TemporaryQueues you will see that the entries in JMX will get bigger and bigger as they will never get removed on delete. This can lead to an OOM very frequently.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12468772","id":"12468772","filename":"AMQ-3041-is-invalid.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"created":"2011-01-19T18:15:48.552+0000","size":1973,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12468772/AMQ-3041-is-invalid.diff"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"63676","customfield_12312823":null,"summary":"TemporyQueue will never get unregisterd from JMX which leads to a memory leak","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"activemq 5.4.1 and 5.5-SNAPSHOT","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483877/comment/12943226","id":"12943226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"body":"After some debugging I see that when the temprary queue is created it call:\n\n\nManagedTempQueueRegion.createDestination(....)\n\nBut when call TemporaryQueue.delete() it never call;:\n\n ManagedTempQueueRegion.removeDestination(....)\n\nI still try to understand why","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"created":"2010-11-16T13:18:35.249+0000","updated":"2010-11-16T13:18:35.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483877/comment/12983822","id":"12983822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"body":"I just wrote a unit test to see if the issue still exist. I can not reproduce it with latest trunk. Anyway here is the unit test maybe you want to add it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"created":"2011-01-19T18:15:48.595+0000","updated":"2011-01-19T18:15:48.595+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483877/comment/12984183","id":"12984183","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Test case committed with svn revision 1061296. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2011-01-20T13:36:51.078+0000","updated":"2011-01-20T13:36:51.078+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3041/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0b9nj:"}}