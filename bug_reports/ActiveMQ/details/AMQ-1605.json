{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483384","self":"https://issues.apache.org/jira/rest/api/2/issue/12483384","key":"AMQ-1605","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315630","id":"12315630","description":"Issues that need to be reviewed - do we keep 'em or do we kick 'em? ","name":"NEEDS_REVIEW","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2008-06-20T16:01:58.989+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 01 20:00:55 UTC 2011","customfield_12310420":"69440","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_105228278414_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-07-01T20:00:55.775+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1605/watchers","watchCount":1,"isWatching":false},"created":"2008-02-29T21:56:17.376+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-07-01T20:00:55.786+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313896","id":"12313896","name":"JMS client"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"We are unable to create a JMS-aware applet because of an initialization error in ActiveMQConnectionFactory/ActiveMQConnection.  My research suggests that the problem is due to a static logger instance and a default log4j.properties file that contains an appender that is inappropriate (as in, throws security exceptions) in applets.\n\njava.lang.ExceptionInInitializerError\n            at org.apache.activemq.ActiveMQConnection.<clinit>(ActiveMQConnection.java:106)\n            at com.si.applet.JmsApplet.<init>(JmsApplet.java:36)\n            at com.si.applet.ProducerConsumerApplet.<init>(ProducerConsumerApplet.java:36)\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n            at java.lang.reflect.Constructor.newInstance(Unknown Source)\n            at java.lang.Class.newInstance0(Unknown Source)\n            at java.lang.Class.newInstance(Unknown Source)\n            at sun.applet.AppletPanel.createApplet(Unknown Source)\n            at sun.plugin.AppletViewer.createApplet(Unknown Source)\n            at sun.applet.AppletPanel.runLoader(Unknown Source)\n            at sun.applet.AppletPanel.run(Unknown Source)\n            at java.lang.Thread.run(Unknown Source)\n\nCaused by: java.security.AccessControlException: access denied (java.util.PropertyPermission org.apache.commons.logging.LogFactory.HashtableImpl read)\n            at java.security.AccessControlContext.checkPermission(Unknown Source)\n            at java.security.AccessController.checkPermission(Unknown Source)\n            at java.lang.SecurityManager.checkPermission(Unknown Source)\n            at java.lang.SecurityManager.checkPropertyAccess(Unknown Source)\n            at java.lang.System.getProperty(Unknown Source)\n            at org.apache.commons.logging.LogFactory.createFactoryStore(LogFactory.java:320)\n            at org.apache.commons.logging.LogFactory.<clinit>(LogFactory.java:1725)\n            ... 14 more ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"172410","customfield_12312823":null,"summary":"5.0.0: applet fails to initialize with default log4j.properties.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bear.giles","name":"bear.giles","key":"bear.giles","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bear Giles","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bear.giles","name":"bear.giles","key":"bear.giles","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bear Giles","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"jre 1.6.0_03 applet on both firefox and msie.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483384/comment/12939856","id":"12939856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=morris_hirsch%40hotmail.com","name":"morris_hirsch@hotmail.com","key":"morris_hirsch@hotmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Morris Hirsch","active":true,"timeZone":"Etc/UTC"},"body":"I have the identical problem but this to add to it, in the web server directory it works fine.\n\nI can either say\n\njava -cp .;.\\activemq-core-5.1.0.jar;.\\javaee.jar;.\\commons-logging-1.1.jar Heartbeat\n\nor just say\n\njava -jar Heartbeat.jar\n\nthis jar has Class-Path: activemq-core-5.1.0.jar javaee.jar commons-logging-1.1\n\nworks fine here but NOT as a web applet we get the same error","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=morris_hirsch%40hotmail.com","name":"morris_hirsch@hotmail.com","key":"morris_hirsch@hotmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Morris Hirsch","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-20T16:01:58.989+0000","updated":"2008-06-20T16:01:58.989+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483384/comment/12939844","id":"12939844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=morris_hirsch%40hotmail.com","name":"morris_hirsch@hotmail.com","key":"morris_hirsch@hotmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Morris Hirsch","active":true,"timeZone":"Etc/UTC"},"body":"A post on a related problem suggested using the newer commons-logging-1.1.1.jar\n\nI got the new one and made the change in my compile and my manifest and applet tag\n\nThat seems to get me further but still an exception, now this one top line only\n\njavax.jms.JMSException: Could not connect to broker URL: tcp://192.168.1.50:61616. Reason: java.security.AccessControlException: access denied (java.util.PropertyPermission org.apache.activemq.UseDedicatedTaskRunner read)\n\nor the full stack\n\njavax.jms.JMSException: Could not connect to broker URL: tcp://192.168.1.50:61616. Reason: java.security.AccessControlException: access denied (java.util.PropertyPermission org.apache.activemq.UseDedicatedTaskRunner read)\n\tat org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:35)\n\tat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:278)\n\tat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:222)\n\tat org.apache.activemq.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:170)\n\tat Heartbeat.init(Heartbeat.java:223)\n\tat sun.applet.AppletPanel.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)\nCaused by: java.security.AccessControlException: access denied (java.util.PropertyPermission org.apache.activemq.UseDedicatedTaskRunner read)\n\tat java.security.AccessControlContext.checkPermission(Unknown Source)\n\tat java.security.AccessController.checkPermission(Unknown Source)\n\tat java.lang.SecurityManager.checkPermission(Unknown Source)\n\tat java.lang.SecurityManager.checkPropertyAccess(Unknown Source)\n\tat java.lang.System.getProperty(Unknown Source)\n\tat org.apache.activemq.thread.TaskRunnerFactory.<init>(TaskRunnerFactory.java:62)\n\tat org.apache.activemq.thread.TaskRunnerFactory.<init>(TaskRunnerFactory.java:47)\n\tat org.apache.activemq.ActiveMQConnection.<init>(ActiveMQConnection.java:115)\n\tat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:283)\n\tat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:251)\n\t... 5 more\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=morris_hirsch%40hotmail.com","name":"morris_hirsch@hotmail.com","key":"morris_hirsch@hotmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Morris Hirsch","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-20T19:26:16.294+0000","updated":"2008-06-20T19:26:16.294+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483384/comment/12940559","id":"12940559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=manuelgarcia","name":"manuelgarcia","key":"manuelgarcia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Manuel Garcia","active":true,"timeZone":"Etc/UTC"},"body":"I think that is because applets run on a security sandbox. To allow them to create threads, make connections, etc., you'll need to sing them with a certificate. When the user loads the applet into the browser he/she will be ask to accept the certificate. Then the applet will connect.\nIt's just a thought.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=manuelgarcia","name":"manuelgarcia","key":"manuelgarcia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Manuel Garcia","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-18T14:43:26.162+0000","updated":"2008-12-18T14:43:26.162+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483384/comment/12941933","id":"12941933","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walec51","name":"walec51","key":"walec51","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Walczak","active":true,"timeZone":"Etc/UTC"},"body":"'@ Manuel Garcia: Thats right.\n\nI'm using ActiveMQ 5.3 in my applets and it works. The same exception happens the I forget to sign my jars. When I sign then every thing work just fine.\n\nI think we can close this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=walec51","name":"walec51","key":"walec51","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Walczak","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-11T11:24:47.750+0000","updated":"2009-12-11T11:24:47.750+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483384/comment/13058753","id":"13058753","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Issue relates to not using sign java applets.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-07-01T20:00:55.784+0000","updated":"2011-07-01T20:00:55.784+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1605/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0tvhj:"}}