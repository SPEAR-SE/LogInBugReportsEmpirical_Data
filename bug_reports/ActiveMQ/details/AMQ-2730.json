{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483862","self":"https://issues.apache.org/jira/rest/api/2/issue/12483862","key":"AMQ-2730","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2010-09-28T18:38:29.425+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Dec 31 06:10:57 UTC 2014","customfield_12310420":"63713","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_40633653435_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-08-25T20:02:50.310+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2730/watchers","watchCount":14,"isWatching":false},"created":"2010-05-12T12:55:17.776+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315621","id":"12315621","description":"","name":"5.3.1","archived":false,"released":true,"releaseDate":"2010-03-23"}],"issuelinks":[{"id":"12462874","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12462874","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12956411","key":"AMQ-6229","self":"https://issues.apache.org/jira/rest/api/2/issue/12956411","fields":{"summary":"java.io.EOFException from org.apache.activemq.transport.tcp.TcpTransport","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-04-06T07:28:24.300+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"We see many Exceptions of this type in the broker logs: \n2010-05-12 14:10:03,490 | DEBUG | Transport failed: java.io.EOFException | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///10.231.233.55:50809\njava.io.EOFException\n        at java.io.DataInputStream.readInt(DataInputStream.java:375)\n        at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:269)\n        at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:211)\n        at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:203)\n        at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:186)\n        at java.lang.Thread.run(Thread.java:619)\n\nThis exception occurs with a lot of clients that run on different machines.\n\nOne case where we almost always see this exception is when shutting down a bridge. We did a tcp dump on the broker and on the client machine: there a no packets lost.\n\n\nLOG ON BRIDGE:\n2010-05-12 14:10:02,634 INFO  org.apache.activemq.broker.BrokerService - ActiveMQ Message Broker (solr-2073bridge, ID:solr-2073-50804-\n1273665033782-0:0) is shutting down\n2010-05-12 14:10:02,799 INFO  org.apache.activemq.network.jms.JmsConnector - JMS Connector Connector:0 Stopped\n2010-05-12 14:10:02,819 INFO  org.apache.activemq.broker.BrokerService - ActiveMQ JMS Message Broker (solr-2073bridge, ID:solr-2073-50\n804-1273665033782-0:0) stopped\n\nLOG ON BROKER:\n2010-05-12 14:10:03,490 | DEBUG | Transport failed: java.io.EOFException | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///10.231.233.55:50809\njava.io.EOFException\n        at java.io.DataInputStream.readInt(DataInputStream.java:375)\n        at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:269)\n        at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:211)\n        at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:203)\n        at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:186)\n        at java.lang.Thread.run(Thread.java:619)\n2010-05-12 14:10:03,492 | DEBUG | Stopping connection: /10.231.233.55:50809 | org.apache.activemq.broker.TransportConnection | ActiveMQ Task\n2010-05-12 14:10:03,492 | DEBUG | Stopping transport tcp:///10.231.233.55:50809 | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task\n2010-05-12 14:10:03,493 | DEBUG | Stopped transport: /10.231.233.55:50809 | org.apache.activemq.broker.TransportConnection | ActiveMQ Task\n2010-05-12 14:10:03,493 | DEBUG | Cleaning up connection resources: /10.231.233.55:50809 | org.apache.activemq.broker.TransportConnection | ActiveMQ Task\n2010-05-12 14:10:03,493 | DEBUG | remove connection id: ID:solr-2073-50804-1273665033782-2:0 | org.apache.activemq.broker.TransportConnection | ActiveMQ Task\n2010-05-12 14:10:03,493 | DEBUG | jms1 removing consumer: ID:solr-2073-50804-1273665033782-2:0:225:1 for destination: temp-queue://ID:solr-2073-50804-1273665033782-2:0:105 | org.apache.activemq.broker.region.AbstractRegion | ActiveMQ Task\n2010-05-12 14:10:03,493 | DEBUG | remove sub: QueueSubscription: consumer=ID:solr-2073-50804-1273665033782-2:0:225:1, destinations=1, dispatched=0, delivered=0, pending=0, lastDeliveredSeqId: 0, dequeues: 0, dispatched: 0, inflight: 0 | org.apache.activemq.broker.region.Queue | ActiveMQ Task\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461697","id":"12461697","filename":"TCP Dump.jpg","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"created":"2010-05-12T12:56:11.704+0000","size":620101,"mimeType":"image/jpeg","content":"https://issues.apache.org/jira/secure/attachment/12461697/TCP+Dump.jpg"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"166419","customfield_12312823":null,"summary":"Transport failed: java.io.EOFException","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Red hat enterprise","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12942628","id":"12942628","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"body":"The screenshot shows the communication between the broker (ip: 10.231.233.125) and the bridge (solr-2073, ip: 10.231.233.55) at the time the exception occurred.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"created":"2010-05-12T13:00:18.207+0000","updated":"2010-05-12T13:00:18.207+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12942646","id":"12942646","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"body":"The strange thing is that we get the EOFException shortly before the connection is stopped:\n\n2010-05-12 14:10:03,490 | DEBUG | Transport failed: java.io.EOFException\n\n2010-05-12 14:10:03,492 | DEBUG | Stopping connection\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jteetel","name":"jteetel","key":"jteetel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dennis Klinkott","active":true,"timeZone":"Etc/UTC"},"created":"2010-05-14T08:09:24.909+0000","updated":"2010-05-14T08:09:24.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12943009","id":"12943009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"The EOFException is difficult to explain because there is no additional info pointing at what may have happened, i.e., it's simply an abrupt failure. The important question here is, 'What is causing the abrupt failure?' \n\nJust a few of questions: \n* Can you reproduce the errors? \n** If so, can you sniff the network (e.g., using Wireshark) to see what is happening just before the exception occurs? \n* Is there a client-side exception to match the exception on the broker side? \n* Is the broker running in a virtualized environment perhaps? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2010-09-28T18:38:29.425+0000","updated":"2010-09-28T18:39:53.122+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12943015","id":"12943015","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=puska","name":"puska","key":"puska","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"IP","active":true,"timeZone":"Etc/UTC"},"body":"Same problem here. I tried versions 5.4.0 and 5.4.1.\n\nOn client-side there is an exception:\njavax.jms.JMSException: Wire format negotiation timeout: peer did not send his wire format.\n at org.apache.activemq.util.JMSExceptionSupport.create (JMSExceptionSupport.java:62)\n    org.apache.activemq.ActiveMQConnection.syncSendPacket (ActiveMQConnection.java:1298)\n    org.apache.activemq.ActiveMQConnection.ensureConnectionInfoSent (ActiveMQConnection.java:1382)\n    org.apache.activemq.ActiveMQConnection.createSession (ActiveMQConnection.java:309)\n    sun.reflect.GeneratedMethodAccessor18.invoke (:-1)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:25)\n    java.lang.reflect.Method.invoke (Method.java:597)\n    clojure.lang.Reflector.invokeMatchingMethod (Reflector.java:90)\n    clojure.lang.Reflector.invokeInstanceMethod (Reflector.java:28)\n    ...\nCaused by: java.io.IOException: Wire format negotiation timeout: peer did not send his wire format.\n at org.apache.activemq.transport.WireFormatNegotiator.oneway (WireFormatNegotiator.java:98)\n    org.apache.activemq.transport.MutexTransport.oneway (MutexTransport.java:40)\n    org.apache.activemq.transport.ResponseCorrelator.asyncRequest (ResponseCorrelator.java:81)\n    org.apache.activemq.transport.ResponseCorrelator.request (ResponseCorrelator.java:86)\n    org.apache.activemq.ActiveMQConnection.syncSendPacket (ActiveMQConnection.java:1276)\n    org.apache.activemq.ActiveMQConnection.ensureConnectionInfoSent (ActiveMQConnection.java:1382)\n    org.apache.activemq.ActiveMQConnection.createSession (ActiveMQConnection.java:309)\n    sun.reflect.GeneratedMethodAccessor18.invoke (:-1)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:25)\n    java.lang.reflect.Method.invoke (Method.java:597)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=puska","name":"puska","key":"puska","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"IP","active":true,"timeZone":"Etc/UTC"},"created":"2010-09-29T11:41:04.676+0000","updated":"2010-09-29T11:41:04.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12943027","id":"12943027","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"@IP, That error is different and can occur for a couple of reasons:\n\n# The resources available to the broker are so consumed that there are not enough available to spawn the necessary thread to allow the handshake or the broker is so slow in creating the thread that a timeout occurs before the handshake. \n#* The solution is to either free up resources or give the broker more resources (i.e., memory). \n# A client connects to a port that is not an endpoint for the TCP transport. Even though the client connects to the broker, the full handshake is not completed and a timeout occurs. \n#* The solution is to connect to the correct port number. \n\nActually there is a FAQ entry for this problem that says basically the same things: \n\n[http://activemq.apache.org/javaxjmsjmsexception-wire-format-negociation-timeout-peer-did-not-send-his-wire-format.html]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2010-09-29T17:25:59.439+0000","updated":"2010-09-29T17:30:08.389+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12942955","id":"12942955","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"body":"Hi ,\n1. Do You mean configuration of memory in ApacheMQ in bin Directory? It looks like -it is not reason of problem?\n# Set jvm memory configuration\nACTIVEMQ_OPTS_MEMORY=\"-Xms256M -Xmx512M\"\n\n2. What do You mean? It is Stomp configurationc for ApacheMQ: there is only Port 61612. How can client try to contact other ports? Is it possible?\n  \n3. FAQ. Only one configuration's property works with STOMP protocol. so it doesn't work: \n<transportConnector name=\"stomp\" uri=\"stomp://0.0.0.0:61612?transport.closeAsync=false&soTimeout=30000&wireFormat.maxInactivityDurationInitalDelay=30000\"/> \n\n(only one property is possible, for example ....?wireFormat.maxInactivityDurationInitalDelay=30000\"/> ):\n\n\nso by me it is not solved... or do i right follow You?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-05T09:33:12.022+0000","updated":"2010-10-05T09:33:12.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12942980","id":"12942980","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\nwhat can i configure in case of using Loadbalancer?\nIt sends constantly check bytes to Port 61612...\nSo exceptions come in Stomp Protocol -error of reading of line...\nWhat is right solution?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-07T12:17:14.590+0000","updated":"2010-10-07T12:17:14.590+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12942781","id":"12942781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"{quote} \n1. Do You mean configuration of memory in ApacheMQ in bin Directory? It looks like -it is not reason of problem?\nSet jvm memory configuration\nACTIVEMQ_OPTS_MEMORY=\"-Xms256M -Xmx512M\"\n{quote} \n\nYes, one possibility is memory resources have been exhausted. By default, the ActiveMQ startup script allocates 512mb to the JVM in which ActiveMQ runs. In addition to the memory allocated to the JVM, you also need to configure the memory that is made available to the broker via the {{<systemUsage>}} element in the activemq.xml file. See the docs for the {{<systemUsage>}} element for more info: \n\n[http://activemq.apache.org/producer-flow-control.html#ProducerFlowControl-Systemusage]  \n\n{quote} \n2. What do You mean? It is Stomp configurationc for ApacheMQ: there is only Port 61612. How can client try to contact other ports? Is it possible?\n{quote} \n\nI mean that the client may be connecting to a port that does not have a TCP transport connector registered to it. It is possible for a client to use TCP to connect to ActiveMQ via a port that has a non-TCP endpoint registered. However, the client will not get a full handshake and an error will be thrown. \n\n{quote} \n3. FAQ. Only one configuration's property works with STOMP protocol. so it doesn't work: \n<transportConnector name=\"stomp\" uri=\"stomp://0.0.0.0:61612?transport.closeAsync=false&soTimeout=30000&wireFormat.maxInactivityDurationInitalDelay=30000\"/>\n{quote} \n\nFAQ item #3 is referring to the failover transport connector which is used on the client-side, not the Stomp transport connector which is used on the broker-side. Here are the docs for the failover transport: \n\n[http://activemq.apache.org/failover-transport-reference.html] \n\n{quote} \nHi,\nwhat can i configure in case of using Loadbalancer?\nIt sends constantly check bytes to Port 61612...\nSo exceptions come in Stomp Protocol -error of reading of line...\nWhat is right solution?\n{quote} \n\nTypically people have a TCP or NIO transport connector defined in the broker config for this purpose. The load balancer just opens a socket with the broker via the TCP transport and if it is able to connect, it assumes that the broker is up and running. More sophisticated setups that I have seen actually have the load balancer run a script that connects the broker and sends/receives a message on a destination to ensure that the broker is actually processing messages. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2010-10-07T15:43:38.025+0000","updated":"2010-10-07T15:43:38.025+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12942987","id":"12942987","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"body":"Thanks!\nCan be broker configured so that it will ignore check bytes of Loadbalncer to STOMP connector Port and will not write Exception in log file each second ?\nNIO has the same trouble if You meaned that NIO transport connector would not see check bytes of Loadbalancer as Exceptions by reading of STOMP messages...\nSure java source can be changed to ignore some exceptions or such bytes, but it is not  good solution - new versions Apache MQ need than such changes in case of update.   \n\n\n{Typically people have a TCP or NIO transport connector defined in the broker config for this purpose. The load balancer just opens a socket with the broker via the TCP transport and if it is able to connect, it assumes that the broker is up and running. More sophisticated setups that I have seen actually have the load balancer run a script that connects the broker and sends/receives a message on a destination to ensure that the broker is actually processing messages. }","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-08T08:59:12.010+0000","updated":"2010-10-08T08:59:46.564+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12943159","id":"12943159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"body":"Hello Bruse,\n\ndo You have any example of xml configuration file or its part (is it appachemq.xml or spring confi xml?) of adding own transporter listerner? \nso that this exception would be processed by own transport listener.\ni haven't found any example of xml.\n\nThanks in advance!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=remer","name":"remer","key":"remer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Rem","active":true,"timeZone":"Etc/UTC"},"created":"2010-11-03T08:18:33.423+0000","updated":"2010-11-03T08:18:33.423+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/12965097","id":"12965097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"@Sergey, A transport listener can be set on the ActiveMQ connection factory to monitor the status of the failover transport from the client side, not from the broker side. Using this method, every connection that is created via this connection factory will have the transport listener enabled. Below is an example using a Spring XML config: \n\n{code:xml}\n<bean class=\"org.apache.activemq.ActiveMQConnectionFactory\">\n  <property name=\"brokerURL\" value=\"failover:(tcp://localhost:61616)\" />\n  <property name=\"transportListener\">\n    <bean class=\"com.mycompany.MyTransportListener\" />\n  </property>\n</bean>\n{code} \n\nA transport listener can also be set on the ActiveMQ connection directly, but this is usually done programmatically. Below is an example using Java code: \n\n{code:java}\n...\nConnection conn = connectionFactory.createConnection();\nconn.addTransportListener(new MyTransportListener() {\n  public void onCommand(Object o) {\n    System.out.println(\"onCommand invoked\"); \n  }\n\n  public void onException(IOException error) {\n    System.out.println(\"onException invoked\"); \n  }\n});\n...\n{code} \n\nA transport listener can also be added directly to a [Transport|http://activemq.apache.org/maven/5.3.1/activemq-core/apidocs/org/apache/activemq/transport/Transport.html], but this is only done when working directly with a [Transport|http://activemq.apache.org/maven/5.3.1/activemq-core/apidocs/org/apache/activemq/transport/Transport.html]. Below is an example of doing this using Java code: \n\n{code:java}\n...\ntransport.setTransportListener(new DefaultTransportListener() {\n  public void onCommand(Object o) {\n    System.out.println(\"onCommand invoked\"); \n  }\n\n  public void onException(IOException error) {\n    System.out.println(\"onException invoked\"); \n  }\n});\n...\n{code} \n\nI hope these examples help answer your questions. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2010-11-30T05:31:19.017+0000","updated":"2010-11-30T05:31:19.017+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13017577","id":"13017577","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"body":"Related to the ORIGINAL description of this bug, here's our experience in debugging EOFException errors with AMQ 5.4.2 on linux, using a failover connector:\n\nWe just spent some time debugging a similar EOFException situation and believe the cause is memory related on the ActiveMQ server, even though the server may not ever throw an OutOfMemory exception. In our case, this cause was not the least bit obvious as the server would appear to function fine, but at some point the inactivity timer would kick in and cause reconnects. When this would happen, new connections (from our Java clients) to the server would be immediately closed and the client would start hammering the server up until the max reconnect attempts is hit (even though the documentation says the default is unlimited, it's actually 1000 in TaskRunnerFactory - due to DefaultThreadPools having what we think is the right code commented out, unless that means something different). Because of synchronization in this code, a single thread will hit this loop, while all the other threads are stuck waiting on the mutex (which is fine, because nobody can do any work anyway). Once the 1000 connection attempts are done, the client JVM becomes effectively useless for any JMS activity, as the thread in the reconnection loop will give up and end up waiting forever on an event that will never occur. All other threads are stuck waiting on this mutex.\n\nWe have seen many cases where restarting the client appears fine (it reconnects to ActiveMQ server just fine), giving a false sense that all is well. At some point, the client will once again get into this state. Because of this, we \n\nWhile there is little the client code can do in this situation, there are things that can be done to help with this situation. Here's my suggestions, if it helps:\n\n1. In the TaskRunnerFactory, if we hit the max reconnect attempts, a high severity log entry should be written saying that AMQ client is effectively dead and giving up. This message should repeat at some reasonable interval so it doesn't get buried in logs.\n\n2. Improve AMQ client logging when it is this reconnect loop. We found that we had to enable TRACE level logging to really get enough detail to see what was going on.\n\n3. Improve AMQ server logging, if possible, to indicate why it is closing sockets from the client.\n\n4. Validate if the current code in DefaultThreadPools is indeed correct (not the commented out code).\n\n5. I don't know what the default memoryUsage limit is in the example activemq.xml, but make sure that it's a sane value considering the default max heap is 512MB.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"created":"2011-04-08T18:12:10.047+0000","updated":"2011-04-08T18:12:10.047+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13017579","id":"13017579","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"body":"In my previous comment, I forgot a couple of important details.\n\nFirst, the memory condition was a result of having memoryUsage limit of \"512 mb\" with a max heap of 512MB due to a misconfiguration in this particular environment.\n\nSecond, stack trace for the java.io.EOFException:\n \njava.io.DataInputStream.readInt(DataInputStream.java:358)\norg.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:269)\norg.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:227)\norg.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:219)\norg.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:202)\njava.lang.Thread.run(Thread.java:595)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"created":"2011-04-08T18:14:09.146+0000","updated":"2011-04-08T18:14:09.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13059868","id":"13059868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lexsoto","name":"lexsoto","key":"lexsoto","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Soto","active":true,"timeZone":"America/New_York"},"body":"Running into this exact same problem, sometimes resulting in \"Too many open files\" error that really renders the server unusable.  Adjusting memory settings as suggested by Scott Emmons seem to help with the \"Too many open files\" errors, but I am still seeing the \"Transport failed: java.io.EOFException\" errors in the server.  I am afraid this error will cause some other problem eventually. Please help!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lexsoto","name":"lexsoto","key":"lexsoto","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Soto","active":true,"timeZone":"America/New_York"},"created":"2011-07-05T12:41:01.690+0000","updated":"2011-07-05T12:41:01.690+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13060258","id":"13060258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"body":"A couple of comments on this...\n\n1 - TaskRunnerFactory bug mentioned above has not, to my knowledge been fixed. This is a rather serious condition in that ActiveMQ will only try 1000 times (regardless of how configured) if the configuration is as described above, and then give up - silently and forever wedging the connection.\n\n2. Since my comments a few months back, we have discovered an additional, and very common source of EOFExceptions - and it's not a problem, but the logging of ActiveMQ is sort of misleading. Whenever a client closes a JMS connection under normal conditions, the server will report an EOFException. This also can happen in a network of brokers after a connection is idle for some period of time. Unfortunately, the logging does not disambiguate EOFExceptions as a result of normal connection shutdown (it could, if the client reported this fact to the server). On our spring-based clients we see this alot, because it creates/destroys JMS connections - but I don't know if this is due to bad code or configuration on our part, or is a limitation of spring.\n\nHope this helps lead in the right direction...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scotte","name":"scotte","key":"scotte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Emmons","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-06T03:34:25.010+0000","updated":"2011-07-06T03:34:25.010+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13085553","id":"13085553","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fjjiaboming","name":"fjjiaboming","key":"fjjiaboming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"LinZuXiong","active":true,"timeZone":"Asia/Chongqing"},"body":"Transport failed: java.io.EOFException\nActiveMQ 5.5, too. \n\nAnd ActiveMQ cannot restore.  \ncd ${mq_dir}/bin\nway 1: ./activemq stop\n      then ./activemq start\nway 2: ./activemq restart\n\nwhen every client connect the broker , the ActiveMQ server print Transport failed: java.io.EOFException...\n\n\n--\nAnd then I found a detail , after a while , such two minute or more,\nthe client , the ActiveMQ server doesnot print Transport failed . Why no Exception???\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fjjiaboming","name":"fjjiaboming","key":"fjjiaboming","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"LinZuXiong","active":true,"timeZone":"Asia/Chongqing"},"created":"2011-08-16T06:05:20.028+0000","updated":"2011-08-16T06:20:36.138+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13085555","id":"13085555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeronimo.azevedo%40dt.ept.lu","name":"jeronimo.azevedo@dt.ept.lu","key":"jeronimo.azevedo@dt.ept.lu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeronimo Azevedo","active":true,"timeZone":"Etc/UTC"},"body":"I am out of office statring monday 08 august till friday 19 august.\nFor any APS/WebServices please contact Jerome Neumanns.\nFor any other questions you can contact bb-staff@ept.lu\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeronimo.azevedo%40dt.ept.lu","name":"jeronimo.azevedo@dt.ept.lu","key":"jeronimo.azevedo@dt.ept.lu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeronimo Azevedo","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-16T06:08:28.722+0000","updated":"2011-08-16T06:08:28.722+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13091267","id":"13091267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"These sorts or error messages are normal when the connections are broken between client and server.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-25T20:02:50.362+0000","updated":"2011-08-25T20:02:50.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/13159972","id":"13159972","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"spotted the comment above about the task runner and build a quick sanity test. When the max iterations is exceeded the task is enqueued if not done and the reconnects can continue. http://svn.apache.org/viewvc?rev=1208377&view=rev","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-30T11:00:35.007+0000","updated":"2011-11-30T11:00:35.007+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/14261958","id":"14261958","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=siddeshwar_hiremath","name":"siddeshwar_hiremath","key":"siddeshwar_hiremath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"siddeshwar_hiremath","active":true,"timeZone":"Etc/UTC"},"body":"2014-12-31 05:41:38,396 | DEBUG | Running WriteCheck[tcp://127.0.0.1:52513] | org.apache.activemq.transport.AbstractInactivityMonitor | ActiveMQ InactivityMonitor Worker\n2014-12-31 05:41:40,132 | DEBUG | 30000ms elapsed since last read check. | org.apache.activemq.transport.AbstractInactivityMonitor | ActiveMQ InactivityMonitor ReadCheckTimer\n2014-12-31 05:41:40,134 | DEBUG | WriteChecker: 9999ms elapsed since last write check. | org.apache.activemq.transport.AbstractInactivityMonitor | ActiveMQ InactivityMonitor WriteCheckTimer\n2014-12-31 05:41:40,135 | DEBUG | Running WriteCheck[tcp://127.0.0.1:52516] | org.apache.activemq.transport.AbstractInactivityMonitor | ActiveMQ InactivityMonitor Worker\n2014-12-31 05:41:41,008 | DEBUG | Transport Connection to: tcp://127.0.0.1:52770 failed: java.io.EOFException | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ NIO Worker 2\njava.io.EOFException\n        at org.apache.activemq.transport.nio.NIOTransport.serviceRead(NIOTransport.java:98)[activemq-client-5.10.0.jar:5.10.0]\n        at org.apache.activemq.transport.nio.NIOTransport$1.onSelect(NIOTransport.java:69)[activemq-client-5.10.0.jar:5.10.0]\n        at org.apache.activemq.transport.nio.SelectorSelection.onSelect(SelectorSelection.java:94)[activemq-client-5.10.0.jar:5.10.0]\n        at org.apache.activemq.transport.nio.SelectorWorker$1.run(SelectorWorker.java:119)[activemq-client-5.10.0.jar:5.10.0]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)[:1.7.0_40]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)[:1.7.0_40]\n        at java.lang.Thread.run(Thread.java:724)[:1.7.0_40]\n2014-12-31 05:41:41,009 | DEBUG | Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=nio_//localhost_61616&qe;transport.keepAlive&amp;true&transport.wireFormat.maxFrameSize&amp;104857600&useQueueForAccept&amp;false,connectionViewType=remoteAddress,connectionName=tcp_//127.0.0.1_52770 | org.apache.activemq.broker.jmx.ManagementContext | ActiveMQ NIO Worker 2\n2014-12-31 05:41:41,013 | DEBUG | Stopping connection: tcp://127.0.0.1:52770 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[localhost] Task-3\n2014-12-31 05:41:41,015 | DEBUG | Stopping transport tcp:///127.0.0.1:52770@61616 | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ BrokerService[localhost] Task-3\n2014-12-31 05:41:41,017 | DEBUG | Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@6721ffbf[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[localhost] Task-3\n2014-12-31 05:41:41,018 | DEBUG | Closed socket Socket[unconnected] | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task-1\n2014-12-31 05:41:41,020 | DEBUG | Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6721ffbf[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0] | org.apache.activemq.util.ThreadPoolUtils | ActiveMQ BrokerService[localhost] Task-3\n2014-12-31 05:41:41,020 | DEBUG | Stopped transport: null | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[localhost] Task-3\n2014-12-31 05:41:41,020 | DEBUG | Connection Stopped: null | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[localhost] Task-3\n2014-12-31 05:41:42,629 | DEBUG | Checkpoint started. | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=siddeshwar_hiremath","name":"siddeshwar_hiremath","key":"siddeshwar_hiremath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"siddeshwar_hiremath","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-31T05:49:29.814+0000","updated":"2014-12-31T05:49:29.814+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483862/comment/14261969","id":"14261969","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=siddeshwar_hiremath","name":"siddeshwar_hiremath","key":"siddeshwar_hiremath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"siddeshwar_hiremath","active":true,"timeZone":"Etc/UTC"},"body":"java.io.EOFException\n\nsee the above log trace for complete detail.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=siddeshwar_hiremath","name":"siddeshwar_hiremath","key":"siddeshwar_hiremath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"siddeshwar_hiremath","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-31T06:10:57.111+0000","updated":"2014-12-31T06:10:57.111+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2730/votes","votes":5,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0sui7:"}}