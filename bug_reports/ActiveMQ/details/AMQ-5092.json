{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12700632","self":"https://issues.apache.org/jira/rest/api/2/issue/12700632","key":"AMQ-5092","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324950","id":"12324950","name":"5.10.0","archived":false,"released":true,"releaseDate":"2014-06-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-03-11T13:57:47.794+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri May 02 10:13:50 UTC 2014","customfield_12310420":"378349","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_119561261_*|*_5_*:*_2_*:*_802611812_*|*_4_*:*_1_*:*_3593722390","customfield_12312321":null,"resolutiondate":"2014-05-02T10:13:50.630+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5092/watchers","watchCount":4,"isWatching":false},"created":"2014-03-11T03:48:55.208+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323932","id":"12323932","name":"5.9.0","archived":false,"released":true,"releaseDate":"2013-10-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-05-02T10:13:50.667+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12318701","id":"12318701","name":"MQTT","description":"MQTT Transport"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"MQTT protocol converters does not correctly generate unique packet ids for retained and non-retained publish messages sent to clients. MQTT requires that all Publish messages with QoS > 0 must have a unique packet id which can be used by clients to coordinate the PUBACK, PUBREC, PUBREL and PUBCOMP messages depending upon the QoS flow. \n\nAlthough retained messages published on creation of client subscriptions are copies of retained messages, they must carry a unique packet id when dispatched to clients. ActiveMQ re-uses the retained message's packet id, which makes it difficult to acknowledge these messages when wildcard topics are used. \n\nActiveMQ also sends the same non-retained message multiple times for every matching subscription for overlapping subscriptions. These messages also re-use the publisher's message id as the packet id, which breaks client acknowledgment. \n\nA patch is included, which fixes all the above scenarios. It generates a unique packet id for every publish (retained and non-retained), and also ensures that redelivery on the same connection will re-use message ids, with the dup flag set. The patch also maps JMS redelivery status for a subscription to the MQTT Dup flag to indicate duplicate messages. Unit tests are included to test correct packet id generation. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12633848","id":"12633848","filename":"AMQ-5092.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-11T03:58:56.257+0000","size":15805,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12633848/AMQ-5092.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12634001","id":"12634001","filename":"AMQ-5092.patch2","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-11T20:48:48.293+0000","size":18210,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12634001/AMQ-5092.patch2"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12636107","id":"12636107","filename":"AMQ-5092.patch3","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-21T20:53:07.136+0000","size":25654,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12636107/AMQ-5092.patch3"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12636331","id":"12636331","filename":"AMQ-5092.patch4","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T14:01:49.897+0000","size":8805,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12636331/AMQ-5092.patch4"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10042","value":"Patch Available","id":"10042"}],"customfield_12310921":null,"customfield_12310920":"378641","customfield_12312823":null,"summary":"MQTT uses duplicate packet IDs for PUBLISH messages","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13929922","id":"13929922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch to fix MQTT publish packet id generation","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-11T03:58:56.260+0000","updated":"2014-03-11T03:58:56.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13930338","id":"13930338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Dhiraj,\n\nI ran the tests with the patch and I think I see a regression.\n\n{code}testResendMessageId(org.apache.activemq.transport.mqtt.MQTTSSLTest)  Time elapsed: 0.039 sec  <<< ERROR!\njava.net.ProtocolException: Command from server contained an invalid message id: 2{code}\n\nWonder if you can reproduce this on your side?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2014-03-11T13:57:47.794+0000","updated":"2014-03-11T13:57:47.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13930863","id":"13930863","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Dejan,\n\nI was able to reproduce the error, but the failure doesn't happen every time the tests are run. I investigated a little more and looks like its related to AMQ-4712. The tests fail when the client apparently reads the same SUBACK packet twice, even though the server only sends it once. \n\nSince the same tests have no issues in the non-SSL MQTTTest, it seems like an issue in SslProtocolCodec.secure_read(). But I am not familiar with the code so can't narrow it down further. \n\nCan we mark the failing test as ignored in MQTTSSLTest for now, and get the fix in for non-SSL case? \n\nThanks,\nDhiraj. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-11T20:04:52.703+0000","updated":"2014-03-11T20:04:52.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13930915","id":"13930915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"On further testing, it doesn't seem to be happening in SslProtocolCodec.secure_read(). Its hard to pin down where its happening, MQTTProtocolCodec seems to be reading the same buffer twice, but I can't determine why its doing so. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-11T20:35:28.066+0000","updated":"2014-03-11T20:35:28.066+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13930926","id":"13930926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"I am attaching an updated patch with a fix in a unit test for another intermittent failure when messages arrive slightly out of order for overlapping subscriptions. I have also refined the tests to add a slight delay after removing and creating subscriptions in testResendMessageId(), which seems to let the test pass now. \n\nPlease test with the updated patch instead of the previous one. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-11T20:48:48.297+0000","updated":"2014-03-11T20:48:48.297+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13931727","id":"13931727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"patch applied with thanks in http://git-wip-us.apache.org/repos/asf/activemq/commit/67f151fe","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2014-03-12T13:01:36.462+0000","updated":"2014-03-12T13:01:36.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13943475","id":"13943475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"Packet id generation must resume id sequence after client reconnects","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-21T19:58:28.269+0000","updated":"2014-03-21T19:58:28.269+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13943528","id":"13943528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching patch3 to fix packet id generation, resolves resendMessageId() test failures, also adds a couple of extra unit tests to check id generation for cleansession=0 and cleansession=1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-21T20:53:07.141+0000","updated":"2014-03-21T20:53:07.141+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13943550","id":"13943550","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"patch applied on trunk with thanks.  Tests are all passing here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2014-03-21T21:11:36.983+0000","updated":"2014-03-21T21:11:36.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13945111","id":"13945111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Tim. I pulled from masterrep/trunk and see that the changes to MQTTTest in .patch3 were not merged. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T13:56:34.868+0000","updated":"2014-03-24T13:56:34.868+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13945119","id":"13945119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"Adding patch4 for unit tests for cleansession 0 and 1 id generation","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-24T14:01:49.907+0000","updated":"2014-03-24T14:01:49.907+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13945144","id":"13945144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Added in the missing test. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2014-03-24T14:17:10.948+0000","updated":"2014-03-24T14:17:10.948+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13984394","id":"13984394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Dhiraj, can we consider this resolved now?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2014-04-29T15:17:18.062+0000","updated":"2014-04-29T15:17:18.062+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13987305","id":"13987305","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"body":"[~tabish121] Yes, we can mark this resolved","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhirajsb","name":"dhirajsb","key":"dhirajsb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhirajsb&avatarId=17669","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirajsb&avatarId=17669","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirajsb&avatarId=17669","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirajsb&avatarId=17669"},"displayName":"Dhiraj Bokde","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-02T04:04:31.967+0000","updated":"2014-05-02T04:04:31.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12700632/comment/13987556","id":"13987556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Fixed on trun","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2014-05-02T10:13:50.662+0000","updated":"2014-05-02T10:13:50.662+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5092/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1t6zb:"}}