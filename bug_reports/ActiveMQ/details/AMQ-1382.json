{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482923","self":"https://issues.apache.org/jira/rest/api/2/issue/12482923","key":"AMQ-1382","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2007-09-06T22:14:49.485+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Sep 05 01:53:05 UTC 2015","customfield_12310420":"92053","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_19742151_*|*_1_*:*_1_*:*_503017_*|*_5_*:*_2_*:*_22867582906_*|*_4_*:*_1_*:*_33938977481","customfield_12312321":null,"resolutiondate":"2009-06-25T09:50:49.878+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1382/watchers","watchCount":8,"isWatching":false},"created":"2007-09-06T16:37:24.323+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-05T01:53:05.740+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"With AMQ 5.0 everytime AMQ runs the following directory structure is created:\n\n/activemq-data/localhost/tmp_storage.\n\nThis didn't happen in AMQ 4.1.0.X and looks to be a side effect of the new temporary spooling feature in 5.x.\n\nSince the broker is configured to be non-persistent, ActiveMQ should not be creating this directory. \n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12474553","id":"12474553","filename":"AMQ-1382_Unit_Test1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adkudlick","name":"adkudlick","key":"adkudlick","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Kudlick","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-24T19:45:34.151+0000","size":6074,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12474553/AMQ-1382_Unit_Test1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"255075","customfield_12312823":null,"summary":"Unnecessary creation of /activemq-data/localhost/tmp_storage directory with AMQ 5.x","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dave_stanley","name":"dave_stanley","key":"dave_stanley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dave Stanley","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dave_stanley","name":"dave_stanley","key":"dave_stanley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dave Stanley","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"NA","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12938431","id":"12938431","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"body":"fixed in rev 573397","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"created":"2007-09-06T22:14:49.485+0000","updated":"2007-09-06T22:14:49.485+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12939740","id":"12939740","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romantic","name":"romantic","key":"romantic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuriy","active":true,"timeZone":"Etc/UTC"},"body":"This issue is reproduced in activemq 5.1.0\n\nThe directory structure \"activemq-data\\localhost\\tmp_storage\" is created within current directory after starting of ActiveMQ.\nPersistent mode is used. Location of created directories is not controlled by \"directory\" attribute of amqPersistenceAdapter:\ndirectory structure is always created in current directory and \"tmp_storage\" folder remains empty.\n\nXML Configuration file:\n  <broker xmlns=\"http://activemq.apache.org/schema/core\" brokerName=\"localhost\" persistent=\"true\">\n  ...\n    <persistenceAdapter>\n        <amqPersistenceAdapter syncOnWrite=\"false\" directory=\"${MYROOTl}/jmsserver/data\" maxFileLength=\"100 mb\"/>\n    </persistenceAdapter>  \n  ...\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romantic","name":"romantic","key":"romantic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuriy","active":true,"timeZone":"Etc/UTC"},"created":"2008-05-28T14:21:12.362+0000","updated":"2008-05-28T14:21:12.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12939823","id":"12939823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsigelnik","name":"tsigelnik","key":"tsigelnik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dima","active":true,"timeZone":"Australia/Sydney"},"body":"the same thing \ntmp_storage creator ignores  \"directory\" attribute\nI've just added \"cd /var/lib/activemq\" to my startup script","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsigelnik","name":"tsigelnik","key":"tsigelnik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dima","active":true,"timeZone":"Australia/Sydney"},"created":"2008-06-18T12:17:38.751+0000","updated":"2008-06-18T12:17:38.751+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12940023","id":"12940023","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aburgel","name":"aburgel","key":"aburgel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Burgel","active":true,"timeZone":"Etc/UTC"},"body":"this still exists in 5.2-20080803.231633-64.\n\na work around is to specify dataDirectory in your xml config like so:\n\n<broker xmlns=\"http://activemq.apache.org/schema/core\" brokerName=\"localhost\" persistent=\"true\" dataDirectory=\"/var/lib/activemq/\">\n\nthe tmp directory will be created within dataDirectory.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aburgel","name":"aburgel","key":"aburgel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Burgel","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T15:24:47.134+0000","updated":"2008-08-05T15:24:47.134+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12940243","id":"12940243","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billonahill","name":"billonahill","key":"billonahill","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bill graham","active":true,"timeZone":"Etc/UTC"},"body":"FYI, the workaround mentioned above does not work in AMQ 5.1 or the latest activemq-core-5.3-20080911.231559-3 build. the settings for both dataDirectory and brokerName get ignored, regardless of whether I configure them on the broker or on the persistanceAdapter.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billonahill","name":"billonahill","key":"billonahill","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bill graham","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-17T23:13:21.058+0000","updated":"2008-09-17T23:13:21.058+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12940246","id":"12940246","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dave_stanley","name":"dave_stanley","key":"dave_stanley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dave Stanley","active":true,"timeZone":"America/New_York"},"body":"As a workaround, I think changing the tmpDataDirectory in your spring configuration should allow you to configure the location of this directory @ a friendly location. \n\n{code}\n<broker ... tmpDataDirectory=\"/somplace/tmp_storage\" >\n  ...\n</broker>\n{code}\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dave_stanley","name":"dave_stanley","key":"dave_stanley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dave Stanley","active":true,"timeZone":"America/New_York"},"created":"2008-09-18T01:51:58.487+0000","updated":"2008-09-18T01:51:58.487+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12941611","id":"12941611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"setting dataDirectoryFile or tmpDataDirectory  (both of which take File object) in spring xml config will allow the temp directory to be specified in 5.3.\nAn alternative is to specify the System Property ,\n'org.apache.activemq.default.directory.prefix' which will be prefixed to the default data directory location activemq-data","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-25T09:50:49.856+0000","updated":"2009-06-25T09:50:49.856+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/12941769","id":"12941769","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davidnewcomb","name":"davidnewcomb","key":"davidnewcomb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Newcomb","active":true,"timeZone":"Etc/UTC"},"body":"Hiram Chirino said the issue was fixed on 06/Sep/07, but the comments suggest that the issue has reoccurred. This issue is marked as \"Working as Designed\" but the comments seem to say you should set the tmp Directory to something nicer.\nHas the original issue been fixed or not? I've got 5.2 and its still creating <somewhere>\\activemq-data\\localhost\\tmp_storage. Has the code been fixed so that this folder is not created?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davidnewcomb","name":"davidnewcomb","key":"davidnewcomb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Newcomb","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-20T16:21:16.029+0000","updated":"2009-07-20T16:21:16.029+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/13010876","id":"13010876","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adkudlick","name":"adkudlick","key":"adkudlick","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Kudlick","active":true,"timeZone":"Etc/UTC"},"body":"It's fixed.  I attached a unit test patch that demonstrates that the bug exists using AMQ 5.2, but not in 5.4.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adkudlick","name":"adkudlick","key":"adkudlick","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Kudlick","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-24T19:46:15.676+0000","updated":"2011-03-24T19:46:15.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/13222155","id":"13222155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xbhanu","name":"xbhanu","key":"xbhanu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Bhanu","active":true,"timeZone":"Etc/UTC"},"body":"Seeing this issue in version 5.5.1\ntmp_storage is hogging about 2.8 gigs wheresas the actual kahadb_dir specified by me is only 340 megs.\nWeird thing is <activemq_data>/<broker_name>/tmp_storage gets created in our production setup but not test setup. What exactly does its creation depend upon ? and why does is it eating up so much space ?\nGuys, any help here ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xbhanu","name":"xbhanu","key":"xbhanu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Bhanu","active":true,"timeZone":"Etc/UTC"},"created":"2012-03-05T03:43:20.529+0000","updated":"2012-03-05T03:43:20.529+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/13222160","id":"13222160","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xbhanu","name":"xbhanu","key":"xbhanu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Bhanu","active":true,"timeZone":"Etc/UTC"},"body":"Also, In my jconsole for test setup I see under the broker bean that the attribute DataDirectory points to /u/testuser/activemq-data whereas no such directory is specified/created, all kahadb logs go to the directory specified in broker xml.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xbhanu","name":"xbhanu","key":"xbhanu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Bhanu","active":true,"timeZone":"Etc/UTC"},"created":"2012-03-05T04:14:11.387+0000","updated":"2012-03-05T04:14:11.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482923/comment/14731700","id":"14731700","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=volkerk","name":"volkerk","key":"volkerk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Volker Kleinschmidt","active":true,"timeZone":"America/Chicago"},"body":"The tmp_storage directory is used to store non-persistent messages when their creation occurs faster than their consumption (i.e. when the consumer is slow). You really have no control over whether this gets created or not - it happens dynamically as needed. But you do have settings to control how much memory and disk space the broker may use, and by allocating more memory to the broker you can often prevent the use of tmp_storage.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=volkerk","name":"volkerk","key":"volkerk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Volker Kleinschmidt","active":true,"timeZone":"America/Chicago"},"created":"2015-09-05T01:53:05.740+0000","updated":"2015-09-05T01:53:05.740+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1382/votes","votes":7,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i181on:"}}