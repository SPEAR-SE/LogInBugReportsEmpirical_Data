{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12662844","self":"https://issues.apache.org/jira/rest/api/2/issue/12662844","key":"AMQ-4676","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323932","id":"12323932","name":"5.9.0","archived":false,"released":true,"releaseDate":"2013-10-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-08-09T12:58:40.777+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Aug 24 01:44:02 UTC 2013","customfield_12310420":"342846","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1241234983_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-08-23T21:28:16.384+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4676/watchers","watchCount":3,"isWatching":false},"created":"2013-08-09T12:41:01.421+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323282","id":"12323282","description":"Maintenance release with new AMQP support and smaller modules","name":"5.8.0","archived":false,"released":true,"releaseDate":"2013-02-11"}],"issuelinks":[{"id":"12374488","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12374488","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12666053","key":"AMQ-4698","self":"https://issues.apache.org/jira/rest/api/2/issue/12666053","fields":{"summary":"Failed to deploy AMQ to Glassfish 4","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-08-29T13:43:52.609+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315705","id":"12315705","name":"activemq-camel","description":"camel activemq component"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12315706","id":"12315706","name":"stomp"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"ActiveMQ is not compliant with JSR-250, which states:\n2.5 javax.annotation.PostConstruct:\n [...]\n - The method MUST NOT throw a checked exception.\n - If the method throws an unchecked exception the class MUST NOT be put into\nservice. In the case of EJBs the method annotated with PostConstruct can\nhandle exceptions and cleanup before the bean instance is discarded.\n\n2.6 javax.annotation.PreDestroy\n(same as above)\n\nAn exception was thrown when attempting to deploy an application using the activemq-rar-5.8 on GF 4.0, but I believe it's safe to say that this can occur in different containers - if not now, potentially between container releases.  \n\nIncluded are patches that fix this in all ActiveMQ components.  Most check exceptions thrown were Exception, which was changed to RuntimeException (trapped and wrapped).  There were also IOExceptions being thrown, in which case ActiveMQ-broker now has an IORuntimeException class that is thrown.  Any downstream catches that handled the check exceptions have been converted to catch the RuntimeExceptions.\n\nThis was also reported under AMQ-4673, but the scope of that issue was a lot more limited.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597090","id":"12597090","filename":"activemq-broker_AMQ-4676v2.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T15:16:34.525+0000","size":6624,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12597090/activemq-broker_AMQ-4676v2.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597091","id":"12597091","filename":"activemq-camel_AMQ-4676v2.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T15:16:34.527+0000","size":1991,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12597091/activemq-camel_AMQ-4676v2.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597122","id":"12597122","filename":"activemq-spring_AMQ-4676v2.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T17:39:55.819+0000","size":15704,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12597122/activemq-spring_AMQ-4676v2.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597093","id":"12597093","filename":"activemq-stomp_AMQ-4676v2.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T15:16:34.531+0000","size":1415,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12597093/activemq-stomp_AMQ-4676v2.diff"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10042","value":"Patch Available","id":"10042"}],"customfield_12310921":null,"customfield_12310920":"343150","customfield_12312823":null,"summary":"ActiveMQ not compliant with JSR-250 (@PostConstruct, @PreDestroy)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12662844/comment/13734742","id":"13734742","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"@Steve thank for the patch. It is great to see an problem report with a solution :-)\nI had a quick peek at the broker diff, there are a bunch of white space/formatting changes that make it difficult to easily see what has changed but it seems sensible.\none thought; rather than change the signature of the existing methods that folks may depend on, it may be better to move the annotations to new wrapper methods with the suppressed/modified exceptions. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T12:58:40.777+0000","updated":"2013-08-09T12:58:40.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12662844/comment/13734747","id":"13734747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"body":"That's a really good idea.  Would you like me to provide a patch with that solution?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T13:07:39.072+0000","updated":"2013-08-09T13:07:39.072+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12662844/comment/13734766","id":"13734766","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"yes please!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T13:28:12.730+0000","updated":"2013-08-09T13:28:12.730+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12662844/comment/13734884","id":"13734884","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"body":"Attached new patches that does not cause potential backwards incompatible signature changes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-09T15:16:34.533+0000","updated":"2013-08-09T15:16:34.533+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12662844/comment/13749006","id":"13749006","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Made changes to trunk based on these patches, code has changed a bit since 5.8.0.  Might want to double check that I got them all. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-08-23T21:28:16.400+0000","updated":"2013-08-23T21:28:16.400+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12662844/comment/13749230","id":"13749230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"body":"Just wanted to verify, I checked out the latest trunk and looks like you got them all.  Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smsiebe","name":"smsiebe","key":"smsiebe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Siebert","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-24T01:44:02.689+0000","updated":"2013-08-24T01:44:02.689+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4676/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1n4jr:"}}