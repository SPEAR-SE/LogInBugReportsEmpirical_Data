{
  "expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations",
  "id": "12782610",
  "self": "https://issues.apache.org/jira/rest/api/2/issue/12782610",
  "key": "AMQ-5671",
  "fields": {
    "issuetype": {
      "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
      "id": "1",
      "description": "A problem which impairs or prevents the functions of the product.",
      "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
      "name": "Bug",
      "subtask": false,
      "avatarId": 21133
    },
    "timespent": null,
    "project": {
      "self": "https://issues.apache.org/jira/rest/api/2/project/12311210",
      "id": "12311210",
      "key": "AMQ",
      "name": "ActiveMQ",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011",
        "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011",
        "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011",
        "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"
      },
      "projectCategory": {
        "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/11160",
        "id": "11160",
        "description": "ActiveMQ",
        "name": "ActiveMQ"
      }
    },
    "fixVersions": [],
    "aggregatetimespent": null,
    "resolution": {
      "self": "https://issues.apache.org/jira/rest/api/2/resolution/2",
      "id": "2",
      "description": "The problem described is an issue which will never be fixed.",
      "name": "Won't Fix"
    },
    "customfield_12312322": null,
    "customfield_12310220": "2017-02-06T14:24:12.032+0000",
    "customfield_12312520": null,
    "customfield_12312323": null,
    "customfield_12312521": "Mon Feb 06 14:24:12 UTC 2017",
    "customfield_12310420": "9223372036854775807",
    "customfield_12312320": null,
    "customfield_12310222": "1_*:*_1_*:*_59780737502_*|*_6_*:*_1_*:*_0",
    "customfield_12312321": null,
    "resolutiondate": "2017-02-06T14:24:11.991+0000",
    "workratio": -1,
    "customfield_12312328": null,
    "customfield_12312329": null,
    "customfield_12312923": null,
    "customfield_12312326": null,
    "customfield_12312920": null,
    "customfield_12310300": null,
    "customfield_12312327": null,
    "customfield_12312921": null,
    "customfield_12312324": null,
    "customfield_12312720": null,
    "customfield_12312325": null,
    "lastViewed": null,
    "watches": {
      "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-5671/watchers",
      "watchCount": 2,
      "isWatching": false
    },
    "created": "2015-03-17T16:38:34.550+0000",
    "priority": {
      "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
      "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
      "name": "Major",
      "id": "3"
    },
    "labels": [],
    "customfield_12312333": null,
    "customfield_12312334": null,
    "customfield_12313422": "false",
    "customfield_12310310": "0.0",
    "customfield_12312331": null,
    "customfield_12312332": null,
    "timeestimate": null,
    "aggregatetimeoriginalestimate": null,
    "customfield_12311120": null,
    "customfield_12312330": null,
    "versions": [
      {
        "self": "https://issues.apache.org/jira/rest/api/2/version/12329382",
        "id": "12329382",
        "name": "5.11.1",
        "archived": false,
        "released": true,
        "releaseDate": "2015-02-17"
      }
    ],
    "issuelinks": [],
    "customfield_12312339": null,
    "assignee": null,
    "customfield_12312337": null,
    "customfield_12312338": null,
    "updated": "2017-02-06T14:24:12.045+0000",
    "customfield_12312335": null,
    "customfield_12312336": null,
    "status": {
      "self": "https://issues.apache.org/jira/rest/api/2/status/6",
      "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
      "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
      "name": "Closed",
      "id": "6",
      "statusCategory": {
        "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
        "id": 3,
        "key": "done",
        "colorName": "green",
        "name": "Done"
      }
    },
    "components": [
      {
        "self": "https://issues.apache.org/jira/rest/api/2/component/12320200",
        "id": "12320200",
        "name": "activemq-leveldb-store",
        "description": "LevelDB based message store"
      }
    ],
    "timeoriginalestimate": null,
    "customfield_12310080": null,
    "description": "Paired Master/Slave - with a client app publishing and subscribing to them.\nI can fail the Master and restart it and the cluster will restart happily.\n\nIf I fail the Slave, and it restarts and remains the slave, again everything is OK.\n\nHowever, if I fail the Slave and it becomes the Master, it always fails and shuts down.\n\nThis is repeatable 100% of the time assuming the failed Slave becomes the master upon restart.\n\n\n2015-03-17 16:11:23,092 | INFO  | Stopping BrokerService[localhost] due to exception, java.io.IOException: 283 | org.apache.activemq.util.DefaultIOExcep\ntionHandler | LevelDB IOException handler.\njava.io.IOException: 283\n        at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:39)[activemq-client-5.11.1.jar:5.11.1]\n        at org.apache.activemq.leveldb.LevelDBClient.might_fail(LevelDBClient.scala:552)[activemq-leveldb-store-5.11.1.jar:5.11.1]\n        at org.apache.activemq.leveldb.LevelDBClient.might_fail_using_index(LevelDBClient.scala:1044)[activemq-leveldb-store-5.11.1.jar:5.11.1]\n        at org.apache.activemq.leveldb.LevelDBClient.collectionCursor(LevelDBClient.scala:1357)[activemq-leveldb-store-5.11.1.jar:5.11.1]\n        at org.apache.activemq.leveldb.LevelDBClient.queueCursor(LevelDBClient.scala:1271)[activemq-leveldb-store-5.11.1.jar:5.11.1]\n        at org.apache.activemq.leveldb.DBManager.cursorMessages(DBManager.scala:735)[activemq-leveldb-store-5.11.1.jar:5.11.1]\n        at org.apache.activemq.leveldb.LevelDBStore$LevelDBMessageStore.recoverNextMessages(LevelDBStore.scala:860)[activemq-leveldb-store-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:109)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:381)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:142)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:159)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1897)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:2119)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.broker.region.Queue.iterate(Queue.java:1596)[activemq-broker-5.11.1.jar:5.11.1]\n        at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:133)[activemq-client-5.11.1.jar:5.11.1]\n        at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:48)[activemq-client-5.11.1.jar:5.11.1]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)[:1.7.0_21]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)[:1.7.0_21]\n        at java.lang.Thread.run(Thread.java:722)[:1.7.0_21]\n2015-03-17 16:11:23,094 | INFO  | Apache ActiveMQ 5.11.1 (localhost, ID:example.com-52568-1426608682673-0:1) is shutting down | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\n\n\n\n\n\n\n\n\n\n\n\n\n\n <replicatedLevelDB\n                hostname=\"example.com\"\n                directory=\"${activemq.data}/broker/ldn-data-2\"\n                securityToken=\"LDN.Prod.Broker\"\n                weight=\"2\"\n                replicas=\"2\"\n                bind=\"tcp://example.com:61619\"\n                zkAddress=\"example.com:2181,example.com:2181\"\n                zkPassword=\"\"\n                zkPath=\"/activemq/ldn-leveldb-stores\"\n             />\n",
    "customfield_10010": null,
    "timetracking": {},
    "customfield_12312026": null,
    "customfield_12312023": null,
    "customfield_12312024": null,
    "customfield_12312340": null,
    "attachment": [],
    "aggregatetimeestimate": null,
    "customfield_12312341": null,
    "customfield_12312220": null,
    "customfield_12312022": null,
    "customfield_12310041": null,
    "customfield_12310921": null,
    "customfield_12310920": "9223372036854775807",
    "customfield_12312823": null,
    "summary": "two server ReplicatedDB cluster fails when Slave restarts and becomes Master",
    "creator": {
      "self": "https://issues.apache.org/jira/rest/api/2/user?username=burraget",
      "name": "burraget",
      "key": "burraget",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
      },
      "displayName": "Tim Burrage",
      "active": true,
      "timeZone": "Etc/UTC"
    },
    "subtasks": [],
    "customfield_12310291": null,
    "reporter": {
      "self": "https://issues.apache.org/jira/rest/api/2/user?username=burraget",
      "name": "burraget",
      "key": "burraget",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
      },
      "displayName": "Tim Burrage",
      "active": true,
      "timeZone": "Etc/UTC"
    },
    "customfield_12310290": null,
    "aggregateprogress": {
      "progress": 0,
      "total": 0
    },
    "customfield_12311024": null,
    "environment": "Red Hat Enterprise Linux Server release 6.5\nJava 1_7_0_21_64bit",
    "customfield_12313520": null,
    "customfield_12311020": null,
    "duedate": null,
    "customfield_12310250": null,
    "progress": {
      "progress": 0,
      "total": 0
    },
    "comment": {
      "comments": [
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/12782610/comment/15854074",
          "id": "15854074",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=cshannon",
            "name": "cshannon",
            "key": "christopher.l.shannon",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=christopher.l.shannon&avatarId=24614",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=christopher.l.shannon&avatarId=24614",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=christopher.l.shannon&avatarId=24614",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=christopher.l.shannon&avatarId=24614"
            },
            "displayName": "Christopher L. Shannon",
            "active": true,
            "timeZone": "America/New_York"
          },
          "body": "LevelDB has been deprecated and is no longer supported.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=cshannon",
            "name": "cshannon",
            "key": "christopher.l.shannon",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=christopher.l.shannon&avatarId=24614",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=christopher.l.shannon&avatarId=24614",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=christopher.l.shannon&avatarId=24614",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=christopher.l.shannon&avatarId=24614"
            },
            "displayName": "Christopher L. Shannon",
            "active": true,
            "timeZone": "America/New_York"
          },
          "created": "2017-02-06T14:24:12.032+0000",
          "updated": "2017-02-06T14:24:12.032+0000"
        }
      ],
      "maxResults": 1,
      "total": 1,
      "startAt": 0
    },
    "votes": {
      "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-5671/votes",
      "votes": 0,
      "hasVoted": false
    },
    "worklog": {
      "startAt": 0,
      "maxResults": 20,
      "total": 0,
      "worklogs": []
    },
    "customfield_12311820": "0|i26vhz:"
  }
}