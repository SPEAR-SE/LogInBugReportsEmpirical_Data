{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483322","self":"https://issues.apache.org/jira/rest/api/2/issue/12483322","key":"AMQ-1942","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-04-13T13:16:23.336+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Aug 13 22:29:38 UTC 2011","customfield_12310420":"14531","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_87883895865_*|*_6_*:*_1_*:*_66210216_*|*_5_*:*_1_*:*_0_*|*_4_*:*_1_*:*_3657303305","customfield_12312321":null,"resolutiondate":"2011-08-13T22:29:38.665+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1942/watchers","watchCount":2,"isWatching":false},"created":"2008-09-17T15:59:29.353+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":72000,"aggregatetimeoriginalestimate":72000,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315618","id":"12315618","description":"","name":"5.1.0","archived":false,"released":true,"releaseDate":"2008-05-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-09-20T10:42:11.133+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":72000,"customfield_12310080":null,"description":"JMS SQL92 numeric selectors, such as \n  - < > <= >=\n  - BETWEEN val AND val\n\nFail to work via STOMP.\n\nPossible solutions:\n  1.  String Operands to numeric selector operators are converted to Numeric types\n       - only in STOMP?\n  2.  Explicit casting to SQL92 Numeric types becomes supported in selectors, ie\n       - ( INTEGER(field) <= 5)\n\n","customfield_10010":null,"timetracking":{"originalEstimate":"20h","remainingEstimate":"20h","originalEstimateSeconds":72000,"remainingEstimateSeconds":72000},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":72000,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59646","customfield_12312823":null,"summary":"Numeric selectors do not work in STOMP","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruby_stomp_user","name":"ruby_stomp_user","key":"ruby_stomp_user","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Siegel","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruby_stomp_user","name":"ruby_stomp_user","key":"ruby_stomp_user","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Siegel","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":72000,"percent":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":72000,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13019308","id":"13019308","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andras","name":"andras","key":"andras","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andras Szerdahelyi","active":true,"timeZone":"Etc/UTC"},"body":"Any related tickets, threads about this? Should not be a huge fix unless i'm missing something.\nThanks!\n\nps: my message on activemq-users http://activemq.2283324.n4.nabble.com/Integer-header-in-STOMP-submitted-message-for-numeric-selector-header-gt-n-string-td3444817.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andras","name":"andras","key":"andras","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andras Szerdahelyi","active":true,"timeZone":"Etc/UTC"},"created":"2011-04-13T13:16:23.336+0000","updated":"2011-04-13T13:16:56.687+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13019310","id":"13019310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"The Stomp Spec 1.0 / 1.1 doesn't yet define encoding for numeric types in the headers.  You might want to get involved in the Stomp Spec mailing list to push for this in v2.0 of the spec.  See: http://stomp.github.com/index.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-04-13T13:23:09.018+0000","updated":"2011-04-13T13:23:09.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13019373","id":"13019373","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andras","name":"andras","key":"andras","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andras Szerdahelyi","active":true,"timeZone":"Etc/UTC"},"body":"Thanks, i will, and it would indeed make a great addition to the spec.. However, i see this particular problem as being outside the JMS ( specifically, what subset of SQL92 is used for selectors - if that is defined in there at all ) and STOMP specifications. I haven't had a look yet, but i assume all custom (non-JMS) message headers from a STOMP message are being saved into a string type property. Wouldn't it make sense to try and make an educated guess about the intended type of the STOMP header based on its content? At least as far as numeric and string types go. ( This functionality could depend on configuration to isolate a possible performance hit )\n\nin the mean time i'll familiarize myself with the STOMP transport, maybe i can come up with a patch to better illustrate this ( if it is at all feasible )\n\nregards,\nAndras","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andras","name":"andras","key":"andras","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andras Szerdahelyi","active":true,"timeZone":"Etc/UTC"},"created":"2011-04-13T15:12:30.183+0000","updated":"2011-04-13T15:12:30.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13019386","id":"13019386","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruby_stomp_user","name":"ruby_stomp_user","key":"ruby_stomp_user","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Siegel","active":true,"timeZone":"Etc/UTC"},"body":"@Andras_Szerdahelyi Wow, I filed this bug report in 2009 with the EXACT same expectations and intent that you are expressing now. I just want to commend you and second your intent to solve this problem in some way that is perhaps separable or orthogonal to the JMS or STOMP designs. This is absolutely just a question of \"allowing\" the user to pass information *through* STOMP into the JMS headers that would otherwise simply work.\n\nI continue to agree with you that the solution is either:\n  * Best guess at typing, as you suggested, OR\n  * A mechanism for explicit casting\n\nLooking forward to seeing this issue eventually solved.\n-Marc","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruby_stomp_user","name":"ruby_stomp_user","key":"ruby_stomp_user","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Siegel","active":true,"timeZone":"Etc/UTC"},"created":"2011-04-13T15:33:29.469+0000","updated":"2011-04-13T15:33:29.469+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13058762","id":"13058762","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This is a limitation of the Stomp specification.  Suggest getting active on the Stomp group and requesting this sort of thing be added to the next Stomp spec.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-07-01T20:11:05.212+0000","updated":"2011-07-01T20:11:05.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13059029","id":"13059029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"body":"Hi,\n\nFirst off, the STOMP spec does not define how selectors work.  So this is purely a ActiveMQ extension to the STOMP spec and I think we should be able to make it just work as expected even if the type info is not part of each header.  \n\nThe approach that Apollo took was to auto convert String header values to right numeric type in the comparison operation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"created":"2011-07-02T14:34:35.260+0000","updated":"2011-07-02T14:34:35.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483322/comment/13084725","id":"13084725","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Back port of the Apollo version of the comparison filter.  Added tests to stomp tests to show the numeric selectors in action.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-13T22:29:38.683+0000","updated":"2011-08-13T22:29:38.683+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1942/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0aktj:"}}