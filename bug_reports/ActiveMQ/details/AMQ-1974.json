{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483238","self":"https://issues.apache.org/jira/rest/api/2/issue/12483238","key":"AMQ-1974","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315621","id":"12315621","description":"","name":"5.3.1","archived":false,"released":true,"releaseDate":"2010-03-23"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315623","id":"12315623","description":"version 5 feature complete","name":"5.4.0","archived":false,"released":true,"releaseDate":"2010-08-17"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-10-12T20:39:28.682+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Feb 22 12:40:10 UTC 2010","customfield_12310420":"75144","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_43158114547_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-02-22T12:40:10.187+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1974/watchers","watchCount":2,"isWatching":false},"created":"2008-10-11T00:18:15.640+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315618","id":"12315618","description":"","name":"5.1.0","archived":false,"released":true,"releaseDate":"2008-05-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-02-22T12:40:10.183+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"We  use a network of brokers and topic to do messaging. All our message producers and consumers talk to the local VM broker. We reply on bridges between network of brokers to move messages between brokers. We found a case that MemoryUsage stays at 100% forever after all messages are sent.\n\nI attached two files to show this memory leak problem. TryJmsClient keeps sending persistent messages to a Topic. TryJmsManager has a message consumer. Start TryJmsManager first and then start TryJmsClient. After running about 10 seconds, TryJmsClient stops sending because of getting \"SystemUsage memory limit reached\" error. About 24K messages are sent and consumer shows it get all messages. Now examine ActiveMQ MemoryUsage printout of TryJmsClient, MemoryUsage percentage stays at 100% or 99% forever. Producer can never send any more messages.\n\nNote1: If I slow down sending by adding a sleep, I don't see memory leak immediately. I am not sure for longer running time.\nNote2: If I use Queue instead of Topic, there is no memory leak. \nNote3: This looks like similar to AMQ-1833 that is fixed in 5.2. But after testing with 5.2 snapshot, I still get the problem.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461176","id":"12461176","filename":"MsgsPerSecond.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-12T20:39:28.607+0000","size":1191,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12461176/MsgsPerSecond.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461266","id":"12461266","filename":"TryJmsClient.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=activemqny","name":"activemqny","key":"activemqny","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Neal Yin","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-11T00:26:00.377+0000","size":3883,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461266/TryJmsClient.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461221","id":"12461221","filename":"TryJmsManager.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=activemqny","name":"activemqny","key":"activemqny","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Neal Yin","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-11T00:26:00.399+0000","size":3329,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461221/TryJmsManager.java"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"159801","customfield_12312823":null,"summary":"MemoryUsage stays at 100% used forever after all messages are sent","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=activemqny","name":"activemqny","key":"activemqny","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Neal Yin","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=activemqny","name":"activemqny","key":"activemqny","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Neal Yin","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux with 2.6.18 kernel\nJDK 1.5.0_15","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12940319","id":"12940319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=activemqny","name":"activemqny","key":"activemqny","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Neal Yin","active":true,"timeZone":"Etc/UTC"},"body":"Test case ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=activemqny","name":"activemqny","key":"activemqny","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Neal Yin","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-11T00:26:00.404+0000","updated":"2008-10-11T00:26:00.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12940318","id":"12940318","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"body":"I've modified the client a bit to measure how many could be sent without problems.\n\nSee MsgsPerSecond.diff to TryJmsClient.java\n\nOn my laptop it worked up to 1500 per second. At 2000 it took a while until it failed.\n\nMaybe it helps to investigate the problem. Or you can use it as a workaround.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-12T20:39:28.682+0000","updated":"2008-10-12T20:39:28.682+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12940326","id":"12940326","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"body":"Also tested it on RC2.\n\nSee http://www.nabble.com/-VOTE--ActiveMQ-5.2.0---RC2-td19874910.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-12T20:40:36.847+0000","updated":"2008-10-12T20:40:36.847+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12940364","id":"12940364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"I've created Maven projects to run each of these clients in their own VM using the exec-maven-plugin. Each one has now been running for a while (nearly 4 million messages have been sent) and I'm not seeing any errors at all. Am I missing something? \n\nI'm seeing the following output from the TryJmsManager and it doesn't seem to be changing at all: \n\n{code}\nActiveMQ memeory 0 1024\nActiveMQ message store 0\nActiveMQ temp space 0\nsent message 3946000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3946001) after 2630643 ms.\nsent message 3947000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3947001) after 2631294 ms.\nsent message 3948000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3948001) after 2631974 ms.\nsent message 3949000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3949001) after 2632658 ms.\nsent message 3950000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3950001) after 2633326 ms.\nsent message 3951000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3951001) after 2633965 ms.\nsent message 3952000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3952001) after 2634663 ms.\n{code}\n\nHere is the output I'm seeing from the TryJmsClient: \n\n{code}\not message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994202\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994203\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994204\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994205\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994206\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994207\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994208\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994209\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994210\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994211\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994212\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994213\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994214\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994215\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994216\ngot message ID:mongoose.local-50509-1224010696716-3:0:1:1:3994217\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2008-10-14T19:43:23.898+0000","updated":"2008-10-14T19:43:23.898+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12940339","id":"12940339","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"body":"That first log\n\n{code}\n   sent message 3946000 (id=ID:mongoose.local-50509-1224010696716-3:0:1:1:3946001) after 2630643 ms.\n{code}\n\nlooks like the output of TryJmsClient with my patch applied.\n\nIn that case set _msgsPerSecond_ to a much higher value, compile and run again.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hansb","name":"hansb","key":"hansb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hans Bausewein","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-14T20:20:42.213+0000","updated":"2008-10-14T20:20:42.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12940500","id":"12940500","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rwitcher","name":"rwitcher","key":"rwitcher","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ryan Witcher","active":true,"timeZone":"Etc/UTC"},"body":"We are experiencing a similar issue using a non-persistent queue and producerFlowControl with ActiveMQ 5.1.0.  After sending enough messages for the broker to block the producers due to the memory usage being at 100%, we start a consumer which then drains the queue.  However, since the memoryUsage stays at 100%, the broker is still blocking producers from sending more messages.\n\nI have 25 threads producing messages.  One is blocked here:\n\nsun.misc.Unsafe.park(Native Method)\njava.util.concurrent.locks.LockSupport.park(LockSupport.java:118)\njava.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1841)\njava.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:253)\norg.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:92)\norg.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:40)\norg.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)\norg.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1176)\norg.apache.activemq.ActiveMQConnection.asyncSendPacket(ActiveMQConnection.java:1170)\norg.apache.activemq.ActiveMQSession.asyncSendPacket(ActiveMQSession.java:1743)\norg.apache.activemq.ActiveMQMessageProducer.close(ActiveMQMessageProducer.java:147)\norg.springframework.jms.support.JmsUtils.closeMessageProducer(JmsUtils.java:124)\norg.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:519)\norg.springframework.jms.core.JmsTemplate$2.doInJms(JmsTemplate.java:477)\norg.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:428)\norg.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:475)\n\nThe rest are blocked here\n\norg.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:39)\norg.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)\norg.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1176)\norg.apache.activemq.ActiveMQConnection.asyncSendPacket(ActiveMQConnection.java:1170)\norg.apache.activemq.ActiveMQSession.<init>(ActiveMQSession.java:190)\norg.apache.activemq.ActiveMQConnection.createSession(ActiveMQConnection.java:296)\nsun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\njava.lang.reflect.Method.invoke(Method.java:585)\norg.springframework.jms.connection.SingleConnectionFactory$SharedConnectionInvocationHandler.invoke(SingleConnectionFactory.java:418)\n$Proxy30.createSession(Unknown Source)\norg.springframework.jms.support.JmsAccessor.createSession(JmsAccessor.java:200)\norg.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:419)\norg.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:475)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rwitcher","name":"rwitcher","key":"rwitcher","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ryan Witcher","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T14:45:39.269+0000","updated":"2008-11-18T15:01:38.159+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12942267","id":"12942267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Ryan - your issues looks like https://issues.apache.org/activemq/browse/AMQ-2475 - which is fixed in 5.3.1 and 5.4","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-22T08:09:03.136+0000","updated":"2010-02-22T08:09:03.136+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483238/comment/12942252","id":"12942252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Tried this out on latest trunk today - I suspect the real problem was: https://issues.apache.org/activemq/browse/AMQ-2475\nLooks fixed now","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-22T12:40:10.182+0000","updated":"2010-02-22T12:40:10.182+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1974/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0rpnr:"}}