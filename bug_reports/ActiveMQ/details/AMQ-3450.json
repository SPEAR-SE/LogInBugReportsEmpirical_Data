{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12518810","self":"https://issues.apache.org/jira/rest/api/2/issue/12518810","key":"AMQ-3450","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2011-08-14T14:13:40.989+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Aug 20 21:26:20 UTC 2011","customfield_12310420":"64320","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_570391348_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-08-20T21:26:20.315+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3450/watchers","watchCount":1,"isWatching":false},"created":"2011-08-14T06:59:49.903+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["broker"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-08-20T21:26:20.343+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"We have a situation in front of us and its explained as below:\n\n1. We have durable subscriber subscribed to a topic. \n2. This durable subscriber is a perl script which is run by a daemon.\n3. The perl script uses stomp to connect to the broker.\n4. The perl script wakes up every 5 mins, checks for messages in the topic and processes them in a batch by pre-fetching the messages.\n5. The subscriber uses a client acknowledgement and acknowledges only the last message of the batch.\n6. We are using AMQ 5.5 with kahaDB persistence.\n\nNow what we see is,\n\n1. Even though the messages are processed in a batch and the last message is acknowledged the inflight count does not come down.\n2. Enqueue count, Dequeue count and Dispatch count do not match.\n3. The journal files are not getting cleaned up.\n\nI do understand that the journal files would be cleaned up once the references to the messages are lost or removed (i.e. the messages are consumed). But does it have to do anything with the various count attributes I see on the topic?\n\nAlso should I expect the inflight count to come down to 0 if client crashes and then consumes all messages after come back live?\n\nI also see that dequeue count stays at 0 even when the dispatch count and the inflight counts change. I believe dequeue count has got a direct relation with messages getting removed from the topic.\n\nPlease let me know if there could be any other reason that could cause the journal files to stay back.\n\nThank you\nHari","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12490508","id":"12490508","filename":"my_client.pl","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-16T06:10:17.323+0000","size":1966,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12490508/my_client.pl"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"255282","customfield_12312823":null,"summary":"Acknowledging prefetched messages using client acknowledge mode","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13084839","id":"13084839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Do you have a sample that can demonstrate the issue?  Do you send a receipt request in the ack message and wait for that to arrive before closing your connection?  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-14T14:13:40.989+0000","updated":"2011-08-14T14:13:40.989+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13084841","id":"13084841","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"body":"I will try to get a sample ready asap.\n\nRight now we only do acknowledge like this : \n$stomp_obj->ack({frame => $last_msg_frame});\n$stomp_obj->disconnect();\n\nHow exactly do I send a receipt request in the ack message? I will try this as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-14T14:36:37.358+0000","updated":"2011-08-14T14:36:37.358+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13084844","id":"13084844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Give the Stomp 1.0 spec a read through, specifically the section called Standard Headers.  \nhttp://stomp.github.com/stomp-specification-1.0.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-14T15:06:34.006+0000","updated":"2011-08-14T15:06:34.006+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13085131","id":"13085131","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"body":"Client listener file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-15T15:44:57.230+0000","updated":"2011-08-15T15:44:57.230+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13085133","id":"13085133","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"body":"Thanks Tim. That was very helpful.\n\nWaiting for ack receipt before disconnecting solved the issue.\n\nHowever, even after sending the ack, the dequeue count never changes. Is this is a known issue?\nI have attached my client code for your reference.\n\nOnce again thanks for helping me solve the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-15T15:48:41.387+0000","updated":"2011-08-15T15:48:41.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13085363","id":"13085363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Your client Id doesn't match your subscription name.  \nhttps://activemq.apache.org/stomp.html\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-15T21:58:53.924+0000","updated":"2011-08-15T21:58:53.924+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13085554","id":"13085554","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"body":"Yup had tried that too, even that did not work. Dispatch count changes but dequeue count still down at 0.\nAttaching the modified client script.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-16T06:08:23.580+0000","updated":"2011-08-16T06:08:23.580+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13085557","id":"13085557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"body":"Client listener script.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-16T06:10:17.797+0000","updated":"2011-08-16T06:10:17.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13085917","id":"13085917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This is correct, the dequeue count should be zero for topic destinations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-16T19:30:27.584+0000","updated":"2011-08-16T19:30:27.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13086110","id":"13086110","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"body":"But Tim, when enqueue count gives the number messages that were sent to the destination, then  shouldn't the dequeue count give the number of messages that have been removed from the destination? \n\nIf I understood the count's right, then this is the only count which would reflect the messages that have been ackd by the client(s) and removed by the broker, isn't it?\nIf not, can you please let me know if there is any other way I can find the equivalent of dequeue count using admin query?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harimharan","name":"harimharan","key":"harimharan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hariharan","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-17T03:55:53.772+0000","updated":"2011-08-17T03:55:53.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13088274","id":"13088274","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This is the expected behavior at present.  There's an open issue related to that AMQ-3158 which you can vote on, or better yet, dive in and see if you can come up with a patch to fix the issue.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-20T21:25:31.636+0000","updated":"2011-08-20T21:25:31.636+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12518810/comment/13088275","id":"13088275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Fixed by adding a wait for receipt on the last message sent so that all messages get processed before the socket is broken.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-20T21:26:20.323+0000","updated":"2011-08-20T21:26:20.323+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3450/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i182yn:"}}