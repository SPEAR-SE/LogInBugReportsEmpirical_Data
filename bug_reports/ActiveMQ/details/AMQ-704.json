{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482356","self":"https://issues.apache.org/jira/rest/api/2/issue/12482356","key":"AMQ-704","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-05-04T11:44:43.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jun 12 10:18:47 UTC 2007","customfield_12310420":"92687","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1230148000_*|*_5_*:*_2_*:*_32598582700_*|*_4_*:*_1_*:*_1211630536","customfield_12312321":null,"resolutiondate":"2007-06-12T10:18:47.236+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-704/watchers","watchCount":3,"isWatching":false},"created":"2006-05-02T20:52:46.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djencks","name":"djencks","key":"djencks","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Jencks","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-04-03T21:19:33.478+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When using the ActiveIO journal, it's putting a java.util.HashSet into the System.properties (using a properties.put() call that circumvents the  normal System.putProperty() method, that only allows strings).   This isn't allowed, according to java.util.Properties' contract, and therefore breaks other packages that rely on System.properties adhering to its contract.  Most notably, it chokes Hibernate; however, anything that iterates through the System properties will fail after ActiveIO has compromised it with a non-String value.\n\nHonestly, I don't know why Properties doesn't allow non-String values, but oh well.  From the java.lang.Properties docs: \n\n\"Because Properties inherits from Hashtable, the put and putAll methods can be applied to a Properties object. Their use is strongly discouraged as they allow the caller to insert entries whose keys or values are not Strings. The setProperty method should be used instead. If the store or save method is called on a \"compromised\" Properties object that contains a non-String key or value, the call will fail.\"\n\nThe call is being made in org.apache.activeio.journal.active.ControlFile; I suppose a hack could be created that stringifies the HashSet before placing it in the properties and recreates it before getting it out again; atlernately, a simple singleton or static set could be used.  I'd be happy to implement either one, if you'd like. \n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"161762","customfield_12312823":null,"summary":"ActiveIO compromises java.lang.System.properties","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matthoffman","name":"matthoffman","key":"matthoffman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"matt hoffman","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matthoffman","name":"matthoffman","key":"matthoffman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"matt hoffman","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"ActiveMQ 4.0RC2 (confirmed still around in the current ActiveIO SVN),  Java 1.5 on Windows (but should be a problem anywhere).","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12937900","id":"12937900","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"body":"The reason the singleton map was put in the  System properties were chosen in the first place is because it's guaranteed to be in the primordial classloader and can be acessed by all classloaders.  Putting a singleton in a static class field would now produce a system wide singleton if multiple classloaders are in use for the class that is holding the static hashmap.\n\nDo we know of any other locations that we can register a JVM wide object that is accessible by all classloaders?\n\nStringifing the map sounds promising if a bit in-efficient.  But then again locking is not a fast thing right?\n\nFor now, activeio has implemented a workaround.  Add a -Dorg.apache.activeio.journal.active.DisableLocking=true to JVM startup options and activeio will avoid using the System properties this way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"created":"2006-05-04T11:44:43.000+0000","updated":"2006-05-04T11:44:43.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12937903","id":"12937903","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"body":"You can now use the -Dorg.apache.activeio.journal.active.DisableLocking=true option to disable the activeio locking trick.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"created":"2006-05-17T02:35:14.000+0000","updated":"2006-05-17T02:35:14.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12938319","id":"12938319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamiemc","name":"jamiemc","key":"jamiemc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jamie McCrindle","active":true,"timeZone":"Etc/UTC"},"body":"hi, is this really fixed or is the workaround considered the fix? if it's just the workaround, it's not great, since it fries hibernate 3.1 without the workaround. the workaround is pretty difficult to find and the setting of the DisableLocking system property is not a particularly friendly solution (especially if you don't want locking disabled).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamiemc","name":"jamiemc","key":"jamiemc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jamie McCrindle","active":true,"timeZone":"Etc/UTC"},"created":"2006-09-12T14:11:13.000+0000","updated":"2006-09-12T14:11:13.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12938959","id":"12938959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhangliwen","name":"zhangliwen","key":"zhangliwen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Li-Wen Zhang","active":true,"timeZone":"Etc/UTC"},"body":"The same problem  occur in ActiveMQ 4.1.( SUSE Linux 9.2 + Jboss 4.0.3SP1).  I add the option \"JAVA_OPTS=\"-Dorg.apache.activeio.journal.active.DisableLocking=true\"  in Jboss's run.sh, and it work. \n\nI deploy two application on jboss:  daemon.war  & activemq-server.war,  the daemon.war  deploy fail.  When I remove the activemq-server.war, the daemon.war  deploy ok. \n\nThe failure message is :\n\n21:25:25,604 ERROR [ContextLoader] Context initialization failed\norg.springframework.beans.factory.access.BootstrapException: Unable to return specified BeanFactory instance: factory key [beanRefFactory], from group with resource name [classpath*:springContext/beanRefFactory.xml]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beanRefFactory' defined in URL [jar:file:/export/home/jboss-4.0.3SP1/server/default/deploy/daemon.war/WEB-INF/lib/biz-v2.0-lib.jar!/springContext/beanRefFactory.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [springContext/daoServiceContext.xml]: Initialization of bean failed; nested exception is java.lang.ClassCastException: java.util.HashSet\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beanRefFactory' defined in URL [jar:file:/export/home/jboss-4.0.3SP1/server/default/deploy/daemon.war/WEB-INF/lib/biz-v2.0-lib.jar!/springContext/beanRefFactory.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [springContext/daoServiceContext.xml]: Initialization of bean failed; nested exception is java.lang.ClassCastException: java.util.HashSet\norg.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [springContext/daoServiceContext.xml]: Initialization of bean failed; nested exception is java.lang.ClassCastException: java.util.HashSet\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [springContext/daoServiceContext.xml]: Initialization of bean failed; nested exception is java.lang.ClassCastException: java.util.HashSet\njava.lang.ClassCastException: java.util.HashSet\n        at org.hibernate.util.PropertiesHelper.resolvePlaceHolders(PropertiesHelper.java:88)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1173)\n        at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:825)\n        at org.springframework.orm.hibernate3.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:751)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1091)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:396)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:145)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:537)\n        at com.yeepay.common.entity.Incrementer.afterPropertiesSet(Incrementer.java:25)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1091)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:396)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:145)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:283)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:313)\n        at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:87)\n        at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:72)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n.....\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhangliwen","name":"zhangliwen","key":"zhangliwen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Li-Wen Zhang","active":true,"timeZone":"Etc/UTC"},"created":"2007-04-05T07:46:17.415+0000","updated":"2007-04-05T07:46:17.415+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12936161","id":"12936161","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dsp","name":"dsp","key":"dsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Spitzer","active":true,"timeZone":"Etc/UTC"},"body":"I just encountered the same problem with ActiveMQ 4.1.1. It broke my Grails installation and it took me more than 2 hours to find out what's wrong.\n\nThis is clearly a bug, as setting other values than strings is forbidden. \n\nJust try to do a System.getProperties().list(System.out) and you'll get an exception.\n\nThis workaround is not a fix and the problems that arise from this issue are extremely difficult to track down as it will most likely break application server startup.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dsp","name":"dsp","key":"dsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Spitzer","active":true,"timeZone":"Etc/UTC"},"created":"2007-05-29T09:44:56.651+0000","updated":"2007-05-29T09:44:56.651+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12936403","id":"12936403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=solprovider","name":"solprovider","key":"solprovider","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"solprovider","active":true,"timeZone":"Etc/UTC"},"body":"Just a \"me too.\"  \n\nGeronimo 1.2 uses this code.\nI deployed a Cocoon WAR onto Geronimo. \nUsing \"global variables\" in Cocoon XMAPs fails because getProperty(\"org.apache.activeio.journal.active.lockMap\") does not return a String.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=solprovider","name":"solprovider","key":"solprovider","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"solprovider","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-07T16:39:40.463+0000","updated":"2007-06-07T16:39:40.463+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482356/comment/12936448","id":"12936448","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"This is fixed in 5.0.0 (as we no longer use ActiveIO by default).\n\nFor folks on earlier versions, the work around is -Dorg.apache.activeio.journal.active.DisableLocking=true until things are migrated to 5.0. \n\nIf someone fancied submitting a patch we could make it easier to disable this option via the activemq.xml or something.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-12T10:18:47.222+0000","updated":"2007-06-12T10:18:47.222+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-704/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0s1rj:"}}