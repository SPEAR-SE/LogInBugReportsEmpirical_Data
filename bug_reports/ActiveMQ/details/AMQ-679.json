{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12481396","self":"https://issues.apache.org/jira/rest/api/2/issue/12481396","key":"AMQ-679","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315609","id":"12315609","description":"","name":"4.0 RC3","archived":false,"released":true}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-04-06T23:08:51.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Apr 25 18:46:28 UTC 2006","customfield_12310420":"49304","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1193613000_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2006-04-20T18:28:25.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-679/watchers","watchCount":0,"isWatching":false},"created":"2006-04-06T22:54:52.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315608","id":"12315608","description":"","name":"4.0 RC2","archived":false,"released":true,"releaseDate":"2006-04-07"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-04-25T18:46:28.000+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313895","id":"12313895","name":"Message Store"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"If start broker  i get this message:\n\nWARNING: Database driver NOT recognized: \n[ibm_db2_jdbc_universal_driver_architecture].  Will use default JDBC \nimplementation.\n\nBut this seems to be o.k. so far, because after starting the broker, two new \ntables (activemq_msgs/acks) get created. \n\nTesting a Consumer to receive Messages\nthe broker throws this exception:\n\n2006-04-05 17:13:03,304 [.168.1.52:52134] \nINFO  Service                        - Sync error occurred: java.io.IOException: Non-atomic batch failure.  The batch was submitted, but at least one exception occurred on an individual member of the batch. Use getNextException() to retrieve the exceptions for specific batched elements.\njava.io.IOException: Non-atomic batch failure.  The batch was submitted, but at least one exception occurred on an individual member of the batch. Use getNextException() to retrieve the exceptions for specific batched elements.\n\tat org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:42)\n\tat org.apache.activemq.store.jdbc.TransactionContext.close(TransactionContext.java:125)\n\tat org.apache.activemq.store.jdbc.JDBCMessageStore.addMessage(JDBCMessageStore.java:73)\n\tat org.apache.activemq.store.memory.MemoryTransactionStore.addMessage(MemoryTransactionStore.java:223)\n\tat org.apache.activemq.store.memory.MemoryTransactionStore$1.addMessage(MemoryTransactionStore.java:116)\n\tat org.apache.activemq.broker.region.Queue.send(Queue.java:246)\n\tat org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:196)\n\tat org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:307)\n\tat org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)\n\tat org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:108)\n\tat org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)\n\tat org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:120)\n\tat org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:346)\n\tat org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:590)\n\tat org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:196)\n\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:62)\n\tat org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:88)\n\tat org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:70)\n\tat org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:114)\n\tat org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:122)\n\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:87)\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)\n\tat java.lang.Thread.run(Thread.java:570)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"161428","customfield_12312823":null,"summary":"ActiveMQ 4   exception with with DB2","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=klate","name":"klate","key":"klate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"klaus terjung","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=klate","name":"klate","key":"klate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"klaus terjung","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"IBM Blade JS20 AIX 5.3\nDB2 DataBase 8.2\nDriver 2.5.33\n\nConfiguration:\n\n<jdbcPersistenceAdapter  class=\"org.activemq.store.jdbc.adapter.DefaultJDBCAdapter\" dataSource= \"#db2-ds\"/>\n\n<bean id=\"db2datasource\" class=\"org.apache.commons.dbcp.BasicDataSource\">\n    <property name=\"driverClassName\" value=\"com.ibm.db2.jcc.DB2Driver\"/>\n    <property name=\"url\" value=\"URL\"/>\n    <property name=\"username\" value=\"USER\"/>\n    <property name=\"password\" value=\"PASS\"/>   \n  </bean>","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481396/comment/12937814","id":"12937814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"I've added a first cut at a configuration for your DB driver; so at least we'll recognise it now; it might take a few attempts to get things working properly. I wonder could you try SVN HEAD now - or wait for the new snapshot build tomorrow?\n\nhttp://cvs.apache.org/repository/incubator-activemq/distributions/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-04-06T23:08:51.000+0000","updated":"2006-04-06T23:08:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481396/comment/12937892","id":"12937892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=klate","name":"klate","key":"klate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"klaus terjung","active":true,"timeZone":"Etc/UTC"},"body":"With the new DB2JDBCAdapter    (Snapshot 19.04.2006) it works fine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=klate","name":"klate","key":"klate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"klaus terjung","active":true,"timeZone":"Etc/UTC"},"created":"2006-04-20T14:23:08.000+0000","updated":"2006-04-20T14:23:08.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481396/comment/12937827","id":"12937827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for letting us know its working","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2006-04-20T18:28:25.000+0000","updated":"2006-04-20T18:28:25.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481396/comment/12937828","id":"12937828","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=klate","name":"klate","key":"klate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"klaus terjung","active":true,"timeZone":"Etc/UTC"},"body":"In the RC3 Snapshot  I cant*t  find the DB2Adapter.  (incubator-activemq-4.0-RC3.zip    25.04.2006) ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=klate","name":"klate","key":"klate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"klaus terjung","active":true,"timeZone":"Etc/UTC"},"created":"2006-04-25T18:46:28.000+0000","updated":"2006-04-25T18:46:28.000+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-679/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0rzpb:"}}