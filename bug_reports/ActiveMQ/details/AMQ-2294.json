{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483653","self":"https://issues.apache.org/jira/rest/api/2/issue/12483653","key":"AMQ-2294","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"parent":{"id":"12483255","key":"AMQ-1375","self":"https://issues.apache.org/jira/rest/api/2/issue/12483255","fields":{"summary":"ActiveMQ hangs, cannot send message/create temp queue","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-06-17T19:04:13.980+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 20 11:01:35 UTC 2011","customfield_12310420":"60049","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_64095328564_*|*_6_*:*_2_*:*_7157303484_*|*_4_*:*_1_*:*_324839","customfield_12312321":null,"resolutiondate":"2011-09-20T11:01:35.184+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2294/watchers","watchCount":1,"isWatching":false},"created":"2009-06-17T18:32:18.313+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-09-20T11:01:35.193+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313896","id":"12313896","name":"JMS client"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"If you create a client (producer) that creates 25 non-transacted sessions and concurrently starts sending messages. The producer will hang after sending exactly 2560 1K messages. \n\nThis behavior is very easily reproducible.\n\n\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461544","id":"12461544","filename":"Consumer_ThreadDump.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T19:57:47.392+0000","size":9722,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461544/Consumer_ThreadDump.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461545","id":"12461545","filename":"Producer_ThreadDump.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T18:34:38.407+0000","size":45259,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461545/Producer_ThreadDump.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461543","id":"12461543","filename":"ServerDebugLog_ThreadDump.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T18:34:38.620+0000","size":702392,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461543/ServerDebugLog_ThreadDump.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59631","customfield_12312823":null,"summary":"MessageProducer hangs when using many concurrent sessions","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"I am using the default activemq.xml config. tested and reproduced on both windows and linux machines","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941545","id":"12941545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"body":"The client seems to hang at org.apache.activemq.transport.FutureResponse.getResult()\n\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  <0x03fc6578> (a java.util.concurrent.locks.Abstra\nctQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject\n.await(AbstractQueuedSynchronizer.java:1925)\n        at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:\n317)\n        at org.apache.activemq.transport.FutureResponse.getResult(FutureResponse\n.java:40)\n        at org.apache.activemq.transport.ResponseCorrelator.request(ResponseCorr\nelator.java:80)\n        at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnect\nion.java:1233)\n        at org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1659)\n        - locked <0x0454b128> (a java.lang.Object)\n        at org.apache.activemq.ActiveMQMessageProducer.send(ActiveMQMessageProdu\ncer.java:227)\n        at org.apache.activemq.ActiveMQMessageProducerSupport.send(ActiveMQMessa\ngeProducerSupport.java:269)\n        at perf.harness.ProducerObj.sendMsg(ProducerObj.java:317)\n        at perf.harness.ProducerObj.run(ProducerObj.java:237)\n        at java.lang.Thread.run(Thread.java:619)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T18:34:38.623+0000","updated":"2009-06-17T18:34:38.623+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941544","id":"12941544","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"You indicated that you're using the default configuration which limits the size of all queues and topics to 5mb and, by default in ActiveMQ, [producer flow control|http://activemq.apache.org/producer-flow-control.html] is enabled. So either the destination to which you're sending has filled up or the has flow control kicked in and paused the producers. Chances are this is the producer flow control. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2009-06-17T19:04:13.980+0000","updated":"2009-06-17T19:04:13.980+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941543","id":"12941543","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"body":"I did not mention that I have 25 Message Consumers also listening on the same queue. So there is no reason for the producers to hang as eventually the producers and consumers should achieve equilibrium message rate. The problem persists even after killing the producers and consumers and restarting the consumers. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T19:37:38.727+0000","updated":"2009-06-17T19:37:38.727+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941542","id":"12941542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"The consumers and/or producers are not sharing a {{Session}} object are they? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2009-06-17T19:53:23.912+0000","updated":"2009-06-17T19:53:23.912+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941541","id":"12941541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"body":"No, The producer, server and consumer are all running on separate machines.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T19:57:07.832+0000","updated":"2009-06-17T19:57:07.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941548","id":"12941548","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"body":"Consumer Thread Dump is attached as well","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T19:57:47.420+0000","updated":"2009-06-17T19:57:47.420+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941549","id":"12941549","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"body":"This could still be the broker invoking the producer flow control because the consumers are either not consuming messages are are too slow. Are the consumers actually consuming messages? If so, are they actually acknowledging messages? Please attach the code for your consumers. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bsnyder","name":"bsnyder","key":"bsnyder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bruce Snyder","active":true,"timeZone":"America/Denver"},"created":"2009-06-17T20:26:32.741+0000","updated":"2009-06-17T20:26:32.741+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941562","id":"12941562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"body":"I am using DUPS_OK_ACKNOWLEDGE acknowledgement mode and I explicitly call acknowledge() only if the Acknowledge Mode is CLIENT_ACKNOWLEDGE. \n\nThis works ok if there is only 1 consumer on the queue. If I create multiple consumers I start to see the hang with Acknowledge Mode AUTO_ACKNOWLEDGE and DUPS_OK_ACKNOWLEDGE.\n\nHere is the code:\n\npublic void onMessage ( Message aMessage )\n\t{\n\t\ttry\n\t\t{\n\t\t\tif(aMessage != null)\n\t\t\t{\n\t\t\t\tSystem.out.println(\"received message\" + aMessage);\n\t\t\t\tif (session.getTransacted())\n\t\t\t\t{\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsession.commit();\n\t\t\t\t\t\t}catch(JMSException jmse)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tSystem.err.println(\"Error committing transaction....see trace for more details\");\n\t\t\t\t\t\t\tjmse.printStackTrace();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (session.getAcknowledgeMode() == Session.CLIENT_ACKNOWLEDGE)\n\t\t\t\t\t\taMessage.acknowledge();\n\t\t\t\t}\n\t\t}catch (Exception e)\n\t\t{\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-20T20:08:38.293+0000","updated":"2009-06-20T20:08:38.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/12941568","id":"12941568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"body":"Confirmed that this is only a problem with DUPS_OK_ACKNOWLEDGE and multiple sessions","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pungaa","name":"pungaa","key":"pungaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puneet Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-20T21:21:28.160+0000","updated":"2009-06-20T21:21:28.160+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/13057283","id":"13057283","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Need a test case to help reproduce this, reopen if its still an issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-06-29T14:47:46.872+0000","updated":"2011-06-29T14:47:46.872+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/13108518","id":"13108518","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"reopen to set fix version to 5.6","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-20T10:56:10.343+0000","updated":"2011-09-20T10:56:10.343+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483653/comment/13108556","id":"13108556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"closing again with correct fix version","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-20T11:01:35.192+0000","updated":"2011-09-20T11:01:35.192+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2294/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0akq7:"}}