{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12617939","self":"https://issues.apache.org/jira/rest/api/2/issue/12617939","key":"AMQ-4193","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2012-12-04T21:05:32.758+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Dec 15 04:23:58 UTC 2012","customfield_12310420":"292521","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_429914147_*|*_6_*:*_1_*:*_10684324_*|*_5_*:*_1_*:*_0_*|*_4_*:*_1_*:*_1017535057","customfield_12312321":null,"resolutiondate":"2012-12-15T04:24:30.831+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4193/watchers","watchCount":3,"isWatching":false},"created":"2012-11-28T07:22:17.340+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12318549","id":"12318549","name":"5.5.1","archived":false,"released":true,"releaseDate":"2011-10-16"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-12-15T04:25:35.976+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319603","id":"12319603","name":"activemq-pool","description":"The ActiveMQ Connection Pool"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313893","id":"12313893","name":"Connector"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Hi Developers,\n\nI basically wanted to read some custom properties from a credentials.property file located in conf folder of AMQ installation directory [/opt/apache/installed/activemq55-5.5.1/conf]\n\nSteps :\n1. I put my custom entries in credentials.properties file , with the details of,say a given Datasource. \n2. Given PropertyPlaceholderConfigurer bean configurations in my activemq-jdbc. xml.\n3. I have imported \"activemq-jdbc. xml\" in my activemq.xml file[/opt/apache/installed/activemq55-5.5.1/conf]\n4.When I startup activeMQ , it fails to startup. Also, I am not able to see the JDBC related tables being created, because it failed to startup.\n5.If I give values directly instead of reading from \"credentials.properties\", AMQ starts up successfuuly and I am able to see the Tables namely \"ACTIVEMQ_MSGS,ACTIVEMQ_LOCK,ACTIVEMQ_ACKS\" being created in my datasource.\n\nPlease find attached the files. This looks like a bug to me. If not,kindly let me know the workaround for the same.\n\nRegards\nJessy\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555125","id":"12555125","filename":"activemq.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T07:26:55.281+0000","size":380,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12555125/activemq.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555126","id":"12555126","filename":"activemq.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T07:26:55.283+0000","size":5514,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12555126/activemq.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555127","id":"12555127","filename":"activemq-jdbc.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T07:26:55.285+0000","size":4554,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12555127/activemq-jdbc.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555128","id":"12555128","filename":"credentials.properties","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T07:26:55.286+0000","size":1401,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12555128/credentials.properties"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555129","id":"12555129","filename":"log4j.properties","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T07:26:55.288+0000","size":2988,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12555129/log4j.properties"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"162029","customfield_12312823":null,"summary":"Unable to load custom properties from credentials.properties file located in conf folder of ActiveMQ installation directory","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"I have ActiveMQ Version 5.5.1 installed on my linux[RHEL] box.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617939/comment/13505268","id":"13505268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"body":"I have kept trace,debug values in log.property file.Still not able to get the details of this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T07:26:55.290+0000","updated":"2012-11-28T07:26:55.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617939/comment/13508611","id":"13508611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"body":"this is still a bug","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-03T09:45:35.806+0000","updated":"2012-12-03T09:45:35.806+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617939/comment/13510025","id":"13510025","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Importing the activemq-jdbc.xml is wrong here, and probably the cause of all your problems.  You should configure the broker service in one file not try to combine to configurations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-12-04T21:05:32.758+0000","updated":"2012-12-04T21:05:32.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617939/comment/13510368","id":"13510368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"body":"\nI got your point that having multiple brokers is causing the issue when I tried to import one xml into another one. As you know, In activemq installation directory,there is a separate activemq-jdbc.xml for custorm persistance support. \nWhen we startup activemq, basically this is not the xml we will run.we would run the activemq.xml which has default kaha database persistance and not custom shared datasource.\n\nSo , I tried to import activemq-jdbc.xml into  activemq.xml, commenting out the duplicate entries like <transportConnectors>.However, now that i noticed that broker property is being present in both the xml,which u suggest is problematic.\n\nSo, do we need to add the additional properties[say \n        <destinationPolicy>,   <systemUsage>\n] present in activemq.xml into activemq-jdbc.xml ,instead of importing ? \nIf this is the case,then we need to run activemq-jdbc.xml when using persistance in particular ,during activemq startup.\n\nI will try this approach and get back to you earliest. kindly let me know for any suggestions.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-05T09:10:50.677+0000","updated":"2012-12-05T09:10:50.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617939/comment/13510476","id":"13510476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"If your broker is supposed to used JDBC persistence then you should modify the activemq-jdbc.xml to meet your needs and run with that, if KahaDB is what you want then the activemq.xml makes a good starting point.  Having two brokerService entries isn't going to get you what you are after. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-12-05T13:47:51.742+0000","updated":"2012-12-05T13:47:51.742+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617939/comment/13532933","id":"13532933","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"body":"Thank u ..it works as u suggest.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jessy_2012","name":"jessy_2012","key":"jessy_2012","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jessy","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-15T04:23:58.886+0000","updated":"2012-12-15T04:23:58.886+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4193/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0s3ev:"}}