{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482893","self":"https://issues.apache.org/jira/rest/api/2/issue/12482893","key":"AMQ-2094","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"parent":{"id":"12482510","key":"AMQ-2771","self":"https://issues.apache.org/jira/rest/api/2/issue/12482510","fields":{"summary":"Side effect from AMQ-2094, server listens on host name address, client connects to localhost with the same URI","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/5","id":"5","description":"General wishlist item.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Wish","subtask":false,"avatarId":21140}}},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2009-03-01T04:14:58.399+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jun 29 01:41:02 UTC 2010","customfield_12310420":"64718","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2395313806_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_36327825167_*|*_4_*:*_2_*:*_41318682838","customfield_12312321":null,"resolutiondate":"2011-08-18T15:37:18.765+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2094/watchers","watchCount":4,"isWatching":false},"created":"2009-02-03T05:46:57.213+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315615","id":"12315615","description":"","name":"4.1.2","archived":false,"released":true,"releaseDate":"2008-04-14"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[{"id":"12335015","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12335015","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12483024","key":"AMQ-2319","self":"https://issues.apache.org/jira/rest/api/2/issue/12483024","fields":{"summary":"Specifying an IP in a transport URI doesn't make the resulting listen socket use that IP only","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-08-18T15:37:18.796+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313897","id":"12313897","name":"Geronimo Integration"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"ActiveMQ server socket created with TcpTransportServer  can't bind to localhost or actuall IP correctly.  \n\n* expected result:\n** localhost  ---> bind to 127.0.0.1\n** actual IP  ----> bind to  actual IP\n\n* actual result:\n** localhost  ---> bind to 0.0.0.0\n** actual IP  ----> bind to 0.0.0.0\n\n\n{code:title=\"org.apache.activemq.transport.tcp.TcpTransportServer\"}  \n      InetAddress addr = InetAddress.getByName(host);\n\n       try {\n           if (host.trim().equals(\"localhost\") || \\\naddr.equals(InetAddress.getLocalHost())) {  //#1 start the socket with 0.0.0.0\n            this.serverSocket = \\\nserverSocketFactory.createServerSocket(bind.getPort(), backlog);  }\n           else {\n            //#2  start the socket with the ip spcified in addr.\n            this.serverSocket = \\\nserverSocketFactory.createServerSocket(bind.getPort(), backlog, addr);  }\n{code}\nSince if you config the real IP as a host setting, \\\naddr.equals(InetAddress.getLocalHost()) will allways be true so that the #1 will be used to start the socket with 0.0.0.0 by default.  Which causes a defect of geronimo: https://issues.apache.org/jira/browse/GERONIMO-4404\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461274","id":"12461274","filename":"AMQ-2094.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genspring","name":"genspring","key":"genspring","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shawn Jiang","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-03T08:59:05.934+0000","size":984,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461274/AMQ-2094.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10042","value":"Patch Available","id":"10042"}],"customfield_12310921":null,"customfield_12310920":"172425","customfield_12312823":null,"summary":"Can't bind the connector to localhost or actuall IP correctly.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genspring","name":"genspring","key":"genspring","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shawn Jiang","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genspring","name":"genspring","key":"genspring","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shawn Jiang","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows XP + SUN JDK 1.5","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12940727","id":"12940727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genspring","name":"genspring","key":"genspring","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shawn Jiang","active":true,"timeZone":"Etc/UTC"},"body":"Please help review the patch, thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genspring","name":"genspring","key":"genspring","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shawn Jiang","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-03T08:59:06.869+0000","updated":"2009-02-03T08:59:06.869+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12940853","id":"12940853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpeterson","name":"jpeterson","key":"jpeterson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Peterson","active":true,"timeZone":"Etc/UTC"},"body":"Im noticing this behavior as well.  This is an important security problem for us. Please resolve ASAP.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpeterson","name":"jpeterson","key":"jpeterson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Peterson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-01T04:14:58.399+0000","updated":"2009-03-01T04:14:58.399+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12940863","id":"12940863","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djencks","name":"djencks","key":"djencks","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Jencks","active":true,"timeZone":"America/Los_Angeles"},"body":"I applied the patch in rev 749464.  I think Hiram is a bit unconvinced about this patch but the removed code is clearly wrong and I can't see anythign wrong with the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djencks","name":"djencks","key":"djencks","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Jencks","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-02T23:08:50.755+0000","updated":"2009-03-02T23:08:50.755+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12940859","id":"12940859","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpeterson","name":"jpeterson","key":"jpeterson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Peterson","active":true,"timeZone":"Etc/UTC"},"body":"One other thing to think about: I'm pretty sure that tcp://localhost... is all over the documentation. You may want to consider whether the documentation will need to be updated after this fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpeterson","name":"jpeterson","key":"jpeterson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Peterson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-03T05:51:08.435+0000","updated":"2009-03-03T05:51:08.435+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12940895","id":"12940895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"the patch killed a unit test: org.apache.activemq.transport.tcp.SslContextNBrokerServiceTest\nThe connector URI did not match the address bound. Just committed a fix.\n\nTo listen on all interfaces on a host, use the wildcard address: tcp://0.0.0.0:61616","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T18:19:56.290+0000","updated":"2009-03-05T18:19:56.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12941640","id":"12941640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmacnaug","name":"cmacnaug","key":"cmacnaug","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin MacNaughton","active":true,"timeZone":"Etc/UTC"},"body":"I was running some testing with 5.3 today and noticed that specifying localhost no longer binds to 0.0.0.0 (meaning that folks who have configured their brokers to be accessible from other hosts via localhost will no longer be able to connect). From looking at the issue, it seems like the more appropriate fix would be:\n\nlocalhost --> bind to 0.0.0.0 (e.g. still bind to wildcard)\n127.0.0.1 --> bind to 127.0.0.0 (only loopback)\nactual host name --> bind to actual ip\n\n        host = (host == null || host.length() == 0) ? \"localhost\" : host;\n        InetAddress addr = InetAddress.getByName(host);\n\n        try {\n            if (host.trim().equals(\"localhost\")) {\n                this.serverSocket = serverSocketFactory.createServerSocket(bind.getPort(), backlog);\n                addr = InetAddress.getLocalHost();\n            } else {\n                this.serverSocket = serverSocketFactory.createServerSocket(bind.getPort(), backlog, addr);\n            }\n            configureServerSocket(this.serverSocket);\n\n        }\n\nThe question is would the ability of specifying 127.0.0.1 explicitly without it resolving to 0.0.0.0 be enough to resolve this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmacnaug","name":"cmacnaug","key":"cmacnaug","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin MacNaughton","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-26T18:08:09.597+0000","updated":"2009-06-26T18:08:09.597+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12941647","id":"12941647","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpeterson","name":"jpeterson","key":"jpeterson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Peterson","active":true,"timeZone":"Etc/UTC"},"body":"Or how about:\n\n{noformat}\n0.0.0.0 --> bind to 0.0.0.0 (e.g. still bind to wildcard)\nlocalhost or 127.0.0.1 --> bind to 127.0.0.1 (only loopback)\nactual host name or actual ip --> bind to actual ip\n{noformat}\n\nI vote that correct behavior is more important than backwards compatibility.  Adjusting configs/etc is a normal part of the upgrade process.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpeterson","name":"jpeterson","key":"jpeterson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Peterson","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-27T05:23:45.274+0000","updated":"2009-06-27T05:27:11.988+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12941649","id":"12941649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slewis","name":"slewis","key":"slewis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=slewis&avatarId=12536","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=slewis&avatarId=12536","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=slewis&avatarId=12536","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=slewis&avatarId=12536"},"displayName":"Stan Lewis","active":true,"timeZone":"America/New_York"},"body":"Just to add to this, with this change clustering in servicemix requires another step, namely that you've got to change the config to point to 0.0.0.0 instead of localhost, otherwise you see connection refused exceptions as the brokers fail to connect to each other.  The configuration file out of the box should probably specify 0.0.0.0 instead of localhost, that way the previous behavior is preserved (you can connect to the broker remotely) but it's also the correct behavior with regards to the configuration.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slewis","name":"slewis","key":"slewis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=slewis&avatarId=12536","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=slewis&avatarId=12536","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=slewis&avatarId=12536","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=slewis&avatarId=12536"},"displayName":"Stan Lewis","active":true,"timeZone":"America/New_York"},"created":"2009-06-30T18:13:09.479+0000","updated":"2009-06-30T18:13:09.479+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12941667","id":"12941667","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"I updated the default xml configuration to use the wildcard 0.0.0.0 address. r790100","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-01T10:30:11.623+0000","updated":"2009-07-01T10:30:11.623+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12941774","id":"12941774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"+1 to Jeff and leaving the change in place. Localhost != 0.0.0.0  - http://en.wikipedia.org/wiki/Localhost","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-22T10:56:02.925+0000","updated":"2009-07-22T10:56:02.925+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12941622","id":"12941622","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"I think this one is done for 5.3 - am closing off.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T09:36:36.104+0000","updated":"2009-08-28T09:36:36.104+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482893/comment/12942134","id":"12942134","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cobrien","name":"cobrien","key":"cobrien","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"c  obrien","active":true,"timeZone":"Etc/UTC"},"body":"method resolveHostName assumes lookup performed by   InetAddress.getLocalHost() is unambiguous .  \nThere is some workaround code at the link below that might be of use. \nhttps://issues.apache.org/jira/browse/JCS-40","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cobrien","name":"cobrien","key":"cobrien","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"c  obrien","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-29T01:41:02.449+0000","updated":"2010-06-29T02:29:39.509+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2094/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0tvkv:"}}