{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12481947","self":"https://issues.apache.org/jira/rest/api/2/issue/12481947","key":"AMQ-1544","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"parent":{"id":"12481900","key":"AMQ-2123","self":"https://issues.apache.org/jira/rest/api/2/issue/12481900","fields":{"summary":"Intermittent Test failure: DuplexNetworkTest.testDurableStoreAndForward  (org.apache.activemq.network) - java.lang.IllegalStateException: Message id ID:... could not be recovered from the data store - already dispatched","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315618","id":"12315618","description":"","name":"5.1.0","archived":false,"released":true,"releaseDate":"2008-05-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-01-21T14:51:28.453+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Sep 07 08:34:31 UTC 2009","customfield_12310420":"84660","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_937143383_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2008-01-21T14:51:28.487+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1544/watchers","watchCount":6,"isWatching":false},"created":"2008-01-10T18:32:25.104+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-05-27T12:36:59.226+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I am seeing a problem in using ActiveMQ5.0.0 (AMQ Message Store) with Spring's DefaultMessageListenerContainer. Whenever we set the DefaultMessageListenerContainer currentConsumer value to more than 1 (i.e. multiple concurrent consumers), it causes activeMQ broker to produce error shown below:\n\nERROR RecoveryListenerAdapter - Message id xxxxxx could not be recovered from the data store!\n\nAfter this point, no further messages will be dispatched from the ActiveMQ JMS queue, and new messages send to the JMS queue seems to disappear and are not logged into the persistence store. The error seem to indicate problem with the persistence store. We are making use of the new activemq5.0.0 AMQ Message Store.\n\nI have included a test program (packaged in TestCase.zip) that will re-produce the issue. The testcase contains the following content:\n\n- activemq.xml : contains the config to start the ActiveMQ broker used by the test program. It contains a basic stripped down configuration (using default config settings on AMQ Message Store).\n- JmsQueueSender.java : util class making use of Spring's JmsTemplate to send JMS messages.\n- ActiveMQTestClass.java : main class that needs to be started. It loads the sender class via spring, and also starts up the Spring's DefaultMessageListenerContainer to dispatch messages. It will use the sender class JmsQueueSender to send 100 messages every 10sec.\n- DefaultMessageListener.java : JMS Pojo class that will be called to handle the messages dispatched from the configured Spring's DefaultMessageListenerContainer class. It currently just prints the message content and sleeps for 200 millisec. The sleep is intentional, as it simulate the time it takes in our real application to process the message content. It also somehow (along with the printing of the message content) seem to make the error/program to occur more quickly.\n- testSpring.xml : Spring configuration used by the test program. One main thing to note is the DefaultMessageListenerContainer class is configured with 10 concurrentConsumers. When setting this value to 1, the problem doesn't seem to happen, but as soon as this value is set beyond 1, it causes problem in the ActiveMQ broker, relating to problem in unable to recover from datastore.\n\nI have included the ActiveMQ broker logfile (activemq.log) which has debug turned on (to provide more info). As soon as the error shown below is logged, the consumer is unable to dispatch any more messages from the ActiveMQ queue. The errors reported are:\n\n2008-01-10 16:37:24,474 [/127.0.0.1:3432] ERROR RecoveryListenerAdapter        - Message id ID:B00118579B7DA-3430-1199983032693-0:1:1:1:99 could not be recovered from the data store!\n\n2008-01-10 16:37:24,474 [/127.0.0.1:3432] ERROR RecoveryListenerAdapter        - Message id ID:B00118579B7DA-3430-1199983032693-0:1:1:1:99 could not be recovered from the data store!\n\n2008-01-10 16:37:24,474 [/127.0.0.1:3432] ERROR RecoveryListenerAdapter        - Message id ID:B00118579B7DA-3430-1199983032693-0:1:1:1:99 could not be recovered from the data store!\n\nThe error doesn't seem to happen at predictable fixed points, which is why the test program will send 100 message every 10sec, and over a number of iterations, it will eventually show the problem in the broker.\n\nLet me know if further information is required. I would really like to get the concurrent consumer to dispatch the messages, in order to reduce the time it takes to process multiple burst of messages.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12460646","id":"12460646","filename":"ASF.LICENSE.NOT.GRANTED--activemq.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wgluow","name":"wgluow","key":"wgluow","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilson Luong","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-10T18:32:25.210+0000","size":168306,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12460646/ASF.LICENSE.NOT.GRANTED--activemq.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12460672","id":"12460672","filename":"ASF.LICENSE.NOT.GRANTED--TestCase.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wgluow","name":"wgluow","key":"wgluow","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilson Luong","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-10T18:32:25.192+0000","size":5546,"mimeType":"application/zip","content":"https://issues.apache.org/jira/secure/attachment/12460672/ASF.LICENSE.NOT.GRANTED--TestCase.zip"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"161936","customfield_12312823":null,"summary":"ERROR RecoveryListenerAdapter - Message id xxxxxx could not be recovered from the data store! (when using Spring's DefaultMessageListenerContainer with more than 1 concurrentConsumers to dispatch JMS messages)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wgluow","name":"wgluow","key":"wgluow","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilson Luong","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wgluow","name":"wgluow","key":"wgluow","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wilson Luong","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows XP and Sun Solaris on x86","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12939328","id":"12939328","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"This issue could not be replicated from trunk - there has been a lot of fixes in this area recently","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-21T14:51:28.453+0000","updated":"2008-01-21T14:51:28.453+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12940793","id":"12940793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhaile","name":"jhaile","key":"jhaile","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Haile","active":true,"timeZone":"Etc/UTC"},"body":"We are seeing this issue in 5.2.0.  We are using Spring 2.5.5 and using DefaultMessageListenerContainer.  Our logs are full of this when starting up with multiple consumers:\n{quote}\n2009-02-17 12:13:57,679 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:13:57,756 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:13:58,839 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:13:59,125 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:13:59,195 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:00,076 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:00,305 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:00,538 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:00,895 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:00,963 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:01,416 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n2009-02-17 12:14:01,567 [actionPerformed] ERROR RecoveryListenerAdapter        - Message id ID:smithwicks-34271-1234883750803-0:21:40:1:1 could not be recovered from the data store - already dispatched\n{quote}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhaile","name":"jhaile","key":"jhaile","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Haile","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-17T17:15:54.630+0000","updated":"2009-02-17T17:17:35.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12940795","id":"12940795","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhaile","name":"jhaile","key":"jhaile","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Haile","active":true,"timeZone":"Etc/UTC"},"body":"Or maybe this is related to AMQ-1976?  We're seeing this issue using the latest 5.2.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhaile","name":"jhaile","key":"jhaile","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Haile","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-17T17:19:45.219+0000","updated":"2009-02-17T17:19:45.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12940787","id":"12940787","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"when you say the latest 5.2.0, do you mean a current 5.3-SNAPSHOT?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-17T17:34:40.744+0000","updated":"2009-02-17T17:34:40.744+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12941245","id":"12941245","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=freetwix","name":"freetwix","key":"freetwix","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"freetwix","active":true,"timeZone":"Etc/UTC"},"body":"I just had the same failure with an activemq 5.2 as shown as logfile entries in the first comment here. \nwe are using a stomp connector and after restarting a bunch of durable consumers, the message appears repeatingly in the logfile (seems to be just one message causing the problem).\nafter this, the whole message processing for all durable consumers stops and the pending queue size is increasing. any consumers of queues are not affected. \nis there a way to recovery the message processing from this state of the broker?\n\ngreets","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=freetwix","name":"freetwix","key":"freetwix","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"freetwix","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-01T23:26:14.052+0000","updated":"2009-05-01T23:26:14.052+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12940881","id":"12940881","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlaukkanen","name":"tlaukkanen","key":"tlaukkanen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tommi Laukkanen","active":true,"timeZone":"Etc/UTC"},"body":"I'm having the same problem with ActiveMQ 5.2. Only way I can \"recover\" from this error is to add deleteAllMessagesOnStartup=\"true\" attribute to broker config and restart the broker. This will delete all my messages which is not that nice...\n\nAre there any other solutions to this yet?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlaukkanen","name":"tlaukkanen","key":"tlaukkanen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tommi Laukkanen","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-03T09:10:09.088+0000","updated":"2009-08-03T09:10:09.088+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481947/comment/12941119","id":"12941119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=marc_dexet","name":"marc_dexet","key":"marc_dexet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc DeXeT","active":true,"timeZone":"Etc/UTC"},"body":"I have the same issue with ActiveMQ 5.2. \nIf  I activate only a TopicSubscriber, I got the issue.\nIf I activate only the Producer, I don't get the issue.\nThe only way to recover I've found is to delete the store directory. Rather bully it isn't ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=marc_dexet","name":"marc_dexet","key":"marc_dexet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc DeXeT","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-07T08:34:31.472+0000","updated":"2009-09-07T08:34:31.472+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1544/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0s2u7:"}}