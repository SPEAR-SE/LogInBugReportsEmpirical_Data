{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483562","self":"https://issues.apache.org/jira/rest/api/2/issue/12483562","key":"AMQ-2619","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2011-08-24T22:41:45.102+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Aug 24 22:41:45 UTC 2011","customfield_12310420":"49727","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_47648024131_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-08-24T22:41:45.093+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2619/watchers","watchCount":1,"isWatching":false},"created":"2010-02-19T11:08:01.293+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-08-24T22:41:45.125+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"In setup with 2 brokers connected with ConduitBridge, we have a problem with network connector which is ocasionally disconnected because of java.io.IOException (Unknown data type: 0) on other node - stack trace attached below.\nNetwork connector reconnects after some time, but we have some message loss since we use syncSend=false on queues.\n\n{code}\n10:33:32,539 DEBUG [Transport           ] Transport failed: java.io.IOException: Unknown data type: 0\njava.io.IOException: Unknown data type: 0\n        at org.apache.activemq.openwire.OpenWireFormat.tightUnmarshalNestedObject(OpenWireFormat.java:441)\n        at org.apache.activemq.openwire.v5.BaseDataStreamMarshaller.tightUnmarsalNestedObject(BaseDataStreamMarshaller.java:126)\n        at org.apache.activemq.openwire.v5.MessageMarshaller.tightUnmarshal(MessageMarshaller.java:83)\n        at org.apache.activemq.openwire.v5.ActiveMQMessageMarshaller.tightUnmarshal(ActiveMQMessageMarshaller.java:66)\n        at org.apache.activemq.openwire.v5.ActiveMQObjectMessageMarshaller.tightUnmarshal(ActiveMQObjectMessageMarshaller.java:66)\n        at org.apache.activemq.openwire.OpenWireFormat.doUnmarshal(OpenWireFormat.java:366)\n        at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:279)\n        at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:210)\n        at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:202)\n        at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:185)\n        at java.lang.Thread.run(Thread.java:619)\n10:33:32,541 DEBUG [TransportConnection ] Stopping connection: /192.168.0.2:40408\n10:33:32,542 DEBUG [TransportConnection ] Stopped transport: /192.168.0.2:40408\n10:33:32,542 DEBUG [TransportConnection ] Cleaning up connection resources: /192.168.0.2:40408\n10:33:32,542 DEBUG [AbstractRegion      ] mgw.broker01 removing consumer: ID:node2-42470-1264024561798-1382:0:1:1 for destination: topic://ActiveMQ.Advisory.Consumer.>\n10:33:32,561 DEBUG [TransportConnection ] Connection Stopped: /192.168.0.2:40408\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"172321","customfield_12312823":null,"summary":"Transport fails IOException (Unknown data type: 0)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gpugar","name":"gpugar","key":"gpugar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Goran Pugar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gpugar","name":"gpugar","key":"gpugar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Goran Pugar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483562/comment/12942268","id":"12942268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gpugar","name":"gpugar","key":"gpugar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Goran Pugar","active":true,"timeZone":"Etc/UTC"},"body":"Same thing happened again but this time type is 98:\n\n{code}13:16:25,838 DEBUG [Transport           ] Transport failed: java.io.IOException: Unknown data type: 98\njava.io.IOException: Unknown data type: 98\n        at org.apache.activemq.openwire.OpenWireFormat.tightUnmarshalNestedObject(OpenWireFormat.java:441)\n        at org.apache.activemq.openwire.v5.BaseDataStreamMarshaller.tightUnmarsalNestedObject(BaseDataStreamMarshaller.java:126)\n        at org.apache.activemq.openwire.v5.MessageMarshaller.tightUnmarshal(MessageMarshaller.java:83)\n        at org.apache.activemq.openwire.v5.ActiveMQMessageMarshaller.tightUnmarshal(ActiveMQMessageMarshaller.java:66)\n        at org.apache.activemq.openwire.v5.ActiveMQObjectMessageMarshaller.tightUnmarshal(ActiveMQObjectMessageMarshaller.java:66)\n        at org.apache.activemq.openwire.OpenWireFormat.doUnmarshal(OpenWireFormat.java:366)\n        at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:279)\n        at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:210)\n        at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:202)\n        at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:185)\n        at java.lang.Thread.run(Thread.java:619) {code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gpugar","name":"gpugar","key":"gpugar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Goran Pugar","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-22T14:27:27.180+0000","updated":"2010-02-22T14:27:27.180+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483562/comment/12942339","id":"12942339","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gpugar","name":"gpugar","key":"gpugar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Goran Pugar","active":true,"timeZone":"Etc/UTC"},"body":"It happened also with data type 68. But this time it's slightly different stack trace:\n{code}\n13:49:53,504 DEBUG [Transport           ] Transport failed: java.io.IOException: Unknown data type: 68\njava.io.IOException: Unknown data type: 68\n        at org.apache.activemq.openwire.OpenWireFormat.doUnmarshal(OpenWireFormat.java:360)\n        at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:279)\n        at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:210)\n        at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:202)\n        at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:185)\n        at java.lang.Thread.run(Thread.java:619)\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gpugar","name":"gpugar","key":"gpugar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Goran Pugar","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-12T09:20:51.547+0000","updated":"2010-03-12T09:20:51.547+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483562/comment/13090586","id":"13090586","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"One like cause of this error could be a network interruption during the time that the message is being received causing loss of data.  Since the sends are not sync message loss in this case would be expected.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-24T22:41:45.102+0000","updated":"2011-08-24T22:41:45.102+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2619/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0tuxr:"}}