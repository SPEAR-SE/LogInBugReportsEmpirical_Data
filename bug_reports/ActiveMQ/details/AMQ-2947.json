{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483834","self":"https://issues.apache.org/jira/rest/api/2/issue/12483834","key":"AMQ-2947","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2011-06-29T22:28:48.301+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jun 30 13:10:55 UTC 2011","customfield_12310420":"69624","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_23770002852_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-06-30T13:10:55.755+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2947/watchers","watchCount":1,"isWatching":false},"created":"2010-09-28T10:24:12.959+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315621","id":"12315621","description":"","name":"5.3.1","archived":false,"released":true,"releaseDate":"2010-03-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-06-30T13:10:55.806+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When we start the performance test for ActiveMQ Server we send  2000 Messages to the Server via Stomp.\nWhen we send a block of 2000 messages four or five times the server produced an error into the log file.\nThe client get no response for the failure.\nThe Stack\n\n2010-09-23 11:26:22,916 | WARN  | Async error occurred: javax.jms.JMSException: Unmatched acknowledege: MessageAck {commandId = 8296, responseRequired = false, ackType = 2, consumerId = ID:alinux1-54962-1284536721696-5:42:-1:1, firstMessageId = ID:alinux1-54962-1284536721696-5:35:-1:1:1293, lastMessageId = ID:alinux1-54962-1284536721696-5:35:-1:1:1293, destination = queue://LGDMessageRetTest, transactionId = null, messageCount = 1}; Could not find Message-ID ID:alinux1-54962-1284536721696-5:35:-1:1:1293 in dispatched-list (start of ack) | org.apache.activemq.broker.TransportConnection.Service | ActiveMQ Transport: tcp:///10.200.30.158:63279\njavax.jms.JMSException: Unmatched acknowledege: MessageAck {commandId = 8296, responseRequired = false, ackType = 2, consumerId = ID:alinux1-54962-1284536721696-5:42:-1:1, firstMessageId = ID:alinux1-54962-1284536721696-5:35:-1:1:1293, lastMessageId = ID:alinux1-54962-1284536721696-5:35:-1:1:1293, destination = queue://LGDMessageRetTest, transactionId = null, messageCount = 1}; Could not find Message-ID ID:alinux1-54962-1284536721696-5:35:-1:1:1293 in dispatched-list (start of ack)\n\tat org.apache.activemq.broker.region.PrefetchSubscription.assertAckMatchesDispatched(PrefetchSubscription.java:440)\n\tat org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:208)\n\tat org.apache.activemq.broker.region.AbstractRegion.acknowledge(AbstractRegion.java:369)\n\tat org.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBroker.java:470)\n\tat org.apache.activemq.broker.TransactionBroker.acknowledge(TransactionBroker.java:194)\n\tat org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:74)\n\tat org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:74)\n\tat org.apache.activemq.broker.MutableBrokerFilter.acknowledge(MutableBrokerFilter.java:85)\n\tat org.apache.activemq.broker.TransportConnection.processMessageAck(TransportConnection.java:449)\n\tat org.apache.activemq.command.MessageAck.visit(MessageAck.java:205)\n\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:297)\n\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:175)\n\tat org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)\n\tat org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:78)\n\tat org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:135)\n\tat org.apache.activemq.transport.stomp.ProtocolConverter.onStompAck(ProtocolConverter.java:281)\n\tat org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:175)\n\tat org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:67)\n\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:84)\n\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:203)\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:185)\n\tat java.lang.Thread.run(Thread.java:619)\n\nmfg\nChristian Rams\n  ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"172357","customfield_12312823":null,"summary":"After a performance the server stop working. No errors send to the client. ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chrra","name":"chrra","key":"chrra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Rams","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chrra","name":"chrra","key":"chrra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Rams","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483834/comment/13057521","id":"13057521","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Do you have a test case for this that can reproduce the issue.  Any other supporting information to help test this out?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-06-29T22:28:48.301+0000","updated":"2011-06-29T22:28:48.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483834/comment/13057638","id":"13057638","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chrra","name":"chrra","key":"chrra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Rams","active":true,"timeZone":"Etc/UTC"},"body":"we do the test case with an smalltalk script.\nThe error  is fixed when we use oracle and the last  Version\n\n\nMit freundlichen Grüßen / Best regards / Meilleures salutations\n\nChristian Rams\n\nIT-Applications\nSociete Generale Equipment Finance\nGEFA Gesellschaft für Absatzfinanzierung mbH\nGEFA-Leasing GmbH\nRobert-Daum-Platz 1\n42117 Wuppertal\n\nTel: +49 202 382 615\nFax: +49 202 382 700615\n \nmailto:christian.rams@gefa.de\nhttp://www.gefa.de\n\n\n\n\n\n\n\"Timothy Bish (JIRA)\" <jira@apache.org> \n30.06.2011 00:36\n\nAn\nChristian.Rams@Gefa.de\nKopie\n\nThema\n[jira] [Commented] (AMQ-2947) After a performance the server stop working. \nNo errors send to the client.\n\n\n\n\n \nBitte drucken Sie diese E-Mail nur dann aus, wenn es wirklich notwendig \nist.\n\n\n\n    [ \nhttps://issues.apache.org/jira/browse/AMQ-2947?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=13057521#comment-13057521 \n] \n\nTimothy Bish commented on AMQ-2947:\n-----------------------------------\n\nDo you have a test case for this that can reproduce the issue.  Any other \nsupporting information to help test this out?\n\nclient. \n---------------------------------------------------------------------------\nMessages to the Server via Stomp.\nproduced an error into the log file.\njavax.jms.JMSException: Unmatched acknowledege: MessageAck {commandId = \n8296, responseRequired = false, ackType = 2, consumerId = \nID:alinux1-54962-1284536721696-5:42:-1:1, firstMessageId = \nID:alinux1-54962-1284536721696-5:35:-1:1:1293, lastMessageId = \nID:alinux1-54962-1284536721696-5:35:-1:1:1293, destination = \nqueue://LGDMessageRetTest, transactionId = null, messageCount = 1}; Could \nnot find Message-ID ID:alinux1-54962-1284536721696-5:35:-1:1:1293 in \ndispatched-list (start of ack) | \norg.apache.activemq.broker.TransportConnection.Service | ActiveMQ \nTransport: tcp:///10.200.30.158:63279\n8296, responseRequired = false, ackType = 2, consumerId = \nID:alinux1-54962-1284536721696-5:42:-1:1, firstMessageId = \nID:alinux1-54962-1284536721696-5:35:-1:1:1293, lastMessageId = \nID:alinux1-54962-1284536721696-5:35:-1:1:1293, destination = \nqueue://LGDMessageRetTest, transactionId = null, messageCount = 1}; Could \nnot find Message-ID ID:alinux1-54962-1284536721696-5:35:-1:1:1293 in \ndispatched-list (start of ack)\norg.apache.activemq.broker.region.PrefetchSubscription.assertAckMatchesDispatched(PrefetchSubscription.java:440)\norg.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:208)\norg.apache.activemq.broker.region.AbstractRegion.acknowledge(AbstractRegion.java:369)\norg.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBroker.java:470)\norg.apache.activemq.broker.TransactionBroker.acknowledge(TransactionBroker.java:194)\norg.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:74)\norg.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:74)\norg.apache.activemq.broker.MutableBrokerFilter.acknowledge(MutableBrokerFilter.java:85)\norg.apache.activemq.broker.TransportConnection.processMessageAck(TransportConnection.java:449)\norg.apache.activemq.command.MessageAck.visit(MessageAck.java:205)\norg.apache.activemq.broker.TransportConnection.service(TransportConnection.java:297)\norg.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:175)\norg.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)\norg.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:78)\norg.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:135)\norg.apache.activemq.transport.stomp.ProtocolConverter.onStompAck(ProtocolConverter.java:281)\norg.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:175)\norg.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:67)\norg.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:84)\norg.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:203)\norg.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:185)\n\n--\nThis message is automatically generated by JIRA.\nFor more information on JIRA, see: http://www.atlassian.com/software/jira\n\n \n\n\n\n\n2010 European Lessor of the Year and Vendor Finance Provider of the Year Awards by Leasing Life \n\n\nGEFA Gesellschaft für Absatzfinanzierung mbH, Robert-Daum-Platz 1, 42117 Wuppertal\nAufsichtsratsvorsitzender: Didier Hauguel, Geschäftsführer: Maurice Caulliez, Rolf Hagen, Jochen Jehmlich\nHRB Nr. 2708, Amtsgericht Wuppertal\n\nGEFA-Leasing GmbH, Robert-Daum-Platz 1, 42117 Wuppertal\nBeiratsvorsitzender: Didier Hauguel, Geschäftsführer: Maurice Caulliez, Rolf Hagen, Jochen Jehmlich\nHRB Nr. 3619, Amtsgericht Wuppertal\n\n\nDiese E-Mail enthält vertrauliche und/oder rechtlich geschützte Informationen. Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrtümlich erhalten haben, informieren Sie bitte sofort den Absender und vernichten Sie diese Mail. Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail ist nicht gestattet.\n\nThis message and any attachments (the \"message\") are confidential, intended solely for the addressee(s), and may contain legally privileged information. any unauthorised use or dissemination is prohibited. E-Mails are susceptible to alteration. Neither GEFA nor any of its subsidiaries or affiliates shall be liable for the message if altered, changed or falsified.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chrra","name":"chrra","key":"chrra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Rams","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-30T06:18:28.490+0000","updated":"2011-06-30T06:18:28.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483834/comment/13057807","id":"13057807","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Reported to be fixed by the initial issue creator.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-06-30T13:10:55.774+0000","updated":"2011-06-30T13:10:55.774+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2947/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0tv5r:"}}