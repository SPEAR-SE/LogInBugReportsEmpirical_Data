{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12937844","self":"https://issues.apache.org/jira/rest/api/2/issue/12937844","key":"AMQ-6163","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-02-17T20:05:54.838+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 24 14:41:13 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6163/watchers","watchCount":3,"isWatching":false},"created":"2016-02-09T11:51:38.142+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329848","id":"12329848","name":"5.13.0","archived":false,"released":true,"releaseDate":"2015-12-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-11-24T14:41:13.732+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12325017","id":"12325017","name":"KahaDB"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Hello Together,\n\nI want create a JVM with Camel and ActiveMQ inside.\nI create in Eclipse a new Spring configuration. It works, but when I open the ActiveMQ Managment Website and look on the Queue Detail Page, where should list all Messages, ActiveMQ creates a new empty KahaDB in the Directory activemq-data and read from there, so no Messages are show. When I go back on Queue List i see the right count of messages.\n\nI ask on Nabble about the Problem, but there couldn't help me anybody. So I think this is not a configuration error, this should be a bug.\nhttp://activemq.2283324.n4.nabble.com/ActiveMQ-KahaDB-Directory-td4706593.html\n\nI have a example Eclipse Project where you can see the error, but I couldn't upload this here, so I do it on file-upload.net\n\nhttp://www.file-upload.net/download-11292082/AllInOneBoilerBug.zip.html\n\nI hope this could help.\n\nThank you very much","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12787056","id":"12787056","filename":"AllInOneBoilerBug.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"created":"2016-02-09T11:52:44.697+0000","size":355605,"mimeType":"application/zip","content":"https://issues.apache.org/jira/secure/attachment/12787056/AllInOneBoilerBug.zip"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"ActiveMQ creates a new empty KahaDB","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows 10, Eclipse","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15138829","id":"15138829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"body":"After creating the Bug Report, I can upload a file. Here is the example Eclipse Project","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"created":"2016-02-09T11:52:44.702+0000","updated":"2016-02-09T11:52:44.702+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15151077","id":"15151077","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"It's not clear what the problem you think you are seeing is, the broker config looks ok but your project doesn't open in eclipse and seems to be setup to run on windows so I can't do much with it.  I'd recommend trying to clarify the issue and ask again on the user list, Jira is not he place for questions.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-17T20:05:54.838+0000","updated":"2016-02-17T20:05:54.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15151078","id":"15151078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Seems to be configuration of the project that causes an issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-17T20:06:29.331+0000","updated":"2016-02-17T20:06:29.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15158928","id":"15158928","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"body":"I ask in Forums, and they say that is not a configuration Problem. I configure nothing to create a new KahaDB in a different Folder. I have posted a link to the Problem and Forum. So you can read all steps what I had done.\n\nI open my Project without Problems in Eclipse on Ubuntu 14.04.\n\nYou need to install the \"Maven Developer Tools\" and the \"m2e connector for the Maven Dependeny Plugin\". This both you can install on \nWindow / Preferences / Maven / Discovery / Open Catalog. There are both Packages.\n\nThe Problem is also on Linux. And when it is a configuration Problem, where it is? Please help me to find out where it is. What is wrong? I do all, how it is written in the Documentation.\n\nThank you","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"created":"2016-02-23T14:19:58.096+0000","updated":"2016-02-23T14:19:58.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15162994","id":"15162994","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cshannon","name":"cshannon","key":"christopher.l.shannon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=christopher.l.shannon&avatarId=24614","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=christopher.l.shannon&avatarId=24614","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=christopher.l.shannon&avatarId=24614","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=christopher.l.shannon&avatarId=24614"},"displayName":"Christopher L. Shannon","active":true,"timeZone":"America/New_York"},"body":"I didn't look at the test project yet but I looked a little bit at the logic for getting the broker name for that directory.  One thing I noticed is that there's some logic in the BrokerService to grab the local host name and to use that for the broker name if a certain flag is set, although normally it just uses what was set in the xml.  It's possible that the method call InetAddress.getLocalHost() is returning 127.0.0.1 for you instead of localhost and that's causing this problem.  \n\nIs there an entry in your /etc/hosts file for localhost 127.0.0.1? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cshannon","name":"cshannon","key":"christopher.l.shannon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=christopher.l.shannon&avatarId=24614","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=christopher.l.shannon&avatarId=24614","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=christopher.l.shannon&avatarId=24614","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=christopher.l.shannon&avatarId=24614"},"displayName":"Christopher L. Shannon","active":true,"timeZone":"America/New_York"},"created":"2016-02-24T13:36:39.886+0000","updated":"2016-02-24T13:36:39.886+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15163756","id":"15163756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"body":"Yes, there are entries for 127.0.0.1 in /etc/hosts\nBut this is wrong, the folder name should be the broker name, or the folder which is configured:\n\n<broker id=\"broker\" brokerName=\"SOMENAME\" dataDirectory=\"activemq-data\">\nthis should create activemq-data/SOMENAME/KahaDB/\n\nOr a persistenceAdapter say the directory\n<persistenceAdapter>\n\t<kahaDB directory=\"activemq-data/SOMETHING/KahaDB\" journalMaxFileLength=\"100mb\" cleanupInterval=\"5000\"/>\n</persistenceAdapter>\n\nIn both cases it never should be activemq-data/127.0.0.1/KahaDB\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"created":"2016-02-24T20:31:35.969+0000","updated":"2016-02-24T20:31:35.969+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12937844/comment/15693443","id":"15693443","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"body":"The Problem is also in Active MQ 5.14.1. \nIs there a chance that this Bug is solved?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=burner","name":"burner","key":"burner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=burner&avatarId=26115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=burner&avatarId=26115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=burner&avatarId=26115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=burner&avatarId=26115"},"displayName":"Björn Paulsen","active":true,"timeZone":"Europe/Berlin"},"created":"2016-11-24T14:41:13.732+0000","updated":"2016-11-24T14:41:13.732+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6163/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2slwn:"}}