{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482381","self":"https://issues.apache.org/jira/rest/api/2/issue/12482381","key":"AMQ-2114","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315622","id":"12315622","description":"","name":"5.3.2","archived":false,"released":true,"releaseDate":"2010-05-11"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2009-02-16T09:56:13.557+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Feb 16 06:48:25 UTC 2015","customfield_12310420":"75069","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_230764494_*|*_5_*:*_2_*:*_26174462912_*|*_4_*:*_1_*:*_17892589234","customfield_12312321":null,"resolutiondate":"2010-07-11T16:22:34.959+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2114/watchers","watchCount":9,"isWatching":false},"created":"2009-02-13T23:25:38.319+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-02-16T06:48:25.284+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313903","id":"12313903","name":"Transport"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"When connecting with a failover transport, like the DEFAULT_BROKER_URL, the transport hangs on connection.start() if it cannot connect to the remote broker.  It should return normally.\n\nThis only happens on startup.  Later disconnects behave nicely.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"255196","customfield_12312823":null,"summary":"Failover transport should not hang on startup if it cannot connect","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Sun Java 1.6.0_12\nFedora Linux 10\nActiveMQ 5.2.0","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12940788","id":"12940788","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Can you post an URL you are using and turn on debugging on FailoverTransport to catch the exception thrown by transport?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2009-02-16T09:56:13.557+0000","updated":"2009-02-16T09:56:13.557+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12940770","id":"12940770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"body":"Will do.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"created":"2009-02-16T10:52:50.747+0000","updated":"2009-02-16T10:52:50.747+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12940775","id":"12940775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"body":"I am using ActiveMQConnection.DEFAULT_BROKER_URL\n\nHere is the debug output:\n\n0 [main] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Reconnect was triggered but transport is not started yet. Wait for start to connect the transport.\n12 [main] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Started.\n13 [main] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Waking up reconnect task\n18 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Attempting connect to: tcp://localhost:61616\nDEBUG ConnectionProcessor: connection OK\n149 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Connect fail to: tcp://localhost:61616, reason: java.net.ConnectException: Connection refused\n149 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Waiting 10 ms before attempting connection. \n159 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Attempting connect to: tcp://localhost:61616\n160 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Connect fail to: tcp://localhost:61616, reason: java.net.ConnectException: Connection refused\n160 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Waiting 20 ms before attempting connection. \n183 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Attempting connect to: tcp://localhost:61616\n184 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Connect fail to: tcp://localhost:61616, reason: java.net.ConnectException: Connection refused\n184 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Waiting 40 ms before attempting connection. \n225 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Attempting connect to: tcp://localhost:61616\n241 [ActiveMQ Task] DEBUG org.apache.activemq.transport.failover.FailoverTransport  - Connect fail to: tcp://localhost:61616, reason: java.net.ConnectException: Connection refused\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"created":"2009-02-16T14:25:29.457+0000","updated":"2009-02-16T14:25:29.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12940780","id":"12940780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Uwe,\n\nthis is exactly what failover transport should do (try reconnecting until broker becomes available). If you want to limit the number of retries try using the maxReconnectAttempts option, such as\n\nfailover:(tcp://localhost:61616)?maxReconnectAttempts=3\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2009-02-16T15:31:42.788+0000","updated":"2009-02-16T15:31:42.788+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12940796","id":"12940796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"body":"Yes, I would like failover transport to try reconnecting until the broker becomes available, BUT I would like it not to block!  The failover transport does NOT block on later calls even if there is no connection to the broker, so why should it block on startup if the broker is down?  I do not want to configure maxReconnectAttempts since I want the transport to keep trying, forever.\n\nAn example is when you configure jmsBridgeConnectors with a jmsQueueConnector using a connection factory with a failover transport.  If the remote broker is not available, the local ActiveMQ instance will never finish starting up!  This cannot be what you intend?!\n\nI would expect the failover transport to start, and keep trying to connect to the remote broker.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=donv","name":"donv","key":"donv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uwe Kubosch","active":true,"timeZone":"Europe/Berlin"},"created":"2009-02-16T20:28:45.845+0000","updated":"2009-02-16T20:29:53.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12940819","id":"12940819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Hi,\n\nI just investigated this a bit further. The problem is that connection.start() tries to send a ConnectionInfo packet to the broker to establish the connection. When the connection is established successfully, the succeeding start() calls will not do this, so it may appear that it behaves differently in that case.  \n\nAnyhow, this is crucial step in establishing a connection, so it has to be done synchronously, because all later operations (creating a sessions, consumers, etc.) assumes the valid connection. Perhaps the issue you described with jmsQueueConnector and failover transport should be tackled somewhere else (not the connection.start() procedure).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2009-02-25T16:00:50.381+0000","updated":"2009-02-25T16:00:50.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12941241","id":"12941241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvoss","name":"pvoss","key":"pvoss","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Voss","active":true,"timeZone":"Etc/UTC"},"body":"The resolution of this issue has been set to fixed. If that's really true, what's the fix version then?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvoss","name":"pvoss","key":"pvoss","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Voss","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-04T07:43:15.236+0000","updated":"2009-05-04T07:43:15.236+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12941452","id":"12941452","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raflik","name":"raflik","key":"raflik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rafal N","active":true,"timeZone":"Etc/UTC"},"body":"Same as above. Is it really fixed? In which revision/version?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raflik","name":"raflik","key":"raflik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rafal N","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-25T13:51:09.943+0000","updated":"2009-09-25T13:51:09.943+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12941950","id":"12941950","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfaerman","name":"jfaerman","key":"jfaerman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Julio Faerman","active":true,"timeZone":"Etc/UTC"},"body":"I am also having this problem on 5.3.0. I think this sould be re-opened....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jfaerman","name":"jfaerman","key":"jfaerman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Julio Faerman","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-16T14:09:57.216+0000","updated":"2009-12-16T14:09:57.216+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12941894","id":"12941894","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drakane","name":"drakane","key":"drakane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roman Schmidmeir","active":true,"timeZone":"Etc/UTC"},"body":"same problem here on 5.3.0... \nA manual workaround is pretty ugly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drakane","name":"drakane","key":"drakane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roman Schmidmeir","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-21T15:09:32.993+0000","updated":"2009-12-21T15:09:32.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12942479","id":"12942479","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"This is working as designed - i.e. it has to block on starting a connection. If you are publishing a message and a failure occurs - the connection would block too. To get the behaviour were the connection doesn't block - you need to use an embedded broker with a network connection to do store and forward. So instead of creating a connection factory with a URL of:\n\nfailover://(tcp://remotebroker:61616)\n\nyou could use a broker URI - e.g.\n\nvm:(broker:(tcp://localhost:61616,network:static:tcp://remotehost:61616))\n\nsee http://activemq.apache.org/broker-uri.html for more details","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-11T16:22:34.913+0000","updated":"2010-07-11T16:22:34.913+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/12939583","id":"12939583","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abickerton_netm","name":"abickerton_netm","key":"abickerton_netm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alec Bickerton","active":true,"timeZone":"Etc/UTC"},"body":"As I see it. \n\nIf you use vm:(broker:(tcp://localhost:61616,network:static:tcp://remotehost:61616)) then you're explicitly not using the failoverprotocol. IMHO, this should be re-opened and properly fixed.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abickerton_netm","name":"abickerton_netm","key":"abickerton_netm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alec Bickerton","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-06T15:20:31.379+0000","updated":"2010-08-06T15:20:31.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482381/comment/14322430","id":"14322430","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=savita","name":"savita","key":"savita","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Savita","active":true,"timeZone":"Etc/UTC"},"body":"I too have this issue. Please FIx this or suggest a workaround. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=savita","name":"savita","key":"savita","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Savita","active":true,"timeZone":"Etc/UTC"},"created":"2015-02-16T06:48:25.284+0000","updated":"2015-02-16T06:48:25.284+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2114/votes","votes":4,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i182fj:"}}