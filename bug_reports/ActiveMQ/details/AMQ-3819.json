{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12552652","self":"https://issues.apache.org/jira/rest/api/2/issue/12552652","key":"AMQ-3819","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-04-26T23:02:35.113+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 01 13:29:37 UTC 2012","customfield_12310420":"237002","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_516951939_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-05-01T13:29:37.635+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3819/watchers","watchCount":0,"isWatching":false},"created":"2012-04-25T13:53:45.880+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-05-01T13:29:37.789+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315706","id":"12315706","name":"stomp"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Switching an existing workload from a transport:\n\n{quote}\n<transportConnector name=\"verified_stompssl\"  uri=\"stomp+ssl://0.0.0.0:6165?needClientAuth=true\"/>\n{quote}\n\nto\n\n{quote}\n<transportConnector name=\"verified_stompssl\"  uri=\"stomp+nio+ssl://0.0.0.0:6165?needClientAuth=true\"/>\n{quote}\n\nshowed the CPU profile to go from 1-5% to 300% constantly on a 8 core server\n\nI was able to recreate this using a ruby client @ http://devco.net/rip/amq_560_stomp_nio_ssl_tester.rb\n\nThe important combinations are:\n\n * I am connecting to a stomp+nio+ssl port\n * I am creating the subscriptions to the 10 queus and topics\n\nIf I change either of these variables - like just commenting out the loop that does those subscriptions - then the CPU load is acceptable.\n\nI analysed the running VM with VisualVM and found that transport.nio.NIOSSLTransport.serviceRead() is the busy thread.  \n\n\nMy activemq.xml is:\n\n{noformat}\n<beans\n  xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:amq=\"http://activemq.apache.org/schema/core\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n  http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd\n  http://activemq.apache.org/camel/schema/spring http://activemq.apache.org/camel/schema/spring/camel-spring.xsd\">\n    <broker xmlns=\"http://activemq.apache.org/schema/core\" brokerName=\"amq1\" useJmx=\"true\" persistent=\"true\" schedulePeriodForDestinationPurge=\"60000\">\n        <destinationPolicy>\n          <policyMap>\n            <policyEntries>\n              <policyEntry topic=\">\" producerFlowControl=\"false\"/>\n              <policyEntry queue=\"*.reply.>\" gcInactiveDestinations=\"true\" inactiveTimoutBeforeGC=\"120000\" />\n            </policyEntries>\n          </policyMap>\n        </destinationPolicy>\n\n        <managementContext>\n          <managementContext connectorPort=\"1099\" jmxDomainName=\"org.apache.activemq\"/>\n        </managementContext>\n\n        <plugins>\n          <statisticsBrokerPlugin/>\n          <simpleAuthenticationPlugin>\n            <users>\n              <authenticationUser username=\"test\" password=\"test\" groups=\"admins,everyone\"/>\n            </users>\n          </simpleAuthenticationPlugin>\n          <authorizationPlugin>\n            <map>\n              <authorizationMap>\n                <authorizationEntries>\n                  <authorizationEntry queue=\">\" write=\"admins\" read=\"admins\" admin=\"admins\" />\n                  <authorizationEntry topic=\">\" write=\"admins\" read=\"admins\" admin=\"admins\" />\n                </authorizationEntries>\n              </authorizationMap>\n            </map>\n          </authorizationPlugin>\n        </plugins>\n\n        <sslContext>\n           <sslContext\n                keyStore=\"keystore.jks\" keyStorePassword=\"ohshahCu\"\n                trustStore=\"truststore.jks\" trustStorePassword=\"ohshahCu\"\n           />\n        </sslContext>\n\n        <systemUsage>\n          <systemUsage>\n            <memoryUsage>\n              <memoryUsage limit=\"200 mb\" />\n            </memoryUsage>\n            <storeUsage>\n              <storeUsage limit=\"1 gb\" />\n            </storeUsage>\n            <tempUsage>\n              <tempUsage limit=\"1 gb\" />\n            </tempUsage>\n          </systemUsage>\n        </systemUsage>\n\n        <transportConnectors>\n          <transportConnector name=\"openwire\"  uri=\"tcp://0.0.0.0:6166\"/>\n          <transportConnector name=\"stomp+nio\" uri=\"stomp+nio://0.0.0.0:6163\"/>\n          <transportConnector name=\"stompssl\"  uri=\"stomp+ssl://0.0.0.0:6164\"/>\n          <transportConnector name=\"verified_stompssl\"  uri=\"stomp+nio+ssl://0.0.0.0:6165?needClientAuth=true\"/>\n        </transportConnectors>\n    </broker>\n\n    <import resource=\"jetty.xml\"/>\n</beans>\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12524779","id":"12524779","filename":"StompLoadTest.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-04-26T23:02:34.982+0000","size":7881,"mimeType":"text/x-java","content":"https://issues.apache.org/jira/secure/attachment/12524779/StompLoadTest.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12524780","id":"12524780","filename":"StompNIOSSLLoadTest.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-04-26T23:02:34.990+0000","size":2149,"mimeType":"text/x-java","content":"https://issues.apache.org/jira/secure/attachment/12524780/StompNIOSSLLoadTest.java"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59172","customfield_12312823":null,"summary":"high cpu with stomp+nio+ssl and many subscriptions","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ripienaar","name":"ripienaar","key":"ripienaar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R.I.Pienaar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ripienaar","name":"ripienaar","key":"ripienaar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R.I.Pienaar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"CentOS 6, RC of 5.6.0\n\njava version \"1.6.0_22\"\nOpenJDK Runtime Environment (IcedTea6 1.10.6) (rhel-1.43.1.10.6.el6_2-x86_64)\nOpenJDK 64-Bit Server VM (build 20.0-b11, mixed mode)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13263226","id":"13263226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Created a Java version of the test to get the ball rolling.  Didn't completely match the configuration but did notice that if you crank up the number of messages the test sends the test will fail for NIO+SSL and the CPU will be running wild.  Didn't have time to look deeper today.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-04-26T23:02:35.113+0000","updated":"2012-04-26T23:02:35.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13263757","id":"13263757","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Commit test cases on trunk for this scenario, one for each (TCP, SSL, NIO, NIO+SSL).  Only the NIO+SSL version has an issue. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-04-27T16:02:28.995+0000","updated":"2012-04-27T16:02:28.995+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13264038","id":"13264038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"The test case seems to indicate that its an issue with the send rate on the connection.  If you slow down the outbound send loop at the end of the test the NIO+SSL test will start passing.  It may be an issue of not properly handling underflow situations in the secureRead method.  When things go wrong it seems like we get into a state of underflow but never try reading from the ssl channel again. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-04-27T22:22:03.584+0000","updated":"2012-04-27T22:22:03.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13264985","id":"13264985","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"I created a fix in svn revision 1332230 and created a new snapshot\n\nhttps://repository.apache.org/content/repositories/snapshots/org/apache/activemq/apache-activemq/5.7-SNAPSHOT/\n\nIt fixes the problem that transport get stuck in serviceRead() method and from my local test it looks pretty much the same as plain stomp+ssl implementation. Can you take it for a spin and let us know if it improves your use case.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2012-04-30T15:38:18.282+0000","updated":"2012-04-30T15:38:18.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13264993","id":"13264993","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Tested here with the fix Dejan posted and the NIO+SSL test works as expected now on my machine.  Would be good confirmation to see if that ruby client test is working now. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-04-30T15:55:05.899+0000","updated":"2012-04-30T15:55:05.899+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13264996","id":"13264996","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ripienaar","name":"ripienaar","key":"ripienaar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R.I.Pienaar","active":true,"timeZone":"Etc/UTC"},"body":"Thanks guys, I'll test 'morrow UK time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ripienaar","name":"ripienaar","key":"ripienaar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R.I.Pienaar","active":true,"timeZone":"Etc/UTC"},"created":"2012-04-30T15:56:59.698+0000","updated":"2012-04-30T15:56:59.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13265744","id":"13265744","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ripienaar","name":"ripienaar","key":"ripienaar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R.I.Pienaar","active":true,"timeZone":"Etc/UTC"},"body":"Well done, this has resolved the problem for me.  Tested both with my simple test script and real world workload that first brought up the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ripienaar","name":"ripienaar","key":"ripienaar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R.I.Pienaar","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-01T11:11:38.612+0000","updated":"2012-05-01T11:11:38.612+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12552652/comment/13265796","id":"13265796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Testing shows Dejan's fix resolves the issue.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-01T13:29:37.691+0000","updated":"2012-05-01T13:29:37.691+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3819/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ahw7:"}}