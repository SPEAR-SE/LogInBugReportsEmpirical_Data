{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483502","self":"https://issues.apache.org/jira/rest/api/2/issue/12483502","key":"AMQ-2972","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315625","id":"12315625","description":"","name":"5.4.2","archived":false,"released":true,"releaseDate":"2010-12-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-10-13T08:52:22.735+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Oct 18 07:15:12 UTC 2010","customfield_12310420":"14833","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_89988196_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-10-13T08:52:22.782+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2972/watchers","watchCount":2,"isWatching":false},"created":"2010-10-12T07:52:34.586+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315624","id":"12315624","description":"Maintenance release for 5.4.0","name":"5.4.1","archived":false,"released":true,"releaseDate":"2010-09-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-10-18T07:15:12.330+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313903","id":"12313903","name":"Transport"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"The STOMP over Websocket support does not work with both client libraries referenced from the ActiveMQ Websockets page\n( http://activemq.apache.org/websockets.html ).\nOn the ActiveMQ side, the following error appears:\n\n INFO | Started SelectChannelConnector@0.0.0.0:8161\nERROR | handle failed?\njava.lang.IllegalArgumentException: !utf8\n        at org.eclipse.jetty.util.Utf8StringBuilder.append(Utf8StringBuilder.java:112)\n        at org.eclipse.jetty.websocket.WebSocketParser.parseNext(WebSocketParser.java:147)\n        at org.eclipse.jetty.websocket.WebSocketConnection.handle(WebSocketConnection.java:75)\n        at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:252)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:436)\n        at java.lang.Thread.run(Unknown Source)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"63722","customfield_12312823":null,"summary":"STOMP over Websockets do not work in Chrome","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bergamot","name":"bergamot","key":"bergamot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arjan van den Berg","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bergamot","name":"bergamot","key":"bergamot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arjan van den Berg","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows XP, Chrome 6.0.472.63","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483502/comment/12943040","id":"12943040","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bergamot","name":"bergamot","key":"bergamot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arjan van den Berg","active":true,"timeZone":"Europe/Berlin"},"body":"I've managed to solve the issue by upgrading the jetty components to version 7.1.6\nSo, in lib/web, I updated jetty-all-server-7.0.1.v20091125.jar to jetty-all-server-7.1.6.v20100715.jar\nand jetty-websocket-7.0.1.v20091125.jar to jetty-websocket-7.1.6.v20100715.jar.\n\nProbably the websocket specification has changed between jetty releases.\n\nAlso, some extra documentation on how to use the client libraries specifically for ActiveMQ would be handy.\nIt took some time for me to find out that the destination should be in the form \"/topic/test.topic\" or \"/queue/test.queue\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bergamot","name":"bergamot","key":"bergamot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arjan van den Berg","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-12T08:58:08.744+0000","updated":"2010-10-12T08:58:59.452+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483502/comment/12943028","id":"12943028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"fixed with svn revision 1022029. Thanks for digging this out.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-13T08:52:22.735+0000","updated":"2010-10-13T08:52:22.735+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483502/comment/12943076","id":"12943076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=julian.cable","name":"julian.cable","key":"julian.cable","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=julian.cable&avatarId=10644","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=julian.cable&avatarId=10644","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=julian.cable&avatarId=10644","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=julian.cable&avatarId=10644"},"displayName":"Julian Cable","active":true,"timeZone":"Europe/London"},"body":"Using apache-activemq-5.4.0-fuse-00-00\n\nI tried updating the jetty jars and got:\n\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to load type: org.eclipse.jetty.security.HashLoginService. Reason: java.lang.ClassNotFoundException: org.eclipse.jetty.security.HashLoginService; nested exception is java.lang.ClassNotFoundException: org.eclipse.jetty.security.HashLoginService\n\nI tried adding jetty-security-7.1.6.v20100715.jar but that didn't help.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=julian.cable","name":"julian.cable","key":"julian.cable","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=julian.cable&avatarId=10644","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=julian.cable&avatarId=10644","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=julian.cable&avatarId=10644","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=julian.cable&avatarId=10644"},"displayName":"Julian Cable","active":true,"timeZone":"Europe/London"},"created":"2010-10-16T03:16:55.591+0000","updated":"2010-10-16T03:16:55.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483502/comment/12943078","id":"12943078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bergamot","name":"bergamot","key":"bergamot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arjan van den Berg","active":true,"timeZone":"Europe/Berlin"},"body":"The jetty-all-server jar is an aggregate jar that contains org.eclipse.jetty.security.HashLoginService. Maybe your classpath is non-standard or there's a difference between ActiveMQ 5.4.1 and Fuse 5.4.0?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bergamot","name":"bergamot","key":"bergamot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arjan van den Berg","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-18T07:15:12.276+0000","updated":"2010-10-18T07:15:12.276+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2972/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0b9xr:"}}