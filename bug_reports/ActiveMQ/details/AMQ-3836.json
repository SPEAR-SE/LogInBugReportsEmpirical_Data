{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12554913","self":"https://issues.apache.org/jira/rest/api/2/issue/12554913","key":"AMQ-3836","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321258","id":"12321258","description":"Next v5 maintenance release","name":"5.7.0","archived":false,"released":true,"releaseDate":"2012-10-08"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-05-11T14:44:39.449+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu May 31 20:27:43 UTC 2012","customfield_12310420":"239166","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1749371077_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-05-31T20:27:43.636+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3836/watchers","watchCount":3,"isWatching":false},"created":"2012-05-11T14:31:32.610+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-05-31T20:27:43.681+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315706","id":"12315706","name":"stomp"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Destination specification on STOMP using activemq 5.6.0 is broken.\n\nBefore 5.6.0, you had to specify \"/queue/my_queue\". Now, activemq automatically includes a \"/queue/\" on destination name, whether needed or not.\n\nFor instance, sending messages to \"/queue/nagios-events\" works. Subscribing to \"/queue/nagios-events\" creates an additional queue named \"/queue/queue/nagios-events\".\n\nMessage sending is also affected, although it accepts both \"/queue/nagios-events\" and \"nagios-events\"","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12530245","id":"12530245","filename":"firsttony.php","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-30T18:19:25.706+0000","size":1596,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12530245/firsttony.php"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59162","customfield_12312823":null,"summary":"STOMP 1.0 protocol (SUBSCRIBE destination) broken on ActiveMQ 5.6.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Centos 5 running Apache ActiveMQ 5.6.0, jre-1.6.0_20-fcs","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13273304","id":"13273304","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Recommend you create a JUnit test case to demonstrate your issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-11T14:44:39.449+0000","updated":"2012-05-11T14:44:39.449+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13273309","id":"13273309","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"body":"I have absolutely no idea how to do that. I am not a java guy, sorry","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-11T14:48:13.511+0000","updated":"2012-05-11T14:48:13.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13273321","id":"13273321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"StompTest.java in our unit tests has plenty of examples, barring that please create a test case using the client you are currently using.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-11T14:58:57.637+0000","updated":"2012-05-11T14:58:57.637+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13274623","id":"13274623","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You'll need to provide a test case, can't reproduce this so far.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-14T14:43:31.086+0000","updated":"2012-05-14T14:43:31.086+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13285859","id":"13285859","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"body":"I'm seeing the same problem.  We're using a modified first.php from the fuse php client.  I'll clean it up and attach it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-30T18:12:08.320+0000","updated":"2012-05-30T18:12:08.320+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13285867","id":"13285867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"body":"modified first.php from fuse stomp php client.  the result on 5.5.1 comes back as:\n\nNotice the destination has a /queue on it in 5.6.0  We checked the STOMP frame and its not coming from the client.\n\nIn 5.5.1 we get this result:\n\nReceived headers\ns_scale => 0.001\nmessage-id => ID:tony-desktop-53600-1338396365864-2:12:-1:1:1\nd_serviceName => ModelUpload\ndestination => /topic/testtopic\ntimestamp => 1338399414341\ns_modelID => 123456\nexpires => 0\npriority => 4\n\nIn 5.6.0 we get this result:\n\nReceived headers\ns_scale =>  0.001\nmessage-id => ID:maker-55961-1338400788753-2:2:-1:1:1\nd_serviceName =>  ModelUpload\ndestination => /queue//topic/testtopic\ntimestamp => 1338401617112\ns_modelID =>  123456\nexpires => 0\npriority => 4\n\n\n\nHere is the frame that was sent:\n\nSEND\nd_serviceName: ModelUpload\ns_modelID: 123456\ns_scale: 0.001\ndestination: /topic/testtopic\n\ntest\n\n\n---\nI suspect its something in the FrameTranslator, digging in there.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-30T18:19:25.743+0000","updated":"2012-05-30T18:19:25.743+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13285875","id":"13285875","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Why not try and reproduce it with a JUnit test?  There's already a large number of them in StompTest.java to work from.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-30T18:23:06.898+0000","updated":"2012-05-30T18:23:06.898+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13285878","id":"13285878","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"body":"I will.  Just getting my head around the problem, so far we're learning stomp from the php client.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-30T18:27:08.957+0000","updated":"2012-05-30T18:27:08.957+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13286191","id":"13286191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"body":"The issue is with STOMP clients that put spaces after values as in destination: /topic/test\n\nThe convert destination method in LegacyFrameTranslator does a startsWith(\"/topic\") to detect topics.  \n\nThe fuse stomp php client puts a space on items.  My read of the stomp spec shows examples without it.  But it doesn't really make it clear.  We're looking around at a few other clients to see what they do.\n\nIf its common of clients then it might make sense to deal with it on the server.  The other php stomp client does not put spaces in its values.  \n\nI can easily make a junit test for this case if you want it, but I kinda expect this will be labeled under \"client error\" or maybe incomplete spec language(my pet peeve).  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-30T23:40:12.600+0000","updated":"2012-05-30T23:40:12.600+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13286803","id":"13286803","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"body":"I found this language in the STOMP specification under Value Encoding:\n\nThe STOMP 1.0 specification included many example frames with padding in the headers and many servers and clients were implemented to trim or pad header values. This causes problems if applications want to send headers that SHOULD not get trimmed. In STOMP 1.1, clients and servers MUST never trim or pad headers with spaces.\n\n\nSo I believe we should not do any space removal.  I think this ticket can be closed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giles7777","name":"giles7777","key":"giles7777","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-31T18:24:05.007+0000","updated":"2012-05-31T18:24:05.007+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13286811","id":"13286811","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Agreed the spec was a bit vague in this regard.  In 5.6 we removed the header trimming in order to not discard spaces that a client had intentionally placed there.  It might be good to at least do a test on a trimmed destination value before assuming its a queue and getting into this scenario.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-31T18:34:52.241+0000","updated":"2012-05-31T18:34:52.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554913/comment/13286899","id":"13286899","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Fixed to attempt to find the right destination with spaces padding trimmed before falling back to the configured fallback handler.  Also updated the Stomp PHP client to not pad headers.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-31T20:27:43.660+0000","updated":"2012-05-31T20:27:43.660+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3836/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ahtz:"}}