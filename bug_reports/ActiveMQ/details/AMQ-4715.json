{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12667674","self":"https://issues.apache.org/jira/rest/api/2/issue/12667674","key":"AMQ-4715","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2013-09-09T21:35:11.864+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 13 17:16:55 UTC 2013","customfield_12310420":"347611","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_83874286_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-09-10T20:47:02.650+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4715/watchers","watchCount":4,"isWatching":false},"created":"2013-09-09T21:29:08.389+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321258","id":"12321258","description":"Next v5 maintenance release","name":"5.7.0","archived":false,"released":true,"releaseDate":"2012-10-08"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-09-13T17:16:55.942+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Every time when i start connection and create session i can see “java.exe” (in task manger) memory get increase by 1000 to 2000K that’s ok.\nNow, when i closed connection and session expecting to memory  go down by 1000 to 2000K but nothing happening.\n\nHere is my sample code.\n\n{code}\npublic static void main(String[] args) {\n\n  try {\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"tcp://localhost:61616\");\n    Connection connection= connectionFactory.createConnection();\n    connection.start();          \n\n    for(int i=0;i<40;i++) {\n      Session session=  m_connection.createSession(false, Session.CLIENT_ACKNOWLEDGE);\n      Destination queueDestination = session.createQueue(\"TestQueue\");\n\n      MessageProducer producer = session.createProducer(queueDestination);\n      producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n\n      TextMessage textMessage = session.createTextMessage();\n      textMessage.setText(“some text”);\n\n      String jmsCorrelationId= UUID.randomUUID().toString();\n      textMessage.setJMSCorrelationID(m_jmsCorrelationId);\n      producer.send(textMessage);\n\n      if (producer != null) {\n         producer.close();\n         producer=null;\n      }\n      \n      if(m_session != null) {\n        session.close();\n        session=null;\n      }\n    } // end for loop\n\n    if (connection!=null) {\n      connection.close();\n    }\n  }\n}\n{code}\n\nIf you will execute this program three to four times you will see significant memory get increase in task manger for “java.exe”.\nThing most bothering me is that… after executing this program all allocated memory should get cleaned-up by GC but look like somehow it’s not happening.\n\nNo idea what am I doing wrong?\n\nPlease help me!\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"347910","customfield_12312823":null,"summary":"Memory issue with ActiveMQ in java","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13762334","id":"13762334","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"GC is a lazy process and there's nothing that requires it to run during this code if it doesn't get to a point where it's really needed.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-09-09T21:35:11.864+0000","updated":"2013-09-09T21:35:11.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13762338","id":"13762338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"body":"That was my test app. but in my real app we do running out of memory ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"created":"2013-09-09T21:38:50.985+0000","updated":"2013-09-09T21:38:50.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13762346","id":"13762346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You'd need to do more analysis on your code / app before blaiming activemq, use a tool like yourkit to look at the usage of you app.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-09-09T21:44:49.697+0000","updated":"2013-09-09T21:44:49.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13762350","id":"13762350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"body":"you get it wrong, i m not blaiming asking for a help!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"created":"2013-09-09T21:46:52.352+0000","updated":"2013-09-09T21:46:52.352+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13762360","id":"13762360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"There's not much we can do to help you here, you can post logs related to the out of memory error but without more to go on it doesn't sound like an ActiveMQ problem. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-09-09T21:55:47.914+0000","updated":"2013-09-09T21:55:47.914+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13763118","id":"13763118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"body":"Hi Timothy,\n\nSo this is what i did today, run same code with 10,000 request (instead of 40 in for loop) and this is what i get.\n\nNothing was up on my machine just started activeMQ(5.7.0)  and looking @ task manager “java.exe” was “137144K”\nAfter run my code “java.exe” was “349808K” why is that? (waited for 30 minutes after run my code)\n\nAgain, not blaming on activeMQ or anyone trying to figure out what am doing wrong that cause an issue with memory.\n\nDo i missing any configuration if so, could you please tell me where and why?\n\nOne more thing, in my original app i have singleton class where i do connection one time an keep that connection object live until application shutdown.\nI do create “session, destination, temporary queue, messageSelector” for every request and close them after done with this request.\n\nOrder of closing all objects\n\n           if(m_objProducer!=null)\n            {\n                m_objProducer.close();\n                m_objProducer=null;\n\n            }\n            if(m_objConsumer!=null)\n            {\n                m_objConsumer.close();\n                m_objConsumer=null;\n            }\n            if(m_objSession!=null)\n            {\n                m_objSession.close();\n                m_objSession=null;\n            }\n\nThanks in advance.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"created":"2013-09-10T15:29:27.765+0000","updated":"2013-09-10T15:29:27.765+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13763443","id":"13763443","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"body":"no reply!!!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"created":"2013-09-10T20:16:14.753+0000","updated":"2013-09-10T20:16:14.753+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13763467","id":"13763467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ceposta","name":"ceposta","key":"ceposta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ceposta&avatarId=15051","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ceposta&avatarId=15051","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ceposta&avatarId=15051","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ceposta&avatarId=15051"},"displayName":"Christian Posta","active":true,"timeZone":"America/Phoenix"},"body":"ritesh,\nthe correct approach would be to profile your app with yourkit or visualvm or some java profiler as Tim recommended. you have not demonstrated a memory issue with what you've presented thus far.\n\nagain, as Tim pointed out, garbage collection has its own algorithms for initiating and reclaiming whatever objects are unreachable. if you use a jvm profiling tool, you'll be able to see what objects are live, which are unreachable (and would be gc'd) and can even force the GC to happen. \n\nyou should investigate further what your code is doing and what memory characteristics you're experiencing and post those results here if there is an apparent problem. additionally, this sort of discussion should be happening on the mailing list, not this JIRA issue. \n\ni suggest we close this and continue discussion on mailing list and reopen this if there is conclusive issue to be found. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ceposta","name":"ceposta","key":"ceposta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ceposta&avatarId=15051","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ceposta&avatarId=15051","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ceposta&avatarId=15051","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ceposta&avatarId=15051"},"displayName":"Christian Posta","active":true,"timeZone":"America/Phoenix"},"created":"2013-09-10T20:28:56.752+0000","updated":"2013-09-10T20:28:56.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13763477","id":"13763477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jerrinot","name":"jerrinot","key":"jerrinot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaromir Hamala","active":true,"timeZone":"Europe/Vienna"},"body":"ritesh, it's not a bug. \nIt is a perfectly normal behavior of Java Virtual Machine. Unused memory might or might not be reclaimed back to the operating system. When and if the memory will be reclaimed back depends on number of factors (JVM configuration, etc). Here is a brief explanation how JVM maintains memory: http://pubs.vmware.com/vfabric52/index.jsp?topic=/com.vmware.vfabric.em4j.1.2/em4j/conf-heap-management.html\n\nI'm not sure whether this is a right place discuss this as it's not ActiveMQ issue. I believe you might get better answers in dedicated Q&A forums such as http://stackoverflow.com/ .","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jerrinot","name":"jerrinot","key":"jerrinot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaromir Hamala","active":true,"timeZone":"Europe/Vienna"},"created":"2013-09-10T20:39:44.461+0000","updated":"2013-09-10T20:39:44.461+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13763493","id":"13763493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Shutting this down as its not an AMQ issue.  Move discussion to the mailing list please.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-09-10T20:47:02.670+0000","updated":"2013-09-10T20:47:02.670+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667674/comment/13766661","id":"13766661","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"body":"Hi Jaromi,\n\n\tCan you please help me with following error.\n\nGot following error form AMQ\n\nERROR | Memory Usage for the Broker (1024 mb) is more than the maximum\navailable\nfor the JVM: 981 mb.\n\nI think i know the cause of an error. I have following setting in\n\"activemq.xml\"\n\n<systemUsage>\n\t<systemUsage>\n       \t<memoryUsage>\n                    <memoryUsage limit=\"1 gb\"/> (here is the problem)\n             </memoryUsage>\n             <storeUsage>\n                    <storeUsage limit=\"100 gb\"/>\n             </storeUsage>\n             <tempUsage>\n                    <tempUsage limit=\"50 gb\"/>\n             </tempUsage>\n\t</systemUsage>\n</systemUsage>\n\nNow, change it back to 64mb.\nSo, the question is since we are dealing with 9 to 10K (or some time 1MB)\nsize messages with delivery mode=\"NON_PERSISTENT\" would it be a good idea to\nincrease this memory (to 2gb) if so, what would i have to do for JVM\nmemory(sorry we are new in java)?\n\n\nOne more thing in our application we have tons of temp and large string\nobjects would be good idea to use following command?\n\n\"-XX:+UseConcMarkSweepGC\" first of all is it recommended to use this and if\nso, where and how can i use this?\n\nTried on command prompt \"c:program files\\java\">-XX:+UseConcMarkSweepGC didn’t\nwork.\n\n\nRitesh\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdsritesh","name":"tdsritesh","key":"tdsritesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ritesh","active":true,"timeZone":"America/New_York"},"created":"2013-09-13T17:16:55.826+0000","updated":"2013-09-13T17:16:55.826+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4715/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1nxvb:"}}