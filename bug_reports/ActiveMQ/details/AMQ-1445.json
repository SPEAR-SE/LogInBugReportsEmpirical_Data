{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12482248","self":"https://issues.apache.org/jira/rest/api/2/issue/12482248","key":"AMQ-1445","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315618","id":"12315618","description":"","name":"5.1.0","archived":false,"released":true,"releaseDate":"2008-05-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-10-07T04:42:50.585+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jan 21 14:52:27 UTC 2008","customfield_12310420":"84691","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_166346296_*|*_5_*:*_2_*:*_8939514339_*|*_4_*:*_1_*:*_255462815","customfield_12312321":null,"resolutiondate":"2008-01-21T14:52:27.825+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1445/watchers","watchCount":2,"isWatching":false},"created":"2007-10-05T06:30:24.375+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-01-21T14:52:27.805+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313895","id":"12313895","name":"Message Store"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"My application works correctly with JDBC persistence using derby, or indeed with no persistence turned on.\n\nIf I use the AMQ store however, very early on in the application's run, I get the following error, and then my application hangs.  This happens for both the VM and TCP transports.\n\n[VMTransport] 35346 ERROR org.apache.activemq.store.amq.RecoveryListenerAdapter - Message id ID:tamarama-60079-1191564856100-2:2:3:3:4 could not be recovered from the data store!\n\nI have attached a debug trace of the application, which shows the lifetime of message tamarama-60079-1191564856100-2:2:3:3:4.\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12460900","id":"12460900","filename":"ASF.LICENSE.NOT.GRANTED--log.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"created":"2007-10-05T06:30:24.423+0000","size":173047,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12460900/ASF.LICENSE.NOT.GRANTED--log.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"161458","customfield_12312823":null,"summary":"RecoveryListenerAdapter - Message id ID... could not be recovered from the data store!","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"subtasks":[{"id":"12481947","key":"AMQ-1544","self":"https://issues.apache.org/jira/rest/api/2/issue/12481947","fields":{"summary":"ERROR RecoveryListenerAdapter - Message id xxxxxx could not be recovered from the data store! (when using Spring's DefaultMessageListenerContainer with more than 1 concurrentConsumers to dispatch JMS messages)","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12939069","id":"12939069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"body":"Forgot to mention: I observed this behaviour with revision 582029.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"created":"2007-10-05T06:38:35.770+0000","updated":"2007-10-05T06:38:35.770+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12936972","id":"12936972","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Fixed by revision 582574","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2007-10-07T04:42:50.585+0000","updated":"2007-10-07T04:42:50.585+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12936999","id":"12936999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"body":"Hi Rob,\n\nMany thanks - I can confirm that this has fixed the issue.\n\nCheers,\nDavid\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sits","name":"sits","key":"sits","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Sitsky","active":true,"timeZone":"Australia/Sydney"},"created":"2007-10-08T01:46:05.191+0000","updated":"2007-10-08T01:46:05.191+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12939312","id":"12939312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lhotari","name":"lhotari","key":"lhotari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lari Hotari","active":true,"timeZone":"Etc/UTC"},"body":"I have this same problem with ActiveMQ 5.0.0 version that I downloaded 2 days ago. I don't think that this is fixed in the release build.\n\nThe log has only this row:\n2008-01-18 17:29:10,769 [/127.0.0.1:2257] ERROR RecoveryListenerAdapter        - Message id ID:mycomputer-2250-1200669948525-0:1:30:8:1 could not be recovered from the data store!\n\nActiveMQ stalls after I do this: send 300 message to a queue, another app replies to each message to another queue.  There's a short delay and I after I try again it will always stall after the 1. message. Really strange. Restarting ActiveMQ doesn't help. The data directory has to be deleted.\nThe messages sent to the queue are non-persistent. I'm using Kaha store.\n\nBoth sides are using Jencks + ActiveMQ RA + Spring TransactionTemplate + JdbcTemplate. The receiving side uses Jencks POJO (inbound) + JDBCTemplate (Jencks outbound configuration), inside XA transaction using Spring Transaction configuration for Jencks. I tested with non-persistent and persistent messages and the result is the same.\n\nI also tried Jdbc persistence (derby), but then some messages are lost (EOFException on client before problem, server side says that some acknowledge cannot be matched).\n\nMaybe Jencks is causing problems? Are there test cases that use Jencks + ActiveMQ RA?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lhotari","name":"lhotari","key":"lhotari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lari Hotari","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-18T15:54:44.961+0000","updated":"2008-01-18T17:34:41.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12939288","id":"12939288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lhotari","name":"lhotari","key":"lhotari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lari Hotari","active":true,"timeZone":"Etc/UTC"},"body":"Some other people also have this problem:\nhttp://www.nabble.com/5.0-release-having-%22RecoveryListenerAdapter%22-error-that-stop-msg-fetching-tp14423016s2354p14423016.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lhotari","name":"lhotari","key":"lhotari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lari Hotari","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-18T17:59:09.939+0000","updated":"2008-01-18T17:59:09.939+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12939275","id":"12939275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lhotari","name":"lhotari","key":"lhotari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lari Hotari","active":true,"timeZone":"Etc/UTC"},"body":"maybe this is the same problem. it also contains a test case.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lhotari","name":"lhotari","key":"lhotari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lari Hotari","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-18T18:03:00.476+0000","updated":"2008-01-18T18:03:00.476+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12482248/comment/12939255","id":"12939255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Resolved in trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-21T14:52:27.794+0000","updated":"2008-01-21T14:52:27.794+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1445/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0rzvz:"}}