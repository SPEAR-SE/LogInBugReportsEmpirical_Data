{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12934874","self":"https://issues.apache.org/jira/rest/api/2/issue/12934874","key":"AMQ-6148","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-01-29T02:45:29.223+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Feb 10 18:48:51 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6148/watchers","watchCount":5,"isWatching":false},"created":"2016-01-28T18:33:48.890+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329382","id":"12329382","name":"5.11.1","archived":false,"released":true,"releaseDate":"2015-02-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-02-10T18:48:51.736+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I am using LDAP service to do authentication for ActiveMQ, and I found everytime ActiveMQ servers try to establish a connection between ActiveMQ client, the ActiveMQ server will create a connection to LDAP server to do authentication. That's is not good, think about there are thousands of ActiveMQ clients are trying to connect to ActiveMQ servers, the ActiveMQ servers will need to create thousands of connections to LDAP servers. And moreover it is not reliable as well because the connection between LDAP servers and ActiveMQ servers could be broken sometimes. We need something similar as Cached LDAP Authorization Module. It is more reasonable that the ActiveMQ will cache the ldap account credential in local memory and refresh in certain interval.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"When use LDAP auth, Activemq should not always connect to ldap service to do authentication","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15122828","id":"15122828","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbertram","name":"jbertram","key":"jbertram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbertram&avatarId=36243","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbertram&avatarId=36243","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbertram&avatarId=36243","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbertram&avatarId=36243"},"displayName":"Justin Bertram","active":true,"timeZone":"America/Chicago"},"body":"For what it's worth, [Apache ActiveMQ Artemis|http://activemq.apache.org/artemis/] (a sub-project of Apache ActiveMQ) employs a caching mechanism so that whatever login module is being used isn't called *every* time an authentication is performed.  It's controlled by a simple time-out.  You can see the details in [org.apache.activemq.artemis.core.security.impl.SecurityStoreImpl|https://github.com/apache/activemq-artemis/blob/master/artemis-server/src/main/java/org/apache/activemq/artemis/core/security/impl/SecurityStoreImpl.java]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbertram","name":"jbertram","key":"jbertram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbertram&avatarId=36243","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbertram&avatarId=36243","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbertram&avatarId=36243","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbertram&avatarId=36243"},"displayName":"Justin Bertram","active":true,"timeZone":"America/Chicago"},"created":"2016-01-29T02:45:29.223+0000","updated":"2016-01-29T02:45:29.223+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15126971","id":"15126971","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Use the cached LDAP Authorization Map: http://activemq.apache.org/cached-ldap-authorization-module.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-01T20:29:15.951+0000","updated":"2016-02-01T20:29:15.951+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15131284","id":"15131284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"body":"Hi Timothy,\nI am talking about AUTHENTICATION, not authorization. The cached LDAP Authorization Map does NOT help at all. \nIn our case, we have hundreds of application servers, and we use pooled connection factory with max connection number of 5. The ActiveMQ server has to create more than a thousand connections to LDAP service when it is trying to establish the huge number of connections from application servers. That does not make sense and ldap server could deny access due to the huge number of connections to it. Think about if we have 5 ActiveMQ servers, each server has to create 1000 connections to LDAP server. sooner or later, the ldap server will be exhausted.\n\nThis is an real ISSUE when we are trying to adopt ActiveMQ for big application clusters.\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-03T22:39:05.089+0000","updated":"2016-02-03T22:39:05.089+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15131291","id":"15131291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"body":"Hi Justin,\nIs there any release schedule for this project? We are trying to adopt ActiveMQ as our message bus for our application servers, but since we use ldap authentication and authorization, we soon found the ldap service itself will become a bottleneck due to huge requirements for establishing connections from ActiveMQ servers. \n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-03T22:43:15.434+0000","updated":"2016-02-03T22:43:15.434+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15131329","id":"15131329","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbertram","name":"jbertram","key":"jbertram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbertram&avatarId=36243","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbertram&avatarId=36243","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbertram&avatarId=36243","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbertram&avatarId=36243"},"displayName":"Justin Bertram","active":true,"timeZone":"America/Chicago"},"body":"[~alt_alt], the Apache ActiveMQ Artemis broker has had [3 releases already|http://activemq.apache.org/artemis/download.html].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbertram","name":"jbertram","key":"jbertram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbertram&avatarId=36243","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbertram&avatarId=36243","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbertram&avatarId=36243","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbertram&avatarId=36243"},"displayName":"Justin Bertram","active":true,"timeZone":"America/Chicago"},"created":"2016-02-03T23:02:20.249+0000","updated":"2016-02-03T23:02:20.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15133329","id":"15133329","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"body":"Hi Justin,\nIt looks like another project instead of a plugin in ActiveMQ, have you considered to fix this issue in the future release of ActiveMQ, it is really important for us to adopt ActiveMQ for huge clusters of application servers.\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-04T23:41:23.139+0000","updated":"2016-02-04T23:41:23.139+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15133467","id":"15133467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbertram","name":"jbertram","key":"jbertram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbertram&avatarId=36243","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbertram&avatarId=36243","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbertram&avatarId=36243","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbertram&avatarId=36243"},"displayName":"Justin Bertram","active":true,"timeZone":"America/Chicago"},"body":"That's correct.  ActiveMQ Artemis is not a plugin to ActiveMQ but a broker in and of itself.  Artemis supports clustering.  Most of the same kinds of clustering features that ActiveMQ 5.x supports are also supported in Artemis so if you want a huge cluster then you can certainly have it with Artemis.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbertram","name":"jbertram","key":"jbertram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbertram&avatarId=36243","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbertram&avatarId=36243","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbertram&avatarId=36243","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbertram&avatarId=36243"},"displayName":"Justin Bertram","active":true,"timeZone":"America/Chicago"},"created":"2016-02-05T01:28:15.350+0000","updated":"2016-02-05T01:28:15.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15138019","id":"15138019","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"body":"Hi Justin,\nThanks for your reply, but the problem is that we already setup ActiveMQ as our message bus and it is already online for production now. It should be no easy for us to replace it with another one. So we still hope the fix coming in the future release of ActiveMQ. Is that possible?\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-08T23:41:57.856+0000","updated":"2016-02-08T23:41:57.856+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15138864","id":"15138864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"looks like we could pull back the fix from artemis for this. I don't see any reason why we cannot cache the ldap context and reuse it for subsequent logins. There may even be a way to pool ldap connections.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-09T12:25:16.713+0000","updated":"2016-02-09T12:25:16.713+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12934874/comment/15141434","id":"15141434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"body":"Cool! Thanks Gary!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alt_alt","name":"alt_alt","key":"alt_alt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JIE CHEN","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-10T18:48:51.736+0000","updated":"2016-02-10T18:48:51.736+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6148/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2s3uf:"}}