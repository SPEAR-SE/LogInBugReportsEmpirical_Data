{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483132","self":"https://issues.apache.org/jira/rest/api/2/issue/12483132","key":"AMQ-2259","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2009-06-18T20:09:42.484+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jun 18 20:26:22 UTC 2009","customfield_12310420":"75008","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2568385791_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-06-18T20:09:42.558+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2259/watchers","watchCount":2,"isWatching":false},"created":"2009-05-20T02:43:16.767+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[{"id":"12335017","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12335017","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12483581","key":"AMQ-2324","self":"https://issues.apache.org/jira/rest/api/2/issue/12483581","fields":{"summary":"Forwarded message cannot be distributed to the original broker","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-11-11T18:55:20.964+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Hi ,\n    Am having an issue with network of brokers where in the pending messages are not getting forwarded . Here is the scenario .\n\n  I have two brokers configured in network AMQ1 and AMQ2. I have defined a virtual topic Virtual.A \nSTEP 1)  Publisher is publishing 10 messages on AMQ1 and AMQ2 has a consumer to the virtual queue Consumer.X.Virtual.A with a selector that matches half the messages  (5 messages) published , and the web console correctly shows 5 pending messages.\nSTEP 2) Now I bring up a consumer Consumer.X.virtual.A on AMQ1 (with out restarting the broker) , this time with a selector matching the remaining pending messages . I have left it running for a while and dint see any messages getting forwarded from AMQ2 to AMQ1 . (am not using conduit subscription and my networkTTL is set to 5 with dynamicOnly set to true)\n\nSTEP 3) But when i restart AMQ1 , I see all messages forwarded from AMQ2 to AMQ1.\nAm I missing some configuration here ?\n\nHave another question on web console as well .\n\nAfter STEP 1 on AMQ1 I see Messages sent and Messages received set to 10 and on AMQ2 messages sent was 10 and messages received was 5 while pending messages were 5 .\nWhy would AMQ1 show it as 10 for both receive and sent , Should i be reading it as messages received and messages forwarded.\n\nI greatly appreciate your response .\n ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"255226","customfield_12312823":null,"summary":"network of brokers - pending messages not getting forwarded","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mprem74","name":"mprem74","key":"mprem74","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"madderla prem kumar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mprem74","name":"mprem74","key":"mprem74","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"madderla prem kumar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483132/comment/12941554","id":"12941554","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikatkov","name":"ikatkov","key":"ikatkov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ikatkov&avatarId=26837","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ikatkov&avatarId=26837","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ikatkov&avatarId=26837","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ikatkov&avatarId=26837"},"displayName":"Igor Katkov","active":true,"timeZone":"America/Los_Angeles"},"body":"Missconfiguration\n\nPlease use duplex, networkTTL and dynamicOnly\n{code}\n       <networkConnector name=\"default-nc\" uri=\"multicast://default\" duplex=\"true\" networkTTL=\"100\" dynamicOnly=\"true\"/>\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikatkov","name":"ikatkov","key":"ikatkov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ikatkov&avatarId=26837","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ikatkov&avatarId=26837","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ikatkov&avatarId=26837","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ikatkov&avatarId=26837"},"displayName":"Igor Katkov","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-06-18T20:09:42.484+0000","updated":"2009-06-18T20:09:42.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483132/comment/12941560","id":"12941560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mprem74","name":"mprem74","key":"mprem74","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"madderla prem kumar","active":true,"timeZone":"Etc/UTC"},"body":"I have static entries in network connectors like uri=\"static:(tcp://localhost:41616)  for each other.\nBut i guess the issue is that a message will never traverse through a broker if it has already visited it once, Please correct me if am wrong . \n\nmessages got forwarded from AMQ1 to AMQ2   in STEP1\nAnd in STEP2 when the consumers are activated on AMQ1 then messages dint get forwarded from AMQ2 back to AMQ1 because it will result in cyclic forwarding.\n\nIf cyclic forwarding is the issue , is there a way to disable this behavior ,  We have brokers connected in network and the consumers on these brokers will be moving around the network during the release cycles.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mprem74","name":"mprem74","key":"mprem74","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"madderla prem kumar","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-18T20:26:22.245+0000","updated":"2009-06-18T20:26:22.245+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2259/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i182m7:"}}