{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12685563","self":"https://issues.apache.org/jira/rest/api/2/issue/12685563","key":"AMQ-4943","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2013-12-19T12:20:06.760+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 12 19:07:11 UTC 2015","customfield_12310420":"364638","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_59901831899_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-11-12T18:58:37.067+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4943/watchers","watchCount":5,"isWatching":false},"created":"2013-12-19T11:34:45.223+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-11-12T19:07:11.660+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"One of our brokers went crazy and logged _many_ exceptions looking like this:\n\n2013-12-19 12:27:09,007 [BrokerService[foobar] Task-13] ERROR AbstractStoreCursor - org.apache.activemq.broker.region.cursors.QueueStorePrefetch@654e3615:Consumer.prod.whatever,batchResetNeeded=false,storeHasMessages=true,size=2461725,cacheEnabled=false,maxBatchSize:200 - Failed to fill batch\njava.lang.RuntimeException: java.io.IOException: Invalid location: 43153:28, : java.lang.NegativeArraySizeException\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:277)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:110)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1746)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1962)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1470)\n\tat org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\n\tat org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n\tat java.lang.Thread.run(Thread.java:662)\nCaused by: java.io.IOException: Invalid location: 43153:28, : java.lang.NegativeArraySizeException\n\tat org.apache.kahadb.journal.DataFileAccessor.readRecord(DataFileAccessor.java:94)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:601)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:908)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:1024)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$4.execute(KahaDBStore.java:552)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:771)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:541)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:274)\n\t... 10 more\n2013-12-19 12:27:09,007 [BrokerService[foobar] Task-13] ERROR Queue - Failed to page in more queue messages \njava.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Invalid location: 43153:28, : java.lang.NegativeArraySizeException\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1746)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1962)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1470)\n\tat org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\n\tat org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n\tat java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.RuntimeException: java.io.IOException: Invalid location: 43153:28, : java.lang.NegativeArraySizeException\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:277)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:110)\n\t... 9 more\nCaused by: java.io.IOException: Invalid location: 43153:28, : java.lang.NegativeArraySizeException\n\tat org.apache.kahadb.journal.DataFileAccessor.readRecord(DataFileAccessor.java:94)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:601)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:908)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:1024)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$4.execute(KahaDBStore.java:552)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:771)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:541)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:274)\n\nA restart did not hep, the KahaDB stores is corrupted :-(","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"364938","customfield_12312823":null,"summary":"Corrupted KahaDB store: java.lang.NegativeArraySizeException","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"activemq-5.5.1-fuse-10-16","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852848","id":"13852848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"any indication of an earlier error? Guess it could be ages ago when that entry was written or any time in between.\nThe exception indicates that the locator size value is < 4, which it should not be or course.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-12-19T12:20:06.760+0000","updated":"2013-12-19T12:20:06.760+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852877","id":"13852877","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"body":"The previous errors are:\n\n2013-12-18 21:12:00,482 [ActiveMQ Journal Checkpoint Worker] ERROR MessageDatabase - KahaDB failed to store to Journal\njava.io.FileNotFoundException: /activemq/data/kahadb/db-43153.log (Too many open files)\n        at java.io.RandomAccessFile.open(Native Method)\n        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:216)\n        at org.apache.kahadb.journal.DataFile.openRandomAccessFile(DataFile.java:70)\n        at org.apache.kahadb.journal.DataFileAppender.processQueue(DataFileAppender.java:324)\n        at org.apache.kahadb.journal.DataFileAppender$2.run(DataFileAppender.java:203)\n2013-12-18 21:12:25,510 [ActiveMQ Journal Checkpoint Worker] INFO DefaultIOExceptionHandler - Stopping the broker due to exception, java.io.FileNotFoundException: /activemq/data/kahadb/db-43153.log (Too many open files)\njava.io.FileNotFoundException: /activemq/data/kahadb/db-43153.log (Too many open files)\n        at java.io.RandomAccessFile.open(Native Method)\n        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:216)\n        at org.apache.kahadb.journal.DataFile.openRandomAccessFile(DataFile.java:70)\n        at org.apache.kahadb.journal.DataFileAppender.processQueue(DataFileAppender.java:324)\n        at org.apache.kahadb.journal.DataFileAppender$2.run(DataFileAppender.java:203)\n\nFWIW, we had \"Too many open files\" errors because we had too many sockets in CLOSE_WAIT state.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"created":"2013-12-19T12:58:28.655+0000","updated":"2013-12-19T12:58:28.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852898","id":"13852898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"do you use checksumJournalFiles (defaults to true in 5.9) and checkForCorruptJournalFiles on kahaDB?\nThese should allow corrupt journal data to be ignored on restart - but there would be some message loss on the failed batch write if\nthe sends are not replayed by clients (failover openwire clients would replay).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-12-19T13:42:16.981+0000","updated":"2013-12-19T13:42:16.981+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852911","id":"13852911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"body":"We do not set these parameters (yet). Is there a significant performance penalty in enabling checksumJournalFiles?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"created":"2013-12-19T14:10:18.911+0000","updated":"2013-12-19T14:10:18.911+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852920","id":"13852920","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"with large queue depths like you have, there will be an impact on\nstartup as each journal data file will need to be read to verify batch\nchecksums. So multiple random reads per data file. So the restart\nimpact will be significant if IO random read performance is low.\nthe runtime overhead is minimal - generating an alder32 check on an\n~8k buffer in memory.\n\n\n\n\n-- \nhttp://redhat.com\nhttp://blog.garytully.com\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-12-19T14:23:07.328+0000","updated":"2013-12-19T14:23:07.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852925","id":"13852925","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"body":"OK, we will try these options.\n\nIs there any way to tell ActiveMQ to check the current corrupted KahaDB store and use the files that are sane? I guess that checkForCorruptJournalFiles does nothing if there are no checksums in the first place, right?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"created":"2013-12-19T14:32:03.186+0000","updated":"2013-12-19T14:32:03.186+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13852977","id":"13852977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"yep, the checksum is a prerequisit","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-12-19T15:39:09.524+0000","updated":"2013-12-19T15:39:09.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/13853837","id":"13853837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"body":"Is there any tool to attempt to recover messages from these corrupted KahaDB files that do not have cheksums?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lionel.cons","name":"lionel.cons","key":"lionel.cons","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lionel Cons","active":true,"timeZone":"Europe/Berlin"},"created":"2013-12-20T10:02:08.710+0000","updated":"2013-12-20T10:02:08.710+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/14791516","id":"14791516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"body":"I got the same problem after I encoutered \"Too many open files\" error and raised the ulimit and then restarted activemq 5.7.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ruralhunter","name":"ruralhunter","key":"ruralhunter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rural Hunter","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-09-17T03:22:09.468+0000","updated":"2015-09-17T03:22:09.468+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/15002649","id":"15002649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No reproducer and the broker version is quite old 5.5.x","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-11-12T18:58:37.100+0000","updated":"2015-11-12T18:58:37.100+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685563/comment/15002663","id":"15002663","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lichtin","name":"lichtin","key":"lichtin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lichtin&avatarId=12645","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lichtin&avatarId=12645","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lichtin&avatarId=12645","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lichtin&avatarId=12645"},"displayName":"Martin Lichtin","active":true,"timeZone":"Europe/Zurich"},"body":"Just wanted to let you know I've seen this with 5.11.1 as well.\nSo the bug is still there but as it is with some, they're hard to reproduce.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lichtin","name":"lichtin","key":"lichtin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lichtin&avatarId=12645","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lichtin&avatarId=12645","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lichtin&avatarId=12645","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lichtin&avatarId=12645"},"displayName":"Martin Lichtin","active":true,"timeZone":"Europe/Zurich"},"created":"2015-11-12T19:07:11.660+0000","updated":"2015-11-12T19:07:11.660+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4943/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1qunb:"}}