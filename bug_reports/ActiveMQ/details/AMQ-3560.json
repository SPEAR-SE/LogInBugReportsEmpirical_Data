{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12528333","self":"https://issues.apache.org/jira/rest/api/2/issue/12528333","key":"AMQ-3560","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323932","id":"12323932","name":"5.9.0","archived":false,"released":true,"releaseDate":"2013-10-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-10-25T22:34:21.378+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jul 31 16:56:54 UTC 2013","customfield_12310420":"113445","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_495812964_*|*_6_*:*_1_*:*_55557129953_*|*_5_*:*_1_*:*_0_*|*_4_*:*_1_*:*_627567","customfield_12312321":null,"resolutiondate":"2013-07-31T16:56:54.020+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3560/watchers","watchCount":2,"isWatching":false},"created":"2011-10-21T22:30:43.584+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["destinations","jca","jndi"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12318549","id":"12318549","name":"5.5.1","archived":false,"released":true,"releaseDate":"2011-10-16"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-07-31T16:56:54.045+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"According to the JCA spec, AdminObjects are only guaranteed to be bound in JNDI by the JCA provider if javax.resource.Referenceable is implemented.  See 13.4.2.3 \"Administered Objects\".  A JMS provider is free to provide AdminObjects that implement only javax.naming.Referenceable in an otherwise unmanaged environment, but a resource adapter must allow the application server/jca container to use its own ObjectFactory and call setReference() on the admin objects that need to be looked up.  See 20.6 JNDI Configuration and Lookup.\n\nThis is a problem for users using an application server such as the current release of AS7 which will not bind AdminObjects otherwise.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"172129","customfield_12312823":null,"summary":"Destinations do not implement javax.resource.Referenceable and will not be registerable in JNDI by some compliant JCA containers.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=insipid","name":"insipid","key":"insipid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike G","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=insipid","name":"insipid","key":"insipid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike G","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"JBoss 7.1.0.Alpha2 / ironjacamar 1.0.4","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12528333/comment/13135506","id":"13135506","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"another good candidate for 5.6, should be an easy fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-10-25T22:34:21.378+0000","updated":"2011-10-25T22:34:21.378+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12528333/comment/13136173","id":"13136173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"ActiveMQDestination already extends JNDIBaseStorable which in turn implements Referencable so I'm not sure what it is we are missing here.  Perhaps some addition information is needed on this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-10-26T18:03:58.066+0000","updated":"2011-10-26T21:26:10.978+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12528333/comment/13137155","id":"13137155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=insipid","name":"insipid","key":"insipid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike G","active":true,"timeZone":"Etc/UTC"},"body":"JNDIBaseStorable implements javax.naming.Referenceable not javax.resource.Referenceable.\n\n\"An administered object instance, that implements ResourceAdapterAssociation\ninterface must ensure that its Java class and the interface type implements\njavax.resource.Referenceable and java.io.Serializable interfaces. This\nenables an application server to store the administered object instance in the JNDI\nnaming environment. Refer to Section 20.6.3, “Scenario: Referenceable” on\npage 20-19 for details on the JNDI reference mechanism.\"\n\nHowever, it does sound like this requirement is only for RA Associated objects.  On the other hand, it says do this to enable JNDI storage.  Also Ironjacamar was patched to no longer require adminobjects to implement javax.resource.Referenceable for JNDI binding, making this no longer a problem for AS7 users.  Perhaps this issue should be rejected?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=insipid","name":"insipid","key":"insipid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike G","active":true,"timeZone":"Etc/UTC"},"created":"2011-10-27T13:55:20.253+0000","updated":"2011-10-27T13:55:20.253+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12528333/comment/13137240","id":"13137240","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This sounds like its not needed then.  Closing out","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-10-27T16:14:16.528+0000","updated":"2011-10-27T16:14:16.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12528333/comment/13725407","id":"13725407","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"Adding an XAPooledConnectionFactory as an admin object for jboss eap 6.1 resulted in the same sort of error so the checks still being done but support for referenceable seems to be sufficient.\n{code}\n16:40:23,024 INFO  [org.jboss.as.connector.deployers.RaXmlDeployer] (MSC service thread 1-1) IJ020014: Admin object not specification compliant. See 13.4.2.3 for additional details: org.apache.activemq.pool.XaPooledConnectionFactory{code}\n\nWill fix this by having PooledConnectionFactory extend org.apache.activemq.jndi.JNDIBaseStorable","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T16:46:26.471+0000","updated":"2013-07-31T16:46:26.471+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12528333/comment/13725416","id":"13725416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"fix in http://svn.apache.org/r1508958\n\nexample admin objects from eap standalone.xml:{code}\n            ....\n            <admin-objects>\n              <admin-object class-name=\"org.apache.activemq.command.ActiveMQQueue\"\n                            jndi-name=\"jms_ee_mdb_mdb_rec_MDB_QUEUE\" pool-name=\"jms_ee_mdb_mdb_rec_MDB_QUEUE\">\n                <config-property name=\"PhysicalName\">tck6.jms_ee_mdb_mdb_rec_MDB_QUEUE</config-property>\n              </admin-object>\n              <admin-object class-name=\"org.apache.activemq.command.ActiveMQQueue\" jndi-name=\"MDB_QUEUE_REPLY\"\n                            pool-name=\"MDB_QUEUE_REPLY\">\n                <config-property name=\"PhysicalName\">tck6.MDB_QUEUE_REPLY</config-property>\n              </admin-object>\n              <admin-object class-name=\"org.apache.activemq.command.ActiveMQTopic\"\n                            jndi-name=\"jms_ee_mdb_mdb_rec_MDB_TOPIC\" pool-name=\"jms_ee_mdb_mdb_rec_MDB_TOPIC\">\n                <config-property name=\"PhysicalName\">tck6.jms_ee_mdb_mdb_rec_MDB_TOPIC</config-property>\n              </admin-object>\n              <admin-object class-name=\"org.apache.activemq.pool.XaPooledConnectionFactory\"\n                            jndi-name=\"jms/RegularQueueConnectionFactory\"\n                            pool-name=\"RegularQueueConnectionFactory\">\n                <config-property name=\"brokerUrl\">tcp://localhost:61616</config-property>\n                <config-property name=\"tmFromJndi\">true</config-property>\n              </admin-object>\n            </admin-objects>\n          </resource-adapter>\n\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T16:56:54.042+0000","updated":"2013-07-31T16:56:54.042+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3560/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ttr3:"}}