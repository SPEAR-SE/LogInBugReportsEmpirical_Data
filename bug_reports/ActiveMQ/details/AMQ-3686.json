{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12540293","self":"https://issues.apache.org/jira/rest/api/2/issue/12540293","key":"AMQ-3686","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Mar 11 16:00:15 UTC 2012","customfield_12310420":"225706","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3686/watchers","watchCount":1,"isWatching":false},"created":"2012-01-29T12:34:29.134+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["http-tunneling","servlet"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315623","id":"12315623","description":"version 5 feature complete","name":"5.4.0","archived":false,"released":true,"releaseDate":"2010-08-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315624","id":"12315624","description":"Maintenance release for 5.4.0","name":"5.4.1","archived":false,"released":true,"releaseDate":"2010-09-21"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315625","id":"12315625","description":"","name":"5.4.2","archived":false,"released":true,"releaseDate":"2010-12-02"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12318548","id":"12318548","name":"5.4.3","archived":false,"released":true,"releaseDate":"2011-10-16"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315626","id":"12315626","description":"","name":"5.5.0","archived":false,"released":true,"releaseDate":"2011-04-01"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12318549","id":"12318549","name":"5.5.1","archived":false,"released":true,"releaseDate":"2011-10-16"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-03-11T16:00:15.419+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313896","id":"12313896","name":"JMS client"}],"timeoriginalestimate":null,"customfield_12310080":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10091","value":"Regression","id":"10091"}],"description":"We are using the tunnel servlet for a long time now in our application. There were no problems with the 5.3.x versions of ActiveMQ. However, with newer versions (5.5.0) we observe clients connection resets after 10 to 30 minutes.\n\n2012-01-27 13:18:44,794 INFO  [org.springframework.jms.listener.SimpleMessageListenerContainer] Trying to recover from JMS Connection exception: javax.jms.JMSException: Could not post command: KeepAliveInfo {} due to: java.net.SocketException: Connection reset\n2012-01-27 13:18:44,799 ERROR [org.springframework.jms.listener.SimpleMessageListenerContainer] Encountered non-recoverable JMSException\njavax.jms.JMSException: Could not post command: KeepAliveInfo {} due to: java.net.SocketException: Connection reset\nat org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\nat org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1841)\nat org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1858)\nat org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:101)\nat org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)\nat org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:101)\nat org.apache.activemq.transport.InactivityMonitor.onException(InactivityMonitor.java:265)\nat org.apache.activemq.transport.InactivityMonitor$3.run(InactivityMonitor.java:156)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:680)\nCaused by: java.io.IOException: Could not post command: KeepAliveInfo {} due to: java.net.SocketException: Connection reset\nat org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:33)\nat org.apache.activemq.transport.http.HttpClientTransport.oneway(HttpClientTransport.java:103)\nat org.apache.activemq.transport.InactivityMonitor.oneway(InactivityMonitor.java:254)\nat org.apache.activemq.transport.InactivityMonitor$3.run(InactivityMonitor.java:154)\n... 3 more\nCaused by: java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:168)\nat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\nat java.io.BufferedInputStream.read(BufferedInputStream.java:237)\nat org.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)\nat org.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)\nat org.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1116)\nat org.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\nat org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1735)\nat org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1098)\nat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\nat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\nat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\nat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\nat org.apache.activemq.transport.http.HttpClientTransport.oneway(HttpClientTransport.java:91)\n... 5 more\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"81452","customfield_12312823":null,"summary":"Http Tunnel Servlet: Connection reset on the client","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aanno","name":"aanno","key":"aanno","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Pasch","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aanno","name":"aanno","key":"aanno","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Pasch","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Ubuntu 11.10","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12540293/comment/13227071","id":"13227071","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aanno","name":"aanno","key":"aanno","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Pasch","active":true,"timeZone":"Europe/Berlin"},"body":"This is to bold that this is a regression: The 5.3.x branch hasn't this problem at all. As I work for an open source company, it is possible to get access to java sources were this problem manifest. Somebody interested?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aanno","name":"aanno","key":"aanno","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Pasch","active":true,"timeZone":"Europe/Berlin"},"created":"2012-03-11T16:00:15.401+0000","updated":"2012-03-11T16:00:15.401+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3686/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0eafj:"}}