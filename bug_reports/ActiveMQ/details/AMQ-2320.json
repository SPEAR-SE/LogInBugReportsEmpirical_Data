{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483552","self":"https://issues.apache.org/jira/rest/api/2/issue/12483552","key":"AMQ-2320","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316331","id":"12316331","description":"Next unplanned v5 maintenance release","name":"5.x","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2009-07-10T10:20:05.230+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Dec 13 00:34:52 UTC 2012","customfield_12310420":"44186","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_108286461952_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-12-13T00:34:52.150+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2320/watchers","watchCount":1,"isWatching":false},"created":"2009-07-08T17:00:30.220+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-12-13T00:34:52.171+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I would like to add a schema. I hope I will be able to add it later. I don't see it\n\nI have 3 processes with one embedded broker (BSV, client, server) in the same network of brokers (non duplex but bi-directionnal).\nI have a fourth standalone broker\nMy \"client\" and my \"server\" process are connected a second time with a \"manual\" tcp connection to the BSV process.\nMy \"client\" and my \"server\" process are connected a third time with a \"manual\" tcp connection on the standalone broker.\n\nIn this case, if my process BSV is stopped by an interrupt (CTRL-C) (which closes the embedded connection, and the embedded broker), and if simultaneously, I want to stop gracefully my \"client\" process (close all session, close all \"manual\" connection, stop embedded broker), one session thread stays up and never terminates\n\n\"ActiveMQ Session: ID:td0sib01s.priv.atos.fr-51590-1247070640728-0:2:3\" prio=10 tid=0x000000000e83a400 nid=0x5749 in Object.wait() [0x00000000469c8000..0x00000000469c8d10]\n   java.lang.Thread.State: WAITING (on object monitor)\n      at java.lang.Object.wait(Native Method)\n      - waiting on <0x00002aaaca868380> (a java.lang.Object)\n      at java.lang.Object.wait(Object.java:502)\n      at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:105)\n      - locked <0x00002aaaca868380> (a java.lang.Object)\n      at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\n\nIt is a session associated with the BSV link (I don't know if it is a session associated with the network of broker, or a session associated with my manual connection)\n\nA CTRL-C on the process terminates the process\n\nIt doesn't happen if stop are not simultaneously done.\n\nEric-AWL\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461555","id":"12461555","filename":"Pb AMQ Session.JPG","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-08T17:04:16.844+0000","size":49719,"mimeType":"image/jpeg","content":"https://issues.apache.org/jira/secure/attachment/12461555/Pb+AMQ+Session.JPG"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461559","id":"12461559","filename":"screenshot-1.jpg","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-24T05:58:46.947+0000","size":327760,"mimeType":"image/jpeg","content":"https://issues.apache.org/jira/secure/attachment/12461559/screenshot-1.jpg"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59785","customfield_12312823":null,"summary":"Session are not deleted when several processes terminate simultaneously in a \"network of broker\" complex configuration","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux Redhat. JVM 1.6. AMQ 5.2","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12941716","id":"12941716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"body":"The schema. All 4 processes are on the same server.\n\nI think I forgot to say that the session stays up in the \"client\" process when BSV and client want to stop simultaneously.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-08T17:04:16.848+0000","updated":"2009-07-08T20:42:04.058+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12941732","id":"12941732","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"can you verify your scenario with the current 5.3-SNAPSHOT?\n\nThe session thread is associated with one of the vm or tcp 'manual' connections, it does not occur in the network connector logic. \nAre you using finally blocks to close off connections and sessions?\nThe trick here is trying to reproduce this.\nThere is a disconnect test org.apache.activemq.usecases.BrokerQueueNetworkWithDisconnectTest[1] that uses a socket proxy to simulate a broker going down, this could provide a basis for a junit test that could help reproduce but it will be tricky.\n[1] http://svn.apache.org/repos/asf/activemq/trunk/activemq-core/src/test/java/org/apache/activemq/usecases/BrokerQueueNetworkWithDisconnectTest.java","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-10T10:20:05.230+0000","updated":"2009-07-10T10:20:05.230+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12941754","id":"12941754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"body":"Hi !\n\nI didn't make the tests you asked me. But I have some news.\n\nI used ConsumerEventSource objects to track consumers activity on JMS destinations. And I found that I didn't manage correctly the stop() calls to these objects.\n\nI corrected my code. I think now that all my JMS ressources (consumers,producers, sessions, connections), brokers, and now ConsumerEventSource objects, are stopped and closed when I ask my processes to disconnect from my brokers correctly, or when my connection exceptionListeners discover that my network connectivity is broken (in this case, JMSException thrown by JMS calls to close() are ignored).\n\nIn these conditions, it seems that all ActiveMQ Session threads are correctly stopped without having to interrupt them. I have to do more tests to confirm this.\n\nI don't know if this is the waited behaviour or not.\n\nEric-AWL ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-16T16:20:04.199+0000","updated":"2009-07-16T16:20:04.199+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12941782","id":"12941782","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"body":"Hi !\n\nI believed I found the major reason of the active threads. But, no, .... \nIn the same conditions (simultaneous stops) I had a case where one Session thread was active again (like before I discover that I forgot to stop the consumerEventSource object). \n\nAnd I had a case where the consumerEventSource.stop was blocked without deadlock detected, and where CTRL-C doesn't interrupt it. Only Kill -9 interrupted the process.\n\nHere is the stack trace of my shutdown hook which is called on a CTRL-C interruption.\n\nName: Thread-1\nState: WAITING on java.lang.Object@9866417\nTotal blocked: 0  Total waited: 1\n\nStack trace: \njava.lang.Object.wait(Native Method)\norg.apache.activemq.thread.DedicatedTaskRunner.shutdown(DedicatedTaskRunner.java:72)\norg.apache.activemq.thread.DedicatedTaskRunner.shutdown(DedicatedTaskRunner.java:83)\norg.apache.activemq.ActiveMQSessionExecutor.stop(ActiveMQSessionExecutor.java:142)\norg.apache.activemq.ActiveMQSession.dispose(ActiveMQSession.java:579)\n   - locked org.apache.activemq.ActiveMQSession@22cf38a2\norg.apache.activemq.ActiveMQSession.close(ActiveMQSession.java:555)\norg.apache.activemq.advisory.ConsumerEventSource.stop(ConsumerEventSource.java:83)\natosbus.transport.jms.CJMSTransport$CAMQConsumerEventServiceLink.stop(CJMSTransport.java:190)\natosbus.transport.jms.CJMSTransport.unregisterService(CJMSTransport.java:300)\n   - locked atosbus.transport.jms.CJMSTransport@6a3b8b49\natosbus.core.service.CService.setServiceState(CService.java:1044)\natosbus.core.service.CService.releaseAllResources(CService.java:2137)\natosbus.core.system.CManagedComponent.removeService(CManagedComponent.java:465)\n   - locked atosbus.core.service.CService@40363068\n   - locked atosbus.core.system.CInstance@2143ed74\natosbus.core.system.CManagedComponent.removeAllServices(CManagedComponent.java:513)\natosbus.core.system.CInstance.removeAllApplicativeServices(CInstance.java:433)\natosbus.core.system.CInstance.disconnectBus(CInstance.java:296)\natosbus.core.system.CComponent$CComponentShutdownHook.run(CComponent.java:159)\n\nAnd I put here an image of the JMX console thread wiew which shows that there is no deadlock .\n\nEric-AWL","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-24T05:56:32.847+0000","updated":"2009-07-24T05:56:32.847+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12941781","id":"12941781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"body":"No deadlock, but ConsumerEventSource is blocked into a shutdown hook.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-24T05:58:46.987+0000","updated":"2009-07-24T05:58:46.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12939130","id":"12939130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"body":"I found the lock. It wasn't a deadlock detected by JVM, but something similar in my code. (I received a consumerEvent which tried to acquire a lock on a object, I locked in the the thread which launched the consumerEvent.stop() and wait that the event was consumed).\n\nBut the first problem is always here (One session which doesn't want to stop).\n\nIs it possible that this is the same problem as AMQ-2327 ? \n\nI have a circular references configuration, and use networkTTL =1, conduitSubscription=false, dynamicOnly=true to avoid problems.\n\nI will try with 5.3-SNAPSHOT (the last one).\n\nEric-AWL","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-30T14:45:44.796+0000","updated":"2009-07-30T14:45:44.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12940540","id":"12940540","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"body":"I used Fuse version 5.3.0.4 where the AMQ-2327 problem is corrected.\n\nI always have some sessions which are up .... I found a way to reproduce the problem but it's not easy to make a smaller test configuration.\n\nI have written a workaround by calling interrupt() on these threads at the end of my program. But it's not very clean !!! (it works well)\n\nI will try to find time to make the JUnit test..\n\nEric-AWL","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eric-awl","name":"eric-awl","key":"eric-awl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-31T08:08:07.394+0000","updated":"2009-07-31T08:08:07.394+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/12940568","id":"12940568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"good that it works\nfyi: for inspiration on a unit test; have a look at: http://svn.apache.org/viewvc/activemq/trunk/activemq-core/src/test/java/org/apache/activemq/usecases/ThreeBrokerQueueNetworkTest.java?view=co","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-31T09:18:40.185+0000","updated":"2009-07-31T09:18:40.185+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483552/comment/13530537","id":"13530537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No test was ever provided and no other reports of this so far.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-12-13T00:34:52.168+0000","updated":"2012-12-13T00:34:52.168+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2320/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0alof:"}}