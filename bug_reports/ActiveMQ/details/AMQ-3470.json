{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12519938","self":"https://issues.apache.org/jira/rest/api/2/issue/12519938","key":"AMQ-3470","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2011-08-24T12:11:22.793+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 30 08:13:13 UTC 2013","customfield_12310420":"14528","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_14532772460_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-02-08T14:08:41.856+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3470/watchers","watchCount":2,"isWatching":false},"created":"2011-08-24T09:15:49.525+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315626","id":"12315626","description":"","name":"5.5.0","archived":false,"released":true,"releaseDate":"2011-04-01"}],"issuelinks":[{"id":"12367996","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12367996","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12644590","key":"AMQ-4485","self":"https://issues.apache.org/jira/rest/api/2/issue/12644590","fields":{"summary":"Skipped message dispatch with concurrent transacted sends at cursor memory limit","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-07-30T08:13:13.242+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"We've a C# test client that constantly produces and consumes messages of various sizes.\n\nAfter successfully sending and receiving about 5.5 million messages, ActiveMQ enters\na certain state where:\n- No more messages in the queue cannot be dequeued/received.\n- Looking at the ActiveMQ browser, we're no longer able to see the message.\n- The logs get filled up and rotate at a crazy pace.\n- We aren't able to recover after this, restarting the ActiveMQ doesn't help.\n\nWe haven't been able to consistently reproduce this behavior, it can happen after\nany numbers of messages (usually after some million messages).  Last it took about 8\nhours before we could come into this stage.\nThe tests are very basic.\n\n\nI've been able to catch the log when this happens:\n---\n2011-08-22 11:13:50,919 | INFO  | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@3479e304: startup date [Mon Aug 22 11:13:50 CEST 2011]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | main\n2011-08-22 11:13:54,638 | WARN  | destroyApplicationContextOnStop parameter is deprecated, please use shutdown hooks instead | org.apache.activemq.xbean.XBeanBrokerService | main\n2011-08-22 11:13:54,645 | INFO  | PListStore:C:\\ActiveMQ\\data\\IES_CARMINE\\tmp_storage started | org.apache.activemq.store.kahadb.plist.PListStore | main\n2011-08-22 11:13:54,723 | INFO  | Using Persistence Adapter: KahaDBPersistenceAdapter[C:\\ActiveMQ\\data\\kahadb] | org.apache.activemq.broker.BrokerService | main\n2011-08-22 11:13:54,932 | INFO  | ActiveMQ 5.5.0 JMS Message Broker (IES_CARMINE) is starting | org.apache.activemq.broker.BrokerService | main\n2011-08-22 11:13:54,933 | INFO  | For help or more information please see: http://activemq.apache.org/ | org.apache.activemq.broker.BrokerService | main\n2011-08-22 11:13:55,224 | INFO  | Listening for connections at: tcp://Carmine:61616?keepAlive=true&wireFormat.tightEncodingEnabled=false&wireFormat.cacheEnabled=false | org.apache.activemq.transport.TransportServerThreadSupport | main\n2011-08-22 11:13:55,226 | INFO  | Connector openwire Started | org.apache.activemq.broker.TransportConnector | main\n2011-08-22 11:13:55,233 | INFO  | ActiveMQ JMS Message Broker (IES_CARMINE, ID:Carmine-60118-1314004434990-0:1) started | org.apache.activemq.broker.BrokerService | main\n2011-08-22 11:13:55,390 | INFO  | jetty-7.1.6.v20100715 | org.eclipse.jetty.util.log | main\n2011-08-22 11:13:56,043 | INFO  | ActiveMQ WebConsole initialized. | org.apache.activemq.web.WebConsoleStarter | main\n2011-08-22 11:13:56,367 | INFO  | Initializing Spring FrameworkServlet 'dispatcher' | /admin | main\n2011-08-22 11:13:56,807 | INFO  | ActiveMQ Console at http://0.0.0.0:8161/admin | org.eclipse.jetty.util.log | main\n2011-08-22 11:13:56,852 | INFO  | WebApp@280236390 at http://0.0.0.0:8161/console | org.eclipse.jetty.util.log | main\n2011-08-22 11:13:56,876 | INFO  | Started SelectChannelConnector@0.0.0.0:8161 | org.eclipse.jetty.util.log | main\n2011-08-23 19:45:41,881 | ERROR | Looking for key 11856 but not found in fileMap: {11857=db-11857.log number = 11857 , length = 1949} | org.apache.kahadb.journal.Journal | Queue:TestQueue\n2011-08-23 19:45:41,935 | ERROR | QueueStorePrefetch314000409 - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:817)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:955)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:493)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:485)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:260)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:108)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1712)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)\n2011-08-23 19:45:41,939 | ERROR | QueueStorePrefetch314000409 - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:263)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:108)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1712)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)\nCaused by: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:817)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:955)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:493)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:485)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:260)\n\t... 7 more\n2011-08-23 19:45:41,940 | ERROR | Failed to page in more queue messages  | org.apache.activemq.broker.region.Queue | Queue:TestQueue\njava.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:111)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1712)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)\nCaused by: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:263)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:108)\n\t... 6 more\nCaused by: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:817)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:955)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:493)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:485)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:260)\n\t... 7 more\n2011-08-23 19:45:41,942 | ERROR | Looking for key 11856 but not found in fileMap: {11857=db-11857.log number = 11857 , length = 19540} | org.apache.kahadb.journal.Journal | Queue:TestQueue\n2011-08-23 19:45:41,943 | ERROR | QueueStorePrefetch314000409 - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:817)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:955)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:493)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:485)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:260)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:108)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1712)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)\n2011-08-23 19:45:41,944 | ERROR | QueueStorePrefetch314000409 - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:263)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:108)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1712)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)\nCaused by: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:817)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:955)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:493)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:485)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:260)\n\t... 7 more\n2011-08-23 19:45:41,945 | ERROR | Failed to page in more queue messages  | org.apache.activemq.broker.region.Queue | Queue:TestQueue\njava.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:111)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1712)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)\nCaused by: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-11856.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:263)\n\tat org.apa\n---\nThe logs repeat in an endless matter.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"63674","customfield_12312823":null,"summary":"Unable to pick up messages anymore, messages are lost - Looking for key xyz but not found in fileMap","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Used from .NET 4.0\n\nApache.NMS.ActiveMQ.dll - 1.5.1.2341\nApache.NMS.dll - 1.5.0.2194\nActiveMQ - 5.5.0\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13090104","id":"13090104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"body":"I will retest with the latest 5.6 as well to see if I can reproduce the behavior there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"created":"2011-08-24T09:18:53.873+0000","updated":"2011-08-24T09:18:53.873+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13090148","id":"13090148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"body":"Also happened with the latest 5.6 snapshot unfortunately.\nHappened after approximately 300 000 messages that got produced and consumed correctly.\n\n---\n2011-08-24 11:33:50,960 | INFO  | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@681e2ca7: startup date [Wed Aug 24 11:33:50 CEST 2011]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | main\n2011-08-24 11:33:54,524 | WARN  | destroyApplicationContextOnStop parameter is deprecated, please use shutdown hooks instead | org.apache.activemq.xbean.XBeanBrokerService | main\n2011-08-24 11:33:54,541 | INFO  | PListStore:[C:\\ActiveMQ\\data\\IES_CARMINE\\tmp_storage ] started | org.apache.activemq.store.kahadb.plist.PListStore | main\n2011-08-24 11:33:54,642 | INFO  | Using Persistence Adapter: KahaDBPersistenceAdapter[C:\\ActiveMQ\\data\\kahadb] | org.apache.activemq.broker.BrokerService | main\n2011-08-24 11:33:54,855 | INFO  | ActiveMQ 5.6-SNAPSHOT JMS Message Broker (IES_CARMINE) is starting | org.apache.activemq.broker.BrokerService | main\n2011-08-24 11:33:54,855 | INFO  | For help or more information please see: http://activemq.apache.org/ | org.apache.activemq.broker.BrokerService | main\n2011-08-24 11:33:55,127 | INFO  | Listening for connections at: tcp://Carmine:61616?keepAlive=true&wireFormat.tightEncodingEnabled=false&wireFormat.cacheEnabled=false | org.apache.activemq.transport.TransportServerThreadSupport | main\n2011-08-24 11:33:55,129 | INFO  | Connector openwire Started | org.apache.activemq.broker.TransportConnector | main\n2011-08-24 11:33:55,134 | INFO  | ActiveMQ JMS Message Broker (IES_CARMINE, ID:Carmine-55091-1314178434891-0:1) started | org.apache.activemq.broker.BrokerService | main\n2011-08-24 11:33:55,267 | INFO  | jetty-7.1.6.v20100715 | org.eclipse.jetty.util.log | main\n2011-08-24 11:33:56,278 | INFO  | ActiveMQ WebConsole initialized. | org.apache.activemq.web.WebConsoleStarter | main\n2011-08-24 11:33:56,656 | INFO  | Initializing Spring FrameworkServlet 'dispatcher' | /admin | main\n2011-08-24 11:33:57,055 | INFO  | ActiveMQ Console at http://0.0.0.0:8161/admin | org.eclipse.jetty.util.log | main\n2011-08-24 11:33:57,100 | INFO  | WebApp@2005580923 at http://0.0.0.0:8161/console | org.eclipse.jetty.util.log | main\n2011-08-24 11:33:57,127 | INFO  | Started SelectChannelConnector@0.0.0.0:8161 | org.eclipse.jetty.util.log | main\n2011-08-24 13:27:49,774 | ERROR | Looking for key 652 but not found in fileMap: {653=db-653.log number = 653 , length = 1622} | org.apache.kahadb.journal.Journal | Queue:TestQueue\n2011-08-24 13:27:49,782 | ERROR | org.apache.activemq.broker.region.cursors.QueueStorePrefetch@1d914a39:TestQueue,batchResetNeeded=false,storeHasMessages=true,size=1,cacheEnabled=false - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:813)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:959)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:489)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:478)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:265)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1698)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1915)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1423)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\n2011-08-24 13:27:49,793 | ERROR | org.apache.activemq.broker.region.cursors.QueueStorePrefetch@1d914a39:TestQueue,batchResetNeeded=false,storeHasMessages=true,size=1,cacheEnabled=false - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:268)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1698)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1915)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1423)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\nCaused by: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:813)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:959)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:489)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:478)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:265)\n\t... 7 more\n2011-08-24 13:27:49,799 | ERROR | Failed to page in more queue messages  | org.apache.activemq.broker.region.Queue | Queue:TestQueue\njava.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:116)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1698)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1915)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1423)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\nCaused by: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:268)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\t... 6 more\nCaused by: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:813)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:959)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:489)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:478)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:265)\n\t... 7 more\n2011-08-24 13:27:49,846 | ERROR | Looking for key 652 but not found in fileMap: {653=db-653.log number = 653 , length = 16999} | org.apache.kahadb.journal.Journal | Queue:TestQueue\n2011-08-24 13:27:49,846 | ERROR | org.apache.activemq.broker.region.cursors.QueueStorePrefetch@1d914a39:TestQueue,batchResetNeeded=false,storeHasMessages=true,size=2,cacheEnabled=false - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:813)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:959)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:489)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:478)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:265)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1698)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1915)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1423)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\n2011-08-24 13:27:49,848 | ERROR | org.apache.activemq.broker.region.cursors.QueueStorePrefetch@1d914a39:TestQueue,batchResetNeeded=false,storeHasMessages=true,size=2,cacheEnabled=false - Failed to fill batch | org.apache.activemq.broker.region.cursors.AbstractStoreCursor | Queue:TestQueue\njava.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:268)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1698)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1915)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1423)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\nCaused by: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.kahadb.journal.Journal.getDataFile(Journal.java:350)\n\tat org.apache.kahadb.journal.Journal.read(Journal.java:597)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:813)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:959)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:489)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:478)\n\tat org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)\n\tat org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:265)\n\t... 7 more\n2011-08-24 13:27:49,849 | ERROR | Failed to page in more queue messages  | org.apache.activemq.broker.region.Queue | Queue:TestQueue\njava.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:116)\n\tat org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\n\tat org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1698)\n\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1915)\n\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1423)\n\tat org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)\n\tat org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)\nCaused by: java.lang.RuntimeException: java.io.IOException: Could not locate data file C:\\ActiveMQ\\data\\kahadb\\db-652.log\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:268)\n\tat org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)\n\t... 6 more\n---","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"created":"2011-08-24T11:52:41.814+0000","updated":"2011-08-24T11:52:41.814+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13090157","id":"13090157","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for the detail. We (dejanb and I) had a chat about this issue earlier and may have found the root cause. If our thoughts are correct, disabling the cache, via xml configuration, should work around the issue till we get a fix.\n{code}<destinationPolicy>\n      <policyMap>\n        <policyEntries>\n          <policyEntry queue=\">\"  useCache=\"false\" />\n        </policyEntries>\n      </policyMap>\n </destinationPolicy>{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-24T12:11:22.793+0000","updated":"2011-08-24T12:11:22.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13090163","id":"13090163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"body":"Unable to restart ActiveMQ after this occurs:\n---\n2011-08-24 14:19:48,446 | INFO  | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@6c4fc156: startup date [Wed Aug 24 14:19:48 CEST 2011]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | main\n2011-08-24 14:19:52,644 | WARN  | destroyApplicationContextOnStop parameter is deprecated, please use shutdown hooks instead | org.apache.activemq.xbean.XBeanBrokerService | main\n2011-08-24 14:19:52,655 | INFO  | PListStore:[C:\\ActiveMQ\\data\\IES_CARMINE\\tmp_storage ] started | org.apache.activemq.store.kahadb.plist.PListStore | main\n2011-08-24 14:19:52,739 | INFO  | Using Persistence Adapter: KahaDBPersistenceAdapter[C:\\ActiveMQ\\data\\kahadb] | org.apache.activemq.broker.BrokerService | main\n2011-08-24 14:19:53,162 | INFO  | KahaDB is version 3 | org.apache.activemq.store.kahadb.MessageDatabase | main\n2011-08-24 14:19:53,281 | INFO  | Recovering from the journal ... | org.apache.activemq.store.kahadb.MessageDatabase | main\n2011-08-24 14:19:53,282 | INFO  | Recovery replayed 1 operations from the journal in 0.092 seconds. | org.apache.activemq.store.kahadb.MessageDatabase | main\n2011-08-24 14:19:53,463 | INFO  | Some journal files are missing: [652] | org.apache.activemq.store.kahadb.MessageDatabase | main\n2011-08-24 14:19:53,469 | ERROR | Failed to start ActiveMQ JMS Message Broker. Reason: java.io.IOException: Detected missing/corrupt journal files. 1 messages affected. | org.apache.activemq.broker.BrokerService | main\njava.io.IOException: Detected missing/corrupt journal files. 1 messages affected.\n\tat org.apache.activemq.store.kahadb.MessageDatabase.recoverIndex(MessageDatabase.java:650)\n\tat org.apache.activemq.store.kahadb.MessageDatabase$6.execute(MessageDatabase.java:473)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.recover(MessageDatabase.java:471)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.recover(MessageDatabase.java:441)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.open(MessageDatabase.java:303)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:361)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.doStart(MessageDatabase.java:199)\n\tat org.apache.activemq.store.kahadb.KahaDBStore.doStart(KahaDBStore.java:167)\n\tat org.apache.activemq.util.ServiceSupport.start(ServiceSupport.java:54)\n\tat org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter.start(KahaDBPersistenceAdapter.java:167)\n\tat org.apache.activemq.broker.BrokerService.start(BrokerService.java:494)\n\tat org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:60)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1536)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1409)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:574)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\n\tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory$1.<init>(XBeanBrokerFactory.java:106)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:106)\n\tat org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:71)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\n\tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n\tat org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n\tat org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:148)\n\tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n\tat org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:90)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.activemq.console.Main.runTaskClass(Main.java:251)\n\tat org.apache.activemq.console.Main.main(Main.java:107)\n2011-08-24 14:19:53,482 | INFO  | ActiveMQ Message Broker (IES_CARMINE, null) is shutting down | org.apache.activemq.broker.BrokerService | main\n2011-08-24 14:19:53,483 | INFO  | Connector openwire Stopped | org.apache.activemq.broker.TransportConnector | main\n2011-08-24 14:19:53,494 | INFO  | PListStore:[C:\\ActiveMQ\\data\\IES_CARMINE\\tmp_storage ] stopped | org.apache.activemq.store.kahadb.plist.PListStore | main\n2011-08-24 14:19:53,495 | INFO  | Stopping async queue tasks | org.apache.activemq.store.kahadb.KahaDBStore | main\n2011-08-24 14:19:53,495 | INFO  | Stopping async topic tasks | org.apache.activemq.store.kahadb.KahaDBStore | main\n2011-08-24 14:19:53,495 | INFO  | Stopped KahaDB | org.apache.activemq.store.kahadb.KahaDBStore | main\n2011-08-24 14:19:53,705 | INFO  | ActiveMQ JMS Message Broker (IES_CARMINE, null) stopped | org.apache.activemq.broker.BrokerService | main\n\n---","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"created":"2011-08-24T12:21:09.950+0000","updated":"2011-08-24T12:21:09.950+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13090178","id":"13090178","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"body":"Gary: I will retest with \n{code}\n<policyEntry queue=\">\"  useCache=\"false\" />\n{code}\nthanks for the tip!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"created":"2011-08-24T12:36:49.156+0000","updated":"2011-08-24T12:36:49.156+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13090979","id":"13090979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"body":"Unfortunately, turning off the cache didn't help.Now it occurred again, after about 3570000 messages sent.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"created":"2011-08-25T12:36:43.137+0000","updated":"2011-08-25T12:36:43.137+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13091002","id":"13091002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"thanks for the validation, unfortunately this means there must be an alternative cause. One last test may make sense, use the example producer/consumer ant tasks from a distro rather than your .net code. Details in the examples doc[1]. This will narrow the moving parts as we try and reproduce. What sort of hardware is the broker running on?\n[1] http://activemq.apache.org/examples.html\n\nAlso, can you attach the the log file with the first exception. there may be some more context in there that can help narrow it down.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-25T13:34:59.213+0000","updated":"2011-08-25T13:34:59.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13091004","id":"13091004","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"The broker configuration would come handy as well","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2011-08-25T13:42:02.372+0000","updated":"2011-08-25T13:42:02.372+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13091032","id":"13091032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Thinking that rerunning your test with trace logging on org.apache.activemq.store.kahadb would also give us some clue why the journal file was picked for removal.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2011-08-25T14:17:48.641+0000","updated":"2011-08-25T14:17:48.641+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13091707","id":"13091707","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"to follow up on Dejan's comment, some detail on the MessageDatabase logging that will help understand the cleanup process. http://activemq.apache.org/why-do-kahadb-log-files-remain-after-cleanup.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-26T10:55:07.565+0000","updated":"2011-08-26T10:55:07.565+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13091716","id":"13091716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"one further thought for the moment. My suspicion now is the concurrentStoreAndDispatchQueues optimization, I think setting that to false may resolve this:{code}<persistenceAdapter>\n    <kahaDB ... concurrentStoreAndDispatchQueues=\"false\"/>\n</persistenceAdapter>{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-26T11:20:07.454+0000","updated":"2011-08-26T11:20:07.454+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13094472","id":"13094472","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"body":"Thank you all for the ideas. I've been busy these last days, but I will pick up where I left and try the above suggestions. I'll keep you posted.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fgynnild","name":"fgynnild","key":"fgynnild","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Frank Gynnild","active":true,"timeZone":"Europe/Oslo"},"created":"2011-08-31T12:24:31.939+0000","updated":"2011-08-31T12:24:31.939+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13094530","id":"13094530","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"There is a small chance that the fix for https://issues.apache.org/jira/browse/AMQ-2868 may be relevant. In addition to the rework, our tracking of the lastupdate in the journal is simplified w.r.t to locking so it may have a positive effect.\nMaybe do subsequent tests with tomorrows 5.6-SNAPSHOT.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-31T13:44:44.352+0000","updated":"2011-08-31T13:44:44.352+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13137365","id":"13137365","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Any feedback on this, have you tested again using a later 5.6-SNAPSHOT?  We are working hard to get 5.6 ready for release and would love to know if this one has been fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-10-27T18:26:47.646+0000","updated":"2011-10-27T18:26:47.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13203621","id":"13203621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No further input from the reporter regarding whether the current fixes have resolved the issue.  Recommend testing using the latest 5.6-SNAPSHOT and the current NMS.ActiveMQ v1.5.3 release.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-02-08T14:08:41.930+0000","updated":"2012-02-08T14:08:41.930+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519938/comment/13723549","id":"13723549","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=f.grillini%40kion.it","name":"f.grillini@kion.it","key":"f.grillini@kion.it","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Federico Grillini","active":true,"timeZone":"Europe/Berlin"},"body":"Same problem with version 5.7.0 on linux platform and using java clients.\nThe queue affected by that bug contained 98 messages, but opening it using amq console it was empty.\nDeleting the queue unlocked the broker.\nI can send logs and configuration files if needed.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=f.grillini%40kion.it","name":"f.grillini@kion.it","key":"f.grillini@kion.it","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Federico Grillini","active":true,"timeZone":"Europe/Berlin"},"created":"2013-07-30T08:13:13.242+0000","updated":"2013-07-30T08:13:13.242+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3470/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0b9n3:"}}