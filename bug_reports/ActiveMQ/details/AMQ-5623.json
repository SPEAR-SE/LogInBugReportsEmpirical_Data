{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12778587","self":"https://issues.apache.org/jira/rest/api/2/issue/12778587","key":"AMQ-5623","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2015-03-01T16:25:12.154+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Mar 01 17:16:06 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_3204390_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-03-01T17:09:10.328+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5623/watchers","watchCount":2,"isWatching":false},"created":"2015-03-01T16:15:45.979+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324951","id":"12324951","name":"5.11.0","archived":false,"released":true,"releaseDate":"2015-02-04"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-01T17:16:06.334+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10091","value":"Regression","id":"10091"}],"description":"Hi,\n\nI have an java  active-mq client running on an raspberry pi 2. The java client uses jms. \n\nWith   activemq-client-5.11.0.jar the app does not work anymore. However if I switch back to  activemq-all-5.7.0.jar  my app runs. Not sure if the problem is introduced in 5.11 but it has to be introduced between 5.7 and 5.11.\n\nWhen I wan't to set a JMS Long property with:\n\nfinal TextMessage message = getSession().createTextMessage();\nmessage.setLongProperty(\"myProperty\",mylong);\n\nit crashes on the setLongProperty. Stacktrace below:\n\n\n{quote}\norg/fusesource/hawtbuf/UTF8Buffer\norg.apache.activemq.command.ActiveMQMessage.setObjectProperty(ActiveMQMessage.java:500)\norg.apache.activemq.command.ActiveMQMessage.setObjectProperty(ActiveMQMessage.java:488)\norg.apache.activemq.command.ActiveMQMessage.setLongProperty(ActiveMQMessage.java:720)\n{quote}\n\n\nI have a very simlar problem when my app tries to copy all jms attributes of a JMS Message.\n\nLooking at ActiveMQMessage.java on line 500 gives \n{quote}\n  if (value instanceof UTF8Buffer) {\n{quote}\n\nwhere value is now of type Object (converted in ActiveMQMessage.java:720)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"JMS Properties Regression","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MarcelM","name":"MarcelM","key":"marcelm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcel M","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MarcelM","name":"MarcelM","key":"marcelm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcel M","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Raspberry Pi 2 \n3.18.7-v7+ #755 SMP PREEMPT Thu Feb 12 17:20:48 GMT 2015 armv7l GNU/Linux\n\njava -version\njava version \"1.8.0\"\nJava(TM) SE Runtime Environment (build 1.8.0-b132)\nJava HotSpot(TM) Client VM (build 25.0-b70, mixed mode)\n\n\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12778587/comment/14342314","id":"14342314","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johndament","name":"johndament","key":"johndament","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=johndament&avatarId=20248","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=johndament&avatarId=20248","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=johndament&avatarId=20248","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=johndament&avatarId=20248"},"displayName":"John D. Ament","active":true,"timeZone":"America/New_York"},"body":"I don't think that's your full stack trace, however I think you're getting a class not found.\n\nAre you not including all dependencies on your classpath?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johndament","name":"johndament","key":"johndament","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=johndament&avatarId=20248","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=johndament&avatarId=20248","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=johndament&avatarId=20248","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=johndament&avatarId=20248"},"displayName":"John D. Ament","active":true,"timeZone":"America/New_York"},"created":"2015-03-01T16:25:12.154+0000","updated":"2015-03-01T16:25:12.154+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12778587/comment/14342330","id":"14342330","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MarcelM","name":"MarcelM","key":"marcelm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcel M","active":true,"timeZone":"Etc/UTC"},"body":"Hi John,\n\ncorrect stacktrace is filtered (we use proguard and as such little added value)\n\nThanks for the pointer with the classpath. Indeed hawtbuf.jar is missing and adding it fixed it. \n\nNow I just need to find out why ivy did not add it (while the others like geronimo-j2ee-management_1.1_spec-1.0.1.jar) are present.\n\n\nThanks\n\nMarcel\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MarcelM","name":"MarcelM","key":"marcelm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcel M","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-01T17:08:26.177+0000","updated":"2015-03-01T17:08:26.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12778587/comment/14342331","id":"14342331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MarcelM","name":"MarcelM","key":"marcelm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcel M","active":true,"timeZone":"Etc/UTC"},"body":"classpath issue, jar was missing","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MarcelM","name":"MarcelM","key":"marcelm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcel M","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-01T17:09:10.361+0000","updated":"2015-03-01T17:09:10.361+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12778587/comment/14342337","id":"14342337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johndament","name":"johndament","key":"johndament","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=johndament&avatarId=20248","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=johndament&avatarId=20248","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=johndament&avatarId=20248","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=johndament&avatarId=20248"},"displayName":"John D. Ament","active":true,"timeZone":"America/New_York"},"body":"Not sure either, not much of an ivy user so can't really comment.\n\nthe scopes look correct in the pom and i don't think have changed since 5.11\n\n{code}\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ activemq-client ---\n[INFO] org.apache.activemq:activemq-client:jar:5.12-SNAPSHOT\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.10:compile\n[INFO] +- org.apache.geronimo.specs:geronimo-jms_1.1_spec:jar:1.1.1:compile\n[INFO] +- org.fusesource.hawtbuf:hawtbuf:jar:1.11:compile\n[INFO] +- org.apache.geronimo.specs:geronimo-j2ee-management_1.1_spec:jar:1.0.1:compile\n[INFO] +- commons-net:commons-net:jar:3.3:compile\n[INFO] +- javax.jmdns:jmdns:jar:3.4.1:compile\n[INFO] +- junit:junit:jar:4.11:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] \\- org.slf4j:slf4j-log4j12:jar:1.7.10:test\n[INFO]    \\- log4j:log4j:jar:1.2.17:runtime\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johndament","name":"johndament","key":"johndament","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=johndament&avatarId=20248","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=johndament&avatarId=20248","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=johndament&avatarId=20248","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=johndament&avatarId=20248"},"displayName":"John D. Ament","active":true,"timeZone":"America/New_York"},"created":"2015-03-01T17:16:06.334+0000","updated":"2015-03-01T17:16:06.334+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5623/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i267on:"}}