{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12779796","self":"https://issues.apache.org/jira/rest/api/2/issue/12779796","key":"AMQ-5641","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2015-03-05T14:15:12.348+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Apr 27 21:10:41 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1087857_*|*_6_*:*_3_*:*_118995496_*|*_4_*:*_2_*:*_4485133906","customfield_12312321":null,"resolutiondate":"2015-04-27T21:10:41.709+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5641/watchers","watchCount":3,"isWatching":false},"created":"2015-03-05T13:57:04.501+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324951","id":"12324951","name":"5.11.0","archived":false,"released":true,"releaseDate":"2015-02-04"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-04-27T21:10:41.757+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12321807","id":"12321807","name":"AMQP","description":"AcitveMQ's AMQP Transport"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313893","id":"12313893","name":"Connector"}],"timeoriginalestimate":null,"customfield_12310080":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10091","value":"Regression","id":"10091"}],"description":"AMQP is used as the following configuraiton.\n<transportConnector name=\"amqp\" uri=\"amqp://0.0.0.0:5672?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600\"/>\n\n2015-03-05 16:09:41,175 | WARN  | Failed to add Connection ID:PVVM040012-49713-1425523498161-2:13 | org.apache.activemq.broker.TransportConnection | ActiveMQ Transport: tcp:///xxx.xxx.xxx.xxx:34542@5672\njavax.jms.InvalidClientIDException: Broker: localhost - Client: WCarClient9 already connected from tcp://xxx.xxx.xxx.xxx:33834\n\tat org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:255)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.jmx.ManagedRegionBroker.addConnection(ManagedRegionBroker.java:231)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:97)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:92)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:97)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:97)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:97)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.security.SimpleAuthenticationBroker.addConnection(SimpleAuthenticationBroker.java:103)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:102)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:809)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:79)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:139)[activemq-client-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:334)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:188)[activemq-broker-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpTransportFilter.sendToActiveMQ(AmqpTransportFilter.java:114)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpProtocolConverter.sendToActiveMQ(AmqpProtocolConverter.java:1497)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpProtocolConverter.onConnectionOpen(AmqpProtocolConverter.java:525)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpProtocolConverter.processConnectionEvent(AmqpProtocolConverter.java:380)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpProtocolConverter.onFrame(AmqpProtocolConverter.java:325)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpProtocolConverter.onAMQPData(AmqpProtocolConverter.java:275)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.amqp.AmqpTransportFilter.onCommand(AmqpTransportFilter.java:98)[activemq-amqp-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)[activemq-client-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:214)[activemq-client-5.11.1.jar:5.11.1]\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)[activemq-client-5.11.1.jar:5.11.1]\n\tat java.lang.Thread.run(Unknown Source)[:1.7.0_65]\n2015-03-05 16:09:41,175 | WARN  | Transport Connection to: tcp://118.145.21.68:34542 failed: java.io.IOException: Broker: localhost - Client: WCarClient9 already connected from tcp://xxx.xxx.xxx.xxx:33834 | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///xxx.xxx.xxx.xxx:34542@5672\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Failed to add Connection ID","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"windows server 2008","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14348760","id":"14348760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You already have a client connected using the ID: WCarClient9  this is expected behaviour.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-03-05T14:15:12.348+0000","updated":"2015-03-05T14:15:12.348+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14348762","id":"14348762","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"body":"When this warning happens, ActiveMQ can't receive any new messages any more.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-05T14:17:47.210+0000","updated":"2015-03-05T14:17:47.210+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14348764","id":"14348764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"body":"MQ has to be re-started when the issue happens.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-05T14:21:45.802+0000","updated":"2015-03-05T14:21:45.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14348768","id":"14348768","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Please provide a test case that demonstrates the issue.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-03-05T14:23:35.825+0000","updated":"2015-03-05T14:23:35.825+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14353589","id":"14353589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"With only the limited information in the issue there appears to be no problem here and nothing that can reproduce.  The exception shown is typical if two AMQP client's connect with the same container ID set.  This would also occur for OpenWire client's that use the same client ID.  I'd suggest validating that you don't have two instances of the client with that ID being started by accident.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-03-09T20:57:19.942+0000","updated":"2015-03-09T20:57:19.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14356359","id":"14356359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"body":"We have tried different AMQP clients, but received the ”already connected” with all of them.\n\nCurrently we use a really new (not officially released yet):\n\n{code}\n        <dependency>\n            <groupId>org.apache.qpid</groupId>\n            <artifactId>qpid-amqp-1-0-client-jms</artifactId>\n            <version>0.32-SNAPSHOT </version>\n            <scope>compile</scope>\n        </dependency>\n{code}\n\nFrom Maven repo:\nhttps://repository.apache.org/snapshots/\n\n\nWe are not programming directly towards it, instead we invoke it with Apache Camel and Spring:\n{code}\n        <dependency>\n            <groupId>org.apache.camel</groupId>\n            <artifactId>camel-core</artifactId>\n            <version>2.14.1</version>\n            <scope>compile</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.camel</groupId>\n            <artifactId>camel-spring</artifactId>\n            <version>2.14.1</version>\n            <scope>compile</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.camel</groupId>\n            <artifactId>camel-amqp</artifactId>\n            <version>2.14.1</version>\n            <scope>compile</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.activemq</groupId>\n            <artifactId>activemq-camel</artifactId>\n            <version>5.10.0</version>\n            <scope>compile</scope>\n        </dependency>\n{code}\n\nConfiguration:\n\n{code}\n    <bean id=\"myFailoverAMQPConnectionFactory\" class=\"org.apache.qpid.amqp_1_0.jms.impl.ConnectionFactoryImpl\">\n        <property name=\"sslContextProtocol\" value=\"TLSv1.2\" />\n        <property name=\"sslEnabledProtocols\" value=\"TLSv1.2\" />\n        <property name=\"sslDisabledProtocols\" value=\"\" />\n        <property name=\"keyStorePath\" value=\"${amqp.router.keystore.path}\" />\n        <property name=\"keyStorePassword\" value=\"${amqp.router.keystore.password}\" />\n        <property name=\"keyStoreCertAlias\" value=\"${amqp.router.keystore.certalias}\" />\n        <property name=\"trustStorePath\" value=\"${amqp.router.truststore.path}\" />\n        <property name=\"trustStorePassword\" value=\"${amqp.router.truststore.password}\" />\n        <constructor-arg type=\"java.lang.String\" value=\"${baoxin.amqp.failover.host}\" />\n        <constructor-arg type=\"int\" value=\"${baoxin.amqp.failover.port}\" />\n        <constructor-arg type=\"java.lang.String\" value=\"${baoxin.amqp.username}\" />\n        <constructor-arg type=\"java.lang.String\" value=\"${baoxin.amqp.password}\" />\n        <constructor-arg type=\"java.lang.String\" value=\"${baoxin.amqp.client.name}\" />\n        <constructor-arg type=\"boolean\" value=\"${amqp.router.tls.enabled} \" />    <!-- Which is currently false -->\n    </bean>\n{code}\n\nHere is what the connect attempt looks like on our side:\n\n{noformat}\n2015-03-10 00:09:36,959 FINE  [RAW] [QpidConnectionInputThread-0] RECV [/101.231.211.148:5672] : AMQP\\x00\\x01\\x00\\x00\n2015-03-10 00:09:37,005 FINE  [RAW] [QpidConnectionInputThread-0] RECV [/101.231.211.148:5672] : \\x00\\x00\\x00e\\x02\\x00\\x00\\x00\\x00S\\x10\\xc0X\\x0a\\xa1\\x00\\xa1\\x00p\\xff\\xff\\xff\\xff`\\x7f\\xff@@@\\xe0\\x12\\x01\\xa3\\x0fANONYMOUS-RELAY@\\xc11\\x04\\xa3\\x0ctopic-prefix\\xa1\\x08topic://\\xa3\\x0cqueue-prefix\\xa1\\x08queue://\n2015-03-10 00:09:37,005 FINE  [FRM] [QpidConnectionInputThread-0] RECV[/101.231.211.148:5672|0] : Open{containerId=,hostname=,maxFrameSize=4294967295,channelMax=32767,offeredCapabilities=[ANONYMOUS-RELAY],properties={queue-prefix=queue://, topic-prefix=topic://}}\n2015-03-10 00:09:37,020 FINE  [RAW] [QpidConnectionInputThread-0] RECV [/101.231.211.148:5672] : \\x00\\x00\\x00\\x81\\x02\\x00\\x00\\x00\\x00S\\x18\\xc0t\\x01\\x00S\\x1d\\xc0n\\x02\\xa3\\x12amqp:invalid-field\\xa1WBroker: localhost - Client: XXXXClient already connected from tcp://xxx.xxx.xxx.xxx:50081\\x00\\x00\\x00\\x1a\\x02\\x00\\x00\\x00\\x00S\\x11\\xc0\\x0d\\x05`\\x00\\x00R\\x01CCp\\x00\\x00\\x04\\x00\\x00\\x00\\x00\\x17\\x02\\x00\\x00\\x00\\x00S\\x13\\xc0\\x0a\\x04Cp\\x7f\\xff\\xff\\xffR\\x01C\n2015-03-10 00:09:37,021 FINE  [FRM] [QpidConnectionInputThread-0] RECV[/101.231.211.148:5672|0] : Close{error=Error{condition=invalid-field,description=Broker: localhost - Client: XXXXClient already connected from tcp://xxx.xxx.xxx.xxx:50081}}\n2015-03-10 00:09:37,024 FINE  [FRM] [QpidConnectionOutputThread-0] SEND[/101.231.211.148:5672|0] : Close{}\n2015-03-10 00:09:37,024 FINE  [FRM] [QpidConnectionInputThread-0] RECV[/101.231.211.148:5672|0] : Begin{remoteChannel=0,nextOutgoingId=1,incomingWindow=0,outgoingWindow=0,handleMax=1024}\n2015-03-10 00:09:37,024 FINE  [FRM] [QpidConnectionInputThread-0] RECV[/101.231.211.148:5672|0] : Flow{nextIncomingId=0,incomingWindow=2147483647,nextOutgoingId=1,outgoingWindow=0}\n2015-03-10 00:09:37,025 FINE  [RAW] [QpidConnectionOutputThread-0] SEND[/101.231.211.148:5672] : \\x00\\x00\\x00\\x0e\\x02\\x00\\x00\\x00\\x00S\\x18\\xc0\\x01\\x00\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-03-11T05:58:00.571+0000","updated":"2015-03-11T13:17:25.642+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14356852","id":"14356852","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Still does not appear to be an ActiveMQ issue.  The line in your config: \n{code}\n        <constructor-arg type=\"java.lang.String\" value=\"${baoxin.amqp.client.name}\" />\n{code}\nis setting the client ID on each connection created from this bean factory.  Any time a second instance is created while the first one is still open you will get this error which is proper JMS client behavior. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-03-11T13:19:18.179+0000","updated":"2015-03-11T13:19:18.179+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14368416","id":"14368416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"AndyShi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"AndyShi","active":false,"timeZone":"Etc/UTC"},"body":"so, could you please propose how to fix this issue ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"AndyShi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"AndyShi","active":false,"timeZone":"Etc/UTC"},"created":"2015-03-19T02:56:04.080+0000","updated":"2015-03-19T02:56:04.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14368417","id":"14368417","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"AndyShi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"AndyShi","active":false,"timeZone":"Etc/UTC"},"body":"so, could you please propose how to fix this issue ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"AndyShi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"AndyShi","active":false,"timeZone":"Etc/UTC"},"created":"2015-03-19T02:56:05.209+0000","updated":"2015-03-19T02:56:05.209+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14368968","id":"14368968","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"body":"I mean, after this warning \"already connected\" happens, ActiveMQ will not receive any messages any more.\n\nSo, how to fix this ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=AndyShi","name":"AndyShi","key":"andyshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"AndyShi","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-19T12:04:24.264+0000","updated":"2015-03-19T12:04:24.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14500211","id":"14500211","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Would suggest you try with a recent 5.12-SNAPSHOT build as there has been a lot of AMQP fixes in there, perhaps your issue is resolved.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-04-17T17:14:24.439+0000","updated":"2015-04-17T17:14:24.439+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12779796/comment/14515006","id":"14515006","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Still no indication of problem, some AMQP fixes for 5.12 might improve this scenario as more resource cleanups were added for dropped connections.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2015-04-27T21:10:41.745+0000","updated":"2015-04-27T21:10:41.745+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5641/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i26eiv:"}}