{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12724891","self":"https://issues.apache.org/jira/rest/api/2/issue/12724891","key":"AMQ-5257","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2014-07-02T12:26:27.748+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jul 03 01:37:02 UTC 2014","customfield_12310420":"403074","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_102904592_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-03T11:25:33.915+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5257/watchers","watchCount":2,"isWatching":false},"created":"2014-07-02T06:50:29.394+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324950","id":"12324950","name":"5.10.0","archived":false,"released":true,"releaseDate":"2014-06-10"}],"issuelinks":[{"id":"12390833","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12390833","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12701719","key":"AMQ-5105","self":"https://issues.apache.org/jira/rest/api/2/issue/12701719","fields":{"summary":"leveldb fails to startup because of NoSuchMethodError","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-07-03T11:25:33.949+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320200","id":"12320200","name":"activemq-leveldb-store","description":"LevelDB based message store"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313895","id":"12313895","name":"Message Store"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Are configured as follows：(I used this configuration in version of 5.9.1 is ok.)\n\n<persistenceAdapter>\n            <replicatedLevelDB directory=\"${activemq.data}/leveldb\" replicas=\"3\" bind=\"tcp://0.0.0.0:0\" zkAddress=\"192.168.65.183:2181,192.168.65.184:2181,192.168.65.185:2181\" zkPath=\"/activemq/leveldb-stores\" weight=\"2\"/>\n            <!-- <kahaDB directory=\"${activemq.data}/kahadb\"/> -->\n        </persistenceAdapter>\n\n\nstartup log: \n[amq@lin-mongo-65-181 bin]$ ./activemq console\nINFO: Using default configuration\n(you can configure options in one of these file: /etc/default/activemq /home/amq/.activemqrc)\n\nINFO: Invoke the following command to create a configuration file\n./activemq setup [ /etc/default/activemq | /home/amq/.activemqrc ]\n\nINFO: Using java '/usr/bin/java'\nINFO: Starting in foreground, this is just for debugging purposes (stop process by pressing CTRL+C)\nJava Runtime: Oracle Corporation 1.7.0_60 /usr/java/jdk1.7.0_60/jre\n  Heap sizes: current=2010624k  free=1979104k  max=5592576k\n    JVM args: -Xms2G -Xmx6G -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=/home/amq/apache-activemq-5.10.0/conf/login.config -Dcom.sun.management.jmxremote.port=11099 -Dcom.sun.management.jmxremote.password.file=/home/amq/apache-activemq-5.10.0/conf/jmx.password -Dcom.sun.management.jmxremote.access.file=/home/amq/apache-activemq-5.10.0/conf/jmx.access -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote -Djava.awt.headless=true -Djava.io.tmpdir=/home/amq/apache-activemq-5.10.0/tmp -Dactivemq.classpath=/home/amq/apache-activemq-5.10.0/conf; -Dactivemq.home=/home/amq/apache-activemq-5.10.0 -Dactivemq.base=/home/amq/apache-activemq-5.10.0 -Dactivemq.conf=/home/amq/apache-activemq-5.10.0/conf -Dactivemq.data=/amq_data\nExtensions classpath:\n  [/home/amq/apache-activemq-5.10.0/lib,/home/amq/apache-activemq-5.10.0/lib/camel,/home/amq/apache-activemq-5.10.0/lib/optional,/home/amq/apache-activemq-5.10.0/lib/web,/home/amq/apache-activemq-5.10.0/lib/extra]\nACTIVEMQ_HOME: /home/amq/apache-activemq-5.10.0\nACTIVEMQ_BASE: /home/amq/apache-activemq-5.10.0\nACTIVEMQ_CONF: /home/amq/apache-activemq-5.10.0/conf\nACTIVEMQ_DATA: /amq_data\nLoading message broker from: xbean:activemq.xml\n INFO |AbstractApplicationContext.java:510| Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@781efa43: startup date [Wed Jul 02 14:43:11 CST 2014]; root of context hierarchy\n INFO |BrokerService.java:636| Using Persistence Adapter: Replicated LevelDB[/amq_data/leveldb, 192.168.65.183:2181,192.168.65.184:2181,192.168.65.185:2181//activemq/leveldb-stores]\n INFO |ZKClient.java:343| Starting StateChangeDispatcher\n INFO |Environment.java:100| Client environment:zookeeper.version=3.4.5-1392090, built on 09/30/2012 17:52 GMT\n INFO |Environment.java:100| Client environment:host.name=lin-mongo-65-181.ofcardnis\n INFO |Environment.java:100| Client environment:java.version=1.7.0_60\n INFO |Environment.java:100| Client environment:java.vendor=Oracle Corporation\n INFO |Environment.java:100| Client environment:java.home=/usr/java/jdk1.7.0_60/jre\n INFO |Environment.java:100| Client environment:java.class.path=/home/amq/apache-activemq-5.10.0/bin/activemq.jar\n INFO |Environment.java:100| Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\n INFO |Environment.java:100| Client environment:java.io.tmpdir=/home/amq/apache-activemq-5.10.0/tmp\n INFO |Environment.java:100| Client environment:java.compiler=<NA>\n INFO |Environment.java:100| Client environment:os.name=Linux\n INFO |Environment.java:100| Client environment:os.arch=amd64\n INFO |Environment.java:100| Client environment:os.version=2.6.32-431.el6.x86_64\n INFO |Environment.java:100| Client environment:user.name=amq\n INFO |Environment.java:100| Client environment:user.home=/home/amq\n INFO |Environment.java:100| Client environment:user.dir=/home/amq/apache-activemq-5.10.0/bin\n INFO |ZooKeeper.java:438| Initiating client connection, connectString=192.168.65.183:2181,192.168.65.184:2181,192.168.65.185:2181 sessionTimeout=2000 watcher=org.apache.activemq.leveldb.replicated.groups.ZKClient@63a06d20\n WARN |ClientCnxn.java:949| SASL configuration failed: javax.security.auth.login.LoginException: No JAAS configuration section named 'Client' was found in specified JAAS configuration file: '/home/amq/apache-activemq-5.10.0/conf/login.config'. Will continue connection to Zookeeper server without SASL authentication, if Zookeeper server allows it.\n INFO |ClientCnxn.java:966| Opening socket connection to server 192.168.65.185/192.168.65.185:2181\n WARN |ZKClient.java:222| unprocessed event state: AuthFailed\n INFO |ClientCnxn.java:849| Socket connection established to 192.168.65.185/192.168.65.185:2181, initiating session\n INFO |ClientCnxn.java:1207| Session establishment complete on server 192.168.65.185/192.168.65.185:2181, sessionid = 0x346e18687c1164c, negotiated timeout = 4000\n INFO |Log.scala:93| Not enough cluster members connected to elect a master.\n INFO |Log.scala:93| Not enough cluster members connected to elect a master.\n INFO |Log.scala:93| Not enough cluster members have reported their update positions yet.\n INFO |Log.scala:93| Promoted to master\n WARN |ChangeListener.scala:102| listeners are taking too long to process the events\n WARN |ChangeListener.scala:102| listeners are taking too long to process the events\n INFO |Log.scala:93| Using the pure java LevelDB implementation.\n INFO |BrokerService.java:2561| No IOExceptionHandler registered, ignoring IO exception\njava.io.IOException: com.google.common.base.Objects.firstNonNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;\n\tat org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:39)[activemq-client-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.LevelDBClient.might_fail(LevelDBClient.scala:552)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.LevelDBClient.replay_init(LevelDBClient.scala:657)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.LevelDBClient.start(LevelDBClient.scala:558)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.DBManager.start(DBManager.scala:648)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.LevelDBStore.doStart(LevelDBStore.scala:235)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.replicated.MasterLevelDBStore.doStart(MasterLevelDBStore.scala:110)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.util.ServiceSupport.start(ServiceSupport.java:55)[activemq-client-5.10.0.jar:5.10.0]\n\tat org.apache.activemq.leveldb.replicated.ElectingLevelDBStore$$anonfun$start_master$1.apply$mcV$sp(ElectingLevelDBStore.scala:226)[activemq-leveldb-store-5.10.0.jar:5.10.0]\n\tat org.fusesource.hawtdispatch.package$$anon$4.run(hawtdispatch.scala:330)[hawtdispatch-scala-2.11-1.21.jar:1.21]\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)[:1.7.0_60]\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)[:1.7.0_60]\n\tat java.lang.Thread.run(Thread.java:745)[:1.7.0_60]\n INFO |Log.scala:93| Stopped LevelDB[/amq_data/leveldb]","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"403129","customfield_12312823":null,"summary":"5.10.0 cannot startup with leveldb","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=angus.aqlu","name":"angus.aqlu","key":"angus.aqlu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=angus.aqlu&avatarId=20096","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=angus.aqlu&avatarId=20096","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=angus.aqlu&avatarId=20096","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=angus.aqlu&avatarId=20096"},"displayName":"angus.aqlu","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=angus.aqlu","name":"angus.aqlu","key":"angus.aqlu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=angus.aqlu&avatarId=20096","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=angus.aqlu&avatarId=20096","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=angus.aqlu&avatarId=20096","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=angus.aqlu&avatarId=20096"},"displayName":"angus.aqlu","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"jdk: 1.7.0_60-b19\nzookeeper: 3.4.6\ncentos: 6.5","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12724891/comment/14049865","id":"14049865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"is this related to https://issues.apache.org/jira/browse/AMQ-5105 ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-02T12:26:27.748+0000","updated":"2014-07-02T12:26:27.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12724891/comment/14050972","id":"14050972","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=angus.aqlu","name":"angus.aqlu","key":"angus.aqlu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=angus.aqlu&avatarId=20096","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=angus.aqlu&avatarId=20096","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=angus.aqlu&avatarId=20096","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=angus.aqlu&avatarId=20096"},"displayName":"angus.aqlu","active":true,"timeZone":"Etc/UTC"},"body":"refer AMQ-5105，it has been solved.  Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=angus.aqlu","name":"angus.aqlu","key":"angus.aqlu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=angus.aqlu&avatarId=20096","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=angus.aqlu&avatarId=20096","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=angus.aqlu&avatarId=20096","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=angus.aqlu&avatarId=20096"},"displayName":"angus.aqlu","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-03T01:37:02.850+0000","updated":"2014-07-03T01:37:02.850+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-5257/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1xdi7:"}}