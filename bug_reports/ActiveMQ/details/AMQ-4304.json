{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12631417","self":"https://issues.apache.org/jira/rest/api/2/issue/12631417","key":"AMQ-4304","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315630","id":"12315630","description":"Issues that need to be reviewed - do we keep 'em or do we kick 'em? ","name":"NEEDS_REVIEW","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2013-04-03T20:01:21.774+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Apr 15 18:51:51 UTC 2013","customfield_12310420":"311913","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5733431003_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-04-15T18:51:51.389+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4304/watchers","watchCount":3,"isWatching":false},"created":"2013-02-08T10:14:40.412+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":6048000,"aggregatetimeoriginalestimate":6048000,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315625","id":"12315625","description":"","name":"5.4.2","archived":false,"released":true,"releaseDate":"2010-12-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-04-15T18:51:51.413+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":6048000,"customfield_12310080":null,"description":"\n\nhi all\n\nwe tried to find out these problems:(Active Mq) but we couldn't find anythings \nSo I'm really asking those problems to u\n\nI tried to capture these logs on website \nplz let's me know what is worng? and what am i doing to fix it?\nI really need to ur comment here ugently\n\n1. have u experienced this Active Mq system which is stopping by themselves after the first situation?\n   (INFO: Active Mq version: 5.4.2 // OS AIX 6.1 //)\n2. can u do it as same situation? \n\nfirst situation \n2013-02-05 21:59:51,978 | INFO  | Transport failed: java.io.IOException: Connection reset by peer | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ NIO Worker\n2013-02-05 21:59:51,978 | INFO  | Transport failed: java.io.IOException: Broken pipe | org.apache.activemq.broker.TransportConnection.Transport | Async Exception Handler\n2013-02-05 21:59:51,979 | INFO  | Transport failed: java.io.IOException: Broken pipe | org.apache.activemq.broker.TransportConnection.Transport | Async Exception Handler\n2013-02-05 21:59:51,979 | INFO  | Transport failed: java.io.EOFException | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ NIO Worker\n2013-02-05 21:59:51,980 | INFO  | Transport failed: java.io.IOException: Broken pipe | org.apache.activemq.broker.TransportConnection.Transport | Async Exception Handler\n2013-02-05 21:59:51,980 | WARN  | Duplicate message add attempt rejected. Destination: CDKC.COMM.HI.Q, Message id: ID:upafep81-63322-1359597409289-0:467046:1:1:2 | org.apache.activemq.store.kahadb.MessageDatabase | ConcurrentQueueStoreAndDispatch\n\n\nsecond situation\n** Kahadb write fail\n2013-02-05 22:00:20,824 | INFO  | Transport failed: java.io.IOException: Broken pipe | org.apache.activemq.broker.TransportConnection.Transport | Async Exception Handler\n2013-02-05 22:00:20,824 | INFO  | Transport failed: java.io.IOException: Connection reset by peer | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ NIO Worker\n2013-02-05 22:00:20,825 | INFO  | Transport failed: java.io.IOException: Broken pipe | org.apache.activemq.broker.TransportConnection.Transport | Async Exception Handler\n2013-02-05 22:00:20,826 | INFO  | Transport failed: java.io.IOException: Connection reset by peer | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ NIO Worker\n2013-02-05 22:00:20,825 | ERROR | KahaDB failed to store to Journal | org.apache.activemq.store.kahadb.MessageDatabase | ConcurrentQueueStoreAndDispatch\njava.io.EOFException: Chunk stream does not exist at page: 460\n\tat org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:454)\n\tat org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:431)\n\tat org.apache.kahadb.page.Transaction.openInputStream(Transaction.java:428)\n\tat org.apache.kahadb.page.Transaction.load(Transaction.java:380)\n\tat org.apache.kahadb.page.Transaction.load(Transaction.java:361)\n\tat org.apache.kahadb.index.BTreeIndex.loadNode(BTreeIndex.java:262)\n\tat org.apache.kahadb.index.BTreeNode.getChild(BTreeNode.java:225)\n\tat org.apache.kahadb.index.BTreeNode.getLeafNode(BTreeNode.java:672)\n\tat org.apache.kahadb.index.BTreeNode.put(BTreeNode.java:368)\n\tat org.apache.kahadb.index.BTreeIndex.put(BTreeIndex.java:189)\n\tat org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.put(MessageDatabase.java:2220)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.upadateIndex(MessageDatabase.java:997)\n\tat org.apache.activemq.store.kahadb.MessageDatabase$14.execute(MessageDatabase.java:872)\n\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:728)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:870)\n\tat org.apache.activemq.store.kahadb.MessageDatabase$13.visit(MessageDatabase.java:828)\n\tat org.apache.activemq.store.kahadb.data.KahaAddMessageCommand.visit(KahaAddMessageCommand.java:241)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:825)\n\tat org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:751)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.addMessage(KahaDBStore.java:366)\n\tat org.apache.activemq.store.kahadb.KahaDBStore$StoreQueueTask.run(KahaDBStore.java:1123)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tat java.lang.Thread.run(Thread.java:736)\n\n\nthird situation\n** ActiveMQ (itself)\n2013-02-05 22:00:20,994 | INFO  | ActiveMQ Message Broker (brokerfcn11, ID:upafep82-32935-1359587803187-0:1) is shutting down | org.apache.activemq.broker.BrokerService | Thread-9152\n2013-02-05 22:00:21,416 | INFO  | Connector nio Stopped | org.apache.activemq.broker.TransportConnector | Thread-9151\n2013-02-05 22:00:21,416 | INFO  | Connector nio Stopped | org.apache.activemq.broker.TransportConnector | Thread-9152\n2013-02-05 22:00:21,416 | INFO  | Connector nio Stopped | org.apache.activemq.broker.TransportConnector | Thread-9150\n2013-02-05 22:00:21,433 | INFO  | Stopping async queue tasks | org.apache.activemq.store.kahadb.KahaDBStore | Thread-9151\n2013-02-05 22:00:21,433 | INFO  | PListStore:/sfs/activemq/FCN/data/brokerfcn11/tmp_storage stopped | org.apache.activemq.store.kahadb.plist.PListStore | Thread-9152\n2013-02-05 22:00:21,433 | INFO  | Stopping async topic tasks | org.apache.activemq.store.kahadb.KahaDBStore | Thread-9151\n2013-02-05 22:00:21,433 | INFO  | ActiveMQ JMS Message Broker (brokerfcn11, ID:upafep82-32935-1359587803187-0:1) stopped | org.apache.activemq.broker.BrokerService | Thread-9152\n2013-02-05 22:00:21,434 | INFO  | Stopped KahaDB | org.apache.activemq.store.kahadb.KahaDBStore | Thread-9151\n2013-02-05 22:00:21,434 | INFO  | ActiveMQ JMS Message Broker (brokerfcn11, ID:upafep82-32935-1359587803187-0:1) stopped | org.apache.activemq.broker.BrokerService | Thread-9150\n","customfield_10010":null,"timetracking":{"originalEstimate":"1,680h","remainingEstimate":"1,680h","originalEstimateSeconds":6048000,"remainingEstimateSeconds":6048000},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":6048000,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"312259","customfield_12312823":null,"summary":"Stopping the broker due ro IO exception. java.io.EOFException: Chunk stream does not exist at page","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fepwas","name":"fepwas","key":"fepwas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard jung","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fepwas","name":"fepwas","key":"fepwas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard jung","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":6048000,"percent":0},"customfield_12311024":null,"environment":"OS: aix 6.1 // ","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":6048000,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631417/comment/13621275","id":"13621275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"A great deal of work has been done to harden the KahaDB impl since 5.4.2.  Recommend you upgrade to the latest release and try from there. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-04-03T20:01:21.774+0000","updated":"2013-04-03T20:01:21.774+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631417/comment/13632022","id":"13632022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No tests provided or feedback on usage of newer broker version. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-04-15T18:51:51.410+0000","updated":"2013-04-15T18:51:51.410+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-4304/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1httr:"}}