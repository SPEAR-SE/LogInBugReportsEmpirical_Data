{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13172266","self":"https://issues.apache.org/jira/rest/api/2/issue/13172266","key":"AMQ-7011","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341032","id":"12341032","name":"5.16.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343307","id":"12343307","description":"","name":"5.15.5","archived":false,"released":true,"releaseDate":"2018-08-09"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-07-15T19:28:13.448+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 16 02:36:31 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_30983544_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2018-07-16T02:23:44.919+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-7011/watchers","watchCount":3,"isWatching":false},"created":"2018-07-15T17:47:21.412+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-07-16T02:36:31.299+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync.\r\n\r\nScenario:\r\n\r\nStomp client setting the following:\r\nheader.put(\"id\", subId);\r\nheader.put(\"activemq.dispatchAsync\", \"false\");\r\n\r\nThe setup of locks between TopicSubscription and MutexTransport while using Stomp in sync mode can result in a Deadlock as found below (Add and Destroy calls processing), each lock is identified by a + or * to show lock order in each stack trace.\r\n\r\n  Found one Java-level deadlock:\r\n=============================\r\n\"ActiveMQ Transport: tcp:///127.0.0.1:58303@61613\":\r\n  waiting to lock monitor 0x00007f9c565d4d28 (object 0x00000007acc44708, a java.lang.Object),\r\n  which is held by \"ActiveMQ Transport: tcp:///127.0.0.1:58302@61613\"\r\n\"ActiveMQ Transport: tcp:///127.0.0.1:58302@61613\":\r\n  waiting for ownable synchronizer 0x00000007ac872730, (a java.util.concurrent.locks.ReentrantLock$NonfairSync),\r\n  which is held by \"ActiveMQ Transport: tcp:///127.0.0.1:58303@61613\"\r\nJava stack information for the threads listed above:\r\n===================================================\r\n\"ActiveMQ Transport: tcp:///127.0.0.1:58303@61613\":\r\n++++++  at org.apache.activemq.broker.region.TopicSubscription.destroy(TopicSubscription.java:757)\r\n    - waiting to lock <0x00000007acc44708> (a java.lang.Object)\r\n    at org.apache.activemq.broker.region.AbstractRegion.destroySubscription(AbstractRegion.java:488)\r\n    at org.apache.activemq.broker.jmx.ManagedTopicRegion.destroySubscription(ManagedTopicRegion.java:52)\r\n    at org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:480)\r\n    at org.apache.activemq.broker.region.TopicRegion.removeConsumer(TopicRegion.java:206)\r\n    at org.apache.activemq.broker.region.RegionBroker.removeConsumer(RegionBroker.java:429)\r\n    at org.apache.activemq.broker.jmx.ManagedRegionBroker.removeConsumer(ManagedRegionBroker.java:258)\r\n    at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)\r\n    at org.apache.activemq.advisory.AdvisoryBroker.removeConsumer(AdvisoryBroker.java:352)\r\n    at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)\r\n    at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)\r\n    at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)\r\n    at org.apache.activemq.broker.TransportConnection.processRemoveConsumer(TransportConnection.java:729)\r\n    at org.apache.activemq.broker.TransportConnection.processRemoveSession(TransportConnection.java:768)\r\n    at org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:879)\r\n    - locked <0x00000007ac999f00> (a org.apache.activemq.broker.jmx.ManagedTransportConnection)\r\n    at org.apache.activemq.command.RemoveInfo.visit(RemoveInfo.java:73)\r\n    at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:330)\r\n    at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:194)\r\n*****   at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:45)\r\n    at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:301)\r\n    at org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:97)\r\n    at org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:202)\r\n    at org.apache.activemq.transport.stomp.ProtocolConverter.onStompDisconnect(ProtocolConverter.java:838)\r\n    at org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:267)\r\n    at org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:85)\r\n    at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)\r\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:233)\r\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n\"ActiveMQ Transport: tcp:///127.0.0.1:58302@61613\":\r\n    at sun.misc.Unsafe.park(Native Method)\r\n    - parking to wait for  <0x00000007ac872730> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n    at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n    at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n*****   at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:66)\r\n    at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:1486)\r\n    at org.apache.activemq.broker.TransportConnection.processDispatch(TransportConnection.java:971)\r\n    at org.apache.activemq.broker.TransportConnection.dispatchSync(TransportConnection.java:927)\r\n    at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:715)\r\n+++++   at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:121)\r\n    - locked <0x00000007acc44708> (a java.lang.Object)\r\n    at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:48)\r\n    at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:775)\r\n    at org.apache.activemq.broker.region.Topic.doMessageSend(Topic.java:556)\r\n    - locked <0x00000007acbd4e08> (a org.apache.activemq.broker.region.Topic)\r\n    at org.apache.activemq.broker.region.Topic.send(Topic.java:484)\r\n    at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:505)\r\n    at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:459)\r\n    at org.apache.activemq.broker.jmx.ManagedRegionBroker.send(ManagedRegionBroker.java:293)\r\n    at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:154)\r\n    at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)\r\n    at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:293)\r\n    at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:154)\r\n    at org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:572)\r\n    at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:768)\r\n    at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:330)\r\n    at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:194)\r\n    at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:45)\r\n    at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:301)\r\n    at org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:97)\r\n    at org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:202)\r\n    at org.apache.activemq.transport.stomp.ProtocolConverter.onStompSend(ProtocolConverter.java:345)\r\n    at org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:248)\r\n    at org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:85)\r\n    at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)\r\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:233)\r\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nIn reviewing how MQTT and AMQP were handled, both set \"consumerInfo.setDispatchAsync(true);\"\r\n\r\nAMQPSession line 376\r\nMQTTDefualtSubscriptionStrategy line 61\r\n\r\nFor MQTT fix see the below cards:\r\n\r\nENTMQ-1504\r\nhttps://issues.jboss.org/browse/ENTMQ-1504?_sscc=t\r\n\r\nAMQ-5290\r\nhttps://issues.apache.org/jira/browse/AMQ-5290 https://github.com/apache/activemq/blame/master/activemq-mqtt/src/main/java/org/apache/activemq/transport/mqtt/strategy/MQTTDefaultSubscriptionStrategy.java#L61 \r\n\r\nI believe we can fix this for Stomp in ProtocolConverter, line 614, by also setting consumerInfo.setDispatchAsync(true); This would bring Stomp into alignment with the other protocols and how they were fixed.\r\n\r\nI'll be providing a patch with the above change shortly.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jgoodyear","name":"jgoodyear","key":"jgoodyear","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jgoodyear&avatarId=10107","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgoodyear&avatarId=10107","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgoodyear&avatarId=10107","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgoodyear&avatarId=10107"},"displayName":"Jamie goodyear","active":true,"timeZone":"America/St_Johns"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jgoodyear","name":"jgoodyear","key":"jgoodyear","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jgoodyear&avatarId=10107","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgoodyear&avatarId=10107","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgoodyear&avatarId=10107","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgoodyear&avatarId=10107"},"displayName":"Jamie goodyear","active":true,"timeZone":"America/St_Johns"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172266/comment/16544649","id":"16544649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user jgoodyear opened a pull request:\n\n    https://github.com/apache/activemq/pull/287\n\n    [AMQ-7011] Override dispatch to always set dispatchAsync true\n\n    AMQ-7011 Override dispatch to always set dispatchAsync true.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/jgoodyear/activemq AMQ7011\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/activemq/pull/287.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #287\n    \n----\ncommit a5fe89577c26e61ecb5d594e0fdd62ad1e8ebb6a\nAuthor: jgoodyear <jamie.goodyear@...>\nDate:   2018-07-15T17:50:45Z\n\n    [AMQ-7011] Override dispatch to always set dispatchAsync true\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-15T19:28:13.448+0000","updated":"2018-07-15T19:28:13.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172266/comment/16544650","id":"16544650","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jgoodyear","name":"jgoodyear","key":"jgoodyear","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jgoodyear&avatarId=10107","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgoodyear&avatarId=10107","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgoodyear&avatarId=10107","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgoodyear&avatarId=10107"},"displayName":"Jamie goodyear","active":true,"timeZone":"America/St_Johns"},"body":"I'm made a PR for this card:\r\n[https://github.com/apache/activemq/pulls]\r\nhttps://github.com/apache/activemq/pull/287","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jgoodyear","name":"jgoodyear","key":"jgoodyear","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jgoodyear&avatarId=10107","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgoodyear&avatarId=10107","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgoodyear&avatarId=10107","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgoodyear&avatarId=10107"},"displayName":"Jamie goodyear","active":true,"timeZone":"America/St_Johns"},"created":"2018-07-15T19:29:25.332+0000","updated":"2018-07-15T19:29:25.332+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172266/comment/16544731","id":"16544731","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 46160c7b7f66d9d5dda05d2e2dc45e993d3cc48e in activemq's branch refs/heads/master from jgoodyear\n[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=46160c7 ]\n\n[AMQ-7011] Override dispatch to always set dispatchAsync true\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-16T02:11:20.569+0000","updated":"2018-07-16T02:11:20.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172266/comment/16544732","id":"16544732","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 43fd31c1054408c2b77919a18e5c7b7681f45fd5 in activemq's branch refs/heads/activemq-5.15.x from jgoodyear\n[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=43fd31c ]\n\n[AMQ-7011] Override dispatch to always set dispatchAsync true\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-16T02:14:44.666+0000","updated":"2018-07-16T02:14:44.666+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172266/comment/16544736","id":"16544736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jgenender","name":"jgenender","key":"jgenender","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Genender","active":true,"timeZone":"America/Denver"},"body":"Fixed.  Thanks Jamie for the contribution.  This follows the MQTT and AMQP way of handling this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jgenender","name":"jgenender","key":"jgenender","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeff Genender","active":true,"timeZone":"America/Denver"},"created":"2018-07-16T02:23:44.941+0000","updated":"2018-07-16T02:23:44.941+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172266/comment/16544740","id":"16544740","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit a1e5b970d81d21daed277a08098f7fddf017c606 in activemq's branch refs/heads/activemq-5.15.x from jgoodyear\n[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=a1e5b97 ]\n\n[AMQ-7011] Override dispatch to always set dispatchAsync true\n\nThis closes #287\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-16T02:36:31.299+0000","updated":"2018-07-16T02:36:31.299+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-7011/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3vwsf:"}}