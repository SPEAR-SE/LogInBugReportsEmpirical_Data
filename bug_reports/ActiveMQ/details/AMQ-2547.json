{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483172","self":"https://issues.apache.org/jira/rest/api/2/issue/12483172","key":"AMQ-2547","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315621","id":"12315621","description":"","name":"5.3.1","archived":false,"released":true,"releaseDate":"2010-03-23"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315623","id":"12315623","description":"version 5 feature complete","name":"5.4.0","archived":false,"released":true,"releaseDate":"2010-08-17"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-12-24T04:04:49.676+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Feb 26 15:15:42 UTC 2010","customfield_12310420":"74899","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5699605417_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-02-26T15:15:42.523+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2547/watchers","watchCount":4,"isWatching":false},"created":"2009-12-22T16:02:17.106+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-02-26T15:15:42.485+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Make ActiveMQ work correctly with Spring 3.0","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"159838","customfield_12312823":null,"summary":"ActiveMQ and Spring 3.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483172/comment/12941949","id":"12941949","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amarcute","name":"amarcute","key":"amarcute","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nadhamuni Reddy","active":true,"timeZone":"Etc/UTC"},"body":"Please look at the thread for more details:\n\nhttp://old.nabble.com/Upgrading-to-Spring-3.0.0-td26839497.html\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amarcute","name":"amarcute","key":"amarcute","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nadhamuni Reddy","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-24T04:04:49.676+0000","updated":"2009-12-24T04:04:49.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483172/comment/12941964","id":"12941964","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"There's seems to be some regressions in how Spring 3.0.0 works with XBean. There are two issues spotted with default configuration\n\n1. <destinationPolicy> error - it seems that Spring 3.0.0 forces elements to be in order (alphabetical or probably as they are listed in xsd file). The simple workaround is to move <destinationPolicy/> element at the begging of the <broker> configuration section. I still need to investigate what causes this change.\n\n2. Jetty XBean configuration  doesn't work with Spring 3.0.0 - The simple workaround is to use plain Spring configuration. The equivalent of current jetty.xml file would be\n\n{code}\n<beans\n    xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:jetty=\"http://mortbay.com/schemas/jetty/1.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n    \n    <bean id=\"Server\"\n      class=\"org.mortbay.jetty.Server\" init-method=\"start\" destroy-method=\"stop\">\n    <property name=\"connectors\">\n      <list>\n        <bean id=\"Connector\" class=\"org.mortbay.jetty.nio.SelectChannelConnector\">\n          <property name=\"port\" value=\"8161\"/>\n        </bean>\n      </list>\n    </property>\n\n    <property name=\"handler\">\n      <bean id=\"handlers\"\n           class=\"org.mortbay.jetty.handler.HandlerCollection\">\n        <property name=\"handlers\">\n          <list>\n             <bean id=\"contexts\"\n              class=\"org.mortbay.jetty.handler.ContextHandlerCollection\">\n               <property name=\"handlers\">\n                 <list>\n                   <bean class=\"org.mortbay.jetty.webapp.WebAppContext\">\n                     <property name=\"contextPath\" value=\"/admin\"/>\n                     <property name=\"resourceBase\" value=\"${activemq.base}/webapps/admin\"/>\n                     <property name=\"logUrlOnStart\" value=\"true\"/>\n                   </bean>\n                   <bean class=\"org.mortbay.jetty.webapp.WebAppContext\">\n                     <property name=\"contextPath\" value=\"/camel\"/>\n                     <property name=\"resourceBase\" value=\"${activemq.base}/webapps/camel\"/>\n                     <property name=\"logUrlOnStart\" value=\"true\"/>\n                   </bean>\n                   <bean class=\"org.mortbay.jetty.webapp.WebAppContext\">\n                     <property name=\"contextPath\" value=\"/demo\"/>\n                     <property name=\"resourceBase\" value=\"${activemq.base}/webapps/demo\"/>\n                     <property name=\"logUrlOnStart\" value=\"true\"/>\n                   </bean>\n                   <bean class=\"org.mortbay.jetty.webapp.WebAppContext\">\n                     <property name=\"contextPath\" value=\"/fileserver\"/>\n                     <property name=\"resourceBase\" value=\"${activemq.base}/webapps/fileserver\"/>\n                     <property name=\"logUrlOnStart\" value=\"true\"/>\n                   </bean>\n                 </list>\n               </property>\n             </bean>\n          </list>\n        </property>\n      </bean>\n    </property>\n</bean>\n{code}\n\nWe plan to upgrade to Jetty 7 soon (so we can use their web socket implementation). They changed they XBean implementation and unfortunately it is not yet ready. I'm planning to help this happen soon, so we can upgrade to Jetty7 and Spring 3.0 simultaneously. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-01-04T13:34:09.331+0000","updated":"2010-01-04T13:34:09.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483172/comment/12942021","id":"12942021","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amarcute","name":"amarcute","key":"amarcute","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nadhamuni Reddy","active":true,"timeZone":"Etc/UTC"},"body":"<tx:annotation-driven transaction-manager=\"txManager\" /> is also not getting parsed by the parser even after including the correct name space and everything required.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amarcute","name":"amarcute","key":"amarcute","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nadhamuni Reddy","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-18T10:05:19.767+0000","updated":"2010-01-18T10:05:19.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483172/comment/12942290","id":"12942290","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Fixed with svn revision 916651","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-02-26T15:15:42.459+0000","updated":"2010-02-26T15:15:42.459+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2547/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0rpvz:"}}