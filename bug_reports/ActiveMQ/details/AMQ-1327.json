{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483403","self":"https://issues.apache.org/jira/rest/api/2/issue/12483403","key":"AMQ-1327","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315630","id":"12315630","description":"Issues that need to be reviewed - do we keep 'em or do we kick 'em? ","name":"NEEDS_REVIEW","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2009-11-19T22:09:27.078+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 29 21:16:15 UTC 2012","customfield_12310420":"95751","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_169529447345_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-11-29T21:16:15.437+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1327/watchers","watchCount":2,"isWatching":false},"created":"2007-07-17T17:45:28.126+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-11-29T21:16:15.470+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"Toplogy:                \n     A network of brokers (3 or more brokers) in a star configuration, each broker interconnected to all other brokers in the network.   \n\nDiscovery:             \n   This problem happens with both static connection and auto-discovery through multi-cast\n\nBroker Conf File:  All brokers have a simple configuration as the one below: \n    <beans>\n      <broker brokerName=\"sender\" persistent=\"false\" useJmx=\"false\" xmlns=\"http://activemq.org/config/1.0\">\n        <transportConnectors>\n          <transportConnector uri=\"tcp://localhost:62001\" />\n        </transportConnectors>\n        <networkConnectors>\n          <networkConnector uri=\"static:(tcp://localhost:62002,tcp://localhost:62003,tcp://localhost:62004)\"/>\n        </networkConnectors>\n        <persistenceAdapter>\n          <memoryPersistenceAdapter/>\n        </persistenceAdapter>\n      </broker>\n    </beans>\n\nHow to reproduce:\n    1. Start three brokers with names A, B, and C at port 62001, 62002, and 62003 respectively.\n    2. Kill broker C (or any of the three brokers) via CTRL-C.  Observe the other borkers now gets into recovery mode trying to reconnect to C\n    3. Restart C.  Notice one of both of the remaining brokers (i.e. A and B) now throws InvalidClientIDException exception.  If it does not happen the first\n        time, repeat until the exception occurs.   \n\nWhen the exception happens, C can no longer join the broker network. The only way to recover is to shutdown and restart all three brokers.\n\nThis does not seem to happen when there are only two brokers involved.  It happens predictably in my environment when more then two brokers are involved.\n\n\n     ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59855","customfield_12312823":null,"summary":"Unable to rejoin a failed broker to the broker network","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksusweep","name":"ksusweep","key":"ksusweep","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Su","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksusweep","name":"ksusweep","key":"ksusweep","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Su","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Cygwin in Windows XP; JDK 1.6.0_01-b06, ActiveMQ 5.0 snapshot (rev. 551727)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483403/comment/12941846","id":"12941846","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=helena","name":"helena","key":"helena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Helena Edelson","active":true,"timeZone":"Etc/UTC"},"body":"I am wondering if the reproduction of this is not equal to the original error? What I mean is, is a true broker failure testable as a broker shutdown?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=helena","name":"helena","key":"helena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Helena Edelson","active":true,"timeZone":"Etc/UTC"},"created":"2009-11-19T22:09:27.078+0000","updated":"2009-11-19T22:09:27.078+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483403/comment/12941849","id":"12941849","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"I recall an issue resolution that made 5.3 w.r.t the timing of bridge shutdown events. It would be interesting to know it this issue persists with 5.3.0 and if so a stack trace of the InvalidClientIDException would be most useful. thx.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2009-11-20T12:43:20.867+0000","updated":"2009-11-20T12:43:20.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483403/comment/13506807","id":"13506807","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No test case provided and reported version is very old.  A test case to run against a current broker would be required if this is still an issue, ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-11-29T21:16:15.451+0000","updated":"2012-11-29T21:16:15.451+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1327/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0am3z:"}}