{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483609","self":"https://issues.apache.org/jira/rest/api/2/issue/12483609","key":"AMQ-2362","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-08-11T19:45:34.998+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 20 11:01:34 UTC 2011","customfield_12310420":"60056","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_62110152963_*|*_6_*:*_2_*:*_3424234517_*|*_4_*:*_1_*:*_324860","customfield_12312321":null,"resolutiondate":"2011-09-20T11:01:34.385+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2362/watchers","watchCount":2,"isWatching":false},"created":"2009-08-22T22:56:22.062+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315619","id":"12315619","description":"","name":"5.2.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-09-20T11:01:34.394+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"This seems to be a very wierd issue which came on the production env.\n\nSet up- we are using one broker which is in our inside zone and many producers and consumers started in different applications,both in the internal zone and in the DMZ, to connect to the broker.\n\nWe were using 4.1 active mq till last week on our production enviornment and were having some issues with the number of connections sometimes were getting increased and hence after quite a bit of testing we tried to move to the 5.2 active mq. So we migrated on Monday 17Aug at around 0500 hours IST and it worked fine till Friday 0840 hours IST and after that some listeners stopped working. The consumers were showing connected but they were not receiving any message from the broker. At the same time we saw some exception like this in the broker (please note - we used journal with jdbc)\n--------------------------------------------------------\n:23 JournalPersistenceAdapter - Failed to mark the Journal: org.apache.activeio.journal.InvalidRecordLocationException: The\nlocation is less than the last mark.\n org.apache.activeio.journal.InvalidRecordLocationException: The location is less than the last mark.\n       at org.apache.activeio.journal.active.JournalImpl.setMark(JournalImpl.java:340)\n      at org.apache.activemq.store.journal.JournalPersistenceAdapter.doCheckpoint(JournalPersistenceAdapter.java:416)\n       at org.apache.activemq.store.journal.JournalPersistenceAdapter$1.iterate(JournalPersistenceAdapter.java:121)\n       at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\n       at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n       at java.lang.Thread.run(Unknown Source)\n---------------------------------------------------------------------------------------------------------\n\nWe then restarted the broker a few times (even deleted the journal and the mesasges from DB as we did not wanted to process old messages in the system) and then this started working. Now a problem of duplicate messages started coming and checking for the net we got one fuse solution..\"5.2.0.1-fuse\" and we patched this release at around 1730 Hours Friday 21 Aug IST. Also for checking purpose we also changed our persistent strategy to AMP\nusing the following \n<persistenceAdapter>\n            <amqPersistenceAdapter syncOnWrite=\"false\" directory=\"./activemq-data\" maxFileLength=\"100 mb\"/>\n        </persistenceAdapter>\n        \n. This worked fine (note- with considerable better performance) till around 2345 hours Friday 21 Aug IST and then again we started facing the same read location issue and our listeners stopped getting message. (Please note - Not all the listeners stopped. Somehow only the listeners in the DMZ zone stopped. In the same application the producers (based on the pooled connection factory) were working fine. Again in the broker the same error was being seen\n-------------------------------------------------------------------------------------------------------------\n:23 JournalPersistenceAdapter - Failed to mark the Journal: org.apache.activeio.journal.InvalidRecordLocationException: The\nlocation is less than the last mark.\n org.apache.activeio.journal.InvalidRecordLocationException: The location is less than the last mark.\n       at org.apache.activeio.journal.active.JournalImpl.setMark(JournalImpl.java:340)\n      at org.apache.activemq.store.journal.JournalPersistenceAdapter.doCheckpoint(JournalPersistenceAdapter.java:416)\n       at org.apache.activemq.store.journal.JournalPersistenceAdapter$1.iterate(JournalPersistenceAdapter.java:121)\n       at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\n       at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n       at java.lang.Thread.run(Unknown Source)\n------------------------------------------------------------------------------------------------------------------------------------------------\n\nNow we tried to restart the broker but we got some OOM issues - probably because of the Amq persistence Adapter and hence we reverted back to our normal journal and jdbc approach and started the broker. Our listener then connected fine and started working. This was around 0300hours IST on Saturday 22 Aug. It worked fine perfectly till about Saturday 22 Aug 2345 hours IST when again we started seeing the following errors in the broker\n\n----------------------------------------------------------------------------------------------------------------------------------------------\n [ERROR] 00:12:22 JournalPersistenceAdapter - Failed to mark the Journal: org.apache.activeio.journal.InvalidRecordLocationException: The location is less than the last mark.\nINFO   | jvm 1    | 2009/08/23 00:12:23 | org.apache.activeio.journal.InvalidRecordLocationException: The location is less than the last mark.\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activeio.journal.active.JournalImpl.setMark(JournalImpl.java:340)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.store.journal.JournalPersistenceAdapter.doCheckpoint(JournalPersistenceAdapter.java:416)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.store.journal.JournalPersistenceAdapter$1.iterate(JournalPersistenceAdapter.java:121)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at java.lang.Thread.run(Unknown Source)\nINFO   | jvm 1    | 2009/08/23 00:12:23 | [ERROR] 00:12:23 JournalPersistenceAdapter - Failed to mark the Journal: org.apache.activeio.journal.InvalidRecordLocationException: The location is less than the last mark.\nINFO   | jvm 1    | 2009/08/23 00:12:23 | org.apache.activeio.journal.InvalidRecordLocationException: The location is less than the last mark.\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activeio.journal.active.JournalImpl.setMark(JournalImpl.java:340)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.store.journal.JournalPersistenceAdapter.doCheckpoint(JournalPersistenceAdapter.java:416)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.store.journal.JournalPersistenceAdapter$1.iterate(JournalPersistenceAdapter.java:121)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nINFO   | jvm 1    | 2009/08/23 00:12:23 |       at java.lang.Thread.run(Unknown Source)\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nand again our listeners stopped picking up messages. Now again we tried to restart the broker and then the client but to no avail. Even we tried to put the broker on the debug mode (logging) and see if we get any errors but none were seen. By the ways the listener did not started picking up the message. So in such desparate situations we tried the following things\na) Restarting broker and client again and again - but to no avail\nb) change back to Amq persistent stragtegy but again to no avail - we got this log in the broker log file\n-------------------------------------\nINFO   | jvm 1    | 2009/08/23 02:36:01 | [ERROR] 02:36:01 AbstractStoreCursor - Failed to fill batch\nINFO   | jvm 1    | 2009/08/23 02:36:01 | java.io.IOException: Failed to read to journal for: offset = 692, file = 1, size = 0, type = 0. Reason: java.io.IOException: Invalid location: offset = 692, file = 1, size = 0, type = 0, : java.lang.NegativeArraySizeException\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:33)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.amq.AMQPersistenceAdapter.createReadException(AMQPersistenceAdapter.java:647)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.amq.AMQPersistenceAdapter.readCommand(AMQPersistenceAdapter.java:533)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.amq.AMQMessageStore.getMessage(AMQMessageStore.java:435)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.amq.RecoveryListenerAdapter.recoverMessageReference(RecoveryListenerAdapter.java:54)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.kahadaptor.KahaReferenceStore.recoverReference(KahaReferenceStore.java:82)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.kahadaptor.KahaReferenceStore.recoverNextMessages(KahaReferenceStore.java:120)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.amq.AMQMessageStore.recoverNextMessages(AMQMessageStore.java:533)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:75)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:227)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:100)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.Queue.doPageIn(Queue.java:1179)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:237)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:275)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.RegionBroker.addConsumer(RegionBroker.java:372)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.advisory.AdvisoryBroker.addConsumer(AdvisoryBroker.java:83)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.MutableBrokerFilter.addConsumer(MutableBrokerFilter.java:93)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.TransportConnection.processAddConsumer(TransportConnection.java:541)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.command.ConsumerInfo.visit(ConsumerInfo.java:345)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:305)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:179)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:143)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:206)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:84)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:203)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:185)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at java.lang.Thread.run(Unknown Source)\nINFO   | jvm 1    | 2009/08/23 02:36:01 | Caused by: java.io.IOException: Invalid location: offset = 692, file = 1, size = 0, type = 0, : java.lang.NegativeArraySizeException\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.kaha.impl.async.DataFileAccessor.readRecord(DataFileAccessor.java:94)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.kaha.impl.async.AsyncDataManager.read(AsyncDataManager.java:624)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.store.amq.AMQPersistenceAdapter.readCommand(AMQPersistenceAdapter.java:530)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 ... 29 more\nINFO   | jvm 1    | 2009/08/23 02:36:01 | [ERROR] 02:36:01 AbstractStoreCursor - Failed to fill batch\nINFO   | jvm 1    | 2009/08/23 02:36:01 | java.lang.RuntimeException: java.io.IOException: Failed to read to journal for: offset = 692, file = 1, size = 0, type = 0. Reason: java.io.IOException: Invalid location: offset = 692, file = 1, size = 0, type = 0, : java.lang.NegativeArraySizeException\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:230)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:100)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.Queue.doPageIn(Queue.java:1179)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:237)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:275)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.region.RegionBroker.addConsumer(RegionBroker.java:372)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.advisory.AdvisoryBroker.addConsumer(AdvisoryBroker.java:83)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.MutableBrokerFilter.addConsumer(MutableBrokerFilter.java:93)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.TransportConnection.processAddConsumer(TransportConnection.java:541)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.command.ConsumerInfo.visit(ConsumerInfo.java:345)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:305)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:179)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)\nINFO   | jvm 1    | 2009/08/23 02:36:01 |                 \n----------------------------------------------------------------------------------\n\nNow it was around 0300 hours on Sunday 23 Aug IST and we were loosing time. So just in some silly mind we tried to revert back to 4.1 Active mq leaving other things untouched..And to a matter of disbeleif it started working. And the listeners started picking up messages (Even old one from the DB were picked  - whcih means 5.2 is backward compliant as well) and it worked fine.\n\nWe are now seriously considering not to take any change with any other version of Active MQ other than 4.1. Please advice if we are doing somehting wrong here. Also i am attaching both my activemq.xml from 5.2 and 4.1\n\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59032","customfield_12312823":null,"summary":"ActiveMQ5.2 - Some listeners stopped getting messages. Even after restart of the broker/client the messages were not getting picked. Then we stopped ActiveMQ 5.2 and started Active mq 4.1 (we migrated some one week back) and then client and it worked","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kush.srivastava","name":"kush.srivastava","key":"kush.srivastava","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kanonymous","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kush.srivastava","name":"kush.srivastava","key":"kush.srivastava","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kanonymous","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"linux 32 bit -2.6.18-92.el5 i686 i686 i386 GNU/Linux-, jre1.6.0_10","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483609/comment/12941371","id":"12941371","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kush.srivastava","name":"kush.srivastava","key":"kush.srivastava","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kanonymous","active":true,"timeZone":"Etc/UTC"},"body":"would attach the xmls tomorrow..as its not getting attached this time..here is a snippet of those\n\n------------------------------------------------------------------------------------------------------------------------\n4.1\n    <destinationPolicy>\n      <policyMap><policyEntries>\n        \n          <policyEntry topic=\"FOO.>\">\n            <dispatchPolicy>\n              <strictOrderDispatchPolicy />\n            </dispatchPolicy>\n            <subscriptionRecoveryPolicy>\n              <lastImageSubscriptionRecoveryPolicy />\n            </subscriptionRecoveryPolicy>\n          </policyEntry>\n\n      </policyEntries></policyMap>\n    </destinationPolicy>\n  \n  \n    <persistenceAdapter>\n      <!--\n       <journaledJDBC journalLogFiles=\"5\" dataDirectory=\"./activemq-data\"/>\n       -->\n      <!-- To use a different datasource, use the following syntax : -->\n      <!-- \n      <journaledJDBC journalLogFiles=\"5\" dataDirectory=\"../activemq-data\" dataSource=\"#postgres-ds\"/>\n      -->\n      <journaledJDBC journalLogFiles=\"5\" dataDirectory=\"./activemq-data\" dataSource=\"#oracle-ds\"/>\n       \n    </persistenceAdapter>\n  \n    <transportConnectors>\n       <transportConnector name=\"openwire\" uri=\"tcp://brokerIP:60010\" />\n    </transportConnectors>\n    \n----------------------------------------------------------------------------------------------------------------------------\nin 5.2\n\n<destinationPolicy>\n            <policyMap>\n                <policyEntries>\n                    <policyEntry queue=\">\" memoryLimit=\"5mb\"/>\n                    <policyEntry topic=\">\" memoryLimit=\"5mb\">\n                        <dispatchPolicy>\n                            <strictOrderDispatchPolicy/>\n                        </dispatchPolicy>\n                        <subscriptionRecoveryPolicy>\n                            <lastImageSubscriptionRecoveryPolicy/>\n                        </subscriptionRecoveryPolicy>\n                    </policyEntry>\n                </policyEntries>\n            </policyMap>\n        </destinationPolicy>\n        \n        \n        \n\n\t\t <transportConnectors>\n            <transportConnector name=\"openwire\" uri=\"tcp://bokerIP:60010\"/> \n            \n        </transportConnectors>\n\n        <persistenceAdapter>\n            <journaledJDBC dataDirectory=\"./activemq-data\" dataSource=\"#oracle-ds\"/>\n        </persistenceAdapter>\n----------------------------------------------------------------------------------------------------------------------------------------------------------------------    \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kush.srivastava","name":"kush.srivastava","key":"kush.srivastava","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kanonymous","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-22T23:17:30.062+0000","updated":"2009-08-22T23:17:30.062+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483609/comment/13083434","id":"13083434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Reopen if problem still exists.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-08-11T19:45:34.998+0000","updated":"2011-08-11T19:45:34.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483609/comment/13108514","id":"13108514","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"reopen to set fix version to 5.6","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-20T10:56:09.529+0000","updated":"2011-09-20T10:56:09.529+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483609/comment/13108551","id":"13108551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"closing again with correct fix version","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-20T11:01:34.392+0000","updated":"2011-09-20T11:01:34.392+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2362/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ah13:"}}