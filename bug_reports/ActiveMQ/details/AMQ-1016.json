{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12481971","self":"https://issues.apache.org/jira/rest/api/2/issue/12481971","key":"AMQ-1016","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"parent":{"id":"12482227","key":"AMQ-1276","self":"https://issues.apache.org/jira/rest/api/2/issue/12482227","fields":{"summary":"need the spring.schemas file backporting to 4.1 to use the new 4.1.2 generated schema","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315617","id":"12315617","description":"","name":"5.0.0","archived":false,"released":true,"releaseDate":"2007-12-17"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-11-14T17:14:01.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jun 14 12:39:08 UTC 2007","customfield_12310420":"84501","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1293875000_*|*_5_*:*_3_*:*_6396248884_*|*_4_*:*_2_*:*_11861828936","customfield_12312321":null,"resolutiondate":"2007-06-14T00:55:18.820+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1016/watchers","watchCount":5,"isWatching":false},"created":"2006-10-30T17:49:26.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315613","id":"12315613","description":"","name":"4.1.0","archived":false,"released":true,"releaseDate":"2006-11-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aco","name":"aco","key":"aco","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Co","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-06-14T12:39:08.962+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_12310080":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10091","value":"Regression","id":"10091"}],"description":"Referring to the 4.1 RC1 posted by Hiram Chirino  Oct 06, here:\n  http://www.nabble.com/ActiveMQ-4.1-RC-1-tf2397970.html#a6686974\n\nThe META-INF file spring.schemas have the single line.\n\"http\\://activemq.org/config/1.0=file:/Users/chirino/sandbox/activemq-4.1/activemq-core/target/activemq.xsd\"\n\nNotice \"file:/\" and \"Users/chirino\". Referring to org.springframework.beans.factory.xml.PluggableSchemaResolver's javadoc: \"schema-location should also be a schema file in the classpath\", and that no-one can tell what structure I will have on my fs, this must be wrong. In addition, I most probably won't have a user name \"chirino\".\n\nPS: In addition, the doc at\n  http://www.activemq.org/site/how-do-i-embed-a-broker-inside-a-connection.html\nrefers as such:\n\nxmlns:amq=\"http://activemq.org/config/1.0\"\n .. and ..\nxsi:schemaLocation=\"http://activemq.org/config/1.0 http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-incubator-SNAPSHOT.xsd\"\n\nWouldn't it be nice if this was put at a better place than such a snapshot-build URI? It could be put where it will reside when 4.1 actually is out, w/o anyone being to angry about changes during the finalization period, I personally believe.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"254927","customfield_12312823":null,"summary":"4.1 RC1: META-INF/spring.schemas refers to building user \"file:/Users/chirino/\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"n/a","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938474","id":"12938474","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"$.01 :\n\nFind one thing that stands out:\n{noformat} \n<beans xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txmlns:tx=\"http://www.springframework.org/schema/tx\"\n\txmlns:amq=\"http://activemq.org/config/1.0\"\n\txsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n    http://www.springframework.org/schema/aop   http://www.springframework.org/schema/aop/spring-aop-2.0.xsd\n    http://www.springframework.org/schema/tx    http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\n    http://activemq.org/config/1.0              http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-incubator-SNAPSHOT.xsd\">\n{noformat} \n\nand btw, the \"http://activemq.org/config/1.0\" doesn't exist (404), and I don't quite get the \"1.0\" either. Why not do as spring itself does, like \"http://apache.org/schema/amq\" and have a file \"activemq-amq-4.x.xsd\" or somehting there?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2006-10-30T18:03:03.000+0000","updated":"2006-10-30T18:03:03.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938543","id":"12938543","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"body":"Fix applied in trunk rev 474872 and in 4.1 branch rev 474876","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"created":"2006-11-14T17:14:01.000+0000","updated":"2006-11-14T17:14:01.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936587","id":"12936587","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Just wanted to point out that in the 4.1 release, the line in question reads\n\n{code}http\\://activemq.org/config/1.0=file:/home/foconer/logicblaze/activemq-temp/activemq-4.1.0/activemq-core/target/activemq.xsd{code}\n\nThis is still very wrong, and additionally, with the current file residing at the {{http://people.apache.../activemq-core-4.1-incubator-SNAPSHOT.xsd}} location (refer to my first comment), the entire xbeans-stuff doesn't seem able to \"boot\" at all anymore, giving a huge exception:\n\n{code}\nException in thread \"main\" org.springframework.beans.factory.BeanDefinitionStoreException: Line 113 in XML document from class path resource [com/picorg/SpringPicorg.xml] is invalid; nested exception is org.xml.sax.SAXParseException: cvc-complex-type.2.4.b: The content of element 'amq:transportConnector' is not complete. One of '{\"http://activemq.org/config/1.0\":broker, \"http://activemq.org/config/1.0\":brokerInfo, \"http://activemq.org/config/1.0\":discoveryAgent, \"http://activemq.org/config/1.0\":messageAuthorizationPolicy, \"http://activemq.org/config/1.0\":server, \"http://activemq.org/config/1.0\":taskRunnerFactory, WC[##other:\"http://activemq.org/config/1.0\"]}' is expected.\nCaused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.b: The content of element 'amq:transportConnector' is not complete. One of '{\"http://activemq.org/config/1.0\":broker, \"http://activemq.org/config/1.0\":brokerInfo, \"http://activemq.org/config/1.0\":discoveryAgent, \"http://activemq.org/config/1.0\":messageAuthorizationPolicy, \"http://activemq.org/config/1.0\":server, \"http://activemq.org/config/1.0\":taskRunnerFactory, WC[##other:\"http://activemq.org/config/1.0\"]}' is expected.\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:131)\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:384)\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:318)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:410)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3165)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidComplexType(XMLSchemaValidator.java:3129)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3076)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:2978)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2121)\n\tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.emptyElement(XMLSchemaValidator.java:714)\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:377)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2740)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:645)\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:508)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\n\tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:77)\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:405)\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:357)\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:126)\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:142)\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:168)\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:113)\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:79)\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:94)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:294)\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:92)\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:77)\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:68)\n{code}\n\nThe spring config file in question used to boot.\n\nShouldn't there exist a proper, stable location with a proper schema for 4.1?!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-01-08T14:17:08.723+0000","updated":"2007-01-08T14:17:08.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936701","id":"12936701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Just to point out for any viewers of this bug that have the same problem with AMQ 4.1: it seems like if you exchange the location URL with\n\n{code}\nhttp://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.2-incubator-SNAPSHOT.xsd\n{code}\n\n.. it works again. (That is, the AMQ version 4.1 sems to work xbeans-style better with the devel 4.2 schema).\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-01-08T14:39:33.799+0000","updated":"2007-01-08T14:39:33.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936609","id":"12936609","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Now the 4.2 SNAPSHOT version doesn't work either.\n\nI've now put a 4.1-working version here (its a 4.2 SNAPSHOT version that I apparently downloaded 2007-01-08, according to its timestamp):\n  http://picorg.net/schema/activemq-4.1-working-V4.2.xsd\n\nHopefully the maintainers of ActiveMQ at some point will understand and fix this rather big problem.\n\nBy exchanging the xsi:schemaLocation URL with that one, I got both Eclipse to be happy, and my app to actually boot.\n\nNOTE: I will not promise that I'll leave that file there forever, so don't go production with it.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-01-19T14:55:57.563+0000","updated":"2007-01-19T14:55:57.563+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936680","id":"12936680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alewando","name":"alewando","key":"alewando","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Lewandowski","active":true,"timeZone":"America/New_York"},"body":"This issue is not resolved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alewando","name":"alewando","key":"alewando","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Lewandowski","active":true,"timeZone":"America/New_York"},"created":"2007-01-19T15:10:07.618+0000","updated":"2007-01-19T15:10:07.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936626","id":"12936626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Nice to see it reopened. At least the next versions, both 4.2 and 4.1.1 should have this fixed.\n\nHere's a link to a post that describes the different problems, again referring to some more posts:\n\nhttp://www.nabble.com/Re%3A-Issues-configuring-ActiveMQ-in-spring-context-file-p8450503.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-01-19T15:40:25.085+0000","updated":"2007-01-19T15:40:25.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938836","id":"12938836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"So I've just double checked both the 4.1-SNAPSHOT (which will become 4.1.1 very soon) and 4.2-SNAPSHOT releases. Both of them are the same, the value of spring.schemas is...\n\nhttp\\://activemq.org/config/1.0=activemq.xsd\n\nand inside the activemq-core.jar is the file activemq.xsd. i.e. so Spring will load the XSD from the jar rather than relying on some external canonical URL.\n\nIncidentally if you want to double check this,  I used the distros from 6th May 2007 from the maven repo...\n\nhttp://people.apache.org/repo/m2-snapshot-repository/org/apache/activemq/apache-activemq/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-07T18:15:36.604+0000","updated":"2007-03-07T18:15:36.604+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938896","id":"12938896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alewando","name":"alewando","key":"alewando","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Lewandowski","active":true,"timeZone":"America/New_York"},"body":"Sorry to re-open this issue again, but Spring's entity resolver won't attempt to resolve the systemid (\"http://activemq.org/config/1.0\" in this case) unless it ends with '.xsd' or '.dtd'.  See org.springframework.beans.factory.xml.DelegatingEntityResolver\n\nTo fix this, change spring.schemas to read something like:\n\nhttp\\://activemq.org/config/1.0/activemq.xsd=activemq.xsd\n\nand use \"http://activemq.org/config/1.0/activemq.xsd\" as the systemid in the schemaLocation declaration of the app context xml.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alewando","name":"alewando","key":"alewando","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Lewandowski","active":true,"timeZone":"America/New_York"},"created":"2007-03-15T21:03:38.736+0000","updated":"2007-03-15T21:03:38.736+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938869","id":"12938869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"OK - we can change the schema namespace in 4.2.0 to resolve this but unfortunately this will have to remain unfixed for 4.1.1 (as its a bug fix release and we can't break backwards compatibilitiy)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-16T07:51:46.369+0000","updated":"2007-03-16T07:51:46.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938915","id":"12938915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"That's a _pretty darn_ moot point, as it doesn't work at all as it stands.\n\nI must say I really don't understand the point of Active MQ \"implementing\" the Spring/Xbeans combo when there is no drive at all to actually make the shit work.\n\nI have several hundred requests per week from \"browser: Java\" to the file I've posted some comments ago - an extremely hacky solution - this due to the fact that the ActiveMQ maintainers repeatedly ignores the problem, and apparently refuses to put up a schema on some permanent location that actually works.\n\nI just can't fathom why, and really makes me wonder about the whole thing..","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-03-16T08:20:39.730+0000","updated":"2007-03-16T08:20:39.730+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938948","id":"12938948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ojs","name":"ojs","key":"ojs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Oliver Siegmar","active":true,"timeZone":"Etc/UTC"},"body":"See my comments on http://www.nabble.com/Is-any-working-%27Spring-2.0.1-%2B-Lingo-1.3-%2B-ActiveMQ-4.1-final%27-configuration-out-there--tf3127903.html - AMQ currently is just unusable for many.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ojs","name":"ojs","key":"ojs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Oliver Siegmar","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-16T08:46:12.876+0000","updated":"2007-03-16T08:46:12.876+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938861","id":"12938861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"body":"You have to realized that the namspace is used by the default xbean application that is used to load the stand alone broker.  And Yes that IS working.\nSo we change the namespace, then all the existing configuration files out there would stop working as the xbean loader would no longer work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chirino","name":"chirino","key":"chirino","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chirino&avatarId=12659","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chirino&avatarId=12659","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chirino&avatarId=12659","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chirino&avatarId=12659"},"displayName":"Hiram Chirino","active":true,"timeZone":"America/New_York"},"created":"2007-03-16T14:49:14.773+0000","updated":"2007-03-16T14:49:14.773+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938887","id":"12938887","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cgs","name":"cgs","key":"cgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christopher G. Stach II","active":true,"timeZone":"Etc/UTC"},"body":"Even if it was unusable, why couldn't one:\n\n1. Patch AMQ so it works for them\n2. Write an EntityResolver\n3. Configure it another way","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cgs","name":"cgs","key":"cgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christopher G. Stach II","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-16T15:03:21.929+0000","updated":"2007-03-16T15:03:21.929+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936523","id":"12936523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Hiram: why won't you at least put a working schema for your _released_ version of AMQ on a permanent, stable location, with documentation on the AMQ site that actually will work (using the correct, stable schema)?\n\nChristopher: I've already provided a hack for people that swing by this bug. The opinions you air are absolutely uninteresting.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-03-16T15:26:38.209+0000","updated":"2007-03-16T15:26:38.209+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938945","id":"12938945","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ge0ffrey.desmet","name":"ge0ffrey.desmet","key":"ge0ffrey.desmet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Geoffrey De Smet","active":true,"timeZone":"Etc/UTC"},"body":"Hiram, I don't believe the namespace need to be changed - as I didn't need to in my workaround.\n\nThere are 2 issues:\n\n1) MINOR: an official, stable, working url with the xsd for each release.\nSo Eclipse/Intellij can fetch it and do code completion. It's not needed at runtime.\nTill then someone makes one, this one seems to work (but can break at any time as the helpfull person who put it up said)\nhttp://picorg.net/schema/activemq-4.1-working-V4.2.xsd\n\n2) CRITICAL: that xsd inside the jar and a spring.schemas files which couples\nthe official url to that xsd in the jar. It is needed at runtime.\nNotice that the namespace \"http://activemq.org/config/1.0\" isn't affected.\n\nWorkaround for this issue\n=====================\n\nDefine this in your spring context - you might wanna use a more trustworty url of your own:\n\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \n  http://activemq.org/config/1.0 http://picorg.net/schema/activemq-4.1-working-V4.2.xsd\">\n\nMake a resource in your jar:\n  /org/apache/activemq/patch/activemq-4.1-working-V4.2.xsd\nand copy the contents from that online xsd in it.\n\nMake a resource in your jar:\n  /META-INF/spring.schemas\nand copy the following contents in it:\n  http\\://picorg.net/schema/activemq-4.1-working-V4.2.xsd=org/apache/activemq/patch/activemq-4.1-working-V4.2.xsd\n\nPitfall: notice the  \\ in front of the : of http://\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ge0ffrey.desmet","name":"ge0ffrey.desmet","key":"ge0ffrey.desmet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Geoffrey De Smet","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-23T09:51:32.976+0000","updated":"2007-03-23T09:51:32.976+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938895","id":"12938895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ge0ffrey.desmet","name":"ge0ffrey.desmet","key":"ge0ffrey.desmet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Geoffrey De Smet","active":true,"timeZone":"Etc/UTC"},"body":"With your jar, I don't mean a local version of the activemq jar, but your own jar/war which uses activemq","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ge0ffrey.desmet","name":"ge0ffrey.desmet","key":"ge0ffrey.desmet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Geoffrey De Smet","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-23T09:53:05.790+0000","updated":"2007-03-23T09:53:05.790+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938893","id":"12938893","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ge0ffrey.desmet","name":"ge0ffrey.desmet","key":"ge0ffrey.desmet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Geoffrey De Smet","active":true,"timeZone":"Etc/UTC"},"body":"Since this can be fixed without changing the namespace (so it doesn't affect the xbean implementation),\ncan it be pushed back for 4.1.1 or at least 4.1.2?\n\nIt blocks the use of ActiveMQ with Spring 2's schema support.\nFalling back on xbean is for many not an option if you're using spring's property placeholder support to configure port/host etc. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ge0ffrey.desmet","name":"ge0ffrey.desmet","key":"ge0ffrey.desmet","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Geoffrey De Smet","active":true,"timeZone":"Etc/UTC"},"created":"2007-04-02T15:12:57.721+0000","updated":"2007-04-02T15:12:57.721+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12938986","id":"12938986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alewando","name":"alewando","key":"alewando","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Lewandowski","active":true,"timeZone":"America/New_York"},"body":"I'm able to use placeholders with xbean. You just need to declare the configurer in the xbean config file:\n\nEx: activemq-brokers.xml:\n{code}\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- this file can only be parsed using the xbean-spring library -->\n<beans>\n\t<bean\n\t\tclass=\"org.springframework.beans.factory.config.PropertiesPlaceholderConfigurer\">\n\t\t<property name=\"location\"\n\t\t\tvalue=\"classpath:config/environment.properties\" />\n\t\t<property name=\"placeholderPrefix\" value=\"$jms{\" />\n\t</bean>\n\n\t<broker brokerName=clusterBroker$jms{nodeNumber}\" persistent=\"false\" useJmx=\"false\" start=\"false\"\n\t\txmlns=\"http://activemq.org/config/1.0\">\n\t\t<transportConnectors>\n\t\t\t<transportConnector uri=\"$jms{cluster.local.listener}\" />\n\t\t</transportConnectors>\n\n\t\t<networkConnectors>\n\t\t\t<networkConnector\n\t\t\t\turi=\"static:($jms{cluster.broker.urls})\" />\n\t\t</networkConnectors>\n\t</broker>\n\n</beans>\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alewando","name":"alewando","key":"alewando","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Lewandowski","active":true,"timeZone":"America/New_York"},"created":"2007-04-16T20:32:09.465+0000","updated":"2007-04-16T20:32:09.465+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936562","id":"12936562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aco","name":"aco","key":"aco","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Co","active":true,"timeZone":"Etc/UTC"},"body":"Working xsds can be found here:\n5.0 - http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-5.0-SNAPSHOT.xsd\n4.1 - http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-SNAPSHOT.xsd\n\nHopefully, a stable release (i.e. without the SNAPSHOT will be made available after the release).\n\nA sample spring config can be found here: http://svn.apache.org/repos/asf/activemq/trunk/activemq-core/src/test/resources/spring-embedded-xbean.xml","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aco","name":"aco","key":"aco","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Co","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T00:55:18.791+0000","updated":"2007-06-14T00:55:18.791+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936566","id":"12936566","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Those URLs looks REALLY pathetic. Seriously, are you proposing that you put a \"final and stable release\" of a configuration schema at an address that starts with \"people.apache.org\"?? And which is that extremely long-winded, with lots utterly schema-unrelated data?\n\nWhy can't you come up with something along the lines of \"http://schemas.apache.org/activemq/amctivemq-5.0.xsd\", at the MOST? Something that looks like you've at least put one cent into doing this the right way? Look at ANY OTHER schema definition on the entire internet, and you'll find that yours are .. non-good.\n\nYou folks apparently desperately wants the distribution of this file to be so automated and nice and cool. That is a very flawed logic. The URL you now propose is no better than the one that this whole shit started off with, and with later releases, you'll fsck this up again, and installations around the world will start to bomb out.\n\nAnd finally, you do realize that this element is this bug's \"secondary aspect\" - the first is that there really RUNTIME-wise shouldn't be need for such a proper and stable URL at all (obviously), since Spring (with xbeans) have this feature where it will look it up in the classpath, using the META-INF/spring.schemas system (so that my offline application using your system will be able to boot without being hooked up to the internet).\n\nSimply read the bug, starting with the initial description, then going through the dozen or so comments above, and you'll be informed.\n\nHow you are able to close this bug with that comment is actually frightening.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-06-14T07:30:51.295+0000","updated":"2007-06-14T07:30:51.295+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936574","id":"12936574","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Thanks Endre for your comments; your tone really helps encourage those volunteers on the project to use our spare time to help you out :)\n\nNote that the public URL is not required; as you say that Spring can use the one from inside the jar. The public URI is only required if folks want to use it for some XSD editing tool. \nWe're also talking about the internet too; folks can easily put that XSD wherever they like, on their hard drive, on their own server at whatever URL floats their boat.\n\nI realise we should have a nice short URL for all versions of the schema. Its not quite trivial to do that at Apache so please bear with us. \n\nWe could add some redirects here...\nhttps://svn.apache.org/repos/asf/activemq/site/.htaccess\n\nif anyone fancies figuring out the .htaccess ninja to make a nice URI of the form something like\n\nhttp://activemq.apache.org/schemas/activemq-$VERSION.xsd\n\nam gonna split this thing up as a separate JIRA","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T08:38:33.302+0000","updated":"2007-06-14T08:38:33.302+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936536","id":"12936536","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"OK so the XSDs should soon be appearing here...\n\nhttp://activemq.apache.org/schema/\n\nfor example\n\n\nhttp://activemq.apache.org/schema/activemq-core-5.0.xsd\n\n(when we do the release).\n\nUntil then it'll be\n\nhttp://activemq.apache.org/schema/activemq-core-5.0-SNAPSHOT.xsd\n\netc","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T08:57:48.044+0000","updated":"2007-06-14T08:57:48.044+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936641","id":"12936641","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"So this issue was caused by multiple things. \n\n* Bad XSDs caused by a bug in XBean; which AFAIK is now fixed, the generated XSDs are now valid right?\n* lousy URLs for the XSDs, which should now be fixed (once Apache's caching infrastructure spots the new files)\n* Spring unable to find the embedded XSD which is inside the activemq-core.jar\n\nAm unsure how to resolve the last item without changing the namespace. Ideally if we can, we'd avoid changing the namespace (then the fix can be applied to 4.1.x and 5.0). \nSure we could write our own EntityResolver, but I've no idea how to automatically register it so its always available to Spring; given that Spring is in charge, loads its ApplicationContext and we have to fit inside its callback stuff mid-parse.\n\nAm wondering if the simplest solution is to change the namespace URI to end in \".xsd\"? Maybe to http://activemq.apache.org/schema/activemq-core.xsd?\n\nIf anyone knows how to resolve this last issue nicely with using pure Spring I'd be most grateful. Endre - any ideas? Do you think the namespace URI really has to change?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T09:04:47.767+0000","updated":"2007-06-14T09:04:47.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936617","id":"12936617","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"A few more thoughts. The ideal solution to the issue might be to keep backwards compatibility of the namespace URI; but to allow a cleaner URL thats more spring-like (and Apache-like) to be used. \nBTW its worth saying that the use of ActiveMQ's namespaces pre-dates both the move to Apache and the Spring 2 XML configuration stuff by quite a while so it was kinda hard to second guess how the spring 2.0 XML handling was gonna work!\n\nA more spring-like namespace might be\n\nhttp://activemq.apache.org/schema/activemq-core\n\nfor the namespace URI which then maps to the physical release as...\n\nhttp://activemq.apache.org/schema/activemq-core-5.0.xsd\n\nThen it'd kinda seem more normal in an XML declaration...\n\n{code}\n<beans xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txmlns:tx=\"http://www.springframework.org/schema/tx\"\n\txmlns:amq=\"http://activemq.org/config/1.0\"\n\txsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n    http://www.springframework.org/schema/aop   http://www.springframework.org/schema/aop/spring-aop-2.0.xsd\n    http://www.springframework.org/schema/tx    http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\n    http://activemq.apache.org/schema/activemq-core     http://activemq.apache.org/schema/activemq-core-5.0.xsd\">\n{code}\n\nThoughts?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T09:16:37.727+0000","updated":"2007-06-14T09:16:37.727+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936571","id":"12936571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"BTW am wondering if the generated file spring.schemas \n\nhttp\\://activemq.org/config/1.0=activemq.xsd\n\nshould look like this\n\nhttp\\://activemq.org/config/1.0/1.0.xsd=activemq.xsd\n\nto work with spring's entity resolver thingy\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T09:28:07.539+0000","updated":"2007-06-14T09:28:07.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936567","id":"12936567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"DOH! Am thinking the spring.schemas file has nothing at all to do with the namespace URI at all; its purely to do with the XSD location!\n\nSo maybe something like this is better\n\n{code}\nhttp\\://activemq.apache.org/schema/activemq-core.xsd = activemq.xsd\nhttp\\://activemq.apache.org/schema/activemq-core-5.0.xsd = activemq.xsd\n{code}\n\nSo that the namespace URI does not have to change?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T09:49:41.685+0000","updated":"2007-06-14T09:49:41.685+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936443","id":"12936443","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"BTW the apache caching infrastructure seems to have spotted that those nicer schema URLs are working...\n\nhttp://activemq.apache.org/schema/activemq-core-5.0-SNAPSHOT.xsd\n\nor look at them all\n\nhttp://activemq.apache.org/schema/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T09:51:07.578+0000","updated":"2007-06-14T09:51:07.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936510","id":"12936510","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"One further change to the URL stuff. We need one directory for snapshots and one directory for actual releases.\n\nSo I've just updated the symlinks (which will take a few hours to refresh in the caching infrastructure) so that\n\nreleases of XSDs appear here...\nhttp://activemq.apache.org/schema/\n\nsuch as \nhttp://activemq.apache.org/schema/activemq-core-4.1.1.xsd\n\nand snapshot schemas appear here\nhttp://activemq.apache.org/snapshot-schema/\n\nsuch as \nhttp://activemq.apache.org/snapshot-schema/activemq-core-5.0-SNAPSHOT.xsd\n\nThe snapshots are a fair bit longer, but folks should usually be using the shorter, released XSDs\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T10:07:29.909+0000","updated":"2007-06-14T10:07:29.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936569","id":"12936569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"James: It is SO AMAZINGLY REFRESHING to see you on this, and just KICKING this rather longstanding bug outta here!\n\nSeriously - I think this has annoyed several people, and just stagnated others. The file I'm hosting as a \"fix\" to this is getting several hundred hits per week (admittedly not from that many different hosts! But still!).\n\nI saw you asked for ideas - is that still so? After that, you quickly added 4-5 more comments, so I'm not sure you need me anymore? :) Do also note that I think I've stated most of my knowledge on how this should be done on earlier comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-06-14T10:23:54.731+0000","updated":"2007-06-14T10:23:54.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936620","id":"12936620","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"Okay, here's a comment to something I spotted up there\n\nIn your \"Then it'd kinda seem more normal in an XML declaration...\", and a XML suggestion, there is, as I understand it, a rather serious flaw.\n\nThe idea is that the namespace declaration ??\"xmlns:amq=\"http://activemq.org/config/1.0\"?? must obviously match up with the later LOCATION declaration, which it doesn't do here: ??\"http://activemq.apache.org/schema/activemq-core     http://activemq.apache.org/schema/activemq-core-5.0.xsd\"??\n\nAlso, if you check out the URL's that spring itself uses, you'll see that BOTH of them actually resolve to something sane: the first is a unique URL that will never change - it states the \"scope\" of the declaration, and happens to point to a directory listing on a server, and the second is the actual \"instance\" of this declaration - i.e. \"use this specific file\" - which happens to be inside the former directory.\n\nAnd in the spring.schemas, you are correct in that it is a \"location\" or \"instance\" redirecter, not a namespace redirecter.\n\nI however wonder why you'd put the actual file \"directly on root\", and not put it inside one of the packages. Spring at least does this..\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-06-14T10:43:51.351+0000","updated":"2007-06-14T10:43:51.351+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936605","id":"12936605","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Hey Endre\n\nI think we're all on the same page; we all want to see an end to all these spring XML related bugs, issues and discussions :)\n\nI think I'm getting to the bottom of understanding this; apart from the various bugs mentioned above that are now resolved, I think a misunderstanding of the role of the spring.schemas file has caused some confusion & blind alleys.\nTo be fair quite a few folks dived in and tried to fix the various issues in this whole Spring XML namespaces thing; it turned out there was quite a few things going wrong etc.\n\nI think we're getting closer now.\n\ntrunk has a test case Spring2XmlNamespacesTest which uses this spring-embedded-xbean.xml\nwhich at the time of writing looks like this...\n\n{code}\n<beans \n  xmlns=\"http://www.springframework.org/schema/beans\" \n  xmlns:amq=\"http://activemq.org/config/1.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n  http://activemq.org/config/1.0 http://activemq.apache.org/snapshot-schema/activemq-core-5.0-SNAPSHOT.xsd\">\n{code}\n\nwhich works fine. Then there's Spring2XmlNamespacesWithoutRemoteSchemaTest which uses spring-embedded-xbean-noversion.xml which uses an XSD location that doesn't actually exist (rather like in spring using\nhttp://www.springframework.org/schema/beans/spring-beans.xsd without using the 2.0 version)\n\n{code}\n<beans \n  xmlns=\"http://www.springframework.org/schema/beans\" \n  xmlns:amq=\"http://activemq.org/config/1.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n  http://activemq.org/config/1.0 http://activemq.apache.org/schema/activemq-core.xsd\">\n{code}\n\nthis test case works too - showing that the spring.schemas is indeed finding the local activemq.xsd file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T11:06:07.901+0000","updated":"2007-06-14T11:06:07.901+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936595","id":"12936595","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"This is starting to look very good!\n\nIt would be nice if that \"schema-defintion URL\" (http://activemq.org/config/1.0) actually existed - and you do own that domain, so you can make it so, right? Maybe a little README.txt in there, or something cute?\n\nIf it is possible in the 5.0 release, then renaming the \"http://activemq.org/config/1.0\" to something along the lines of what spring does (read my comment above) would in addition simply LOOK very much more right and corrent, and give pedantic wankers like me those warm tingly feelings that only unifiedness, correctness and thoroughness can give! ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-06-14T11:15:27.080+0000","updated":"2007-06-14T11:15:27.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936639","id":"12936639","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"body":"Have followed spring's lead where the namespace URI points to the directory of the various versioned files. So in an hour or two the URL should work...\nhttp://activemq.org/config/1.0\n\nwhen Apache catches up :). Though activemq.org is a redirect to activemq.apache.org so it'll probably only work in browsers; but that should do right?\n\nHave also added a little ReadMe.html.\n\nI think it might be nice to change the namespace URL to something more spring like and Apache-ish for 5.0; its a bit of a pain for users but we could support backwards compatibility I guess...\n\nhave brought this (and a number of related issues) up on the dev list...\nhttp://www.nabble.com/Handling-XSDs-and-Spring-2-XML-processing-etc.-tf3921424s2354.html\n\nit might be worth jumping on there, as this JIRA is long and complex enough already :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jstrachan","name":"jstrachan","key":"jstrachan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"james strachan","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-14T12:26:04.803+0000","updated":"2007-06-14T12:26:04.803+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12481971/comment/12936591","id":"12936591","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"body":"That's really nice!\n\nIf it is a proper redirect, even other clients than browsers should be able to follow it - but that is really not that terribly important.\n\nYou could call the file \"index.html\" instead, so it'll just come directly up? Or maybe a dir-listing actually is good, so that one can see the different versions? Probably.. but isn't there an Apache HTTPD feature, whereby if you call a file README or something, it'll automatically be \"#included\" in the dir-listing?\n\nI've replied to the email, basically just stating the same opinions that I have here and in 1276. And I obviously agree with the \"spring-like and Apache-ish\" URI, but realize that my _opinion_ don't weigh very much when decision-time comes!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stolsvik","name":"stolsvik","key":"stolsvik","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Endre Stølsvik","active":true,"timeZone":"Europe/Oslo"},"created":"2007-06-14T12:39:08.786+0000","updated":"2007-06-14T12:39:08.786+0000"}],"maxResults":35,"total":35,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1016/votes","votes":6,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i180rr:"}}