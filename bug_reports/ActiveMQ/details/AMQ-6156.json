{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12936710","self":"https://issues.apache.org/jira/rest/api/2/issue/12936710","key":"AMQ-6156","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2016-02-04T14:39:00.702+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Feb 08 16:36:05 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_359816629_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2016-02-08T16:36:05.099+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6156/watchers","watchCount":3,"isWatching":false},"created":"2016-02-04T12:39:08.515+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329382","id":"12329382","name":"5.11.1","archived":false,"released":true,"releaseDate":"2015-02-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-02-08T16:36:05.140+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313893","id":"12313893","name":"Connector"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"I've implemented a JMS producer using org.apache.activemq.ActiveMQConnectionFactory API. In the deployment they are 10 threads launched and each thread invokes the following sequence of methods which wrap around the ActiveMQConnection API.\n\nconnector = new ActiveMQConnect();\nconnector.setEndPointURL(primaryURL, secondaryURL, connectorQueryString);\nconnector.setCredentials(userName, password);\nconnector.initializeConnection();\nconnector.setDestinationQueue(queueName);\nconnector.addMessageToQueue(message);\nconnector.sendMessageToQueue();\n\nThe call to initializeConnection in turn invokes the following code which returns the connection \n\n1) ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(m_userName, m_password, m_endPointUrl);\n2) m_queueConnection = connectionFactory.createConnection();\n3) m_queueConnection.start();\n\nHowever, (and potentially under load), a large % of the threads enter the parked state and stay there. The stack trace for these threads is as follows:\n\njava.lang.Thread.State: WAITING \n        at sun.misc.Unsafe.park(Native Method) \n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:118) \n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1841) \n        at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:341) \n        at org.apache.activemq.transport.FutureResponse.getResult(FutureResponse.java:40) \n        at org.apache.activemq.transport.ResponseCorrelator.request(ResponseCorrelator.java:80) \n        at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1195) \n        at org.apache.activemq.ActiveMQConnection.ensureConnectionInfoSent(ActiveMQConnection.java:1289) \n        at org.apache.activemq.ActiveMQConnection.start(ActiveMQConnection.java:456) \n        at ActiveMQConnect.initializeConnection(ActiveMQConnect.java:63) \n\n\nThe JMS producer connects using failover transport to an active/passive or primary/failover configuration.\n\nIs the problem being caused by the failover URL? The documentation seemed to indicate that the failover URL can be sent with format:\n\nfailover:(tcp://amq01:61616,tcp://amq02:61616)?queryString....\n\nWould appreciate any advice so I can resolve this issue.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"ActiveMQConnection threads in parked state during startup","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15132399","id":"15132399","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"This looks normal for any connect attempt that fails, the connection will block waiting for the failover transport to connect.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-04T14:39:00.702+0000","updated":"2016-02-04T14:39:00.702+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15132407","id":"15132407","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"body":"Hi Timothy,\n\nThat does not explain then why some threads connect and operate correctly while approx 60-70% of them become parked and parked permanently.\nWhat do you mean by \"waiting for the failover transport to connect\"? Its my understanding that in active/passive mode that the client will connect to active node initially and that based on the passive node in the failover URL, it will switch to the passive node if the active goes down. Is this correct understanding?\n\nThanks,\nGer.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-04T14:46:42.410+0000","updated":"2016-02-04T14:46:42.410+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15132418","id":"15132418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Not being in your environment I can't say exactly what is connecting to what but the client should attempt to connect to the salve broker once the master goes down.  You need to do some debugging in the logs to see what the clients are doing, they generally tell you what's up.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-04T15:00:42.850+0000","updated":"2016-02-04T15:00:42.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15134306","id":"15134306","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"body":"Hi Timothy,\n\nI've started making changes in respect of your comments above to my AMQ producer client to improve the failover transport handling.\nIn doing so I have added the following query parameters onto the failover URL\n\nfailover:(tcp://localhost:61616?startupMaxReconnectAttempts=10&timeout=1000,tcp://localhost:61616?startupMaxReconnectAttempts=10&timeout=1000)?maxReconnectAttempts=5&maxReconnectDelay=30000&randomize=false\n\nI am now getting an error where the connection fails due to incorrect connect parameters {startupMaxReconnectAttempts=10, timeout=1000}\nIf you would prefer I open a new case for this issue then let me know, but I am wondering if you've seen this before and have any ideas as to what is wrong - all parameters being passed are listed as transport parameters on the failover transport page: http://activemq.apache.org/failover-transport-reference.html\n\nThanks,\nGer.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T15:15:07.141+0000","updated":"2016-02-05T15:15:07.141+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15134321","id":"15134321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Your URI is incorrect, the failover options don't get applied to each TCP transport instance in the URI, try this:\n\n{noformat}\nfailover:(tcp://localhost:61616)?maxReconnectAttempts=5&maxReconnectDelay=30000&randomize=false&startupMaxReconnectAttempts=10&timeout=1000\n{noformat}\n\nI don't really know why you have the same address in there twice, no need for two {{tcp://localhost:61616}} addresses in there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-05T15:28:16.005+0000","updated":"2016-02-05T15:28:16.005+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15134369","id":"15134369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\n\nI also tried the format you suggest e.g. \nfailover:(tcp://localhost:61616)?maxReconnectAttempts=5&maxReconnectDelay=30000&startupMaxReconnectAttempts=3&timeout=1000&randomize=false\n\nThis is the error I get:\n\nInvalid connect parameters: {startupMaxReconnectAttempts=3, timeout=1000}\n\nThus the reason for me moving them onto the tcp transport URL. I had the double tcp localhost urls in their for primary/failover testing previously, so that can be ignored. According to the docs, the above should work.\n\nThoughts?\nGer.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T15:59:46.364+0000","updated":"2016-02-05T15:59:46.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15134423","id":"15134423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"body":"I've upgraded from 5.11.1 to 5.13.0 on suspicion that the error may have been because the failover transport parameter documentation only related to latest version. I also linked to the activemq-all.jar file from the 5.13.0 installation so as to ensure I was working with latest. I see the same outcome with invalid connect parameters as per URL above.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-05T16:36:16.324+0000","updated":"2016-02-05T16:36:16.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15134434","id":"15134434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Would need to check your tests, I just did this and it works as expected.  \n\n{code}\n    @Test\n    public void test() throws JMSException {\n\n        ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory(\n            \"failover:(tcp://localhost:61616)?\" +\n                \"maxReconnectAttempts=5&\" +\n                \"maxReconnectDelay=30000&\" +\n                \"startupMaxReconnectAttempts=3&\" +\n                \"timeout=1000&randomize=false\");\n\n        cf.createConnection().start();\n    }\n{code}\n\n{noformat}\n2016-02-05 11:42:21,719 [ActiveMQ Task-1] - ERROR FailoverTransport              - Failed to connect to [tcp://localhost:61616] after: 3 attempt(s)\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-05T16:44:28.281+0000","updated":"2016-02-05T16:44:28.281+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15137179","id":"15137179","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"body":"Hi Timothy,\n\nThe issue turned out to be a mixed activemq-all.jar file in my deployment environment. The jar is needed in multiple locations, so I'd not updated correctly and this left me with a mixed environment of 1.7.0_60 and 1.7.0_80 versioned jar files. I updated to the 1.7.0_80 version JAR files from the latest ActiveMQ and all works fine now. \n\nI have to place my implementation in a load environment to create the scenario where the threads get parked as shown above and I'm hoping new implementation details such as the parameters we talked about and a TransportListener implementation will improve the behavior of the client.\n\nThanks,\nGer.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gelawlor","name":"gelawlor","key":"gelawlor","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ger Lawlor","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-08T16:32:25.328+0000","updated":"2016-02-08T16:32:25.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12936710/comment/15137183","id":"15137183","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Thanks for closing the loop, will close this for now then and you can reopen if there is any further issue in this area.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2016-02-08T16:36:05.128+0000","updated":"2016-02-08T16:36:05.128+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-6156/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2sf53:"}}