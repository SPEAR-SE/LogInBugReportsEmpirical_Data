{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483876","self":"https://issues.apache.org/jira/rest/api/2/issue/12483876","key":"AMQ-2453","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315630","id":"12315630","description":"Issues that need to be reviewed - do we keep 'em or do we kick 'em? ","name":"NEEDS_REVIEW","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-01-15T14:04:50.775+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Sep 19 14:38:30 UTC 2013","customfield_12310420":"14733","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_22357100211_*|*_6_*:*_1_*:*_0_*|*_5_*:*_3_*:*_95735991039_*|*_4_*:*_3_*:*_6937566237","customfield_12312321":null,"resolutiondate":"2013-09-30T19:27:36.726+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2453/watchers","watchCount":5,"isWatching":false},"created":"2009-10-14T16:43:19.287+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315620","id":"12315620","description":"","name":"5.3.0","archived":false,"released":true,"releaseDate":"2009-10-13"}],"issuelinks":[{"id":"12398105","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12398105","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12745356","key":"AMQ-5378","self":"https://issues.apache.org/jira/rest/api/2/issue/12745356","fields":{"summary":"refactoring and simple testsuite for unix init script","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12336825","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12336825","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12495166","key":"HADOOP-7092","self":"https://issues.apache.org/jira/rest/api/2/issue/12495166","fields":{"summary":"Consolidate startup shell scripts","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype","name":"Task","subtask":false,"avatarId":21148}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-10-01T21:26:56.072+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10091","value":"Regression","id":"10091"}],"description":"The start-scripts \"activemq\" and \"activemq-admin\" do not seem to be ready for production use.\n\nReasons:\n- Server does not run in background\n  => this can be done by redirecting output to a file and run in background\n  => in my opinion this should be implemented directly in java\n  => the console log should be written by log4j to <install-root>/data/console.log\n- The process should be started on a non-root user \n  => use 'su -c \"$COMMAND\" - $RUN_AS_USER' \n  => this should be defined in /etc/activemq.conf\n- The script should support a \"reload\" feature to reload the configurartion\n  (if activemq supports reloading)\n- The script should support a \"status\" option\n  => this should show a quick overview about the state of activemq\n  => this should return a value != 0 if the service is not working\n     (this is important for cluster integration)\n\nDoes anybody already working on these items?\nDo you have suggestions for a implementation?\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461536","id":"12461536","filename":"activemq","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2009-12-02T17:48:52.404+0000","size":18384,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12461536/activemq"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12461569","id":"12461569","filename":"usage-example.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2009-11-11T17:53:39.304+0000","size":26181,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12461569/usage-example.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10042","value":"Patch Available","id":"10042"}],"customfield_12310921":null,"customfield_12310920":"59622","customfield_12312823":null,"summary":"start/control-script is not suitable for professional environments","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12941505","id":"12941505","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"I wrote a new initscript for running standalone activemq installations\n(see attached script).\n\nThis script is originally based on the scripts  \"activemq\" and\n\"activemq-admin\" located in\n\"assembly/src/release/bin/\" and replaces both scripts.\n\nRead \"usage-examples.txt\" for  getting a first impression of the initscript.\n\nFeatures of the new script:\n- the script should be compatible with cygwin, macosx and most linux and\nunix systems\n  To ensure compatibility to macosx and cygwin it does not utilize lsb\nstandard infrastructure for controlling daemons like\n  \"start-stop-daemon\".\n   (i tried to keep the shell-syntax compatible to most unix systems,\nbut only tested on SLES11 and Ubuntu 9.10)\n- the complete functionality if \"activemq-admin\" is now included in\n\"activemq\"\n  (list, query, browse, ...)\n- all option not implemented by the initscript, are directly passed to\nthe java-call\n- the configuration parameters can be located in\n/etc/default/activemq.conf or  $HOME/.activemqrc\n- the script supports operation of multiple instances on the same system\n  (if the script is symlinked/renamed to\n\"activemq-instance-<INSTANCENAME>\", the configuration\n  is searched on /etc/default/activemq-instance-<INSTANCENAME>.conf and\n$HOME/.activemqrc-instance-<INSTANCENAME>)\n- in case of syntax-errors in the configuration, the execution is stopped\n- a template configuration for the script can be created by using the\n\"setup\" option\n- activemq configuration- and data-dir (e.g. kahadb, tmpstorage) are\nconfigurable\n- configuration hints for jmx (because of non-available\n\"VirtualMachine.attach(PID)\", especially needed when using a ibm jvms)\n- improved shutdown procedure: script invokes shutdown by a jmx-request,\nif process does not disappear\n  after a configurable timeout, the process is killed by SIGKILL (-9)\n- start activemq daemon as an background process : option \"start\"\n- start activemq daemon without daemonizing the daemon: option \"fgstart\"\n- usage of PID files to determine running activemq instances\n- the \"status\" option, checks if there is a running activemq instance\n  (this is useful for using activemq with high-availability tools)\n- the script outputs usage-information if it is invoked without any option\n  (usage of the java binary combined with the script-usage)\n\nIn my opinion it would be good/nice:\n- if this script is will be tested on several unix-systems and on cygwin\n- to provide the possibility to configure the entire jmx-setup in\nactivemq.xml or jetty.xml\n  (if jetty provides this)\n- it would be nice if the java code supports daemonizing\n- if this script will be part of activemq, we should adapt the wiki pages\n\nFeedback and improvement ideas are very welcome :-)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2009-11-11T17:53:39.307+0000","updated":"2009-11-11T17:53:39.307+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12941605","id":"12941605","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Removed a typo","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2009-11-13T10:02:44.084+0000","updated":"2009-11-13T10:02:44.084+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12941824","id":"12941824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"- Enhanced function documentation\n- removed some typos ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2009-11-18T08:10:48.323+0000","updated":"2009-11-18T08:10:48.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12941907","id":"12941907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Relocated /etc/default/activemq.conf to /etc/default/activemq","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2009-12-02T17:48:52.481+0000","updated":"2009-12-02T17:48:52.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942016","id":"12942016","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"body":"Marc,\nthis is really great!\nQuestion - what do you mean by nice if java code supported daemonizing ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rajdavies","name":"rajdavies","key":"rajdavies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rajdavies&avatarId=13942","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rajdavies&avatarId=13942","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rajdavies&avatarId=13942","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rajdavies&avatarId=13942"},"displayName":"Rob Davies","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-15T14:04:50.775+0000","updated":"2010-01-15T14:04:50.775+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942013","id":"12942013","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dirkdk","name":"dirkdk","key":"dirkdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dirk de Kok","active":true,"timeZone":"Etc/UTC"},"body":"hi there,\n\nI had a short look a the script here and the activemq site (http://activemq.apache.org/unix-service.html). For me as a software engineer and not system engineer it is a bit difficult to say what the best way is, but this is my input:\n\n- process should run like a daemon in the background\n- process should do proper logging\n- process should be available for status checks (e.g. via jmx)\n- process should run like a specified user (e.g. activemq) and not root\n- should use PID file \n- should be possible to configure for automatic startup and shutdown\n\nWhat I miss right now (but might have overlooked):\n\n- example directory layout (where binaries, config files, startup script)\n- clear definition of responsibilities of files (controlling process, configuration, etc). Right now too much is in some files\n- how to install for automatic startup/shutdown with the system (on linux for me in particular:))\n\njust my 2 cents :)\n\ndirk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dirkdk","name":"dirkdk","key":"dirkdk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dirk de Kok","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-15T16:17:03.717+0000","updated":"2010-01-15T16:17:03.717+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942014","id":"12942014","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"\nResponse to:\n--- \nRob Davies added a comment - 15/Jan/10 02:04 PM\nQuestion - what do you mean by nice if java code supported daemonizing ? \n---\n\n- The jetty process should detach STDOUT/STDERR on starting\n- The jetty process should start as background process","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-01-15T19:27:07.783+0000","updated":"2010-01-15T19:27:07.783+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942012","id":"12942012","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Response to: Dirk de Kok :\n---\n- process should run like a daemon in the background\n- process should do proper logging\n- process should be available for status checks (e.g. via jmx)\n- process should run like a specified user (e.g. activemq) and not root\n- should use PID file\n- should be possible to configure for automatic startup and shutdown\n---\n=> This is already supported by the attached init-script, but it would be better to implement this directly in java\n     (and not by using system-properties and shell-tricks)\n\nAdditional comments:\n    *  example directory layout (where binaries, config files, startup script)\n      => just invoke the script without any parameters, you will see some documentation\n      => invoke the script with the setup option (./activemq status /path/to/file) and you get a example configuration file  \n    * clear definition of responsibilities of files (controlling process, configuration, etc). Right now too much is in some files\n      => i agree, this can be improved by implementing more functionality of the script directly in activemq\n    * how to install for automatic startup/shutdown with the system (on linux for me in particular)\n       => this is already documented in the init-documentation of your linux-os\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-01-15T19:42:04.474+0000","updated":"2010-01-15T19:42:04.474+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942018","id":"12942018","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=david%40davidkarlsen.com","name":"david@davidkarlsen.com","key":"david@davidkarlsen.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David J. M. Karlsen","active":true,"timeZone":"Etc/UTC"},"body":"There's also a plugin to create jsw wrapper scripts: http://mojo.codehaus.org/appassembler/appassembler-maven-plugin/example-jsw-linux.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=david%40davidkarlsen.com","name":"david@davidkarlsen.com","key":"david@davidkarlsen.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David J. M. Karlsen","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-15T21:21:31.522+0000","updated":"2010-01-15T21:21:31.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942655","id":"12942655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"We should remove jsw wrapper scripts  - this is a ugly solution from a linux/unix  sysadmin's view....popular projects like tomcat and jboss\nalso do not need hacks like this....\n\nSee also:   https://issues.apache.org/activemq/browse/AMQ-2105?focusedCommentId=59373&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_59373","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-05-16T16:46:41.562+0000","updated":"2010-05-16T16:46:41.562+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942567","id":"12942567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"A modified script has been committed with svn revision 956005\n\nI made a few changes:\n\n- copied the part from the old script that sets ACTIVEMQ_HOME to the current dir if it isn't already set and /opt/activemq does not exists\n- refactored around seq as it does not exists on OS X\n- added logic to create data folder if it doesn't exist (maybe this can be made even more bulletproof)\n- used bash as echo -n is bash specific\n- fixed some typos\n\nThis is only the starting point, so we should test this thoroughly in various environments and make it rock solid for the next release (I tested it so far on OS X)\n\nThe one thing I observed is that we need to improve the stop logic as \"regular stop method\" isn't called asynchronously, so the waiting loop doesn't do much.\n\nThanks for the contribution Marc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-06-18T14:08:29.845+0000","updated":"2010-06-18T14:08:29.845+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942173","id":"12942173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Fixed with svn revision 959227.\n\nI incorporated couple of improvements and tested on OS X, Ubuntu and Cygwin.\n\nImportant thing to note is that when used on Cygwin, you should explicitly turn on JMX, like\n\n{code}\n        <managementContext>\n            <managementContext createConnector=\"true\"/>\n        </managementContext>\n{code}\n\nas connecting to pid works only on linux. This should be documented in the upcoming docs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-06-30T11:01:39.423+0000","updated":"2010-06-30T11:01:39.423+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942201","id":"12942201","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Thats right, \"VirtualMachine.attach(PID)\" also does not work with a IBM JVM (we are using activemq with a IBM JVM on a IBM Mainframe/System z Linux).\n\nMaybe there is a jmx connector for a unix domain socket file available?\n\nThis might be very cool from a system administrator¬¥s view - because :\n\n- you don¬¥t need to open and secure (ssl, accounts, passwords, ...) a tcp port\n- it is possible to control permissions by simple file permissions\n- simple configuration of the initscript\n\nBest regards\nMarc","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-06-30T11:23:21.803+0000","updated":"2010-06-30T11:24:09.349+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12941925","id":"12941925","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Yeah, it'd be very useful, but I'm not aware of such a thing","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-06-30T12:23:40.520+0000","updated":"2010-06-30T12:23:40.520+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942940","id":"12942940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"With activemq 5.4.1 the new initscript is part of the activemq distribution.\n\nThere are still parts of the old start/control-script infrastructure for unix/linuxmacos systems \nincluded in the activemq delivery.\n\nThis should be removed, because this confuses activemq-users.\n\nDistribution should not contain the follwing folders/files:\n\napache-activemq-5.4.1/bin/activemq-admin : All functionality of bin/activemq-admin is implemented in bin/activemq\napache-activemq-5.4.1/bin/linux-x86-32 : This is only needed for jsw\napache-activemq-5.4.1/bin/linux-x86-64 : This is only needed for jsw\napache-activemq-5.4.1/bin/macosx       : This is only needed for jsw\napache-activemq-5.4.1/bin/wrapper.jar  : This is only needed for jsw\n\nIn my current work-environment admins and developers were confused of having two different start environments  - i think\nit¬¥s a good idea to cleanup the distribution.\n\nRegards\nMarc\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-06T13:34:17.609+0000","updated":"2010-10-06T13:34:17.609+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12942785","id":"12942785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"The script needs to confine its self to /bin/sh features. It needs to work out of the box on aix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-11T19:32:57.488+0000","updated":"2010-10-11T19:32:57.488+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12943008","id":"12943008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Sorry, i don't own a aix system :-)\n\nProbably its enough to modify the sheebang like this: \n----\n$ svn diff\nIndex: activemq\n===================================================================\n--- activemq    (Revision 1021620)\n+++ activemq    (Arbeitskopie)\n@@ -1,4 +1,4 @@\n-#!/bin/bash \n+#!/usr/bin/env bash \n # ------------------------------------------------------------------------\n # Licensed to the Apache Software Foundation (ASF) under one or more\n # contributor license agreements.  See the NOTICE file distributed with\n----\n\nBash emulation of /bin/sh is often not completely compatible to the \"sh\" of legacy unix systems - but most\nof these systems provide the bash shell. Can you sent me the following information:\n- stdout/stderr output of a script feature which is not working using \"/bin/sh activemq\"\n- stdout/stderr output of a script feature which is not working with \"/bin/sh -x activemq\"\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-12T04:31:28.406+0000","updated":"2010-10-12T04:31:28.406+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12943090","id":"12943090","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"body":"The script should only use basic shell stuff which is usable with a ksh. Bash is not installed on some unix like operation systems out of the box (for example freebsd). So you should use #!/bin/sh and make it work with it.\n\nJust my 2 cents","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=norman","name":"norman","key":"norman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=norman&avatarId=32504","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=norman&avatarId=32504","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=norman&avatarId=32504","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=norman&avatarId=32504"},"displayName":"Norman Maurer","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-19T19:16:59.224+0000","updated":"2010-10-19T19:16:59.224+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12943084","id":"12943084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Rewriting shellscript to run with ksh might be real pain - because the implementation of ksh/sh  varies between systems.\n(i.e. between K&R and Sun ksh)\n\n/bin/sh does also not provide real portability for complexer functions - the behavior of /bin/sh varies between systems.\n\nI really think it is no real pain to run this script in bash because bash is available on all commodity unix-systems.\n\nAt least Linux, AIX and Solaris provide a preinstalled bash for years now. \n\nBTW: If there are problems on other platforms i can rewrite the code if you can send me the debugging output of the shell (bash -x).\n\nThe new script is an advantage over the old mechanism because the old mechanism only supported linux and macos...\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-20T16:24:48.282+0000","updated":"2010-10-20T16:24:48.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/12943210","id":"12943210","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"body":"Portability issue fixed with svn revision 1034453\n\nI tested it on osx, various dists of linux, aix and solari. It looks ok now. More testing is definitely welcomed. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dejanb","name":"dejanb","key":"dejanb","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dejan Bosanac","active":true,"timeZone":"Europe/Berlin"},"created":"2010-11-12T16:36:43.090+0000","updated":"2010-11-12T16:36:43.090+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13193140","id":"13193140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"The script is included in the distribution.\n\nWhy not removing apache-activemq-5.5.1/bin/{activemq-admin,linux-x86-32,linux-x86-64,macosx,wrapper.jar}?\n\nThe unix script does not utilize these files - and  apache-activemq-5.5.1/bin/activemq contains all\nfeatures of apache-activemq-5.5.1/bin/activemq-admin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2012-01-25T17:26:45.370+0000","updated":"2012-01-25T17:26:45.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13410336","id":"13410336","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"Please remove the no longer needed files apache-activemq-5.x.x/bin/{activemq-admin,linux-x86-32,linux-x86-64,macosx,wrapper.jar}\n\nPlease add the script header to the script apache-activemq-5.x.x/bin/activemq to prevent SLES systems to complain about\nbroken lsb-headers\n\n{code}\ninsserv: missing `Required-Stop:'  entry: please add even if empty.\ninsserv: warning: script 'activemq' missing LSB tags and overrides\ninsserv: warning: script 'activemq' missing LSB tags and overrides\ninsserv: Default-Start undefined, assuming default start runlevel(s) for script `activemq'\n{code}\n\nScript header:\n{code}\n#!/bin/sh\n\n### BEGIN INIT INFO\n# Provides:          activemq\n# Required-Start:    $remote_fs $network $syslog\n# Required-Stop:     $remote_fs $network $syslog\n# Default-Start:     3 5\n# Default-Stop:      0 1 6\n# Short-Description: Starts ActiveMQ\n# Description:       Starts ActiveMQ Message Broker Server\n### END INIT INFO\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2012-07-10T13:40:14.830+0000","updated":"2012-07-10T13:40:14.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13410337","id":"13410337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"See last comment - remove the artifacts of the old start mechanism.\nAdd the script header.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2012-07-10T13:41:24.755+0000","updated":"2012-07-10T13:41:24.755+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13427299","id":"13427299","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Added LSB compliant header to the scripts for systems that use it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-08-02T13:17:22.651+0000","updated":"2012-08-02T13:17:22.651+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13763094","id":"13763094","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"There are various references to the old activemq-admin script:\n\nhttp://activemq.apache.org/activemq-command-line-tools-reference.html\n\nIt would be a good idea to add a disclaimer that this tool was replaced by \"bin/activemq\".\n\nThe new command is not documented in a good way (http://activemq.apache.org/unix-shell-script.html)\nSee comment of \"11/Nov/09 18:53\" for improvement. \n\nAnother problem: \nI  discovered that the \"setup\" option seems to create a strange init-script-configuration file. It differs very much from the initial behavior.\n\nI you provide access to the wiki, i will improve the documentation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2013-09-10T14:59:54.120+0000","updated":"2013-09-10T14:59:54.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13763149","id":"13763149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You need to follow the process to submit you ICLA to Apache and appear on the unlisted CLA list then submit a request on the mailing list to be granted karma for your user account on the wiki.\n\nhttp://www.apache.org/licenses/\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-09-10T16:02:56.926+0000","updated":"2013-09-10T16:02:56.926+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13771685","id":"13771685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"body":"I submitted the ICLA and get the confirmation the the ICLA is filed.\n\nIf necessary and useful, i can provide documentation for wiki regarding the init-script and fixes for the init script :-)\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scoopex","name":"scoopex","key":"scoopex","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc Sch√∂chlin","active":true,"timeZone":"Europe/Berlin"},"created":"2013-09-19T08:11:37.791+0000","updated":"2013-09-19T08:11:37.791+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483876/comment/13771938","id":"13771938","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"In order to gain edit access you should create an account on the confluence Wiki and then send an email to the dev forum requesting karma to edit.  Your account should be linked to the same email that's associated with your ICLA so we can match them up.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2013-09-19T14:38:30.047+0000","updated":"2013-09-19T14:38:30.047+0000"}],"maxResults":28,"total":28,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-2453/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ako7:"}}