{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12483292","self":"https://issues.apache.org/jira/rest/api/2/issue/12483292","key":"AMQ-1751","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315630","id":"12315630","description":"Issues that need to be reviewed - do we keep 'em or do we kick 'em? ","name":"NEEDS_REVIEW","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2008-11-18T08:32:47.789+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 01 20:06:30 UTC 2011","customfield_12310420":"69438","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_97635772447_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-07-01T20:06:30.087+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1751/watchers","watchCount":12,"isWatching":false},"created":"2008-05-27T19:03:37.653+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315618","id":"12315618","description":"","name":"5.1.0","archived":false,"released":true,"releaseDate":"2008-05-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-07-01T20:06:30.096+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313892","id":"12313892","name":"Broker"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"After many days of normal operation, the ActiveMQ broker was no longer sending messages to our consumer agents.  Messages eventually would up accumulating in the dead letter queue.  The behavior was only corrected after I made a backup of the data directory, wiped out the original data, and restarted ActiveMQ.  The environment is using the amqPersistanceAdapter.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12472301","id":"12472301","filename":"ActiveMQIssueDebugLog.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-01T12:49:26.295+0000","size":4683,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12472301/ActiveMQIssueDebugLog.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12472304","id":"12472304","filename":"AMQConsumer.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-01T12:49:26.326+0000","size":2325,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12472304/AMQConsumer.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12472302","id":"12472302","filename":"AMQProCon.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-01T12:49:26.309+0000","size":3934,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12472302/AMQProCon.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12472303","id":"12472303","filename":"AMQProducer.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-01T12:49:26.317+0000","size":1911,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12472303/AMQProducer.java"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"59834","customfield_12312823":null,"summary":"ActiveMQ not sending messages to consumers","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cjosephes","name":"cjosephes","key":"cjosephes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Josephes","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cjosephes","name":"cjosephes","key":"cjosephes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Josephes","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483292/comment/12940483","id":"12940483","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stephanbrunner","name":"stephanbrunner","key":"stephanbrunner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephan Brunner","active":true,"timeZone":"Etc/UTC"},"body":"I've a similar problem using active mq 5.2-Snapshot. Messages get enqueued in queue, but don't get dispatched after a many days of normal operation. If a new message get enqueue in the queue -> the old message get dispatched and the new one stuck in queue. I'm also using the  amqPersistanceAdapter.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stephanbrunner","name":"stephanbrunner","key":"stephanbrunner","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephan Brunner","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T08:32:47.789+0000","updated":"2008-11-18T08:32:47.789+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483292/comment/12940494","id":"12940494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"body":"Stephen, is this with the RC3 candidate?\nAre there selectors on the consumers?\nWould it be possible to produce a test case, even if it does not show the problem, it will help characterise the usage.\nthanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gtully","name":"gtully","key":"gtully","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Tully","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T11:19:41.021+0000","updated":"2008-11-18T11:19:41.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483292/comment/13000860","id":"13000860","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\n\nProviding Attachments as Requested by Gary Tully.\n\nMy Environment:: ActiveMQ 5.2.0 - PERSISTENT MODE, Windows 2003 Server, Oracle 10\n\nI have successful simple producer and consumer programs I always use for my test.(FYI: I can configure it to change No.Of Producers, No.of Consumers, and No.of Messages)\n\nIn our application, developers reporting to me of a particular job that it is not getting 2 paticular messages from activeMQ to complete the Job Process.\nNot always but some times.\n\nI saw them pending in ActiveMQ Admin Pages - queue browser.\n==========================================\nFirst test run:\n==========================================\nI sent a simple text message \"NNP Message\" to that same queue, and my consumer is waiting to receive them\nWhereas Queue browser is showing them as sent and received but no pending.\n\nProgram Output:\n\tConnection Established :: ID:DWD51075520-3438-1298909628155-1:1\n\n\tActiveMQ Machine : tcp://DWDAPPP05PW:63616\n\tActiveMQ Queue : UIMJobQueuePreProdTax\n\tI AM  :: Thread-5\n\n\tConsumer STARTED\n\tSending Message - 1\n\tSending Message - 2\n\tSending Message - 3  ...........................and keep on waiting\n==========================================\nSecond test run:\n==========================================\nSame Program, Same Active MQ, But I sent to \"different queue\" now. Successfully Received those Messages\n\n\tConnection Established :: ID:DWD51075520-3767-1298911642514-1:1\n\n\tActiveMQ Machine : tcp://DWDAPPP05PW:63616\n\tActiveMQ Queue : TestTestTestQ\n\n\tI AM  :: Thread-5\n\n\tConsumer STARTED\n\tSending Message - 1\n\tSending Message - 2\n\n\tFOUND SOME MESSAGE - 1\n\n\tI AM ::Thread-7   Received NNP Message - 1\n\n\tFOUND SOME MESSAGE - 1\n\n\tI AM ::Thread-7   Received NNP Message - 2\n\n\tFOUND SOME MESSAGE - 1\n\n\tI AM ::Thread-7   Received NNP Message - 3\n\tSending Message - 3\n\n\nAfter reading this Bug scenario...I can also consider \"After running for several days\" situation and applying to my issue. The attachment provided can be used as a test case requested by Gary Tully\n\nThis is really giving us a big problem, as that job is very crucial to be completed in time, and due to this problem it is keep on waiting.\n\nI can not suspect their consumer program OR their JMS type of that message, as the same thing is happening to my message and program.\n\nI am attaching the ActiveMQ Log snippet, My Testing Programs, Please analyse it and help me, I am clue less and very urgent.\n\n\nThank You,\nNageswara P Nakarikanti.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-01T12:49:26.411+0000","updated":"2011-03-01T13:01:05.730+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483292/comment/13004123","id":"13004123","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"body":"Looks like same Issue with some good comments: https://issues.apache.org/jira/browse/AMQ-2009","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nnprasad","name":"nnprasad","key":"nnprasad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nageswara P Nakarikanti","active":true,"timeZone":"Etc/UTC"},"created":"2011-03-08T18:33:29.884+0000","updated":"2011-03-08T18:33:29.884+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12483292/comment/13058758","id":"13058758","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No test case given to reproduce the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2011-07-01T20:06:30.094+0000","updated":"2011-07-01T20:06:30.094+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-1751/votes","votes":4,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0alzb:"}}