{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12554912","self":"https://issues.apache.org/jira/rest/api/2/issue/12554912","key":"AMQ-3835","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311210","id":"12311210","key":"AMQ","name":"ActiveMQ","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11160","id":"11160","description":"ActiveMQ","name":"ActiveMQ"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/4","id":"4","description":"The problem is not completely described.","name":"Incomplete"},"customfield_12312322":null,"customfield_12310220":"2012-05-11T14:44:57.109+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 13 14:55:24 UTC 2012","customfield_12310420":"239165","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_513761982_*|*_6_*:*_2_*:*_9917900_*|*_4_*:*_1_*:*_4921185250","customfield_12312321":null,"resolutiondate":"2012-07-13T14:55:24.466+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3835/watchers","watchCount":5,"isWatching":false},"created":"2012-05-11T14:27:39.459+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317974","id":"12317974","description":"Next v5 maintenance release","name":"5.6.0","archived":false,"released":true,"releaseDate":"2012-05-07"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-07-13T14:55:24.586+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12315706","id":"12315706","name":"stomp"}],"timeoriginalestimate":null,"customfield_12310080":null,"description":"ActiveMQ does not respect read ACK over STOMP connections.\n\nProtocol logs follow:\ndmichellis@ni-73291-3:~/scripts/activemq$ telnet kolombo-s-pla1 61614\nTrying 192.168.128.130...\nConnected to kolombo-s-pla1.\nEscape character is '^]'.\nCONNECT\n\n^@\nCONNECTED\nheart-beat:0,0\nsession:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:9\nserver:ActiveMQ/5.6.0\nversion:1.0\n\n\nSUBSCRIBE\nack:client\ndestination:nagios-events\nactivemq.prefetchSize:1\n\n^@\nMESSAGE\nmessage-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:1\ndestination:/queue/nagios-events\ntimestamp:1336746413131\nexpires:0\npersistent:true\npriority:4\n\nmsg 18712 0\nMESSAGE\nmessage-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:2\ndestination:/queue/nagios-events\ntimestamp:1336746413152\nexpires:0\npersistent:true\npriority:4\n\nmsg 18712 1\nMESSAGE\nmessage-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:3\ndestination:/queue/nagios-events\ntimestamp:1336746413161\nexpires:0\npersistent:true\npriority:4\n\nmsg 18712 2\nMESSAGE\nmessage-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:4\ndestination:/queue/nagios-events\ntimestamp:1336746413163\nexpires:0\npersistent:true\npriority:4\n\nmsg 18712 3\nMESSAGE\nmessage-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:5\ndestination:/queue/nagios-events\ntimestamp:1336746413165\nexpires:0\npersistent:true\npriority:4\n\nmsg 18712 4\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310041":null,"customfield_12310921":null,"customfield_12310920":"166417","customfield_12312823":null,"summary":"STOMP 1.0 protocol (read ACK) broken on ActiveMQ 5.6.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Apache ActiveMQ 5.6.0 running on CentOS 5, jre-1.6.0_20-fcs","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13273307","id":"13273307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Recommend you create a JUnit test case to demonstrate your issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-11T14:44:57.109+0000","updated":"2012-05-11T14:44:57.109+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13273310","id":"13273310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"body":"I have absolutely no idea how to do that. I am not a java guy, sorry","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-11T14:48:17.021+0000","updated":"2012-05-11T14:48:17.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13273319","id":"13273319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"StompTest.java in our unit tests has plenty of examples, barring that please create a test case using the client you are currently using.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-11T14:58:46.423+0000","updated":"2012-05-11T14:58:46.423+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13273492","id":"13273492","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"body":"Well, there is a test right over there:\n\nI specifically asked activemq to wait for my ACKs before sending a new message, and send 1 single message at a time until I acknowledge the last message. ActiveMQ is ignoring both.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-11T18:33:38.538+0000","updated":"2012-05-11T18:33:38.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13277784","id":"13277784","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"Added a new unit test to StompTest.java testPrefetchSizeOfOneClientAck which shows that prefetch of one is working as expected.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-17T13:10:21.330+0000","updated":"2012-05-17T13:10:21.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13277909","id":"13277909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"body":"The READ ACK, however, is NOT.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmichellis","name":"dmichellis","key":"dmichellis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deives Michellis","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-17T15:55:39.181+0000","updated":"2012-05-17T15:55:39.181+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13278007","id":"13278007","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"You'll need to provide a test case that shows what you think is wrong then.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-05-17T17:41:14.927+0000","updated":"2012-05-17T17:41:14.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13290789","id":"13290789","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tapan.thapa","name":"tapan.thapa","key":"tapan.thapa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tapan Kumar Thapa","active":true,"timeZone":"Etc/UTC"},"body":"Hello,\n\nI am facing the same issue. Is there any solution which has been proposed/suggested.\n\nI am using stomp 1.0 client from below link.\nhttp://stomp.fusesource.org/documentation/php/book.html\n\nError under activemq console:\n\n WARN | Exception occurred processing:\nACK\nmessage-id: ID:tapan-htmsl-3435-1339041139453-2:4:-1:1:1\ndestination: /queue/test\ntimestamp: 1339043765083\nexpires: 0\npriority: 4\n\n : org.apache.activemq.transport.stomp.ProtocolException: Unexpected ACK received for message-id [ I\nD:tapan-htmsl-3435-1339041139453-2:4:-1:1:1]\n\nFYI: I am on windows.\n\nRegards\nTapan Thapa","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tapan.thapa","name":"tapan.thapa","key":"tapan.thapa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tapan Kumar Thapa","active":true,"timeZone":"Etc/UTC"},"created":"2012-06-07T04:42:18.187+0000","updated":"2012-06-07T04:43:31.833+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12554912/comment/13413795","id":"13413795","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"body":"No test case provided. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tabish121","name":"tabish121","key":"tabish121","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tabish121&avatarId=25249","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tabish121&avatarId=25249","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tabish121&avatarId=25249","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tabish121&avatarId=25249"},"displayName":"Timothy Bish","active":true,"timeZone":"America/Havana"},"created":"2012-07-13T14:55:24.550+0000","updated":"2012-07-13T14:55:24.550+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AMQ-3835/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0suhr:"}}