{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [],
        "created": "2011-01-12T14:28:29.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Stephan Siano",
            "key": "siano",
            "name": "siano",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siano",
            "timeZone": "Europe/Berlin"
        },
        "customfield_10010": null,
        "customfield_12310041": null,
        "customfield_12310080": null,
        "customfield_12310220": null,
        "customfield_12310222": "1_*:*_1_*:*_80500994951_*|*_6_*:*_1_*:*_0",
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310420": "74727",
        "customfield_12310920": "81559",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i0eb3b:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Aug 01 07:51:44 UTC 2013",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "I tried to run the activemq-web-console bundle on an equinox based OSGi runtime. Essentially I was following the description on the web console section of the http://activemq.apache.org/osgi-integration.html page. However when I try to access any of the pages, I get an exception:\n\n15:09:30.736 WARN  [qtp1617610261-54] org.eclipse.jetty.util.log [Slf4jLog.java:50] - /activemqweb/index.jsp\njavax.el.ELException: Error reading 'brokerName' on type org.apache.activemq.web.RemoteJMXBrokerFacade\n\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:66) ~[na:na]\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:53) ~[na:na]\n\tat org.apache.el.parser.AstValue.getValue(AstValue.java:118) ~[na:na]\n\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186) ~[na:na]\n\tat org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:925) ~[na:na]\n\tat org.apache.jsp.index_jsp._jspService(index_jsp.java:75) ~[na:na]\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[na:na]\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:806) ~[org.apache.geronimo.specs.geronimo-servlet_2.5_spec-1.1.1.jar:1.1.1]\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374) ~[na:na]\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) ~[na:na]\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) ~[na:na]\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:806) ~[org.apache.geronimo.specs.geronimo-servlet_2.5_spec-1.1.1.jar:1.1.1]\n\tat org.ops4j.pax.web.jsp.JspServletWrapper$2.call(JspServletWrapper.java:132) ~[na:na]\n\tat org.ops4j.pax.web.jsp.JspServletWrapper$2.call(JspServletWrapper.java:127) ~[na:na]\n\tat org.ops4j.pax.swissbox.core.ContextClassLoaderUtils.doWithClassLoader(ContextClassLoaderUtils.java:60) ~[na:na]\n\tat org.ops4j.pax.web.jsp.JspServletWrapper.service(JspServletWrapper.java:124) ~[na:na]\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:527) ~[na:na]\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1216) ~[na:na]\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83) ~[spring-web-3.0.3.RELEASE.jar:3.0.3.RELEASE]\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) ~[spring-web-3.0.3.RELEASE.jar:3.0.3.RELEASE]\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1187) ~[na:na]\n\tat org.apache.activemq.web.SessionFilter.doFilter(SessionFilter.java:45) ~[activemq-web-5.4.2.jar:5.4.2]\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1187) ~[na:na]\n\tat org.apache.activemq.web.filter.ApplicationContextFilter.doFilter(ApplicationContextFilter.java:81) ~[bundlefile:5.4.2]\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1187) ~[na:na]\n\tat com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118) ~[sitemesh-2.2.1.jar:na]\n\tat com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52) ~[sitemesh-2.2.1.jar:na]\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1187) ~[na:na]\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169) ~[na:na]\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1187) ~[na:na]\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:421) ~[na:na]\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:65) ~[na:na]\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119) ~[na:na]\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:493) ~[na:na]\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:225) ~[na:na]\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:930) ~[na:na]\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:116) ~[na:na]\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:358) ~[na:na]\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183) ~[na:na]\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:866) ~[na:na]\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117) ~[na:na]\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:72) ~[na:na]\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113) ~[na:na]\n\tat org.eclipse.jetty.server.Server.handle(Server.java:351) ~[na:na]\n\tat org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:594) ~[na:na]\n\tat org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:1042) ~[na:na]\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:549) ~[na:na]\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:211) ~[na:na]\n\tat org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:424) ~[na:na]\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:506) ~[na:na]\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:436) ~[na:na]\n\tat java.lang.Thread.run(Unknown Source) ~[na:1.6.0_22]\nCaused by: java.lang.RuntimeException: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.CommunicationException [Root exception is java.rmi.UnmarshalException: error unmarshalling return; nested exception is: \n\tjava.lang.ClassNotFoundException: javax.management.remote.rmi.RMIServerImpl_Stub (no security manager: RMI class loader disabled)]\n\tat org.apache.activemq.web.RemoteJMXBrokerFacade.createConnection(RemoteJMXBrokerFacade.java:165) ~[activemq-web-5.4.2.jar:5.4.2]\n\tat org.apache.activemq.web.RemoteJMXBrokerFacade.getMBeanServerConnection(RemoteJMXBrokerFacade.java:114) ~[activemq-web-5.4.2.jar:5.4.2]\n\tat org.apache.activemq.web.RemoteJMXBrokerFacade.getBrokerAdmin(RemoteJMXBrokerFacade.java:88) ~[activemq-web-5.4.2.jar:5.4.2]\n\tat org.apache.activemq.web.RemoteJMXBrokerFacade.getBrokerName(RemoteJMXBrokerFacade.java:101) ~[activemq-web-5.4.2.jar:5.4.2]\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.6.0_22]\n\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:62) ~[na:na]\n\t... 51 common frames omitted\nCaused by: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.CommunicationException [Root exception is java.rmi.UnmarshalException: error unmarshalling return; nested exception is: \n\tjava.lang.ClassNotFoundException: javax.management.remote.rmi.RMIServerImpl_Stub (no security manager: RMI class loader disabled)]\n\tat javax.management.remote.rmi.RMIConnector.connect(Unknown Source) ~[na:na]\n\tat javax.management.remote.JMXConnectorFactory.connect(Unknown Source) ~[na:1.6.0_22]\n\tat org.apache.activemq.web.RemoteJMXBrokerFacade.createConnection(RemoteJMXBrokerFacade.java:146) ~[activemq-web-5.4.2.jar:5.4.2]\n\t... 59 common frames omitted\nCaused by: javax.naming.CommunicationException: null\n\tat com.sun.jndi.rmi.registry.RegistryContext.lookup(Unknown Source) ~[na:1.6.0_22]\n\tat com.sun.jndi.toolkit.url.GenericURLContext.lookup(Unknown Source) ~[na:1.6.0_22]\n\tat javax.naming.InitialContext.lookup(Unknown Source) ~[na:1.6.0_22]\n\tat javax.management.remote.rmi.RMIConnector.findRMIServerJNDI(Unknown Source) ~[na:na]\n\tat javax.management.remote.rmi.RMIConnector.findRMIServer(Unknown Source) ~[na:na]\n\t... 62 common frames omitted\nCaused by: java.rmi.UnmarshalException: error unmarshalling return; nested exception is: \n\tjava.lang.ClassNotFoundException: javax.management.remote.rmi.RMIServerImpl_Stub (no security manager: RMI class loader disabled)\n\tat sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source) ~[na:na]\n\t... 67 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.management.remote.rmi.RMIServerImpl_Stub (no security manager: RMI class loader disabled)\n\tat sun.rmi.server.LoaderHandler.loadClass(Unknown Source) ~[na:na]\n\tat sun.rmi.server.LoaderHandler.loadClass(Unknown Source) ~[na:na]\n\tat java.rmi.server.RMIClassLoader$2.loadClass(Unknown Source) ~[na:1.6.0_22]\n\tat java.rmi.server.RMIClassLoader.loadClass(Unknown Source) ~[na:1.6.0_22]\n\tat sun.rmi.server.MarshalInputStream.resolveClass(Unknown Source) ~[na:na]\n\tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source) ~[na:1.6.0_22]\n\tat java.io.ObjectInputStream.readClassDesc(Unknown Source) ~[na:1.6.0_22]\n\tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source) ~[na:1.6.0_22]\n\tat java.io.ObjectInputStream.readObject0(Unknown Source) ~[na:1.6.0_22]\n\tat java.io.ObjectInputStream.readObject(Unknown Source) ~[na:1.6.0_22]\n\t... 68 common frames omitted\n\nThis exception essentially says that the RMIServerImpl_Stub from the javax.management.remote.rmi package (this is from the JRE) is not available to the bundle, which is not so surprising because the bundle does not import that package.\n\nI have also tested this with karaf and it works there, though I have no clue why it works, probably it is using the RMI class loader which is probably unwanted for a JDK provided class.\n\nAs a workaround I added javax.management.remote.rmi to bootdelegation and it works now, however in my opinion this should be added to the manifest of the war file (this is defined in activemq-web-console/pom.xml).",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "id": "4",
            "name": "Minor",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011"
            },
            "id": "12311210",
            "key": "AMQ",
            "name": "ActiveMQ",
            "projectCategory": {
                "description": "ActiveMQ",
                "id": "11160",
                "name": "ActiveMQ",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/11160"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12311210"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Stephan Siano",
            "key": "siano",
            "name": "siano",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siano",
            "timeZone": "Europe/Berlin"
        },
        "resolution": {
            "description": "The problem described is an issue which will never be fixed.",
            "id": "2",
            "name": "Won't Fix",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/2"
        },
        "resolutiondate": "2013-08-01T07:51:44.000+0000",
        "status": {
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "id": "6",
            "name": "Closed",
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Web Console fails on Equinox OSGi server",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2013-08-01T07:51:44.000+0000",
        "versions": [{
            "archived": false,
            "description": "",
            "id": "12315625",
            "name": "5.4.2",
            "releaseDate": "2010-12-02",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12315625"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-3132/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-3132/watchers",
            "watchCount": 1
        },
        "workratio": -1
    },
    "id": "12495373",
    "key": "AMQ-3132",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12495373"
}