[uploading patch for discussion pending full testing, patch applied]