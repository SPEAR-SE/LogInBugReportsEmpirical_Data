[Would surprise me that this is the case given that we have tests for this very scenario.  I'd recommend you create a unit test that encapsulates your broker and client configuration to reproduce the problem.  , You're right. I created a unit test with an embedded broker and it worked. What's strange is that now also the original code is working. And the unit test is working also connecting to the real broker. Maybe it was a runtime problem on the server side? 
I'll let you know if it happens again, Tests in CI that cover this case are passing without issue. ]