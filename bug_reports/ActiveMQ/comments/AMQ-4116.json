[Unit test demonstrating bug on VMTransport and how TCP transport does not exhibit bug., ActiveMQConnection patch to resolve issue., Agreed that when copied in ActiveMQConnection there's definitely no need for the copy to retain a reference to the MemoryUsage.  Will look at AMQ-4147 also but applying this patch won't hurt anything even if we take action on 4147.  , Fix applied, thanks for the test and patch.  ]