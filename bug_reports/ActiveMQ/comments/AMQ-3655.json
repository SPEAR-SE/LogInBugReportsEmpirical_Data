[Have you tested this against the latest 5.6-SNAPSHOT, I think there were already some fixes in this area., While I just checked the source code of apache-activemq-5.5.1-fuse-01-11,it's correct., Fixed by AMQ-3526,  the method:queue.size() is always unstable.
sometimes show " queue.size:-1" on web console or JMX for jconsole]