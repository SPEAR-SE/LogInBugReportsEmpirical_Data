[The broker starting sequence now first starts a jmx connector and then tries to boot the broker (including the persistence adapter). This will allow that the slave broker (with the port different than master) in shared file-system ms scenario will be reachable by jmx. However, since broker isn't started properly, there's no much point to do anything with it in this mode, except to stop it. This works fine with activemq-admin script and using "terminateVm()" jmx command (used by activemq-admin). I noticed that "stop()" jmx command doesn't fully work, since there are some threads left from persistence adapters trying to aquire locks, but that's the topic for some other issue. When master dies, the slave jmx connector becomes fully operable.

In case that master and slave have the same jmx port defined (which is often the case), the slave will detect that jmx connector is not started before acquiring the lock and will try to do it again afterwards. So users that deploy with this configuration will not be affected with this change.]