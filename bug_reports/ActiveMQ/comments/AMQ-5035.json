[Testing on trunk and cannot reproduce, But on the mailing list, you said you could reproduce the bug?

"Yup, there's a bug there.  The key is to set isUseJmx(false) in the test 
Christian created and then the exception will show up. ", Re-opening because problem still exists on the snapshot
http://repository.apache.org/content/repositories/snapshots/org/apache/activemq/apache-activemq/5.10-SNAPSHOT/apache-activemq-5.10-20131220.123112-36-bin.zip, My assessment was incorrect and the problem is not reproducible using the test steps you have outlined.  If you can produce a junit test case please do otherwise this is considered a non-issue. , Ok I'll see what I can do about the unit test. Is there any possible way that the unit test Christian has written behaves differently from normal startup?, If you turn on TRACE level logging you can see the configuration progress and see if there's any differences.  , Ok thanks for the tip, Would you be able to tell me which maven project contains the EmbeddedBrokerAndConnectionTestSupport class that Christian has used in his unit test? I can't see it in any of the jars in the activemq installation., Ok, added some contingency code in AdvisoryBroker to ensure it will always find a region broker even if configuration causes an unexpected chain.  

Try the next SNAPSHOT build and see how that goes.  , Thanks, I appreciate it.]