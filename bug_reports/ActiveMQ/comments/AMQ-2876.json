[fixes in r988455

when processing the ack, the message will no longer be expired as it has been delivered ok. 
If asnyc message expiry processing has already expired the message, then the ack will be ignored and a warning will be issued in the log for that message ack. The act of processing the ack will not result in expiry otherwise.]