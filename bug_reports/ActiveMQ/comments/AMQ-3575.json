[Can you validate against trunk, with
{code} Assert.assertTrue("Unexpected state: BrokerInfo command was processed", brokerInfoProcessed);{code} the test works on trunk, which if I understand you correctly, validates that this is fixed. correct?

In general, using static:failover: has proven to be problematic. failover hides transport errors but a network bridge is designed to recover from such errors by recreating the bridge so failover should be configured to not reconnect.
see: https://issues.apache.org/jira/browse/AMQ-3542, linking to the issue that I think resolved this., Testing with the proper assertion and repeated attempt shows that on trunk the issue is fixed.  ]