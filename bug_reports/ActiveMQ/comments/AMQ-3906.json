[configuration file, Recommend that you see if you can find a test case that reproduces this, also try testing with the latest 5.7-SNAPSHOT nightly build as there are many fixes in since the 5.6.0 release. , We are using 5.7.0 on Windows 2008 R2 SP1 and have the same issue.
{noformat}
INFO   | jvm 1    | 2012/11/02 04:48:58 | 04:48:58,808[ActiveMQ Durable Subscriber Cleanup Timer]  INFO TopicRegion:296 - Destroying durable subscriber due to inactivity: DurableTopicSubscription-149f13f3-b548-4fc6-b343-3f5da174491d:0b071e2a-f281-4ce8-8a64-0b601d00c672, id=ID:host21-1354-1351827790937-1:1:3:1, active=false, destinations=1, total=0, pending=0, dispatched=0, inflight=0, prefetchExtension=0
INFO   | jvm 1    | 2012/11/02 04:48:58 | 04:48:58,808[ActiveMQ Durable Subscriber Cleanup Timer]  INFO TopicRegion:296 - Destroying durable subscriber due to inactivity: DurableTopicSubscription-149f13f3-b548-4fc6-b343-3f5da174491d:714ca25f-7ba8-420e-8e3f-6a4dff7c494c, id=ID:host21-1354-1351827790937-1:1:4:1, active=false, destinations=1, total=0, pending=0, dispatched=0, inflight=0, prefetchExtension=0
INFO   | jvm 1    | 2012/11/02 04:48:58 | 04:48:58,824[ActiveMQ Durable Subscriber Cleanup Timer]  INFO TopicRegion:296 - Destroying durable subscriber due to inactivity: DurableTopicSubscription-149f13f3-b548-4fc6-b343-3f5da174491d:09c8415f-ef48-45f3-a9db-a815498664d4, id=ID:host21-1354-1351827790937-1:1:7:1, active=false, destinations=1, total=0, pending=0, dispatched=0, inflight=0, prefetchExtension=0
INFO   | jvm 1    | 2012/11/02 05:06:36 | 05:06:36,590[ActiveMQ Broker[localhost] Scheduler] ERROR MessageDatabase:419 - KahaDB failed to store to Journal
INFO   | jvm 1    | 2012/11/02 05:06:36 | java.io.EOFException: Chunk stream does not exist, page: 3080 is marked free
INFO   | jvm 1    | 2012/11/02 05:06:36 | 	at org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:460)
INFO   | jvm 1    | 2012/11/02 05:06:36 | 	at org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:437)
{noformat}, I think this is a variation of https://issues.apache.org/jira/browse/AMQ-4118 - so you need a 5.8-SNAPSHOT to verify the fix., I have tried the SNAPSHOT from 07-Nov-2012 and got the same error.
{noformat}
INFO   | jvm 1    | 2012/11/11 03:01:51 | 03:01:51,232[ActiveMQ Transport: tcp:///10.71.157.60:49184@61646] ERROR MessageDatabase:419 - KahaDB failed to store to Journal
INFO   | jvm 1    | 2012/11/11 03:01:51 | java.io.EOFException: Chunk stream does not exist, page: 30 is marked free
{noformat}, on a fresh install with only one client communicating with the server, the issue shows up almost instantaneously. using the server configuration previously attached and kahadb directory cleared (so that the database is initialized fresh) here are the startup log messages:

{noformat}
2012-11-12 16:43:54,493 o.a.a.x.XBeanBrokerFactory$1[main]: (INFO) Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@1d8d39f: startup date [Mon Nov 12 16:43:54 PST 2012]; root of context hierarchy
2012-11-12 16:43:55,460 o.a.a.s.k.p.PListStore[main]: (INFO) PListStore:[/usr/local/emerald/apps/activemq/data/ZyrionMessageBus/tmp_storage ] started
2012-11-12 16:43:55,460 o.a.a.b.BrokerService[main]: (INFO) Using Persistence Adapter: KahaDBPersistenceAdapter[/usr/local/emerald/apps/activemq/data/kahadb]
2012-11-12 16:43:55,764 o.a.a.s.k.MessageDatabase[main]: (INFO) KahaDB is version 4
2012-11-12 16:43:55,793 o.a.a.s.k.MessageDatabase[main]: (INFO) Recovering from the journal ...
2012-11-12 16:43:55,793 o.a.a.s.k.MessageDatabase[main]: (INFO) Recovery replayed 1 operations from the journal in 0.013 seconds.
2012-11-12 16:43:55,805 o.a.a.b.BrokerService[main]: (INFO) ActiveMQ 5.6.0 JMS Message Broker (ZyrionMessageBus) is starting
2012-11-12 16:43:55,805 o.a.a.b.BrokerService[main]: (INFO) For help or more information please see: http://activemq.apache.org/
2012-11-12 16:43:56,010 o.a.a.t.TransportServerThreadSupport[main]: (INFO) Listening for connections at: nio://dev-runtime.enigma.local:7653?useQueueForAccept=false&wireFormat.stackTraceEnabled=false&wireFormat.cacheEnabled=false
2012-11-12 16:43:56,010 o.a.a.b.TransportConnector[main]: (INFO) Connector openwire Started
2012-11-12 16:43:56,012 o.a.a.b.BrokerService[main]: (INFO) ActiveMQ JMS Message Broker (ZyrionMessageBus, ID:dev-runtime.enigma.local-40393-1352767435812-0:1) started
{noformat}

next the client is started so that it attaches to several topics. once the client application is terminated (TERM/KILL signal), the next time the client starts following error is logged:

{noformat}
2012-11-12 16:45:01,016 o.a.a.b.r.Topic[ActiveMQ Broker[ZyrionMessageBus] Scheduler]: (WARN) Failed to browse Topic: netvigil_DGERequestTopic
java.io.EOFException: Chunk stream does not exist, page: 23 is marked free
	at org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:460) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:437) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.openInputStream(Transaction.java:434) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.load(Transaction.java:410) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.load(Transaction.java:367) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.index.BTreeIndex.loadNode(BTreeIndex.java:262) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.index.BTreeIndex.getRoot(BTreeIndex.java:174) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.index.BTreeIndex.iterator(BTreeIndex.java:232) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex$MessageOrderIterator.<init>(MessageDatabase.java:2714) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.iterator(MessageDatabase.java:2696) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$3.execute(KahaDBStore.java:525) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.execute(Transaction.java:769) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recover(KahaDBStore.java:521) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.ProxyTopicMessageStore.recover(ProxyTopicMessageStore.java:62) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.broker.region.Topic.doBrowse(Topic.java:559) [activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.broker.region.Topic.access$100(Topic.java:62) [activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.broker.region.Topic$6.run(Topic.java:684) [activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.thread.SchedulerTimerTask.run(SchedulerTimerTask.java:33) [activemq-core-5.6.0.jar:5.6.0]
	at java.util.TimerThread.mainLoop(Timer.java:512) [na:1.6.0_18]
	at java.util.TimerThread.run(Timer.java:462) [na:1.6.0_18]
2012-11-12 16:45:31,012 o.a.a.b.r.Topic[ActiveMQ Broker[ZyrionMessageBus] Scheduler]: (WARN) Failed to browse Topic: netvigil_DGERequestTopic
java.io.EOFException: Chunk stream does not exist, page: 23 is marked free
	at org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:460) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:437) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.openInputStream(Transaction.java:434) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.load(Transaction.java:410) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.load(Transaction.java:367) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.index.BTreeIndex.loadNode(BTreeIndex.java:262) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.index.BTreeIndex.getRoot(BTreeIndex.java:174) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.kahadb.index.BTreeIndex.iterator(BTreeIndex.java:232) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex$MessageOrderIterator.<init>(MessageDatabase.java:2714) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.iterator(MessageDatabase.java:2696) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$3.execute(KahaDBStore.java:525) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.kahadb.page.Transaction.execute(Transaction.java:769) ~[kahadb-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recover(KahaDBStore.java:521) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.store.ProxyTopicMessageStore.recover(ProxyTopicMessageStore.java:62) ~[activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.broker.region.Topic.doBrowse(Topic.java:559) [activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.broker.region.Topic.access$100(Topic.java:62) [activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.broker.region.Topic$6.run(Topic.java:684) [activemq-core-5.6.0.jar:5.6.0]
	at org.apache.activemq.thread.SchedulerTimerTask.run(SchedulerTimerTask.java:33) [activemq-core-5.6.0.jar:5.6.0]
	at java.util.TimerThread.mainLoop(Timer.java:512) [na:1.6.0_18]
	at java.util.TimerThread.run(Timer.java:462) [na:1.6.0_18]
{noformat}

i'm also attaching the contents of kahadb directory in case it helps. i have to say that it's becoming increasingly difficult to use activemq in production environment. this issue was reported with 5.6.0 less than 6 months ago. as a solution, i was asked to run 5.7 snapshot will continued to exhibit the problem. now that 5.7.0 is has been released (and presumably the "stable" release), i have to again resort to using the 5.8 snapshot release. had it not been for the automatic expiration of idle consumers, we would have stuck to 5.3.2 or 5.5.
, @Rajib - so you have confirmed that you can reproduce with a 5.8-SNAPSHOT, correct? In other words, this is not a case of https://issues.apache.org/jira/browse/AMQ-4118

The key to reproducing in a test case must be related to what the consumers/producers do before they are terminated.
The error is coming from a periodic task that browses the destination that is *already* corrupt by previous operations.
Do you think it is possible to codify what your broker clients do so we can build a test case?, Gary, I am not noticing the kahadb error with 5.8 SNAPSHOT (2012.11.10), so that's good news. However, I am noticing problems starting the broker using the configuration that was attached before. It will only start with using activemq-core-5.6.0.jar which I found out accidentally. With pure 5.8 libraries, I get this error:

{code}
Java Runtime: Sun Microsystems Inc. 1.6.0_18 /usr/local/emerald/apps/jre
  Heap sizes: current=30784k  free=24366k  max=699072k
    JVM args: -Xmx768m -Djava.ext.dirs=/usr/local/emerald/apps/jre/lib:/usr/local/emerald/apps/activemq/lib:/usr/local/emerald/webapp/WEB-INF/lib -Dactivemq.home=/usr/local/emerald/apps/activemq -Dactivemq.base=/usr/local/emerald/apps/activemq -Dactivemq.conf= -Djavax.net.ssl.keyStorePassword=password -Djavax.net.ssl.trustStorePassword=password -Djavax.net.ssl.keyStore=/usr/local/emerald/apps/activemq/conf/broker.ks -Djavax.net.ssl.trustStore=/usr/local/emerald/apps/activemq/conf/broker.ts -Dorg.apache.activemq.store.kahadb.LOG_SLOW_ACCESS_TIME=15000 -Dderby.storage.fileSyncTransactionLog=true -Dlogback.configurationFile=file:///usr/local/emerald/etc/logback.xml -Dtraverse.logging.context=jms -Djava.net.preferIPv4Stack=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=7697 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false
Extensions classpath:
  []
ACTIVEMQ_HOME: /usr/local/emerald/apps/activemq
ACTIVEMQ_BASE: /usr/local/emerald/apps/activemq
ACTIVEMQ_CONF: 
ACTIVEMQ_DATA: /usr/local/emerald/apps/activemq/data
Loading message broker from: xbean:file:/usr/local/emerald/etc/activemq.xml
ERROR: java.lang.RuntimeException: Failed to execute start task. Reason: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.xbean.XBeanBrokerService#0' defined in URL [file:/usr/local/emerald/etc/activemq.xml]: Cannot create inner bean '(inner bean)' of type [org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter] while setting bean property 'persistenceAdapter'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5' defined in URL [file:/usr/local/emerald/etc/activemq.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Invalid version: 6, could not load org.apache.activemq.openwire.v6.MarshallerFactory
java.lang.RuntimeException: Failed to execute start task. Reason: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.xbean.XBeanBrokerService#0' defined in URL [file:/usr/local/emerald/etc/activemq.xml]: Cannot create inner bean '(inner bean)' of type [org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter] while setting bean property 'persistenceAdapter'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5' defined in URL [file:/usr/local/emerald/etc/activemq.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Invalid version: 6, could not load org.apache.activemq.openwire.v6.MarshallerFactory
	at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:108)
	at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)
	at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:150)
	at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)
	at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.activemq.console.Main.runTaskClass(Main.java:262)
	at org.apache.activemq.console.Main.main(Main.java:115)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.xbean.XBeanBrokerService#0' defined in URL 
[file:/usr/local/emerald/etc/activemq.xml]: Cannot create inner bean '(inner bean)' of type [org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter] while setting bean property 'persistenceAdapter'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5' defined in URL [file:/usr/local/emerald/etc/activemq.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Invalid version: 6, could not load org.apache.activemq.openwire.v6.MarshallerFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:125)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1360)
[...]
{code}

So effectively I'm running ActiveMQ 5.6.0 with KahaDB 5.8?
, good news.
yeah, sorry about that startup issue. There has been a bunch of new modules introduced on trunk so the snapshots are in a bit of flux... but that issue has been resolved. The snapshot from last night (apache-activemq-5.8-20121116.041126-35-bin.tar.gz) should be fine. , Hi Gary, can you share how close you are to officially releasing 5.8? We don't mind using a snapshot release as long as it is stable for production use. But this particular issue has been caused some major headaches and we would like to make one big push to update all the deployments. Thanks
, @Rajib - we are targeting the end of this month for the 5.8 release - so you could plan for  late janurary.
Can we close of this issue based on your validation of the 5.8 snapshot?, So it sounds like the issue is resolved on the 5.8-SNAPSHOT tests, can you confirm this and close the issue if that's the case?, I wanted to test if the issue is fixed but i can't get it work. I replaced 5.7.0 with the activemq-all-5.8-20121107.031227-28.jar and got following error while starting the tests:


{code}
08:40:04,543[JMX connector]  INFO ManagementContext:132 - JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:11099/jmxrmi
08:40:04,574[main]  INFO BrokerService:594 - Using Persistence Adapter: MemoryPersistenceAdapter
08:40:04,851[main]  INFO BrokerService:633 - Apache ActiveMQ 5.8-SNAPSHOT (localhost, ID:myserver-62765-1355470804641-0:1) is starting
08:40:04,871[main]  INFO TransportConnector:243 - Connector vm://localhost?create=false?broker.persistent=false Started
08:40:04,875[main]  INFO BrokerService:657 - Apache ActiveMQ 5.8-SNAPSHOT (localhost, ID:myserver-62765-1355470804641-0:1) started
08:40:04,875[main]  INFO BrokerService:659 - For help or more information please see: http://activemq.apache.org
08:40:04,876[main] ERROR BrokerService:1842 - Memory Usage for the Broker (64 mb) is more than the maximum available for the JVM: 63 mb
08:40:04,878[main] ERROR BrokerService:1898 - Temporary Store limit is 51200 mb, whilst the temporary data directory: C:\unittest\localhost\tmp_storage only has 10213 mb of usable space
08:40:04,879[main]  INFO MessageBrokerActivity:63 - Message broker successfully started. The broker URL is: vm://localhost?create=false?broker.persistent=false
08:40:04,991[ActiveMQ Task-1]  INFO FailoverTransport:1030 - Successfully connected to vm://localhost?create=false?broker.persistent=false
08:40:05,311[main]  INFO MessagingActivity:89 - Messaging successfully started. The URL is: failover:(vm://localhost?create=false?broker.persistent=false)
08:40:07,797[ActiveMQ BrokerService[localhost] Task-2] ERROR Queue:1494 - Failed to page in more queue messages 
java.lang.NoClassDefFoundError: org/fusesource/hawtbuf/UTF8Buffer
	at org.apache.activemq.command.Message.getProperty(Message.java:172)
	at org.apache.activemq.filter.PropertyExpression.evaluate(PropertyExpression.java:182)
	at org.apache.activemq.filter.ComparisonExpression$1.evaluate(ComparisonExpression.java:210)
	at org.apache.activemq.filter.ComparisonExpression.matches(ComparisonExpression.java:478)
	at org.apache.activemq.broker.region.AbstractSubscription.matches(AbstractSubscription.java:92)
	at org.apache.activemq.broker.region.policy.SimpleDispatchSelector.canDispatch(SimpleDispatchSelector.java:46)
	at org.apache.activemq.broker.region.QueueDispatchSelector.canSelect(QueueDispatchSelector.java:57)
	at org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:1905)
	at org.apache.activemq.broker.region.Queue.doDispatch(Queue.java:1846)
	at org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:2003)
	at org.apache.activemq.broker.region.Queue.iterate(Queue.java:1491)
	at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:129)
	at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:47)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.ClassNotFoundException: org.fusesource.hawtbuf.UTF8Buffer
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
	... 16 more
08:41:07,825[main]  INFO BrokerService:692 - Apache ActiveMQ 5.8-SNAPSHOT (localhost, ID:myserver-62765-1355470804641-0:1) is shutting down
08:41:07,826[main]  INFO TransportConnector:283 - Connector vm://localhost?create=false?broker.persistent=false Stopped
08:41:07,841[main]  INFO BrokerService:754 - Apache ActiveMQ 5.8-SNAPSHOT (localhost, ID:myserver-62765-1355470804641-0:1) uptime 1 minute
08:41:07,841[main]  INFO BrokerService:757 - Apache ActiveMQ 5.8-SNAPSHOT (localhost, ID:myserver-62765-1355470804641-0:1) is shutdown

{code}, @Manfred, thanks for trying to validate, the latest snapshot[1] should have that dependency issue resolved:
see: https://issues.apache.org/jira/browse/AMQ-4206

[1] https://repository.apache.org/content/repositories/snapshots/org/apache/activemq/apache-activemq/5.8-SNAPSHOT/apache-activemq-5.8-20121214.032328-53-bin.tar.gz, Same problem with that version. But i only used the activemq-all-5.8-SNAPSHOT.jar from that archive.

{code}
15:07:36,869[ActiveMQ BrokerService[localhost] Task-2] ERROR Queue:1494 - Failed to page in more queue messages 
java.lang.NoClassDefFoundError: org/fusesource/hawtbuf/UTF8Buffer
	at org.apache.activemq.command.Message.getProperty(Message.java:172)
	at org.apache.activemq.filter.PropertyExpression.evaluate(PropertyExpression.java:182)
	at org.apache.activemq.filter.ComparisonExpression$1.evaluate(ComparisonExpression.java:210)
	at org.apache.activemq.filter.ComparisonExpression.matches(ComparisonExpression.java:478)
	at org.apache.activemq.broker.region.AbstractSubscription.matches(AbstractSubscription.java:92)
	at org.apache.activemq.broker.region.policy.SimpleDispatchSelector.canDispatch(SimpleDispatchSelector.java:46)
	at org.apache.activemq.broker.region.QueueDispatchSelector.canSelect(QueueDispatchSelector.java:57)
	at org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:1905)
	at org.apache.activemq.broker.region.Queue.doDispatch(Queue.java:1846)
	at org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:2003)
	at org.apache.activemq.broker.region.Queue.iterate(Queue.java:1491)
{code}, Any update on this issue? We are still waiting for a fix to test it., @Manfred I updated activemq-all such that it can now be used to run a default broker.
{code}java -classpath target/activemq-all-5.8-SNAPSHOT.jar org.apache.activemq.console.Main start broker:\(\){code}

I kicked off a new snapshot so you should be all set in the next hour or so. But don't let missing jars stop your testing, just add what is needed :-)
Thanks for taking the time to validate this issue., Closing as no feedback in a couple months from the reporter.  The issue appears to have been resolved for them.  , “Hello, I am out of office until May the 27th, 2013. During that time I will have no access to my e-mail account. Your email will not be forewarded. In urgent cases send an e-mail to fuw@zeutschel.de, info@zeutschel.de or please call +49 (7071) 97060 and you will be passed on to a competent person in our company. With best regards, Matthias Ronge, Zeutschel GmbH”

„Guten Tag, ich bin bis zum 27. Mai 2013 außer Haus. Ihre E-Mail wird nicht weitergeleitet. In dringenden Fällen senden sie bitte eine E-Mail an fuw@zeutschel.de oder info@zeutschel.de . Sie erreichen uns auch unter +49 (7071) 97060 und werden zu einem kompetenten Ansprechpartner verbunden. Mit freundlichen Grüßen, Matthias Ronge, Zeutschel GmbH“

]