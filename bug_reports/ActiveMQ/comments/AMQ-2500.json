[This dummy implementation produces the problem described in the bug report., can you verify if this problem exists with a current snapshot[1], If it does, a thread dump of the broker and the hung client would be helpful. 
[1] https://repository.apache.org/content/repositories/snapshots/org/apache/activemq/apache-activemq/5.4-SNAPSHOT/, I failed to compile the attached test, there is a missing dependency on class AbstractConsumer.

Matthias can you reproduce it against the 5.3.0 release? I haven't seen any public discussion of plans to make a 5.2 bugfix release at this stage, so it is likely that you'll be urged to upgrade anyway, either to 5.3.0 or to 5.3.1 when it is released., I appended a version without internal dependency to AbstractConsumer, I tested the behaviour on 5.3 and the 5.4 Snapshot. With both versions the broker recovers after several messages have been read from the queue.  So the error obviously doesn't occur anymore., resolving based on comment from Matthias.]