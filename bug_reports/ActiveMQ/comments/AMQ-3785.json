[Should provide unit tests and patch, fix in http://svn.apache.org/viewvc?rev=1361984&view=rev
the sslfactory was bypassing normal transport factory resolution. fix is to have it use the sslcontext thread local, which is respected by the ssltransport factory., I downloaded the ActiveMQ 5.7 snapshot Jars and still had a similar issue. See attached zip file.
, Here it is. 

The SSL failover fails with a certificate_unknown error using
ActiveMQSslConnectionFactory.setKeyAndTrustManagers

If, however, that line of code is commented out and Thread.setSslContext is used instead it does work., This patch fixes the original issue that was brought up with here.  

The problem was that the getUrlOrResourceAsStream method would assume that the passed store name was formatted as a url or was available on the classpath.  It does not take into account the possibility that the store was not located in the classpath and that the passed store name was not converted into a url.

This patch fixes this issue. 

Note that the attached stores are copies from the activemq-stomp module., I have created a new issue, AMQ-4227, to track the bug that I noticed using the test case that was attached to this issue.]