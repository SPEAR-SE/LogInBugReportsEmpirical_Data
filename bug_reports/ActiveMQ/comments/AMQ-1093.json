[I've just committed a patch to trunk for this which I think resolves the issue. 

There's no test case to easily verify its resolved though (its a tad hard to recreate) so I wonder could you try and see if this is now fixed - if not let us know and we can reopen this issue]