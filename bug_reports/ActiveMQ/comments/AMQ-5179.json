[the testcase and activemq.xml file, screenshots of queue state, Test doesn't seem to indicate any issues. , Could not reproduce this, if the attached test case can be modified to demonstrate a problem please reopen. , This issue is still present. However, there is no reliable way to reproduce it, looks like it's a result of race conditions.

Our case is following: STOMP producers that send messages to the virtual topics and STOMP consumers on physical queues, mapped to the virtual topics. Messages can be persistent or not. After week or several days of uptime, queue counter in the web console, /admin/xml/queues.jsp and jooloka can return invalid queue size, however when trying to browse it or consume messages - no pending messages in the queue.]