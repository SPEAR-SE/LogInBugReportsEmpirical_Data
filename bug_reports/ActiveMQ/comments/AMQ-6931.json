[I think this is solved via: https://issues.apache.org/jira/browse/AMQ-6815, [~gtully] The fix for AMQ-6815 doesn't handle the zero-length payload problem (it only looks for payloads that are larger than the total size of the file). Even if the changes under AMQ-6815 fix the cause of the corruption, it might still be worth adding a check for content that is shorter than the size of the header so we don't error out when reading a file that does get corrupted., I jsut raised another issue: AMQ-6936, not sure if it is related to this one.]