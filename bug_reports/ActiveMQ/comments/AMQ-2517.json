[btw, restarting the client helps, for next few minutes, A AMQ(5.2.0) Broker server and three durable subscribers(no message selector).
It work fine usually.
After a few days one producer send a message successfully, but the subscribers do not receive any messages.
Restart the subscribers, it does not work yet.
Restart the Broker, three  subscribers receive message this time.
I'm so confused what's wrong.
:(
 , Hi, 

I am also experiencing same problem.

I am using ActiveMQ broker (v 5.3.1) and NMS ActiveMQ clients. 

Consumer is subscribed to topic and uses asynchronous message receiving. However problem appears when consumer is idle for about 30 minutes, that is consumer stops receiving messages after it has been idle for approximately 30 minutes. 

This problem does not appear when both clients and broker are running on same machine. Everything works fine when consumer application is restarted.

I have set maxInactivityDuration to 0. 

I have also set handlers for ConnectionInterruptedListener, ConnectionResumedListener and ExceptionListener but no events are fired. 

After I close consumer application ACTIVEMQ console does report one consumer less. 

Here is transport connector configuration element in activemq.xml: 

  <transportConnector name="openwire" 
uri="tcp://0.0.0.0:61616?wireFormat.maxInactivityDuration=0&keepAlive=true" discoveryUri="multicast://default"/> 


and client connects by using following uri: 

"failover:(tcp://somehost:61616?wireFormat.maxInactivityDuration=0)" 

Any idea why is this happening? , This could be related to issues that were fixed in the NMS client.  Reopen if the problem still exists using the latest ActiveMQ and NMS client library., reopen to set fix version to 5.6, closing again with correct fix version]