[Commit 56baba96c657d4e44b88955a964d6c92ff39b822 in activemq's branch refs/heads/master from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=56baba9 ]

AMQ-6875 - Use the correct destination for Virtual destination consumers
when using Virtual Topics
, Commit 94aea677acab41fc8ba425c9fefc9c351fb31a94 in activemq's branch refs/heads/activemq-5.15.x from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=94aea67 ]

AMQ-6875 - Use the correct destination for Virtual destination consumers
when using Virtual Topics

(cherry picked from commit 56baba96c657d4e44b88955a964d6c92ff39b822)
, This is fixed.  Finding the correct topic requires a little bit of overhead but this is only done if useVirtualDestSubs is set to true and a new virtual topic demand advisory is sent (ie when the consumer comes online) so it shouldn't be run very often unless there are consumers constantly coming online/offline which would cause a lot more cpu in other places as well.  Also, the arrays that are being manipulated/copied are going to generally be very small as they are just the size of a tokenized destination name.  If for some reason this ends up being a performance hit then the resulting computed topics could be stored into a cache so they only have to get computed once per destination.]