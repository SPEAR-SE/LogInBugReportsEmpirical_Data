[Added patch with unit test that demonstrates this problem., The test fails because the JMSTemplate creates a new consumer on each call to receive, and the fact that its inside a transaction when onMessage is called means that the consumers aren't closed until the transaction is committed.  Since the consumers have their prefetch left at default settings the second message is sitting in the prefetch buffer of the consumer created by the first call to JMSTemplate receive.  Once the onMessage completes and the transaction is committed the second message is available for dispatch once again.  You can observe this by adding another call to the JMSTemplate send to Queue A, then you test condition will be met and the test will pass., Test case is invalid use of transactional JMS.]