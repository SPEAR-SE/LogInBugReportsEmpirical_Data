[tidy stack trace, r774829 with test case. Extraneous wakeup in remove which inverts the locking order]