[fixed in http://git-wip-us.apache.org/repos/asf/activemq/commit/fad1dd0f

the redelivery policy is validated before dispatch. If max deliveries is exceeded the message is poison acked and we move on to the next., additional refinement to config check to transacted sessions

http://git-wip-us.apache.org/repos/asf/activemq/commit/f70dc743
]