[Updating my comment now that I re-read and see you are referring to Java home having a space.  I was having a similar problem when ActiveMQ was installed to a directory path with spaces (like Program Files).  Maybe this other info could help you.

Based on what I was seeing on Windows, I attached a patch to JIRA 5422:
https://issues.apache.org/jira/browse/AMQ-5422

I didn't test on Linux but that patch should help for windows.

Basically the variable needs quotes around it in the script.
-Djava.security.auth.login.config=%ACTIVEMQ_CONF%\login.config
should be
-Djava.security.auth.login.config="%ACTIVEMQ_CONF%\login.config", AMQ-5422 is about activemq .bat but this issue is about activemq shell script as I'm using cygwin.
$EXEC_OPTION $DOIT_PREFIX "$JAVACMD $ACTIVEMQ_OPTS $ACTIVEMQ_DEBUG_OPTS \
lines in activemq script should be replaced by
$EXEC_OPTION $DOIT_PREFIX "\"$JAVACMD\" $ACTIVEMQ_OPTS $ACTIVEMQ_DEBUG_OPTS \

double quotes around $JAVACMD are already present in activemq-admin script on the other end.

, Fixed that in my branch/fork for AMQ-5378.

See https://github.com/breuninger-ecom/activemq/commit/c0e9aa7483cdc51f5fb21edd1bac1580a08c84b3 in https://github.com/apache/activemq/pull/48
See , can be closed, will be fixed with 5.12.0]