[This is worth looking at but would need some investigation to see what side effects there might be.  I know the lock is used for iterating and also to synchronize across the destinationMap (which is not a concurrent hash map).  I am also not sure how much removing that lock will help with contention without truly understanding the cause of the slowness.  While there are threads waiting on that lock, if you remove the lock you could just push the contention down stream.  For example, if the reason that lots of threads are waiting on the destinations lock is because some threads are being slow to write to disk then it's possible removing this lock wouldn't help much because those threads would now just be waiting on the locks in the message store instead.]