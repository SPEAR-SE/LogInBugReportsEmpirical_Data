[Added a test case to demonstrate the problem, This is exactly what we are experiencing. We are using mobile devices to connect to ActiveMQ broker using STOMP (1.5.1) and the same result. This also affects ActiveMQ version 5.4.2., ActiveMQ 5.x implements Stomp 1.0 which has no heartbeat mechanism to detect that a client connection has dropped.  In the event that the socket drop is not detected then the tcp keepalive won't kick in for up to two hours which is why you would see an error like this.  From the brokers point of view the connection appears valid an the subscriber is assumed to still be connected., NMS is creating a new client ID every time a connection is created, right?  In which case, a timeout on the broker wouldn't matter.

We're seeing this problem without the failover transport - just a straight ssl://.... connection.  The connection is created once and used to create multiple sessions in separate threads, then the problem occurs., The issue reports the error in relation to durable subscribers which requires that the client reconnect with same client id and subscribe to the same subscription id which is what my comment was referencing.  If you are experiencing something like this without durable subscribers then there could also be some other issue at play.

You best bet as always to get a quick resolution is to create a unit test that can reproduce the problem so we can debug it.  , Fixed by use of Stomp v1.1 client with heartbeats (AMQ-3449) and also with improvements made in AMQ-3442]