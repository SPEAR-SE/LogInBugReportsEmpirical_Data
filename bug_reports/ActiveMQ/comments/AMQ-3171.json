[logs from server, can you attach a thread dump (jstack) of the server/broker if this occurs again, that will give some insight into what the connection is doing and what the shutdown/close is waiting for, ok
I will try do it when occur

can you tell me how to get it "thread dump (jstack) of the server/broker", I met the same issue. Please see below for the error message:

SEVERE: Channel was inactive for too long: localhost/127.0.0.1:61616
org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:62)
org.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1216)
org.apache.activemq.ActiveMQConnection.asyncSendPacket(ActiveMQConnection.java:1208)
org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1643)
org.apache.activemq.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:227)
org.apache.activemq.ActiveMQMessageProducerSupport.send(ActiveMQMessageProducerSupport.java:269), Not enough information to reproduce this.  More information on the setup and ideally a test case to reproduce would be helpful.  

Logs from the client would be needed at the least to see if there's a problem here.]