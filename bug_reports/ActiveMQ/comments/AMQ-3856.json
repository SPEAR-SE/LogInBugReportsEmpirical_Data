[Fixed in trunk, also added checks for the ObjectMessage case., Thanks for the fix.  There is one other place that needs it.  writeResponse in MessageServlet.java needs the same fix.  , The same change is needed in MessageServlet.  The fix was applied to MessageListenerServlet which also needed it.  , Recommend you supply some patches and even better tests for the issues you are seeing., Patches are easy I'll get those together.  Best I can tell the activemq-web module does not contain any junit tests?  or at least the src/test directory doesn't exist as in other modules.  Fairly new to coding in ActiveMQ so perhaps they are located some place else?

It's possible the right place for these tests is in activemq-web-demo/src/test?  I see some reading tests but no POST requests.  If that's the right place then I'll work up some POST examples.  

I've confirmed that's the right place for the tests and have developed a test showing the problem.  I'll attach the diff., Patch for writeMessageResponse change, I could not get a junit file to trigger this but I know I ran into it from a webclient before.  Best I can tell it could only happen when sync=true or a continuation is true on a getMessage.  The code is same changes made to MessageListenerServlet, Add's testPost test that shows crash on empty text messages.  , ok, I figured out how I was getting the crash.  It was on the consume side of a message with no text. Junit added, fix fixes crashing junit.  , Applied the patch and unit tests, thanks for the contribution.  ]