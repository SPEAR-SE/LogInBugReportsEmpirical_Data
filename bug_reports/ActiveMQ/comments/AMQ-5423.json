[Fixed on trunk, This fix only addressed the memory leak for Client-Individual mode but Client mode is still affected as multiple messages are acknowledged with a single ACK.  The single ACK is removed from memory but all the rest remain which grows over time until AMQ crashes or until the client session ends and all the pending ACKs are cleaned up at that point.  At the moment we are having to regularly restart our STOMP clients to prevent the memory leak from causing a crash.

Can you please reopen this and fix the leak for Client mode as well.]