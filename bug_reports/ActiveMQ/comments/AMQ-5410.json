[From a quick glance my assumption is that message 2 is sitting in the prefetch buffer of the subscription for the first client as you did not close that prior to creating a new client connection to the broker.  This is normal behavior when dealing with multiple clients across networks of brokers.  , Thanks for your input. Setting the prefetch limit to 1 and only doing a proper disconnect results in message order. 

Regarding disconnects:
considering an mobile usecase, Proper disconnects may not come. Is there a way to prevent this ? Also, setting a low keepalive timeout will not be feasible always., This is not an issue with the broker, for architecture questions please ask on the users mailing list.]