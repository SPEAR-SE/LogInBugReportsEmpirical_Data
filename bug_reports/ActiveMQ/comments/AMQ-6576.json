[Embedding {{xbean-spring}} bundle into {{activemq-osgi}} solves the problem with Camel 2.17.x and 2.18.x. I'll prepare a pull request for master. Please backport it to 2.14.x too., GitHub user sobkowiak opened a pull request:

    https://github.com/apache/activemq/pull/223

    [AMQ-6576] Problem while installing activemq-camel with Camel 2.17.x or 2.18.x

    Please backport this to 2.14.x too

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/sobkowiak/activemq AMQ-6576

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq/pull/223.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #223
    
----
commit 6534a83c40e07fc5f9edb1b6a89ae58dd6908456
Author: Krzysztof Sobkowiak <krzys.sobkowiak@gmail.com>
Date:   2017-01-23T23:57:03Z

    [AMQ-6576] Problem while installing activemq-camel with Camel 2.17.x or 2.18.x

----
, Thanks for the PR, I will merge this for 5.14.4 and 5.15.0, Commit 6534a83c40e07fc5f9edb1b6a89ae58dd6908456 in activemq's branch refs/heads/master from [~sobkowiak]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=6534a83 ]

[AMQ-6576] Problem while installing activemq-camel with Camel 2.17.x or 2.18.x
, Commit 5c035fac223517d5e6e3d5d511d32cd0b892a213 in activemq's branch refs/heads/master from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=5c035fa ]

https://issues.apache.org/jira/browse/AMQ-6576

This closes #233
, Github user asfgit closed the pull request at:

    https://github.com/apache/activemq/pull/223
, Commit a579023e78d434de6aaa05f64a3c1fa95bd6fe78 in activemq's branch refs/heads/activemq-5.14.x from [~sobkowiak]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=a579023 ]

[AMQ-6576] Problem while installing activemq-camel with Camel 2.17.x or 2.18.x

(cherry picked from commit 6534a83c40e07fc5f9edb1b6a89ae58dd6908456)
]