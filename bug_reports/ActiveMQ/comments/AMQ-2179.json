[Patch for the issue is attached.

Note that, the selectNodeIterator check is still attempted to maintain previous functionality. In the case of selecting an empty element selectNodeIterator would return true while eval() returns false. 

The fix adds more flexibility to the XPath expressions that can be used and SelectorTest.java was update to to test a wider range of comparisons., Patch committed in SVN revision 758184. Thanks]