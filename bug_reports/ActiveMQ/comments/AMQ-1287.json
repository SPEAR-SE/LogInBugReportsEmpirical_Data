[Need to retest against various releases.
Sounds like a possible duplicate of 1192
https://issues.apache.org/activemq/browse/AMQ-1192
, 
Retested with 4.1.1 from website
http://apache.mirror99.com/activemq/apache-activemq/4.1.1/apache-activemq-4.1.1.tar.gz

Problem still exists in 4.1.1

Q writers writes 50 messages, 1 per second
Q reader reads 10 at 2 per second, re-run reader program each time it finishes.

Reader is reading 0-9, 20-29, 48-49.
STOMP client reads 22 messages.
But Q stats show 50 messages as being dequeued.

Type = Queue
DispatchCount = 50
Destination = TEST.FOO
QueueSize = 0
Name = TEST.FOO
DequeueCount = 50
MemoryPercentageUsed = 0
ConsumerCount = 1
MemoryLimit = 9223372036854775807
EnqueueCount = 50
BrokerName = localhost


I think the STOMP connector is prefetching, but when the STOMP client disconnects it is just losing those prefetched messages.
, 
ISSUE RESOLVED.

Messages are tossed if you do NOT use client ack's.
Once I set and used client ack's to the broker no messages are lost.

, You MUST have the STOMP client set to use client acks or you will lose messages prefetched by the STOMP connector.
]