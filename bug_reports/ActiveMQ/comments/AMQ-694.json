[Could you describe the strange behaviour?  Perhaps even submit a small unit test for it?, I was wondering how you thought the string was being cut short?

You could try patch the selector test case to add some specific messages and selectors you are using...

https://svn.apache.org/repos/asf/incubator/activemq/trunk/activemq-core/src/test/java/org/apache/activemq/selector/SelectorTest.java
, I wonder if this was a transient bug that was fixed after M4? Can you still reproduce it, if so how?, We've no idea how to reproduce this issue - please let us know more detail and if its still an issue with a recent release of ActiveMQ (such as 4.0) we can always reopen this issue]