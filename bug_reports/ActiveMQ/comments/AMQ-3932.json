[Attaching test case, heavily based on test from AMQ-2446., It seems valid that in the case where the transport is not connected the receiveNoWait and the timed receive as well should just return null to indicate that there's not currently a message available since in the timed case you could end up waiting much longer than the intended time otherwise.  , Fixed in trunk.]