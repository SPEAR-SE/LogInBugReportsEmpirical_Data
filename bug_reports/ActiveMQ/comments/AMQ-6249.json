[that seems like a sensible enhancement.

btw have you considered the org.apache.activemq.store.jdbc.LeaseDatabaseLocker, Here is an enhanced version of the patch, which checks for both "stopping" and "stopped" state, which can happen when the lock query returns an error (for instance "table does not exist") + log the error in "INFO", otherwise it is not logged at all by default, which makes troubleshooting more difficult.]