[In hopes of providing some evidence and encouragement, I'm posted a memory snapshot of the top 24 ActiveMQ classes by the amount of memory all its live objects take up.  The server is a Jboss server that uses ActiveMQ for all its messaging, and the server has been runing for 6 days straight.  Its sorted by total size of all reachable/live objects of the class to show you how much higher the count and total memory size of the top tier are from the rest.

{quote}
        Count  ... Total Size ... Class

	37189 ... 2360k ... org.apache.activemq.management.CountStatisticImpl
	
	18596 ... 1616k ... org.apache.activemq.management.TimeStatisticImpl
	
	9295 .... 1098k ... org.apache.activemq.management.JMSSessionStatsImpl
	
	9295 .... 1080k ... org.apache.activemq.ActiveMQSession
	
	27945 ... 436k .... org.apache.activemq.util.LongSequenceGenerator
	
	9307 .... 399k .... org.apache.activemq.command.SessionId
	
	9295 .... 335k .... org.apache.activemq.command.SessionInfo
	
	9295 .... 299k .... org.apache.activemq.ActiveMQSessionExecutor
	
	9295 .... 236k .... org.apache.activemq.MessageDispatchChannel
	
	3836 .... 194k .... org.apache.activemq.command.ProducerId
	
	9278 .... 154k .... org.apache.activemq.ra.ManagedSessionProxy
	
	24 ...... 96k ..... org.apache.activemq.command.DataStructure[]
	
	922 ..... 28k ..... org.apache.activemq.command.XATransactionId
	
	76 ...... 19k ..... org.apache.activemq.command.ActiveMQTextMessage
	
	76 ...... 6k ...... org.apache.activemq.command.MessageDispatch
	
	160 ..... 3k ...... org.apache.activemq.util.ByteSequence
	
	76 ...... 3k ...... org.apache.activemq.command.MessageId
	
	12 ...... 3k ...... org.apache.activemq.ActiveMQConnection
	
	12 ...... 1k ...... org.apache.activemq.transport.tcp.TcpTransport
	
	31 ...... 1k ...... org.apache.activemq.command.ActiveMQTopic
	
	28 ...... 1k ...... org.apache.activemq.command.ConsumerId
	
	14 ...... 1k ...... org.apache.activemq.command.ConsumerInfo
	
	21 ...... 1k ...... org.apache.activemq.TransactionContext
{quote}

And I'd like to note at any given time, on my server there are only about 15 ActiveMQSessions being used by the beans at a time but 9000 more along with all their stats and ids are stuck in memory too., We seem to have same problem. Complete memory histogram is attached to the issue., It looks like we didn't use sessions right. We were opening them but not closing afterwards, it was OK when we had a new connection per message, but as soon as we moved to the single connection factory, memory leak became apparent., Duplicate of AMQ-2166 (contains a fix)

Actually mine was the duplicate of this (didn't find it then, I appologize), Fixed by AMQ-2166]