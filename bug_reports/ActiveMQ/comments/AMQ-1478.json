[Saw exact same exception but in different environment. On one Windows box, CPP2.1 as producer, 4.1.1 for broker and receiver and producers. Nothing persistent or durable. No errors in broker log.

Repeatedly restarting the CPP producer gave same error. However when I took down all my java producer/receivers and restarted them, then the CPP producer worked fine. 

Have been using 4.1.1 since May, and CPP2.1 for a week with no problems before. (run 100msg/second everyday)]