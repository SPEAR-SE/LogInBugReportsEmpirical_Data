[This should now be fixed in 4.x. If its not could you please create a JUnit test case that demonstrates it not working & we'll fix it for you.]