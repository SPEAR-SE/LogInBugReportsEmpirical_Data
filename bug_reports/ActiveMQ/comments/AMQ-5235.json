[I'd advise testing on 5.10 given the number of fixes that have gone into LevelDB since 5.9.0, Timothy,

Thank you for your answer and suggestion

We have the same behavior with 5.10 snapshot 20 december that we have in production.

Anselme, In fact I would greatly appreciate if an author confirms that the tempUsage is computed in
LevelDBClient.scala
at line :
  def size: Long = logRefs.size * store.logSize

Thank you in advance
Anselme, Hi, we also faced with this problem.

Maybe this can help, ActiveMQ writes the following log:
{code}
2015-02-02 14:56:12,829 | ERROR | Temporary Store limit is 102400 mb, whilst the temporary data directory: /usr/local/activemq/data/amq/tmp_storage only has 6037 mb of usable space - resetting to maximum available 6037 mb. | org.apache.activemq.broker.BrokerService | main
{code}
but directory _/usr/local/activemq/data/amq/tmp_storage_ isn't exist

also we use LevelDB, and folder size _activemq-data_ is 754184, Today I facet with following:
{code}
2015-02-03 13:13:57,259 | INFO  | Usage(default:temp:queue://test.queue:temp) percentUsage=0%, usage=3145728000, limit=107374182400, percentUsageMinDelta=1%;Parent:Usage(default:temp) percentUsage=102%, usage=3145728000, limit=3079098368, percentUsageMinDelta=1%: Temp Store is Full (0% of 107374182400). Stopping producer (ID:myserver.internal-38652-1422959666113-2:20:-1:1) to prevent flooding queue://test.queue. See http://activemq.apache.org/producer-flow-control.html for more info (blocking for: 151s) | org.apache.activemq.broker.region.Queue | ActiveMQ Transport: tcp:///192.168.1.84:53129@61611
{code}
> Temp Store is Full (0% of 107374182400)
:)

Also, I disabled producerFlowControl
{code}
             <policyEntry queue=">" producerFlowControl="false" memoryLimit="100mb" gcInactiveDestinations="true"
                                                inactiveTimoutBeforeGC="30000" >
                  <deadLetterStrategy>
                        <individualDeadLetterStrategy queuePrefix="DLQ." useQueueForQueueMessages="true" />
                  </deadLetterStrategy>
            </policyEntry>
{code}

All queues are empty, but activeMQ says: "Usage(default:temp) percentUsage=102%, usage=3145728000", Also, when all queues are empty activemq-data isn't empty:
{code}
dmitriy@storage1:~$ ls /mnt/data/activemq-data/
0000000000000000.log        0000000070928795.log.crc32  00000000c81efbc7.log.crc32  000000014530eada.log.crc32  000000019036cbb3.log.crc32
0000000000000000.log.crc32  0000000076d3a105.log.crc32  00000000ce600118.log.crc32  000000014b71e842.log.crc32  000000019676cceb.log
000000000642d171.log        000000007d13b42f.log.crc32  00000000dae237a2.log.crc32  0000000151b2f3b4.log.crc32  000000019676cceb.log.crc32
000000000642d171.log.crc32  000000008354bc7f.log.crc32  00000000e1226f24.log.crc32  0000000157f43825.log.crc32  00000001af76efcc.log
000000000c841ca6.log.crc32  000000008994ced1.log.crc32  00000000eda512f5.log.crc32  000000015e35748b.log.crc32  00000001b31c19ac.index
0000000012c4b726.log.crc32  000000008fd5f323.log.crc32  00000000f3e57ad6.log.crc32  000000016476a79f.log        dirty.index
000000001904e4ec.log.crc32  0000000096172ab9.log.crc32  00000000fa2680ee.log.crc32  000000016476a79f.log.crc32  hs_err_pid28664.log
000000001f465d31.log.crc32  000000009c586165.log.crc32  000000010067dc54.log.crc32  000000016ab6c2d5.log        hs_err_pid28664.log.crc32
0000000025869104.log.crc32  00000000a2997b85.log.crc32  0000000106a8e7df.log.crc32  000000016ab6c2d5.log.crc32  lock
000000003849599b.log.crc32  00000000a8daece5.log.crc32  000000010ce9ed67.log.crc32  0000000170f6c43b.log        nodeid.txt
000000003e8a51b9.log.crc32  00000000af1b286a.log.crc32  00000001132b130d.log.crc32  0000000170f6c43b.log.crc32  plist.index
0000000044caba2d.log.crc32  00000000b55c8640.log.crc32  00000001196bd712.log.crc32  000000017d76c6bc.log.crc32  store-version.txt
000000006a515f8b.log.crc32  00000000c1debb6e.log.crc32  000000013eef74de.log.crc32  000000019036cbb3.log
{code}, yes, the deletion is lazy. Several minutes somtimes.

Also, one message alone can make a whole data file (the .log) necessary, which are 100MB each by default. We reduced this problem by setting logSize to 10 MB.

For empty queues that still make temp percent non-zero, MAybe you should try to stop/restart your broker ?

Anselme, LevelDB has been deprecated and is no longer supported.]