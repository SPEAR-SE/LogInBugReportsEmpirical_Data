[Commit 0f0bdb21ef97c39ec7d54d164e07921611c1de08 in activemq's branch refs/heads/master from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=0f0bdb2 ]

https://issues.apache.org/jira/browse/AMQ-6524

Fixing a thread safety issue with memoryUsage when using concurrentStoreAndDispatch
that was causing memory usage to get out of sync.

The InnerFutureTask class inside KahaDB was not thread safe which was
the root cause of the problem.
, Commit 3542657541e3581d77282654eb19ebae42014dbf in activemq's branch refs/heads/activemq-5.14.x from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=3542657 ]

https://issues.apache.org/jira/browse/AMQ-6524

Fixing a thread safety issue with memoryUsage when using concurrentStoreAndDispatch
that was causing memory usage to get out of sync.

The InnerFutureTask class inside KahaDB was not thread safe which was
the root cause of the problem.

(cherry picked from commit 0f0bdb21ef97c39ec7d54d164e07921611c1de08)
]