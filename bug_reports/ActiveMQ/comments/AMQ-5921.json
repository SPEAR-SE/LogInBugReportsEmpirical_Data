[A good way to progress this is to provide a test case that shows the problem. , Thanks, I'll type one up in the morning., Uploading test case that demonstrates the problem.  I apologize for any typos - had to retype by hand in Notepad.  

Basically the Producer class tries to send an ActiveMQObjectMessage that contains an object of type Class<?> to the Consumer class.  If the value is something like int.class things work fine, but if you set the value to void.class you get a JMSException: Failed to build body from content.  Serializable class not available to broker.  Reason java.lang.ClassNotFoundException: void

org.apache.activemq.util.ClassLoadingAwareObjectInputStream.java used to include a check for void.class, but it appears that when that class was reworked for ticket AMQ-1584, the check for void.class was lost.

Thanks., Uploading possible/proposed change., Commit 41ee3ec8dea1df70cb12f722dcf797f50b24fc54 in activemq's branch refs/heads/master from [~tabish121]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=41ee3ec ]

https://issues.apache.org/jira/browse/AMQ-5921

Add back support for type void and test., Created a unit test from the files provided and applied the fix, thanks!, Thanks so much!]