[Try creating a unit test to reproduce the issue to allow for someone to investigate.  , Commit 5b73ffad6bd000fdad93bc473900b2374d36181a in activemq's branch refs/heads/master from [~tabish121]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=5b73ffa ]

https://issues.apache.org/jira/browse/AMQ-6117

Test to try and reproduce the issue., Created a unit test for this and I can't reproduce it, reopen if you can reproduce in a JUnit test case.  I added AMQ6117Test.java to activemq-unit-tests if you want to try and work with that test, Hi Timothy, thanks for looking into this. The unit test indeed seems to pass. I am using transacted sessions, maybe this has something to do with it.

Remove a message via JMX:
ObjectName queueObjectName = new ObjectName("org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=DLQ.workQueue");
connection.invoke(queueObjectName, "removeMessage", new String[]{messageID}, new String[]{String.class.getName()});

Browse a queue via JMX:
CompositeData[] data = (CompositeData[]) connection.invoke(queueObjectName, "browse", null, null);

I have worked around this by using JMS in favor of JMX for now, but I will try to reproduce in a test when time permits., I wouldn't expect the transacted bits to be an issue.  If you manage to reproduce please reopen and attach a test and I'll look into it.  , Hi Timothy, I have rewritten that test several times using transacted sessions, multiple threads and remote JMX but I cannot seem to get it reproduced in an ActiveMQ unit test.
In a JBoss/AMQ environment however, I can reproduce it consistently using either plain Java or by connecting jconsole. ]