[Original reported on the stomp spec mailing lists: https://groups.google.com/d/msg/stomp-spec/jjUuqDoWd6A/t675aApoJikJ, I wouldn't say its incorrect given that the spec reads, "The intermediate server MAY 'update' header values by either prepending headers to the message or modifying a header in-place in the message."  The "MAY" in there would indicate that either way is acceptable. , The incorrect bit is that it selects the last header as the value instead of using the first header in the header list as the value., Gotcha, thanks for clarifying that here in the issue., Fix and test case applied in trunk. ]