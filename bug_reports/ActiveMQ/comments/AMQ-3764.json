[I just tried out the source in the example folder with a failover uri and it works fine.  Perhaps you can provide a sample to show the problem you are running into., The crux of this issue is hinted at in the [log4j-jms.properties file|http://svn.apache.org/repos/asf/activemq/trunk/assembly/src/release/example/src/log4j-jms.properties], to avoid a circular dependency, activemq cannot log to the jms appender:
{code}
## Be sure that ActiveMQ messages are not logged to 'jms' appender
log4j.logger.org.apache.activemq=INFO, stdout
{code} , I have the same issue when I want to use the JMSAppender with the failover option.

I create a small eclipse project (see attachment) with these files:
- Log4jJMSAppenderExample.java
- log4j.xml
- log4j-jms.properties
- jndi.properties
- every jars found in ActiveMQ _lib_ directory
- log4j-1.2.16.jar found in ActiveMQ _lib/optional_ directory
- slf4j-log4j12-1.6.4.jar found in ActiveMQ _lib/optional_ directory

In debug mode, I suspend the two Threads (main & ActiveMQ Task-1).
The main thread is blocked in FailoverTransport ({{FailoverTransport.oneway:524}}).
The ActiveMQ Task-1 is blocked in the TcpTransportFactory during the instantiation of the Logger ({{Log4jLoggerFactory.getLogger:58}})

{panel:title=Output without failover option|borderStyle=none}
{noformat}
[....]
log4j: Class name: [org.apache.log4j.net.JMSAppender]
log4j: Setting property [initialContextFactoryName] to [org.apache.activemq.jndi.ActiveMQInitialContextFactory].
log4j: Setting property [providerURL] to [tcp://localhost:61616].
log4j: Setting property [topicBindingName] to [logTopic].
log4j: Setting property [topicConnectionFactoryBindingName] to [ConnectionFactory].
log4j: Getting initial context.
log4j: Looking up [ConnectionFactory]
log4j: About to create TopicConnection.
log4j: Creating TopicSession, non-transactional, in AUTO_ACKNOWLEDGE mode.
log4j: Looking up topic name [logTopic].
log4j: Creating TopicPublisher.
log4j: Starting TopicConnection.
log4j: Adding appender named [JMS] to category [root].
2012-06-07 08:14:00,935 INFO  Log4jJMSAppenderExample - Test log
Received log [INFO]: Test log
{noformat}
{panel}

{panel:title=Output with failover option|borderStyle=none}
{noformat}
[....]
log4j: Class name: [org.apache.log4j.net.JMSAppender]
log4j: Setting property [initialContextFactoryName] to [org.apache.activemq.jndi.ActiveMQInitialContextFactory].
log4j: Setting property [providerURL] to [failover:tcp://(localhost:61616)].
log4j: Setting property [topicBindingName] to [logTopic].
log4j: Setting property [topicConnectionFactoryBindingName] to [ConnectionFactory].
log4j: Getting initial context.
log4j: Looking up [ConnectionFactory]
log4j: About to create TopicConnection.
log4j: Creating TopicSession, non-transactional, in AUTO_ACKNOWLEDGE mode.
{noformat}
{panel}

If I remove the jar *slf4j-log4j12-1.6.4.jar* from the classpath, everything works fine and see the output below:

{panel:title=Output with failover option and without slf4j-log4j12-1.2.6.4|borderStyle=none}
{noformat}
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
[....]
log4j: Class name: [org.apache.log4j.net.JMSAppender]
log4j: Setting property [initialContextFactoryName] to [org.apache.activemq.jndi.ActiveMQInitialContextFactory].
log4j: Setting property [providerURL] to [failover:(tcp://localhost:61616)].
log4j: Setting property [topicBindingName] to [logTopic].
log4j: Setting property [topicConnectionFactoryBindingName] to [ConnectionFactory].
log4j: Getting initial context.
log4j: Looking up [ConnectionFactory]
log4j: About to create TopicConnection.
log4j: Creating TopicSession, non-transactional, in AUTO_ACKNOWLEDGE mode.
log4j: Looking up topic name [logTopic].
log4j: Creating TopicPublisher.
log4j: Starting TopicConnection.
log4j: Adding appender named [JMS] to category [root].
2012-06-07 08:28:49,467 INFO  Log4jJMSAppenderExample - Test log
Received log [INFO]: Test log
{noformat}
{panel}, Standalone Eclipse project]