[Using Runtime.getRuntime().halt() instead of System.exit() as the later is not recommended to be used in shutdown hooks. There should be no problems with halt() as all resources are cleaned up before this call., Using halt() in shutdown hook will break this functionality, since it is intended to notify the embedding container (servicemix) of a shutdown. The shutdown hook is replaced with calling System.exit() from a separate thread during broker stop().]