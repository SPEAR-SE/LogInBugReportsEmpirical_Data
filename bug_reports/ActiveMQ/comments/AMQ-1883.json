[I found "org.apache.activemq.default.directory.prefix" system property that can be used to circumvent the problem in generic way is at maven plugin AMQ-1223. 

I think it would be helpful to mention this along with error message if canonical form can't be obtained. I found out XML configuration documentation disturbingly misleading <http://activemq.apache.org/xml-configuration.html> since it doesn't make use of the property.

Mentioning this feature in documentation of persistence <http://activemq.apache.org/persistence.html>  would prevent fist time mistakes such as mutilation of the 'user.dir' although IOUtils.getDefaultDirectoryPrefix() could use 'user.dir' fallback precaution instead of trusting on the file system manager., Will be deprecating Kaha and AMQ stores in 5.8]