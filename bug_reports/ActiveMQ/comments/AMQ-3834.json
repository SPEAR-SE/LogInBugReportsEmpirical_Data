[The key trace is:{code}"ActiveMQ Transport: tcp:///10.77.73.176:62992" daemon prio=10 tid=0x00007f148400b800 nid=0x313f waiting for monitor entry [0x00007f16f35f4000]
  java.lang.Thread.State: BLOCKED (on object monitor)
       at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:133)
       at java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)
       at java.io.Writer.write(Writer.java:157)
       at org.apache.log4j.helpers.QuietWriter.write(QuietWriter.java:47)
       at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:301)
       at org.apache.log4j.DailyRollingFileAppender.subAppend(DailyRollingFileAppender.java:358)
       at org.apache.log4j.WriterAppender.append(WriterAppender.java:159)
       at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:230)
       - locked <0x000000009c0b8890> (a org.apache.log4j.DailyRollingFileAppender)
       at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:65)
       at org.apache.log4j.Category.callAppenders(Category.java:203)
       - locked <0x000000009c0b1128> (a org.apache.log4j.spi.RootLogger)
       at org.apache.log4j.Category.forcedLog(Category.java:388)
       at org.apache.log4j.Category.log(Category.java:853)
       at org.slf4j.impl.Log4jLoggerAdapter.info(Log4jLoggerAdapter.java:300)
       at org.apache.activemq.broker.TransportConnection.serviceTransportException(TransportConnection.java:232)
       at org.apache.activemq.broker.TransportConnection$1.onException(TransportConnection.java:192)
       at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:101)
       at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:101)
       at org.apache.activemq.transport.WireFormatNegotiator.onException(WireFormatNegotiator.java:160)
       at org.apache.activemq.transport.InactivityMonitor.onException(InactivityMonitor.java:265)
       at org.apache.activemq.transport.TransportSupport.onException(TransportSupport.java:96)
       at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:206)
       at java.lang.Thread.run(Thread.java:722){code}

The question is why is the: {code}sun.nio.cs.StreamEncoder.write{code} blocked?
Can you attach your log4j.properties or xml configuration
Is the log file on a network partition? , Yes, we have the log file and kahaDb on a network partition but is that related to this?

We have very simple config file as follows.

{code}

    <amq:broker persistent="true" brokerName="amqProdBroker" useJmx="true">
        <amq:destinationPolicy>
            <amq:policyMap>
                <amq:policyEntries>
                    <amq:policyEntry topic=">" producerFlowControl="false"/>
                    <amq:policyEntry queue=">" producerFlowControl="false"/>
                </amq:policyEntries>
            </amq:policyMap>
        </amq:destinationPolicy>  
        
        <amq:managementContext>
            <amq:managementContext connectorPort="1099" jmxDomainName="org.apache.activemq"/>
        </amq:managementContext>
        
        <amq:persistenceAdapter>
            <amq:kahaDB directory="/u/amquser/kahadb/" journalMaxFileLength="64mb" />
        </amq:persistenceAdapter>
        
        <amq:plugins>
            <!-- This will ensure to discard all expired messages, persistent
            or non-persistent, and will not be sent to DLQ. -->
            <amq:discardingDLQBrokerPlugin dropAll="true"/>

            <!-- This will cause broker to log all connection related events. -->
            <amq:loggingBrokerPlugin logAll="false" logMessageEvents="false"
                logConnectionEvents="true" logConsumerEvents="false"
                logProducerEvents="false"/>
        </amq:plugins>
        
        <amq:transportConnectors>
            <amq:transportConnector name="amqProdBrokerTcpTransport" 
                                    uri="tcp://0.0.0.0:61616" 
                                    discoveryUri="rendezvous://amqProdBroker"/>
                                    
            <amq:transportConnector name="amqProdBrokerStompTransport" 
                                    uri="stomp://0.0.0.0:61613"  />
        </amq:transportConnectors>
        
    </amq:broker>   
{code}

And, we do not do anything special in _log4j.properties_ file as well., Any updates on this? Did you get a chance to look at this?, Have you tried upgrading your log4j. What version do you use?, Requested logs and configuration not provided, the provided trace makes it look as though the logger is stuck trying to access a network resource.]