[GitHub user gaohoward opened a pull request:

    https://github.com/apache/activemq/pull/112

    https://issues.apache.org/jira/browse/AMQ-5811

    Added synchronization blocks around sentitive code to
    prevent concurrent modification of the HashMap.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/gaohoward/activemq master_AMQ-5811

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq/pull/112.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #112
    
----
commit c3ee94a078b3142a490453f9af38287114b25ef0
Author: Howard Gao <hgao@redhat.com>
Date:   2015-06-12T05:22:51Z

    https://issues.apache.org/jira/browse/AMQ-5811
    
    Added synchronization blocks around sentitive code to
    prevent concurrent modification of the HashMap.

----
, Github user asfgit closed the pull request at:

    https://github.com/apache/activemq/pull/112
, Patch applied, thanks!]