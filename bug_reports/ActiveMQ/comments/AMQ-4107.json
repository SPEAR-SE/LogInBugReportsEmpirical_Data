[Please have a look at the attachment for the patch to fix wrong message order issue.The patch synchronizes a message processing and remove excess syncs inside added sync block., Problem reproduces on 5.9., A patch to fix the problem on ActiveMQ 5.9, @Alexander that patch looks good but it would be great if it included a junit test case that shows the problem can protect the change into the future., Will this patch only be applied if a unit test is added for it?, Sorry. We have used JMeter based tests for fix proof and don't plan to contribute unit tests at the moment., seems the intermittent failure of org.apache.activemq.usecases.TwoMulticastDiscoveryBrokerTopicSendReceiveTest shows this problem, fix in http://git-wip-us.apache.org/repos/asf/activemq/commit/8dbb48a2

TwoMulticastDiscoveryBrokerTopicSendReceiveTest provided the test]