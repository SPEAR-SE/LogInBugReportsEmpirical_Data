[Hi Adrian,

jms.* properties must be specified on the outer url's. In this case

{code}
failover://(tcp://localhost:61616)?jms.prefetchPolicy.queuePrefetch=1
{code}

should work., Thanks Dejan for the super-quick response on this! I'm afraid I'd already tried moving the param to the outside of the failover brackets, and unfortunately this doesn't work :( Error is: 

{code}
     [java] Caught: javax.jms.JMSException: 
      Could not create Transport. Reason: java.lang.IllegalArgumentException: 
       Invalid connect parameters: {jms.prefetchPolicy.queuePrefetch=1}
{code}, I just tested it more ... my original test was on the trunk and it seems that it works there. Just tried it on 5.3.0 and it gives me the exception you experienced. I'm trying to locate the issue that fixed it., {code}failover:(...) {code} i.e: without the two forward slashes (//) will have the url treated as a composite which may help, but there is obviously an issue between trunk and 5.3.2, relevant test where the composite url is used : http://svn.apache.org/viewvc/activemq/trunk/activemq-core/src/test/java/org/apache/activemq/transport/failover/FailoverUriTest.java?view=markup, Gary, you're right 

{code}
failover:(tcp://localhost:61616)?jms.prefetchPolicy.queuePrefetch=1
{code}

works just fine on 5.3.x as well. Will check FailoverUriTest with // and try to figure out why it doesn't work on 5.3.x., Fixed with svn revision 943860.

It turned out that URISupport.parseQuery() didn't handle this case well. Added appropriate tests to FailoverUriTest as well.]