[From looking at the test the current behavior is correct.  The client will flow one credit back to the broker before the message is delivered to the message listener in order to maintain a prefetch of 1 which is leading you to having two messages dispatched to consumer 1.  Consumer 2 then gets two messages because it is consuming and acknowledging the message it did get which is 2.  If you want consumer 1 to only get 1 message then you need to use a prefetch of 0., Code is working as it should in 5.14.x.  Issue likely relates to bugs fixed in the AMQP layer that affected the low credit cases such as the single credit scenario.  ]