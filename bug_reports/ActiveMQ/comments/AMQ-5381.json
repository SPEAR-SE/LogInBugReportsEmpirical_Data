[Recommend you create a JUnit test case to reproduce your problem so that any fix is sure to be preserved in the future., GitHub user letM3in opened a pull request:

    https://github.com/apache/activemq/pull/47

    https://issues.apache.org/jira/browse/AMQ-5381

    Modified ActiveMQBytesMessage so that the 'compressed' flag is only set when the 'content' is stored, instead of whenever writing is initialized.  This resolves https://issues.apache.org/jira/browse/AMQ-5381
    
    Added unit test to test for AMQ-5381 condition.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/letM3in/activemq trunk

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq/pull/47.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #47
    
----
commit ebc4304f45293f72cab4aeab881d38c0d53ad47d
Author: Brian D. Johnson <brian@thejohnsonfamily.name>
Date:   2014-10-03T16:56:49Z

    https://issues.apache.org/jira/browse/AMQ-5381 - Fix ActiveMQBytesMessage's 'compressed' flag so that it is only set when the message content is actually compressed/stored

commit 63722a45d8f0827c762f3f880569bffaa9be7901
Author: Brian D. Johnson <brian@thejohnsonfamily.name>
Date:   2014-10-10T11:56:55Z

    Merge remote-tracking branch 'upstream/trunk' into trunk

----
, Created a pull request, as shown above with a unit test and fix to ActiveMQBytesMessage

https://github.com/apache/activemq/pull/47, [~tabish121] - how can I get the pull request above reviewed and merged?

Thanks., Fixed on trunk. , [~tabish121] can this fix be included in 5.10.1?

Thanks., There is no plan for a 5.10.1 release at this time. , Github user asfgit closed the pull request at:

    https://github.com/apache/activemq/pull/47
]