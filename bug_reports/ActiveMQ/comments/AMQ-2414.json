[Does SELECT for UPDATE work on all the MySQL back end types, and previous MySQL versions?, Perhaps the best strategy may be to property to the adapter like:

String mysqlEngine="INODB";

And then the setStatements() method can change it's behavior based on the setting of mysqlEngine.
, Applied a version of the patch /w the configurable property I discussed earlier in rev 818905., Two problems when testing with ndbcluser (mysql cluster).

1) Only the first table is created.  The other CREATE TABLES fail mysteriously with Table 'ACTIVEMQ_ACKS' already exists SQLState: 42S01 Vendor code: 1050.

2) Assuming manually created tables, console output on slave is filled with SQL exceptions and stacktraces due to 'lock timeout exceeded' exceptions.  These are quite normal and should be handled quietly., please reopen again if there are problems and add as much information as possible There have been multiple updates since the patch was applied., Other tow problems when testing with ndbcluster.
1)No distributed table locks support yet, so it's impossible to set up a master/slave broker for HA with ndbcluster.
2)Low performance and from time to time producer is suspended and resumes to send messages after several minutes., it is a good way to use zookeeper for independent distributed locks;]