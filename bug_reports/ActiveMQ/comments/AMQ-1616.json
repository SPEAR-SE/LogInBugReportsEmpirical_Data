[That part of the spec is in conflict with JMS API documentation which states:

that the close() method throws "JMSException - if the JMS provider fails to close the connection due to some internal error. For example, a failure to release resources or to close a socket connection can cause this exception to be thrown."

So I don't think we are in violation of the spec.  If they really did not want an exception to be thrown, they would have not added the "throws JMSException" to the API.

, BY my reading of the spec and API documentation, an exception should be thrown in the case of any unexpected error, but it explicitly states that closing a connection that's previously been closed should not throw an exception., Ahh that makes more sense :)  Sorry about that.  A simpler fix committed in rev 645601. ]