[Thanks to David Jencks for finding the issue and its soln, Fix for this particular problem committed in trunk rev 637004 and branches/4.1 rev 637006.  However the code appears to be seriously not-thread-safe, so I'm considering what other ways this kind of problem may arise before closing issue., Original bug fixed, and synchronization looks ok to me now.

RDavies made initial sync fixes in r637028 in trunk
I refined this in r637218 trunk and 637246 4.1]