[Commit 7e648d512d06508d85f6a4e111d9adbdb9e33a82 in activemq's branch refs/heads/master from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=7e648d5 ]

https://issues.apache.org/jira/browse/AMQ-6505

Fixing the auto transport protocol detection so that the byte buffer
that captures the initial bytes for detection is not shared across
threads. This was causing failed connections under high load and high cpu
usage under NIO
, Commit cc633e6913f36b63da6d3b2a2bda4f9cff8c6a66 in activemq's branch refs/heads/activemq-5.14.x from [~cshannon]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=cc633e6 ]

https://issues.apache.org/jira/browse/AMQ-6505

Fixing the auto transport protocol detection so that the byte buffer
that captures the initial bytes for detection is not shared across
threads. This was causing failed connections under high load and high cpu
usage under NIO

(cherry picked from commit 7e648d512d06508d85f6a4e111d9adbdb9e33a82)
, Commit 3903ea08ab699ab01d98a13524cdfc9fd01159b3 in activemq's branch refs/heads/activemq-5.14.x from [~tabish121]
[ https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=3903ea0 ]

https://issues.apache.org/jira/browse/AMQ-6505

Fix compilation error on 5.14.x branch]