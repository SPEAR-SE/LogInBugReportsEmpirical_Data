[These logs are for testRollbackRececeivedMessage run with tcp and nio based versions.

Frame tracing shows a missing send from the broker:
Disposition{role=receiver,first=3,last=3,settled=true}

Which leaves things in a stuck state between client and broker., Frame tracing for the testSessionTransactedCommit over TCP and NIO, Fixed by da63f3f20a348b29b43ef84bb7a4f6b02d2cd35c.  Updated AmqpNioTransport to properly handle receiving multiple frames at once on an NIO Channel.

]