[fix in http://svn.apache.org/viewvc?rev=1325810&view=rev

the location index, on which the size is based is the index of reference so there is no point iterating if there are no messages. Why the orderindex still has some data is an unknown at this point in this scenario, possibly a partial index update/write.]