[Attaching patch to resolve issue. Adds a test that shows issue due to the client not releasing unconsumed prefetched messages during rollback. Also fixes up some constants to improve readability of tests using transacted sessions. 

(I have a further test elsewhere for a new client, which shows the underlying issue due to client-side priority handling)., Patched reviewed and applied.  Thanks!]