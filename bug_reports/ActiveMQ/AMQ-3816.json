{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [
            {
                "id": "12313892",
                "name": "Broker",
                "self": "https://issues.apache.org/jira/rest/api/2/component/12313892"
            },
            {
                "id": "12315706",
                "name": "stomp",
                "self": "https://issues.apache.org/jira/rest/api/2/component/12315706"
            }
        ],
        "created": "2012-04-23T06:46:11.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=buchi&avatarId=29139",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=buchi&avatarId=29139",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=buchi&avatarId=29139",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=buchi&avatarId=29139"
            },
            "displayName": "Buchi Reddy B",
            "key": "buchi",
            "name": "buchi",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=buchi",
            "timeZone": "America/Los_Angeles"
        },
        "customfield_10010": null,
        "customfield_12310041": null,
        "customfield_12310080": null,
        "customfield_12310220": "2012-04-24T18:31:11.330+0000",
        "customfield_12310222": "1_*:*_1_*:*_6698137140_*|*_6_*:*_1_*:*_0",
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310420": "237450",
        "customfield_12310920": "172308",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i0tuuv:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Jul 09 19:21:48 UTC 2012",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "We have noticed that the broker does not deliver some messages to a durable consumer in the following scenario.\n\n1/ Start ActiveMQ broker, Perl STOMP producer on topics with persistence and Perl STOMP consumer with durable topics.\n2/ Kill the broker while the consumer and producer are running.\n3/ Kill the consumer. We have kept the producer running all these while.\n4/ Restart the broker and producer will connect to it and continue to send the messages.\n5/ Restart the consumer. We have noticed that the consumer was missing big chunk of messages sent by the producer when the consumer was down. But, we expect the consumer to receive these messages since it's a durable consumer and did not unsubscribe from these topics.\n\nI have enabled TRACE level logging for the broker and checked that the broker is recovering the durable subscription information from the kaha db logs when it restarts and marks the durable consumer as inactive durable subscription. However, broker does not seem to retain the messages for this durable consumer until the consumer comes up again.\n\nIs this expected? Does not broker guarantee message redelivery for durable consumers when the broker itself restarts?\n\nPlease let me know if we have any configurations on the broker/client side to avoid these kind of issues.\n",
        "duedate": null,
        "environment": "Perl STOMP clients on UNIX OS.",
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "id": "3",
            "name": "Major",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011"
            },
            "id": "12311210",
            "key": "AMQ",
            "name": "ActiveMQ",
            "projectCategory": {
                "description": "ActiveMQ",
                "id": "11160",
                "name": "ActiveMQ",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/11160"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12311210"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=buchi&avatarId=29139",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=buchi&avatarId=29139",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=buchi&avatarId=29139",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=buchi&avatarId=29139"
            },
            "displayName": "Buchi Reddy B",
            "key": "buchi",
            "name": "buchi",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=buchi",
            "timeZone": "America/Los_Angeles"
        },
        "resolution": {
            "description": "All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.",
            "id": "5",
            "name": "Cannot Reproduce",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/5"
        },
        "resolutiondate": "2012-07-09T19:21:48.000+0000",
        "status": {
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "id": "6",
            "name": "Closed",
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Broker does not retain messages for a STOMP durable consumer if the broker restarts while the consumer was running",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2012-07-09T19:21:48.000+0000",
        "versions": [{
            "archived": false,
            "id": "12318549",
            "name": "5.5.1",
            "releaseDate": "2011-10-16",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12318549"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-3816/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-3816/watchers",
            "watchCount": 5
        },
        "workratio": -1
    },
    "id": "12552088",
    "key": "AMQ-3816",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12552088"
}