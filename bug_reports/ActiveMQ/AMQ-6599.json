{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=christopher.l.shannon&avatarId=24614",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=christopher.l.shannon&avatarId=24614",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=christopher.l.shannon&avatarId=24614",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=christopher.l.shannon&avatarId=24614"
            },
            "displayName": "Christopher L. Shannon",
            "key": "christopher.l.shannon",
            "name": "cshannon",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=cshannon",
            "timeZone": "America/New_York"
        },
        "components": [{
            "id": "12313903",
            "name": "Transport",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12313903"
        }],
        "created": "2017-02-14T10:26:32.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thomas.winterhalder&avatarId=30662",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thomas.winterhalder&avatarId=30662",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thomas.winterhalder&avatarId=30662",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=thomas.winterhalder&avatarId=30662"
            },
            "displayName": "Thomas Winterhalder",
            "key": "thomas.winterhalder",
            "name": "thomas.winterhalder",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=thomas.winterhalder",
            "timeZone": "Europe/Berlin"
        },
        "customfield_10010": null,
        "customfield_12310041": null,
        "customfield_12310080": null,
        "customfield_12310220": "2017-02-17T13:04:48.873+0000",
        "customfield_12310222": "1_*:*_1_*:*_268864722_*|*_5_*:*_1_*:*_0",
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310420": "9223372036854775807",
        "customfield_12310920": "9223372036854775807",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i3a1un:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Feb 17 23:23:10 UTC 2017",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "Currently I have trouble with many established TCP connections and threads hanging in the NIO+SSL handshake step. The hardware devices I use often have problems during SSL handshake and do not respond any more. So I thought configuring a transport.soTimeout value should solve the problem of hanging connections, because something like the MQTT  transport.defaultKeepAlive check is not applicable in this step yet. But setting transport.soTimeout=30000 had no effect.\nI made a remote debug session to the ActiveMQ broker and saw lots of threads waiting at NIOSSLTransport.java Line 430:\n\n    int keyCount = selector.select(this.getSoTimeout());\n    if (keyCount == 0 && this.getSoTimeout() > 0 && ((System.currentTimeMillis() - now) >= this.getSoTimeout())) {\n        throw new SocketTimeoutException(\"Timeout during handshake\");\n    }\n\nAt this point this.getSoTimeout returns always 0, which results in infinite timeout.\nI tried to figure out why the soTimeout setting works not as configured and found the code where the NIOSSLTransport object is created: TcpTransportServer.java function doHandleSocket(Socket socket). Here in line 580:\n\n    options.putAll(transportOptions);\n\nThe soTimeout value is already removed from the transportOptions but it was apperantly not applied to the relevant object.\n\nTo solve my problem for now I tried if the transport.soTimeout configuration works in a MQTT+SSL Stack (without using NIO) and it worked.\n\nMay you please be so kind and solve this issue, so that the transport.soTimeout configurations works during SSL handshake and payload transfer as well for NIO.",
        "duedate": null,
        "environment": "Ubuntu 16.04\nopenjdk version \"1.8.0_121\"\nOpenJDK Runtime Environment (build 1.8.0_121-8u121-b13-0ubuntu1.16.04.2-b13)\nOpenJDK 64-Bit Server VM (build 25.121-b13, mixed mode)",
        "fixVersions": [
            {
                "archived": false,
                "id": "12338054",
                "name": "5.15.0",
                "releaseDate": "2017-07-05",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12338054"
            },
            {
                "archived": false,
                "id": "12338909",
                "name": "5.14.4",
                "releaseDate": "2017-03-02",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12338909"
            }
        ],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "id": "3",
            "name": "Major",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011"
            },
            "id": "12311210",
            "key": "AMQ",
            "name": "ActiveMQ",
            "projectCategory": {
                "description": "ActiveMQ",
                "id": "11160",
                "name": "ActiveMQ",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/11160"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12311210"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thomas.winterhalder&avatarId=30662",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thomas.winterhalder&avatarId=30662",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thomas.winterhalder&avatarId=30662",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=thomas.winterhalder&avatarId=30662"
            },
            "displayName": "Thomas Winterhalder",
            "key": "thomas.winterhalder",
            "name": "thomas.winterhalder",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=thomas.winterhalder",
            "timeZone": "Europe/Berlin"
        },
        "resolution": {
            "description": "A fix for this issue is checked into the tree and tested.",
            "id": "1",
            "name": "Fixed",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1"
        },
        "resolutiondate": "2017-02-17T13:07:37.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "MQTT+NIO+SSL transport: transport.soTimeout is not applied during SSL handshake",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2017-02-17T23:23:10.000+0000",
        "versions": [{
            "archived": false,
            "id": "12338822",
            "name": "5.14.3",
            "releaseDate": "2016-12-22",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12338822"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-6599/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-6599/watchers",
            "watchCount": 3
        },
        "workratio": -1
    },
    "id": "13042895",
    "key": "AMQ-6599",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13042895"
}