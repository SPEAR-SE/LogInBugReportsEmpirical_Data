{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [{
            "description": "MQTT Transport",
            "id": "12318701",
            "name": "MQTT",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12318701"
        }],
        "created": "2014-10-02T17:03:19.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "AR",
            "key": "workanandr",
            "name": "workanandr",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=workanandr",
            "timeZone": "America/Los_Angeles"
        },
        "customfield_10010": null,
        "customfield_12310041": null,
        "customfield_12310080": null,
        "customfield_12310220": "2014-11-01T13:05:50.166+0000",
        "customfield_12310222": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310420": "9223372036854775807",
        "customfield_12310920": "9223372036854775807",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i20qg7:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Nov 05 04:44:58 UTC 2014",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "Test procedure:\n\nCreate a durable subscription to topic \"durableunsubtest\" with clientid \"durableUnsub\".\nPublish a message with client2 to topic \"durableunsubtest\". Make sure \"retain\" flag is not set.\nVerify that the message is received (confirming creation of durable subscription).\nUnsubscribe from topic \"durableunsubtest\" from clientid \"durableUnsub\". Disconnect client.\n\nPublish another message with client2.  Make sure \"retain\" flag is not set.\n\nConnect \"durableUnsub\" and subscribe to the topic again.\n\nVerify that no messages are received.\n\n\nJUnit Test Case code:\n{noformat}\n    /*\n     * Test unsubscribe on a durable subscription topic\n     */\n    @Test(timeout = 60 * 1000)\n    public void testDurableUnsubscribe() throws Exception {\n\n    \t// Create connection1\n        final String clientId = \"durableUnsub\";\n        MQTT mqtt1 = createMQTTConnection(clientId, false);\n        mqtt1.setKeepAlive((short) 60);\n        final BlockingConnection connection1 = mqtt1.blockingConnection();\n        connection1.connect();\n        \n        // create a durable subscription for client \"durableUnsub\"\n        final String TOPICNAME = \"durableunsubtest\";\n        final String payload = \"durable unsub test\";\n        Topic[] topic = { new Topic(TOPICNAME, QoS.AT_LEAST_ONCE) };\n        connection1.subscribe(topic);\n\n        // Create connection2 and publish a message on the topic\n        MQTT mqtt2 = createMQTTConnection(null, true);\n        mqtt2.setKeepAlive((short) 60);\n        final BlockingConnection connection2 = mqtt2.blockingConnection();\n        connection2.connect();\n        connection2.publish(TOPICNAME, payload.getBytes(), QoS.EXACTLY_ONCE, false);\n\n        // Verify that the durable subscription was created by receiving the message\n        // on connection1\n        Message message = connection1.receive(10, TimeUnit.SECONDS);\n        assertNotNull(message);\n        message.ack();\n        assertEquals(\"Unexpected String received\", payload, new String(message.getPayload()));\n\n        // Unsubscribe the topic on connection1\n        connection1.unsubscribe(new String[]{TOPICNAME});\n\n        // Disconnect connection1\n        connection1.disconnect();\n        \n        // Publish another message on connection2 for the same topic\n        MQTT mqtt2a = createMQTTConnection(null, true);\n        mqtt2a.setKeepAlive((short) 60);\n        final BlockingConnection connection2a = mqtt2a.blockingConnection();\n        connection2a.connect();\n        connection2a.publish(TOPICNAME, payload.getBytes(), QoS.EXACTLY_ONCE, false);\n       \n        // Create connection3 with the same clientid \"durableUnsub\"\n        // and subscribe to the topic\n        MQTT mqtt3 = createMQTTConnection(clientId, false);\n        mqtt3.setKeepAlive((short) 60);\n        BlockingConnection connection3 = mqtt3.blockingConnection();\n        connection3.connect();\n        connection3.subscribe(topic);\n        message = connection3.receive(10, TimeUnit.SECONDS);\n\n        // Since we have unsubscribed before the publish, we should not receive\n        // any message (retain flag was also not set during publish)\n        assertNull(message);     \n    }\n{noformat}",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [{
            "id": "12400276",
            "inwardIssue": {
                "fields": {
                    "issuetype": {
                        "avatarId": 21133,
                        "description": "A problem which impairs or prevents the functions of the product.",
                        "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                        "id": "1",
                        "name": "Bug",
                        "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                        "subtask": false
                    },
                    "priority": {
                        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                        "id": "3",
                        "name": "Major",
                        "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                    },
                    "status": {
                        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                        "id": "6",
                        "name": "Closed",
                        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                        "statusCategory": {
                            "colorName": "green",
                            "id": 3,
                            "key": "done",
                            "name": "Done",
                            "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                        }
                    },
                    "summary": "MQTT Subscriber is able to receive messages published after unsubscribe()"
                },
                "id": "12751884",
                "key": "AMQ-5418",
                "self": "https://issues.apache.org/jira/rest/api/2/issue/12751884"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12400276",
            "type": {
                "id": "12310000",
                "inward": "is duplicated by",
                "name": "Duplicate",
                "outward": "duplicates",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"
            }
        }],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": ["MQTT"],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "id": "3",
            "name": "Major",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311210&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311210&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311210&avatarId=10011",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12311210&avatarId=10011"
            },
            "id": "12311210",
            "key": "AMQ",
            "name": "ActiveMQ",
            "projectCategory": {
                "description": "ActiveMQ",
                "id": "11160",
                "name": "ActiveMQ",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/11160"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12311210"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "AR",
            "key": "workanandr",
            "name": "workanandr",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=workanandr",
            "timeZone": "America/Los_Angeles"
        },
        "resolution": null,
        "resolutiondate": null,
        "status": {
            "description": "The issue is open and ready for the assignee to start work on it.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
            "id": "1",
            "name": "Open",
            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
            "statusCategory": {
                "colorName": "blue-gray",
                "id": 2,
                "key": "new",
                "name": "To Do",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2"
            }
        },
        "subtasks": [],
        "summary": "MQTT messages published after unsubscribe on a durable topic are received",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2014-11-05T04:44:58.000+0000",
        "versions": [{
            "archived": false,
            "id": "12324951",
            "name": "5.11.0",
            "releaseDate": "2015-02-04",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12324951"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-5382/votes",
            "votes": 1
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/AMQ-5382/watchers",
            "watchCount": 5
        },
        "workratio": -1
    },
    "id": "12745540",
    "key": "AMQ-5382",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12745540"
}