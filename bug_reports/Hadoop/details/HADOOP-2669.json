{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12386734","self":"https://issues.apache.org/jira/rest/api/2/issue/12386734","key":"HADOOP-2669","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312972","id":"12312972","description":"","name":"0.18.0","archived":false,"released":true,"releaseDate":"2008-08-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-02-20T18:02:08.622+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Feb 12 00:36:35 UTC 2009","customfield_12310420":"19166","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_404736322_*|*_1_*:*_1_*:*_10931384602_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_7242120829","customfield_12312321":null,"resolutiondate":"2008-05-31T00:08:25.924+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-2669/watchers","watchCount":3,"isWatching":false},"created":"2008-01-20T19:13:05.450+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12319359","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12319359","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12389915","key":"HADOOP-2918","self":"https://issues.apache.org/jira/rest/api/2/issue/12389915","fields":{"summary":"Enhance log messages to better debug \"No lease on file\" message","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype","name":"Task","subtask":false,"avatarId":21148}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:42:50.848+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"\nI have a program that reads a block compressed sequence file, does some processing on the records and writes the\nprocessed records into another  block compressed sequence file.\nDuring execution of the program, I got the following exception: \n\norg.apache.hadoop.ipc.RemoteException: org.apache.hadoop.dfs.LeaseExpiredException: No lease on xxxxx/part-00000\n        at org.apache.hadoop.dfs.FSNamesystem.getAdditionalBlock(FSNamesystem.java:976)\n        at org.apache.hadoop.dfs.NameNode.addBlock(NameNode.java:293)\n        at sun.reflect.GeneratedMethodAccessor47.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:379)\n        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:596)\n\n        at org.apache.hadoop.ipc.Client.call(Client.java:482)\n        at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:184)\n        at org.apache.hadoop.dfs.$Proxy0.addBlock(Unknown Source)\n        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:82)\n        at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:59)\n        at org.apache.hadoop.dfs.$Proxy0.addBlock(Unknown Source)\n        at org.apache.hadoop.dfs.DFSClient$DFSOutputStream.locateFollowingBlock(DFSClient.java:1554)\n        at org.apache.hadoop.dfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:1500)\n        at org.apache.hadoop.dfs.DFSClient$DFSOutputStream.endBlock(DFSClient.java:1626)\n        at org.apache.hadoop.dfs.DFSClient$DFSOutputStream.writeChunk(DFSClient.java:1602)\n        at org.apache.hadoop.fs.FSOutputSummer.writeChecksumChunk(FSOutputSummer.java:140)\n        at org.apache.hadoop.fs.FSOutputSummer.write1(FSOutputSummer.java:100)\n        at org.apache.hadoop.fs.FSOutputSummer.write(FSOutputSummer.java:86)\n        at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.write(FSDataOutputStream.java:39)\n        at java.io.DataOutputStream.write(DataOutputStream.java:90)\n        at org.apache.hadoop.io.SequenceFile$BlockCompressWriter.writeBuffer(SequenceFile.java:1181)\n        at org.apache.hadoop.io.SequenceFile$BlockCompressWriter.sync(SequenceFile.java:1198)\n\n        at org.apache.hadoop.io.SequenceFile$BlockCompressWriter.append(SequenceFile.java:1248)\n        at org.apache.hadoop.mapred.SequenceFileOutputFormat$1.write(SequenceFileOutputFormat.java:69)\n     ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12376859","id":"12376859","filename":"NoLease.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-02-29T19:05:07.447+0000","size":1139,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12376859/NoLease.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12382754","id":"12382754","filename":"noLeaseOnFile.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-05-26T07:42:36.276+0000","size":814,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12382754/noLeaseOnFile.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"105605","customfield_12312823":null,"summary":"DFS client lost lease during writing into DFS files","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12570778","id":"12570778","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=athusoo","name":"athusoo","key":"athusoo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashish Thusoo","active":true,"timeZone":"Etc/UTC"},"body":"I am hitting the same stack. Is there a work around or change in some configuration parameter that can help me avoid this?\n\nFor me this is happening in version 0.15.3. I did not see this behavior in 0.14.4\n\nThanks,\nAshish","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=athusoo","name":"athusoo","key":"athusoo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashish Thusoo","active":true,"timeZone":"Etc/UTC"},"created":"2008-02-20T18:02:08.622+0000","updated":"2008-02-20T18:03:58.813+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12570808","id":"12570808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Ashish, are you consistently hitting this? Runping mentioned that the client node had no cpu left. Even if the client is very busy, I don't think it is expected to loose the lease. \n\nWhen this happens again, could you grep for file name in Namenode log and attach here? Another useful thing would be to grep for all the blocks assigned to this file in Namenode log.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-02-20T19:37:46.064+0000","updated":"2008-02-20T19:37:46.064+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12570892","id":"12570892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"Hi Raghu, here's the grep of the file from the NameNode.  Note that both times this happened, a reduce failed on a machine because it couldn't allocate a directory on that machine because it was out of space. I'll send you the stack trace. thx, pete\n\n\n\nhadoopNN] logs > grep \"tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\" hadoop-root-namenode-hadoopNN.facebook.com.log\n2008-02-20 04:04:34,434 WARN org.apache.hadoop.dfs.StateChange: DIR* FSDirectory.unprotectedDelete: failed to remove /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015 because it does not exist\n2008-02-20 04:50:43,307 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_2853191854023133101\n2008-02-20 04:58:40,735 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_2092683246371438874\n2008-02-20 05:06:40,676 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-6864374713288003568\n2008-02-20 05:15:00,448 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_6785822354554528111\n2008-02-20 05:23:05,122 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-1002253031864643087\n2008-02-20 05:42:58,850 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_4868356428049530206\n2008-02-20 05:51:30,124 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_4502317329036147265\n2008-02-20 05:59:41,655 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-1028912444083540626\n2008-02-20 06:07:59,222 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-2305314790692595413\n2008-02-20 06:15:52,835 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_6988580537244455759\n2008-02-20 06:23:58,683 INFO org.apache.hadoop.ipc.Server: IPC Server handler 28 on 9000, call addBlock(/tmp/1050617226/ds=2008-02-18/SomeTable/part-00015, DFSClient_task_200802191501_0676_r_000015_1) fr\\\nom SomeIP:45453: error: org.apache.hadoop.dfs.LeaseExpiredException: No lease on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\norg.apache.hadoop.dfs.LeaseExpiredException: No lease on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\n2008-02-20 06:44:24,151 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_3760541177395872782\n2008-02-20 06:52:26,050 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-3341039163005140779\n2008-02-20 07:00:16,378 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_6227348648842177155\n2008-02-20 07:08:08,215 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_1906369823207034882\n2008-02-20 07:16:01,895 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_2621171097816659457\n2008-02-20 07:24:33,046 INFO org.apache.hadoop.ipc.Server: IPC Server handler 2 on 9000, call addBlock(/tmp/1050617226/ds=2008-02-18/SomeTable/part-00015, DFSClient_task_200802191501_0676_r_000015_2) fro\\\nm SomeOtherIP:48442: error: org.apache.hadoop.dfs.LeaseExpiredException: No lease on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\norg.apache.hadoop.dfs.LeaseExpiredException: No lease on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\n2008-02-20 07:47:14,155 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-7287451503662587350\n2008-02-20 07:55:21,732 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_7927573534765844605\n2008-02-20 08:03:14,563 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_3932465634538367837\n2008-02-20 08:11:08,936 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_-3190439497258007802\n2008-02-20 08:19:01,456 INFO org.apache.hadoop.dfs.StateChange: BLOCK* NameSystem.allocateBlock: /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015. blk_2730573925522501767\n2008-02-20 08:27:02,055 INFO org.apache.hadoop.ipc.Server: IPC Server handler 17 on 9000, call addBlock(/tmp/1050617226/ds=2008-02-18/SomeTable/part-00015, DFSClient_task_200802191501_0676_r_000015_3) fr\\\nom YetAnotherIP:51184: error: org.apache.hadoop.dfs.LeaseExpiredException: No lease on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\norg.apache.hadoop.dfs.LeaseExpiredException: No lease on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\n2008-02-20 09:26:58,886 WARN org.apache.hadoop.dfs.StateChange: DIR* NameSystem.internalReleaseCreate: attempt to release a create lock on /tmp/1050617226/ds=2008-02-18/SomeTable/part-00015 file does not\\\n exist.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-02-20T23:55:47.370+0000","updated":"2008-02-20T23:55:47.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12570895","id":"12570895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"rException: Could not find any valid local directory for task_200802191501_0724_r_000007_0/map_94.out\n        at org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.getLocalPathForWrite(LocalDirAllocator.java:313)\n        at org.apache.hadoop.fs.LocalDirAllocator.getLocalPathForWrite(LocalDirAllocator.java:124)\n        at org.apache.hadoop.mapred.MapOutputFile.getInputFileForWrite(MapOutputFile.java:133)\n        at org.apache.hadoop.mapred.ReduceTask$ReduceCopier$InMemFSMergeThread.run(ReduceTask.java:1314)\n\n2008-02-20 05:17:29,319 INFO org.apache.hadoop.mapred.ReduceTask: task_200802191501_0724_r_000007_0 done copying task_200802191501_0724_m_000237_0 output from hadoopX.facebook.com..\n2008-02-20 05:17:29,319 INFO org.apache.hadoop.mapred.ReduceTask: task_200802191501_0724_r_000007_0 Copying task_200802191501_0724_m_000146_0 output from hadoopA.facebook.com..\n2008-02-20 05:17:29,322 ERROR org.apache.hadoop.mapred.ReduceTask: Map output copy failure: java.lang.NullPointerException\n        at org.apache.hadoop.fs.InMemoryFileSystem$RawInMemoryFileSystem$InMemoryOutputStream.close(InMemoryFileSystem.java:161)\n        at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.close(FSDataOutputStream.java:49)\n        at org.apache.hadoop.fs.FSDataOutputStream.close(FSDataOutputStream.java:64)\n        at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.close(ChecksumFileSystem.java:332)\n        at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.close(FSDataOutputStream.java:49)\n        at org.apache.hadoop.fs.FSDataOutputStream.close(FSDataOutputStream.java:64)\n        at org.apache.hadoop.mapred.MapOutputLocation.getFile(MapOutputLocation.java:253)\n        at org.apache.hadoop.mapred.ReduceTask$ReduceCopier$MapOutputCopier.copyOutput(ReduceTask.java:714)\n        at org.apache.hadoop.mapred.ReduceTask$ReduceCopier$MapOutputCopier.run(ReduceTask.java:666)\n\n2008-02-20 05:17:29,322 INFO org.apache.hadoop.mapred.ReduceTask: task_200802191501_0724_r_000007_0 Copying task_200802191501_0724_m_000055_0 output from hadoopY.facebook.com..\n2008-02-20 05:17:29,322 WARN org.apache.hadoop.mapred.TaskTracker: Error running child\njava.io.IOException: task_200802191501_0724_r_000007_0The reduce copier failed\n        at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:254)\n        at org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:1804)\n2008-02-20 05:17:29,324 ERROR org.apache.hadoop.mapred.ReduceTask: Map output copy failure: java.lang.NullPointerException\n        at org.apache.hadoop.fs.InMemoryFileSystem$RawInMemoryFileSystem$InMemoryOutputStream.close(InMemoryFileSystem.java:161)\n        at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.close(FSDataOutputStream.java:49)\n        at org.apache.hadoop.fs.FSDataOutputStream.close(FSDataOutputStream.java:64)\n        at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.close(ChecksumFileSystem.java:332)\n        at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.close(FSDataOutputStream.java:49)\n        at org.apache.hadoop.fs.FSDataOutputStream.close(FSDataOutputStream.java:64)\n        at org.apache.hadoop.mapred.MapOutputLocation.getFile(MapOutputLocation.java:253)\n        at org.apache.hadoop.mapred.ReduceTask$ReduceCopier$MapOutputCopier.copyOutput(ReduceTask.java:714)\n        at org.apache.hadoop.mapred.ReduceTask$ReduceCopier$MapOutputCopier.run(ReduceTask.java:666)\n\n2008-02-20 05:17:29,325 INFO org.apache.hadoop.mapred.ReduceTask: task_200802191501_0724_r_000007_0 Copying task_200802191501_0724_m_000120_0 output from hadoopZ.facebook.com..\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-02-20T23:59:36.888+0000","updated":"2008-02-20T23:59:36.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12571280","id":"12571280","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Pete.\n\nNo suspects yet but surely looks like a bug. Could you grep for \"Removing lease\" around the log for \"/tmp/1050617226/ds=2008-02-18/SomeTable/part-00015\" and grep for one its blocks, say  2853191854023133101 (to see what happened to it) . Not yet sure if client side failures are related. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-02-22T05:42:01.712+0000","updated":"2008-02-22T05:42:01.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12573904","id":"12573904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"This patch is not a fix for this problem but attempts to capture more detailed log message. I would like this patch to go into 0.16.1 as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-02-29T19:05:07.484+0000","updated":"2008-02-29T19:05:07.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12573928","id":"12573928","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for log. In case of error, can we also include if this holder has any leases at all? Now we don't know if something happened with this leaseholder or with the file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-02-29T19:57:12.532+0000","updated":"2008-02-29T19:57:12.532+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12597311","id":"12597311","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I see that DFSClient.LeaseChecker the lease is renewed only if pendingCreates.size() is greater than 0. But this is not inside a synchronized block. Insertions and deletions to/from pendingCreates occur within a synchronized section. I am wondering if this could cause the client to not renew leases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-05-15T23:14:09.404+0000","updated":"2008-05-15T23:14:09.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12597327","id":"12597327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Could it be the case that namenode.renewLease(...) keep failing for some reason (e.g. network problem) and it keep retrying for a long time?  Then it successes finally but the lease is already expired.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-05-16T01:23:00.119+0000","updated":"2008-05-16T01:23:00.119+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12597347","id":"12597347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I agree that there could be other bugs that is causing this problem. But can the fact that DFSClient.renewLease() does not check for pendingCreates.size() inside a synchronized section cause the observed behaviour?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-05-16T04:37:35.237+0000","updated":"2008-05-16T04:37:35.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12599775","id":"12599775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"One problem could be that the lease renewal was not occuring within a synchronized section. It is plausible that this could cause a race on multiprocessor systems. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-05-26T07:42:36.283+0000","updated":"2008-05-26T07:42:36.283+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12601232","id":"12601232","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lohit","name":"lohit","key":"lohit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lohit Vijayarenu","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 on this, would it be good to also include the logging provided in initial patch if it help?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lohit","name":"lohit","key":"lohit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lohit Vijayarenu","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-05-30T19:43:02.322+0000","updated":"2008-05-30T19:43:02.322+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12601308","id":"12601308","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Thanks Lohit for reviewing it. The logging in the first patch is already in the trunk (as part of another JIRA).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-05-31T00:01:16.685+0000","updated":"2008-05-31T00:01:16.685+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12601309","id":"12601309","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"An OutputStream is removed from prepareCreates when a close() is called on DFSDataOutputStream. An FSDataOutputStream handle is present with anyone who uses FileSystem.create(). Now if one calls FSDataOutputStream.close(), it would trigger DFSDataOutputStream.close()(?). Hence, a FSDataOutputStream.close() call  may potentially bring prepareCreates to zero. \n\nHowever, in the meantime a DataStreamer thread may be still writing a block. If this takes a long time, then at some time it may face lease expiry. Am I missing something?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-05-31T00:04:23.073+0000","updated":"2008-05-31T00:04:23.073+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12601311","id":"12601311","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I just committed this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-05-31T00:08:25.909+0000","updated":"2008-05-31T00:08:25.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12601471","id":"12601471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #509 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/509/])","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-01T13:49:59.186+0000","updated":"2008-06-01T13:49:59.186+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12672488","id":"12672488","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vzaliva","name":"vzaliva","key":"vzaliva","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Zaliva","active":true,"timeZone":"Etc/UTC"},"body":"I am observing very similar (most likely the same) issue in hadoop-0.19.0.\nHave it been fixed in hadoop-0.19.0?\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vzaliva","name":"vzaliva","key":"vzaliva","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vadim Zaliva","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-11T02:57:40.819+0000","updated":"2009-02-11T02:57:40.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12386734/comment/12672839","id":"12672839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"Vadim, could you open a new jira that describes the problem that you have with lease? So we can investigate the issue. The fix to this jira should also be in 0.19.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-12T00:36:35.398+0000","updated":"2009-02-12T00:36:35.398+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-2669/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ifhz:"}}