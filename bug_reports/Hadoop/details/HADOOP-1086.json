{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12364403","self":"https://issues.apache.org/jira/rest/api/2/issue/12364403","key":"HADOOP-1086","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2007-03-08T21:36:26.711+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Oct 10 17:40:47 UTC 2007","customfield_12310420":"80762","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_18726732883_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_15472123","customfield_12312321":null,"resolutiondate":"2007-10-10T17:40:47.263+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-1086/watchers","watchCount":0,"isWatching":false},"created":"2007-03-07T23:48:34.380+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312258","id":"12312258","description":"","name":"0.10.1","archived":false,"released":true,"releaseDate":"2007-01-10"}],"issuelinks":[{"id":"12317851","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12317851","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12365302","key":"HADOOP-1134","self":"https://issues.apache.org/jira/rest/api/2/issue/12365302","fields":{"summary":"Block level CRCs in HDFS","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":21141}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:42:19.669+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"A bunch of files were  moved from one directory to another but their crc files did not get moved appropriately. Following this move, an application  tries to access these files but gets a crc error. Here is a snippet from the namenode logs:\n\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.254.crc to /user/xxx/foo/.254.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.255.crc to /user/xxx/foo/.255.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.256.crc to /user/xxx/foo/.256.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.257.crc to /user/xxx/foo/.257.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.262.crc to /user/xxx/foo/.262.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.265.crc to /user/xxx/foo/.265.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.268.crc to /user/xxx/foo/.268.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.270.crc to /user/xxx/foo/.270.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.271.crc to /user/xxx/foo/.271.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/.274.crc to /user/xxx/foo/.274.crc because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/275 to /user/xxx/foo/275 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/276 to /user/xxx/foo/276 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/277 to /user/xxx/foo/277 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/278 to /user/xxx/foo/278 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/279 to /user/xxx/foo/279 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/280 to /user/xxx/foo/280 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/281 to /user/xxx/foo/281 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/282 to /user/xxx/foo/282 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/283 to /user/xxx/foo/283 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/284 to /user/xxx/foo/284 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/285 to /user/xxx/foo/285 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/286 to /user/xxx/foo/286 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/287 to /user/xxx/foo/287 because destination exists\nunprotectedDelete: failed to remove /hadoop/mapred/kry2/system/.job_2745.crc because it does not exist\nunprotectedDelete: failed to remove /hadoop/mapred/kry2/system/job_2745 because it does not exist\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/288 to /user/xxx/foo/288 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/289 to /user/xxx/foo/289 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/290 to /user/xxx/foo/290 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/291 to /user/xxx/foo/291 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/292 to /user/xxx/foo/292 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/293 to /user/xxx/foo/293 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/294 to /user/xxx/foo/294 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/295 to /user/xxx/foo/295 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/296 to /user/xxx/foo/296 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/297 to /user/xxx/foo/297 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/298 to /user/xxx/foo/298 because destination exists\nunprotectedRenameTo: failed to rename /user/xxx/foo-fix/299 to /user/xxx/foo/299 because destination exists\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"106527","customfield_12312823":null,"summary":"spurious data corruption detected because bad crc file","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12364403/comment/12478975","id":"12478975","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I forgot to mention that files 254 to 274 were declared \"bad crc\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-03-07T23:56:24.717+0000","updated":"2007-03-07T23:56:24.717+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12364403/comment/12479434","id":"12479434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"I checked the source code and I feel that dfs handles the file/dir rename correctly.\n\nWhat was the command that caused the error? Did the command get issued more than once?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2007-03-08T21:36:26.711+0000","updated":"2007-03-08T21:36:26.711+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12364403/comment/12479439","id":"12479439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"From my understanding of the problem, the command was issued only once. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-03-08T21:41:54.150+0000","updated":"2007-03-08T21:41:54.150+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12364403/comment/12533815","id":"12533815","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"This piece of code has gone away as part of  HADOOP-1134. This problem should not occur anymore.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-10-10T17:40:47.237+0000","updated":"2007-10-10T17:40:47.237+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-1086/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0il6v:"}}