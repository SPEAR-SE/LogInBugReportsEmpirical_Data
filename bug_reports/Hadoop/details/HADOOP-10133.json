{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12681652","self":"https://issues.apache.org/jira/rest/api/2/issue/12681652","key":"HADOOP-10133","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2014-01-21T00:40:11.917+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Jan 10 17:28:30 UTC 2015","customfield_12310420":"360916","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_29532401448_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-11-04T15:58:02.097+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10133/watchers","watchCount":9,"isWatching":false},"created":"2013-11-27T20:31:20.712+0000","customfield_12310192":"line 250:\nprivate static String HADOOP_HOME_DIR = checkHadoopHome();\nthis should be Final as it does not get initialized properly (HADOOP_HOME_DIR stays null during it's initialization)","customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":3600,"aggregatetimeoriginalestimate":3600,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325048","id":"12325048","description":"2.2.0 release","name":"2.2.0","archived":false,"released":true,"releaseDate":"2013-10-15"}],"issuelinks":[{"id":"12404693","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12404693","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12765204","key":"HADOOP-11464","self":"https://issues.apache.org/jira/rest/api/2/issue/12765204","fields":{"summary":"Reinstate support for launching Hadoop processes on Windows using Cygwin.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-01-10T17:28:30.847+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310689","id":"12310689","name":"fs","description":"Generic FileSystem code"}],"timeoriginalestimate":3600,"description":"java.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.\nat org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:278)\n at org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:300)\nat org.apache.hadoop.util.Shell.<clinit>(Shell.java:293)\n\n","customfield_10010":null,"timetracking":{"originalEstimate":"1h","remainingEstimate":"1h","originalEstimateSeconds":3600,"remainingEstimateSeconds":3600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":3600,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"361215","customfield_12312823":null,"summary":"winutils detection on windows-cygwin fails","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Franjo","name":"Franjo","key":"franjo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432"},"displayName":"Franjo Markovic","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Franjo","name":"Franjo","key":"franjo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432"},"displayName":"Franjo Markovic","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":3600,"percent":0},"customfield_12311024":null,"environment":"windows 7, cygwin","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":3600,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12681652/comment/13877037","id":"13877037","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Is HADOOP_HOME environment variable or Java property \"hadoop.home.dir\" been set? We are relying on these two methods to discover \"winutils.exe\". Also \"winutils.exe\" have no dependency on cygwin, so there should be no need to start the Hadoop processes from cygwin.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-21T00:40:11.917+0000","updated":"2014-01-21T00:40:11.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12681652/comment/13877853","id":"13877853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Franjo","name":"Franjo","key":"franjo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432"},"displayName":"Franjo Markovic","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, both variables had been set. \nI have not been working on this for a while (gave up on windows version, as both cygwin and \"direct\" version had a host of different issues).\nThis particular issue I was able to pinpoint as a problem in variable declarations/initialization in util.Shell.java.\nThis line:\nprivate static String HADOOP_HOME_DIR = checkHadoopHome();\t\nis missing a \"final\" keyword, as \"final\" variables are initialized before non-final ones, resulting that (in this case) HADOOP_HOME_DIR was still Null at the time of WINUTILS variable initialization.\n\nInteresting thing though is that this particular issue does not appear on non-cygwin setup - must have had some extra patch somewhere.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Franjo","name":"Franjo","key":"franjo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432"},"displayName":"Franjo Markovic","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-21T21:02:16.039+0000","updated":"2014-01-21T21:02:16.039+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12681652/comment/13958862","id":"13958862","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fleebytes","name":"fleebytes","key":"fleebytes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Fleeman","active":true,"timeZone":"Etc/UTC"},"body":"I have confirmed that I am having the same issue with Windows+cygwin setup.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fleebytes","name":"fleebytes","key":"fleebytes","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Fleeman","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-03T14:39:59.336+0000","updated":"2014-04-03T14:39:59.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12681652/comment/13998789","id":"13998789","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yes_dinesh","name":"yes_dinesh","key":"yes_dinesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dinesh Nayak","active":true,"timeZone":"Etc/UTC"},"body":"modifying this line in libexec\\hadoop-config.sh helped me  to transform path to windows format for Java code to pick it up .\n\nHADOOP_OPTS=\"$HADOOP_OPTS -Dhadoop.home.dir=\"$(cygpath -pw \"$HADOOP_PREFIX\")\"\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yes_dinesh","name":"yes_dinesh","key":"yes_dinesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dinesh Nayak","active":true,"timeZone":"Etc/UTC"},"created":"2014-05-15T14:08:17.477+0000","updated":"2014-05-15T14:08:17.477+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12681652/comment/14196275","id":"14196275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"hadoop on windows doesn't depend on cygwin any more. resolving as WONTFIX","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2014-11-04T15:58:02.136+0000","updated":"2014-11-04T15:58:02.136+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12681652/comment/14272611","id":"14272611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"HADOOP-11464, targeted to Apache Hadoop 2.7.0, reinstates support for launching Hadoop processes on Windows using Cygwin.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-10T17:28:30.847+0000","updated":"2015-01-10T17:28:30.847+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10133/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1q7rz:"}}