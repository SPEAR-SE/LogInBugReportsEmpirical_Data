{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12349348","self":"https://issues.apache.org/jira/rest/api/2/issue/12349348","key":"HADOOP-513","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312051","id":"12312051","description":"","name":"0.7.0","archived":false,"released":true,"releaseDate":"2006-10-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-09-29T20:37:45.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 29 20:53:02 UTC 2006","customfield_12310420":"80629","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_10139000_*|*_10002_*:*_1_*:*_906000_*|*_1_*:*_1_*:*_1970756000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_608159000","customfield_12312321":null,"resolutiondate":"2006-09-29T20:53:02.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-513/watchers","watchCount":0,"isWatching":false},"created":"2006-09-06T22:23:01.000+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311939","id":"12311939","description":"","name":"0.5.0","archived":false,"released":true,"releaseDate":"2006-08-04"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:51:55.918+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I am running TestDFSIO on a one node cluster and getting IllegalStateException for each map task run as listed below.\nThe same exceptions are flooding logs for TestMiniMRWithDFS on my nightly build for quite a while now.\nDoes anybody know what that is?\nMy understanding is that if it is \"illegal\", then tests should fail.\nIf not then it should be caught and ignored INTERNALLY.\n\n06/09/06 14:54:50 INFO mapred.TaskTracker: task_0002_r_000000_0 0.25% reduce > copy (3 of 4 at 0.00 MB/s) >\n06/09/06 14:54:50 INFO mapred.TaskRunner: task_0002_r_000000_0 Need 1 map output(s)\n06/09/06 14:54:50 INFO mapred.TaskRunner: task_0002_r_000000_0 Got 1 known map output location(s); scheduling...\n06/09/06 14:54:50 INFO mapred.TaskRunner: task_0002_r_000000_0 Scheduled 1 of 1 known outputs (0 slow hosts and 0 dup hosts)\n06/09/06 14:54:50 INFO mapred.TaskRunner: task_0002_r_000000_0 Copying task_0002_m_000003_0 output from ENO.\n06/09/06 14:54:50 WARN /: /getMapOutput.jsp?map=task_0002_m_000003_0&reduce=0:\njava.lang.IllegalStateException\n    at org.mortbay.jetty.servlet.ServletHttpResponse.getWriter(ServletHttpResponse.java:561)\n    at org.apache.jasper.runtime.JspWriterImpl.initOut(JspWriterImpl.java:122)\n    at org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:115)\n    at org.apache.jasper.runtime.PageContextImpl.release(PageContextImpl.java:190)\n    at org.apache.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:115)\n    at org.apache.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:75)\n    at org.apache.hadoop.mapred.getMapOutput_jsp._jspService(getMapOutput_jsp.java:100)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)\n    at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:475)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n    at org.mortbay.http.HttpContext.handle(HttpContext.java:1565)\n    at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:635)\n    at org.mortbay.http.HttpContext.handle(HttpContext.java:1517)\n    at org.mortbay.http.HttpServer.service(HttpServer.java:954)\n    at org.mortbay.http.HttpConnection.service(HttpConnection.java:814)\n    at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:981)\n    at org.mortbay.http.HttpConnection.handle(HttpConnection.java:831)\n    at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)\n    at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n    at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)\n06/09/06 14:54:50 INFO mapred.TaskRunner: task_0002_r_000000_0 done copying task_0002_m_000003_0 output from ENO.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12341990","id":"12341990","filename":"map-out-servlet.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-09-29T20:37:44.000+0000","size":9833,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12341990/map-out-servlet.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"107002","customfield_12312823":null,"summary":"IllegalStateException is thrown by TaskTracker","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349348/comment/12438800","id":"12438800","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch replaces the getMapOutput.jsp with a Servlet. \n\nThe problem was that the getMapOutput.jsp was closing the output stream and the wrapper code was trying to close it again, which would sometimes generate the IllegalStateException.\n\nThe new servlet is more careful to handle errors including setting an error response if something goes wrong. It also sets the content-length with the length of the file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-09-29T20:37:45.000+0000","updated":"2006-09-29T20:37:45.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349348/comment/12438804","id":"12438804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this.  Thanks, Owen!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-09-29T20:53:02.000+0000","updated":"2006-09-29T20:53:02.000+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-513/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0io4f:"}}