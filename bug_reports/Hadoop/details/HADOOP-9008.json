{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12614617","self":"https://issues.apache.org/jira/rest/api/2/issue/12614617","key":"HADOOP-9008","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323306","id":"12323306","description":"Trunk branch for Windows support","name":"trunk-win","archived":true,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-11-03T04:48:00.709+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Nov 12 21:17:42 UTC 2012","customfield_12310420":"255033","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_855526269_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-11-12T21:17:42.728+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-9008/watchers","watchCount":6,"isWatching":false},"created":"2012-11-02T23:38:56.478+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323306","id":"12323306","description":"Trunk branch for Windows support","name":"trunk-win","archived":true,"released":false}],"issuelinks":[{"id":"12359803","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12359803","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12597618","key":"HADOOP-8562","self":"https://issues.apache.org/jira/rest/api/2/issue/12597618","fields":{"summary":"Enhancements to support Hadoop on Windows Server and Windows Azure environments","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":21141}}}},{"id":"12360000","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360000","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12615253","key":"HDFS-4163","self":"https://issues.apache.org/jira/rest/api/2/issue/12615253","fields":{"summary":"HDFS distribution build fails on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12360004","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360004","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12615254","key":"MAPREDUCE-4780","self":"https://issues.apache.org/jira/rest/api/2/issue/12615254","fields":{"summary":"MapReduce distribution build fails on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12360008","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360008","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12615255","key":"YARN-207","self":"https://issues.apache.org/jira/rest/api/2/issue/12615255","fields":{"summary":"YARN distribution build fails on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12359997","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12359997","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12615253","key":"HDFS-4163","self":"https://issues.apache.org/jira/rest/api/2/issue/12615253","fields":{"summary":"HDFS distribution build fails on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12359996","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12359996","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12615254","key":"MAPREDUCE-4780","self":"https://issues.apache.org/jira/rest/api/2/issue/12615254","fields":{"summary":"MapReduce distribution build fails on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12359998","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12359998","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12615255","key":"YARN-207","self":"https://issues.apache.org/jira/rest/api/2/issue/12615255","fields":{"summary":"YARN distribution build fails on Windows","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-11-12T21:17:42.744+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Trying to build Hadoop trunk tarball via {{mvn package -Pdist -DskipTests -Dtar}} fails on Windows.\n\nBuild system generates sh scripts that execute build tasks what does not work on Windows without Cygwin. It might make sense to apply the same pattern as in HADOOP-8924, and use python instead of sh.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323306","id":"12323306","description":"Trunk branch for Windows support","name":"trunk-win","archived":true,"released":false}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12553180","id":"12553180","filename":"HADOOP-9008-branch-trunk-win.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-12T20:51:08.489+0000","size":11352,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12553180/HADOOP-9008-branch-trunk-win.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552909","id":"12552909","filename":"HADOOP-9008-branch-trunk-win.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T22:24:20.220+0000","size":11576,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552909/HADOOP-9008-branch-trunk-win.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552895","id":"12552895","filename":"HADOOP-9008-branch-trunk-win.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T21:43:02.569+0000","size":18991,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552895/HADOOP-9008-branch-trunk-win.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552682","id":"12552682","filename":"HADOOP-9008-branch-trunk-win.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T18:23:55.291+0000","size":11156,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552682/HADOOP-9008-branch-trunk-win.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552569","id":"12552569","filename":"HADOOP-9008-branch-trunk-win.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T00:13:30.555+0000","size":10835,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552569/HADOOP-9008-branch-trunk-win.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"83749","customfield_12312823":null,"summary":"Building hadoop tarball fails on Windows","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ivanmi","name":"ivanmi","key":"ivanmi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Mitic","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ivanmi","name":"ivanmi","key":"ivanmi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Mitic","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13489926","id":"13489926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bikassaha","name":"bikassaha","key":"bikassaha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bikassaha&avatarId=29845","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bikassaha&avatarId=29845","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bikassaha&avatarId=29845","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bikassaha&avatarId=29845"},"displayName":"Bikas Saha","active":true,"timeZone":"America/Los_Angeles"},"body":"or maven plugins like the ones used to compile protobufs without sh scripts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bikassaha","name":"bikassaha","key":"bikassaha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bikassaha&avatarId=29845","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bikassaha&avatarId=29845","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bikassaha&avatarId=29845","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bikassaha&avatarId=29845"},"displayName":"Bikas Saha","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-03T04:48:00.709+0000","updated":"2012-11-03T04:48:00.709+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13491898","id":"13491898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"It looks like this is going to have to be Python.  Trying to do this purely with Maven plugins, I see that it drops the symlinks that were created as part of the Linux native builds.  It's also cumbersome to set file permissions correctly with the Maven plugin.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-06T22:34:49.881+0000","updated":"2012-11-06T22:34:49.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13492840","id":"13492840","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"The attached patch ports the sh scripting in the distribution build to Python.  It wasn't possible to use only Maven plugins (like maven-antrun-plugin with a <tar> task), because they mishandled permissions and symlinks in the built tarballs.\n\nI tested all of the following build variations:\n\nWindows: mvn -Pnative-win -Pdist -Dtar -DskipTests clean package\nMac: mvn -Pdist -Dtar -DskipTests clean package\nUbuntu: mvn -Pnative -Pdist -Dtar -DskipTests clean package\nUbuntu: mvn -Pnative -Pdist -Dtar -Drequire.snappy -Dbundle.snappy -Dsnappy.lib=/usr/local/lib -DskipTests clean package\n\nThis works on Windows.  Additionally, on Mac and Ubuntu, I compared the built tarballs from before and after my changes.  I confirmed that the resulting tarballs have exactly the same contents, including permissions and symlinks.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T00:13:30.557+0000","updated":"2012-11-08T00:13:30.557+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13493366","id":"13493366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I made one additional change to guarantee that winutils goes into the bin directory for the common and distribution tarballs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T18:23:55.293+0000","updated":"2012-11-08T18:23:55.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13494270","id":"13494270","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raja%40cmbasics.com","name":"raja@cmbasics.com","key":"raja@cmbasics.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raja%40cmbasics.com&avatarId=16042","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raja%40cmbasics.com&avatarId=16042","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raja%40cmbasics.com&avatarId=16042","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raja%40cmbasics.com&avatarId=16042"},"displayName":"Raja Aluri","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the change. A minor nit, if you may choose to change,\nI was wondering if the following code can eliminate some of the 'else' loops.\n{code}\n  def filter_func(tar_info):\n    if tar_info.name == root:\n      return tar_info\n    elif tar_info.isfile() or tar_info.issym():\n      if file_name_filter(basename(tar_info.name)):\n        return tar_info\n      else:\n        return None\n    else:\n      return None\n  return filter_func\n{code}\nI just thought the code will be more concise\n{code}\n  def filter_func(tar_info):\n    if tar_info.name == root:\n      return tar_info\n    if tar_info.isfile() or tar_info.issym():\n      if file_name_filter(basename(tar_info.name)):\n        return tar_info\n     return None\n  return filter_func\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raja%40cmbasics.com","name":"raja@cmbasics.com","key":"raja@cmbasics.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raja%40cmbasics.com&avatarId=16042","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raja%40cmbasics.com&avatarId=16042","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raja%40cmbasics.com&avatarId=16042","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raja%40cmbasics.com&avatarId=16042"},"displayName":"Raja Aluri","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T20:04:06.931+0000","updated":"2012-11-09T20:04:06.931+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13494335","id":"13494335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you, Raja.  I think you're right.  I have attached a new patch that simplifies the make_file_filter function and adds some comments to help prevent confusion around the Python tarfile.add API.\n\nAlso, I realized that my earlier patch did not include all of the files that I changed.  Can you please take another look?  There are smaller changes in a few other pom.xml files.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T21:43:02.572+0000","updated":"2012-11-09T21:43:02.572+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13494351","id":"13494351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raja%40cmbasics.com","name":"raja@cmbasics.com","key":"raja@cmbasics.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raja%40cmbasics.com&avatarId=16042","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raja%40cmbasics.com&avatarId=16042","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raja%40cmbasics.com&avatarId=16042","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raja%40cmbasics.com&avatarId=16042"},"displayName":"Raja Aluri","active":true,"timeZone":"America/Los_Angeles"},"body":"Chris.\nIt is just for code readability sake. I will leave it to you. \nSorry for not pointing this out earlier. \nPlease consider using os.path.join() or  os.path.abspath(os.path.join()) instead of normpath for cross platform sake. \n\nAlso for building directory structure like the one below without platform specific '/'s\n\n{code}\n arc_name = base_name + \"/lib/native\"\n{code}\ncan be\n{code}\nos.path.join(base_name, 'lib' , 'native')\n{code}\n{code}\n>>> os.path.abspath(\".\")\n'/Users/raja/work/repos/'\n>>> os.path.abspath(\"../\")\n'/Users/raja/work'\n>>> os.path.normpath(\"../../\")\n'../..'\n>>> os.path.normpath(\"..\")\n'..'\n>>> os.path.normpath(\"..\")\n\n{code}\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raja%40cmbasics.com","name":"raja@cmbasics.com","key":"raja@cmbasics.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raja%40cmbasics.com&avatarId=16042","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raja%40cmbasics.com&avatarId=16042","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raja%40cmbasics.com&avatarId=16042","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raja%40cmbasics.com&avatarId=16042"},"displayName":"Raja Aluri","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T22:10:00.166+0000","updated":"2012-11-09T22:10:00.166+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13494365","id":"13494365","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry, uploading the patch one more time, back to including just hadoop-dist/pom.xml and hadoop-project-dist/pom.xml.  I forgot that the other module-specific ones are tracked in separate jiras.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T22:24:20.222+0000","updated":"2012-11-09T22:24:20.222+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13495618","id":"13495618","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Raja, I am attaching an updated patch that incorporates your advice to use abspath and / where applicable to improve readability.  I verified that this works cross-platform by retesting all build variations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-12T20:51:08.491+0000","updated":"2012-11-12T20:51:08.491+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13495633","id":"13495633","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raja%40cmbasics.com","name":"raja@cmbasics.com","key":"raja@cmbasics.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raja%40cmbasics.com&avatarId=16042","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raja%40cmbasics.com&avatarId=16042","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raja%40cmbasics.com&avatarId=16042","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raja%40cmbasics.com&avatarId=16042"},"displayName":"Raja Aluri","active":true,"timeZone":"America/Los_Angeles"},"body":"+1. LGTM.\nChris,\nThanks for incorporating the feedback.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raja%40cmbasics.com","name":"raja@cmbasics.com","key":"raja@cmbasics.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=raja%40cmbasics.com&avatarId=16042","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=raja%40cmbasics.com&avatarId=16042","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=raja%40cmbasics.com&avatarId=16042","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=raja%40cmbasics.com&avatarId=16042"},"displayName":"Raja Aluri","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-12T21:03:22.739+0000","updated":"2012-11-12T21:03:22.739+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614617/comment/13495649","id":"13495649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"body":"+1. I committed the patch to branch-trunk-win.\n\nThank you Chris. Thank you Raja for the review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sureshms","name":"sureshms","key":"sureshms","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Suresh Srinivas","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-12T21:17:42.742+0000","updated":"2012-11-12T21:17:42.742+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-9008/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0eolz:"}}