{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12361501","self":"https://issues.apache.org/jira/rest/api/2/issue/12361501","key":"HADOOP-949","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-01-29T21:06:09.324+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jan 29 21:06:09 UTC 2007","customfield_12310420":"80767","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_3432112_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_368451205","customfield_12312321":null,"resolutiondate":"2007-01-29T21:06:09.449+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-949/watchers","watchCount":0,"isWatching":false},"created":"2007-01-29T20:08:57.337+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312258","id":"12312258","description":"","name":"0.10.1","archived":false,"released":true,"releaseDate":"2007-01-10"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:52:07.237+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"After HADOOP-248 was committed, my benchmarks started to hang.  Running TestDFSIO on 20 nodes, the job's single reduce is hanging.  Annodated logs from the task tracker running the reduce are included in the next comment.  I have reverted the patch using:\n   cd $trunk_dir\n   svn merge -r 500410:500397 .\nand reran some benchmarks.  They all pass.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"106640","customfield_12312823":null,"summary":"reduce hangs after applying HADOOP-248 on 20 node cluster","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nidaley","name":"nidaley","key":"nidaley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nigel Daley","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nidaley","name":"nidaley","key":"nidaley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nigel Daley","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12361501/comment/12468396","id":"12468396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nidaley","name":"nidaley","key":"nidaley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nigel Daley","active":true,"timeZone":"Etc/UTC"},"body":"Task tracker log:\n\n... [reduce task launches]\n2007-01-27 04:35:49,483 INFO org.apache.hadoop.mapred.TaskTracker: LaunchTaskAction: task_0005_r_000000_0\n2007-01-27 04:35:49,554 INFO org.apache.hadoop.dfs.DistributedFileSystem: Initialized InMemoryFileSystem: ramfs://mapoutput10141941 of size (in bytes): 209715200\n2007-01-27 04:35:49,555 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Created an InMemoryFileSystem, uri: ramfs://mapoutput10141941\n2007-01-27 04:35:49,575 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 200 map output(s)\n2007-01-27 04:35:49,575 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 200 map output location(s)\n2007-01-27 04:35:49,576 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Started thread: Map output copy reporter for task task_0005_r_000000_0\n2007-01-27 04:35:49,584 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-27 04:35:49,585 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 1 known map output location(s); scheduling...\n2007-01-27 04:35:49,585 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 1 of 1 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-27 04:35:49,585 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Copying task_0005_m_000002_0 output from tt1.com.\n2007-01-27 04:35:49,736 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_m_000000_0 0.0% writing test_io_100@134209536/134217728 ::host = tt2.com\n2007-01-27 04:35:49,809 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 done copying task_0005_m_000002_0 output from tt1.com.\n2007-01-27 04:35:50,204 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 199 map output(s)\n2007-01-27 04:35:50,204 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 199 map output location(s)\n2007-01-27 04:35:50,578 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.0016666667% reduce > copy (1 of 200 at 0.00 MB/s) >\n... [map outputs get copied]\n2007-01-27 04:39:44,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 50 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-27 04:39:44,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 known map output location(s); scheduling...\n2007-01-27 04:39:44,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-27 04:39:44,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 153 map output(s)\n2007-01-27 04:39:44,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output location(s)\n2007-01-27 04:39:44,703 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.07833333% reduce > copy (47 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:45,705 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.07833333% reduce > copy (47 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:46,707 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.07833333% reduce > copy (47 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:47,708 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.07833333% reduce > copy (47 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:48,710 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.07833333% reduce > copy (47 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:49,268 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 50 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-27 04:39:49,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 known map output location(s); scheduling...\n2007-01-27 04:39:49,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-27 04:39:49,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 152 map output(s)\n2007-01-27 04:39:49,269 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output location(s)\n2007-01-27 04:39:49,712 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08% reduce > copy (48 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:50,715 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08% reduce > copy (48 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:51,718 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08% reduce > copy (48 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:52,721 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08% reduce > copy (48 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:53,723 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08% reduce > copy (48 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:54,270 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 50 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-27 04:39:54,270 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 known map output location(s); scheduling...\n2007-01-27 04:39:54,271 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-27 04:39:54,271 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 151 map output(s)\n2007-01-27 04:39:54,271 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output location(s)\n2007-01-27 04:39:54,726 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08166666% reduce > copy (49 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:55,728 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08166666% reduce > copy (49 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:56,730 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08166666% reduce > copy (49 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:57,732 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08166666% reduce > copy (49 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:58,733 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.08166666% reduce > copy (49 of 200 at 0.00 MB/s) >\n2007-01-27 04:39:59,272 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 50 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-27 04:39:59,272 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 known map output location(s); scheduling...\n2007-01-27 04:39:59,272 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-27 04:39:59,273 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output(s)\n2007-01-27 04:39:59,273 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output location(s)\n2007-01-27 04:39:59,735 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:00,737 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:01,739 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:02,741 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:03,743 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:04,272 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 50 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-27 04:40:04,272 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 known map output location(s); scheduling...\n2007-01-27 04:40:04,272 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-27 04:40:04,745 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:05,748 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:06,751 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:07,754 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-27 04:40:08,757 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n... [The next chunk is repeated forever]\n2007-01-28 02:00:54,509 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output(s)\n2007-01-28 02:00:54,509 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Need 150 map output location(s)\n2007-01-28 02:00:54,513 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 50 new map outputs from jobtracker and 0 map outputs from previous failures\n2007-01-28 02:00:54,513 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Got 0 known map output location(s); scheduling...\n2007-01-28 02:00:54,513 INFO org.apache.hadoop.mapred.TaskRunner: task_0005_r_000000_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2007-01-28 02:00:54,595 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-28 02:00:55,596 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-28 02:00:56,598 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-28 02:00:57,600 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n2007-01-28 02:00:58,602 INFO org.apache.hadoop.mapred.TaskTracker: task_0005_r_000000_0 0.083333336% reduce > copy (50 of 200 at 0.00 MB/s) >\n...[The webui shows the reduce as 8.33% complete]\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nidaley","name":"nidaley","key":"nidaley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nigel Daley","active":true,"timeZone":"Etc/UTC"},"created":"2007-01-29T20:09:07.895+0000","updated":"2007-01-29T20:09:07.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12361501/comment/12468410","id":"12468410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"I just reverted the patch from HADOOP-248.  Thanks, Nigel!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-01-29T21:06:09.324+0000","updated":"2007-01-29T21:06:09.324+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-949/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ilvz:"}}