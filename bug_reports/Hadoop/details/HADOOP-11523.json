{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12771082","self":"https://issues.apache.org/jira/rest/api/2/issue/12771082","key":"HADOOP-11523","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327583","id":"12327583","description":"2.7.0 release","name":"2.7.0","archived":false,"released":true,"releaseDate":"2015-04-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-01-29T19:42:00.363+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jan 30 15:26:51 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_1265142_*|*_10002_*:*_1_*:*_20895168_*|*_1_*:*_1_*:*_102328_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-01-30T01:08:39.902+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11523/watchers","watchCount":5,"isWatching":false},"created":"2015-01-29T18:57:37.328+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12409935","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12409935","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12780188","key":"HADOOP-11685","self":"https://issues.apache.org/jira/rest/api/2/issue/12780188","fields":{"summary":"StorageException complaining \" no lease ID\" during HBase distributed log splitting","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12428410","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12428410","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12837910","key":"HADOOP-12089","self":"https://issues.apache.org/jira/rest/api/2/issue/12837910","fields":{"summary":"StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-10-22T00:48:25.947+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319643","id":"12319643","name":"tools","description":"Hadoop tools"}],"timeoriginalestimate":null,"description":"In current WASB (Windows Azure Storage - Blob) implementation, when rename operation succeeds, WASB will update the parent folder's \"last modified time\" property. By default we do not acquire lease on this folder when updating its property and simply pass \"null\" to it.\n\nIn HBase scenario, when doing distributed log splitting, there might be a case that multiple processes from different region servers will access the same folder, and randomly we will see this exception in regionserver's log, which makes log splitting fail.\n\nSo we should acquire the lease when updating the folder property rather than pass \"null\" to it.\n\n{code}\nERROR org.apache.hadoop.hbase.regionserver.wal.HLogSplitter: Couldn't rename wasb://xxx/hbase/data/default/tdelrowtbl/3c842e8823c192d1028dc72ac3f22886/recovered.edits/0000000000000000015.temp to wasb://xxx/hbase/data/default/tdelrowtbl/3c842e8823c192d1028dc72ac3f22886/recovered.edits/0000000000000000015\norg.apache.hadoop.fs.azure.AzureException: com.microsoft.windowsazure.storage.StorageException: There is currently a lease on the blob and no lease ID was specified in the request.\n\tat org.apache.hadoop.fs.azurenative.AzureNativeFileSystemStore.updateFolderLastModifiedTime(AzureNativeFileSystemStore.java:2558)\n\tat org.apache.hadoop.fs.azurenative.AzureNativeFileSystemStore.updateFolderLastModifiedTime(AzureNativeFileSystemStore.java:2569)\n\tat org.apache.hadoop.fs.azurenative.NativeAzureFileSystem.updateParentFolderLastModifiedTime(NativeAzureFileSystem.java:2016)\n\tat org.apache.hadoop.fs.azurenative.NativeAzureFileSystem.rename(NativeAzureFileSystem.java:1983)\n\tat org.apache.hadoop.hbase.regionserver.wal.HLogSplitter$LogRecoveredEditsOutputSink$2.call(HLogSplitter.java:1161)\n\tat org.apache.hadoop.hbase.regionserver.wal.HLogSplitter$LogRecoveredEditsOutputSink$2.call(HLogSplitter.java:1121)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:745)\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327583","id":"12327583","description":"2.7.0 release","name":"2.7.0","archived":false,"released":true,"releaseDate":"2015-04-20"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12695335","id":"12695335","filename":"HADOOP-11523.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T19:16:01.881+0000","size":1801,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12695335/HADOOP-11523.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12695364","id":"12695364","filename":"HADOOP-11523.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T21:17:48.249+0000","size":1729,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12695364/HADOOP-11523.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12695371","id":"12695371","filename":"HADOOP-11523.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T22:02:12.713+0000","size":1890,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12695371/HADOOP-11523.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12695400","id":"12695400","filename":"HADOOP-11523.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T23:51:15.993+0000","size":1873,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12695400/HADOOP-11523.4.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297388","id":"14297388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~cnauroth]\n\nCould you take a look?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T19:17:01.371+0000","updated":"2015-01-29T19:17:01.371+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297422","id":"14297422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thomas.jungblut","name":"thomas.jungblut","key":"thomas.jungblut","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thomas.jungblut&avatarId=13645","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thomas.jungblut&avatarId=13645","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thomas.jungblut&avatarId=13645","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thomas.jungblut&avatarId=13645"},"displayName":"Thomas Jungblut","active":true,"timeZone":"Europe/London"},"body":"Good catch Duo. Thanks for fixing this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thomas.jungblut","name":"thomas.jungblut","key":"thomas.jungblut","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thomas.jungblut&avatarId=13645","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thomas.jungblut&avatarId=13645","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thomas.jungblut&avatarId=13645","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thomas.jungblut&avatarId=13645"},"displayName":"Thomas Jungblut","active":true,"timeZone":"Europe/London"},"created":"2015-01-29T19:42:00.363+0000","updated":"2015-01-29T19:42:00.363+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297468","id":"14297468","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12695335/HADOOP-11523.1.patch\n  against trunk revision 89b0749.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n        {color:red}-1 release audit{color}.  The applied patch generated 1 release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-tools/hadoop-azure.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5536//testReport/\nRelease audit warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5536//artifact/patchprocess/patchReleaseAuditProblems.txt\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5536//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-29T20:03:54.225+0000","updated":"2015-01-29T20:03:54.225+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297656","id":"14297656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Duo.  Thank you for the patch.\n\nThe current patch would acquire the lease for all {{rename}} operations, covering both block blobs and page blobs.  During initial development of atomic rename, we were careful to limit the scope to only page blobs (typically used by HBase logs).  Existing applications using block blobs might not be expecting the leases, so I think we need to make sure the lease acquisition only happens after checking {{AzureNativeFileSystemStore#isAtomicRenameKey}}.\n\nIn the error handling, if an exception is thrown from the try block, and then another exception is also thrown from freeing the lease, then this would drop the original exception and throw the exception from freeing the lease.  I suspect in general the main exception from the try block is going to be more interesting for root cause analysis, so I recommend throwing that one and just logging the one from freeing the lease, like so:\n\n{code}\n        } finally {\n          try {\n            if (lease != null) {\n              lease.free();\n            }\n          } catch (Exception e) {\n            LOG.error(\"Unable to free lease on \" + parentKey, e);\n          }\n        }\n{code}\n\nIn addition to the unit tests, I ran the test suite against a live Azure storage account and confirmed that everything passed.\n\nThe release audit warning from Jenkins is unrelated to this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T20:57:59.755+0000","updated":"2015-01-29T20:57:59.755+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297697","id":"14297697","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi, [~cnauroth]\n\nCurrent HBase clusters in Azure, our configuration is\n{code}\n\"Name\": \"fs.azure.page.blob.dir\", \"Value\": \"\\/hbase\\/WALs,\\/hbase\\/oldWALs\"\n{code}\n\nIn the exception above, WASB tried to update folder/blob \"hbase/data/default/tdelrowtbl/3c842e8823c192d1028dc72ac3f22886/recovered.edits\". This is apparently not a page blob. So lease acquisition is needed in block blob, at least for HBase.\n\nFor the error handling, agree and I have attached a new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T21:19:46.920+0000","updated":"2015-01-29T21:19:46.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297724","id":"14297724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. This is apparently not a page blob.\n\nSorry, I mixed up 2 different concepts: page blobs and atomic rename.  If a path is configured for atomic rename, that doesn't necessarily imply that it's a page blob.\n\nWhat is your setting for {{fs.azure.atomic.rename.dir}}?  I suspect it covers the path that you mentioned.  This is why I suggested a check on {{AzureNativeFileSystemStore#isAtomicRenameKey}}.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T21:36:29.295+0000","updated":"2015-01-29T21:36:29.295+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297764","id":"14297764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12695364/HADOOP-11523.2.patch\n  against trunk revision ad55083.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n        {color:red}-1 release audit{color}.  The applied patch generated 1 release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-tools/hadoop-azure.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5537//testReport/\nRelease audit warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5537//artifact/patchprocess/patchReleaseAuditProblems.txt\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5537//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-29T21:54:07.170+0000","updated":"2015-01-29T21:54:07.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297781","id":"14297781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~cnauroth]\n\nI looked at AzureNativeFileSystemStore#isAtomicRenameKey, it will check if the key is in the set of atomicRenameDirs. And from AzureNativeFileSystemStore#initialize, I saw it will add hbase root dir into it. \n{code}\n      // Add to this the hbase root directory, or /hbase is that is not set.\n      hbaseRoot = verifyAndConvertToStandardFormat(\n          sessionConfiguration.get(\"hbase.rootdir\", \"hbase\"));\n      atomicRenameDirs.add(hbaseRoot);\n{code}\n\nThis means all HBase folders are eligible for atomic rename, right? For fs.azure.atomic.rename.dir, in our PROD clusters, it is not set. So atomicRenameDirs only contains \"/hbase\".\n\nIn this way, I am OK to add it, so that lease acquisition e will only apply to folders under /hbase.\n\nI have updated the patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T22:02:26.954+0000","updated":"2015-01-29T22:02:26.954+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297835","id":"14297835","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12695371/HADOOP-11523.3.patch\n  against trunk revision ad55083.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n        {color:red}-1 release audit{color}.  The applied patch generated 1 release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-tools/hadoop-azure.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5538//testReport/\nRelease audit warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5538//artifact/patchprocess/patchReleaseAuditProblems.txt\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5538//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-29T22:43:50.247+0000","updated":"2015-01-29T22:43:50.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297916","id":"14297916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks, [~onpduo].  I have just 2 more minor nitpicks.  I suggest changing this:\n{code}\n              LOG.error(\"Unable to free lease on \" + parentKey);\n{code}\n\nto this:\n{code}\n              LOG.error(\"Unable to free lease on \" + parentKey, e);\n{code}\n\nThis way, we'll log the full stack trace on lease free errors and have more information for troubleshooting.\n\nThis is just a minor style point, but for the following, the keyword should be inline with the closing brace.  Instead of this:\n\n{code}\n          }\n          finally {\n{code}\n\nWe do this:\n{code}\n          } finally {\n{code}\n\nInstead of this:\n{code}\n        }\n        else {\n{code}\n\nWe do this:\n{code}\n        } else {\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T23:46:09.108+0000","updated":"2015-01-29T23:46:09.108+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297926","id":"14297926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~cnauroth]\n\nThanks for pointing these out. I have updated the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=onpduo","name":"onpduo","key":"onpduo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=onpduo&avatarId=24246","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=onpduo&avatarId=24246","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=onpduo&avatarId=24246","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=onpduo&avatarId=24246"},"displayName":"Duo Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T23:52:02.773+0000","updated":"2015-01-29T23:52:02.773+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297930","id":"14297930","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for patch v4 pending a fresh Jenkins run.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-29T23:53:38.712+0000","updated":"2015-01-29T23:53:38.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14297964","id":"14297964","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12695400/HADOOP-11523.4.patch\n  against trunk revision e36ef3b.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n        {color:red}-1 release audit{color}.  The applied patch generated 1 release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-tools/hadoop-azure.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5541//testReport/\nRelease audit warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5541//artifact/patchprocess/patchReleaseAuditProblems.txt\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5541//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T00:34:04.429+0000","updated":"2015-01-30T00:34:04.429+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298011","id":"14298011","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I have committed this to trunk and branch-2.  Duo, thank you for the contribution.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-30T01:08:39.943+0000","updated":"2015-01-30T01:08:39.943+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298020","id":"14298020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #6968 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6968/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-common-project/hadoop-common/CHANGES.txt\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T01:15:14.444+0000","updated":"2015-01-30T01:15:14.444+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298456","id":"14298456","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #89 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/89/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-common-project/hadoop-common/CHANGES.txt\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T10:41:08.882+0000","updated":"2015-01-30T10:41:08.882+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298474","id":"14298474","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #823 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/823/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n* hadoop-common-project/hadoop-common/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T10:44:22.853+0000","updated":"2015-01-30T10:44:22.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298655","id":"14298655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2021 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2021/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n* hadoop-common-project/hadoop-common/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T14:15:34.018+0000","updated":"2015-01-30T14:15:34.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298672","id":"14298672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #86 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/86/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-common-project/hadoop-common/CHANGES.txt\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T14:18:37.308+0000","updated":"2015-01-30T14:18:37.308+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298714","id":"14298714","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #90 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/90/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-common-project/hadoop-common/CHANGES.txt\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T15:05:47.278+0000","updated":"2015-01-30T15:05:47.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12771082/comment/14298749","id":"14298749","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #2040 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2040/])\nHADOOP-11523. StorageException complaining \" no lease ID\" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu. (cnauroth: rev f2c91098c400da6db0f5e8e49e9bf0e6444af531)\n* hadoop-common-project/hadoop-common/CHANGES.txt\n* hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-30T15:26:51.928+0000","updated":"2015-01-30T15:26:51.928+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11523/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i24yt3:"}}