{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12422847","self":"https://issues.apache.org/jira/rest/api/2/issue/12422847","key":"HADOOP-5678","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-04-15T07:41:38.057+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon May 04 23:29:07 UTC 2009","customfield_12310420":"77917","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_1694803457_*|*_10002_*:*_1_*:*_6182128_*|*_1_*:*_1_*:*_290169_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-05-04T23:29:07.684+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5678/watchers","watchCount":2,"isWatching":false},"created":"2009-04-15T06:54:31.930+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-05-04T23:29:07.681+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311543","id":"12311543","name":"build","description":"Build scripts"}],"timeoriginalestimate":null,"description":"src/c++/pipes/impl/HadoopPipes.cc, src/c++/utils/impl/SerialUtils.cc, and src/c++/utils/impl/StringUtils.cc fail to compile due to some mixed up #includes.\n\nWhen running ant -Dcompile.c++=true clean compile-c++ on svn trunk, I get errors about undeclared functions in the above files, such as:\n\n{quote}\n     [exec] /home/ricky/h/test/hadoop-0.18.3/src/c++/utils/impl/StringUtils.cc: In function 'uint64_t HadoopUtils::getCurrentMillis()':\n     [exec] /home/ricky/h/test/hadoop-0.18.3/src/c++/utils/impl/StringUtils.cc:74: error: 'strerror' was not declared in this scope\n     [exec] /home/ricky/h/test/hadoop-0.18.3/src/c++/utils/impl/StringUtils.cc: In function 'std::string HadoopUtils::quoteString(const std::string&, const char*)':\n     [exec] /home/ricky/h/test/hadoop-0.18.3/src/c++/utils/impl/StringUtils.cc:103: error: 'strchr' was not declared in this scope\n     [exec] /home/ricky/h/test/hadoop-0.18.3/src/c++/utils/impl/StringUtils.cc: In function 'std::string HadoopUtils::unquoteString(const std::string&)':\n     [exec] /home/ricky/h/test/hadoop-0.18.3/src/c++/utils/impl/StringUtils.cc:144: error: 'strtol' was not declared in this scope\n{quote}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12405509","id":"12405509","filename":"hadoop-includes.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T06:56:39.717+0000","size":1909,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12405509/hadoop-includes.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12405513","id":"12405513","filename":"hadoop-includes-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T08:14:55.494+0000","size":2152,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12405513/hadoop-includes-2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"103582","customfield_12312823":null,"summary":"Mixed up #includes in c++ files.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Fedora 10, gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) (GCC)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699090","id":"12699090","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"body":"This patch fixes the build issues by correcting the includes.  I also changed a few sprintfs to snprintfs (I can split those out into a separate patch if desired).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T06:56:39.779+0000","updated":"2009-04-15T06:56:39.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699093","id":"12699093","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"body":"My mistake, I think I clicked \"Submit Patch\" too early.  Could I get a code review for the patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T07:03:21.983+0000","updated":"2009-04-15T07:03:21.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699104","id":"12699104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"What gcc version are you using? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T07:41:38.057+0000","updated":"2009-04-15T07:41:38.057+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699106","id":"12699106","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"body":"I'm running gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) (GCC)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T07:45:10.320+0000","updated":"2009-04-15T07:45:10.320+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699108","id":"12699108","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"There has been a dependency move in gcc 4.3. The related bug in gnu is [28080|http://gcc.gnu.org/bugzilla/show_bug.cgi?id=28080] also, [http://www.cyrius.com/journal/2007/05/10#gcc-4.3-include] but I don't know if we are currently supporting gcc 4.3 in the source. \n\nPlus I the patch is incomplete HadoopPipes.cc also needs to be changed.\n\nWhy don't we use {{#include <cstring> #include <cstdio> #include <cstdlib>}} instead of  c style headers? We are anyway modifiying c++ source right?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T07:55:15.485+0000","updated":"2009-04-15T07:55:15.485+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699111","id":"12699111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"body":"This patch allows the C++ files to compile without errors for me.  This one also uses new-style includes as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T08:14:55.514+0000","updated":"2009-04-15T08:14:55.514+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699114","id":"12699114","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"The patch looks fine to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T08:34:10.182+0000","updated":"2009-04-15T08:34:10.182+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12699117","id":"12699117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for the review, trying to submit this for testing again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-15T08:42:24.223+0000","updated":"2009-04-15T08:42:24.223+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12422847/comment/12705824","id":"12705824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"body":"Somebody else got a fix in for this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricky","name":"ricky","key":"ricky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ricky Zhou","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-04T23:29:07.670+0000","updated":"2009-05-04T23:29:07.670+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5678/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i30f:"}}