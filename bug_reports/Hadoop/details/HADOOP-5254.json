{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12414751","self":"https://issues.apache.org/jira/rest/api/2/issue/12414751","key":"HADOOP-5254","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-02-13T15:06:36.896+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jan 10 07:36:44 UTC 2014","customfield_12310420":"3281","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_363617717_*|*_1_*:*_1_*:*_7139625_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-02-17T22:04:41.342+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5254/watchers","watchCount":4,"isWatching":false},"created":"2009-02-13T15:05:24.362+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"issuelinks":[{"id":"12379475","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12379475","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12682350","key":"MAPREDUCE-5664","self":"https://issues.apache.org/jira/rest/api/2/issue/12682350","fields":{"summary":"java.lang.RuntimeException: javax.xml.parsers.ParserConfigurationException:","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12379372","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12379372","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12682350","key":"MAPREDUCE-5664","self":"https://issues.apache.org/jira/rest/api/2/issue/12682350","fields":{"summary":"java.lang.RuntimeException: javax.xml.parsers.ParserConfigurationException:","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12323420","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12323420","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12411318","key":"HADOOP-4944","self":"https://issues.apache.org/jira/rest/api/2/issue/12411318","fields":{"summary":"Allow Xinclude in hadoop config file","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-01-10T07:36:44.223+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310711","id":"12310711","name":"conf","description":"Hadoop configuration mechanism."}],"timeoriginalestimate":null,"description":"seen this in SVN_HEAD, and it was mentioned on the user list in the week. It explains why my health tests are failing on class.ForName(FSConstants)\n\ngistration(127.0.0.1:8024, storageID=DS-1466307248-127.0.1.1-8024-1234537374021, infoPort=8022, ipcPort=50020):DataXceiver\n[sf-startdaemon-debug] java.lang.ExceptionInInitializerError\n[sf-startdaemon-debug] \tat org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:76)\n[sf-startdaemon-debug] \tat java.lang.Thread.run(Thread.java:619)\n[sf-startdaemon-debug] Caused by: java.lang.UnsupportedOperationException: This parser does not support specification \"null\" version \"null\"\n[sf-startdaemon-debug] \tat javax.xml.parsers.DocumentBuilderFactory.setXIncludeAware(DocumentBuilderFactory.java:590)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12400189","id":"12400189","filename":"hadoop-5254.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T15:51:28.644+0000","size":844,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12400189/hadoop-5254.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"103817","customfield_12312823":null,"summary":"Xinclude setup results in a stack trace","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"java version \"1.6.0_02\"\nJava(TM) SE Runtime Environment (build 1.6.0_02-b05)\nBEA JRockit(R) (build R27.4.0-90-89592-1.6.0_02-20070928-1715-linux-x86_64, compiled mode)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673257","id":"12673257","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Full stack trace  \n\nfull stack trace\n\n[sf-startdaemon-debug] java.lang.ExceptionInInitializerError\n[sf-startdaemon-debug] \tat org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:76)\n[sf-startdaemon-debug] \tat java.lang.Thread.run(Thread.java:619)\n[sf-startdaemon-debug] Caused by: java.lang.UnsupportedOperationException: This parser does not support specification \"null\" version \"null\"\n[sf-startdaemon-debug] \tat javax.xml.parsers.DocumentBuilderFactory.setXIncludeAware(DocumentBuilderFactory.java:590)\n[sf-startdaemon-debug] \tat org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1052)\n[sf-startdaemon-debug] \tat org.apache.hadoop.conf.Configuration.loadResources(Configuration.java:1029)\n[sf-startdaemon-debug] \tat org.apache.hadoop.conf.Configuration.getProps(Configuration.java:979)\n[sf-startdaemon-debug] \tat org.apache.hadoop.conf.Configuration.get(Configuration.java:381)\n[sf-startdaemon-debug] \tat org.apache.hadoop.conf.Configuration.getInt(Configuration.java:450)\n[sf-startdaemon-debug] \tat org.apache.hadoop.hdfs.protocol.FSConstants.<clinit>(FSConstants.java:51)\n[sf-startdaemon-debug] \t... 2 more\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T15:06:36.896+0000","updated":"2009-02-13T15:06:36.896+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673258","id":"12673258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"This is the root cause of another test failure of mine, something that tried to load every class that namenode needed, one by one, and resources, and told me off if they were missing. Class.forName(\"org.apache.hadoop.hdfs.protocol.FSConstants\") was throwing an CNFE, but the .class file was around. \n\nLooks like an ExceptionInInitializerError gets turned into a ClassNotFoundException in Class.forName(), without any attempt to nest in the underlying exception. Because that woudl be too helpful.\n\nCaused by: java.lang.ClassNotFoundException: forName: loading of org.apache.hadoop.hdfs.protocol.FSConstants failed, but loading it without references succeeded. Check references.\nat org.smartfrog.sfcore.security.SFClassLoader.forName(SFClassLoader.java:570)\nat org.smartfrog.services.os.java.LoadClassImpl.loadClasses(LoadClassImpl.java:160)\nat org.smartfrog.services.os.java.LoadClassImpl.loadResourcesAndClasses(LoadClassImpl.java:118)\nat org.smartfrog.services.os.java.LoadClassImpl.sfStart(LoadClassImpl.java:104)\nat org.smartfrog.services.assertions.TestCompoundImpl.sfStart(TestCompoundImpl.java:248)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\nat sun.rmi.transport.Transport$1.run(Transport.java:159)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T15:08:54.212+0000","updated":"2009-02-13T15:08:54.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673259","id":"12673259","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Assumed cause","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T15:10:13.212+0000","updated":"2009-02-13T15:10:13.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673264","id":"12673264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"the root cause is in the stack trace, the base class impl of setXIncludeAware() is (and this is sun code, so no cut and paste in apache):-\n\n{code}\n    public void setXIncludeAware(final boolean state) {\n        throw new UnsupportedOperationException(\n            \"This parser does not support specification \\\"\"\n            + this.getClass().getPackage().getSpecificationTitle()\n            + \"\\\" version \\\"\"\n            + this.getClass().getPackage().getSpecificationVersion()\n            + \"\\\"\"\n            );\n    }\n{code}\n\nProposed: catch and log@error, add some XML parser diags. \n\nIncidentally, my JVM version is JRockit. I wonder if it is because it is pre 1.6u5, and that when Sun pushed out new features in that update, it included XInclude awareness -as some versions of Java6 clearly do not have it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T15:17:31.030+0000","updated":"2009-02-13T15:17:31.030+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673277","id":"12673277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"This wraps the failure, logs it and continues. While it stops XInclude working on those runtimes without XInclude support, it ensures that people can still run Hadoop on Java 6 versions that are not XInclude enabled.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T15:51:28.796+0000","updated":"2009-02-13T15:51:28.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673291","id":"12673291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Putting xerces-2.9.1 and xml-apis-1.3.04 on the classpath appears to eliminate this problem. \n\nWhich implies two actions\n\n# Require XInclude in the Parser\n * have some explicit restrictions on which XML parsers to use, knowing that some setups won't have it\n * consider bundling Xerces/xml-apis with Hadoop to reduce support calls\n * doc that all programs that need to load a Configuration() instance had better have it\n * catch and rethrow the exception, this time with a helpful error message pointing to the relevant web page \n# Ignore XInclude when not enabled\n * catch and log the exception\n * backwards compatible\n * will cause problems if people want XInclude, and don't get it.\n * may cause some tests to fail (not seen that myself yet)\n * consider recognising XInclude errors and having more meaningful error messages \"upgrade your parser\"\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T16:38:45.480+0000","updated":"2009-02-13T16:38:45.480+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673303","id":"12673303","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"patch to log and continue. retains original behaviour (no Xinclude) on systems whose parsers don't have it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T17:04:23.555+0000","updated":"2009-02-13T17:04:23.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673347","id":"12673347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"+1. This code looks good. Do you intend this for trunk as well as 0.20?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2009-02-13T18:37:30.963+0000","updated":"2009-02-13T18:37:30.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673381","id":"12673381","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"I've only done it against trunk; not looked at 0.20. \n\nIt would be nice to have some details on what triggers the problem; which JVMs do/dont exhibit this problem.\n\n# all the hadoop core tests worked\n# my single VM tests worked\n# it was the stuff trying to deploy and test onto a VM-ware hosted image that caused problems. \n# Once I pushed xerces2.9.1 onto the classpath, things went away\n\nI think the hadoop core tests aren't noticing this because Ant ships with xerces; junit-under-ant gets tht when you tell junit to inherit Ant's classpath. \nMy VM tests may have been working for the same reason. \nIt was only the stuff running standalone that was in trouble.\n\nI'll ask around -what we need is a table that shows JDK and Xerces versions with features in each\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-13T21:39:33.843+0000","updated":"2009-02-13T21:39:33.843+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673624","id":"12673624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12400189/hadoop-5254.patch\n  against trunk revision 744406.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3862/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3862/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3862/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3862/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-15T13:30:08.636+0000","updated":"2009-02-15T13:30:08.636+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12673838","id":"12673838","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"failing test was org.apache.hadoop.mapred.TestJobInProgress.testRunningTaskCount , which timed out","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-16T10:36:44.765+0000","updated":"2009-02-16T10:36:44.765+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12674372","id":"12674372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I just committed this. Thanks Steve!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2009-02-17T22:04:41.275+0000","updated":"2009-02-17T22:04:41.275+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12674641","id":"12674641","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #758 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/758/])\n    . The Configuration class should be able to work with XML\nparsers that do not support xmlinclude. (Steve Loughran via dhruba)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-18T14:52:49.429+0000","updated":"2009-02-18T14:52:49.429+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12681381","id":"12681381","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Seeing this again on a job tracker running in a VM\n{code}\n09/03/12 16:25:20 [JobTracker] FATAL conf.Configuration : error parsing conf file: javax.xml.parsers.ParserConfigurationException: Feature 'http://apache.org/xml/features/xinclude' is not recognized.\n{code}\nAdding more stack trace reporting to these errors (And the resource name) for better diagnostics; it may be some XML parsers throw a different exception when they encounter XInclude problems","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-12T16:37:48.481+0000","updated":"2009-03-12T16:37:48.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12681689","id":"12681689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"The extra diagnostics flag up that some XML parsers (xerces 2.6.2?) can wait until a document is created before bailing out; this could be a sign of factory problems rather than just XML parser support issues; looking at the CP there are two Xerces versions there (2.6.2. and 2.9.1); clearly the wrong one is being used. \n\n{code}\n09/03/13 12:01:04 [JobTracker] FATAL conf.Configuration : Error parsing configuration resource core-default.xml :\n javax.xml.parsers.ParserConfigurationException: Feature 'http://apache.org/xml/features/xinclude' is not recognized.\njavax.xml.parsers.ParserConfigurationException: Feature 'http://apache.org/xml/features/xinclude' is not recognized.\n        at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)\n        at org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1063)\n        at org.apache.hadoop.conf.Configuration.loadResources(Configuration.java:1032)\n        at org.apache.hadoop.conf.Configuration.getProps(Configuration.java:982)\n        at org.apache.hadoop.conf.Configuration.get(Configuration.java:384)\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:805)\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:835)\n        at org.apache.hadoop.mapred.JobTracker.getInstrumentationClass(JobTracker.java:1633)\n        at org.apache.hadoop.mapred.JobTracker.innerStart(JobTracker.java:1472)\n        at org.apache.hadoop.util.Service.start(Service.java:186)\n{code}\n\n# We could check in the extra diagnostics here -stack trace and file at fault; this will help others\n# We could have a catch for a ParserConfigurationException and include an error message that points the viewer at a wiki page where we point to this bugrep and anything else relevant\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-13T12:10:03.389+0000","updated":"2009-03-13T12:10:03.389+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/12723990","id":"12723990","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"For people seeing this -it may be you have >1 parser on the classpath and the wrong one is being picked up\n\nrun the JVm with\n{code}\n-Djavax.xml.parsers.DocumentBuilderFactory=com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-25T09:58:05.299+0000","updated":"2009-06-25T09:58:05.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13079319","id":"13079319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fbelghait","name":"fbelghait","key":"fbelghait","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"fodil","active":true,"timeZone":"Etc/UTC"},"body":"I have the same problem. adding the  Putting xerces-2.9.1 and xml-apis-1.3.04 on the classpath did not resolve the problem.  \n\nHere is the point of failure in the stack.\n\nAug 4, 2011 6:34:32 AM org.apache.hadoop.conf.Configuration loadResource\nSEVERE: error parsing conf file: javax.xml.parsers.ParserConfigurationException: Feature 'http://apache.org/xml/features/xinclude' is not recognized.\njava.lang.RuntimeException: javax.xml.parsers.ParserConfigurationException: Feature 'http://apache.org/xml/features/xinclude' is not recognized.\n\tat org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1171)\n\tat org.apache.hadoop.conf.Configuration.loadResources(Configuration.java:1030)\n\tat org.apache.hadoop.conf.Configuration.getProps(Configuration.java:980)\n\nWhen you say to run the JVM with \"-Djavax.xml.parsers.DocumentBuilderFactory=com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\"\n\nWould tell me where can I specify this statement in order to force the JVM to use it?\n\nThanks for your help\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fbelghait","name":"fbelghait","key":"fbelghait","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"fodil","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-04T10:42:41.076+0000","updated":"2011-08-04T10:42:41.076+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13079344","id":"13079344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"# Which version of Hadoop are you running? I'm not sure this is patched in the 0.20x branch.\n# What does {{java -version}} say?\n# It's a Java system property, so can be set in the environment variable HADOOP_OPTS, assuming you run the normal scripts. My deployment process will be different from yours, so there's no point me going in to more detail except to note that I patch HADOOP_OPTS in {{conf/hadoop-env.sh}} dynamically.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2011-08-04T11:54:16.402+0000","updated":"2011-08-04T11:54:16.402+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13079940","id":"13079940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fbelghait","name":"fbelghait","key":"fbelghait","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"fodil","active":true,"timeZone":"Etc/UTC"},"body":"1- I am using Hadoop 0.20.2\n\n2- Java -version returns\njava version \"1.6.0_26\"\nJava(TM) SE Runtime Environment (build 1.6.0_26-b03)\nJava HotSpot(TM) 64-Bit Server VM (build 20.1-b02, mixed mode)\n\n3- I have added the line : export HADOOP_OPTS=\"-Djavax.xml.parsers.DocumentBuilderFactory=com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\" in the hadoop-env.sh\n\nthe same problem.\n\nAny idea\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fbelghait","name":"fbelghait","key":"fbelghait","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"fodil","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-05T12:45:51.762+0000","updated":"2011-08-05T12:45:51.762+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13113307","id":"13113307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"@fodil, run an ant -diagnostics on your command line and include the printout.\n\nThen try setting the HADOOP_OPTS property to whichever program you are trying to run","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2011-09-23T10:23:40.330+0000","updated":"2011-09-23T10:23:40.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13114675","id":"13114675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fbelghait","name":"fbelghait","key":"fbelghait","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"fodil","active":true,"timeZone":"Etc/UTC"},"body":"Here is the result of my ant -diagnostics\n\nUnable to locate tools.jar. Expected to find it in /usr/lib/jvm/java-6-sun-1.6.0.26/lib/tools.jar\n------- Ant diagnostics report -------\nApache Ant version 1.8.0 compiled on April 9 2010\n\n-------------------------------------------\n Implementation Version\n-------------------------------------------\ncore tasks     : 1.8.0 in file:/usr/share/ant/lib/ant.jar\noptional tasks : 1.8.0 in file:/usr/share/ant/lib/ant-nodeps.jar\n\n-------------------------------------------\n ANT PROPERTIES\n-------------------------------------------\nant.version: Apache Ant version 1.8.0 compiled on April 9 2010\nant.java.version: 1.6\nant.core.lib: /usr/share/ant/lib/ant.jar\nant.home: /usr/share/ant\n\n-------------------------------------------\n ANT_HOME/lib jar listing\n-------------------------------------------\nant.home: /usr/share/ant\nant-stylebook.jar (2332 bytes)\nant-jsch.jar (40162 bytes)\nant-apache-resolver.jar (4070 bytes)\nant-commons-net.jar (85060 bytes)\nant-junit.jar (101315 bytes)\nant-jmf.jar (6723 bytes)\nant-commons-logging.jar (3910 bytes)\nant-apache-xalan2.jar (2292 bytes)\nant-antlr.jar (5753 bytes)\nant-apache-bcel.jar (8764 bytes)\nant-apache-bsf.jar (3940 bytes)\nant-apache-regexp.jar (3762 bytes)\nant-nodeps.jar (402286 bytes)\nant-apache-log4j.jar (3045 bytes)\nant-apache-oro.jar (39622 bytes)\nant-jdepend.jar (8276 bytes)\nant-launcher.jar (12276 bytes)\nant-trax.jar (8391 bytes)\nant-javamail.jar (7856 bytes)\nant-swing.jar (7542 bytes)\nant.jar (1508803 bytes)\n\n-------------------------------------------\n USER_HOME/.ant/lib jar listing\n-------------------------------------------\nuser.home: /home/hadoop\nNo such directory.\n\n-------------------------------------------\n Tasks availability\n-------------------------------------------\nimage : Not Available (the implementation class is not present)\nsshexec : Missing dependency com.jcraft.jsch.Logger\nwlrun : Not Available (the implementation class is not present)\nscp : Missing dependency com.jcraft.jsch.Logger\nstlist : Not Available (the implementation class is not present)\nsshsession : Missing dependency com.jcraft.jsch.Logger\nnetrexxc : Not Available (the implementation class is not present)\nstarteam : Not Available (the implementation class is not present)\nstlabel : Not Available (the implementation class is not present)\njdepend : Missing dependency jdepend.xmlui.JDepend\nstcheckin : Not Available (the implementation class is not present)\nstcheckout : Not Available (the implementation class is not present)\nejbc : Not Available (the implementation class is not present)\ngjdoc : Not Available (the implementation class is not present)\nwlstop : Not Available (the implementation class is not present)\nddcreator : Not Available (the implementation class is not present)\nA task being missing/unavailable should only matter if you are trying to use it\n\n-------------------------------------------\n org.apache.env.Which diagnostics\n-------------------------------------------\nNot available.\nDownload it at http://xml.apache.org/commons/\n\n-------------------------------------------\n XML Parser information\n-------------------------------------------\nXML Parser : org.apache.xerces.jaxp.SAXParserImpl\nXML Parser Location: file:/usr/share/java/xercesImpl-2.9.1.jar\nNamespace-aware parser : org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser\nNamespace-aware parser Location: file:/usr/share/java/xercesImpl-2.9.1.jar\n\n-------------------------------------------\n XSLT Processor information\n-------------------------------------------\nXSLT Processor : com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl\nXSLT Processor Location: unknown\n\n-------------------------------------------\n System properties\n-------------------------------------------\njava.runtime.name : Java(TM) SE Runtime Environment\nsun.boot.library.path : /usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/amd64\njava.vm.version : 20.1-b02\nant.library.dir : /usr/share/ant/lib\njava.vm.vendor : Sun Microsystems Inc.\njava.vendor.url : http://java.sun.com/\npath.separator : :\njava.vm.name : Java HotSpot(TM) 64-Bit Server VM\nfile.encoding.pkg : sun.io\nuser.country : US\nsun.java.launcher : SUN_STANDARD\nsun.os.patch.level : unknown\njava.vm.specification.name : Java Virtual Machine Specification\nuser.dir : /home/hadoop\njava.runtime.version : 1.6.0_26-b03\njava.awt.graphicsenv : sun.awt.X11GraphicsEnvironment\njava.endorsed.dirs : /usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/endorsed\nos.arch : amd64\njava.io.tmpdir : /tmp\nline.separator : \n\njava.vm.specification.vendor : Sun Microsystems Inc.\nos.name : Linux\nant.home : /usr/share/ant\nsun.jnu.encoding : UTF-8\njava.library.path : /usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/amd64/server:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/amd64:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/../lib/amd64:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\njava.specification.name : Java Platform API Specification\njava.class.version : 50.0\nsun.management.compiler : HotSpot 64-Bit Tiered Compilers\nos.version : 2.6.32-33-generic\nuser.home : /home/hadoop\nuser.timezone : America/New_York\njava.awt.printerjob : sun.print.PSPrinterJob\nfile.encoding : UTF-8\njava.specification.version : 1.6\nuser.name : hadoop\njava.class.path : /usr/share/ant/lib/ant-launcher.jar:/usr/share/java/xmlParserAPIs.jar:/usr/share/java/xercesImpl.jar:/usr/share/ant/lib/ant-stylebook.jar:/usr/share/ant/lib/ant-jsch.jar:/usr/share/ant/lib/ant-apache-resolver.jar:/usr/share/ant/lib/ant-commons-net.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-jmf.jar:/usr/share/ant/lib/ant-commons-logging.jar:/usr/share/ant/lib/ant-apache-xalan2.jar:/usr/share/ant/lib/ant-antlr.jar:/usr/share/ant/lib/ant-apache-bcel.jar:/usr/share/ant/lib/ant-apache-bsf.jar:/usr/share/ant/lib/ant-apache-regexp.jar:/usr/share/ant/lib/ant-nodeps.jar:/usr/share/ant/lib/ant-apache-log4j.jar:/usr/share/ant/lib/ant-apache-oro.jar:/usr/share/ant/lib/ant-jdepend.jar:/usr/share/ant/lib/ant-launcher.jar:/usr/share/ant/lib/ant-trax.jar:/usr/share/ant/lib/ant-javamail.jar:/usr/share/ant/lib/ant-swing.jar:/usr/share/ant/lib/ant.jar\njava.vm.specification.version : 1.0\nsun.arch.data.model : 64\njava.home : /usr/lib/jvm/java-6-sun-1.6.0.26/jre\nsun.java.command : org.apache.tools.ant.launch.Launcher -cp  -diagnostics\njava.specification.vendor : Sun Microsystems Inc.\nuser.language : en\njava.vm.info : mixed mode\njava.version : 1.6.0_26\njava.ext.dirs : /usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/ext:/usr/java/packages/lib/ext\nsun.boot.class.path : /usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/resources.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/rt.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/jsse.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/jce.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/charsets.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/lib/modules/jdk.boot.jar:/usr/lib/jvm/java-6-sun-1.6.0.26/jre/classes\njava.vendor : Sun Microsystems Inc.\nfile.separator : /\njava.vendor.url.bug : http://java.sun.com/cgi-bin/bugreport.cgi\nsun.cpu.endian : little\nsun.io.unicode.encoding : UnicodeLittle\nsun.desktop : gnome\nsun.cpu.isalist : \n\n-------------------------------------------\n Temp dir\n-------------------------------------------\nTemp dir is /tmp\nTemp dir is writeable\nTemp dir alignment with system clock is -555 ms\n\n-------------------------------------------\n Locale information\n-------------------------------------------\nTimezone Eastern Standard Time offset=-14400000\n\n-------------------------------------------\n Proxy information\n-------------------------------------------\nJava1.5+ proxy settings:\nDirect connection\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fbelghait","name":"fbelghait","key":"fbelghait","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"fodil","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-26T13:51:40.182+0000","updated":"2011-09-26T13:51:40.182+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13114688","id":"13114688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"The XML parser printout implies that you are running on some linux distribution that has stuck a copy of xerces into /user/share/java.\n\nXML Parser : org.apache.xerces.jaxp.SAXParserImpl\nXML Parser Location: file:/usr/share/java/xercesImpl-2.9.1.jar\nNamespace-aware parser : org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser\nNamespace-aware parser Location: file:/usr/share/java/xercesImpl-2.9.1.jar\n\nTry renaming that file and \n# seeing if that makes the problem goes away\n# what shows up in ant -diagnostics for XML parsers once it has been renamed\n\nGiven that Xerces 2.9.1 is XML-include-aware, I'm not sure where the real problem lies here. There is probably another XML parser getting into your application's class path. Have a look at [http://xml.apache.org/xalan-j/usagepatterns.html] to see if it offers any insight. \n\nWhat you can do here is have an entry point, a Main method, that tries to create an XML parser and not only prints the classname it uses, it gets the URL of it (via .getClass().getClassLoader().getResource(\"org/apache/xerces/jaxp/SAXParserImpl\").getURL().toExternalForm() ); (replacing the resource path with the name of whichever XML parser you get. \n\nAnt's <whichresource> task can do this for you -just hand it the classpath of your app and the classname you want to locate","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2011-09-26T14:09:36.251+0000","updated":"2011-09-26T14:09:36.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414751/comment/13867590","id":"13867590","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arren","name":"arren","key":"arren","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shevek","active":true,"timeZone":"America/Los_Angeles"},"body":"I hit this issue this week, and having waded through 350Mb of logfiles and this amongst other tickets, I wrote this library to help diagnose this class of issue:\n\nhttps://github.com/shevek/jdiagnostics\n\nThe 350Mb is because Hadoop logs the stack trace to the ParserConfigurationException every time it passes that code path, which is sufficiently painful and impactful on performance that I've modified my local copy to fast-fail, and then I diagnose it.\n\nHope it's useful.\n\nThe ant -diagnostics thing is a red herring, because while ant looks in /usr/share/java, Hadoop doesn't.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arren","name":"arren","key":"arren","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shevek","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-10T07:36:44.223+0000","updated":"2014-01-10T07:36:44.223+0000"}],"maxResults":23,"total":23,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5254/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i4gn:"}}