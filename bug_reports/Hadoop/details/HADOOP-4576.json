{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12407684","self":"https://issues.apache.org/jira/rest/api/2/issue/12407684","key":"HADOOP-4576","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-11-18T04:12:21.085+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Mar 03 18:29:36 UTC 2009","customfield_12310420":"126608","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_6151273_*|*_1_*:*_1_*:*_2757184219_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2008-12-05T05:14:19.492+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4576/watchers","watchCount":0,"isWatching":false},"created":"2008-11-03T05:38:44.365+0000","customfield_12310192":"Changed capacity scheduler UI to better present number of running and pending tasks.","customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10342","value":"Incompatible change","id":"10342"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313211","id":"12313211","description":"","name":"0.19.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[{"id":"12322504","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12322504","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12406680","key":"HADOOP-4445","self":"https://issues.apache.org/jira/rest/api/2/issue/12406680","fields":{"summary":"Wrong number of running map/reduce tasks are displayed in queue information.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:40:30.781+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"The UI for capacity scheduler displays 'pending tasks' counts. However the capacity scheduler does not update these counts to be the actual values for optimization purposes, for e.g. to avoid walking all pending jobs on all heartbeats. Hence this information is not very accurate.\n\nAlso, while 'running tasks' counts are useful to compare against capacities and limits, 'pending tasks' counts do not add too much user value. A better count to display would be the number of running and pending jobs.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12394131","id":"12394131","filename":"HADOOP-4576-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T04:12:21.056+0000","size":5775,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12394131/HADOOP-4576-1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395069","id":"12395069","filename":"HADOOP-4576-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T05:32:21.388+0000","size":9852,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12395069/HADOOP-4576-2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395254","id":"12395254","filename":"HADOOP-4576-3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T03:39:29.552+0000","size":9379,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12395254/HADOOP-4576-3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395268","id":"12395268","filename":"HADOOP-4576-4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T07:55:40.557+0000","size":10851,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12395268/HADOOP-4576-4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395359","id":"12395359","filename":"HADOOP-4576-5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T03:31:29.949+0000","size":10848,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12395359/HADOOP-4576-5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395362","id":"12395362","filename":"HADOOP-4576-6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T04:40:02.395+0000","size":10620,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12395362/HADOOP-4576-6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395364","id":"12395364","filename":"waitingjobs1.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T04:51:46.043+0000","size":63830,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12395364/waitingjobs1.png"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"104244","customfield_12312823":null,"summary":"Modify pending tasks count in the UI to pending jobs count in the UI","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12648487","id":"12648487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching patch, which displays running jobs and waiting jobs instead of running and waiting task counts for maps and reduces.\n\nWaiting jobs and running jobs are computed after getting all jobs which are present in the scheduler and checking their status, this is done to incorporate changes which would be made in [HADOOP-4513|https://issues.apache.org/jira/browse/HADOOP-4513]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T04:12:21.085+0000","updated":"2008-11-18T04:12:21.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12648508","id":"12648508","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching output of ant test-patch:\n\n{noformat}\n     [exec] +1 overall.  \n     [exec] \n     [exec]     +1 @author.  The patch does not contain any @author tags.\n     [exec] \n     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.\n     [exec]\n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n     [exec] \n     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n     [exec] \n     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n     [exec] \n     [exec]     +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n     [exec] \n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T06:23:57.259+0000","updated":"2008-11-18T06:23:57.259+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12652278","id":"12652278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching new patch, this patch does not iterate thro' job list to find count of waiting jobs,instead introduces a counter in the QueueInfo object in JobQueueManager to maintain a count of waiting jobs which is incremented and decremented (by JobInitializationPoller). This would mean that in [HADOOP-4445|https://issues.apache.org/jira/browse/HADOOP-4445] we just need to iterate thro' running jobs queue to find number of running tasks for that queue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T05:32:21.436+0000","updated":"2008-12-02T05:32:21.436+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12652279","id":"12652279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching output of ant test-patch :\n\n{noformat}\n\n     [exec] +1 overall.  \n     [exec] \n     [exec]     +1 @author.  The patch does not contain any @author tags.\n     [exec] \n     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.\n     [exec] \n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n     [exec] \n     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n     [exec] \n     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n     [exec] \n     [exec]     +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T05:33:33.063+0000","updated":"2008-12-02T05:33:33.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653149","id":"12653149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching a new patch merged with current trunk.\n\nPlus have removed the variable which I introduced in previous patch, it was not required as we can find out number of waiting jobs directly from size of the jobList instead of having a counter.\n\nAlso added a note in scheduling information stating that scheduling information can be off at the maximum by polling interval of the job initialization poller which does clean up of the waiting jobs.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T03:39:29.593+0000","updated":"2008-12-04T03:39:29.593+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653209","id":"12653209","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Comments :\n{{JobQueuesManager.java}} :\n1) No need to import {{AtomicInteger}}. Also plz remove extra diffs.\n\n{{CapacityTaskScheduler.java}} :\n1) You cant simply change the constructor def. Overload it and deprecate the other if needed.\n\n2) Extra diffs w.r.t. \n{code}\n-         supportsPriority?\"YES\":\"NO\"));      \n+         supportsPriority?\"YES\":\"NO\"));\n{code}\n\n3) {quote}\n+      sb.append(String.format(\"* Scheduling information can be off by \" +\n+      \t\t\"maximum of %d seconds\\n\", pollingInterval/1000));\n{quote}\nUse {{StringUtils}} for formatting time.\n\n{{TestCapacityScheduler.java}}\n1) {quote}\n+    scheduler.assignTasks(tracker(\"tt1\")); // heartbeat\n+    p.selectJobsToInitialize();\n    {quote}\nThe ordering doesnt seem right. You submit 5 jobs, try to assign tasks (which should be no-op) and then you init the jobs.\n\n2) Shouldnt we also check/test the timing issue that after _poll-interval_ units of time the values are correct. Something like \n  - add jobs\n  - check the queue-sched-info\n  - allow the jobs to be inited by the poller i.e wait for _poller-interval_ time\n  - check again to see if the change is made.\n\n2) Plz mark the start and end of a new sub-test using comments","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T06:56:56.437+0000","updated":"2008-12-04T06:56:56.437+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653215","id":"12653215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching latest patch incorporating Amar's comments.\n\nWith respect to the test cases: \n\nFollowing is the order we are testing the scheduling information:\n\n- Submit 5 jobs to a queue.\n- Check the waiting jobs count, it should be 5.\n- Then run initializationPoller(), this initializes first two jobs in the queue but does not raise the job status changed event.\n- Check once again the waiting queue, it should be 5 jobs again.\n- Then raise status change events.\n- Assign one task to a task tracker.\n- Check waiting job count, it should be 4 now.\n- Then pick an initialized job but not scheduled job and fail it.\n- Run the poller, since poller is responsible for removing, failed jobs and scheduled jobs from job queue maintained by job queue manager, there is no requirement for raising status changed event as the job is cleared without it by the poller once job fails before it gets scheduled.  With respect to removal of the jobs which are scheduled and failing is taken care by the JobQueueManager.\n- Check the waiting job count should now be 3.\n- Now fail a job which has not been initialized at all.\n- Run the poller, so that it can clean up the job queue.\n- Check the count, the waiting job count should be 2.\n\nI hope this answers the doubt with regarding test case, I have also mentioned the steps as inline comment in the test case.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T07:55:40.572+0000","updated":"2008-12-04T07:55:40.572+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653282","id":"12653282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"+1. Looks good.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T12:37:58.649+0000","updated":"2008-12-04T12:37:58.649+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653608","id":"12653608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching patch with merging with today's trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T03:31:30.015+0000","updated":"2008-12-05T03:31:30.015+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653615","id":"12653615","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"I think it is not necessary to deprecate the constructor of SchedulingInfo. It is a private static inner class and hence nobody should be affected ? It would just add more code to maintain. Can you please submit a new patch removing the deprecation and just changing the api ? Please also remember to remove the checks for null in the toString method, as the object is not expected to be null after this change.\n\nBTW, I spoke to Amar about this and we agree on this point now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-12-05T03:56:51.007+0000","updated":"2008-12-05T03:56:51.007+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653624","id":"12653624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Changing visibility of the constructor and removing the deprecation.\n\nant test-patch output for the patch is :\n\n{noformat}\n     [exec] +1 overall.  \n     [exec] \n     [exec]     +1 @author.  The patch does not contain any @author tags.\n     [exec] \n     [exec]     +1 tests included.  The patch appears to include 4 new or modified tests.\n     [exec] \n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n     [exec] \n     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n     [exec] \n     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n     [exec] \n     [exec]     +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T04:40:02.411+0000","updated":"2008-12-05T04:40:02.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653626","id":"12653626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Attaching screenshot of the scheduling information after the patch has been applied.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T04:40:54.649+0000","updated":"2008-12-05T04:40:54.649+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653627","id":"12653627","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"The ant test-contrib passed on the local machine. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-05T04:53:02.581+0000","updated":"2008-12-05T04:53:02.581+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12653632","id":"12653632","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"I just committed this. Thanks, Sreekanth !","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-12-05T05:14:19.459+0000","updated":"2008-12-05T05:14:19.459+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12654074","id":"12654074","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #680 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/680/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-06T14:02:02.840+0000","updated":"2008-12-06T14:02:02.840+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407684/comment/12678384","id":"12678384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chansler","name":"chansler","key":"chansler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Chansler","active":true,"timeZone":"America/Los_Angeles"},"body":"Edit release note for publication.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chansler","name":"chansler","key":"chansler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Chansler","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-03T18:29:36.970+0000","updated":"2009-03-03T18:29:36.970+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4576/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i73j:"}}