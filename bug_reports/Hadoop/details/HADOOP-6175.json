{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12432028","self":"https://issues.apache.org/jira/rest/api/2/issue/12432028","key":"HADOOP-6175","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-03-11T20:29:51.877+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Mar 23 11:16:53 UTC 2010","customfield_12310420":"77796","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_945771182_*|*_1_*:*_1_*:*_19046573143_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-03-22T18:47:48.848+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6175/watchers","watchCount":1,"isWatching":false},"created":"2009-08-03T09:22:04.523+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":300,"aggregatetimeoriginalestimate":300,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=itily","name":"itily","key":"itily","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Urko Benito","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-24T20:39:14.705+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311543","id":"12311543","name":"build","description":"Build scripts"}],"timeoriginalestimate":300,"description":"When you compile _hadoop_ on Solaris 10 with locale _es_ES.ISO8859-15_ the _src/saveVersion.sh_ script generates incorrect date on _build/src/org/apache/hadoop/package-info.java_\n\nThe ploblem is that the _saveVersion.sh_ script unsets the *LC_CTYPE* to avoid the problem, but on Solaris the _date_ command uses the *LC_TIME* enviroment variable as you can see at the _man page_\n\n{noformat}\nSpecifications of native language translations of month  and\nweekday  names  are  supported.  The month and weekday names\nused for a language are based on the locale specified by the\nenvironment variable LC_TIME. See environ(5).\n{noformat}\n\nHere's an example about *date* on Solaris\n\n{quote}\n$ echo $LC_CTYPE\nes_ES.ISO8859-15\n$ echo $LC_TIME\nes_ES.ISO8859-15\n$ date\nlunes  3 de agosto de 2009 11H10'25\" CEST\n$ unset LC_TYPE\n$ date\nlunes  3 de agosto de 2009 11H10'31\" CEST\n$ unset LC_TIME\n$ date\nMon Aug  3 11:10:35 CEST 2009\n{quote}\n\nSo the _saveVersion.sh_ script creates the _package-info.java_ file as \n\n{code}\n/*\n * Generated by src/saveVersion.sh\n */\n@HadoopVersionAnnotation(version=\"0.20.1-dev\", revision=\"\",\n                         user=\"itily\", date=\"lunes  3 de agosto de 2009 11H16'01\" CEST\", url=\"http://svn.apache.org/repos/asf/hadoop/common/tags/release-0.20.0\")\npackage org.apache.hadoop;\n{code}\n\nAnd if you run hadoop with _version_ argument it's says \"Unknow\", here's an example\n\n{quote}\n$ hadoop version\nHadoop Unknown\nSubversion Unknown -r Unknown\nCompiled by Unknown on Unknown\n{quote}\n\n\nTo solve this issue is as simple as adding \n\n*unset LC_TIME*\n\nto _saveVersion.sh_ script, and the output is as _C_ locale as\n{code}\n/*\n * Generated by src/saveVersion.sh\n */\n@HadoopVersionAnnotation(version=\"0.20.1-dev\", revision=\"\",\n                         user=\"itily\", date=\"Mon Aug  3 11:19:41 CEST 2009\", url=\"http://svn.apache.org/repos/asf/hadoop/common/tags/release-0.20.0\")\npackage org.apache.hadoop;\n{code}\n\n\n","customfield_10010":null,"timetracking":{"originalEstimate":"5m","remainingEstimate":"5m","originalEstimateSeconds":300,"remainingEstimateSeconds":300},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12415330","id":"12415330","filename":"HADOOP-6175.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=itily","name":"itily","key":"itily","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Urko Benito","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-03T09:27:19.862+0000","size":324,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12415330/HADOOP-6175.patch"}],"aggregatetimeestimate":300,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"103360","customfield_12312823":null,"summary":"Incorret version compilation with es_ES.ISO8859-15 locale on Solaris 10","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=itily","name":"itily","key":"itily","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Urko Benito","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=itily","name":"itily","key":"itily","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Urko Benito","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":300,"percent":0},"customfield_12311024":null,"environment":"SunOS 5.10\nLocale:\nLC_CTYPE=es_ES.ISO8859-15\nLC_NUMERIC=es_ES.ISO8859-15\nLC_TIME=es_ES.ISO8859-15\nLC_COLLATE=es_ES.ISO8859-15\nLC_MONETARY=es_ES.ISO8859-15\nLC_MESSAGES=es\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":300,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12432028/comment/12738241","id":"12738241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=itily","name":"itily","key":"itily","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Urko Benito","active":true,"timeZone":"Etc/UTC"},"body":"Here's a patch to solve the issue, adding \nunset LC_TIME ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=itily","name":"itily","key":"itily","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Urko Benito","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-03T09:27:19.895+0000","updated":"2009-08-03T09:27:19.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12432028/comment/12844223","id":"12844223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12415330/HADOOP-6175.patch\n  against trunk revision 921980.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/34/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/34/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/34/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/34/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-11T20:29:51.877+0000","updated":"2010-03-11T20:29:51.877+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12432028/comment/12848278","id":"12848278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"+1 I've just committed this. Thanks Urko!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2010-03-22T18:47:48.801+0000","updated":"2010-03-22T18:47:48.801+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12432028/comment/12848660","id":"12848660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Common-trunk #285 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/285/])\n    . Incorrect version compilation with es_ES.ISO8859-15 locale on Solaris 10. Contributed by Urko Benito.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2010-03-23T11:16:53.040+0000","updated":"2010-03-23T11:16:53.040+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6175/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i1n3:"}}