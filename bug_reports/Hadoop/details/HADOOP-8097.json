{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12543477","self":"https://issues.apache.org/jira/rest/api/2/issue/12543477","key":"HADOOP-8097","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2012-02-21T17:04:30.485+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 30 17:27:13 UTC 2012","customfield_12310420":"228723","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_1407017_*|*_10002_*:*_1_*:*_13838541868_*|*_1_*:*_1_*:*_814274_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-07-30T17:27:13.210+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8097/watchers","watchCount":4,"isWatching":false},"created":"2012-02-21T12:47:50.116+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320352","id":"12320352","description":"hadoop-2.0.0-alpha release","name":"2.0.0-alpha","archived":false,"released":true,"releaseDate":"2012-05-23"}],"issuelinks":[{"id":"12348431","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12348431","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12542479","key":"HADOOP-8070","self":"https://issues.apache.org/jira/rest/api/2/issue/12542479","fields":{"summary":"Add standalone benchmark of protobuf IPC","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-10T02:34:16.405+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310688","id":"12310688","name":"ipc","description":""}],"timeoriginalestimate":null,"description":"I'm seeing TestRPCCallBenchmark fail with port in use, which is probably related to some other test (race condition on shutdown?), but which isn't being handled that well in the test itself -although the log shows the binding exception, the test is failing on a connection timeout","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12515354","id":"12515354","filename":"HADOOP-8097.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-02-21T13:19:52.917+0000","size":984,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12515354/HADOOP-8097.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"43818","customfield_12312823":null,"summary":"TestRPCCallBenchmark failing w/ port in use -handling badly","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"6 core xeon w/ 12GB RAM, hyperthreading enabled; Ubuntu 10.04 w/ Java6 OpenJDK","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13212556","id":"13212556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Stack trace and error log\n\ntestBenchmarkWithWritable(org.apache.hadoop.ipc.TestRPCCallBenchmark)  Time elapsed: 20.007 sec  <<< ERROR!\njava.lang.Exception: test timed out after 20000 milliseconds\n\tat java.lang.Object.wait(Native Method)\n\tat java.lang.Thread.join(Thread.java:1186)\n\tat java.lang.Thread.join(Thread.java:1239)\n\tat org.apache.hadoop.test.MultithreadedTestUtil$TestContext.stop(MultithreadedTestUtil.java:163)\n\tat org.apache.hadoop.ipc.RPCCallBenchmark.run(RPCCallBenchmark.java:306)\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:69)\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:83)\n\tat org.apache.hadoop.ipc.TestRPCCallBenchmark.testBenchmarkWithWritable(TestRPCCallBenchmark.java:30)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n\tat org.junit.internal.runners.statements.FailOnTimeout$1.run(FailOnTimeout.java:28)\ntestBenchmarkWithProto(org.apache.hadoop.ipc.TestRPCCallBenchmark)  Time elapsed: 13.197 sec  <<< ERROR!\njava.net.BindException: Problem binding to [0.0.0.0:12345] java.net.BindException: Address already in use; For more details see:  http://wiki.apache.org/hadoop/BindException\n\tat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:675)\n\tat org.apache.hadoop.ipc.Server.bind(Server.java:309)\n\tat org.apache.hadoop.ipc.Server$Listener.<init>(Server.java:402)\n\tat org.apache.hadoop.ipc.Server.<init>(Server.java:1742)\n\tat org.apache.hadoop.ipc.RPC$Server.<init>(RPC.java:830)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server.<init>(ProtobufRpcEngine.java:350)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine.getServer(ProtobufRpcEngine.java:329)\n\tat org.apache.hadoop.ipc.RPC.getServer(RPC.java:661)\n\tat org.apache.hadoop.ipc.RPCCallBenchmark.startServer(RPCCallBenchmark.java:230)\n\tat org.apache.hadoop.ipc.RPCCallBenchmark.run(RPCCallBenchmark.java:261)\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:69)\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:83)\n\tat org.apache.hadoop.ipc.TestRPCCallBenchmark.testBenchmarkWithProto(TestRPCCallBenchmark.java:43)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n\tat org.junit.internal.runners.statements.FailOnTimeout$1.run(FailOnTimeout.java:28)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-02-21T12:48:11.202+0000","updated":"2012-02-21T12:48:11.202+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13212562","id":"13212562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"running the test explicitly (rather than in the bulk test run) passes; a netstat run immediately after shows 50+ TCP connections to port 12345 in TIME_WAIT, which is probably triggering the timeout, as Both test cases in TestRPCCompatibility use the same (default) port of 12345. \n\nI propose using an explicit port number in both as another argument. This will avoid inter-test port clashes, in which test #2 runs while the socket is still in TIME_WAIT.\n\nSans doesn't note anything legitmate running on this port number, but as most traffic is trojan it is probably best to change to a new value\nhttp://isc.sans.edu/port.html?port=12345\n\nports [12350, 12351] appear low risk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-02-21T12:57:33.541+0000","updated":"2012-02-21T12:57:33.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13212569","id":"13212569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"patch fixes ports, verified by a netstat\n\ntcp        0      0 wildhaus:12351 wildhaus:57692 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57701 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57686 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57681 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51429 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57698 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57705 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51409 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57687 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57703 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57708 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57689 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51436 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57684 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51428 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57699 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51407 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51420 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57707 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57700 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51432 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51412 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51435 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57682 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51417 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57683 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57690 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57694 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57688 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51430 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51424 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51413 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51423 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51406 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51414 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57702 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51433 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57697 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57691 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51426 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57696 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51427 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51422 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51431 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57706 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57704 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51425 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51434 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51410 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51415 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57709 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57685 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57710 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51418 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57695 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51421 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51416 TIME_WAIT  \ntcp        0      0 wildhaus:12351 wildhaus:57693 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51411 TIME_WAIT  \ntcp        0      0 wildhaus:12350 wildhaus:51419 TIME_WAIT  \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-02-21T13:21:32.620+0000","updated":"2012-02-21T13:21:32.620+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13212574","id":"13212574","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"HADOOP-8070 added this test case, so is the root cause; this patch is therefore trunk-only","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-02-21T13:23:38.603+0000","updated":"2012-02-21T13:23:38.603+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13212737","id":"13212737","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12515354/HADOOP-8097.patch\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed unit tests in .\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/616//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/616//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-21T17:04:30.485+0000","updated":"2012-02-21T17:04:30.485+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13212751","id":"13212751","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"I'm not sure this is the best fix (relying on a different static port). A few other ideas:\n- change the benchmark so that if a port isn't specified, it binds to port 0, and then has the clients connect to whichever port gets bound\n- make sure it uses REUSEADDR so that it can still bind despite the TIME_WAIT sockets\n\nEither of those make sense? I honestly thought I'd written it to use port 0 but apparently I didn't :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2012-02-21T17:26:16.328+0000","updated":"2012-02-21T17:26:16.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13213515","id":"13213515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Both of those would be good, because fixed ports invariably cause problems on jenkins builds. Are you going to fix this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-02-22T10:40:35.228+0000","updated":"2012-02-22T10:40:35.228+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13424240","id":"13424240","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"todd, do you think this is still a problem? The box I had which showed it is no longer in my possession","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-07-28T00:43:55.839+0000","updated":"2012-07-28T00:43:55.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13424489","id":"13424489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"I don't think it's changed, so probably it's still a problem. That said, I'd never seen this test fail, so probably not worth fixing unless we have an environment handy in which we can reproduce it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2012-07-29T05:04:30.388+0000","updated":"2012-07-29T05:04:30.388+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13425028","id":"13425028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"@Todd -seems reasonable. I've updated the env details for better diagnostics. That desktop through up a lot of race conditions in other code through a combination of speed and parallelism -this test failure is probably another example -but as it's of the test classes, it matters less","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-07-30T17:26:35.330+0000","updated":"2012-07-30T17:26:35.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12543477/comment/13425029","id":"13425029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Marking as can't reproduce until someone else encounters it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2012-07-30T17:27:13.263+0000","updated":"2012-07-30T17:27:13.263+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8097/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07v6f:"}}