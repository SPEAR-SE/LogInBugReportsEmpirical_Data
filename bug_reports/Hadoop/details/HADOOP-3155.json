{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12392962","self":"https://issues.apache.org/jira/rest/api/2/issue/12392962","key":"HADOOP-3155","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313211","id":"12313211","description":"","name":"0.19.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-04-02T20:30:07.419+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu May 14 20:51:34 UTC 2009","customfield_12310420":"125816","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_694626010_*|*_1_*:*_3_*:*_16342333953_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_3026475461","customfield_12312321":null,"resolutiondate":"2008-10-16T22:57:11.035+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-3155/watchers","watchCount":8,"isWatching":false},"created":"2008-04-02T18:27:51.072+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"12.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12321247","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12321247","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12401854","key":"HADOOP-3915","self":"https://issues.apache.org/jira/rest/api/2/issue/12401854","fields":{"summary":"reducers hang, jobtracker loosing completely track of them.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:53:05.462+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"This happened with hadoop-0.16.2:\n\nIn relatively small job (a few hundreds of mappers and reducers), reducers were stuck at shuffling.\nI saw the lines like the following repeated hundreds of thousands of times over a few hours:\n\n2008-04-02 17:17:44,640 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:44,641 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:44,641 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:44,641 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:46,643 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:46,643 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:46,643 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:46,643 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:48,645 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:48,645 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:48,645 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:48,645 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:50,647 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:50,647 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:50,647 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:50,647 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:52,649 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:52,650 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:52,650 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:52,650 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:54,651 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:54,652 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:54,652 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:54,652 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:56,654 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:56,654 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:56,654 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:56,654 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:17:58,656 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:58,656 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:58,656 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:58,656 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:00,658 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:00,658 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:00,658 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:00,658 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:02,660 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:02,661 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:02,661 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:02,661 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:04,662 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:04,663 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:04,663 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:04,663 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:06,664 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:06,665 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:06,665 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:06,665 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:08,667 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:08,667 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:08,667 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:08,667 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:10,669 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:10,669 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:10,669 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:10,669 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:12,671 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:12,671 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:12,671 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:12,671 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:14,673 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:14,674 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:14,674 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:14,674 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:16,675 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:16,676 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:16,676 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:16,676 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:18,678 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:18,678 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:18,678 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:18,678 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:20,680 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:20,680 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:20,680 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:18:20,680 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts)\n2008-04-02 17:18:22,682 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:18:22,682 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:18:22,682 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12387410","id":"12387410","filename":"events-job_200807311630_0007.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-02T21:21:46.465+0000","size":131303,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12387410/events-job_200807311630_0007.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12392194","id":"12392194","filename":"fetcherThread.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-15T18:19:15.194+0000","size":1443,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12392194/fetcherThread.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12392114","id":"12392114","filename":"fetcherThread.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-14T17:48:49.498+0000","size":1474,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12392114/fetcherThread.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391861","id":"12391861","filename":"fetcherThread.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-10T00:06:23.904+0000","size":1169,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12391861/fetcherThread.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391784","id":"12391784","filename":"fetcherThread.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-08T22:46:38.326+0000","size":2957,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12391784/fetcherThread.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391783","id":"12391783","filename":"fetcherThread.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-08T21:57:01.020+0000","size":601,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12391783/fetcherThread.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12408184","id":"12408184","filename":"HADOOP-3155-branch18.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-05-14T20:51:34.501+0000","size":1567,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12408184/HADOOP-3155-branch18.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12387584","id":"12387584","filename":"hadoop-3155-logs.tar.gz","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T18:51:01.788+0000","size":4487726,"mimeType":"application/x-tar","content":"https://issues.apache.org/jira/secure/attachment/12387584/hadoop-3155-logs.tar.gz"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391753","id":"12391753","filename":"jobevents_1007.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-08T16:44:59.544+0000","size":1551623,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12391753/jobevents_1007.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12387564","id":"12387564","filename":"patch-3155-debug-0.16.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-08-05T12:22:07.617+0000","size":873,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12387564/patch-3155-debug-0.16.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12387565","id":"12387565","filename":"patch-3155-debug-0.17.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-08-05T12:22:07.652+0000","size":876,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12387565/patch-3155-debug-0.17.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12387409","id":"12387409","filename":"task_200807311630_0007_r_000006_0.syslog.gz","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-02T21:21:16.015+0000","size":209538,"mimeType":"application/x-gzip","content":"https://issues.apache.org/jira/secure/attachment/12387409/task_200807311630_0007_r_000006_0.syslog.gz"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"105238","customfield_12312823":null,"summary":"reducers stuck at shuffling ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12584763","id":"12584763","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"In the job, were there any map failures or lost trackers leading to killed maps? If so, could you please check the JobTracker logs and see whether the failed/lost tasks got reexecuted.\nWere many reducers stuck? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-04-02T20:30:07.419+0000","updated":"2008-04-02T20:30:07.419+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12584923","id":"12584923","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"\nI did not notice map failures\nAll maps completed successfully.\nFour reducers got stuck.\nA few reducers got re-executed because of too many failures in fetching map output.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2008-04-02T23:46:55.947+0000","updated":"2008-04-02T23:46:55.947+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12584970","id":"12584970","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"\n\nI think the problem was due to the slow network link of a machine.\n\nThis issue can be ignored for now.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2008-04-03T03:25:47.959+0000","updated":"2008-04-03T03:25:47.959+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12594366","id":"12594366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ckunz","name":"ckunz","key":"ckunz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Kunz","active":true,"timeZone":"Etc/UTC"},"body":"We have been  running into the same issue, very unlikely to be a network problem:\n\n#nodes 1350\n#maps: 100,000 (running about 5 minutes each)\n#reduces: 2,500\n\nThe maps were finished after about 4 hours, the data shuffling took about 8 hours, the amount of data very small.\n\nTypical pattern of reduces logs:\n\n2008-05-05 19:32:43,215 INFO org.apache.hadoop.mapred.ReduceTask: task_200805050640_0001_r_001079_0 Need 6 map output(s)\n2008-05-05 19:32:43,216 INFO org.apache.hadoop.mapred.ReduceTask: task_200805050640_0001_r_001079_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-05-05 19:32:43,216 INFO org.apache.hadoop.mapred.ReduceTask: task_200805050640_0001_r_001079_0 Got 5 known map output location(s); scheduling...\n2008-05-05 19:32:43,216 INFO org.apache.hadoop.mapred.ReduceTask: task_200805050640_0001_r_001079_0 Scheduled 0 of 5 known outputs (0 slow hosts and 5 dup hosts)\n\nAlso saw log messages with '(xxx slow hosts and 0 dup hosts)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ckunz","name":"ckunz","key":"ckunz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Kunz","active":true,"timeZone":"Etc/UTC"},"created":"2008-05-05T22:18:00.970+0000","updated":"2008-05-05T22:18:00.970+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12601977","id":"12601977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsoderberg","name":"rsoderberg","key":"rsoderberg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Soderberg","active":true,"timeZone":"Etc/UTC"},"body":"I just encountered this using hadoop-0.17.0 on a 7-node cluster.  The performance of the affected reduce tasks has slowed dramatically - \"24.43%\n reduce > copy (195 of 266 at 0.00 MB/s)\".  However the progress percentage IS gradually increasing at the rate of approximately 0.10% every 20 minutes.\n\nIs this related to this penalty box error that is showing up in my logs?\n\n2008-06-02 18:37:43,437 INFO org.apache.hadoop.mapred.ReduceTask: Task task_200806021621_0002_r_000013_0: Failed fetch #6 from task_200806021621_0002_m_000244_0\n2008-06-02 18:37:43,437 WARN org.apache.hadoop.mapred.ReduceTask: task_200806021621_0002_r_000013_0 adding host blah.corp.XXX.XXX to penalty box, next contact in 128 seconds\n\nIt seems that hadoop is autodetecting the wrong hostname for some of the cluster nodes, leading to issues when one node tries to contact another to retrieve information.  I have no idea if this is related to the issue.\n\nRandom observations:\n\n2 of 28 reduce tasks are running extremely slowly.\nAll slow reduce tasks have precisely the same progress percentage.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsoderberg","name":"rsoderberg","key":"rsoderberg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Soderberg","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-03T15:34:38.822+0000","updated":"2008-06-03T15:34:38.822+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12603380","id":"12603380","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"This most likely is because of the current backoff & retrial strategies in the shuffle. There are some jiras open to improve them - HADOOP-3478 & HADOOP-3327.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-06-08T13:40:19.128+0000","updated":"2008-06-08T13:40:19.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12612949","id":"12612949","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dwollen","name":"dwollen","key":"dwollen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Derek Wollenstein","active":true,"timeZone":"Etc/UTC"},"body":"I noticed something similar occuring to the original issue description (\n2008-04-02 17:17:44,640 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Need 2 map output(s)\n2008-04-02 17:17:44,641 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0: Got 0 new map-outputs & 0 obsolete map-outputs from tasktracker and 0 map-outputs from previous failures\n2008-04-02 17:17:44,641 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Got 0 known map output location(s); scheduling...\n2008-04-02 17:17:44,641 INFO org.apache.hadoop.mapred.ReduceTask: task_200804021200_0337_r_000008_0 Scheduled 0 of 0 known outputs (0 slow hosts and 0 dup hosts))\n) repeated over and over again\nIt seems that this is triggered if different nodes are configured to use a different dfs name, including the following\n\non the TaskTracker and JobTracker instances\n\nfs.default.name = \"foo.example.com:50001\"\n\non the DataNode instances\n\nfs.default.name = \"hdfs://foo.example.com:50001/\"\n\nThis seems to cause the reducers to be unable to find the mapper output","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dwollen","name":"dwollen","key":"dwollen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Derek Wollenstein","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-11T18:20:55.413+0000","updated":"2008-07-11T18:20:55.413+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12616370","id":"12616370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yacc143","name":"yacc143","key":"yacc143","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Kostyrka","active":true,"timeZone":"Etc/UTC"},"body":"I'm also getting this behaviour with 0.17.1, on an EC2 hosted cluster, 14 worker (m1.small) and 1 control (NameNode/JobTracker) VMs.\n\nThe job was rather small (40 map tasks, with minimal data to each, they fetch their input internally from S3), 20 reducers. streaming.jar.\n\nAs far as I have been able to notice:\n\n-) no progress on reducers (I had cases where jobs have been hanging for multiples of 12 hours)\n-) the configuration is exactly the same on all nodes, so the DFS name idea from the previous comment does not apply.\n-) killing the reduce tasks restarts them on the same node. There they go to the same state (with the same number of needed outputs) very quickly, the job being not that big. Then they hang at the same place.\n-) the only remedy that I have found if one call this so is restarting the cluster. So this hang is not 100% input dependant.\n\nAndreas","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yacc143","name":"yacc143","key":"yacc143","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Kostyrka","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-24T08:30:57.907+0000","updated":"2008-07-24T08:30:57.907+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12616376","id":"12616376","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Andreas, the next time you notice this could you please run:\n\n$ bin/hadoop job -events <jobId> 0 1000000\n\nand provide us the output? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-07-24T08:49:33.202+0000","updated":"2008-07-24T08:49:33.202+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12619284","id":"12619284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"We're also running into this on 0.16.2. The job has 50 mappers, 895 reducers, and all mappers finished exactly once (no speculative execution).\n\nWhen the failures occur, they seem to effect all the reduce tasks assigned to a tasktracker; they all get stuck waiting for the same number of map outputs. The number does vary from tasktracker to tasktracker (and many tasktrackers complete the reducers successfully). The task's syslog reports:\n\n{code}\n2008-08-02 06:10:02,686 INFO org.apache.hadoop.mapred.ReduceTask: task_200807311630_0007_r_000006_0 Ignoring obsolete copy result for Map Task: task_200807311630_0007_m_000001_0 from host: HOST-1131\n{code}\n\nThe number of those lines will be equal to the number of map outputs they (later) get stuck waiting for. The result that is claimed to be obsolete has already been copied, though:\n\n{code}\n2008-08-02 06:09:21,461 INFO org.apache.hadoop.mapred.ReduceTask: task_200807311630_0007_r_000006_0 Copying task_200807311630_0007_m_000001_0 output from HOST-1131\n....\n2008-08-02 06:10:02,683 INFO org.apache.hadoop.mapred.ReduceTask: task_200807311630_0007_r_000006_0 done copying task_200807311630_0007_m_000001_0 output from HOST-1131\n{code}\n\nAs a work-around, manually killing the task until it gets assigned to a working tasktracker allows the job to complete.\n\nAttachment {{task_200807311630_0007_r_000006_0.syslog.gz}} is the full syslog from one such failed task, I'll upload the output of {{./bin/apollo-hadoop job -events job_200807311630_0007 0 10000000}} next.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-02T21:21:16.045+0000","updated":"2008-08-02T21:21:16.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12619472","id":"12619472","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks for the logs, Rick.\nAre there lost task trackers during the job?\nCan you attach JobTracker log and TaskTracker log on which task_200807311630_0007_r_000006_0 ran?\nAnd if you upload log for another stuck reducer, that will be very useful.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-08-04T10:44:09.001+0000","updated":"2008-08-04T10:44:09.001+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12619866","id":"12619866","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"Here are debug patches logging task completion events at the tasktracker for branches 0.16 and 0.17.\nCould you guys please apply the respective patches and run applications.\n\nAnd if this problem occurs again, please upload the tasktracker logs for a _good_ task tracker as well as the logs for a tasktracker on which reducers get stuck.\n\nAnd also upload the result of _kill -3  <taskTrackerPID>_ for the problematic tasktracker.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-08-05T12:22:07.655+0000","updated":"2008-08-05T12:22:07.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12620001","id":"12620001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Took me awhile to assemble the logs, but here they are. Included are:\n\n- all reducer task syslog files from two failed tasktrackers and one good tasktracker\n- the tasktracker logs from the same hosts\n- the jobtracker log entries for this job\n- stackdumps (kill -QUIT output) from the tasktracker and task VM created on a hung tasktracker while the job was running.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-05T18:51:01.848+0000","updated":"2008-08-05T18:51:01.848+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12620138","id":"12620138","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks Rick for the effort.\n\nOne more question: What sort of failures did you observe on bad tasktrackers? I dont see any failures in tasktracker logs or the job tracker logs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-08-06T04:53:00.113+0000","updated":"2008-08-06T04:53:00.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12620156","id":"12620156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Thanks Amareshwari. These tasks don't fail --- they just don't make any progress. In the case of job 200807311630_0007, the stuck task attempts were eventually manually killed until they were assigned to a non-stuck tasktracker.\n\nWe've patched the tasktrackers to log the extra debugging, though since restarting them to deploy the patch, this problem hasn't recurred (we saw failures like this for two jobs in a row before the update, so it seems related to some kind of state accumulated in either the tasktrackers or jobtracker).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-06T07:13:04.679+0000","updated":"2008-08-06T07:13:04.679+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12620176","id":"12620176","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"{code}\n\"Map-events fetcher for all reduce tasks on tracker_HOST-6026:localhost.localdomain/127.0.0.1:53932\" daemon prio=10 tid=0x7ff5d800 nid=0x510b in Object.wait() [0x81e0a000..0x81e0a1b0]\n   java.lang.Thread.State: WAITING (on object monitor)\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x87981ee0> (a java.util.TreeMap)\n\tat java.lang.Object.wait(Object.java:485)\n\tat org.apache.hadoop.mapred.TaskTracker$MapEventsFetcherThread.run(TaskTracker.java:511)\n\t- locked <0x87981ee0> (a java.util.TreeMap)\n{code}\nThe above _kill -QUIT_ output of the tasktracker shows that MapEventsFetcherThread is in WAITING state, which is abnormal with the scenario.\n\nIt says that the Thread is waiting at line number 511:\n{code}\n509            while (((fList = reducesInShuffle()).size()) == 0) {\n510              try {\n511                runningJobs.wait();\n512              } catch (InterruptedException e) {\n513                LOG.info(\"Shutting down: \" + getName());\n514                return;\n515              }\n516            }\n{code}\nMapEventsFetcherThread will wake up from here if there are any reducesInShuffle.  \nOne scenario is the thread saw that there are no reducesInShuffle and is waiting, and the notifications are missed. But, \nSince the reducers have fetched some map outputs, that says that the thread woke up and fetched some events. And since the reduces are still in shuffle, the fetcherThread should not go to wait again.\n\nIf I'm not missing something, there could be a bad data structure that is causing the issue.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-08-06T08:42:50.767+0000","updated":"2008-08-06T08:42:50.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12637977","id":"12637977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"Facebook job hang from 10/08","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-08T16:44:59.567+0000","updated":"2008-10-08T16:44:59.567+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12637979","id":"12637979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"hey folks - i just uploaded the output from bin/hadoop job -events <jobId> 0 1000000\n\nwe are beginning to reproduce this problem once in a while and it's hugely disruptive. the cluster is in this state right now - we will try to not restart it if any information can be extracted that can help debugging this .. Please let us know.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-08T16:46:59.806+0000","updated":"2008-10-08T16:46:59.806+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12637983","id":"12637983","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"btw - one observation - failing the reduce task does not fix the problem. the restarted reducer ends up hanging at precisely the same point (waiting for same N number of map-outputs - although i can't tell if it's the exact same map-outputs - but it's the exact same 'N' all the time). That makes me suspect that the issue is not a race condition (which was one of the possibilities discussed in hadoop-4360).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-08T16:55:49.360+0000","updated":"2008-10-08T16:55:49.360+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638068","id":"12638068","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"Some more information from facebook:\n\nCompletion Events from TASKTRACKER: (NOTE: line 1-3 and line 4-6 are duplicates)\nNextId: 57\nID\tEvent ID\tTask ID\tID within Job\tType\tStatus\n0\t0\ttask_200810061724_5371_m_000019_0\t19\tMap\tSUCCEEDED\n1\t0\ttask_200810061724_5371_m_000023_0\t23\tMap\tSUCCEEDED\n2\t0\ttask_200810061724_5371_m_000008_0\t8\tMap\tSUCCEEDED\n3\t0\ttask_200810061724_5371_m_000019_0\t19\tMap\tSUCCEEDED\n4\t0\ttask_200810061724_5371_m_000023_0\t23\tMap\tSUCCEEDED\n5\t0\ttask_200810061724_5371_m_000008_0\t8\tMap\tSUCCEEDED\n6\t0\ttask_200810061724_5371_m_000012_0\t12\tMap\tSUCCEEDED\n7\t0\ttask_200810061724_5371_m_000017_0\t17\tMap\tSUCCEEDED\n8\t0\ttask_200810061724_5371_m_000021_0\t21\tMap\tSUCCEEDED\n9\t0\ttask_200810061724_5371_m_000011_0\t11\tMap\tSUCCEEDED\n10\t0\ttask_200810061724_5371_m_000015_0\t15\tMap\tSUCCEEDED\n11\t0\ttask_200810061724_5371_m_000020_0\t20\tMap\tSUCCEEDED\n12\t0\ttask_200810061724_5371_m_000003_0\t3\tMap\tSUCCEEDED\n13\t0\ttask_200810061724_5371_m_000009_0\t9\tMap\tSUCCEEDED\n14\t0\ttask_200810061724_5371_m_000004_0\t4\tMap\tSUCCEEDED\n15\t0\ttask_200810061724_5371_m_000005_0\t5\tMap\tSUCCEEDED\n16\t0\ttask_200810061724_5371_m_000013_0\t13\tMap\tSUCCEEDED\n17\t0\ttask_200810061724_5371_m_000014_0\t14\tMap\tSUCCEEDED\n18\t0\ttask_200810061724_5371_m_000006_0\t6\tMap\tSUCCEEDED\n19\t0\ttask_200810061724_5371_m_000002_0\t2\tMap\tSUCCEEDED\n20\t0\ttask_200810061724_5371_m_000007_0\t7\tMap\tSUCCEEDED\n21\t0\ttask_200810061724_5371_m_000010_0\t10\tMap\tSUCCEEDED\n22\t0\ttask_200810061724_5371_m_000001_0\t1\tMap\tSUCCEEDED\n23\t0\ttask_200810061724_5371_m_000016_0\t16\tMap\tSUCCEEDED\n24\t0\ttask_200810061724_5371_m_000018_0\t18\tMap\tSUCCEEDED\n25\t0\ttask_200810061724_5371_m_000018_1\t18\tMap\tKILLED\n\n\nCompletion Events from JOBTRACKER:\nID\tEvent ID\tTask ID\tID within Job\tType\tStatus\n0\t0\ttask_200810061724_5371_m_000019_0\t19\tMap\tSUCCEEDED\n1\t1\ttask_200810061724_5371_m_000023_0\t23\tMap\tSUCCEEDED\n2\t2\ttask_200810061724_5371_m_000008_0\t8\tMap\tSUCCEEDED\n3\t3\ttask_200810061724_5371_m_000024_0\t24\tMap\tSUCCEEDED\n4\t4\ttask_200810061724_5371_m_000022_0\t22\tMap\tSUCCEEDED\n5\t5\ttask_200810061724_5371_m_000000_0\t0\tMap\tSUCCEEDED\n6\t6\ttask_200810061724_5371_m_000012_0\t12\tMap\tSUCCEEDED\n7\t7\ttask_200810061724_5371_m_000017_0\t17\tMap\tSUCCEEDED\n8\t8\ttask_200810061724_5371_m_000021_0\t21\tMap\tSUCCEEDED\n9\t9\ttask_200810061724_5371_m_000011_0\t11\tMap\tSUCCEEDED\n10\t10\ttask_200810061724_5371_m_000015_0\t15\tMap\tSUCCEEDED\n11\t11\ttask_200810061724_5371_m_000020_0\t20\tMap\tSUCCEEDED\n12\t12\ttask_200810061724_5371_m_000003_0\t3\tMap\tSUCCEEDED\n13\t13\ttask_200810061724_5371_m_000009_0\t9\tMap\tSUCCEEDED\n14\t14\ttask_200810061724_5371_m_000004_0\t4\tMap\tSUCCEEDED\n15\t15\ttask_200810061724_5371_m_000005_0\t5\tMap\tSUCCEEDED\n16\t16\ttask_200810061724_5371_m_000013_0\t13\tMap\tSUCCEEDED\n17\t17\ttask_200810061724_5371_m_000014_0\t14\tMap\tSUCCEEDED\n18\t18\ttask_200810061724_5371_m_000006_0\t6\tMap\tSUCCEEDED\n19\t19\ttask_200810061724_5371_m_000002_0\t2\tMap\tSUCCEEDED\n20\t20\ttask_200810061724_5371_m_000007_0\t7\tMap\tSUCCEEDED\n21\t21\ttask_200810061724_5371_m_000010_0\t10\tMap\tSUCCEEDED\n22\t22\ttask_200810061724_5371_m_000001_0\t1\tMap\tSUCCEEDED\n23\t23\ttask_200810061724_5371_m_000016_0\t16\tMap\tSUCCEEDED\n24\t24\ttask_200810061724_5371_m_000018_0\t18\tMap\tSUCCEEDED\n25\t25\ttask_200810061724_5371_r_000000_0\t0\tReduce\tSUCCEEDED\n26\t26\ttask_200810061724_5371_r_000005_0\t5\tReduce\tSUCCEEDED\n27\t27\ttask_200810061724_5371_r_000009_0\t9\tReduce\tSUCCEEDED\n28\t28\ttask_200810061724_5371_r_000007_0\t7\tReduce\tSUCCEEDED\n29\t29\ttask_200810061724_5371_r_000004_0\t4\tReduce\tSUCCEEDED\n30\t30\ttask_200810061724_5371_r_000030_0\t30\tReduce\tSUCCEEDED\n31\t31\ttask_200810061724_5371_r_000026_0\t26\tReduce\tSUCCEEDED\n32\t32\ttask_200810061724_5371_r_000024_0\t24\tReduce\tSUCCEEDED\n33\t33\ttask_200810061724_5371_r_000018_0\t18\tReduce\tSUCCEEDED\n34\t34\ttask_200810061724_5371_r_000021_0\t21\tReduce\tSUCCEEDED\n35\t35\ttask_200810061724_5371_r_000015_0\t15\tReduce\tSUCCEEDED\n36\t36\ttask_200810061724_5371_r_000019_0\t19\tReduce\tSUCCEEDED\n37\t37\ttask_200810061724_5371_r_000022_0\t22\tReduce\tSUCCEEDED\n38\t38\ttask_200810061724_5371_r_000008_0\t8\tReduce\tSUCCEEDED\n39\t39\ttask_200810061724_5371_r_000028_0\t28\tReduce\tSUCCEEDED\n40\t40\ttask_200810061724_5371_r_000001_0\t1\tReduce\tSUCCEEDED\n41\t41\ttask_200810061724_5371_r_000014_0\t14\tReduce\tSUCCEEDED\n42\t42\ttask_200810061724_5371_r_000025_0\t25\tReduce\tSUCCEEDED\n43\t43\ttask_200810061724_5371_r_000003_0\t3\tReduce\tSUCCEEDED\n44\t44\ttask_200810061724_5371_r_000010_0\t10\tReduce\tSUCCEEDED\n45\t45\ttask_200810061724_5371_r_000017_0\t17\tReduce\tSUCCEEDED\n46\t46\ttask_200810061724_5371_r_000016_0\t16\tReduce\tSUCCEEDED\n47\t47\ttask_200810061724_5371_r_000002_0\t2\tReduce\tSUCCEEDED\n48\t48\ttask_200810061724_5371_r_000011_0\t11\tReduce\tSUCCEEDED\n49\t49\ttask_200810061724_5371_r_000023_0\t23\tReduce\tSUCCEEDED\n50\t50\ttask_200810061724_5371_r_000029_0\t29\tReduce\tSUCCEEDED\n51\t51\ttask_200810061724_5371_r_000020_0\t20\tReduce\tSUCCEEDED\n52\t52\ttask_200810061724_5371_r_000027_0\t27\tReduce\tSUCCEEDED\n53\t53\ttask_200810061724_5371_m_000018_1\t18\tMap\tKILLED\n54\t54\ttask_200810061724_5371_r_000012_0\t12\tReduce\tSUCCEEDED\n55\t55\ttask_200810061724_5371_r_000006_0\t6\tReduce\tKILLED\n56\t56\ttask_200810061724_5371_r_000006_1\t6\tReduce\tSUCCEEDED\n\n\nBasically TaskTracker get some duplicates for some mysterious reasons. Dhruba also finds that at the time of these duplicate we see RPC time out on the task tracker.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-08T20:39:14.747+0000","updated":"2008-10-08T20:39:14.747+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638111","id":"12638111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"The problem is that when the TaskTacker re-initializes its own data structures, it interrupts the fetcher thread but does not wait for the fetcher thread to exit. This means that multiple instances of the fetcher thread can be active at the same time, thus inserting duplicate entries in the fetched list.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-08T21:57:01.074+0000","updated":"2008-10-08T21:57:01.074+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638113","id":"12638113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Review comments welcome.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-08T21:57:30.228+0000","updated":"2008-10-08T21:57:30.228+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638125","id":"12638125","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Catch Interrupts while waiting in the getTaskCompletionEvents RPC.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-08T22:46:38.406+0000","updated":"2008-10-08T22:46:38.406+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638159","id":"12638159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"+1\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-09T00:50:28.344+0000","updated":"2008-10-09T00:50:28.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638164","id":"12638164","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Good catch Dhruba! \n\nCan you please verify (via extra logging if necessary) that this is indeed the cause? Just to be safe! *smile*\n\nOTOH, shouldn't we also go ahead and purge _all_ state in RunningJobs etc. when in TaskTracker.close? i.e. clear TaskTracker.runningJobs (thus the previous 'FetchStatus' etc.) That probably is a related bug worth fixing too?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-09T01:06:07.348+0000","updated":"2008-10-09T01:06:07.348+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638169","id":"12638169","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"Dhruba - i just realized based on the previous comments internally that this patch will not work.\n\nthe issue is that interruptedexceptions are ignored by ipc/Client.java. So they are not a reliable way of shutting down the mapeventsfetcher.  once consumed by the wait() code inside Client.java - the interrupt is gone and the thread will never terminate.\n\nSo we need to set some flag as well and check that at the top of the loop. If the code is blocked in RPC layer - it will eventually time out. If it is blocked in the wait() call inside the fetcher thread - then the interrupt will work. In either case - it should check for a shutdown flag at the top of the loop and use that to trigger termination.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-09T01:50:12.935+0000","updated":"2008-10-09T01:50:12.935+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638173","id":"12638173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"it would seem that the problem is not so much a race between the shutdown and the initialize of the mapeventsfetcher - as perhaps that mapeventsfetcher is not shutdown at all (because of the interrupts being swallowed).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-09T02:10:21.797+0000","updated":"2008-10-09T02:10:21.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638194","id":"12638194","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"@Arun: I deduced this scenario from looking at the tasktracker logs. So, my theory is indeed validated. In out cluster, it typically ocurs during periods of high load. The TaskTracker.close() already clears most data structures. In this case, after the data strctures are cleared, the first instance of the fercher thread re-populated the data structure and then exited. The second instance of the fetcher thread continued using the data structure. Hence the duplicate values. Does this make sense?\n\n@Joydeep: I did see that the code in the ipc layer ignored InterruptedExceptions. The question is why does the ipc code catch and ignore InterruptedExceptions? Shouldn's it just throw InterruptedException?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-09T06:15:05.799+0000","updated":"2008-10-09T06:15:05.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638195","id":"12638195","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I am tentatively marking this issue for 0.19 because my belief is that it causes most of the tasktrackers to freeze up during times of heavy load on JT. I am guessing this might  have occured with Christian Kunz's cluster earlier.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-09T06:17:06.698+0000","updated":"2008-10-09T06:17:06.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638197","id":"12638197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"@Joydeep: do you mean the following piece of code in waitForProxy function?\n{code}\n      try {\n        Thread.sleep(1000);\n      } catch (InterruptedException ie) {\n        // IGNORE\n      }\n{code}\n\nwaitForProxy is called by the main thread (that calls TaskTracker.initialize()). It's not called by the FetchThread. So FetchThread will never ignore InterruptedException, correct?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-09T06:36:29.390+0000","updated":"2008-10-09T06:37:20.991+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638203","id":"12638203","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"i don't know why the ipc layer ignores interruptedexceptions. but the practical matter is that it does - and my naiive suspicion is that changing that would be non trivial. also - since the ipc layer always times out anyway - interrupts are not required to break out of RPC calls.\n\nas i mentioned - it's no longer a race condition. the assumption that the thread.interrupt() works to kill the mapeventsfetcher is inherently wrong. my speculation is that both the threads run forever - which is why new jobs/tasks also hit the same problem when they run on this TT (i am assuming this since we had many many jobs that hit the same problem - and they started hours apart).\n\nwe need a shutdown flag in addition to the interrupt and need to check that flag in the eventsfetcher loop. otherwise thread.join will hang. (also - if u look at general documentation on the web about using interrupts in java - everyone advises using a flag in addition as general practice).\n\ni would be curious if there are other parts of the hadoop code base that suffer from the same assumptions (about thread.interrupt being caught and thrown).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-09T06:54:24.400+0000","updated":"2008-10-09T06:54:24.400+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638205","id":"12638205","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"@Joydeep: I see what you mean. It's the Client.java. \n\nThere are 3 methods named \"call\" in Client.java. We are calling the one that actually throws InterruptedException.\n\n{code}\n  public Writable call(Writable param, InetSocketAddress address)\n  throws InterruptedException, IOException {\n\n  public Writable call(Writable param, InetSocketAddress addr, \n                       UserGroupInformation ticket)  \n                       throws InterruptedException, IOException {\n\n  public Writable[] call(Writable[] params, InetSocketAddress[] addresses)\n    throws IOException {\n{code}\n\nThe swallowing of InterruptedException definitely needs to be fixed, but it seems it does not affect this patch?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-09T07:01:09.763+0000","updated":"2008-10-09T07:01:09.763+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638206","id":"12638206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"@Zheng: The ipc code in Client.java swallows InterruptedExceptions. So, if the fetcher thread is blocked inside the RPC code, and then it gets interrupted, it will swallow the InterruptedException. If this occurs, the fetcher thread will not exit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-09T07:02:34.850+0000","updated":"2008-10-09T07:02:34.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638216","id":"12638216","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"@Zheng - my assumption (from looking at the code a long time back) is that the Proxy code (invoked by calls like getTaskcompletion) winds it's ways to calls to the ipc/Client.java routines. If u thumb through ipc/Client.java - the code ignores Interrupts. This is safe since it always has timeouts - so it doesn't need interrupts as a way of unblocking. but it also means that one cannot use Interrupted exception as a way of detecting shutdown request.\n\nuse interrupts to unblock. use flags to signal and check for shutdown.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-09T07:25:54.654+0000","updated":"2008-10-09T07:25:54.654+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638220","id":"12638220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"@Joydeep:\n\nI just saw the line \"Connection connection = getConnection(addr, ticket);\" inside this \"call\" method that is called by RPC.Invoker.invoke. \nInside the getConnection method there is indeed a catch block ignoring InterruptedException.\n\nSo it's true that we can be ignoring InterruptedException during the calling of getTaskcompletion -> RPC.Invoker.invoke -> call(Writable param, InetSocketAddress addr, UserGroupInformation ticket)  -> getConnection.\n\n{code}\n  public Writable call(Writable param, InetSocketAddress addr, \n                       UserGroupInformation ticket)  \n                       throws InterruptedException, IOException {\n    Connection connection = getConnection(addr, ticket);\n    Call call = new Call(param);\n    synchronized (call) {\n      connection.sendParam(call);                 // send the parameter\n      long wait = timeout;\n      do {\n        call.wait(wait);                       // wait for the result\n        wait = timeout - (System.currentTimeMillis() - call.lastActivity);\n      } while (!call.done && wait > 0);\n\n      if (call.error != null) {\n        throw new RemoteException(call.errorClass, call.error);\n      } else if (!call.done) {\n        throw new SocketTimeoutException(\"timed out waiting for rpc response\");\n      } else {\n        return call.value;\n      }\n    }\n  }\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-09T07:37:50.940+0000","updated":"2008-10-09T07:37:50.940+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638360","id":"12638360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"GetConnection does swallow InterruptedException. To verify if this is the culprit of the problem, check the TaskTracker log if you see a message starting with \"Retrying connect to server: \".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-09T18:57:24.526+0000","updated":"2008-10-09T18:57:24.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638365","id":"12638365","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"Before rethrowing InterruptedException, make sure to remove the connection out of the connections queue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-09T19:17:37.247+0000","updated":"2008-10-09T19:17:37.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638450","id":"12638450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"A modified patch that exits the fetchLoop as soon as the fetcher thread is interrupted.\n\nCan somebody please provide me review comments?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-10T00:06:23.931+0000","updated":"2008-10-10T00:06:23.931+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638475","id":"12638475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"bq. I deduced this scenario from looking at the tasktracker logs. So, my theory is indeed validated. In out cluster, it typically ocurs during periods of high load. The TaskTracker.close() already clears most data structures. In this case, after the data strctures are cleared, the first instance of the fercher thread re-populated the data structure and then exited. The second instance of the fetcher thread continued using the data structure. Hence the duplicate values. Does this make sense?\nDhruba, I don't quite see how this could happen (maybe I am missing something and I hope so *smile*). Even if you have two threads live at some point, both of them would be sharing the same object (FetchStatus) and hence should be seeing the same fromEventId, no?\nSo if the first thread repopulated the datastructure, the second thread should be seeing the same fromEventId object (and hence would be seeing the same value), no? Also, note that two concurrent fetching of map completion events for the same job cannot happen since the fetch is synchronized on the fromEventId object.\n\nI do agree that we should not have two concurrent fetcher threads live simultaneously.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-10-10T04:24:59.932+0000","updated":"2008-10-10T04:24:59.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638476","id":"12638476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Another thing I forgot to ask - did you \"Lost tracker  \" lines in the JobTracker log for those trackers where this problem started showing up. During normal execution, TaskTracker.close will be invoked only when a tracker is lost. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-10-10T04:28:36.853+0000","updated":"2008-10-10T04:28:36.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638493","id":"12638493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"1. say two threads start with same fromEventId.\n2. Both get same set of events\n3. now each of them increments fromEventId - so we get duplicate events and miss out on getting the real ones.\n\nin 17.1 - there is no synchronized clause on fromEventId. it's possible that this problem does not exist in 19 (or since whenever the synchronized block was added)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-10-10T06:09:10.691+0000","updated":"2008-10-10T06:09:10.691+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638497","id":"12638497","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"bq. in 17.1 - there is no synchronized clause on fromEventId. it's possible that this problem does not exist in 19 (or since whenever the synchronized block was added)\nOh that's true! \n\n+1 for the patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-10-10T06:19:13.470+0000","updated":"2008-10-10T06:19:13.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12638517","id":"12638517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Maybe we should make this patch work for 0.18.3 as well. Thoughts? \nTrue that this problem might not show up with 0.19 due to the synchronization around fromEventId, but it makes sense to join on the thread before starting a new one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-10-10T09:51:42.078+0000","updated":"2008-10-10T09:51:42.078+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639506","id":"12639506","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Have to merge with latest trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-14T17:47:03.391+0000","updated":"2008-10-14T17:47:03.391+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639508","id":"12639508","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Merged with latest trunk.\n\n@Devaraj: thanks for reviewing this patch. I am currently targeting this for trunk only (not for 0.18 branch). If it needs to go into 0l18, please let me know.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-14T17:48:49.537+0000","updated":"2008-10-14T17:48:49.537+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639561","id":"12639561","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"I think we should get a patch for 17/18 as well.. In 0.19, this problem may not be there at all due to the synchronization introduced around the fromEventId object. It makes sense to fix the bug where it surely shows up...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-10-14T19:43:12.048+0000","updated":"2008-10-14T19:43:12.048+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639706","id":"12639706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12392114/fetcherThread.patch\n  against trunk revision 704732.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    -1 findbugs.  The patch appears to introduce 2 new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3462/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3462/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3462/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3462/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-15T03:35:06.816+0000","updated":"2008-10-15T03:35:06.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639916","id":"12639916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Fix findbugs error.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-15T18:18:45.346+0000","updated":"2008-10-15T18:18:45.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639917","id":"12639917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"Fix findbugs issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-15T18:19:15.255+0000","updated":"2008-10-15T18:19:15.255+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639918","id":"12639918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I am marking this as a blocker for 0.19.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-10-15T18:20:46.725+0000","updated":"2008-10-15T18:20:46.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12639993","id":"12639993","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12392194/fetcherThread.patch\n  against trunk revision 704989.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3468/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3468/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3468/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3468/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-15T22:21:55.206+0000","updated":"2008-10-15T22:21:55.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12640368","id":"12640368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this. Thanks, Dhruba!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-16T22:57:10.998+0000","updated":"2008-10-16T22:57:10.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12640570","id":"12640570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #636 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/636/])\n    . Ensure that there is only one thread fetching TaskCompletionEvents on TaskTracker re-init. Contributed by Dhruba Borthakur.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-17T16:47:26.427+0000","updated":"2008-10-17T16:47:26.427+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12392962/comment/12709583","id":"12709583","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"body":"Experienced this issue on 0.18.3 as well. I've attached a patch against this branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kimballa","name":"kimballa","key":"kimballa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kimball","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-05-14T20:51:34.555+0000","updated":"2009-05-14T20:51:34.555+0000"}],"maxResults":54,"total":54,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-3155/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0id8f:"}}