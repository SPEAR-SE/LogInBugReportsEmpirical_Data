{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12473595","self":"https://issues.apache.org/jira/rest/api/2/issue/12473595","key":"HADOOP-6945","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-09-08T16:31:06.444+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Mar 05 16:50:52 UTC 2012","customfield_12310420":"77595","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_46999322896_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-03-05T15:03:23.622+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6945/watchers","watchCount":9,"isWatching":false},"created":"2010-09-08T15:41:20.859+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"issuelinks":[{"id":"12348937","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12348937","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12521245","key":"HADOOP-7606","self":"https://issues.apache.org/jira/rest/api/2/issue/12521245","fields":{"summary":"Upgrade Jackson to version 1.7.1 to match the version required by Jersey","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12348938","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12348938","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12514458","key":"HADOOP-7470","self":"https://issues.apache.org/jira/rest/api/2/issue/12514458","fields":{"summary":"move up to Jackson 1.8.8","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-03-05T16:50:52.966+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"HADOOP-6184 added the ability to serialize the Configuration to JSON.  However its inclusion of jackson-1.0.1 means that any map-reduce task that depends (directly or indirectly) on Jackson, can only use Jackson 1.0.1 APIs.  The 100% fix is to give the task's classpath priority over the core/common classpath (MAPREDUCE-1700/MAPREDUCE-1938) so that a job can use newer revisions of the library.\n\nFor a nearer term fix, is it possible to upgrade the included Jackson library to a recent version (1.5.x+)?  The APIs are backwards compatible.  alernatively, its possible to eliminate the use of Jackson for this minor feature as the Configuration object could be serialized to JSON without a 3rd party library.\n\nAn ancilliary issue is that the jackson.version referenced in ivy.xml is never specified in the source tree (ivy/libraries.properties).","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"52123","customfield_12312823":null,"summary":"Inclusion of Old Jackson-JSON Breaks tasks using Avro (or any task depending on Jackson JSON)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gwittel","name":"gwittel","key":"gwittel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Wittel","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gwittel","name":"gwittel","key":"gwittel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Wittel","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473595/comment/12907292","id":"12907292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scott_carey","name":"scott_carey","key":"scott_carey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Carey","active":true,"timeZone":"America/Los_Angeles"},"body":"+1.  And this is a big enough annoyance to back-port to 0.20.   It clearly has very small scope of breaking things (HADOOP-6184).  I currently remove the jackson jar from the hadoop lib dir on all my nodes (CDH3 0.20).\n\nAs long as so many hadoop jars come first in a task's path, any feature that creates a new jar dependency should be _heavily_ scrutinized before inclusion. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scott_carey","name":"scott_carey","key":"scott_carey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Carey","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-08T16:31:06.444+0000","updated":"2010-09-08T16:31:06.444+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473595/comment/13028616","id":"13028616","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sorenmacbeth","name":"sorenmacbeth","key":"sorenmacbeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sorenmacbeth&avatarId=11033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sorenmacbeth&avatarId=11033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sorenmacbeth&avatarId=11033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sorenmacbeth&avatarId=11033"},"displayName":"Soren Macbeth","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 It's a pain in the butt to have to strip this out of all the nodes in our cluster. Please either remove it or bump the version to a much more recent one. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sorenmacbeth","name":"sorenmacbeth","key":"sorenmacbeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sorenmacbeth&avatarId=11033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sorenmacbeth&avatarId=11033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sorenmacbeth&avatarId=11033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sorenmacbeth&avatarId=11033"},"displayName":"Soren Macbeth","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-05-04T05:38:14.908+0000","updated":"2011-05-04T05:38:14.908+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473595/comment/13028755","id":"13028755","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"given that Jackson is only used to serialize the config, and also that generating valid JSON is fairly straightforward, why not get rid of the jackson dependency at all and just have a json serializer class? jackson (or something like json-lib or gson) could just be used to validate the content in the unit tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2011-05-04T14:11:49.271+0000","updated":"2011-05-04T14:11:49.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473595/comment/13222325","id":"13222325","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ivan.prado","name":"ivan.prado","key":"ivan.prado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Iván de Prado","active":true,"timeZone":"Europe/Berlin"},"body":"Which is the status of that ticket? We are having the same trouble. For example, Avro depends on a higher Jackson version, so there are troubles when using it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ivan.prado","name":"ivan.prado","key":"ivan.prado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Iván de Prado","active":true,"timeZone":"Europe/Berlin"},"created":"2012-03-05T13:10:34.251+0000","updated":"2012-03-05T13:10:34.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473595/comment/13222384","id":"13222384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"This was fixed as part of HADOOP-7606 and HADOOP-7470.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2012-03-05T15:01:43.917+0000","updated":"2012-03-05T15:01:43.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473595/comment/13222446","id":"13222446","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scott_carey","name":"scott_carey","key":"scott_carey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Carey","active":true,"timeZone":"America/Los_Angeles"},"body":"Both CDH3 and 1.0 break if using Avro 1.6.2.  Avro 1.6.3 (currently a release candidate) avoids using the Jackson bits that cause the issue when a Jackson library between 1.3.x and 1.5.x is on the classpath (as with CDH3).\n\nIn our cluster we removed Jackson from all task tracker nodes (yet again, it was OK for a while).  One day Hadoop won't put a bunch of unnecessary crap on M/R app classpaths and clearly distinguish libraries that are needed in this context from things that are needed only for the framework.  Jackson is one of several libraries with similar issues.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scott_carey","name":"scott_carey","key":"scott_carey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Scott Carey","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-03-05T16:50:52.915+0000","updated":"2012-03-05T16:50:52.915+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6945/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i09afr:"}}