{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12427809","self":"https://issues.apache.org/jira/rest/api/2/issue/12427809","key":"HADOOP-6035","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2009-06-15T03:54:33.996+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Aug 11 18:02:45 UTC 2011","customfield_12310420":"65423","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_68211861416_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-08-11T18:02:45.267+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6035/watchers","watchCount":3,"isWatching":false},"created":"2009-06-13T06:18:23.876+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-08-11T18:02:45.288+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I am facing a problem running the capacity scheduler in hadoop-0.20.0.\nThe jobtracker is listing the queues when namenode is in the safemode.\nOnce the namenode goes out of the safemode the jt stops working. On\naccessing jobqueue details it shows the following error.\n\nHTTP ERROR: 500\n\nINTERNAL_SERVER_ERROR\n\nRequestURI=/jobqueue_details.jsp\nCaused by:\n\njava.lang.NullPointerException\n       at org.apache.hadoop.mapred.JobQueuesManager.getRunningJobQueue(JobQueuesManager.java:156)\n       at org.apache.hadoop.mapred.CapacityTaskScheduler.getJobs(CapacityTaskScheduler.java:1495)\n       at org.apache.hadoop.mapred.jobqueue_005fdetails_jsp._jspService(jobqueue_005fdetails_jsp.java:64)\n       at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\n       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:363)\n       at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n       at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n       at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n       at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)\n       at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n       at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n       at org.mortbay.jetty.Server.handle(Server.java:324)\n       at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\n       at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\n       at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:533)\n       at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:207)\n       at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)\n       at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n       at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)\n\n\nIs it because any of the configuration in capacity-scheduler.xml is incorrect?\n\nI tried forcing the namenode out of the safemode in bin/hadoop\ndfsadmin, but still it does not work.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12410898","id":"12410898","filename":"capacity-scheduler.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T04:36:04.464+0000","size":2044,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12410898/capacity-scheduler.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12411374","id":"12411374","filename":"hadoop-hadoop-jobtracker-anjus.in.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-22T07:49:20.904+0000","size":13178,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12411374/hadoop-hadoop-jobtracker-anjus.in.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12411656","id":"12411656","filename":"hadoop-hadoop-tasktracker-anjus.in.log.2009-06-24","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-24T15:26:08.040+0000","size":114513,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12411656/hadoop-hadoop-tasktracker-anjus.in.log.2009-06-24"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12410899","id":"12410899","filename":"hadoop-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T04:36:04.492+0000","size":758,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12410899/hadoop-site.xml"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74475","customfield_12312823":null,"summary":"jobtracker stops when namenode goes out of safemode runing capacit scheduler","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Fedora 10","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12719383","id":"12719383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi, can you tell us what is the configuration for the capacity scheduler ? Have you changed any of the defaults ? Have you added any queues ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-06-15T03:54:33.996+0000","updated":"2009-06-15T03:54:33.996+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12719424","id":"12719424","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"I've added a single queue and has not changed any defaluts. I'm using hadoop-0.20.0.  I used the capcity scheduler in contrib/ of hadoop. The fair scheduler is working fine. The queues of capacity scheduler are also being listed in the jobtrackerUI as long as namenode is in safemode. Once the namenode goes out of the safemode the jobtracker gets stopped. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-15T06:45:22.282+0000","updated":"2009-06-15T06:45:22.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12719426","id":"12719426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"It would help me if you can provide the following information:\n\n- The value of mapred.queue.names from mapred-site.xml (or hadoop-site.xml, if you're using the older format)\n- The contents of capacity-scheduler.xml on the jobtracker node (if you can attach the file to this JIRA, that would help).\n\nFYI, I am trying to debug the exception you've reported in the description above. It may or may not be related to the jobtracker 'stopping' to work after the namenode comes out of safemode. We can go one problem at a time.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-06-15T06:52:58.838+0000","updated":"2009-06-15T06:52:58.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12720493","id":"12720493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"I am attching the files hadoop-site.xml and capacity-scheduler.xml in hadoop-0.19.1. While working with this version too the same errors are being generated.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T04:34:25.283+0000","updated":"2009-06-17T04:34:25.283+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12720499","id":"12720499","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"I think the problem is that the key mapred.queue.names in hadoop-site.xml has a space at the end. AFAIK, this does not work. Can you please try removing the space and try ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-06-17T05:16:04.106+0000","updated":"2009-06-17T05:16:04.106+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12720588","id":"12720588","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"Thank you.I'll try it out. It never came to my notice. Thanks a lot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T09:43:16.930+0000","updated":"2009-06-17T09:43:16.930+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12720765","id":"12720765","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"Sir, I tried removing the space, but still it does not work. This is the case with both 0.19.1 as well as 0.20.0. The same errors are being generated even after removing the space. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-17T17:12:39.650+0000","updated":"2009-06-17T17:12:39.650+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12721049","id":"12721049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"Yikes. I noticed another error, probably the more important one. You have this in the mapred-site.xml:\n\n{noformat}\n  <property>\n    <name>mapred.job.tracker</name>\n    <value>hdfs://localhost:9001</value>\n  </property>\n{noformat}\n\nThe value of this configuration variable should just be localhost:9001. It is not a URI, and definitely should not be prepended with 'hdfs://' which is the name of a filesystem URI. Can you please retry with this ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-06-18T04:12:18.418+0000","updated":"2009-06-18T04:12:18.418+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12721363","id":"12721363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"sorry sir... but this too does not work. I tried this out too. can you think of any reason why the namenode is going to the safemode as soon as we start running it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-18T17:33:20.335+0000","updated":"2009-06-18T17:33:20.335+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12721640","id":"12721640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"The namenode goes into the safemode if you are starting on an existing installation of HDFS. This is the time when it reconstructs state from the transaction logs that it has written. It also waits until it has information from the datanodes about blocks they have, etc. It is not a problem for the namenode to go into safemode at startup. If it doesn't automatically come out of it, then that could be a problem. So, is the namenode coming out of safemode ? And if you don't want to start on an existing installation, you must format the filesystem before you start. All this information is available at the Forrest documentation here: http://hadoop.apache.org/core/docs/r0.20.0/hdfs_user_guide.html.\n\nSo, let us step back and see the problem statement: You are starting a cluster. The namenode goes into safemode and comes out of it (maybe you forcibly do this - using the dfsadmin command). Then the jobtracker goes down. This is happening only if you use the capacity scheduler, but not if you use the fairshare scheduler. Is this right so far ?\n\nNow that we've fixed the configuration, I think we could look at the logs. Can you please upload the jobtracker log to begin with ?\n\n \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-06-19T03:47:44.678+0000","updated":"2009-06-19T03:47:44.678+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12722497","id":"12722497","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"sorry abt the late response. whatever you have reported is right. that is the problem.\nthe namenode is automaticaly coming out of the safemode without forcing it out. No job can be run because the jobtracker stops as soon as the namenode comes out of the safemode.\nThe jobtracker log is attached. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-22T07:46:55.521+0000","updated":"2009-06-22T07:46:55.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12722498","id":"12722498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"the attachment is of version-0.19.1.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-22T07:49:20.917+0000","updated":"2009-06-22T07:49:20.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12722982","id":"12722982","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rksingh","name":"rksingh","key":"rksingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"rahul k singh","active":true,"timeZone":"Etc/UTC"},"body":"2009-06-22 18:20:38,850 INFO org.apache.hadoop.mapred.JobTracker: Cleaning up the system directory\n2009-06-22 18:20:38,961 FATAL org.apache.hadoop.mapred.JobTracker: org.apache.hadoop.mapred.JobTracker$IllegalStateException: System has no default queue configured\n\tat org.apache.hadoop.mapred.CapacityTaskScheduler.start(CapacityTaskScheduler.java:1033)\n\tat org.apache.hadoop.mapred.JobTracker.offerService(JobTracker.java:1283)\n\tat org.apache.hadoop.mapred.JobTracker.main(JobTracker.java:2791)\n\n\nI can see following exception in the log , in the earlier versions of capacity scheduler we are specifically checking for a queue Name \n\"default\".\n\nPlease create 1 more queue by name \"default\" and also add respective entries in capacity-scheduler.xml with proper settings , or change your existing queue name \"q1\" to \"default\" .\n\nI hope this helps. \nIf you say further issues , do attach the logs and respective config files.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rksingh","name":"rksingh","key":"rksingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"rahul k singh","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-23T06:16:11.084+0000","updated":"2009-06-23T06:16:11.084+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/12723599","id":"12723599","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"body":"I tried that too. But still the problem persists. Two queues q1 and default were used. Attaching the log files. Now it also shows the problem of the namenode not coming out of the safemode automatically. Once it is forced out of safemode, the jobtracker stops running.   ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anjali","name":"anjali","key":"anjali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anjali M","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-24T15:24:35.793+0000","updated":"2009-06-24T15:24:35.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12427809/comment/13083297","id":"13083297","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eli","name":"eli","key":"eli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Collins","active":true,"timeZone":"America/Los_Angeles"},"body":"Should be moved to the list.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eli","name":"eli","key":"eli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Collins","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-11T18:02:45.274+0000","updated":"2011-08-11T18:02:45.274+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6035/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d4bb:"}}