{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12754947","self":"https://issues.apache.org/jira/rest/api/2/issue/12754947","key":"HADOOP-11302","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2014-11-17T04:50:49.104+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Nov 21 08:06:57 UTC 2014","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_665104680_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-11-20T18:49:53.256+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11302/watchers","watchCount":2,"isWatching":false},"created":"2014-11-13T02:04:48.607+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327745","id":"12327745","description":"2.5.1 release","name":"2.5.1","archived":false,"released":true,"releaseDate":"2014-09-05"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-11-21T08:06:57.871+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Configuration class has several methods to add a configuration resource. The\nproperties of this resource can override properties of previously added\nresources, unless they were marked final. According to the Javadoc for Configuration.java, the check for final properties is done\nonly while loading resources. But it makes sense to do this check in the set API as well. Otherwise, users will be able to override final properties set by admin.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12681210","id":"12681210","filename":"final-properties.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-13T02:14:05.985+0000","size":921,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12681210/final-properties.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Configuration#set method should honor final properties","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12754947/comment/14209099","id":"14209099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-13T02:08:32.648+0000","updated":"2014-11-13T02:08:32.648+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12754947/comment/14214255","id":"14214255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"So, the reasoning behind final properties is that you might want to set a configuration key in one XML file and not have other XML files that are loaded later overwrite that key.  Maybe I'm missing something, but I don't see why {{Configuration#set}} should honor final properties, since the same concerns don't apply there.  This is also a highly incompatible change that will break many people, since final properties in XML files have been around for a long time with the current behavior.  I'm sure it breaks a lot of our code as well, since there are places that assume that if the user sets an unreasonable value, the code can set a reasonable one, and so forth.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-17T04:50:49.104+0000","updated":"2014-11-17T04:50:49.104+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12754947/comment/14214302","id":"14214302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for providing the background. But there is one thing I still don't understand. Let's say admin has created an XML file with some final properties to make sure that it does not get overridden. Now, what is the difference between a user loading his version of XML file by adding it as a resource and instead just programmatically overriding all properties using the set method? It seems like we are trying to protect against the first case and not the second case. That is why I thought this needed to be fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-17T05:56:15.063+0000","updated":"2014-11-17T05:56:15.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12754947/comment/14219040","id":"14219040","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"To be honest, I don't see the value in protecting against the second case.  If users want to load a configuration and modify it, they always can... if by no other way, then by making a copy with the differences they want.\n\n{{final}} Configuration keys were about making XML files work better (for some definition of \"better\"...)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-20T05:48:18.331+0000","updated":"2014-11-20T05:48:18.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12754947/comment/14219781","id":"14219781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"body":"OK. As per your comments, I am going to close this bug as not needed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rkannan82","name":"rkannan82","key":"rkannan82","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rkannan82&avatarId=21895","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rkannan82&avatarId=21895","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rkannan82&avatarId=21895","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rkannan82&avatarId=21895"},"displayName":"Kannan Rajah","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-20T18:48:54.261+0000","updated":"2014-11-20T18:48:54.261+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12754947/comment/14220648","id":"14220648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks, [~rkannan82].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-21T08:06:57.871+0000","updated":"2014-11-21T08:06:57.871+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11302/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i22b93:"}}