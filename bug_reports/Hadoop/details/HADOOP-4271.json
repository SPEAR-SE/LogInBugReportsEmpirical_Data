{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12405108","self":"https://issues.apache.org/jira/rest/api/2/issue/12405108","key":"HADOOP-4271","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313442","id":"12313442","description":"","name":"0.17.3","archived":true,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313424","id":"12313424","description":"","name":"0.18.2","archived":false,"released":true,"releaseDate":"2008-11-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-09-25T07:02:53.618+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Oct 01 13:29:42 UTC 2008","customfield_12310420":"81307","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_2034343_*|*_1_*:*_1_*:*_164407465_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_3357057452","customfield_12312321":null,"resolutiondate":"2008-09-26T22:17:51.674+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4271/watchers","watchCount":5,"isWatching":false},"created":"2008-09-25T00:03:49.866+0000","customfield_12310192":"Checksum input stream can sometimes return invalid data to the user.","customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"10.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312740","id":"12312740","description":"","name":"0.16.0","archived":false,"released":true,"releaseDate":"2008-02-07"}],"issuelinks":[{"id":"12321793","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12321793","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12405165","key":"HADOOP-4277","self":"https://issues.apache.org/jira/rest/api/2/issue/12405165","fields":{"summary":"Checksum verification is disabled for LocalFS","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-11-04T18:48:49.120+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310689","id":"12310689","name":"fs","description":"Generic FileSystem code"}],"timeoriginalestimate":null,"description":"Bug in FSInputChecker makes it possible to read from an invalid buffer. The buffer in FSInputChecker becomes invalid when readChecksumChunk is used to read a chunk to a user buffer directly. Currently, it's not marked as invalid in this case and may be read subsequently.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12390891","id":"12390891","filename":".data_testFSInputChecker.crc","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T00:14:11.539+0000","size":20,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12390891/.data_testFSInputChecker.crc"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12390890","id":"12390890","filename":"data_testFSInputChecker","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T00:14:11.535+0000","size":1500,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12390890/data_testFSInputChecker"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391066","id":"12391066","filename":"hadoop-4271.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T22:17:08.645+0000","size":2640,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12391066/hadoop-4271.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391056","id":"12391056","filename":"hadoop-4271.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-26T21:16:07.980+0000","size":2640,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12391056/hadoop-4271.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12390928","id":"12390928","filename":"hadoop-4271.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T15:11:32.347+0000","size":5493,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12390928/hadoop-4271.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12390889","id":"12390889","filename":"hadoop-4271.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T00:14:11.490+0000","size":8501,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12390889/hadoop-4271.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391062","id":"12391062","filename":"hadoop-4271-branch-17.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T21:59:07.157+0000","size":2637,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12391062/hadoop-4271-branch-17.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391065","id":"12391065","filename":"hadoop-4271-branch-18.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T22:02:26.079+0000","size":2637,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12391065/hadoop-4271-branch-18.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391063","id":"12391063","filename":"hadoop-4271-branch-18.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T21:59:18.440+0000","size":6618,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12391063/hadoop-4271-branch-18.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12391145","id":"12391145","filename":"HADOOP-4277-branch-18-correction.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-29T17:00:59.060+0000","size":1402,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12391145/HADOOP-4277-branch-18-correction.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"104437","customfield_12312823":null,"summary":"Bug in FSInputChecker makes it possible to read from an invalid buffer","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634350","id":"12634350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"Attached is the patch for this issue. A test is added to verify the fix. Two data files used by the test is also included. All tests pass with the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T00:14:11.542+0000","updated":"2008-09-25T00:14:11.542+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634390","id":"12634390","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Good catch. This can happen when {{seek()}} is used.  A few things:\n\n- I think  (more) correct fix is to reset 'pos' and 'count' _before_ calling {{ readChecksumChunk()}}.. since once it is called, buffer is no longer valid (say there is some exception and user seeks again).\n\n- You can generate 1500 bytes of random data in the test itself rather than requiring two extra files to be committed.\n\n- Currently 'runTest()' fails only with checksum disabled. Same bug exists with checksum enabled as well, which is the common case. Can you change the test so that it fails with checksum enabled as well?\n\n- There is already a {{TestFSInputChecksum.java}} in hdfs. Can you add this case there?\n\n- Minor : using IOUtils.readFully() will reduce the code for the test. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T07:02:53.618+0000","updated":"2008-09-25T07:02:53.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634391","id":"12634391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Marking this critical since wrong data returned is a serious bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T07:04:59.215+0000","updated":"2008-09-25T07:04:59.215+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634483","id":"12634483","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"I will address the comments in the next patch.\n\n> There is already a TestFSInputChecksum.java in hdfs. Can you add this case there?\n\nI see a TestFSInputChecker.java in hdfs. I'll merge the two. But should I move it to fs? Since everything tested is in fs?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T13:54:41.677+0000","updated":"2008-09-25T13:54:41.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634508","id":"12634508","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"This patch addresses all the comments. I leave TestFSInputChecker.java in hdfs since it tests on MiniDFSCluster as well. The price is that I have to make ChecksumFileSystem.open(Path f, int bufferSize, boolean verifyChecksum) a public method.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T15:11:32.476+0000","updated":"2008-09-25T15:11:32.476+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634515","id":"12634515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Ning.\n\n> The price is that I have to make ChecksumFileSystem.open(Path f, int bufferSize, boolean verifyChecksum) a public method. \n\nYou really don't need change ChecksumFileSystem at all. You don't need to test with verifyChecksum off I think. It will make the patch much simpler.\n\nMinor: for the same reason, it might be better to set count to zero in fill() as well. We could remove resetting these inside {{readChecksumChunk()}} (in case of checksum exception).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T15:40:21.813+0000","updated":"2008-09-25T15:40:21.813+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634521","id":"12634521","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"> You really don't need change ChecksumFileSystem at all. You don't need to test with verifyChecksum off I think. It will make the patch much simpler.\n\nBefore the patch, the default of verifyChecksum in FSInputChecker is false. I made the change in order to test with verifyChecksum being true.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T15:51:17.587+0000","updated":"2008-09-25T15:51:17.587+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634526","id":"12634526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"> > You really don't need change ChecksumFileSystem at all. You don't need to test with verifyChecksum off I think. It will make the patch much simpler.\n\n> Before the patch, the default of verifyChecksum in FSInputChecker is false. I made the change in order to test with verifyChecksum being true.\n\nShould the default of verifyChecksum be true? If so and if we only test with verifyChecksum being true, then yes, the patch can be much simpler.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T16:09:19.564+0000","updated":"2008-09-25T16:09:19.564+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634528","id":"12634528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"> Before the patch, the default of verifyChecksum in FSInputChecker is false.\n\nThis is a surprise. It should be true by default. You might have found another serious bug! Let me confirm.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T16:14:24.717+0000","updated":"2008-09-25T16:14:24.717+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634557","id":"12634557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Ning,\n\nI filed HADOOP-4277 for 'verifyChecksum'. Could you assign it to yourself if you don't mind fixing it?  I will mark this jira dependent on it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T17:38:04.676+0000","updated":"2008-09-25T17:38:04.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634558","id":"12634558","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"I assigned HADOOP-4277 to myself. Thanks Ning.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T17:40:12.600+0000","updated":"2008-09-25T17:40:12.600+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634562","id":"12634562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"I'm confused. :) Do you want me to fix HADOOP-4277?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-25T17:50:32.911+0000","updated":"2008-09-25T17:50:32.911+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12634566","id":"12634566","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"> I'm confused.  Do you want me to fix HADOOP-4277? \n:). I will fix HADOOP-4277. The patch there will conflict with the patch here. Please provide an updated patch once HADOOP-4277 is committed (today or tomorrow).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-25T18:00:01.105+0000","updated":"2008-09-25T18:00:01.105+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635001","id":"12635001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Ning, HADOOP-4277 is committed. Would you be able to update this patch today? You can create a patch for trunk and I will make patches for 0.17 and 0.18.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T20:35:32.336+0000","updated":"2008-09-26T20:35:32.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635024","id":"12635024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"body":"The updated patch with HADOOP-4277 committed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ningli","name":"ningli","key":"ningli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Li","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-26T21:16:08.036+0000","updated":"2008-09-26T21:16:08.036+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635038","id":"12635038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"+1. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T21:43:57.251+0000","updated":"2008-09-26T21:43:57.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635042","id":"12635042","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"0.17 and 0.18 versions of Ning's patch are attached.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T21:58:19.895+0000","updated":"2008-09-26T21:58:19.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635044","id":"12635044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"test-patch output : {noformat}\n     [exec] +1 overall.\n\n     [exec]     +1 @author.  The patch does not contain any @author tags.\n\n     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.\n\n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n     [exec]     +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n{noformat}\nwill commit the patch today.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T22:06:02.541+0000","updated":"2008-09-26T22:06:02.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635047","id":"12635047","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this. Thanks Ning!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-26T22:17:51.671+0000","updated":"2008-09-26T22:17:51.671+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635538","id":"12635538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"> The buffer in FSInputChecker becomes invalid when readChecksumChunk is used to read a chunk to a user buffer directly. Currently, it's not marked as invalid in this case and may be read subsequently.\n\nI do not understand why this is a bug. Only when the buffer does not have any available byte, data are read to the user buffer directly. So there is no need to invalidate the buffer.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-29T21:18:22.698+0000","updated":"2008-09-29T21:18:22.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635541","id":"12635541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"body":"Ok I see that it effects \"seek\". This makes sense.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hairong","name":"hairong","key":"hairong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hairong Kuang","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-29T21:27:05.400+0000","updated":"2008-09-29T21:27:05.400+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12635780","id":"12635780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Just a clarification that this does not affect HDFS reads since DFSInputStream has its own seek().","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-30T16:33:02.603+0000","updated":"2008-09-30T16:33:02.603+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405108/comment/12636032","id":"12636032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #620 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/620/])\n    fix jira number for \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-01T13:29:42.970+0000","updated":"2008-10-01T13:29:42.970+0000"}],"maxResults":23,"total":23,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4271/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i8af:"}}