{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13075311","self":"https://issues.apache.org/jira/rest/api/2/issue/13075311","key":"HADOOP-14461","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334219","id":"12334219","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12339180","id":"12339180","name":"3.0.0-alpha4","archived":false,"released":true,"releaseDate":"2017-07-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-05-27T02:46:51.358+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jun 26 22:23:55 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_264958_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_2632144093","customfield_12312321":null,"resolutiondate":"2017-06-26T12:45:41.390+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-14461/watchers","watchCount":4,"isWatching":false},"created":"2017-05-27T01:32:12.397+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12507076","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12507076","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"13081078","key":"HADOOP-14552","self":"https://issues.apache.org/jira/rest/api/2/issue/13081078","fields":{"summary":"Ãœber-jira: WASB client phase II: performance and testing","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-06-26T22:24:07.477+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12328416","id":"12328416","name":"fs/azure","description":"Azure WASB filesystem client"}],"timeoriginalestimate":null,"description":"Currently if the {{fs.azure.account.key.youraccount}} is missing, we will get error stack like this:\n\n{code}\njava.lang.IllegalArgumentException: The String is not a valid Base64-encoded string.\n\n\tat com.microsoft.azure.storage.core.Base64.decode(Base64.java:63)\n\tat com.microsoft.azure.storage.StorageCredentialsAccountAndKey.<init>(StorageCredentialsAccountAndKey.java:81)\n\tat org.apache.hadoop.fs.azure.AzureBlobStorageTestAccount.createStorageAccount(AzureBlobStorageTestAccount.java:464)\n\tat org.apache.hadoop.fs.azure.AzureBlobStorageTestAccount.createTestAccount(AzureBlobStorageTestAccount.java:501)\n\tat org.apache.hadoop.fs.azure.AzureBlobStorageTestAccount.create(AzureBlobStorageTestAccount.java:522)\n\tat org.apache.hadoop.fs.azure.AzureBlobStorageTestAccount.create(AzureBlobStorageTestAccount.java:451)\n\tat org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorization.createTestAccount(TestNativeAzureFileSystemAuthorization.java:50)\n\tat org.apache.hadoop.fs.azure.AbstractWasbTestBase.setUp(AbstractWasbTestBase.java:47)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:497)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n{code}\nActually, this error message is not very helpful. I'd admire you if you can immediately find the root cause of this failure.\n\nCurrently if the test *account* is missing, we simply skip the test with meaningful error message. Here if the *account key* is missing, we should do the same thing: skip the test, and tell the user why we skip it.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334219","id":"12334219","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12339180","id":"12339180","name":"3.0.0-alpha4","archived":false,"released":true,"releaseDate":"2017-07-07"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12870177","id":"12870177","filename":"HADOOP-14461.000.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-27T01:35:44.696+0000","size":4224,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12870177/HADOOP-14461.000.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12870859","id":"12870859","filename":"HADOOP-14461.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-01T21:15:13.879+0000","size":6022,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12870859/HADOOP-14461.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12871708","id":"12871708","filename":"HADOOP-14461.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-06T22:45:57.169+0000","size":11753,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12871708/HADOOP-14461.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12873337","id":"12873337","filename":"HADOOP-14461.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-16T22:00:54.761+0000","size":12203,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12873337/HADOOP-14461.003.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Azure: handle failure gracefully in case of missing account access key","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16027111","id":"16027111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Ping [~vahemesw], [~snayak] and [~stevel@apache.org] for review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-27T01:36:37.346+0000","updated":"2017-05-27T01:36:37.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16027156","id":"16027156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 19s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 12m 42s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 16s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 19s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 16s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 25s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 11s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} hadoop-tools/hadoop-azure: The patch generated 0 new + 11 unchanged - 3 fixed = 11 total (was 14) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 11s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 33s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 10s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 27s{color} | {color:green} hadoop-azure in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 14s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 19m 25s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | HADOOP-14461 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12870177/HADOOP-14461.000.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux e503a36134fb 4.4.0-43-generic #63-Ubuntu SMP Wed Oct 12 13:48:03 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 89bb8bf |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/12404/testReport/ |\n| modules | C: hadoop-tools/hadoop-azure U: hadoop-tools/hadoop-azure |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/12404/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-05-27T02:46:51.358+0000","updated":"2017-05-27T02:46:51.358+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16031204","id":"16031204","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"LGTM, just the usual due diligence query: which Azure endpoint did you test against?\n\nAlso, are there other bits of code here using System.out.println? they should be dealt with in another JIRA","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-05-31T14:00:43.127+0000","updated":"2017-05-31T14:00:43.127+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16032001","id":"16032001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Tested against US West region.\n\nAll tests pass except {{org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite}}, which fails without this patch. I'll file separate JIRA for that. UPDATE: see [HADOOP-14472].\n{code}\nhadoop-tools/hadoop-azure $ mvn clean test -q\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractAppend\nTests run: 5, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 2.833 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractAppend\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractCreate\nTests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.055 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractCreate\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDelete\nTests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.713 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDelete\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDistCp\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.635 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDistCp\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractGetFileStatus\nTests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.8 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractGetFileStatus\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractMkdir\nTests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.222 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractMkdir\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractOpen\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.523 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractOpen\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractRename\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.325 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractRename\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractSeek\nTests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.582 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractSeek\nRunning org.apache.hadoop.fs.azure.metrics.TestAzureFileSystemInstrumentation\nTests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.119 sec - in org.apache.hadoop.fs.azure.metrics.TestAzureFileSystemInstrumentation\nRunning org.apache.hadoop.fs.azure.metrics.TestBandwidthGaugeUpdater\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.378 sec - in org.apache.hadoop.fs.azure.metrics.TestBandwidthGaugeUpdater\nRunning org.apache.hadoop.fs.azure.metrics.TestNativeAzureFileSystemMetricsSystem\nTests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.77 sec - in org.apache.hadoop.fs.azure.metrics.TestNativeAzureFileSystemMetricsSystem\nRunning org.apache.hadoop.fs.azure.metrics.TestRollingWindowAverage\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.219 sec - in org.apache.hadoop.fs.azure.metrics.TestRollingWindowAverage\nRunning org.apache.hadoop.fs.azure.TestAzureConcurrentOutOfBandIo\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.757 sec - in org.apache.hadoop.fs.azure.TestAzureConcurrentOutOfBandIo\nRunning org.apache.hadoop.fs.azure.TestAzureFileSystemErrorConditions\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.784 sec - in org.apache.hadoop.fs.azure.TestAzureFileSystemErrorConditions\nRunning org.apache.hadoop.fs.azure.TestBlobDataValidation\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.668 sec - in org.apache.hadoop.fs.azure.TestBlobDataValidation\nRunning org.apache.hadoop.fs.azure.TestBlobMetadata\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.783 sec - in org.apache.hadoop.fs.azure.TestBlobMetadata\nRunning org.apache.hadoop.fs.azure.TestBlobTypeSpeedDifference\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.631 sec - in org.apache.hadoop.fs.azure.TestBlobTypeSpeedDifference\nRunning org.apache.hadoop.fs.azure.TestContainerChecks\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.13 sec - in org.apache.hadoop.fs.azure.TestContainerChecks\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionHandling\nTests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.948 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionHandling\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionMessage\nTests run: 47, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 175.847 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionMessage\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationsExceptionHandlingMultiThreaded\nTests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.889 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationsExceptionHandlingMultiThreaded\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationsWithThreads\nTests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 57.98 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationsWithThreads\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAppend\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.598 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAppend\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAtomicRenameDirList\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.11 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAtomicRenameDirList\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorization\nTests run: 21, Failures: 0, Errors: 0, Skipped: 21, Time elapsed: 1.678 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorization\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorizationWithOwner\nTests run: 24, Failures: 0, Errors: 0, Skipped: 24, Time elapsed: 1.798 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorizationWithOwner\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemBlockLocations\nTests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.789 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemBlockLocations\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemClientLogging\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.181 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemClientLogging\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrency\nTests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.972 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrency\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrencyLive\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.424 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrencyLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractEmulator\nTests run: 43, Failures: 0, Errors: 0, Skipped: 43, Time elapsed: 0.457 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractEmulator\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractLive\nTests run: 43, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 16.176 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractMocked\nTests run: 43, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 1.103 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractMocked\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractPageBlobLive\nTests run: 43, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 18.883 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractPageBlobLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemFileNameCheck\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.761 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemFileNameCheck\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemLive\nTests run: 51, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 180.766 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemMocked\nTests run: 46, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.756 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemMocked\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemOperationsMocked\nTests run: 50, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.247 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemOperationsMocked\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemUploadLogic\nTests run: 3, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 0.052 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemUploadLogic\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFSPageBlobLive\nTests run: 46, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 177.958 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFSPageBlobLive\nRunning org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperations\nTests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.806 sec - in org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperations\nRunning org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperationsLive\nTests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.592 sec - in org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperationsLive\nRunning org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite\nTests run: 6, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 33.257 sec <<< FAILURE! - in org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite\ntestManySmallWritesWithHFlush(org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite)  Time elapsed: 1.011 sec  <<< FAILURE!\njava.lang.AssertionError: hflush duration of 11, less than minimum expected of 20\n\tat org.junit.Assert.fail(Assert.java:88)\n\tat org.junit.Assert.assertTrue(Assert.java:41)\n\tat org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite.writeAndReadOneFile(TestReadAndSeekPageBlobAfterWrite.java:286)\n\tat org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite.testManySmallWritesWithHFlush(TestReadAndSeekPageBlobAfterWrite.java:247)\n\nRunning org.apache.hadoop.fs.azure.TestShellDecryptionKeyProvider\nTests run: 2, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.093 sec - in org.apache.hadoop.fs.azure.TestShellDecryptionKeyProvider\nRunning org.apache.hadoop.fs.azure.TestWasbFsck\nTests run: 2, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.685 sec - in org.apache.hadoop.fs.azure.TestWasbFsck\nRunning org.apache.hadoop.fs.azure.TestWasbRemoteCallHelper\nTests run: 8, Failures: 0, Errors: 0, Skipped: 8, Time elapsed: 1.161 sec - in org.apache.hadoop.fs.azure.TestWasbRemoteCallHelper\nRunning org.apache.hadoop.fs.azure.TestWasbUriAndConfiguration\nTests run: 18, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 5.265 sec - in org.apache.hadoop.fs.azure.TestWasbUriAndConfiguration\n\nResults :\n\nFailed tests:\n  TestReadAndSeekPageBlobAfterWrite.testManySmallWritesWithHFlush:247->writeAndReadOneFile:286 hflush duration of 11, less than minimum expected of 20\n\nTests run: 703, Failures: 1, Errors: 0, Skipped: 119\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-31T21:32:12.230+0000","updated":"2017-05-31T21:33:39.255+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16032245","id":"16032245","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"In that class I replaced all the {{System.out.println()}} with LOG. Other places we can address separately. I'll report that if any.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-01T00:19:08.658+0000","updated":"2017-06-01T00:19:08.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16032464","id":"16032464","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snayak","name":"snayak","key":"snayak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Santhosh G Nayak","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks [~liuml07], this is a good initiative. This will surely help developers who work on {{fs/azure}}. \nDo we need to handle this in {{org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.getAccountKeyFromConfiguration()}} as well? \nThe only difference I see is that, in case of {{AzureNativeFileSystemStore.getAccountKeyFromConfiguration()}}, if the storage account key is not set, it calls  {{AzureNativeFileSystemStore.connectUsingAnonymousCredentials()}} by default,\n{code}\n// Check whether the account is configured with an account key.\npropertyValue = getAccountKeyFromConfiguration(accountName,\n    sessionConfiguration);\nif (propertyValue != null) {\n\n  // Account key was found.\n  // Create the Azure storage session using the account key and container.\n  connectUsingConnectionStringCredentials(\n      getAccountFromAuthority(sessionUri),\n      getContainerFromAuthority(sessionUri), propertyValue);\n\n  // Return to caller\n  return;\n}\n\n// The account access is not configured for this cluster. Try anonymous\n// access.\nconnectUsingAnonymousCredentials(sessionUri);\n{code}\n\nbut, {{anonymous}} access is turned off in {{AzureBlobStorageTestAccount.createTestAccount()}}.\n{code}\nstatic CloudStorageAccount createTestAccount(Configuration conf)\n    throws URISyntaxException, KeyProviderException {\n  String testAccountName = conf.get(TEST_ACCOUNT_NAME_PROPERTY_NAME);\n  if (testAccountName == null) {\n    System.out\n      .println(\"Skipping live Azure test because of missing test account.\" +\n               \" Please see RunningLiveWasbTests.txt for guidance.\");\n    return null;\n  }\n  return createStorageAccount(testAccountName, conf, false);\n}\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snayak","name":"snayak","key":"snayak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Santhosh G Nayak","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-06-01T05:27:28.301+0000","updated":"2017-06-01T05:27:28.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16033716","id":"16033716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~snayak], thanks for the suggestion. I want to make it clear, what else can we do here to handle failure in {{AzureNativeFileSystemStore::getAccountKeyFromConfiguration()}}. Its current usage is like: if the account access key is configured, we will pick it up and connect; otherwise we use anonymous credentials, and will complain \"container not found\" in {{connectUsingAnonymousCredentials()}} if the container is not public. Sampel exception messages are like:\n{code}\norg.apache.hadoop.fs.azure.AzureException: org.apache.hadoop.fs.azure.AzureException: Container test in account liuml07.blob.core.windows.net not found, and we can't create it using anonymous credentials, and no credentials found for them in the configuration.\n\tat org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.createAzureStorageSession(AzureNativeFileSystemStore.java:1027)\n\tat org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.initialize(AzureNativeFileSystemStore.java:487)\n\tat org.apache.hadoop.fs.azure.NativeAzureFileSystem.initialize(NativeAzureFileSystem.java:1267)\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3258)\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:123)\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3307)\n{code}\nActually here the container does exist though not public, and the problem is that the account access key was not provided. The exception message was not clear about this. From the source code:\n{code:title=connectUsingAnonymousCredentials}\n    // Check for container existence, and our ability to access it.\n    try {\n      if (!container.exists(getInstrumentedContext())) {\n        throw new AzureException(\"Container \" + containerName + \" in account \"\n            + accountName + \" not found, and we can't create\"\n            + \" it using anoynomous credentials, and no credentials found for them\"\n            + \" in the configuration.\");\n      }\n    } catch (StorageException ex) {\n      throw new AzureException(\"Unable to access container \" + containerName\n          + \" in account \" + accountName\n          + \" using anonymous credentials, and no credentials found for them \"\n          + \" in the configuration.\", ex);\n    }\n{code}\nIt's not triggering the {{catch (StorageException ex)}} clause. Maybe we should change the code here, or is there any other mechanism to probe the access ability of a container@account?\n\nThe v1 patch added a logging message, but that's not enough at all.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-01T21:14:32.358+0000","updated":"2017-06-01T21:18:47.686+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16033778","id":"16033778","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 20s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 48s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 27s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 14s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 11s{color} | {color:orange} hadoop-tools/hadoop-azure: The patch generated 1 new + 47 unchanged - 3 fixed = 48 total (was 50) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 12s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 34s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 11s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 20s{color} | {color:green} hadoop-azure in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 18s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 22m 15s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | HADOOP-14461 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12870859/HADOOP-14461.001.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux d0440d9b98be 3.13.0-107-generic #154-Ubuntu SMP Tue Dec 20 09:57:27 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 219f4c1 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/12426/artifact/patchprocess/diff-checkstyle-hadoop-tools_hadoop-azure.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/12426/testReport/ |\n| modules | C: hadoop-tools/hadoop-azure U: hadoop-tools/hadoop-azure |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/12426/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-06-01T21:56:47.858+0000","updated":"2017-06-01T21:56:47.858+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16036652","id":"16036652","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snayak","name":"snayak","key":"snayak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Santhosh G Nayak","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks [~liuml07], I could not think of better way. May be we can just reduce the scope of this JIRA to fix the error message in {{AzureBlobStorageTestAccount}}. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snayak","name":"snayak","key":"snayak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Santhosh G Nayak","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-06-05T07:57:21.840+0000","updated":"2017-06-05T07:57:21.840+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16039816","id":"16039816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"While the account access key is missing,\n\n{code:title=before}\n$ hadoop fs -ls wasb://test@liuml07.blob.core.windows.net/\nls: org.apache.hadoop.fs.azure.AzureException: Container test in account liuml07.blob.core.windows.net not found, and we can't create it using anoynomous credentials, and no credentials found for them in the configuration.\n{code}\n\n{code:title=after}\n$ hadoop fs -ls wasb://test@liuml07.blob.core.windows.net/\nls: org.apache.hadoop.fs.azure.AzureException: No credentials found for account liuml07.blob.core.windows.net in the configuration, and we are unable to access container test in this account using anonymous credentials. Please check if the container exists first. If it is not publicly available, you have to provide account credentials\n{code}\n\nThe v2 patch has been tested against US WEST region. All tests pass except {{TestFileSystemOperationExceptionHandling}} and {{TestFileSystemOperationsExceptionHandlingMultiThreaded}} which are not related here. They are caused by [HADOOP-14478] and are being tracked in [HADOOP-14500].\n{code:title=after reverting HADOOP-14478}\nhadoop/hadoop-tools/hadoop-azure $ mvn test -q\nResults :\n\nTests run: 703, Failures: 0, Errors: 0, Skipped: 119\n{code}\n\nPing [~snayak] and [~stevel@apache.org] for review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-06T22:45:57.176+0000","updated":"2017-06-06T22:45:57.176+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16039842","id":"16039842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 3 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 13m 38s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 33s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 17s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 21s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 20s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 20s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 13s{color} | {color:green} hadoop-tools/hadoop-azure: The patch generated 0 new + 54 unchanged - 4 fixed = 54 total (was 58) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 41s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 12s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 29s{color} | {color:green} hadoop-azure in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 19s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 21m  3s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | HADOOP-14461 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12871708/HADOOP-14461.002.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux f677f72b9183 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / c31cb87 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/12460/testReport/ |\n| modules | C: hadoop-tools/hadoop-azure U: hadoop-tools/hadoop-azure |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/12460/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-06-06T23:09:31.612+0000","updated":"2017-06-06T23:09:31.612+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16043516","id":"16043516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"After [HADOOP-14500] was in, all the tests pass with US West region. [~snayak] and [~Stevel@apache.org] can you help review? Thanks,","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-08T21:58:37.000+0000","updated":"2017-06-08T21:58:37.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16050321","id":"16050321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"# I Don't like the phrase \"we are unable\" in the exception message, as it raises the question: who/what is the \"we'?\n# Copying the entire string into the test and matching on it is very brittle. Prefer having a public String.format string in the production code which can be used in the test to recreate the error or just\n\nother than that, no issues","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-06-15T10:54:33.293+0000","updated":"2017-06-15T10:54:33.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16052435","id":"16052435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Steve for your review. I updated the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-16T22:01:12.330+0000","updated":"2017-06-16T22:01:12.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16052450","id":"16052450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 13s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 3 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 13m 24s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 19s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 13s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 20s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 26s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 14s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} hadoop-tools/hadoop-azure: The patch generated 0 new + 54 unchanged - 4 fixed = 54 total (was 58) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 32s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 11s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 19s{color} | {color:green} hadoop-azure in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 19m 46s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | HADOOP-14461 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12873337/HADOOP-14461.003.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux e2bd31aa6f55 3.13.0-116-generic #163-Ubuntu SMP Fri Mar 31 14:13:22 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 82bbcbf |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/12550/testReport/ |\n| modules | C: hadoop-tools/hadoop-azure U: hadoop-tools/hadoop-azure |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/12550/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-06-16T22:28:05.997+0000","updated":"2017-06-16T22:28:05.997+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16052478","id":"16052478","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Tested with US West region. All tests pass.\n\n{code}\nhadoop-tools/hadoop-azure $ mvn test -q\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractAppend\nTests run: 5, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 4.031 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractAppend\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractCreate\nTests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.77 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractCreate\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDelete\nTests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.022 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDelete\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDistCp\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.533 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractDistCp\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractGetFileStatus\nTests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.065 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractGetFileStatus\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractMkdir\nTests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.937 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractMkdir\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractOpen\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.479 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractOpen\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractRename\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.471 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractRename\nRunning org.apache.hadoop.fs.azure.contract.TestAzureNativeContractSeek\nTests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.891 sec - in org.apache.hadoop.fs.azure.contract.TestAzureNativeContractSeek\nRunning org.apache.hadoop.fs.azure.metrics.TestAzureFileSystemInstrumentation\nTests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.427 sec - in org.apache.hadoop.fs.azure.metrics.TestAzureFileSystemInstrumentation\nRunning org.apache.hadoop.fs.azure.metrics.TestBandwidthGaugeUpdater\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.352 sec - in org.apache.hadoop.fs.azure.metrics.TestBandwidthGaugeUpdater\nRunning org.apache.hadoop.fs.azure.metrics.TestNativeAzureFileSystemMetricsSystem\nTests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.738 sec - in org.apache.hadoop.fs.azure.metrics.TestNativeAzureFileSystemMetricsSystem\nRunning org.apache.hadoop.fs.azure.metrics.TestRollingWindowAverage\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.224 sec - in org.apache.hadoop.fs.azure.metrics.TestRollingWindowAverage\nRunning org.apache.hadoop.fs.azure.TestAzureConcurrentOutOfBandIo\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.105 sec - in org.apache.hadoop.fs.azure.TestAzureConcurrentOutOfBandIo\nRunning org.apache.hadoop.fs.azure.TestAzureFileSystemErrorConditions\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.776 sec - in org.apache.hadoop.fs.azure.TestAzureFileSystemErrorConditions\nRunning org.apache.hadoop.fs.azure.TestBlobDataValidation\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.823 sec - in org.apache.hadoop.fs.azure.TestBlobDataValidation\nRunning org.apache.hadoop.fs.azure.TestBlobMetadata\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.789 sec - in org.apache.hadoop.fs.azure.TestBlobMetadata\nRunning org.apache.hadoop.fs.azure.TestBlobTypeSpeedDifference\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.307 sec - in org.apache.hadoop.fs.azure.TestBlobTypeSpeedDifference\nRunning org.apache.hadoop.fs.azure.TestContainerChecks\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.092 sec - in org.apache.hadoop.fs.azure.TestContainerChecks\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionHandling\nTests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.572 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionHandling\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionMessage\nTests run: 47, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 186.958 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationExceptionMessage\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationsExceptionHandlingMultiThreaded\nTests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.774 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationsExceptionHandlingMultiThreaded\nRunning org.apache.hadoop.fs.azure.TestFileSystemOperationsWithThreads\nTests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 61.023 sec - in org.apache.hadoop.fs.azure.TestFileSystemOperationsWithThreads\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAppend\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.794 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAppend\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAtomicRenameDirList\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.852 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAtomicRenameDirList\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorization\nTests run: 21, Failures: 0, Errors: 0, Skipped: 21, Time elapsed: 1.819 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorization\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorizationWithOwner\nTests run: 24, Failures: 0, Errors: 0, Skipped: 24, Time elapsed: 1.93 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemAuthorizationWithOwner\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemBlockLocations\nTests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.803 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemBlockLocations\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemClientLogging\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.211 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemClientLogging\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrency\nTests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.983 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrency\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrencyLive\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.478 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemConcurrencyLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractEmulator\nTests run: 43, Failures: 0, Errors: 0, Skipped: 43, Time elapsed: 0.451 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractEmulator\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractLive\nTests run: 43, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 18.476 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractMocked\nTests run: 43, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 1.178 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractMocked\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractPageBlobLive\nTests run: 43, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 19.577 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemContractPageBlobLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemFileNameCheck\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.787 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemFileNameCheck\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemLive\nTests run: 51, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 191.887 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemLive\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemMocked\nTests run: 46, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.889 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemMocked\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemOperationsMocked\nTests run: 50, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.309 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemOperationsMocked\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFileSystemUploadLogic\nTests run: 3, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 0.05 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFileSystemUploadLogic\nRunning org.apache.hadoop.fs.azure.TestNativeAzureFSPageBlobLive\nTests run: 46, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 183.001 sec - in org.apache.hadoop.fs.azure.TestNativeAzureFSPageBlobLive\nRunning org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperations\nTests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.883 sec - in org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperations\nRunning org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperationsLive\nTests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.828 sec - in org.apache.hadoop.fs.azure.TestOutOfBandAzureBlobOperationsLive\nRunning org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 34.055 sec - in org.apache.hadoop.fs.azure.TestReadAndSeekPageBlobAfterWrite\nRunning org.apache.hadoop.fs.azure.TestShellDecryptionKeyProvider\nTests run: 2, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.108 sec - in org.apache.hadoop.fs.azure.TestShellDecryptionKeyProvider\nRunning org.apache.hadoop.fs.azure.TestWasbFsck\nTests run: 2, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.756 sec - in org.apache.hadoop.fs.azure.TestWasbFsck\nRunning org.apache.hadoop.fs.azure.TestWasbRemoteCallHelper\nTests run: 8, Failures: 0, Errors: 0, Skipped: 8, Time elapsed: 1.214 sec - in org.apache.hadoop.fs.azure.TestWasbRemoteCallHelper\nRunning org.apache.hadoop.fs.azure.TestWasbUriAndConfiguration\nTests run: 18, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 6.026 sec - in org.apache.hadoop.fs.azure.TestWasbUriAndConfiguration\n\nResults :\n\nTests run: 704, Failures: 0, Errors: 0, Skipped: 119\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-16T22:55:59.716+0000","updated":"2017-06-16T22:56:12.690+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16056535","id":"16056535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"I like the code now. \n\nOne thing I do see (having looked @ the azure test code) is that the code in {{AzureBlobStorageTestAccount}} is returning null & letting the caller test suites deal with it. We can/should just have it call {{assume()}} with a message, so that when the test is skipped the text actually appears. \n\nWe could do that here or as part of a broader review of the tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-06-20T21:55:12.954+0000","updated":"2017-06-20T21:55:12.954+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16063025","id":"16063025","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Test fixup is covered elsewhere","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-06-26T12:35:15.177+0000","updated":"2017-06-26T12:35:15.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16063034","id":"16063034","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"+1\n\ncommitted to trunk; the patch does not apply to branch-2 as there are some conflicts with imports in {{AzureBlobStorageTestAccount}}. If you want it there, feel free to cherry pick carefully","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-06-26T12:45:41.432+0000","updated":"2017-06-26T12:45:41.432+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16063065","id":"16063065","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #11923 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/11923/])\nHADOOP-14461 Azure: handle failure gracefully in case of missing account (stevel: rev 48f4a229a93b65df9e99df2505719dd3538f1188)\n* (edit) hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/TestFileSystemOperationExceptionMessage.java\n* (edit) hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/AzureNativeFileSystemStore.java\n* (edit) hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/TestAzureFileSystemErrorConditions.java\n* (edit) hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/AzureBlobStorageTestAccount.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-06-26T13:16:22.334+0000","updated":"2017-06-26T13:16:22.334+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13075311/comment/16063906","id":"16063906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank [~stevel@apache.org] for your review and commit. I cherry-picked to {{branch-2}} with the tips you provided. I tested on US West and all tests pass.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuml07","name":"liuml07","key":"liuml07","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuml07&avatarId=29203","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuml07&avatarId=29203","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuml07&avatarId=29203","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuml07&avatarId=29203"},"displayName":"Mingliang Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-26T22:23:55.444+0000","updated":"2017-06-26T22:23:55.444+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-14461/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3fjmn:"}}