{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12601557","self":"https://issues.apache.org/jira/rest/api/2/issue/12601557","key":"HADOOP-8653","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2012-08-06T15:25:31.827+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat May 02 05:00:35 UTC 2015","customfield_12310420":"239651","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8653/watchers","watchCount":4,"isWatching":false},"created":"2012-08-06T11:08:28.208+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["BB2015-05-TBR"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314203","id":"12314203","description":"","name":"0.20.2","archived":false,"released":true,"releaseDate":"2010-02-16"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12320352","id":"12320352","description":"hadoop-2.0.0-alpha release","name":"2.0.0-alpha","archived":false,"released":true,"releaseDate":"2012-05-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-05-06T03:33:41.805+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310689","id":"12310689","name":"fs","description":"Generic FileSystem code"}],"timeoriginalestimate":null,"description":"The FTPFileSystem.rename(FTPClient client, Path src, Path dst) method is broken.\n\nThe changeWorkingDirectory command underneath is being passed a string with file:// uri prefix (which FTP server does not understand obviously)\n\n{noformat}\n\nINFO [2012-08-06 12:59:39] (DefaultSession.java:297) - Received command: [CWD ftp://localhost:61246/tmp/myfile]\n WARN [2012-08-06 12:59:39] (AbstractFakeCommandHandler.java:213) - Error handling command: Command[CWD:[ftp://localhost:61246/tmp/myfile]]; org.mockftpserver.fake.filesystem.FileSystemException: /ftp://localhost:61246/tmp/myfile\norg.mockftpserver.fake.filesystem.FileSystemException: /ftp://localhost:61246/tmp/myfile\n\tat org.mockftpserver.fake.command.AbstractFakeCommandHandler.verifyFileSystemCondition(AbstractFakeCommandHandler.java:264)\n\tat org.mockftpserver.fake.command.CwdCommandHandler.handle(CwdCommandHandler.java:44)\n\tat org.mockftpserver.fake.command.AbstractFakeCommandHandler.handleCommand(AbstractFakeCommandHandler.java:76)\n\tat org.mockftpserver.core.session.DefaultSession.readAndProcessCommand(DefaultSession.java:421)\n\tat org.mockftpserver.core.session.DefaultSession.run(DefaultSession.java:384)\n\tat java.lang.Thread.run(Thread.java:680)\n\n{noformat}\n\nThe solution would be this:\n\n{noformat}\n--- a/FTPFileSystem.java\n+++ b/FTPFileSystem.java\n@@ -549,15 +549,15 @@ public class FTPFileSystem extends FileSystem {\n       throw new IOException(\"Destination path \" + dst\n           + \" already exist, cannot rename!\");\n     }\n-    String parentSrc = absoluteSrc.getParent().toUri().toString();\n-    String parentDst = absoluteDst.getParent().toUri().toString();\n+    URI parentSrc = absoluteSrc.getParent().toUri();\n+    URI parentDst = absoluteDst.getParent().toUri();\n     String from = src.getName();\n     String to = dst.getName();\n-    if (!parentSrc.equals(parentDst)) {\n+    if (!parentSrc.toString().equals(parentDst.toString())) {\n       throw new IOException(\"Cannot rename parent(source): \" + parentSrc\n           + \", parent(destination):  \" + parentDst);\n     }\n-    client.changeWorkingDirectory(parentSrc);\n+    client.changeWorkingDirectory(parentSrc.getPath().toString());\n     boolean renamed = client.rename(from, to);\n     return renamed;\n   }\n\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12322467","id":"12322467","description":"2.0.1-alpha release","name":"2.0.1-alpha","archived":false,"released":true,"releaseDate":"2012-07-25"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12539796","id":"12539796","filename":"HDFS-8653-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-08T09:30:23.322+0000","size":1481,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12539796/HDFS-8653-1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"2483","customfield_12312823":null,"summary":"FTPFileSystem rename broken","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13429192","id":"13429192","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"You mention that file:// is being added to the path, but in the stack trace it appears the problem is {{ftp://localhost:61246/tmp/myfile}} is having a leading slash prepended because that's probably the cwd of the server.  Thus the real fix in your patch is calling {{path.getPath}} to remove the scheme+authority.\n\nI may suggest implementing {{setWorkingDirectory(Path)}} to pass only {{path#getPath()}} through to the server, although I question why many of the methods are implicitly changing the cwd?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2012-08-06T15:25:31.827+0000","updated":"2012-08-06T15:25:31.827+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13429224","id":"13429224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"body":"@Daryn i don't think you are right here, the first log line from ftp server reads:\n\n{noformat}\n Received command: [CWD ftp://localhost:61246/tmp/myfile]\n{noformat}\n\nwhile it should receive only [CWD /tmp/myfile] from hadoop's FTPFileSystem\n\nAlso all other calls to changeWorkingDirectory in FTPFileSystem use a variant of parent.toUri().getPath() (parent.toUri().getPath().toString())\n{noformat}\nFTPFileSystem.java-6393-    // FSDataInputStream.\nFTPFileSystem.java:6419:    client.changeWorkingDirectory(parent.toUri().getPath());\n--\nFTPFileSystem.java-8320-    // FSDataOutputStream.\nFTPFileSystem.java:8347:    client.changeWorkingDirectory(parent.toUri().getPath());\n--\nFTPFileSystem.java-17201-        String parentDir = parent.toUri().getPath();\nFTPFileSystem.java:17254:        client.changeWorkingDirectory(parentDir);\n--\nFTPFileSystem.java-19688-    }\nFTPFileSystem.java:19694:    client.changeWorkingDirectory(parentSrc);\n{noformat}\n\nso i think it should be patched like this\n\nI'm sorry im not providing a unit/integration testcase, is there one ? Basically this was caught by our integration tests trying to use FTPFileSystem for some file renaming.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-06T16:12:36.731+0000","updated":"2012-08-06T16:12:36.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13429258","id":"13429258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"My apologies if I was confusing.  We're saying the same thing - the fully qualified path, not the fully qualified uri, should be passed.  I suggested a common method since many places seem to do the same logic to invoke with just the path.\n\nNote this may just be a test case bug:  the next line after the CWD you cite is {noformat}org.mockftpserver.fake.filesystem.FileSystemException: /ftp://...{noformat} which means it may just be the mock prepending the /?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2012-08-06T16:55:39.378+0000","updated":"2012-08-06T16:55:39.378+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13430346","id":"13430346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"body":"the \"/\" is the ftp user's home directory, which is set to / in the mock server setup. Changing the home to \"/home/test/\", the next error line reads\n{noformat}\norg.mockftpserver.fake.filesystem.FileSystemException: /home/test/ftp://localhost:61246/tmp/myfile\n{noformat}\n/home/test/ftp://localhost:61246/tmp/myfile\n\nI'm not so sure it makes sense to create an additional method for this, changeWorkingDirectory(String) method is a public one and\nI don't really have a clue about hadoop's file systems, so all that Path to URI to Path conversion happening in this close is a mystery to me.\n\nThe patch had a unneeded toString() at parentSrc.getPath().toString()\n{noformat}\n-    client.changeWorkingDirectory(parentSrc);\n+    client.changeWorkingDirectory(parentSrc.getPath());\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-07T13:31:38.564+0000","updated":"2012-08-07T13:31:38.564+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13430565","id":"13430565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"Ok, that's what I thought.  Does the test fail if run against a live {{FTPFileSystem}}?  It looks like it's maybe a mock problem, although the patch is an improvement.  BTW, you need to attach patches as a file to the jira and submit them for the pre-commit build to test it.\n\nRelated, but perhaps for another jira: you may consider having {{makeAbsolute(Path)}} return {{new Path(null, null, makeQualified(path).getPath())}}.  That will return just the absolute path of the URI, which will allow the code in rename and many other methods to be simplified.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2012-08-07T19:42:19.178+0000","updated":"2012-08-07T19:42:19.178+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13430975","id":"13430975","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"body":"patch making the argument to changeWorkingDirectory() in rename() correct - without ftp:// scheme prefix","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-08T09:30:23.373+0000","updated":"2012-08-08T09:30:23.373+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13430976","id":"13430976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"body":"well testing on live ftp, the \"CWD file://path\" is still being sent to it (and of course failing on the ftp server side), no mock problem, ftp server commands have no clue about schemes...  \n\nattaching the patch against trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-08T09:32:49.798+0000","updated":"2012-08-08T09:32:49.798+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13430977","id":"13430977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"body":"patch for FTPFileSystem rename method fix","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=karel.kolman","name":"karel.kolman","key":"karel.kolman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karel Kolman","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-08T09:33:39.490+0000","updated":"2012-08-08T09:33:39.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/13430999","id":"13430999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12539796/HDFS-8653-1.patch\n  against trunk revision .\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed these unit tests in hadoop-common-project/hadoop-common:\n\n                  org.apache.hadoop.ha.TestZKFailoverController\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/1264//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/1264//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-08-08T10:19:22.329+0000","updated":"2012-08-08T10:19:22.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/14133301","id":"14133301","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12539796/HDFS-8653-1.patch\n  against trunk revision 14e2639.\n\n    {color:red}-1 patch{color}.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/4717//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-14T17:52:00.816+0000","updated":"2014-09-14T17:52:00.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/14524929","id":"14524929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:red}-1{color} | patch |   0m  0s | The patch command could not apply the patch during dryrun. |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12539796/HDFS-8653-1.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / f1a152c |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6360/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-02T04:57:07.352+0000","updated":"2015-05-02T04:57:07.352+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12601557/comment/14524944","id":"14524944","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:red}-1{color} | patch |   0m  0s | The patch command could not apply the patch during dryrun. |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12539796/HDFS-8653-1.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / f1a152c |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6363/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-02T05:00:35.642+0000","updated":"2015-05-02T05:00:35.642+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8653/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i00s3b:"}}