{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12471458","self":"https://issues.apache.org/jira/rest/api/2/issue/12471458","key":"HADOOP-6914","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-08-17T17:07:30.294+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 17 18:13:21 UTC 2010","customfield_12310420":"77606","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_412185933_*|*_1_*:*_1_*:*_330178_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-08-17T15:26:31.870+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6914/watchers","watchCount":2,"isWatching":false},"created":"2010-08-12T20:51:15.759+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":0,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"}],"issuelinks":[{"id":"12333365","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333365","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"outwardIssue":{"id":"12443186","key":"HBASE-2042","self":"https://issues.apache.org/jira/rest/api/2/issue/12443186","fields":{"summary":"ChecksumException generates thousands of open sockets","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-17T18:13:21.927+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310688","id":"12310688","name":"ipc","description":""}],"timeoriginalestimate":0,"description":"The purpose of this ticket is to cross-reference hbase-2042, opened 12/12/2009. close() is used to release Connection resources. It is invoked even though the Connection object may not have been completely initialized. For example, the file descriptor ulimit may have been exceeded in which case no socket would have been acquired. The result would be an NPE in close. The implied contract for close() seems to be that it will never fail. \n\nThere is a proposed patch in the hbase-2042 ticket.","customfield_10010":null,"timetracking":{"originalEstimate":"0h","remainingEstimate":"0h","originalEstimateSeconds":0,"remainingEstimateSeconds":0},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451949","id":"12451949","filename":"hbase-2042.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-12T20:54:00.304+0000","size":3028,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12451949/hbase-2042.patch"}],"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"102892","customfield_12312823":null,"summary":"IPC Client Connection close does not protect against partially Connection objects","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471458/comment/12897943","id":"12897943","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"body":"This is the original ticket.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-12T20:52:31.762+0000","updated":"2010-08-12T20:52:31.762+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471458/comment/12897945","id":"12897945","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"body":"This is the proposed patch to Client based upon trunk. There are no compatibility issues.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-12T20:54:00.367+0000","updated":"2010-08-12T20:54:00.367+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471458/comment/12897947","id":"12897947","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"body":"The fix is isolated to the close() method. It does not change the normal flow. It only affects the RuntimeException flow.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-12T20:56:45.905+0000","updated":"2010-08-12T20:56:45.905+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471458/comment/12899436","id":"12899436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"body":"This should resolve a host of unexplained issues by providing problem source information","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-17T15:26:31.832+0000","updated":"2010-08-17T15:26:31.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471458/comment/12899474","id":"12899474","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"body":"Is this a dup of HADOOP-6724?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tlipcon","name":"tlipcon","key":"tlipcon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tlipcon&avatarId=26804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tlipcon&avatarId=26804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tlipcon&avatarId=26804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tlipcon&avatarId=26804"},"displayName":"Todd Lipcon","active":true,"timeZone":"America/Tijuana"},"created":"2010-08-17T17:07:30.294+0000","updated":"2010-08-17T17:07:30.294+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471458/comment/12899505","id":"12899505","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"body":"It appears to be a duplicate. \nThe proposed fix is different. The patch insures that close does not percolate a RuntimeException, and checks the socket and associated streams streams. This appears to be more inline with the implied contract for Client.close().","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richlackey%40roamingcloud.com","name":"richlackey@roamingcloud.com","key":"richlackey@roamingcloud.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Lackey","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-17T18:13:21.869+0000","updated":"2010-08-17T18:13:21.869+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6914/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0hyr3:"}}