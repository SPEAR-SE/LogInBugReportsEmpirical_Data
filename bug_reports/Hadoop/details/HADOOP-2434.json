{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12384696","self":"https://issues.apache.org/jira/rest/api/2/issue/12384696","key":"HADOOP-2434","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312740","id":"12312740","description":"","name":"0.16.0","archived":false,"released":true,"releaseDate":"2008-02-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-12-15T19:37:45.392+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Dec 19 12:25:46 UTC 2007","customfield_12310420":"41980","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_223672333_*|*_1_*:*_1_*:*_95827517_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_4509145675","customfield_12312321":null,"resolutiondate":"2007-12-18T19:05:51.349+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-2434/watchers","watchCount":0,"isWatching":false},"created":"2007-12-15T02:20:51.499+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-02-08T23:38:17.023+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310687","id":"12310687","name":"io","description":""}],"timeoriginalestimate":null,"description":"Stall happens down in SequenceFile in the first call to getPos inside readRecordLength.  I tried the johano patch from HADOOP-2172 that restores the positional cache but that didn't seem to be the issue here.\n\nHere is data to support my assertion.\n\nI wrote a little program to make a MapFile of 1M records.  I then did 1M random reads from same file.  Below are timings from a 0.15.0 and TRUNK as of this afternoon run.\n\n0.15.x branch:\n\n{code}\n[stack@aa0-000-12 branch-0.15]$ ./bin/hadoop org.apache.hadoop.io.TestMapFile\n.07/12/15 01:29:02 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n07/12/15 01:29:02 INFO io.TestMapFile: Writing 1000000 rows to testMapFileRandomAccess\n07/12/15 01:32:04 INFO io.TestMapFile: Writing 1000000 records took 182009ms\n07/12/15 01:32:04 INFO io.TestMapFile: Reading 1000000 random rows\n07/12/15 01:48:02 INFO io.TestMapFile: Reading 1000000 random records took 958243ms\nTime: 1,140.652\nOK (1 test)\n{code}\n\nFor the below test using TRUNK r604352, I amended the test so it output a log message every 100k reads:\n\n{code}\n[stack@aa0-000-12 hadoop-trunk]$ ./bin/hadoop org.apache.hadoop.io.TestMapFile\n.07/12/15 01:56:34 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n07/12/15 01:56:34 INFO io.TestMapFile: Writing 1000000 rows to testMapFileRandomAccess\n07/12/15 01:59:38 INFO io.TestMapFile: Writing 1000000 records took 183986ms\n07/12/15 01:59:38 INFO io.TestMapFile: Reading 1000000 random rows\n.........\n{code}\n\nAfter 20 minutes it still hadn't printed out the 'read 100k messages' (I had to leave -- will fill in final figures later)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12371742","id":"12371742","filename":"2434.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-16T04:23:16.532+0000","size":568,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12371742/2434.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12371735","id":"12371735","filename":"TestMapFile.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-15T20:11:27.718+0000","size":2561,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12371735/TestMapFile.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12371714","id":"12371714","filename":"TestMapFile.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-15T02:22:46.597+0000","size":2571,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12371714/TestMapFile.java"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"105705","customfield_12312823":null,"summary":"MapFile.get on HDFS in TRUNK is WAY!!! slower than 0.15.x","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552017","id":"12552017","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Code to demonstrate slowness.\n\nCopy the file to src/test/org/apache/hadoop/io.  Build.  Then point at a dfs cluster.  Run the test like this so you pick up the configuration that points to a dfs cluster:\n\n{code}\n$ ./bin/hadoop org.apache.hadoop.io.TestMapFile\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-15T02:22:46.683+0000","updated":"2007-12-15T02:22:46.683+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552130","id":"12552130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ps0ps","name":"ps0ps","key":"ps0ps","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Saab","active":true,"timeZone":"Etc/UTC"},"body":"Tracing the DataXceiveServer shows that the reads are occurring 1 byte at time.\n\n{code}\n8787  recvfrom(42, \"\\0\\7Q\\\\\\360\\342\\324\\252<\\nN\\0\\0\\0\\0\\0008\\350\\263\\0\\0\\0\\0\\0\\34\\225V\", 4096, 0, NULL, NULL) = 27\n8787  stat(\"/disk3/nutch/data/filesystem/data/current/subdir40/blk_6697102048916933198\", {st_mode=S_IFREG|0664, st_size=5602825, ...}) = 0\n8787  stat(\"/disk3/nutch/data/filesystem/data/current/subdir40/blk_6697102048916933198.meta\", {st_mode=S_IFREG|0664, st_size=43783, ...}) = 0\n8787  stat(\"/disk3/nutch/data/filesystem/data/current/subdir40/blk_6697102048916933198\", {st_mode=S_IFREG|0664, st_size=5602825, ...}) = 0\n8787  open(\"/disk3/nutch/data/filesystem/data/current/subdir40/blk_6697102048916933198.meta\", O_RDONLY) = 75\n8787  fstat(75, {st_mode=S_IFREG|0664, st_size=43783, ...}) = 0\n8787  stat(\"/disk3/nutch/data/filesystem/data/current/subdir40/blk_6697102048916933198.meta\", {st_mode=S_IFREG|0664, st_size=43783, ...}) = 0\n8787  read(75, \"\\0\", 1)                 = 1\n8787  read(75, \"\\1\", 1)                 = 1\n8787  read(75, \"\\1\", 1)                 = 1\n8787  read(75, \"\\0\", 1)                 = 1\n8787  read(75, \"\\0\", 1)                 = 1\n8787  read(75, \"\\2\", 1)                 = 1\n8787  read(75, \"\\0\", 1)                 = 1\n8787  read(75, \"\\337\", 1)               = 1\n8787  read(75, \"\\34\", 1)                = 1\n8787  read(75, \"\\352\", 1)               = 1\n8787  read(75, \"a\", 1)                  = 1\n....\ncontinues like this\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ps0ps","name":"ps0ps","key":"ps0ps","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Saab","active":true,"timeZone":"Etc/UTC"},"created":"2007-12-15T19:37:45.392+0000","updated":"2007-12-15T19:37:45.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552132","id":"12552132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ps0ps","name":"ps0ps","key":"ps0ps","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Saab","active":true,"timeZone":"Etc/UTC"},"body":"Just more data points after tracing longer\n{code}\n20132 open(\"/disk3/nutch/data/filesystem/data/current/subdir3/blk_6879048861456107903.meta\", O_RDONLY) = 57\n20132 fstat(57, {st_mode=S_IFREG|0664, st_size=437691, ...}) = 0\n20132 stat(\"/disk3/nutch/data/filesystem/data/current/subdir3/blk_6879048861456107903.meta\", {st_mode=S_IFREG|0664, st_size=437691, ...}) = 0\n20132 read(57, \"\\0\", 1)                 = 1\n20132 read(57, \"\\1\", 1)                 = 1\n20132 read(57, \"\\1\", 1)                 = 1\n20132 read(57, \"\\0\", 1)                 = 1\n20132 read(57, \"\\0\", 1)                 = 1\n20132 read(57, \"\\2\", 1)                 = 1\n20132 read(57, \"\\0\", 1)                 = 1\n20132 read(57, \"\\320\", 1)               = 1\n20132 read(57, \"\\314\", 1)               = 1\n20132 read(57, \"\\6\", 1)                 = 1\n20132 read(57, \"\\314\", 1)               = 1\n20132 read(57, \"Y\", 1)                  = 1\n20132 read(57, \"\\34\", 1)                = 1\n20132 read(57, \"\\233\", 1)               = 1\n20132 read(57, \"z\", 1)                  = 1\n20132 read(57, \"\\210\", 1)               = 1\n20132 read(57, \"\\221\", 1)               = 1\n20132 read(57, \"^\", 1)                  = 1\n20132 read(57, \"k\", 1)                  = 1\n20132 read(57, \"\\255\", 1)               = 1\n20132 read(57, \"\\257\", 1)               = 1\n20132 read(57, \"\\314\", 1)               = 1\n20132 read(57, \"o\", 1)                  = 1\n....\n20132 read(57, \"\\262\", 1)               = 1\n20132 stat(\"/disk3/nutch/data/filesystem/data/current/subdir3/blk_6879048861456107903\", {st_mode=S_IFREG|0664, st_size=56023428, ...}) = 0\n20132 open(\"/disk3/nutch/data/filesystem/data/current/subdir3/blk_6879048861456107903\", O_RDONLY) = 58\n20132 fstat(58, {st_mode=S_IFREG|0664, st_size=56023428, ...}) = 0\n20132 lseek(58, 30691328, SEEK_SET)     = 30691328\n20132 read(58, \"\\206&eu\\30a\\3454|!J\\333\\351\\310\\34\\205\\2\\5@\\265\\254\\\\I\\376\\212>1\\3174\\230\\10\\203\"..., 4096) = 4096\n20132 read(57, \"\\22\", 1)                = 1\n20132 read(57, \"Q\", 1)                  = 1\n20132 read(57, \"\\26\", 1)                = 1\n20132 read(57, \"3\", 1)                  = 1\n20132 read(57, \"\\234\", 1)               = 1\n20132 read(57, \"m\", 1)                  = 1\n...\n20132 read(57, \"m\", 1)                  = 1\n20132 read(57, \"\\263\", 1)               = 1\n20132 read(57, \"\\306\", 1)               = 1\n20132 read(57, \"C\", 1)                  = 1\n20132 read(57, \"\\332\", 1)               = 1\n20132 read(57, \"\\223\", 1)               = 1\n20132 read(57, \"\\353\", 1)               = 1\n20132 read(57, \"\\314\", 1)               = 1\n20132 read(57, \"\\242\", 1)               = 1\n20132 sendto(44, \"\\0\\0\\1\\0\\0\\2\\0\\0\\0\\0\\0\\1\\324P\\0\\0\\0\\2\\0\\206&eu\\30a\\3454|!J\\333\\351\"..., 3659, 0, NULL, 0) = 3659\n20132 read(58, \"P\\244\\266!\\221\\310}\\213\\250\\\"\\274\\230\\264$O\\245,\\242\\201\\266\\364\\267\\254\\260\\225\\335x\\276\\325zq\\276\"..., 4096) = 4096\n20132 sendto(44, \"\\304yXh{z\\23\\254\\r\\331\\vY\\215\\305\\307\\20\\243\\27\\261*fB\\10\\33\\217\\377\\356\\350\\5\\327\\330\\271\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"rb\\336\\307\\261\\313\\266L\\212\\215\\276\\364\\373\\357\\347\\273\\324*\\2745s%\\325\\366\\247\\255\\333\\345\\272\\334fL\"..., 4096) = 4096\n20132 sendto(44, \"\\32\\231\\252\\36\\250\\252\\341\\363\\226\\227\\n\\200o\\322\\303\\274Lj]Z]U\\236\\217\\224\\216\\366J\\307\\270M\\225\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"eC\\335\\314\\32\\214\\215tk\\352\\243wl\\\\\\300n\\34\\233t\\324s\\200D\\365\\320\\225.\\253\\6\\16F\\366\"..., 4096) = 4096\n20132 sendto(44, \"#=\\263\\243\\np=\\363\\270E\\300\\3351\\267\\254\\200\\203\\260O\\336/\\22c`\\331\\216\\276\\230L\\207\\260\\343\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\v\\272\\236\\216\\21^\\16\\224\\223|\\2051G#At\\203.\\7o\\177D\\307\\357p\\361\\312\\30\\247\\261l\\25\"..., 4096) = 4096\n20132 sendto(44, \"54809x\\234\\35\\223Gn\\304@\\20\\3/>\\372+\\3t\\16\\237\\364\\233]\\255=,\\4Mh\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"^\\17\\324I\\377\\377\\377\\377o\\372\\233(\\346\\36J\\237\\244\\307\\246v\\312\\325\\rs\\0\\0\\2\\35\\0\\0\\0\\v\"..., 4096) = 4096\n20132 sendto(44, \"\\242\\252\\230\\20\\302\\202\\353\\227\\3470C2\\223\\327d\\322\\275xS\\273\\327B\\263\\235lo\\203\\261\\327Q\\347\\266\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"u1\\334\\32\\355Y\\26\\37Zh\\214\\330hWms\\317\\337\\230Z\\225\\213zj\\32\\356\\25\\252\\271upm\"..., 4096) = 4096\n20132 sendto(44, \"\\340a\\205&i\\323\\320P\\243\\1\\322P\\340\\266\\4\\332\\354z\\0;\\244q\\227\\364\\3523R\\10\\247\\246\\334\\23\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\260\\306\\210_`\\30\\3268i\\332\\\\l\\221\\207\\2115\\360\\366\\216&\\\\\\364\\362!/\\5\\370\\365\\206\\262\\341\\36\"..., 4096) = 4096\n20132 sendto(44, \"\\315+)\\344\\305\\26\\333\\243\\351\\353\\n\\317\\32\\355v\\234\\256\\254\\230\\234_\\367\\264\\313\\337\\n\\324\\217\\345NV\\214\"..., 3640, 0, NULL, 0) = 3640\n20132 sendto(44, \"\\260\\306\\210_`\\30\\3268i\\332\\\\l\\221\\207\\2115\\360\\366\\216&\\\\\\364\\362!/\\5\\370\\365\\206\\262\\341\\36\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\3\\225zmU\\210\\361\\321\\231\\16\\271t\\202\\256\\5\\177\\1\\277\\316+\\323\\330\\0\\0\\2\\37\\0\\0\\0\\v\\n0\"..., 4096) = 4096\n20132 sendto(44, \"\\3030\\20C\\177\\372\\221\\313\\10\\230}\\271d\\316\\3347Ea \\206m\\211\\344\\220T\\276?\\237\\226U\\253\\310\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\205]\\376\\313d\\307\\261\\217\\355\\303!\\347\\30\\246\\343\\201\\234\\251.^u\\t\\312\\250\\34\\331VK\\341\\351X \"..., 4096) = 4096\n20132 sendto(44, \"\\240\\333\\376*75\\353\\201G\\6\\234\\20X\\32c\\367F\\204\\343\\217_~\\360\\365\\275\\214\\20\\24\\35158\\301\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\7\\335,\\224\\346x\\236\\360\\300 \\35\\334\\330\\252\\222\\302\\340!\\373\\305\\27-\\16\\21$a\\251y\\367\\372\\371\\305\"..., 4096) = 4096\n20132 sendto(44, \"\\3\\346\\35\\301Xa\\342\\226\\232\\345\\231\\233N\\\\\\224_\\335\\273a\\264\\274\\0\\5.\\227\\20\\\\\\f\\31\\\"\\211\\323\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\200\\260\\315\\16\\265\\r\\363X<\\227}\\\\)[\\32%K\\240\\6\\16\\22\\351\\16!Q\\222t\\263\\275\\232S\\270\"..., 4096) = 4096\n20132 sendto(44, \"iT\\271\\375\\332J\\315\\355\\253\\330L\\256t\\275\\265\\261X\\230\\r|\\235\\303QQ\\2623\\233\\357\\260\\0018\\254\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"h\\215\\357\\345\\205_~3\\333GaL\\324\\224\\2566\\362\\200\\310\\264j\\337\\233\\362\\6\\301\\272\\264\\7\\344c\\262\"..., 4096) = 4096\n20132 sendto(44, \"\\374lj4\\346\\33\\264Q\\32Ij\\314\\226\\3\\n;\\334\\r\\\\\\16^2\\'H\\31636\\372\\365\\346^\\340\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\221\\210\\201\\214\\2073\\253D\\301\\252\\17\\206hoT\\353&\\377\\f\\376\\232\\2\\334@ /\\3\\35&\\26z\\241\"..., 4096) = 4096\n20132 sendto(44, \"\\335\\177\\2300\\321\\330\\0\\0\\2#\\0\\0\\0\\v\\n0000054873x\\234%\\223Yn\\\\\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\243\\264\\0\\203\\206\\330+h)\\n\\221\\314\\374\\270sc\\2653\\36D@p\\365\\3301\\20\\21\\370u\\236a\\22\"..., 4096) = 4096\n20132 sendto(44, \"\\36@\\325o\\16O\\16Rk\\367\\214\\205\\3\\352\\20\\240y\\353\\301\\2615\\303p\\373@0MdXnE9\"..., 3640, 0, NULL, 0 <unfinished ...>\n20132 <... sendto resumed> )            = 3640\n20132 sendto(44, \"\\243\\264\\0\\203\\206\\330+h)\\n\\221\\314\\374\\270sc\\2653\\36D@p\\365\\3301\\20\\21\\370u\\236a\\22\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\236\\r3\\371\\334\\27\\274VZ\\362\\353\\t\\17\\253KW\\256\\233\\355l\\273\\252\\357(\\213Sd\\255I\\323\\252\\233\"..., 4096) = 4096\n20132 sendto(44, \"\\f\\332l\\300\\373\\225\\231\\267eX\\246VOuw\\224[N\\310\\364\\2\\224\\335\\351\\17 \\213\\232\\262a\\352\\254\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\32\\3\\243\\272O\\273z<\\232~\\325@=PF\\306\\224\\307\\314E\\316\\356r;\\34\\34\\203\\'.x::\"..., 4096) = 4096\n20132 sendto(44, \"\\204c`:BP\\327d\\341\\360;\\346\\203\\350^x#\\214\\260]\\310}!#{\\277#\\373\\253\\234\\312/\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"K\\26\\333\\332+\\363\\215E_\\330\\325\\213\\242\\0$.)\\206\\320\\201:\\246\\362\\4\\330K\\222\\304=\\325\\10#\"..., 4096) = 4096\n20132 sendto(44, \"\\260 \\201\\23\\234\\333\\5\\330O\\336\\360\\177\\323\\300\\326\\205\\0\\0\\2 \\0\\0\\0\\v\\n0000054\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"\\37\\344\\277\\323#\\0\\0\\2%\\0\\0\\0\\v\\n0000054915x\\234%\\223\\331m#A\"..., 4096) = 4096\n20132 sendto(44, \"t\\266\\372\\340\\331\\226\\347\\304d\\217\\321R\\340B+n`X\\223\\325\\371A\\302\\303\\321iP\\211,\\253\\375*\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"Z\\353e\\370\\214d6\\253\\234\\217*y\\213\\254PF\\247\\3454\\227\\20\\16#\\2535p]\\20\\277\\361\\20\\216\"..., 4096) = 4096\n20132 sendto(44, \"\\v\\206\\371pl\\271O_E4=w\\221\\217\\247\\202\\351c\\3241\\251\\243\\277\\2357\\323i<$\\264[m\"..., 3640, 0, NULL, 0 <unfinished ...>\n20132 <... sendto resumed> )            = 3640\n20132 read(58, \"\\250\\336t\\225\\1\\222\\31\\232\\342\\337\\236\\222F\\\\\\220Z\\233|dK\\267{\\356\\342EM\\362^\\354W\\34\\276\"..., 4096) = 4096\n20132 sendto(44, \"\\2465\\245w\\370\\333I\\17\\263u\\227\\245\\253\\313\\347m\\255+Yu\\247\\276\\325Y=\\311\\272\\256\\322\\353\\316\\302\"..., 3640, 0, NULL, 0) = 3640\n20132 read(58, \"Q\\250\\0060\\326\\16g\\362\\340\\365\\350\\v\\36\\27)\\222\\327\\344\\2655\\300\\356l\\213\\222\\200\\2\\225\\16\\221\\247L\"..., 4096) = 4096\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ps0ps","name":"ps0ps","key":"ps0ps","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Saab","active":true,"timeZone":"Etc/UTC"},"created":"2007-12-15T20:09:52.700+0000","updated":"2007-12-15T20:10:17.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552134","id":"12552134","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Another version of the attachment.  Just does 100k instead of 1M 'cos 1M takes too long (outputs state every 1000 reads folks don't think the program is dead).  Here is output from my cluster using first branch-0.15:\n\n{code}\n[stack@aa0-000-12 branch-0.15]$ nohup ./bin/hadoop org.apache.hadoop.io.TestMapFile > testmapfile.timings < /dev/null &\n[1] 19284\n[stack@aa0-000-12 branch-0.15]$ tail -f testmapfile.timings \n.07/12/15 20:02:17 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n07/12/15 20:02:17 INFO io.TestMapFile: Writing 100000 rows to testMapFileRandomAccess\n07/12/15 20:02:38 INFO io.TestMapFile: Writing 100000 records took 20975ms\n07/12/15 20:02:38 INFO io.TestMapFile: Reading 100000 random rows\n07/12/15 20:02:40 INFO io.TestMapFile: Read 1000\n07/12/15 20:02:41 INFO io.TestMapFile: Read 2000\n07/12/15 20:02:43 INFO io.TestMapFile: Read 3000\n07/12/15 20:02:44 INFO io.TestMapFile: Read 4000\n07/12/15 20:02:45 INFO io.TestMapFile: Read 5000\n07/12/15 20:02:47 INFO io.TestMapFile: Read 6000\n07/12/15 20:02:48 INFO io.TestMapFile: Read 7000\n07/12/15 20:02:49 INFO io.TestMapFile: Read 8000\n07/12/15 20:02:50 INFO io.TestMapFile: Read 9000\n07/12/15 20:02:52 INFO io.TestMapFile: Read 10000\n...\n{code}\n\nNow using TRUNK:\n{code}\n[stack@aa0-000-12 hadoop-trunk]$ nohup ./bin/hadoop org.apache.hadoop.io.TestMapFile > testmapfile.timings < /dev/null &\n[stack@aa0-000-12 hadoop-trunk]$ tail -f testmapfile.timings\n.07/12/15 19:44:27 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n07/12/15 19:44:27 INFO io.TestMapFile: Writing 100000 rows to testMapFileRandomAccess\n07/12/15 19:44:48 INFO io.TestMapFile: Writing 100000 records took 20326ms\n07/12/15 19:44:48 INFO io.TestMapFile: Reading 100000 random rows\n07/12/15 19:49:17 INFO io.TestMapFile: Read 1000\n07/12/15 19:53:40 INFO io.TestMapFile: Read 2000\n07/12/15 19:57:47 INFO io.TestMapFile: Read 3000\n...\n{code}\n\nTRUNK is taking about 13 minutes to read 3k.   Branch 0.15 does same random reads in ~5 seconds.  Thats > 2 orders of magnitude slower.\n\nI retried the johano position cache patch to be sure and that doesn' t fix the problem.\n\nPauls' suggestion of our reading a byte a time would seem to jibe with the timings seen.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-15T20:11:27.938+0000","updated":"2007-12-15T20:11:27.938+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552138","id":"12552138","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ps0ps","name":"ps0ps","key":"ps0ps","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Saab","active":true,"timeZone":"Etc/UTC"},"body":"It turns out HADOOP-1989 is causing this regression.  stack has verified that reverting to before svn 595509, random reads are once again fast:\n\nHere's the stack trace of what's causing the one byte reads\n{code}\nThread 36193 (org.apache.hadoop.dfs.DataNode$DataXceiver@45f73f44):\n  State: RUNNABLE\n  Blocked count: 0\n  Waited count: 0\n  Stack:\n    java.io.FileInputStream.read(Native Method)\n    org.apache.hadoop.dfs.FSDatasetInterface$MetaDataInputStream.read(FSDatasetInterface.java:63)\n    java.io.InputStream.read(InputStream.java:163)\n    java.io.InputStream.skip(InputStream.java:208)\n    java.io.BufferedInputStream.skip(BufferedInputStream.java:349)\n    java.io.FilterInputStream.skip(FilterInputStream.java:125)\n    org.apache.hadoop.io.IOUtils.skipFully(IOUtils.java:115)\n    org.apache.hadoop.dfs.DataNode$BlockSender.<init>(DataNode.java:1326)\n    org.apache.hadoop.dfs.DataNode$DataXceiver.readBlock(DataNode.java:888)\n    org.apache.hadoop.dfs.DataNode$DataXceiver.run(DataNode.java:840)\n    java.lang.Thread.run(Thread.java:619)\n{code}\n\nMetaDataInputStream.read() is called over and over to read 1 byte at a time","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ps0ps","name":"ps0ps","key":"ps0ps","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Saab","active":true,"timeZone":"Etc/UTC"},"created":"2007-12-15T20:41:18.506+0000","updated":"2007-12-15T20:41:18.506+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552141","id":"12552141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Good catch. I noticed this when I was working on HADOOP-2012. I fixed it there but didn't think it would affect so much.\nCould you try the following fix? {noformat}\nIndex: src/java/org/apache/hadoop/dfs/FSDatasetInterface.java\n===================================================================\n--- src/java/org/apache/hadoop/dfs/FSDatasetInterface.java      (revision 601589)\n+++ src/java/org/apache/hadoop/dfs/FSDatasetInterface.java      (working copy)\n@@ -64,8 +64,8 @@\n     }\n\n     @Override\n-    public int read(byte[] b) throws IOException {\n-      return inStream.read(b);\n+    public int read(byte[] b, int off, int len) throws IOException {\n+      return inStream.read(b, off, len);\n     }\n\n     public long getLength() {\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-15T21:37:18.512+0000","updated":"2007-12-15T21:37:18.512+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552145","id":"12552145","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"+1\n\nThis patch works for me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-15T22:24:31.268+0000","updated":"2007-12-15T22:24:31.268+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552162","id":"12552162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Raghu's fix as an attached patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-16T04:23:16.675+0000","updated":"2007-12-16T04:23:16.675+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552163","id":"12552163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Reconfirmed this patch indeed fixes the issue.\n\nRan unit tests locally.  TestLocalFileSystem and hdfsserver ports failed.  Trying hudson.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-16T04:57:58.955+0000","updated":"2007-12-16T04:57:58.955+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552169","id":"12552169","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12371742/2434.patch\nagainst trunk revision r604451.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    javadoc +1.  The javadoc tool did not generate any warning messages.\n\n    javac +1.  The applied patch does not generate any new compiler warnings.\n\n    findbugs +1.  The patch does not introduce any new Findbugs warnings.\n\n    core tests +1.  The patch passed core unit tests.\n\n    contrib tests +1.  The patch passed contrib unit tests.\n\nTest results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1358/testReport/\nFindbugs warnings: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1358/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1358/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1358/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2007-12-16T06:04:06.023+0000","updated":"2007-12-16T06:04:06.023+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552823","id":"12552823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Marking this issue a blocker: hbase read performance is abysmal without it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-18T17:18:32.694+0000","updated":"2007-12-18T17:18:32.694+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12552861","id":"12552861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I just committed this. Thanks Raghu!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-12-18T19:05:51.331+0000","updated":"2007-12-18T19:05:51.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384696/comment/12553330","id":"12553330","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Nightly #338 (See [http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/338/])","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2007-12-19T12:25:46.559+0000","updated":"2007-12-19T12:25:46.559+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-2434/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ig47:"}}