{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12406464","self":"https://issues.apache.org/jira/rest/api/2/issue/12406464","key":"HADOOP-4416","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2008-10-15T10:50:30.965+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Dec 29 07:09:56 UTC 2011","customfield_12310420":"126527","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_101089708381_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-12-29T07:09:56.205+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4416/watchers","watchCount":7,"isWatching":false},"created":"2008-10-15T06:41:27.981+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12322113","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12322113","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12404703","key":"HADOOP-4212","self":"https://issues.apache.org/jira/rest/api/2/issue/12404703","fields":{"summary":"New lines and leading spaces are not trimmed of a value when configuration is read","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-29T07:09:56.358+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"If an entry in the configuration used for a class contains spaces or enters before or after the {{getClass}} and {{getClasses}} methods fail to resolve the class.\n\nFor example:\n\n{code}\n    <property>\n        <name>mapred.mapper.class</name>\n        <value>\n          com.foo.MyMapper\n        </value>\n    </property>\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12392771","id":"12392771","filename":"HADOOP-4416.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T07:25:20.695+0000","size":2133,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12392771/HADOOP-4416.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12392779","id":"12392779","filename":"HADOOP-4416-v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T09:37:43.420+0000","size":5541,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12392779/HADOOP-4416-v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12392785","id":"12392785","filename":"HADOOP-4416-v3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T11:38:37.264+0000","size":6009,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12392785/HADOOP-4416-v3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12395833","id":"12395833","filename":"HADOOP-4416-v4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-11T13:07:39.595+0000","size":5782,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12395833/HADOOP-4416-v4.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"104328","customfield_12312823":null,"summary":"class names in Configuration are not resolved if the configuration value has a white space ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"all","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12639744","id":"12639744","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"The {{Configuration.getClassByName()}} method should do a {{name.trim()}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2008-10-15T06:43:26.536+0000","updated":"2008-10-15T06:43:26.536+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12639795","id":"12639795","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"This is an instance of HADOOP-4212; a .trim() does seem appropriate here, assuming that HADOOP-4212 is going to remain open or wontfix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-15T10:50:30.965+0000","updated":"2008-10-15T10:50:30.965+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12639817","id":"12639817","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"This is not really an instance of HADOOP-4212. Personally I would agree that for configuration values you can safely trim them, but I can see people opposing to it. \n\nFor class names it is different, you don't want the spaces.\n\nAnd it should be done in the {{getClassByName()}} method to properly handle the {{getClasses()}} method, this is important for values like:\n\n{code}\n<property>\n  <name>io.compression.codecs</name>\n  <value>org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec</value>\n</property>\n{code}\n\nWhere if you have several classes you may want to have an enter between commas for readability.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2008-10-15T11:29:48.944+0000","updated":"2008-10-15T11:29:48.944+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12639869","id":"12639869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nidaley","name":"nidaley","key":"nidaley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nigel Daley","active":true,"timeZone":"Etc/UTC"},"body":"If this isn't a regression, then this isn't for 0.19.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nidaley","name":"nidaley","key":"nidaley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nigel Daley","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-15T14:48:03.651+0000","updated":"2008-10-15T14:48:03.651+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12639907","id":"12639907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for trimming in getClassByName() but this is not for 0.19.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-15T17:44:56.284+0000","updated":"2008-10-15T17:44:56.284+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12640512","id":"12640512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=enis","name":"enis","key":"enis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Enis Soztutar","active":true,"timeZone":"America/Los_Angeles"},"body":"Moving from 0.19 due to feature freeze. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=enis","name":"enis","key":"enis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Enis Soztutar","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-10-17T12:52:35.130+0000","updated":"2008-10-17T12:52:35.130+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642398","id":"12642398","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"Patch for this. Also added a test case for getClass() and getClasses()","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T07:25:20.735+0000","updated":"2008-10-24T07:25:20.735+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642403","id":"12642403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"body":"Sorry, for commenting this late. I think this issue is not just related to class names. It is present with all values which are being read. I think we should deal with this generically instead of fixing part by part. I had filed a JIRA related to this issue, you can also take a look at the discussion which has happened at that place. [HADOOP-4212|https://issues.apache.org/jira/browse/HADOOP-4212]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sreekanth","name":"sreekanth","key":"sreekanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sreekanth Ramakrishnan","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T07:49:50.525+0000","updated":"2008-10-24T07:49:50.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642415","id":"12642415","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"If there is a consensus on HADOOP-4212, IMO that should be the way to do it. I am not sure the discussion there are going in that direction though.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T08:44:29.271+0000","updated":"2008-10-24T08:44:29.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642420","id":"12642420","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"As per discussion on HADOOP-4212, I think a compatible changes list should apply for the following functions. Individual function trims will be needed \n\ngetInt()\ngetLong()\ngetFloat()\ngetBoolean()\ngetRange()\ngetClasses()\ngetClass()\n\nI am not sure about getString() and getStringCollection(), Comments?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T09:03:37.754+0000","updated":"2008-10-24T09:05:18.459+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642426","id":"12642426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"Here is patch which takes care of whitespace for following functions:\n\ngetInt\ngetLong\ngetFloat\ngetBoolean - also made the comparison case sensitive here.\ngetClass\ngetClasses\n\nI realized that IntegerRange already does a trim for each value in the comma separated list. Modified a test case to account for that. Added test cases for others too.\n\nComments?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T09:37:43.481+0000","updated":"2008-10-24T09:37:43.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642436","id":"12642436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Looking at the patch,\n\n\n1. You need tests of the default handling. The get operations are all calling .trim() before checking for the result being null; as a result they will probably NPE rather than return defaults\n\ne.g, what happens on conf.getLong(\"undefined-key\",23);\n\n   public long getLong(String name, long defaultValue) {\n-    String valueString = get(name);\n+    String valueString = get(name).trim();\n     if (valueString == null)\n       return defaultValue;\n\n2. I'd recommend the trim operation is made a (protected?) method in Configuration\n\nprotected String trim(String source) {\n return source==null?source:source.trim();\n}\n\nOne place to keep the logic, one test for null handling might suffice \n\n\n3. the {{.toLowerCase()}} operation for getBoolean should be made locale neutral, by adding a locale parameter:\n{{toLowerCase(Locale.EN_US)}}\n\n4. Also, getBoolean shouldn't do any toLowerCase() operations on null values. \n\n5. The changes to getBoolean() change the semantics of the operation. Currently\n\n bool b=conf.getBoolean(\"something\",false\"); returns false if \"something\" is set to \"TRUE\" in the file. With the case change, it will evaluate to true. I don't know if this matters, but it isn't completely backwards compatible. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T10:57:20.601+0000","updated":"2008-10-24T10:57:20.601+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642447","id":"12642447","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"Thanks, Steve for reviewing the patch. I updated the patch with your comments.\n\nMaking trim() protected makes sense. \n\nStrictly speaking, doing toLowerCase does break semantics. I would say that if you have a conf.getBoolean(\"something-TRUE\", false), it is more likely a bug. I am leaving this out of the scope of this jira. I will file a separate issue on that.\n\nAdded test cases for default handling. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T11:38:37.351+0000","updated":"2008-10-24T11:38:37.351+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642477","id":"12642477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Patch looks good. Reviewing the trim() method, I think it could be made simpler by explicitly returning null for a null argument\n{code}\nprotected String trim(String source) { \n return source==null ? null : source.trim(); \n}\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2008-10-24T14:55:58.021+0000","updated":"2008-10-24T14:55:58.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12642589","id":"12642589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"Looks good, adding to Steve's changes:\n\n{code}\nprivate String trim(String source) { \n return (source==null) ? null : source.trim(); \n}\n{code}\n\nAlso, remove the {import java.util.Locale} for {Configuration}.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2008-10-25T03:08:41.067+0000","updated":"2008-10-25T03:08:41.067+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/12655631","id":"12655631","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for the reviews. Incorporated all the suggestions.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abagri","name":"abagri","key":"abagri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Abhijit Bagri","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-11T13:04:26.629+0000","updated":"2008-12-11T13:04:26.629+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12406464/comment/13177035","id":"13177035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"We trim in these functions today. This was fixed in more recent jiras. This one is now not needed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-12-29T07:09:56.297+0000","updated":"2011-12-29T07:09:56.297+0000"}],"maxResults":17,"total":17,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4416/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i7m7:"}}