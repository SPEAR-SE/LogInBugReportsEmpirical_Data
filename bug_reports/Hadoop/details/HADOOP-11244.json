{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12751452","self":"https://issues.apache.org/jira/rest/api/2/issue/12751452","key":"HADOOP-11244","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2014-10-29T18:33:00.479+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Oct 18 11:12:33 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_72144227_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_30487707899","customfield_12312321":null,"resolutiondate":"2015-10-18T11:12:58.628+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11244/watchers","watchCount":6,"isWatching":false},"created":"2014-10-29T18:22:06.538+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["BB2015-05-TBR"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12400147","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12400147","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12751684","key":"HADOOP-11251","self":"https://issues.apache.org/jira/rest/api/2/issue/12751684","fields":{"summary":"Confirm that all contract tests are run by LocalFS","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype","name":"Task","subtask":false,"avatarId":21148}}}},{"id":"12446385","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12446385","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12848824","key":"HADOOP-12268","self":"https://issues.apache.org/jira/rest/api/2/issue/12848824","fields":{"summary":"AbstractContractAppendTest#testRenameFileBeingAppended misses rename operation.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-18T21:45:20.875+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311440","id":"12311440","name":"test","description":"Testing support software"}],"timeoriginalestimate":null,"description":"The test AbstractContractAppendTest::testRenameFileBeingAppended appears to assert the behavior of renaming a file opened for writing. However, the assertion \"assertPathExists(\"renamed destination file does not exist\", renamed);\" fails because it appears that the file \"renamed\" is never created (ostensibly it should be the \"target\" file that has been renamed).","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12678241","id":"12678241","filename":"HADOOP-11244.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T17:07:12.831+0000","size":1792,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12678241/HADOOP-11244.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12678174","id":"12678174","filename":"HADOOP-11244.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T13:34:07.699+0000","size":985,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12678174/HADOOP-11244.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"The HCFS contract test testRenameFileBeingAppended doesn't do a rename","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188756","id":"14188756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"thanks for reporting this.  are you saying the test fails indefinetly ?  I am looking into this one now. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T18:33:00.479+0000","updated":"2014-10-29T18:33:00.479+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188777","id":"14188777","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"body":"The way I'm reading the code for the test, it looks to me like it isn't actually testing what is intended.\n\nI'm looking at the code here\n\n  https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/contract/AbstractContractAppendTest.java#L108\n\nDuring the test the path to the renamed file is created \"Path renamed = new Path(testPath, \"renamed\");\", but then that path is never created (ostensibly by renaming the file opened for writing). After that it is asserted that the renamed file exists.  \"assertPathExists(\"renamed destination file does not exist\", renamed);\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-10-29T18:43:30.556+0000","updated":"2014-10-29T18:43:30.556+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188783","id":"14188783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"After looking closely, i think it might not be a bug.  lets take a look: \n \n{noformat}\n    outputstream.write............\n    Path renamed = new Path(testPath, \"renamed\");\n    outputStream.close();\n    String listing = ls(testPath);\n    //expected: the stream goes to the file that was being renamed, not the original path\n    assertPathExists(\"renamed destination file does not exist\", renamed);\n{noformat} \n\nI think the issue here, then, is that the stream , when being closed, should forward write out to the renamed path. \n\nProbably if you don't see this behaaviour, then there is a bug in your filesystem implementation, which is that it is writing eagerly.  \nYou can disable this test in via the controller XML file.  I can try to lookup the exact xml tag (but the basic idea is here https://wiki.apache.org/hadoop/HCFS/Progress) .\n\n \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T18:47:46.256+0000","updated":"2014-10-29T18:47:46.256+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188785","id":"14188785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"make this change in your HCFS XML file\n\n{noformat}\n  <property>\n    <name>fs.contract.supports-append</name>\n    <value>false</value>\n  </property>\n{noformat}\n\nThis will disable the test.  but i think it will be necessary for example for something like hbase.  renaming is defined as part of the append test file suite it looks like.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T18:56:01.258+0000","updated":"2014-10-29T18:56:01.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188790","id":"14188790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"body":"Hmm, I think then I may be reading this code incorrectly.\n\nHere we start writing to \"target\"\n\n{noformat}\n    touch(getFileSystem(), target);\n    assertPathExists(\"original file does not exist\", target);\n    byte[] dataset = dataset(256, 'a', 'z');\n    FSDataOutputStream outputStream = getFileSystem().append(target);\n    outputStream.write(dataset);\n{noformat}\n\nCreate the path object for \"renamed\". I'm assuming this has no side effects.\n\n{noformat}\n    Path renamed = new Path(testPath, \"renamed\");\n{noformat}\n\nClose the \"target\" stream, list the directory, and assert \"renamed\" file exists. \n\n{noformat}\n    outputStream.close();\n    String listing = ls(testPath);\n    assertPathExists(\"renamed destination file does not exist\", renamed);\n{noformat}\n\nI don't see anything in the code that would result in \"renamed\" being created. Am I getting the semantics of `new Path` wrong? Should that have side effects on the last opened output stream?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-10-29T18:58:00.871+0000","updated":"2014-10-29T18:58:00.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188791","id":"14188791","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chenh","name":"chenh","key":"chenh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Huamin Chen","active":true,"timeZone":"Etc/UTC"},"body":"I concur with [~nwatkins]. The `renamed` path is not associated with any stream. The right code to me is \n\n    outputstream.write............\n    Path renamed = new Path(testPath, \"renamed\");\n    outputStream.close();\n\n    rename(target, renamed); <----- need rename here\n\n    String listing = ls(testPath);\n    //expected: the stream goes to the file that was being renamed, not the original path\n    assertPathExists(\"renamed destination file does not exist\", renamed);\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chenh","name":"chenh","key":"chenh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Huamin Chen","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T18:58:02.885+0000","updated":"2014-10-29T18:58:02.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188805","id":"14188805","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"[~nwatkins] [~chenh]\nlooking at the code again, i guess your write (pun intended) - there is nothing referencing the renamed object.  ill run the RawLocalFS tests now and see how this is even passing !!!!  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T19:07:40.655+0000","updated":"2014-10-29T19:07:40.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188833","id":"14188833","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"Another clue  Seems that these tests are being skipped in the hadoop build when i run \"mvn test -Dtest=org.apache.hadoop.fs.contract.rawlocal.*\"  .... looking further now.  My original assumption was that all these tests ran, so the error must be on your end :) .  but clearly, that might not be the case. \n \n{noformat} \nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractOpen\nTests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.707 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractOpen\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractDelete\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.694 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractDelete\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractAppend\nTests run: 5, Failures: 0, Errors: 0, Skipped: 5, Time elapsed: 0.673 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractAppend\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractMkdir\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.634 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractMkdir\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractSeek\nTests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.974 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractSeek\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawLocalContractUnderlyingFileBehavior\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.165 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawLocalContractUnderlyingFileBehavior\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractCreate\nTests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.682 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractCreate\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractRename\nTests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.681 sec - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractRename\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T19:24:46.823+0000","updated":"2014-10-29T19:24:46.823+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14188901","id":"14188901","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"yup, something looks funy \n\n{noformat}\n-------------------------------------------------------\nRunning org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractAppend\nTests run: 5, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.823 sec <<< FAILURE! - in org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractAppend\ntestRenameFileBeingAppended(org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractAppend)  Time elapsed: 0.464 sec  <<< ERROR!\njava.io.FileNotFoundException: renamed destination file does not exist: not found file:/home/jay/Development/hadoop-common/hadoop-common-project/hadoop-common/target/test/data/test/renamed in file:/home/jay/Development/hadoop-common/hadoo\np-common-project/hadoop-common/target/test/data/test\n        at org.apache.hadoop.fs.contract.ContractTestUtils.assertPathExists(ContractTestUtils.java:678)\n        at org.apache.hadoop.fs.contract.AbstractFSContractTestBase.assertPathExists(AbstractFSContractTestBase.java:279)\n        at org.apache.hadoop.fs.contract.AbstractContractAppendTest.testRenameFileBeingAppended(AbstractContractAppendTest.java:121)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n        at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)\n\n\nResults :\n\nTests in error: \n  TestRawlocalContractAppend>AbstractContractAppendTest.testRenameFileBeingAppended:121->AbstractFSContractTestBase.assertPathExists:279 » FileNotFound\n\n{noformat} ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T20:00:00.645+0000","updated":"2014-10-29T20:00:00.645+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14189857","id":"14189857","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"yes, something seems awry, though why it ever passed now misses me.\n\nthe test is actually intended to stress something that proved pretty variable across systems: what happens when you rename a file that is actively being written to, with some expectation that things may happen.\n\nthe logic was meant to be\n{code}\noutputstream.write............\nPath renamed = new Path(testPath, \"renamed\");\nrename(target, renamed); <----- need rename here\noutputStream.close();\n{code}\n\nThere's two outcomes I'd expect\n# data ends up on new path\n# data ends up on old path\n\nwith the code in there you will automatically get outcome #2, but the test is for #1. Now I'm confused.\n\nI do not have any free time to look at this right now. I have pushed up to github the branch with the full history:\n[[https://github.com/steveloughran/hadoop-trunk/tree/old/HADOOP-9361-filesystem-contract]]\n\nif something got dropped it should be in the history ... though the file got renamed near the end so it's not so easy to use the github history to track down","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2014-10-30T09:41:33.467+0000","updated":"2014-10-30T09:41:33.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14189950","id":"14189950","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"Thanks @stevel  we will take it from here and get a patch up today or tomorrow.\n\nFor others reading this thread for now this test can be disabled using the  above XML attribute...  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T11:29:49.780+0000","updated":"2014-10-30T11:29:49.780+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190053","id":"14190053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"heres a patch for this .  Ive simply addded the call to rename after the path is created, but *before* the stream is closed.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T13:34:07.706+0000","updated":"2014-10-30T13:34:07.706+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190057","id":"14190057","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chenh","name":"chenh","key":"chenh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Huamin Chen","active":true,"timeZone":"Etc/UTC"},"body":"+1 LGTM","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chenh","name":"chenh","key":"chenh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Huamin Chen","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T13:41:51.527+0000","updated":"2014-10-30T13:41:51.527+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190099","id":"14190099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"[~stevel@apache.org] if this is okay can we push this through ? Then i will work on  HADOOP-11251 (do our dillegence to confirm that other FS contract tests are being run)..... thanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T14:09:28.968+0000","updated":"2014-10-30T14:09:28.968+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190113","id":"14190113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"One more note : this is easy to test {{mvn test -Dtest=org.apache.hadoop.fs.contract.rawlocal.TestRawlocalContractAppend}} for noah/huamin if you want to confirm that it works. .","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T14:25:32.387+0000","updated":"2014-10-30T14:25:32.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190222","id":"14190222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12678174/HADOOP-11244.patch\n  against trunk revision 179cab8.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/4989//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/4989//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T15:21:49.064+0000","updated":"2014-10-30T15:21:49.064+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190351","id":"14190351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"# need to understand why the raw local tests aren't running first, because they should -and this problem should have surfaced. if they aren't running, we don't catch regressions\n# what happens to all the other filesystems with this test. I'd expect the object stores to fail because they cache the destination on output stream creation, and only write on close(). \n\nif we are getting inconsistent outcomes, this will have to become one of those fs switch things. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2014-10-30T16:44:24.926+0000","updated":"2014-10-30T16:44:24.926+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190358","id":"14190358","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"i agree have created HADOOP-11251, let me look into that and ill make it a blocker ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T16:50:32.676+0000","updated":"2014-10-30T16:50:32.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190383","id":"14190383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"Updated patch which enables {{fs.contract.supports-append}} , so that regressions are caught.\n\nAnecdotally, what *should* we expect from testRenameFileBeingAppended, [~stevel@apache.org] ... ? I can *update filesystem.md* to match that, and then we can test other filesystems beyond that.    Depending on your answer *Maybe this test be disabled in blob stores.* ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T17:07:12.837+0000","updated":"2014-10-30T17:07:12.837+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190498","id":"14190498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12678241/HADOOP-11244.patch\n  against trunk revision 73e626a.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common:\n\n                  org.apache.hadoop.fs.contract.localfs.TestLocalFSContractAppend\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/4990//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/4990//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T18:03:20.870+0000","updated":"2014-10-30T18:03:20.870+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190762","id":"14190762","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"filesystem spec explicitly says \"no guarantees on concurrent operations\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2014-10-30T20:25:52.984+0000","updated":"2014-10-30T20:25:52.984+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190799","id":"14190799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"okay, so then this test should be deleted -  .....  but lets keep the part of the patch which turns *on* the {{fs.contract.supports-append}} to prevent this from happening again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T20:45:25.035+0000","updated":"2014-10-30T20:45:25.035+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14190805","id":"14190805","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"body":"I read \"no guarantees on concurrent operations\" to refer to the thread safety of an implementation of the file system object, but the scenario in this test can occur for a single thread. Is that the intended meanin gof the spec?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nwatkins","name":"nwatkins","key":"nwatkins","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Noah Watkins","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-10-30T20:47:22.197+0000","updated":"2014-10-30T20:47:22.197+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14191692","id":"14191692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"not thread safety: visibility of changes to the FS to your code. \n\nExamples\n# file deleted while you have the stream open for reading\n# file appended to during reads\n# full R/W files: changes to the contents of a file during a read\n# multiple writers appending: are the appends atomic vs interleaved\n\nthat's what I was trying to say. Now, if that wasn't clear, that could go into a patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2014-10-31T11:03:49.390+0000","updated":"2014-10-31T11:03:49.390+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14191816","id":"14191816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"Hi [~stevel@apache.org] : Looks like this code, in your old repo, has the test: \n{noformat}\n git clone https://github.com/steveloughran/hadoop-trunk.git\n git checkout remotes/origin/old/HADOOP-9361-filesystem-contract\n vim hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/contract/hdfs/TestHDFSContractAppend.java\n{noformat}\n\nI don't see it anywhere else though  ?  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-31T14:02:04.708+0000","updated":"2014-10-31T14:02:04.708+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14191821","id":"14191821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":" *summary so far* \n\n- AbstractContractAppendTest is (1) not being run (2) not capable of passing\n- next step : Make it run in LocalFS tests as part of hadoops standard CI (high priority) \n- Also, make this specific task (testRenameFileBeingAppended) either : pass *or* just delete the method entirely.\n\njust let us know what needs to be done next ! thanks steve !\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-31T14:07:05.806+0000","updated":"2014-10-31T14:07:05.806+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14196139","id":"14196139","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"hi [~stevel@apache.org] id propose \n\n- first, we remove this test from the code.\n- then, fix HADOOP-11251, make all the tests run.\n-in the meanwhile, we can leisurely decide how to test testRenameFileBeingAppended test .\n\nRight now, given the complexity of the issue and time constraints, *i think its best to remove dead code so HCFS  tests work perfectly again*.  let me know thoughts on this (or maybe another plan forward if you have one)?  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-04T14:21:20.411+0000","updated":"2014-11-04T14:21:20.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14229957","id":"14229957","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"OK, let's just cull the tests. It doesn't really prove anything either way, we just need to say \"no guarantees of anything on rename during append\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2014-12-01T16:15:30.538+0000","updated":"2014-12-01T16:15:30.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14257104","id":"14257104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"okay, so delete *testRenameFileBeingAppended* ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-23T15:40:04.165+0000","updated":"2014-12-23T15:40:04.165+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14354334","id":"14354334","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12678241/HADOOP-11244.patch\n  against trunk revision c3003eb.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common:\n\n                  org.apache.hadoop.fs.contract.localfs.TestLocalFSContractAppend\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5902//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5902//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-03-10T04:58:17.041+0000","updated":"2015-03-10T04:58:17.041+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12751452/comment/14962297","id":"14962297","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"this got duplicated & fixed by HADOOP-12268. Sorry Jay -you did get this patch in first, but we weren't keeping atop the patches enough.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-10-18T11:12:33.976+0000","updated":"2015-10-18T11:12:33.976+0000"}],"maxResults":31,"total":31,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11244/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i21qb3:"}}