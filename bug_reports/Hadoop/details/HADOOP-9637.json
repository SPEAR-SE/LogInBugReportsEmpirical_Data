{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12652132","self":"https://issues.apache.org/jira/rest/api/2/issue/12652132","key":"HADOOP-9637","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324030","id":"12324030","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-06-12T20:58:34.147+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jun 19 13:38:06 UTC 2013","customfield_12310420":"332456","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_525884771_*|*_1_*:*_1_*:*_154224688_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-06-18T22:27:14.634+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-9637/watchers","watchCount":7,"isWatching":false},"created":"2013-06-11T01:32:05.203+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324030","id":"12324030","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335733","id":"12335733","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[{"id":"12370342","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12370342","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12614174","key":"YARN-191","self":"https://issues.apache.org/jira/rest/api/2/issue/12614174","fields":{"summary":"Enhancements to YARN for Windows Server and Windows Azure development and runtime environments","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-05-12T18:27:06.263+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"In the YARN, nodemanager need to enforce the log file can only be accessed by the owner. At various places, {{SecureIOUtils.openForRead()}} was called to enforce this check. We don't have {{NativeIO.Posix.getFstat()}} used by {{SecureIOUtils.openForRead()}} on Windows, and this make the check fail on Windows. The YARN unit tests TestAggregatedLogFormat.testContainerLogsFileAccess and TestContainerLogsPage.testContainerLogPageAccess fail on Windows because of this.\n\nThe JIRA try to provide a Windows implementation of {{NativeIO.Posix.getFstat()}}.\n\nTestAggregatedLogFormat.testContainerLogsFileAccess test case fails on Windows. The test case try to simulate a situation where first log file is owned by different user (probably symlink) and second one by the user itself. In this situation, the attempt to try to aggregate the logs should fail with the error message \"Owner ... for path ... did not match expected owner ...\".\n\nThe check on file owner happens at {{AggregatedLogFormat.write()}} method. The method calls {{SecureIOUtils.openForRead()}} to read the log files before writing out to the OutputStream.\n\n{{SecureIOUtils.openForRead()}} use {{NativeIO.Posix.getFstat()}} to get the file owner and group. We don't have {{NativeIO.Posix.getFstat()}} implementation on Windows; thus, the failure.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324030","id":"12324030","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12588295","id":"12588295","filename":"HADOOP-9637-trunk.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T05:45:32.603+0000","size":14985,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12588295/HADOOP-9637-trunk.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12588442","id":"12588442","filename":"HADOOP-9637-trunk.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T20:21:18.653+0000","size":15858,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12588442/HADOOP-9637-trunk.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12587204","id":"12587204","filename":"HADOOP-9637-trunk.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-11T06:02:03.348+0000","size":14774,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12587204/HADOOP-9637-trunk.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"332785","customfield_12312823":null,"summary":"Adding Native Fstat for Windows as needed by YARN","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13680235","id":"13680235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Post a patch. In this patch, I implemented {{NativeIO.POSIX.getFstat()}} for Windows. There are some minimal refactoring in winutils to make this work, including:\n\n1. Moved symlink and directory check from '{{Ls()}}' method to '{{FindFileOwnerAndPermission()}}'.\n\n2. Added an additional mode flag equivalent of S_IFREG on Linux.\n\n3. Added '{{FindFileOwnerAndPermissionByHandle()}}' method -- a lightweight method that calls '{{FindFileOwnerAndPermission()}}'. The Java native method {{fstat()}} on Windows directly calls this new method to get file stat.\n\n4. Enabled two TestNativeIO test cases, {{testFstat}} and {{testFstatClosedFdfor}}, that are previously disabled on Windows.\n\n5. In {{NativeIO.POSIX.getFstat()}}, I used the similar pattern as {{NativeIO.POSIX.chmod()}} to map the Windows Error 6 (ERROR_INVALID_HANDLE: The handle is invalid ) to Linux exception Errno.EBADF. In analog, {{chmod()}} maps Windows error code 3 ERROR_PATH_NOT_FOUND to Linux Errno.ENOENT.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-11T06:02:03.350+0000","updated":"2013-06-11T06:02:03.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13681630","id":"13681630","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12587204/HADOOP-9637-trunk.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2642//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2642//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-12T20:58:34.147+0000","updated":"2013-06-12T20:58:34.147+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13685072","id":"13685072","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"The patch can also fix TestContainerLogsPage.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-17T07:57:36.731+0000","updated":"2013-06-17T07:57:36.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13685751","id":"13685751","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Nice work, Chuan!  Here are a couple of questions:\n\n{code}\n        if (Shell.WINDOWS) {\n          int i = owner.indexOf('\\\\');\n          if (i != -1)\n            this.owner = owner.substring(i + 1);\n        }\n{code}\n\nIf I understand correctly, this is intended to remove the domain portion from a username.  (Am I understanding it correctly?)  Does Windows ever prepend domain to the group name too?  Do we need similar logic for initializing {{this.group}}?\n\nIt seems that this logic would treat user DOMAIN1\\cnauroth the same as DOMAIN2\\cnauroth, when in reality the same username in 2 different domains might not be the same person.  Consumers of fstat would end up seeing \"cnauroth\" as the owner without being able to differentiate between the 2 different users in 2 different domains.  Is this acceptable?\n\n{code}\n  stat_ctor2 = (*env)->GetMethodID(env, stat_clazz, \"<init>\",\n\t  \"(Ljava/lang/String;Ljava/lang/String;I)V\");\n  if (!stat_ctor2) {\n\t  return; // exception has been raised\n  }\n{code}\n\nMinor nit: use 2-space indentation in the above code.\n\n{code}\n  dwRtnCode = GetFinalPathNameByHandle(fileHandle, path, cchPathLen, 0);\n  if (dwRtnCode == 0)\n  {\n    ret = GetLastError();\n    goto FindFileOwnerAndPermissionByHandleEnd;\n  }\n  cchPathLen = dwRtnCode;\n  path = (LPWSTR) LocalAlloc(LPTR, cchPathLen * sizeof(WCHAR));\n  if (path == NULL)\n  {\n    ret = GetLastError();\n    goto FindFileOwnerAndPermissionByHandleEnd;\n  }\n\n  dwRtnCode = GetFinalPathNameByHandle(fileHandle, path, cchPathLen, 0);\n  if (dwRtnCode != cchPathLen - 1)\n  {\n    ret = GetLastError();\n    goto FindFileOwnerAndPermissionByHandleEnd;\n  }\n{code}\n\nI read up on the MSDN docs for {{GetFinalPathNameByHandle}} here:\n\nhttp://msdn.microsoft.com/en-us/library/windows/desktop/aa364962(v=vs.85).aspx\n\nThe first call returns the required buffer length, including null terminator:\n\n{quote}\nIf the function fails because lpszFilePath is too small to hold the string plus the terminating null character, the return value is the required buffer size, in TCHARs. This value includes the size of the terminating null character.\n{quote}\n\nHowever, the value of {{cchFilePath}} passed to the function in the second call is expected to exclude the null terminator:\n\n{quote}\ncchFilePath [in]\nThe size of lpszFilePath, in TCHARs. This value does not include a NULL termination character.\n{quote}\n\nDoes this mean that we need to subtract 1 from {{cchPathLen}} earlier, such as when we assign {{cchPathLen = dwRtnCode}}?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-17T17:43:22.967+0000","updated":"2013-06-17T17:43:22.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13685762","id":"13685762","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"May be you should edit the title to be something in the line of \"Adding Native Fstat for Windows as needed by YARN\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-17T17:51:09.759+0000","updated":"2013-06-17T17:51:09.759+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13685978","id":"13685978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"body":">May be you should edit the title to be something in the line of \"Adding Native Fstat for Windows as needed by YARN\".\nThanks for the suggestion! I have changed the title; will update the description shortly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-17T20:57:57.232+0000","updated":"2013-06-17T20:57:57.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13686247","id":"13686247","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for reviewing, Chris!\n\n>If I understand correctly, this is intended to remove the domain portion from a username. (Am I understanding it correctly?) Does Windows ever prepend domain to the group name too? Do we need similar logic for initializing this.group?\n\nYou are right. We also need this for group name. I will fix this in a new patch.\n\n>It seems that this logic would treat user DOMAIN1\\cnauroth the same as DOMAIN2\\cnauroth, when in reality the same username in 2 different domains might not be the same person. Consumers of fstat would end up seeing \"cnauroth\" as the owner without being able to differentiate between the 2 different users in 2 different domains. Is this acceptable?\n\nThis is by design right now. UserGroupInformation, NativeIO.Windows.getOwner(), and a few other places all assume this pattern, i.e. username without domain. (UserGroupInformation does not explicitly strip the domain, however, the Java API it used only returns username.) There are some discussions on this in HADOOP-8455. The main scenario we want to support (for unsecure Hadoop on Windows) is to allow local users of the same name to run Hadoop cluster without a domain controller. For example, users can create local user 'Alex' on the two machines 'Win1' and 'Win2', and run Hadoop under the local user 'Alex'. I think it is acceptable for now; I have outlined some thoughts on how we can improve this in HADOOP-8455.\n\n>Minor nit: use 2-space indentation in the above code.\n\nThanks for pointing this out; will fix in new patch.\n\n>Does this mean that we need to subtract 1 from cchPathLen earlier, such as when we assign cchPathLen = dwRtnCode?\n\nNot necessary. I have similar thoughts when I wrote the code. I intentionally make the buffer size 1 char larger; so the last character is the NULL terminator. Because without NULL terminator, some functions, e.g. wcslen(), will fail on the string, including some Windows function like GetNamedSecurityInfo() that is called on the path later. I think the MSDN document means the buffer only need to be as large as string length without null terminator. However, it does not require the buffer to be exact size. You may notice the example given at the MSDN page also used a larger buffer to save the path.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T00:46:45.546+0000","updated":"2013-06-18T00:46:45.546+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13686432","id":"13686432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12588295/HADOOP-9637-trunk.2.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2663//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2663//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-18T06:27:10.233+0000","updated":"2013-06-18T06:27:10.233+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13686983","id":"13686983","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for addressing my questions.  It all makes sense.  I have just one more comment about the new patch.\n\n{code}\n        if (Shell.WINDOWS) {\n          int i = owner.indexOf('\\\\');\n          if (i != -1)\n            this.owner = owner.substring(i + 1);\n        }\n{code}\n\nThis code is identical for username and group, so let's refactor it behind a helper function.  We also can add comments stating that the reason for this is to remove domain.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T17:23:55.482+0000","updated":"2013-06-18T17:23:55.482+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687140","id":"13687140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching a new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chuanliu","name":"chuanliu","key":"chuanliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chuan Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T20:21:18.656+0000","updated":"2013-06-18T20:21:18.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687168","id":"13687168","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12588442/HADOOP-9637-trunk.3.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2665//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2665//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-18T20:48:55.494+0000","updated":"2013-06-18T20:48:55.494+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687276","id":"13687276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the patch.  I verified on Mac (without native libs), Linux (with native libs), and Windows (with native libs).  Chuan, thank you for incorporating all of the feedback.  I'll commit this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T22:14:33.469+0000","updated":"2013-06-18T22:14:33.469+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687292","id":"13687292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk-Commit #3971 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3971/])\n    HADOOP-9637. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)\n\n     Result = SUCCESS\ncnauroth : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1494341\nFiles : \n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-18T22:25:14.073+0000","updated":"2013-06-18T22:25:14.073+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687294","id":"13687294","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I committed this to trunk, branch-2, and branch-2.1-beta.  Chuan, thank you for the contribution.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-18T22:27:14.653+0000","updated":"2013-06-18T22:27:14.653+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687842","id":"13687842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Yarn-trunk #245 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/245/])\n    HADOOP-9637. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)\n\n     Result = FAILURE\ncnauroth : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1494341\nFiles : \n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-19T10:41:36.581+0000","updated":"2013-06-19T10:41:36.581+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687943","id":"13687943","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Hdfs-trunk #1435 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1435/])\n    HADOOP-9637. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)\n\n     Result = FAILURE\ncnauroth : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1494341\nFiles : \n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-19T13:04:20.887+0000","updated":"2013-06-19T13:04:20.887+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12652132/comment/13687988","id":"13687988","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Mapreduce-trunk #1462 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1462/])\n    HADOOP-9637. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)\n\n     Result = FAILURE\ncnauroth : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1494341\nFiles : \n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c\n* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-06-19T13:38:06.933+0000","updated":"2013-06-19T13:38:06.933+0000"}],"maxResults":17,"total":17,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-9637/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1lcov:"}}