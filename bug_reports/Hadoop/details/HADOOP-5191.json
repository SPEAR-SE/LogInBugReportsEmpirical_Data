{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12414244","self":"https://issues.apache.org/jira/rest/api/2/issue/12414244","key":"HADOOP-5191","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-03-04T20:11:00.998+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Apr 03 15:24:07 UTC 2009","customfield_12310420":"78082","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_186019074_*|*_1_*:*_3_*:*_3885440452_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-03-25T21:01:39.929+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5191/watchers","watchCount":8,"isWatching":false},"created":"2009-02-06T18:04:00.403+0000","customfield_12310192":"Accessing HDFS with any ip, hostname, or proxy should work as long as it points to the interface NameNode is listening on.","customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313473","id":"12313473","description":"","name":"0.19.1","archived":false,"released":true,"releaseDate":"2009-02-24"}],"issuelinks":[{"id":"12324072","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12324072","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12421806","key":"MAPREDUCE-438","self":"https://issues.apache.org/jira/rest/api/2/issue/12421806","fields":{"summary":"When connecting to HDFS using an IP  Task MapRed gets confused when checking the output path. ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-24T20:35:30.920+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"After creation and startup of the hadoop namenode on AIX or Solaris, you will only be allowed to connect to the namenode via hostname but not IP.\n\nfs.default.name=hdfs://p520aix61.mydomain.com:9000\nHostname for box is p520aix and the IP is 10.120.16.68\n\nIf you use the following url, \"hdfs://10.120.16.68\", to connect to the namenode, the exception that appears below occurs. You can only connect successfully if \"hdfs://p520aix61.mydomain.com:9000\" is used. \n\nException in thread \"Thread-0\" java.lang.IllegalArgumentException: Wrong FS: hdfs://10.120.16.68:9000/testdata, expected: hdfs://p520aix61.mydomain.com:9000\n\tat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:320)\n\tat org.apache.hadoop.dfs.DistributedFileSystem.checkPath(DistributedFileSystem.java:84)\n\tat org.apache.hadoop.dfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:122)\n\tat org.apache.hadoop.dfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:390)\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:667)\n\tat TestHadoopHDFS.run(TestHadoopHDFS.java:116)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401452","id":"12401452","filename":"5191-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-04T19:35:27.628+0000","size":4800,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12401452/5191-1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12400022","id":"12400022","filename":"hadoop-5191.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-11T16:36:53.199+0000","size":2084,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12400022/hadoop-5191.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12403540","id":"12403540","filename":"HADOOP-5191.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-24T18:49:03.374+0000","size":2241,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12403540/HADOOP-5191.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401788","id":"12401788","filename":"HADOOP-5191.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-10T00:11:45.526+0000","size":1047,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12401788/HADOOP-5191.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401748","id":"12401748","filename":"TestHadoopHDFS.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-09T13:10:37.573+0000","size":4857,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12401748/TestHadoopHDFS.java"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"103857","customfield_12312823":null,"summary":"After creation and startup of the hadoop namenode on AIX or Solaris, you will only be allowed to connect to the namenode via hostname but not IP.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"AIX 6.1 or Solaris","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12672673","id":"12672673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"This patch resolves the issue on AIX 6.1. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-11T16:36:53.256+0000","updated":"2009-02-11T16:36:53.256+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12678866","id":"12678866","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"Patch and Unit test","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-04T19:35:27.656+0000","updated":"2009-03-04T19:35:27.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12678874","id":"12678874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"Patch to checkPath method in hadoop/hdfs/DistributedFileSystem.java to allow use of IP address as well as hostname.  The unit test included here does a simple test of getting a FileSystem object using hostname and then getting a FileSystem object using IP address (which didn't work before). ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-04T19:42:03.699+0000","updated":"2009-03-04T19:42:03.699+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12678890","id":"12678890","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bshi","name":"bshi","key":"bshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Bo Shi","active":true,"timeZone":"America/Los_Angeles"},"body":"I'm not sure if this falls within the scope of this JIRA, but it would be nice to be able to contact the host thru aliases;\n\nE.g. if the namenode is configured as somehost:9000, and I have somehost mapped to myalias in my /etc/hosts file, I won't be allowed to connect thru myalias:9000.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bshi","name":"bshi","key":"bshi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Bo Shi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-04T20:11:00.998+0000","updated":"2009-03-04T20:11:00.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12678968","id":"12678968","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"\nThis does not seem like an AIX or Solaris issue. Fix should work work for ips as well as aliases if there is one.\n\nThis goes to basics of what \"fs.default.name\" means. If a canonical for for comparing makes sense according to its definition, then we should do it properly (for e.g. how are multiple ips handled, or aliases handled as Bo Shi mentioned).\n\nDo we have a definition or meaning of \"fs.default.name\"?\n\nThis issue has come up multiple times and deserves either a fix or a clarification.\n\nregd patch : please avoid referring jiras in the code as much as possible.. it is ok to 'waste space' with slightly longer justifications in the code.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-04T22:35:32.184+0000","updated":"2009-03-04T22:35:32.184+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12678971","id":"12678971","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"This problem is independent of fs.default.name.  That only needs to be set in the provided test to start the namenode, and it's setting is unrelated to the failure.\n\nThe bug is that DistributedFileSystem calls NameNode#getUri() to create the client FileSystem's uri.  The client cannot know all of the addresses and names of the namenode.  Accesses to a namenode with different addresses and/or hostnames should result in different DistributedFileSystem instances.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-04T22:53:38.047+0000","updated":"2009-03-04T22:53:38.047+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12678978","id":"12678978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"> Accesses to a namenode with different addresses and/or hostnames should result in different DistributedFileSystem instances.\n\nYes. I see two problems :\n \n* HDFS should not change host name in the URI based on resolution. So the following should result in an error: getFS(\"hdfs://host/\").getFileStatus(\"hdfs://host.domain/file\"). \n   ** But currently getFS(\"hdfs://host/\").getFileStatus(\"hdfs://host/file\") might result in an error, then HDFS should fix it.\n\n* TestHadoopHDFS.java might essentially be making the same mistake : {{getFS(\"hdfs://hostname/\").getFileStatus(\"hdfs://ip/file\");}} It should rather do {{getFS(\"hdfs://ip\")...}} \n    ** Where is this file located?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-04T23:11:43.189+0000","updated":"2009-03-04T23:11:43.189+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12679001","id":"12679001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"> I'm not sure if this falls within the scope of this JIRA, but it would be nice to be able to contact the host thru aliases;\n> E.g. if the namenode is configured as somehost:9000, and I have somehost mapped to myalias in my /etc/hosts file, I won't be allowed to connect thru myalias:9000.\n\nYou might be affected HDFS issue the Doug mentioned above. We should fix it.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-05T00:00:45.621+0000","updated":"2009-03-05T00:00:45.621+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12679033","id":"12679033","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"In the future I'll remember not to refer to jira's in the patch comments. It is a habit to include a backreference to the origin of the change that has been pointed out not applicable to this project.  As to the patch, I will withdraw it if there is a better way to solve the problem.  It fixed the issue for me but I'm always open to a better idea. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T01:38:45.922+0000","updated":"2009-03-05T01:38:45.922+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12679036","id":"12679036","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Is the source for TestHadoopHDFS.java available? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-05T01:51:50.598+0000","updated":"2009-03-05T01:51:50.598+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680143","id":"12680143","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"This is a very simple program to write data to HDFS.  The source lines below are an excerpt from the source file. If I use a hostname that matches the namenode's machine then the FileSystem.get will work.  If I use an IP address instead then it fails.  Why is this considered an error??\n\nstatic public String filePath  = \"hdfs://10.120.12.81:9000/test/datafile\";\n\nString file = filePath;\n\t\nConfiguration conf = new Configuration();\ntry {\n\tfs = FileSystem.get(new URI(file),conf);\n}\n  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-09T13:10:37.655+0000","updated":"2009-03-09T13:10:37.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680254","id":"12680254","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"The above should work as you expect. How do I run this test?\n\ne.g., the following works :\n{{$ bin/hadoop fs -Dhadoop.default.name=\"hdfs://hostname:7020/\" -ls hdfs://ipaddress:7020/user/rangadi/5Mb-2}}\n\nIs this essentially what you are doing?\n\nearlier I said :\nbq. [...] But currently getFS(\"hdfs://host/\").getFileStatus(\"hdfs://host/file\") might result in an error, then HDFS should fix it. [...]\n\nI don't think that is the case. This works as expected, i.e. {{getFS(\"hdfs://alias1/\")}}, {{getFS(\"hdfs://alias2\")}}, and {{getFS(\"hdfs://ip\")}} all get different instances of HDFS and work as expected, even if all those point to same physical namenode. \n\nThere is one odd thing inside filesystem initialization where it invokes {{NetUtils.getStaticResolution()}} on the hosts, which seems returns null for my tests. But by default, there are no static resolutions set.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-09T20:12:15.900+0000","updated":"2009-03-09T20:12:15.900+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680317","id":"12680317","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Oops! I read the code incompletely. I can reproduce the problem. I think the fix should be a simple one. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-09T22:51:51.618+0000","updated":"2009-03-09T22:51:51.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680332","id":"12680332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Would the attached patch HADOOP-5191.patch fix this issue?\n\nIt simply uses the authority that user provides while creating the FS. No unnecessary hostname resolution or default port stripping. This should handle host aliases, ip addresses, proxies.. etc.\n\nIf you like the fix, please include you unit test (either as it is or modified) with the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-10T00:11:45.567+0000","updated":"2009-03-10T00:11:45.567+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680334","id":"12680334","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"\nbtw, the reason the '-ls' test above works without this fix is that, implementation uses the URI to create the FS, but uses just the path name while fetching the file info.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-10T00:18:17.113+0000","updated":"2009-03-10T00:18:17.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680440","id":"12680440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"Looking at the code referenced in the stack trace, I see a lot of .equalsIgnoreCase() tests in FileSystem.checkPath(). These should be made more robust against locales by using .toLower(Locale.EN_US) and then case sensitive matching, otherwise the code stop working in some countries. I don't think this the problem being encountered here, though\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-10T11:38:46.047+0000","updated":"2009-03-10T11:38:46.047+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12680617","id":"12680617","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> These should be made more robust against locales by using .toLower(Locale.EN_US) ...\n\nThese are only used to compare URI schemes and authorities, not directory or file names.  The scheme cannot contain non-ASCII, I think, but the authority (hostname typically) can, although this is rare.  To fix this, since non-ASCII characters in URIs must be escaped, we can just use getAuthorityRaw() instead of getAuthority() to compare escaped ASCII.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-10T21:08:21.246+0000","updated":"2009-03-10T21:08:21.246+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688445","id":"12688445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Bill, does the attached patch work for you?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-23T22:26:23.580+0000","updated":"2009-03-23T22:26:23.580+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688453","id":"12688453","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"Raghu, \nYes, this patch works for me - I am using it on AIX, Linux, and Solaris.  I have also run all the hadoop junit tests against my patched 0.18.3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-23T23:06:40.606+0000","updated":"2009-03-23T23:06:40.606+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688455","id":"12688455","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"thanks Bill. Please +1 the patch if you reviewed it.\n\nsince many users are affected by this, this could go into 0.20.x as well, along with the trunk. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-23T23:12:24.262+0000","updated":"2009-03-23T23:12:24.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688632","id":"12688632","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12401788/HADOOP-5191.patch\n  against trunk revision 757667.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/126/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/126/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/126/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/126/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-24T10:21:13.231+0000","updated":"2009-03-24T10:21:13.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688668","id":"12688668","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"Raghu - I haven't tried your patch as I have not had an opportunity but I assume you rewrote what I did due to the other comments on this jira.  You might want to include my unit test with your patch so this gets through Hudson. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-24T12:56:19.990+0000","updated":"2009-03-24T12:56:19.990+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688790","id":"12688790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"I am guessing that is a +1 for the patch.\n\nAttached patch adds a one more test case in TestDistributedFileSystem.  Does not increase the test time.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-24T18:49:03.386+0000","updated":"2009-03-24T18:49:03.386+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12688979","id":"12688979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12403540/HADOOP-5191.patch\n  against trunk revision 757958.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 4 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/133/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/133/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/133/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/133/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-25T02:43:52.724+0000","updated":"2009-03-25T02:43:52.724+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12689239","id":"12689239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-25T21:01:39.901+0000","updated":"2009-03-25T21:01:39.901+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12689892","id":"12689892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"This issue probably needs to be reopened. I have discovered that map/reduce also has dependency on how hdfs is connected (hostname as opposed to IP address).  I don't think this should be reported as another jira but what do you think?  Guys - there has to be a cleaner way to handle hostname/IP usage that works across the board. \n\n2009-03-27 04:15:45,045 WARN  [Thread-145] org.apache.hadoop.mapred.LocalJobRunner: job_local_0002\njava.io.IOException: Can not get the relative path: base = hdfs://10.120.16.68:9000/mydata/2009/03/27/0bab100a-1bf1-499a-935d-bc4b4e94f44c/_temporary/_attempt_local_0002_r_000000_0 child = hdfs://p520aix61.mydomain.com:9000/mydata/2009/03/27/0bab100a-1bf1-499a-935d-bc4b4e94f44c/_temporary/_attempt_local_0002_r_000000_0/part-00000\n\tat org.apache.hadoop.mapred.Task.getFinalPath(Task.java:586)\n\tat org.apache.hadoop.mapred.Task.moveTaskOutputs(Task.java:599)\n\tat org.apache.hadoop.mapred.Task.moveTaskOutputs(Task.java:617)\n\tat org.apache.hadoop.mapred.Task.saveTaskOutput(Task.java:561)\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:202)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-27T13:26:05.851+0000","updated":"2009-03-27T13:26:05.851+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12694679","id":"12694679","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"body":"I guess I'm the only person that has encountered this problem of mixing IP/hostname with map/reduce when connecting via IP address. As there are no comments then I'll assume it is a different problem and open a separate incident. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhabermaas","name":"bhabermaas","key":"bhabermaas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Habermaas","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-01T18:38:50.221+0000","updated":"2009-04-01T18:38:50.221+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12694682","id":"12694682","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"A separate issue is better. Mostly likely it is similar issue in mapred. Better to be fixed there. If you have test case like here, please attach there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-04-01T18:43:46.871+0000","updated":"2009-04-01T18:43:46.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414244/comment/12695433","id":"12695433","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #796 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/796/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-03T15:24:07.813+0000","updated":"2009-04-03T15:24:07.813+0000"}],"maxResults":29,"total":29,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5191/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i4pj:"}}