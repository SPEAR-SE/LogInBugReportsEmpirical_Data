{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12951384","self":"https://issues.apache.org/jira/rest/api/2/issue/12951384","key":"HADOOP-12942","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329058","id":"12329058","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335733","id":"12335733","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-03-17T23:56:45.470+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon May 16 17:56:25 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_8_*:*_1297327515_*|*_4_*:*_1_*:*_93543_*|*_5_*:*_2_*:*_33694_*|*_10002_*:*_8_*:*_3845442920","customfield_12312321":null,"resolutiondate":"2016-05-16T12:18:33.772+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-12942/watchers","watchCount":12,"isWatching":false},"created":"2016-03-17T23:43:36.143+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12466047","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12466047","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12965774","key":"HADOOP-13112","self":"https://issues.apache.org/jira/rest/api/2/issue/12965774","fields":{"summary":"Change CredentialShell to use CommandShell base class","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12466688","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12466688","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12970099","key":"HADOOP-13157","self":"https://issues.apache.org/jira/rest/api/2/issue/12970099","fields":{"summary":"Follow-on improvements to hadoop credential commands","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-08-30T01:17:12.802+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312526","id":"12312526","name":"security"}],"timeoriginalestimate":null,"description":"The \"hadoop credential create\" command, when using a jceks provider, defaults to using the value of \"none\" for the password that protects the jceks file.  This is not obvious in the command or in documentation - to users or to other hadoop developers - and leads to jceks files that essentially are not protected.\n\nIn this example, I'm adding a credential entry with name of \"foo\" and a value specified by the password entered:\n\n{noformat}\n# hadoop credential create foo -provider localjceks://file/bar.jceks\nEnter password: \nEnter password again: \nfoo has been successfully created.\norg.apache.hadoop.security.alias.LocalJavaKeyStoreProvider has been updated.\n{noformat}\n\nHowever, the password that protects the file bar.jceks is \"none\", and there is no obvious way to change that. The practical way of supplying the password at this time is something akin to\n\n{noformat}\nHADOOP_CREDSTORE_PASSWORD=credpass hadoop credential create --provider ...\n{noformat}\n\nThat is, stuffing HADOOP_CREDSTORE_PASSWORD into the environment of the command. \n\nThis is more than a documentation issue. I believe that the password ought to be _required_.  We have three implementations at this point, the two JavaKeystore ones and the UserCredential. The latter is \"transient\" which does not make sense to use in this context. The former need some sort of password, and it's relatively easy to envision that any non-transient implementation would need a mechanism by which to protect the store that it's creating.  \n\nThe implementation gets interesting because the password in the AbstractJavaKeyStoreProvider is determined in the constructor, and changing it after the fact would get messy. So this probably means that the CredentialProviderFactory should have another factory method like the first that additionally takes the password, and an additional constructor exist in all the implementations that takes the password. \n\nThen we just ask for the password in getCredentialProvider() and that gets passed down to via the factory to the implementation. The code does have logic in the factory to try multiple providers, but I don't really see how multiple providers would be rationaly be used in the command shell context.\n\nThis issue was brought to light when a user stored credentials for a Sqoop action in Oozie; upon trying to figure out where the password was coming from we discovered it to be the default value of \"none\".\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12795453","id":"12795453","filename":"HADOOP-12942.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-25T19:22:31.983+0000","size":40713,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12795453/HADOOP-12942.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12796629","id":"12796629","filename":"HADOOP-12942.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-02T00:15:09.206+0000","size":49618,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12796629/HADOOP-12942.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12798407","id":"12798407","filename":"HADOOP-12942.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-12T23:42:29.737+0000","size":53375,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12798407/HADOOP-12942.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12798569","id":"12798569","filename":"HADOOP-12942.004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-13T20:56:44.184+0000","size":53371,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12798569/HADOOP-12942.004.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12799991","id":"12799991","filename":"HADOOP-12942.005.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-21T16:05:50.998+0000","size":60505,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12799991/HADOOP-12942.005.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12803090","id":"12803090","filename":"HADOOP-12942.006.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-09T21:42:30.280+0000","size":61739,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12803090/HADOOP-12942.006.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12803344","id":"12803344","filename":"HADOOP-12942.007.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-10T23:52:29.979+0000","size":61768,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12803344/HADOOP-12942.007.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12803345","id":"12803345","filename":"HADOOP-12942.008.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-10T23:55:52.901+0000","size":61766,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12803345/HADOOP-12942.008.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"hadoop credential commands non-obviously use password of \"none\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[{"id":"12957450","key":"HADOOP-13011","self":"https://issues.apache.org/jira/rest/api/2/issue/12957450","fields":{"summary":"Clearly Document the Password Details for Keystore-based Credential Providers","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15200639","id":"15200639","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Need some advice with this one [~lmccay]. I'm going to attempt a patch for this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-17T23:46:23.107+0000","updated":"2016-03-17T23:46:23.107+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15200657","id":"15200657","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"The problem is that the password to protect the store needs to be protected somehow as well.\nThe only real fix to this issue that I can envision is to have a credential server that we authenticate to rather than have a password like this.\nOtherwise, we just keep moving the problem.\n\nThe environment variable doesn't really work either except for when both sides of the equation - the provisioner and the consumer of the secret - can set the environment variable without it being exposed in a script, in a file or provided on the command line and thus available from things like ps. For instance, we provision a password using the CLI or programmatically with the API and then it needs to be acquired by a MR job. How does the environment variable get set for the MR job? The idea was that setting up the job would involve collecting known passwords and moving them into the User provider. Again, the code that is setting up the job will need to have the env variable....\n\nUntil we have a secure credential server, the main protections with the keystore credential files are still file permissions. The keystore must be set with appropriate file permissions. In addition, it is more or less obfuscated with the encryption of the keystore and the default password.\n\nI would love it if you have an idea for something else.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-17T23:56:45.470+0000","updated":"2016-03-17T23:56:45.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15200686","id":"15200686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"For what it's worth, I considered an approach that would require having an encrypted master secret file and that all keystores be protected with the password that is encrypted in that file. But alas, that gets us back to the question of how we protect the key/secret used to encrypt the master? I think that as long as we are file based that we are using file permissions as the main protection.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-18T00:18:42.645+0000","updated":"2016-03-18T00:18:42.645+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15202320","id":"15202320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nOtherwise, we just keep moving the problem.\n{quote}\nOh, I agree. It's turtles all the way down. And you're right - as part of this work I'm looking at where this is used (in the use case we saw, at least) and how we can protect the password. I'm not sure we will be able to solve that problem, though.\n\n{quote}\nmore or less obfuscated\n{quote}\nI don't know if encrypting with the same hardcoded password meets the level of even \"obfuscation\". :-) Of course, you could probably direct the same charge against using a password that's easy to find.\n\n{quote}\nI would love it if you have an idea for something else.\n{quote}\nYeah, me too.\n\nI think that one of the problems I want to call out here is that the command, as is, gives the user a false sense of security. Since there's no way to obviously specify the credential provider password, it's easy for the user to believe that whatever is going on behind the scenes is secure, because hey we must know what we're doing. If our position is that the security of that jceks file is no better than that of a plaintext file then I think we've done the user a disservice.\n\nI mean, let's imagine that the command outputted a warning saying \"hey, that provider you just used encrypted the file with a hardcoded default password\". Of course that will prompt the user to not be happy and demand a patch or something. But at least we'd be up front about the issue. :-)\n\nBetter, I think, to do the right thing from the perspective of this command, and then work on making the later consumers of the provider do \"something\". But you're right, we have to think hard about end to end security with the password. I don't know if we will have a really good answer, though.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-18T23:04:15.200+0000","updated":"2016-03-18T23:04:15.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15202393","id":"15202393","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Yes, exactly.\n\nWe can certainly document this aspect more clearly.\nThere is a Credential API page in the docs already that will be published with 2.8 - I will take a look and see how much I said about that aspect.\n\nSomething that has occurred to me is that we could possibly leverage the KMS for the \"master\" secret idea.\n\nWe could:\n\n* add a command that provisions an encrypted master secret to a well-known location in HDFS\n* add code in the credential provider factory that acquires the key from KMS and decrypts the password from the master file\n* If the master secret can be found and encrypted then that can be used for the keystore password - if not, it falls back to \"none\" with a warning\n* the credential provider factory would then also be used within the credential provider API runtime use and would do the same thing\n\nWe would have to think through possible recursive issues with requiring access to HDFS in order to get credentials from keystores in HDFS. The fact that the master is in a file rather than a keystore may eliminate that problem though.\n\nObviously, this approach would require KMS to be in use and a new manual step to provision a master secret.\nIt may be slightly odd that this is all just for the keystore based providers and wouldn't be needed for a credential server based solution but I think that can be justified.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-19T00:10:33.996+0000","updated":"2016-03-19T00:10:33.996+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15202400","id":"15202400","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"The other thing to keep in mind is that the current situation is still better than clear text files.\n\n* like clear text files the main protection is file permissions\n* unlike clear text files - given a file permission breach, there are no standard tools that can get to the password value in the keystore\n\nEven with the password to the keystore, keytool can not get to the value and display it.\nYou could certainly get to it using the credential provider API directly but this is better than clear text files that are solely protected with file permissions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-19T00:17:11.608+0000","updated":"2016-03-19T00:17:11.608+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15205487","id":"15205487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nWe could:\n{quote}\nThis is becoming bigger than the intended scope of this jira. :-)\n\n{quote}\nAdd a command that provisions an encrypted master secret to a well-known location in HDFS\n{quote}\nWe'd have to carefully think through what users would be able to perform this action. And if something like this could be automated instead. And where that \"well-known location\" might be - could it be configured (I think we'd have to). And what about recursion issues if that location was inside an Encryption Zone? \n\n{quote}\nObviously, this approach would require KMS to be in use and a new manual step to provision a master secret.\n{quote}\nI think what you propose is workable, but these new requirements do concern me. We'd also have to think through what users could perform this action (for this action and for making the key in the KMS). There are lot of moving parts. Seems like a case for a credential server (or credential server functionality in the KMS).\n\nBack to the issue in this jira - regardless of the difficulty of handling the credential store password throughout the entire workflow, I still believe that the credential shell should ask for that password. It's got to be better than silently using \"none\" everywhere. And given that the key store provider has the ability to get the password from a file, it seems like it would be possible to put the password into a file for basically all use cases.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-22T00:56:08.414+0000","updated":"2016-03-22T00:56:08.414+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15205626","id":"15205626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Let's walk through that proposal.\n\nI think that the password file is marginally more secure because both files would have to be accessible in order to access the keystore and some folks may be willing to manage more files in order to get that additional protection. In addition, gaining access to one of those password files will only provide access to keystores that an attacker has access to *and* are protected by that particular password.\n\nThe AbstractJavaKeyStoreProvider already has support for a password file and can easily be used - we definitely need to document this clearly.\n\nI have heard reluctance from folks in the past for having commands prompt for passwords and would certainly break the scriptability of it. We would have to add a switch that enabled the prompting for a password - if we were to add it to the credential create subcommand.\n\nThis same password file is used in lots of scenarios though: KMS, javakeystore providers for key provider API, oozie, signing secret providers,e tc. I wonder whether a separate command for it would make sense.\nKeep in mind that we would need to do a number of things for this.\n\n1. prompt for the password\n2. persist it\n3. set appropriate permissions on the file\n4. somehow determine the filename to use (probably based on the password file name configuration) which would need to be provided by the user as well\n5. allow for use of the same password file for multiple keystores or scenarios\n6. allow for random-ish generated password without prompt\n\nSo, something like:\n\nhadoop pwdfile -pwdfile.property.name hadoop.security.credstore.java-keystore-provider.password-file [-generate true] [-permissions 400]\n\nThis would check the Configuration for the provided pwdfile.property.name to get the file to persist the password to.\nIf generate is set to true then it doesn't prompt and generates a password to use - otherwise, prompts for a password.\n(I could also see the opposite approach which would be default to generate unless a -interactive --i type switch is provided.)\nIf permissions are provided the file is created with those permissions otherwise, defaults to 400.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-22T02:04:24.262+0000","updated":"2016-03-22T02:04:24.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15207098","id":"15207098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nI have heard reluctance from folks in the past for having commands prompt for passwords and would certainly break the scriptability of it. We would have to add a switch that enabled the prompting for a password - if we were to add it to the credential create subcommand.\n{quote}\n\nAgreed. Today as you know the credential create command prompts for a password but there is an undocumented \"-value\" argument that can be used.  I'd stick with the same scheme where either a prompt or command line argument were possible.\n\n{quote}\nThis same password file is used in lots of scenarios though: KMS, javakeystore providers for key provider API, oozie, signing secret providers,e tc. I wonder whether a separate command for it would make sense.\n{quote}\nConceptually, yes, but aren't config values different?  I'm aware of two:\n* alias/AbstractJavaKeyStoreProvider: hadoop.security.credstore.java-keystore-provider.password-file\n* key/JavaKeyStoreProvider: hadoop.security.keystore.java-keystore-provider.password-file\n\n{quote}\nKeep in mind that we would need to do a number of things for this.\n1. prompt for the password\n2. persist it\n3. set appropriate permissions on the file\n4. somehow determine the filename to use (probably based on the password file name configuration) which would need to be provided by the user as well\n5. allow for use of the same password file for multiple keystores or scenarios\n6. allow for random-ish generated password without prompt\n{quote}\nI think it's even more complicated. :-) The user could want to use the environment variable when the credential is consumed, and so would want to provide it to the command but would not want to deal with anything file-related. \n\nAlso it's conceivable that the user could have constructed the file themselves; although this doesn't seem particularly user friendly. \n\nSo we have scenarios for hadoop credential create|list|etc that look like\n# Here is the credstore password from a prompt\n# Here is the credstore password on the command line\n# The credstore password is already in a file in the \"expected\" location (set up either by hand or via your new pwdfile command).\n\nMaking a command to manage the password file makes sense. I think that we shouldn't ask the user to give it the property name though: you could modify KeyShell and CredentialShell to have a new subcommand of 'pwdfile', thusly:\n* hadoop credential pwdfile \\[args\\]\n* hadoop key pwdfile \\[args\\]\n\nAnd they could share an implementation. This way the user does not have to remember \"hadoop.security.credstore.java-keystore-provider.password-file\" or the like. This also means that the provider selected needs a new interface to create said file, if applicable.\n\nI like the auto-generate-password option for the file. I think the default would be to still prompt for the password, though.  So yeah, adding a pwdfile command seems like a good idea.\n\nThe thing about the existing design that I'm going back and forth on is that the CredentialShell is high-level, and selects a provider and then simply passes information to the provider. The password is implied and not passed directly, so the CredentialShell has no notion of whether or not the underlying provider actually has a password or not.\n\nSo, for example, it would be daft of CredentialShell to accept a password on the command line if one is provided in a file, and it would also be even more daft if no password was specifed on the command line and the password wasn't in the password file either. Furthermore it would be silly to accept a password when the underlying provider does not need a password at all for proper operation (example: the UserProvider). There has to be some amount of communication between the CredentialShell and the provider in order to get the \"is a password required\" and \"where precisely is the password\" cases correct.  \n\nTo make this even more interesting, in the various providers with a key store, the keyStore is either created or opened in the constructor, requiring that all the information be presented up front - without scope for the back and forth of \"do you need a password and where\" from the provider.\n\nSo... one way to deal with this is to move the keyStore.load() call out of the constructor and defer it until the first get/set/delete credential entry call. Then expose interfaces along the lines of \"does this provider already have the password somehow?\" and \"set the password directly\". We'd have to add default behavior in CredentialProvider (and KeyProvider) and then implement in the ones that matter.\n\nThe downside to this approach is that we move around a few error conditions. However everything can throw an IOException, so maybe this isn't a big deal. Seem reasonable? Alternative proposals?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-22T19:28:15.733+0000","updated":"2016-03-22T19:28:15.733+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15207546","id":"15207546","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"There are at least the following additional password files throughout the ecosystem - I'm sure that there are probably more:\n\nHadoop:\nhadoop-http-auth-signature-secret\nhadoop.security.group.mapping.ldap.ssl.keystore.password.file\nhadoop.security.group.mapping.ldap.bind.password.file\n\nHBase JMX Remote:\nHBASE_JMX_OPTS=\"$HBASE_JMX_OPTS -Dcom.sun.management.jmxremote.password.file=$HBASE_HOME/conf/jmxremote.passwd\"\n\nHBase Web UIs\nTLS/SSL Server Keystore File Password\t- Password for the server keystore file used for encrypted web UIs.\nTLS/SSL Server Keystore Key Password\t- Password that protects the private key contained in the server keystore used for encrypted web UIs.\n\nHBase REST Server\nHBase REST Server TLS/SSL Server JKS Keystore File Password\t- The password for the HBase REST Server JKS keystore file.\nHBase REST Server TLS/SSL Server JKS Keystore Key Password\t- The password that protects the private key contained in the JKS keystore used when HBase REST Server is acting as a TLS/SSL server.\n\nHBase Thrift Server\nHBase Thrift Server over HTTP TLS/SSL Server JKS Keystore File Password\t - The password for the HBase Thrift Server JKS keystore file.\nHBase Thrift Server over HTTP TLS/SSL Server JKS Keystore Key Password\t- The password that protects the private key contained in the JKS keystore used when HBase Thrift Server over HTTP is acting as a TLS/SSL server.\n\nOozie SSL/TLS\nOozie TLS/SSL Server JKS Keystore File Password\t - Password for the keystore.\n\nI'd rather not add this work to the Key and Credential provider commands.\nThe keystore providers are both just consumers of the same password file pattern found else where through out hadoop.\n\nI believe that it is generally part of the administrative platforms like Ambari and Cloudera Manager but if you would like a CLI management tool then I think that may add some value. Like I described it could take care of the permissions settings, etc. Which would all be separate manual steps from the command line.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-22T23:44:46.125+0000","updated":"2016-03-22T23:44:46.125+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15207603","id":"15207603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Oh goodness. When you expand it to the general paradigm of \"a password in a file...\" yeah, I do recognize most of those. I was just thinking of the concept as applied to the providers in the discussion so far. Let me start without the pwdfile command at all. On some level, an \"echo asdf > file && chmod 400 file\" isn't that hard. Or at least not implement in the first pass - it's a separate problem from the rest.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-23T00:25:26.578+0000","updated":"2016-03-23T00:25:26.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15207610","id":"15207610","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Agreed. :)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-23T00:30:22.414+0000","updated":"2016-03-23T00:30:22.414+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15207612","id":"15207612","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"It's actually a \"password in a file that is referenced from config\" and is a specific pattern in hadoop.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-23T00:31:32.960+0000","updated":"2016-03-23T00:31:32.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212291","id":"15212291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"At last, a patch.  I fixed both the KeyShell and CredentialShell, since they have the same problem.  I also noticed that the CredentialShell threw an NPE with the \"-help\" commands, so I fixed that while I was in there.  The new code will prompt for the password for the provider if one is needed, and it will also accept \"-password xxx\" on the command line.  Note that there is a backwards compatibility issue here: the user has to give a password where none was required before. I don't see a way around this, however, since not having a real password was the root cause of this bug. I did set it up so that if the user just hits 'enter' (no password) when prompted, the default \"none\" is used instead, which is the prior behavior.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-25T19:28:54.932+0000","updated":"2016-03-25T19:28:54.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212334","id":"15212334","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"[~yoderme] - I'm not clear on the intent here. If we are leveraging the password-in-a-file approach then why are we going to prompt the user for a password? It should be in the config if that is what is going to be used. Additionally, how is the MR job going be assured to have the password to access the keystore by this?\n\nIf you are setting a password without it being first provisioned in the file then you are setting them up for a credential store that can't be opened. The current behavior should find the provisioned keystore password from the file and create the credential store appropriately with no need to prompt the user. This is the intended behavior by design and keeps the config aligned with the keystore password.\n\nI also see the backward compatibility issue as a non-starter. The current behavior isn't a *bug* \"none\" is a real password and there is code that is likely depending on that behavior. If we want to add the ability to prompt for the password then it has to be the other way round. If there is no password provided on the command line and no --interactive (-i) switch then you have to use \"none\".\n\nI'm sorry if I misunderstood our previous discussion on this but I am -1 on this as it stands - unless I also misunderstand the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-25T20:13:02.857+0000","updated":"2016-03-25T20:13:02.857+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212372","id":"15212372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"I see that I did misunderstand your conclusion earlier. I apologize for that.\nI don't see any point in prompting for a password that will successfully create a keystore and not fail until access is attempted from a running MR job.\n\nI think that the core issue can be addressed with a warning at credential creation time that the default password is being used and that they might want to consider provisioning a password in a file and add that filename to the config.\n\nCurrent behavior + what we should consider best practice according to this JIRA is:\n\n1. provision a password to a file for your credential providers\n2. set this file location as the configured password file (really part of provisioning above...)\n3. use the hadoop credential CLI to provision the actual credential required by MR jobs, etc\n4. if default password is used warning the user\n\nThe combination of the warning from the CLI and better documentation should be all that we need here.\nI wouldn't be opposed to a -strict switch that doesn't allow the default password to be used either.\nSo, when that is set we don't fallback to the default but fail out of the CLI with appropriate error message.\nAn explicit switch to be -strict about it retains backward compatibility too.\n\nPrompting for a password that has not been provisioned yet will lead to runtime problems.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-25T20:45:53.374+0000","updated":"2016-03-25T20:45:53.374+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212444","id":"15212444","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 36s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 43s {color} | {color:green} trunk passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 33s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 33s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 54s {color} | {color:green} trunk passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 1s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 40s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 40s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 40s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 39s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 6m 39s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 22s {color} | {color:red} hadoop-common-project/hadoop-common: patch generated 19 new + 103 unchanged - 4 fixed = 122 total (was 107) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 46s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 51s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 4s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 6m 40s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_74. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 6m 54s {color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_95. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red} 0m 24s {color} | {color:red} Patch generated 2 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 57m 21s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_74 Failed junit tests | hadoop.crypto.key.TestKeyProviderFactory |\n| JDK v1.8.0_74 Timed out junit tests | org.apache.hadoop.util.TestNativeLibraryChecker |\n| JDK v1.7.0_95 Failed junit tests | hadoop.crypto.key.TestKeyProviderFactory |\n| JDK v1.7.0_95 Timed out junit tests | org.apache.hadoop.util.TestNativeLibraryChecker |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12795453/HADOOP-12942.001.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 5e95b12a28ca 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / e8fc81f |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_74 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_74.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_74.txt https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_95.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/8930/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-25T21:29:17.706+0000","updated":"2016-03-25T21:29:17.706+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212473","id":"15212473","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"I guess I didn't explain my intent to prompt the user for a password very clearly. My (admittedly simplistic) thinking was \"hey there's no password\".  \"We should therefore make sure there's a password.\"\n\n{quote}\nIf we are leveraging the password-in-a-file approach then why are we going to prompt the user for a password? It should be in the config if that is what is going to be used. \n{quote}\nSo if there is in fact a password in a file referred to in the config, it takes priority and the user will never be prompted for a password. That's why the providers' needsPassword() has to exist.  We aren't doing anything new with the password-in-a-file approach with this patch; it's has been there and continues to be there.\n\n{quote}\nAdditionally, how is the MR job going be assured to have the password to access the keystore by this?\n{quote}\nThey aren't - but they never were assured of this in the first place. If you're reading from a file pointed to by the config, you're assuming that the same config will exist in the context in which it's later used (and that the file exists, too).  If you're using an environment variable, you're assuming the environment variable is going to exist in the future context in which it's later used. Neither of these are guaranteed.\n\n{quote}\nIf you are setting a password without it being first provisioned in the file then you are setting them up for a credential store that can't be opened. \n{quote}\nThere is a higher probability of that with my patch, yes. I believe this to be better than setting the user up for unintentional insecure storage of secrets. I don't know how to handle this better, and I'm not sure that we can since we don't know how the cred store will be accessed in the future.  \n\n{quote}\nThe current behavior should find the provisioned keystore password from the file and create the credential store appropriately with no need to prompt the user. This is the intended behavior by design and keeps the config aligned with the keystore password.\n{quote}\nI see what you're getting at, but I guess I have not felt that they are as \"aligned\" as you feel they are.  \n\nSo instead of prompting the user for a password, you would instead check for either the password-in-a-file or the environment variable, and if they don't exist, error out with a message stating that the provider couldn't find the password and here's how to provide it?\n\nThat would achieve the same sort of goal, but it just seemed easier and a better interface to just ask the user for the password. I suppose my patch doesn't give the user any hints on how to set things up so future stuff could read the keystore, though, which isn't great.\n\n{quote}\nThe current behavior isn't a bug \"none\" is a real password\n{quote}\nSee if I agreed with this I never would have filed this jira. :-)  I feel that it is a bug to give the user the impression that a value is being securely stored when in fact it is not.  Hardcoded \"none\" provides no protection.\n\n{quote}\nI also see the backward compatibility issue as a non-starter\n{quote}\nI view the current _interface_ as having the bug - that interface being the non-obvious use of a password \"none\".  As such, the interface ought to change, and as such that means a backwards compatibility issue. But...ergh. If we must keep the interface safe for scripts and the like... how about the following algorithm\n.\n* if there are no new command line arguments\n** if file or env var found\n*** great, continue as before\n** else\n*** print a big WARNING that they are using a password of \"none\" and instructions on how to set it; continue as before\n* else if \"-password\" or \"-askMeTheProviderPassword\" is found on the command line obtain the provider password, and\n** if the provider _already_ has a password via file or env var, print a WARNING that the file or env var exists, and that the user supplied password will be ignored\n** else pass the given password into the provider.\n\nThis gives us backwards compatibility, notification to the user that they're doing something insecure, and a way to provide the password in the command itself.  Your thoughts?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-25T21:58:06.737+0000","updated":"2016-03-25T21:58:06.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212489","id":"15212489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Oh, hey, I didn't see your second comment before posting.  We're getting closer...\n\nYou say\n{quote}\nprovision a password to a file for your credential providers\n{quote}\n\nSo that means that the config file would have to change so that the name of the file is provided... and the command can't do that itself.  Right?  This has to be an independent step taken by the user I assume.\n\n{quote}\nuse the hadoop credential CLI to provision the actual credential required by MR jobs, etc\n{quote}\nby this you mean creating the file with the password, assuming that the config file mentions a file?\n\n{quote}\nI wouldn't be opposed to a -strict switch that doesn't allow the default password to be used either.\n{quote}\nYeah that's a good idea.\n\n{quote}\nPrompting for a password that has not been provisioned yet will lead to runtime problems.\n{quote}\nWell, it does give the user the flexibility to set up the password in the file or use the environment variable at their leisure at a later date.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-25T22:07:58.648+0000","updated":"2016-03-25T22:07:58.648+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212513","id":"15212513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"bq. They aren't - but they never were assured of this in the first place.\n\nThey were assured of the default password always being available.\nIf we are going to define the best practice as using the password-in-a-file approach then it should be documented clearly that this config setting needs to be in place otherwise the default will be used.\n\nbq. There is a higher probability of that with my patch, yes. I believe this to be better than setting the user up for unintentional insecure storage of secrets. I don't know how to handle this better, and I'm not sure that we can since we don't know how the cred store will be accessed in the future.\n\nNot if we warn them AND allow them to be protected from it with a -strict flag.\n\nbq. See if I agreed with this I never would have filed this jira.  I feel that it is a bug to give the user the impression that a value is being securely stored when in fact it is not. Hardcoded \"none\" provides no protection.\n\nI can agree that the non-obvious aspect of this JIRA is a bug.\n\nA hardcoded password actually provides more protection than that afforded to the password-in-the-file itself.\nIt will only be protected by file permissions.\n\nPrinting a warning, documenting it clearly and providing a -strict switch would satisfy the non-obviousness bug.\n\nIf we didn't have this existing pattern of referencing password-files and had a way to connect all the dots for the password that we get through the prompt then this would be perfect. Unfortunately, I think that prompting like this adds unnecessary complexity in order to add a password that we know isn't provisioned in the config and will likely lead to a failure at runtime rather than provisioning time. I believe that we want to fail early.\n\nI should clearly state that I don't think that the password-in-a-file actually makes security much better but I can appreciate the idea of using it. But we really are just moving the problem around until we have a credential server. \n\nWe are talking about protecting an encoded credential store which is protected with file permissions with a password that is stored in clear text in a file that is protected with file permissions. Add, to that, the complexity of ensuring that file is configured properly in all environments and it becomes an availability problem.\n\nMy preference is to try and clearly define a best practice until we have a credential server that uses existing functionality and makes it very clear that a default password is being used otherwise.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-25T22:35:30.246+0000","updated":"2016-03-25T22:35:30.246+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15212533","id":"15212533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"HA - yeah, we are stepping on each other....\n\nbq. So that means that the config file would have to change so that the name of the file is provided... and the command can't do that itself. Right? This has to be an independent step taken by the user I assume.\n\nRight.\n\nbq. by this you mean creating the file with the password, assuming that the config file mentions a file?\n\nCorrect.\n\nbq. Well, it does give the user the flexibility to set up the password in the file or use the environment variable at their leisure at a later date.\n\nAbsolutely, and in other systems, I would agree with this. I would much rather fail early than later here though.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-03-25T22:45:45.456+0000","updated":"2016-03-25T22:45:45.456+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15222583","id":"15222583","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"New patch removes password-entry code and replaces it with warnings/errors about the password. A new \"-strict\" flag is introduced, which will cause the commands to fail without a password.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-02T00:15:09.210+0000","updated":"2016-04-02T00:15:09.210+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15222630","id":"15222630","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 36s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 49s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 40s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 35s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 51s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 3s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 41s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 42s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 42s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 45s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 6m 45s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} hadoop-common-project/hadoop-common: patch generated 0 new + 38 unchanged - 70 fixed = 38 total (was 108) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 58s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 48s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 54s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 4s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 16m 53s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_77. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 8m 5s {color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 22s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 69m 13s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Timed out junit tests | org.apache.hadoop.http.TestHttpServerLifecycle |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12796629/HADOOP-12942.002.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 07bde5f83451 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 81d04ca |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/9008/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_77.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HADOOP-Build/9008/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_77.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9008/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9008/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-02T01:30:31.167+0000","updated":"2016-04-02T01:30:31.167+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15227089","id":"15227089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Hi [~yoderme] - Sorry for the delay in review. I am really underwater with other things. I have taken a quick look at this and think that it is looking a lot better.\n\nComments:\n\n1. WARN messages (without strict flag): read too much like ERRORs. It should be talking about the fact that a unique password could be used by provisioning it in one of the following ways instead of it was expected to be found here or there. It is perfectly legitimate to use the static/hardcoded password. I think that this can be done easily with minor changes to the language.\n2. There is a bit more language that is too strongly leaning toward ERROR. For instance, there are cases where it is being communicated that a provider *requires* a password and none is given. Interesting word play aside, there is one given it happens to be the default one. Basically, I would like to see the semantics of the -strict flag as indicating a desire for a unique or custom password to be used and the lack of the -strict flag as accepting the default password.\n3. It would also be good to let the user know that when a custom password is being used that it must be available to the runtime consumers of it as well. The trick is communicating all of this without spitting out a book.\n4. I'm not sure that the hardcoded password needs to be emitted on the command line in order to satisfy \"obviousness\". I would rather see it be referred to as the default password. The default password can easily be documented in the command or credential provider docs so that it can be found, when needed.\n5. I think we should take this opportunity to revisit the 700 file permissions and change it to 600 - unless there is some reason that 700 is needed.\n\nThat's as deep as I could dig in today. There are a couple things that I would like to dig deeper into like the consolidation of some caught keystore exceptions and minor loss of context. I can't tell if some refactoring made the previous exceptions not possible anymore or what.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-05T20:36:20.732+0000","updated":"2016-04-05T20:36:20.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15228718","id":"15228718","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for having a look.\n\n{quote}\nWARN messages (without strict flag): read too much like ERRORs \\[...] It is perfectly legitimate to use the static/hardcoded password.\n{quote}\nSee, here's where we disagree. Using the CredentialProvider or KeyProvider indicates that the user cares about security.  Otherwise they wouldn't use the feature at all - for example just providing a cleartext password instead of getting it through the CredentialProvider.  So if the user cares about security, they are going to care that the provider is actually protecting the information. \n\nOr to come at this a different way - I can think of no other secure system involving a password where the use of a default hardcoded password is common.\n\nSo yeah, given my assumptions above the WARN messages are pretty severe on purpose.  It's difficult for me to fathom a (security conscious) user who, upon learning that they were using a static hardcoded password, would say \"meh\".\n\n{quote}\na provider *requires* a password\n{quote}\nWell, it requires a password for an attempt at secure operation.\n\n{quote}\n It would also be good to let the user know that when a custom password is being used that it must be available to the runtime consumers of it as well. The trick is communicating all of this without spitting out a book.\n{quote}\nQuite true.  How about the following two new lines:\n{noformat}\nWARNING: The provider cannot find a password in the expected locations.\nPlease supply a password using one of the following two mechanisms:\n    o In the environment variable ...\n    o In a file referred to by the configuration entry ...\nPlease note that when this provider is used in the future, the password must\nalso be available to it in the same manner.\nContinuing with default provider password \"none\"\n{noformat}\n\n{quote}\nI'm not sure that the hardcoded password needs to be emitted on the command line in order to satisfy \"obviousness\".\n{quote}\nMy thinking was that the user might want to figure out what the default password is, and so if the information is public, I might as well be helpful right on the command line.\n\n{quote}\n I think we should take this opportunity to revisit the 700 file permissions and change it to 600\n{quote}\nOK, makes me a little nervous to lump that in, but sure.\n\n{quote}\nthe consolidation of some caught keystore exceptions\n{quote}\n\nThere was one place I changed \n{noformat}\n-    } catch (NoSuchAlgorithmException e) {\n-      throw new IOException(\"Can't load keystore \" + getPathAsString(), e);\n-    } catch (CertificateException e) {\n-      throw new IOException(\"Can't load keystore \" + getPathAsString(), e);\n-    }\n{noformat}\nto this\n{noformat}\n+    } catch (GeneralSecurityException e) {\n+      throw new IOException(\"Can't load keystore \" + getPathAsString(), e);\n+    }\n{noformat}\njust to collapse the to dups into one.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-06T17:40:48.115+0000","updated":"2016-04-06T17:40:48.115+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15228816","id":"15228816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"This statement is a good place start:\n\nbq. Or to come at this a different way - I can think of no other secure system involving a password where the use of a default hardcoded password is common.\n\nThis actually is done in a number of systems that I have seen. Calling this a secure mechanism is would be too strong even with your proposed change. We are talking about levels of protection.\n\nWhat the keystore based providers are doing is making the clear text password in a file permissions protected file a bit better. Both mechanisms require file permissions to be thwarted in order to get to the file. However, the clear text password in a file can then easily be gotten to with standard tools. There are no standard tools that can be used to get to the password in a keystore. Keytool doesn't even allow you to read a secret stored this way - whether you have the password or not. Not that you can't write a tool to get to it but it is still better than the clear text password in a file. Claiming that the protection of the keystore with a clear text password in a file or environment variable makes it a secure system is a stretch.\n\nThe other benefit of the credential provider API is that it provides an abstraction and API to easily migrate to a better provider when it comes online.\n\nWarning that the default password is being used is sufficient when the -strict flag is absent. The language should make it clear that they have accepted the default password but not make it seem like they have done something wrong. Dumping the default password into the command line seems a little too public to me. What do you think about pointing them to documentation to find out more about the default password? We will need to put docs together for this anyway and we can pull what I have in trunk and branch-2 in with new language for the password protection of the keystore providers.\n\nbq. Please note that when this provider is used in the future, the password must also be available to it in the same manner.\n\nI fear that \"in the future\" is too vague. It reads like a temporal thing instead of an \"all consumers\" thing. It needs to be clear that any clients or jobs that require this password have access to the file and the password. I think that it only needs to be presented as part of the ERROR language as well. If they are accepting the use of the default password then other consumers will not have a problem.\n\nThis is actually the trickiest part of having the non-default password and will be the root cause of lots of support calls/tickets. This is why I am reluctant make the use of the default password seem like an error.\n\nI am looking to provide a patch that will move the secrets required by a job into the Credentials file during job setup and will make this a moot point eventually. Once we have that in place, the only parties that need access to the keystores are the ones setting up environments for jobs/applications.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-06T18:23:03.153+0000","updated":"2016-04-06T18:23:03.153+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15229646","id":"15229646","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Warning should be something like:\n\nbq. WARNING: You have accepted the use of the default password by not configuring a password in either:\n    o The environment variable ...\n    o File referred to by the configuration entry ...\nPlease review the documentation regarding provider passwords available here...\nContinuing with default provider password.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-07T04:07:19.788+0000","updated":"2016-04-07T04:07:19.788+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15229651","id":"15229651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"{code}\nWARNING: You have accepted the use of the default password by not configuring a password in either:\n    o The environment variable ...\n    o File referred to by the configuration entry ...\nPlease review the documentation regarding provider passwords available here...\nContinuing with default provider password.\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-07T04:07:59.471+0000","updated":"2016-04-07T04:07:59.471+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15232519","id":"15232519","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"OK, I'll take your last suggestion.  Will have the patch in a bit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-08T17:27:15.658+0000","updated":"2016-04-08T17:27:15.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15232832","id":"15232832","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"We may want to wait till we have a link for the \"documentation regarding provider passwords available here...\" which I am working on before putting together another patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-08T20:04:18.080+0000","updated":"2016-04-08T20:04:18.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15233560","id":"15233560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"The link to the Keystore Passwords section will be: http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/CredentialProviderAPI.html#Keystore_Passwords - once HADOOP-13011 is committed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-09T13:59:04.305+0000","updated":"2016-04-09T13:59:04.305+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15238393","id":"15238393","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 16s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 4 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 7m 19s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 29s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 7m 42s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 59s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 43s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 7s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 10s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 46s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 40s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 8m 40s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 7m 31s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 7m 31s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 22s {color} | {color:red} hadoop-common-project/hadoop-common: patch generated 1 new + 39 unchanged - 70 fixed = 40 total (was 109) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 2s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 57s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 7s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 9s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 10m 29s {color} | {color:green} hadoop-common in the patch passed with JDK v1.8.0_77. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 10m 8s {color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 24s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 74m 22s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12798407/HADOOP-12942.003.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux bd0fe18c537d 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 35f0770 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/9076/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9076/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9076/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-13T01:46:31.570+0000","updated":"2016-04-13T01:46:31.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15240096","id":"15240096","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Hi [~yoderme] - thanks for the new patch.\nI will try and review it tonight or tomorrow.\n\nLooks like you got flagged for adding a new checkstyle violation - even though you fixed 70. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-04-13T21:54:14.414+0000","updated":"2016-04-13T21:54:14.414+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15240111","id":"15240111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 9s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 4 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 7m 43s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 13s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 7m 11s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 23s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 1s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 40s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 59s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 5s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 48s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 7m 29s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 7m 29s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 7m 15s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 7m 15s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 20s {color} | {color:green} hadoop-common-project/hadoop-common: patch generated 0 new + 38 unchanged - 70 fixed = 38 total (was 108) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 57s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 51s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 53s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 6s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 8m 11s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_77. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 8m 26s {color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 67m 39s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Failed junit tests | hadoop.net.TestClusterTopology |\n|   | hadoop.security.ssl.TestReloadingX509TrustManager |\n| JDK v1.7.0_95 Failed junit tests | hadoop.ha.TestZKFailoverController |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12798569/HADOOP-12942.004.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux f8c7ca5a3aba 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / e0cb426 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/9085/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_77.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/9085/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_95.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HADOOP-Build/9085/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_77.txt https://builds.apache.org/job/PreCommit-HADOOP-Build/9085/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_95.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9085/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9085/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-13T22:06:43.451+0000","updated":"2016-04-13T22:06:43.451+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15240196","id":"15240196","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"So it's not just the absolute number of checkstyle violations, it knows which ones were yours. Ow!\n\nRegarding the latest patch... it differs in only 4 whitespace characters from the previous patch, which did pass the unit tests.  The hadoop.security.ssl.TestReloadingX509TrustManager failure passes for me; looks unrelated.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-13T23:05:38.882+0000","updated":"2016-04-13T23:05:38.882+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15252116","id":"15252116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch 005 is identical to 004, but adds documentation in CommandsManual.md","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-21T16:05:51.001+0000","updated":"2016-04-21T16:05:51.001+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15252248","id":"15252248","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 4 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 45s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 9s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 34s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 22s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 57s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 34s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 52s {color} | {color:green} trunk passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 5s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 40s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 41s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 41s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 37s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 6m 37s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 21s {color} | {color:green} hadoop-common-project/hadoop-common: patch generated 0 new + 38 unchanged - 70 fixed = 38 total (was 108) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch has 2 line(s) that end in whitespace. Use git apply --whitespace=fix. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 47s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 51s {color} | {color:green} the patch passed with JDK v1.8.0_77 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 1s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 16m 54s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_77. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 8m 7s {color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 20s {color} | {color:green} Patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 69m 16s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_77 Failed junit tests | hadoop.security.ssl.TestReloadingX509TrustManager |\n|   | hadoop.net.TestDNS |\n| JDK v1.8.0_77 Timed out junit tests | org.apache.hadoop.http.TestHttpServerLifecycle |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:fbe3e86 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12799991/HADOOP-12942.005.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux ec97943f4fb8 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 7da5847 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_77 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/9142/artifact/patchprocess/whitespace-eol.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/9142/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_77.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HADOOP-Build/9142/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_77.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9142/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9142/console |\n| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-04-21T17:18:10.227+0000","updated":"2016-04-21T17:18:10.227+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15273414","id":"15273414","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Hi [~yoderme] - this is looking pretty good. \n\n* I don't like that the warnings are displayed on commands other than create however. In fact, it really should only be displayed when the keystore is being created because it doesn't exist yet. \nHowever I could be convinced that they should be warned that they are adding a new credential to a provider that is using the default password.\n\n* It seems that there are a couple lines with trailing whitespace in the command manual change as well.\n\nI think if we can change the above we are good to go!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-06T00:53:25.655+0000","updated":"2016-05-06T00:53:25.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15277098","id":"15277098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch 6: now only show the warnings on the create command.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-09T21:43:29.571+0000","updated":"2016-05-09T21:43:29.571+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15277467","id":"15277467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 4 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 7m 3s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 1s {color} | {color:green} trunk passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 48s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 27s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 2s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 15s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 37s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 54s {color} | {color:green} trunk passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 5s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 41s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 54s {color} | {color:green} the patch passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 54s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 50s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 6m 50s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 25s {color} | {color:red} hadoop-common-project/hadoop-common: The patch generated 5 new + 109 unchanged - 78 fixed = 114 total (was 187) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 57s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch has 2 line(s) that end in whitespace. Use git apply --whitespace=fix. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 49s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 55s {color} | {color:green} the patch passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 7s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 19m 16s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_91. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 7m 48s {color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 72m 50s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_91 Timed out junit tests | org.apache.hadoop.http.TestHttpServerLifecycle |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:cf2ee45 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12803090/HADOOP-12942.006.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux acf7768804cc 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 996a210 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_91 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/9346/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/9346/artifact/patchprocess/whitespace-eol.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/9346/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_91.txt |\n| unit test logs |  https://builds.apache.org/job/PreCommit-HADOOP-Build/9346/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_91.txt |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9346/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9346/console |\n| Powered by | Apache Yetus 0.3.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-10T01:59:57.470+0000","updated":"2016-05-10T01:59:57.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15279047","id":"15279047","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"[~yoderme] - can you address the checkstyle and whitespace issues above?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-10T21:54:50.528+0000","updated":"2016-05-10T21:54:50.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15279260","id":"15279260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"Hopefully fixing checkstyle and whitespace issues in patch 8. I would have thought they'd have been detected in patch 6, but... oh well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-10T23:55:52.908+0000","updated":"2016-05-10T23:55:52.908+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15279347","id":"15279347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Same thing happened to me yesterday.\nI think that reporting on checkstyle errors in test classes must have just been turned back on or something.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-11T01:16:16.840+0000","updated":"2016-05-11T01:16:16.840+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15279565","id":"15279565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 12s {color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 4 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 6m 45s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 53s {color} | {color:green} trunk passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 43s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 27s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 0s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 36s {color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 55s {color} | {color:green} trunk passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 6s {color} | {color:green} trunk passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 41s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 52s {color} | {color:green} the patch passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 52s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 6m 50s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 6m 50s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 25s {color} | {color:green} hadoop-common-project/hadoop-common: The patch generated 0 new + 111 unchanged - 78 fixed = 111 total (was 189) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 0m 56s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 1m 50s {color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 56s {color} | {color:green} the patch passed with JDK v1.8.0_91 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 6s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 7m 44s {color} | {color:green} hadoop-common in the patch passed with JDK v1.8.0_91. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 7m 54s {color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_95. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 60m 55s {color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:cf2ee45 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12803345/HADOOP-12942.008.patch |\n| JIRA Issue | HADOOP-12942 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 54186218ac46 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 6e56578 |\n| Default Java | 1.7.0_95 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_91 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |\n| findbugs | v3.0.0 |\n| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9365/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9365/console |\n| Powered by | Apache Yetus 0.3.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-11T05:20:51.796+0000","updated":"2016-05-11T05:20:51.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15280583","id":"15280583","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"+1 - I will commit this to trunk, branch-2 and branch-2.8.\nThanks for the patch, [~yoderme]!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-11T18:28:27.723+0000","updated":"2016-05-11T18:28:27.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15280602","id":"15280602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"This has been committed to trunk, branch-2 and branch-2.8.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-11T18:40:39.125+0000","updated":"2016-05-11T18:40:39.125+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15280621","id":"15280621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #9746 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/9746/])\nHADOOP-12942. hadoop credential commands non-obviously use password of (lmccay: rev acb509b2fa0bbe6e00f8a90aec37f63a09463afa)\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/JavaKeyStoreProvider.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/alias/JavaKeyStoreProvider.java\n* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/alias/TestCredentialProviderFactory.java\n* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/crypto/key/TestKeyProviderFactory.java\n* hadoop-common-project/hadoop-common/src/site/markdown/CommandsManual.md\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/alias/CredentialShell.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProvider.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyShell.java\n* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/alias/TestCredShell.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/alias/CredentialProvider.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/alias/LocalJavaKeyStoreProvider.java\n* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/crypto/key/TestKeyShell.java\n* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/alias/AbstractJavaKeyStoreProvider.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-11T18:53:40.292+0000","updated":"2016-05-11T18:53:40.292+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15284422","id":"15284422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"[~yoderme] - Can you set the fix version on this to 2.8? It doesn't seem that I am able to do it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-16T12:19:23.751+0000","updated":"2016-05-16T12:19:23.751+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15284910","id":"15284910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"[~lmccay], I have set fix version to 2.8.0.  I also added you to the Committers role in JIRA, so you should be set for future JIRA edits.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-16T17:41:34.314+0000","updated":"2016-05-16T17:41:34.314+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15284926","id":"15284926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"body":"Thanks, [~cnauroth]!\nI thought that I used to be able to do that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lmccay","name":"lmccay","key":"lmccay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lmccay&avatarId=16811","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lmccay&avatarId=16811","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lmccay&avatarId=16811","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lmccay&avatarId=16811"},"displayName":"Larry McCay","active":true,"timeZone":"America/New_York"},"created":"2016-05-16T17:50:18.727+0000","updated":"2016-05-16T17:50:18.727+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12951384/comment/15284943","id":"15284943","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. I thought that I used to be able to do that.\n\nApache Infrastructure recently has needed to tighten up permissions on JIRA as a spam counter-measure.  I suspect things that used to be accessible to you through the Contributors role went away.  Adding you to the Committers role should solve it, and you belong in that role now anyway.  :-)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-16T17:56:25.284+0000","updated":"2016-05-16T17:56:25.284+0000"}],"maxResults":51,"total":51,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-12942/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2uuwv:"}}