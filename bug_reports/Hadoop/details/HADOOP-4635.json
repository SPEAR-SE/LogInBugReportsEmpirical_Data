{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12408279","self":"https://issues.apache.org/jira/rest/api/2/issue/12408279","key":"HADOOP-4635","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313494","id":"12313494","description":"","name":"0.18.3","archived":false,"released":true,"releaseDate":"2009-01-29"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313473","id":"12313473","description":"","name":"0.19.1","archived":false,"released":true,"releaseDate":"2009-02-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-11-11T22:17:35.947+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Dec 03 14:32:35 UTC 2008","customfield_12310420":"38784","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_600861661_*|*_1_*:*_1_*:*_1212188045_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_5101561684","customfield_12312321":null,"resolutiondate":"2008-12-02T19:08:43.706+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4635/watchers","watchCount":2,"isWatching":false},"created":"2008-11-11T19:31:14.716+0000","customfield_12310192":"fix memory leak of user/group information in fuse-dfs\n\n","customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313211","id":"12313211","description":"","name":"0.19.0","archived":false,"released":true,"releaseDate":"2008-11-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"}],"issuelinks":[{"id":"12322308","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12322308","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12408016","key":"HADOOP-4616","self":"https://issues.apache.org/jira/rest/api/2/issue/12408016","fields":{"summary":"assertion makes fuse-dfs exit when reading incomplete data","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T17:05:04.329+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I am running a process that needs to crawl a tree structure containing ~10K images, copy the images to the local disk, process these images, and copy them back to HDFS.\n\nMy problem is the following : after about 10h of processing, the processes crash, complaining about a std::bad_alloc exception (I use hadoop pipes to run existing software). When running fuse_dfs in debug mode, I get an outOfMemoryError, telling that there is no more room in the heap.\n\nWhile the process is running, using top or ps, I notice that fuse is using up an increasing amount of memory, until some limit is reached. At that point , the memory used is oscillating. I suppose that this is due to the use of the virtual memory.\n\nThis leads me to the conclusion that there is some memory leak in fuse_dfs, since the only other programs running are Hadoop and the existing software, both thoroughly tested in the past.\n\nMy problem is that my knowledge concerning memory leak tracking is rather limited, so I will need some instructions to get more insight concerning this issue.\n\nThank you","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12394689","id":"12394689","filename":"HADOOP-4635.txt.0.18","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:11:58.987+0000","size":2704,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12394689/HADOOP-4635.txt.0.18"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12394690","id":"12394690","filename":"HADOOP-4635.txt.0.19","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:12:20.705+0000","size":1988,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12394690/HADOOP-4635.txt.0.19"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12394686","id":"12394686","filename":"patch-hadoop4635.test_18","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:05:43.008+0000","size":32768,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12394686/patch-hadoop4635.test_18"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12394687","id":"12394687","filename":"patch-hadoop4635.test_19","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:06:12.734+0000","size":62630,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12394687/patch-hadoop4635.test_19"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12394688","id":"12394688","filename":"TEST-TestFuseDFS.txt-4635","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:11:26.942+0000","size":36819,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12394688/TEST-TestFuseDFS.txt-4635"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"104208","customfield_12312823":null,"summary":"Memory leak ?","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12646648","id":"12646648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"After some further testing, I notified that the amount of memory used by fuse_dfs is of about 70MB (varies from a machine to the other).\n\nI tried to use vmstat to see if a lot of paging was involved, and it does not seem to be the case.\n\nI might just have done a report for an unexisting bug, I apologize if it is the case, an am in any way ready to do as many tests as needed to get a better understanding of the situation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-11T19:50:47.026+0000","updated":"2008-11-11T19:50:47.026+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12646671","id":"12646671","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"It seems that there really is a leak...\n\nUsing top, I am monitoring the amount of memory used by fuse_dfs on one of the machines.\n\nThe percentage went from 6.8 % to 8.1 % in 2-3 hours. I will continue tracking the memory usage to get some more insight.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-11T21:36:50.994+0000","updated":"2008-11-11T21:39:06.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12646692","id":"12646692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"There is 1 memory leak in 0.18.2. For every file opened in write mode, it never calls pthread_mutex_destroy for a mutex.  This would probably be a few 10s of bytes per file.\n\nFor 0.19 and 0.20, it also leaks per hdfsConnect which happens on file opens, chmod, mvdir, ...  That is leaking a char * of the username.\n\nThere's also a bug open for fuse-dfs leaking FileSystem handles, but that is a single handle per unique user/group combination doing operations, and so should be very small and not worrisome as it is O(#of users) and # of users is small.\n\nI'm glad you opened this and we looked at it. \n\nThis is 0.18.2, right?\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-11T22:17:35.947+0000","updated":"2008-11-11T22:17:35.947+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12646706","id":"12646706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"Great, I see that you have some good ideas on what parts of the code should cause issues.\n\nI am using the latest version from svn, 0.20.0, I think. (had to upgrade to be able to use the writing functionalities)\n\nI spent some time looking at the code, and I noticed a strange little quirk (fuse_dfs.c:608). The '+1' in the malloc. I don't get why it is there, must be a relic... it is not important, since it will be freed anyway, still...\n\nAnyway, I am chasing the leaks right now and I am happy to see that some of the leaks are already located. Is the hdfsConnectAsUser difficult to fix? I will take a look and try to fix it, but if you have any insight, pleease let me know!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-11T22:41:56.841+0000","updated":"2008-11-11T22:41:56.841+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12646751","id":"12646751","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"4616 fixes the memory leak of the pthread_mutex_destroy not being called on write file handles. this would seem to be the only known leak for 0.18.2.\n\nfor 0.19/trunk, there are some other small leaks associated with doing opens as a specific user and looking up their groups; an off by 1 error would seem to prevent one of the groups as a char * being freed. will address that in this JIRA??\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-12T00:27:58.646+0000","updated":"2008-11-12T00:27:58.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12646945","id":"12646945","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"Well, I think that the leak you mentioned that happens at each hdfsConnect should definitely be fixed, and if this is the right place to report that issue, we can use it to correct it.\n\nI am still not sure where exactly the leak happens... is it the doConnect function that does not clean correctly what it allocates, or is it  hdfsConnectAsUser that has problems?\n\nLooking at the code of doConnect, it seems that everything is freed (call to freeGroups and free(user)). Was this the leak you were mentioning? Or is there an issue with getGroups/freeGroups?\n\nThanks for your help, I really need to fix this problem...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-12T16:22:31.854+0000","updated":"2008-11-12T16:22:31.854+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12647026","id":"12647026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"It's this code in getGroups that is causing the (a?) leak:\n\n{code}\n  groupnames = (char**)malloc(sizeof(char*)* (*num_groups) + 1);          ** allocating num_groups + 1 **                                                                                                                                   \n  assert(groupnames);                                                                                                                                                                                       \n  int i;                                                                                                                                                                                                    \n  for (i=0; i < *num_groups; i++)  {                                                                                                                                                                        \n    groupnames[i] = getGroup(grouplist[i]);                                                                                                                                                                 \n    if (groupnames[i] == NULL) {                                                                                                                                                                            \n      fprintf(stderr, \"error could not lookup group %d\\n\",(int)grouplist[i]);                                                                                                                               \n    }                                                                                                                                                                                                       \n  }                                                                                                                                                                                                         \n  free(grouplist);                                                                                                                                                                                          \n  assert(user != NULL);                                                                                                                                                                                     \n  groupnames[i] = user;      ** setting position beyond num_groups - never released **                 \n{code}\n\nThe last groupnames[i] = user is never released because freeGroups code is:\n\n{code}\nstatic void freeGroups(char **groups, int numgroups) {                                                                                                                                                      \n  if (groups == NULL) {                                                                                                                                                                                     \n    return;                                                                                                                                                                                                 \n  }                                                                                                                                                                                                         \n  int i ;                                                                                                                                                                                                   \n  for (i = 0; i < numgroups; i++) {                                                                                                                                                                         \n    free(groups[i]);                                                                                                                                                                                        \n  }                                                                                                                                                                                                         \n  free(groups);                                                                                                                                                                                             \n}                                                                                                                                                                                                           \n{code}\n\nAlso note that Hadoop never sees the last group either. I think we need a \n{code}\n  *num_groups = *num_groups + 1;\n{code}\n\nin getGroups after setting groupnames[i] = user to fix the leak and hadoop not seeing the last group.\n\n-- pete\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-12T19:49:35.905+0000","updated":"2008-11-12T19:49:35.905+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12647030","id":"12647030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"Yes, after posting my last comment I noticed exactly the problem you mentioned.\n\nI see two ways of correcting this : either increment the number of groups, or delete one more item than the number of groups. It merely depends on the meaning of num_groups. \n\nI chose the second way to solve it, adding  {code}free(groups[i]){code} at the end of the for loop, to mirror the creation code.\n\nI also changed\n{code}\ngroupnames = (char**)malloc(sizeof(char*)* (*num_groups) + 1);\n{code}\nto\n{code}\ngroupnames = (char**)malloc(sizeof(char*)* (*num_groups + 1) );\n{code}\n\njust in case sizeof(char*) != 1  (we never know...)\n\nThanks for the details.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-12T19:59:52.772+0000","updated":"2008-11-12T19:59:52.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12647050","id":"12647050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"excellent catch - that could have definitely caused lots of problems!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-12T20:42:53.568+0000","updated":"2008-11-12T20:42:53.568+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12648783","id":"12648783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"I am using the latest patch provided in issue HADOOP-4616, which is supposed to fix the leaks, and I have bad news: there are still leaks.\n\nwhile searching through the code, I noticed taht some of the functions used as fuse_operations are not static. Can it be a problem?\n\nAt least, fixing this does not remove the leak. I am running a version using static functions, the leak is still there.\n\nI am running out of clues, so any help would be appreciated.\n\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T22:22:51.512+0000","updated":"2008-11-18T22:22:51.512+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12648793","id":"12648793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"Did you include your fix for the off by one problem you found in the grouplist?\n\nAlso, would be helpful to know if it still leaks when -Dlibhdfs.noperms=1 - at least that will rule out the group list stuff. \n\nI'm going to watch our production environment for leaks, but I never heard of one but also, we are running 0.17.1 in production but with the latest fuse-dfs.\n\n-- pete\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-18T23:02:04.728+0000","updated":"2008-11-18T23:02:04.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12648868","id":"12648868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"My 17.1 cluster, I don't see mine leaking, but I do see that because of the Java GC, the memory use is hard to peg. I mounted with -ordbuffer=67108864 and then ran 1000 head part-00000 > /dev/null for a file and the memory sometimes climbs as high as a 1 GB, but then comes down and stays at about 550MB. \nI also tried the following code, and I saw about the same behavior as with fuse.  I also tried using a 64MB buffer in fuse, but short circuiting the code to do such big reads to dfs and the memory never grew much.  \n\nIt may just be Java. Maybe you could set LIBHDFS_OPTS to the options to make the GC write a log but I don't know if it will show how much is in use by the JVM ?? \n\n{code}\n\nimport org.apache.hadoop.fs.*;\nimport org.apache.hadoop.conf.*;\nimport org.apache.hadoop.dfs.*;\n\n\npublic class test { \n  public static void main(String args[]) { \n    try {\n      int size = 256 * 1024 * 1024;\n      byte buf[] = new byte[size];\n      FileSystem fs = FileSystem.get(new Configuration());\n      for (int i = 0; i < 1000; i++) {\n        FSDataInputStream fsi = fs.open(new Path(\"/some/path/to/part-00000\"));\n        fsi.readFully( 0,buf);\n        System.err.println(i );\n        fsi.close();\n      }\n      Thread.sleep(60*1000);\n    } catch(Exception e) {\n      e.printStackTrace();\n    }\n  }\n};\n\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-19T01:26:15.057+0000","updated":"2008-11-19T01:26:15.057+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12649710","id":"12649710","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"body":"I tried to get back to version 0.18.3, and it corrected the leak. I don't have time to evaluate more precisely what caused the leak, but I can still provide these details:\n\nI am now using fuse_dfs without permissions (-Dlibhdfs.noperms=1). It was actually needed to compile with 0.18.3.\n\nSo, the leak I was experiencing may come from the getGroups stuff. However, considering that you also use the latest version of fuse-dfs, and do not experience any leak, the problem ,might also very well come from libhdfs, and not from fuse-dfs.\n\nI hope that my feedback may be of some use someday...\n\nThanks for your help.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mofleury","name":"mofleury","key":"mofleury","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marc-Olivier Fleury","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-21T17:27:19.837+0000","updated":"2008-11-21T17:27:19.837+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12649812","id":"12649812","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"interesting. I am using the latest version of the code but against 17.1 so i also have permissions off.\n\nwe should definitely plug the num_groups hole that you mentioned though. \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-21T21:46:38.475+0000","updated":"2008-11-21T21:46:38.475+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12650710","id":"12650710","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"\n     [exec] +1 overall.  \n\n     [exec]     +1 @author.  The patch does not contain any @author tags.\n\n     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.\n\n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n     [exec]     +1 javac\n\npatch test on 0.18\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:05:43.113+0000","updated":"2008-11-25T20:05:43.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12650711","id":"12650711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"\n     [exec] +1 overall.  \n\n     [exec]     +1 @author.  The patch does not contain any @author tags.\n\n     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.\n\n     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n     [exec]     +1 javac\n\non 0.19 patch test output\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:06:12.769+0000","updated":"2008-11-25T20:06:12.769+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12650714","id":"12650714","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"output of ant test-contrib -Dtestcase=TestFuseDFS -Dlibhdfs=1 -Dfusedfs=1\n\nBUILD SUCCESSFUL\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:11:26.985+0000","updated":"2008-11-25T20:11:26.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12650715","id":"12650715","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"0.18 patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:11:58.992+0000","updated":"2008-11-25T20:11:58.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12650716","id":"12650716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"0.19 patch\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-25T20:12:20.718+0000","updated":"2008-11-25T20:12:20.718+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12650785","id":"12650785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"+1. Fox looks good.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-11-25T23:17:17.315+0000","updated":"2008-11-25T23:17:17.315+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12651251","id":"12651251","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12394690/HADOOP-4635.txt.0.19\n  against trunk revision 720930.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3657/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3657/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3657/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3657/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2008-11-27T05:50:21.703+0000","updated":"2008-11-27T05:50:21.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12652235","id":"12652235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"body":"failure in Hudson not due to this patch which is fuse-dfs c code only.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wyckoff","name":"wyckoff","key":"wyckoff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pete Wyckoff","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T02:11:07.286+0000","updated":"2008-12-02T02:11:07.286+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12652459","id":"12652459","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"I just committed this. Thanks pete.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T19:08:43.637+0000","updated":"2008-12-02T19:08:43.637+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12408279/comment/12652805","id":"12652805","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #677 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/677/])\n    . Fix a memory leak in fuse dfs. (pete wyckoff via mahadev)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-03T14:32:35.334+0000","updated":"2008-12-03T14:32:35.334+0000"}],"maxResults":24,"total":24,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4635/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i6vj:"}}