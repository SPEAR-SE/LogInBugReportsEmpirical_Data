{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12374268","self":"https://issues.apache.org/jira/rest/api/2/issue/12374268","key":"HADOOP-1642","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312740","id":"12312740","description":"","name":"0.16.0","archived":false,"released":true,"releaseDate":"2008-02-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-07-20T17:22:27.017+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Nov 21 07:13:36 UTC 2007","customfield_12310420":"81194","customfield_12312320":null,"customfield_12310222":"10002_*:*_5_*:*_1006514337_*|*_1_*:*_5_*:*_8743786023_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_7582438929_*|*_4_*:*_1_*:*_234109806","customfield_12312321":null,"resolutiondate":"2007-11-21T07:13:36.532+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-1642/watchers","watchCount":1,"isWatching":false},"created":"2007-07-20T15:57:01.863+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312565","id":"12312565","description":"","name":"0.15.0","archived":false,"released":true,"releaseDate":"2007-10-19"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-02-08T23:37:50.943+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"If I run several jobs at the same time using JobControl and the LocalJobRunner i get:\njava.io.IOException: Target /tmp/hadoop-johan/mapred/local/localRunner/job_local_1.xml already exists.\n\nIt seems like the JobControl class tries to run multiple jobs with the same jobid, causing the exception.\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12367971","id":"12367971","filename":"HADOOP-1642.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-10-18T20:01:34.138+0000","size":1299,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12367971/HADOOP-1642.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12368036","id":"12368036","filename":"HADOOP-1642-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-10-19T18:34:02.894+0000","size":537,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12368036/HADOOP-1642-2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12368973","id":"12368973","filename":"HADOOP-1642-3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T12:47:01.324+0000","size":22958,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12368973/HADOOP-1642-3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12368990","id":"12368990","filename":"HADOOP-1642-4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T18:45:56.730+0000","size":24610,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12368990/HADOOP-1642-4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12369042","id":"12369042","filename":"HADOOP-1642-5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T18:22:46.395+0000","size":14523,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12369042/HADOOP-1642-5.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"102720","customfield_12312823":null,"summary":"Jobs using LocalJobRunner + JobControl fails","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johanoskarsson","name":"johanoskarsson","key":"johanoskarsson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Johan Oskarsson","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johanoskarsson","name":"johanoskarsson","key":"johanoskarsson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Johan Oskarsson","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12514252","id":"12514252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"I have seen unit tests fail with this message on recent trunk versions.  I don't think the bug is specific to JobControl, but is rather with LocalJobRunner.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-20T17:22:27.017+0000","updated":"2007-07-20T17:22:27.017+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12536032","id":"12536032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"This should fix this.  Can you please try this, Johan?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-10-18T20:01:47.219+0000","updated":"2007-10-18T20:01:47.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12536049","id":"12536049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12367971/HADOOP-1642.patch\nagainst trunk revision r586003.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    javadoc +1.  The javadoc tool did not generate any warning messages.\n\n    javac +1.  The applied patch does not generate any new compiler warnings.\n\n    findbugs +1.  The patch does not introduce any new Findbugs warnings.\n\n    core tests +1.  The patch passed core unit tests.\n\n    contrib tests +1.  The patch passed contrib unit tests.\n\nTest results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/967/testReport/\nFindbugs warnings: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/967/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/967/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/967/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2007-10-18T21:08:34.056+0000","updated":"2007-10-18T21:08:34.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12536177","id":"12536177","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johanoskarsson","name":"johanoskarsson","key":"johanoskarsson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Johan Oskarsson","active":true,"timeZone":"America/Los_Angeles"},"body":"I applied the patch to the 0.15 branch and reran my program, this time it got a bit further. The above error didn't show up.\nInstead i got this:\n\njava.io.IOException: Target /tmp/hadoop-johan/mapred/local/map_0000/file.out already exists\n        at org.apache.hadoop.fs.FileUtil.checkDest(FileUtil.java:246)\n        at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:125)\n        at org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:116)\n        at org.apache.hadoop.fs.RawLocalFileSystem.rename(RawLocalFileSystem.java:180)\n        at org.apache.hadoop.fs.ChecksumFileSystem.rename(ChecksumFileSystem.java:380)\n        at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.mergeParts(MapTask.java:501)\n        at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.flush(MapTask.java:607)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:193)\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:133)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=johanoskarsson","name":"johanoskarsson","key":"johanoskarsson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Johan Oskarsson","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-10-19T10:43:18.914+0000","updated":"2007-10-19T10:43:18.914+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12536308","id":"12536308","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Here's another try.  Does this work for you, Johan?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-10-19T18:34:03.023+0000","updated":"2007-10-19T18:34:03.023+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12536331","id":"12536331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12368036/HADOOP-1642-2.patch\nagainst trunk revision r586264.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    javadoc +1.  The javadoc tool did not generate any warning messages.\n\n    javac +1.  The applied patch does not generate any new compiler warnings.\n\n    findbugs +1.  The patch does not introduce any new Findbugs warnings.\n\n    core tests +1.  The patch passed core unit tests.\n\n    contrib tests -1.  The patch failed contrib unit tests.\n\nTest results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/971/testReport/\nFindbugs warnings: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/971/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/971/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/971/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2007-10-19T20:02:56.138+0000","updated":"2007-10-19T20:02:56.138+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12537671","id":"12537671","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this. Thanks, Doug!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-10-25T17:56:58.487+0000","updated":"2007-10-25T17:56:58.487+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12538084","id":"12538084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Nightly #283 (See [http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/283/])","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2007-10-26T19:43:44.748+0000","updated":"2007-10-26T19:43:44.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12539339","id":"12539339","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"I just checked out the 0.15 branch and I don't see the code  mentioned in the patch commited there? \n\nAnyway, I applied the most recent patch, rebuilt hadoop and then put the new jar files in our project. I get the same behaviour as Johan:\n\n11-01 10:57:02] Thread-1 (LocalJobRunner.java:186) - job_local_2\njava.io.IOException: Target /tmp/hadoop-adrian/mapred/local/map_0000/file.out already exists\n\tat org.apache.hadoop.fs.FileUtil.checkDest(FileUtil.java:246)\n\tat org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:125)\n\tat org.apache.hadoop.fs.FileUtil.copy(FileUtil.java:116)\n\tat org.apache.hadoop.fs.RawLocalFileSystem.rename(RawLocalFileSystem.java:180)\n\tat org.apache.hadoop.fs.ChecksumFileSystem.rename(ChecksumFileSystem.java:394)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.mergeParts(MapTask.java:501)\n\tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.flush(MapTask.java:607)\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:193)\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:132)\n\nSo I don't think this issue should be marked as resolved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-01T11:34:27.513+0000","updated":"2007-11-01T11:34:27.513+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12539685","id":"12539685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Re-opening, since this does not yet appear to be fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-02T19:46:43.030+0000","updated":"2007-11-02T19:46:43.030+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540186","id":"12540186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Code Review please. \n\nThe actual change to the source code is very small, just a one liner modification on line 117 of LocalJobRunner.java like so:\n\n          String mapId = jobId + \"_map_\" + idFormat.format(i);\n\nThe problem was that in local MR and FS mode, the mapId wasn't unique enough and caused tasks to create .out files with the same name. Prepending the jobId as shown above fixes this. Maybe there is a better way to do this that is more consistent with how it is done in the distributed Job Runner? Or using a GUID of some sort? The above worked for me but if you have a preference for another way of generating the mapId I'm keen to hear it.\n\nThe bulk of the patch consists of adding a Unit test for this. What I have done is create a TestLocalJobControl which extends HadoopTestCase and sets up a mini-mr cluster in Local MR and File mode. I based the test on  TestJobControl (which is a bit of a weird unit test IMHO as it does no asserts, surely it should check the job results?) . Anyway, I factored out all the common functionality into a JobControlTestUtils class and changed both tests to use this. My test failed with the \n\njava.io.IOException: Target build/test/mapred/local/map_0000/file.out\n\nmessage until the change to LocalJobRunner was made so I think it covers this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T12:47:01.519+0000","updated":"2007-11-05T12:47:01.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540187","id":"12540187","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Patch containing fix and unit test added (HADOOP-1642-3.patch)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T12:48:32.688+0000","updated":"2007-11-05T12:48:32.688+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540234","id":"12540234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Missing Apache license as comment at top of new unit test classes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T18:44:39.293+0000","updated":"2007-11-05T18:44:39.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540235","id":"12540235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Code review, see comments for previous patch (HADOOP-1642-3.patch), all that has changed here is that I have added Apache license in comments at top of new files in accordance with license.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T18:45:56.842+0000","updated":"2007-11-05T18:45:56.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540248","id":"12540248","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12368990/HADOOP-1642-4.patch\nagainst trunk revision r591880.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    patch -1.  The patch command could not apply the patch.\n\nConsole output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1064/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-05T19:13:52.828+0000","updated":"2007-11-05T19:13:52.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540391","id":"12540391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Can anyone tell why hudson couldn't apply the patch? I generated it according to the hadoop wiki docs and can apply it just fine to the trunk myself...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T09:52:41.626+0000","updated":"2007-11-06T09:52:41.626+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540487","id":"12540487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Can anyone tell why hudson couldn't apply the patch?\n\nHere's what I see when I attempt to apply this to trunk:\n{noformat}\n % patch -p 0 < ~/Desktop/HADOOP-1642-4.patch \npatching file src/test/org/apache/hadoop/mapred/jobcontrol/TestLocalJobControl.java\npatching file src/test/org/apache/hadoop/mapred/jobcontrol/TestJobControl.java\nHunk #1 FAILED at 18.\nHunk #2 succeeded at 47 (offset 3 lines).\nHunk #3 succeeded at 90 (offset 3 lines).\nHunk #4 succeeded at 106 (offset 3 lines).\nHunk #5 succeeded at 125 (offset 3 lines).\n1 out of 5 hunks FAILED -- saving rejects to file src/test/org/apache/hadoop/mapred/jobcontrol/TestJobControl.java.rej\npatching file src/test/org/apache/hadoop/mapred/jobcontrol/JobControlTestUtils.java\npatching file src/java/org/apache/hadoop/mapred/LocalJobRunner.java\nHunk #2 FAILED at 268.\n1 out of 2 hunks FAILED -- saving rejects to file src/java/org/apache/hadoop/mapred/LocalJobRunner.java.rej\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-06T17:12:59.996+0000","updated":"2007-11-06T17:12:59.996+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540497","id":"12540497","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"OK, I patched it using Eclipse and it worked. I just tried from command line and I get the same as you. Does it have to work from command line? If so I will look into it and try figure out what the issue is....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T17:35:07.168+0000","updated":"2007-11-06T17:35:07.168+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540504","id":"12540504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Have you recently updated your Eclipse workspace to the current trunk?\n\n> Does it have to work from command line?\n\nYes.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-06T17:53:36.783+0000","updated":"2007-11-06T17:53:36.783+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540517","id":"12540517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Attempting patch regeneration from trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T18:21:09.137+0000","updated":"2007-11-06T18:21:09.137+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540519","id":"12540519","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Same patch as before, but this time generated against a fresh checkout of the trunk. Works for me from the command line. All comments above for HADOOP-1642-3.patch still apply.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T18:22:46.430+0000","updated":"2007-11-06T18:22:46.430+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540527","id":"12540527","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Should work from command line now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T18:45:18.278+0000","updated":"2007-11-06T18:45:18.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12540562","id":"12540562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12369042/HADOOP-1642-5.patch\nagainst trunk revision r592324.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    javadoc +1.  The javadoc tool did not generate any warning messages.\n\n    javac +1.  The applied patch does not generate any new compiler warnings.\n\n    findbugs +1.  The patch does not introduce any new Findbugs warnings.\n\n    core tests +1.  The patch passed core unit tests.\n\n    contrib tests +1.  The patch passed contrib unit tests.\n\nTest results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1070/testReport/\nFindbugs warnings: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1070/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1070/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1070/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-06T20:54:34.421+0000","updated":"2007-11-06T20:54:34.421+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12541520","id":"12541520","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. I just checked out the 0.15 branch and I don't see the code mentioned in the patch commited there?\n\nAdrian, the original fix went into 0.16.0 (trunk), could you check if it is fixed there? If not, please open another issue and attach your current patch, else we can debate about reverting Doug's original patch from 0.16.0. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-10T06:59:56.056+0000","updated":"2007-11-10T06:59:56.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12541728","id":"12541728","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"body":"Yes, the original fix is indeed in the trunk, the patch I have submitted was also built against the trunk and requires Doug's original patch and should be applied in addition to it as it solves the second issue which arose after the original patch. Can someone please code review it and see if it is acceptable?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adrianw","name":"adrianw","key":"adrianw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Woodhead","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-12T10:08:01.078+0000","updated":"2007-11-12T10:08:01.078+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374268/comment/12544176","id":"12544176","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Resolving this and taking the issue forward in HADOOP-2245.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2007-11-21T07:13:36.516+0000","updated":"2007-11-21T07:13:36.516+0000"}],"maxResults":26,"total":26,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-1642/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0hxov:"}}