{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12360643","self":"https://issues.apache.org/jira/rest/api/2/issue/12360643","key":"HADOOP-895","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2007-05-17T10:26:11.293+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 23 23:01:01 UTC 2007","customfield_12310420":"80779","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_16240190837_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_2140974915","customfield_12312321":null,"resolutiondate":"2007-07-23T23:01:01.890+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-895/watchers","watchCount":1,"isWatching":false},"created":"2007-01-16T23:51:11.053+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312258","id":"12312258","description":"","name":"0.10.1","archived":false,"released":true,"releaseDate":"2007-01-10"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:51:57.608+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I'm running into a problem where a Map/Reduce job hangs in the reduce phase.  It happens on a simple program to dump the keys of a small set of SequenceFiles.  It can be reproduced as follows:\n\n1. Pull a vanilla hadoop-0.10.1 release and untar it\n2. Apply the attached patch\n3. Modify conf/hadoop-env.sh to have the correct JAVA_HOME\n4. Run the following script:\n\n#!/bin/sh\n\nant zvents\n./bin/hadoop namenode -format\nmkdir fs-hadoop/dfs/tmp\nmkdir fs-hadoop/dfs/data\nmkdir -p fs-hadoop/mapred/local\n./bin/start-all.sh\nsleep 5\n./bin/hadoop dfs -mkdir /heritrix\n./bin/hadoop dfs -mkdir /heritrix/crawls\n./bin/hadoop dfs -mkdir /heritrix/crawls/test-4-20070116061502956\n./bin/hadoop dfs -copyFromLocal data/IAH-20070116061532-00000-doug-judds-computer.local /heritrix/crawls/test-4-20070116061502956\n./bin/hadoop dfs -copyFromLocal data/IAH-20070116061539-00001-doug-judds-computer.local /heritrix/crawls/test-4-20070116061502956\n./bin/hadoop dfs -copyFromLocal data/IAH-20070116061539-00002-doug-judds-computer.local /heritrix/crawls/test-4-20070116061502956\n./bin/hadoop com.zvents.hadoop.DumpUrls /heritrix/crawls/test-4-20070116061502956 /foo\n\n- Doug\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12349049","id":"12349049","filename":"hangmod-patchfile","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"created":"2007-01-17T00:00:00.382+0000","size":81228,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12349049/hangmod-patchfile"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"106685","customfield_12312823":null,"summary":"Reduce hang on small set of SequenceFiles (reproducible)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"This happens both on a mac and on a Linux x86_64 machine.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360643/comment/12465677","id":"12465677","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"body":"I'm seeing the following messages (and Exception) in the tasktracker log file ...\n\n2007-01-17 00:03:36,489 INFO org.apache.hadoop.mapred.TaskTracker: task_0001_r_000000_0 0.0% reduce > copy >\n2007-01-17 00:03:41,493 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output(s)\n2007-01-17 00:03:41,494 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 known map output location(s); scheduling...\n2007-01-17 00:03:41,494 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Scheduled 0 of 3 known outputs (3 slow hosts and 0 dup hosts)\n2007-01-17 00:03:41,494 INFO org.apache.hadoop.mapred.TaskTracker: task_0001_r_000000_0 0.0% reduce > copy >\n2007-01-17 00:03:46,498 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output(s)\n2007-01-17 00:03:46,498 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 known map output location(s); scheduling...\n2007-01-17 00:03:46,498 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Scheduled 1 of 3 known outputs (0 slow hosts and 2 dup hosts)\n2007-01-17 00:03:46,498 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Copying task_0001_m_000001_0 output from motherlode000.zvents.com.\n2007-01-17 00:03:46,501 WARN org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 copy failed: task_0001_m_000001_0 from motherlode000.zvents.com\n2007-01-17 00:03:46,501 WARN org.apache.hadoop.mapred.TaskRunner: java.io.IOException: Server returned HTTP response code: 500 for URL: http://motherlode000.zvents.com:50060/mapOutput?map=task_000\\\n1_m_000001_0&reduce=0\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1174)\n        at org.apache.hadoop.mapred.MapOutputLocation.getFile(MapOutputLocation.java:121)\n        at org.apache.hadoop.mapred.ReduceTaskRunner$MapOutputCopier.copyOutput(ReduceTaskRunner.java:236)\n        at org.apache.hadoop.mapred.ReduceTaskRunner$MapOutputCopier.run(ReduceTaskRunner.java:199)\n\n2007-01-17 00:03:46,501 WARN org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 adding host motherlode000.zvents.com to penalty box, next contact in 278 seconds\n2007-01-17 00:03:46,501 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output(s)\n2007-01-17 00:03:46,501 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output location(s)\n2007-01-17 00:03:46,502 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 map outputs from jobtracker\n2007-01-17 00:03:46,502 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 known map output location(s); scheduling...\n2007-01-17 00:03:46,502 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Scheduled 0 of 3 known outputs (3 slow hosts and 0 dup hosts)\n2007-01-17 00:03:46,502 INFO org.apache.hadoop.mapred.TaskTracker: task_0001_r_000000_0 0.0% reduce > copy >\n2007-01-17 00:03:51,506 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output(s)\n2007-01-17 00:03:51,506 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 known map output location(s); scheduling...\n2007-01-17 00:03:51,506 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Scheduled 0 of 3 known outputs (3 slow hosts and 0 dup hosts)\n2007-01-17 00:03:51,506 INFO org.apache.hadoop.mapred.TaskTracker: task_0001_r_000000_0 0.0% reduce > copy >\n2007-01-17 00:03:56,510 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output(s)\n2007-01-17 00:03:56,510 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 known map output location(s); scheduling...\n2007-01-17 00:03:56,510 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Scheduled 0 of 3 known outputs (3 slow hosts and 0 dup hosts)\n2007-01-17 00:03:56,510 INFO org.apache.hadoop.mapred.TaskTracker: task_0001_r_000000_0 0.0% reduce > copy >\n2007-01-17 00:04:01,514 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Need 3 map output(s)\n2007-01-17 00:04:01,514 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Got 3 known map output location(s); scheduling...\n2007-01-17 00:04:01,514 INFO org.apache.hadoop.mapred.TaskRunner: task_0001_r_000000_0 Scheduled 0 of 3 known outputs (3 slow hosts and 0 dup hosts)\n2007-01-17 00:04:01,514 INFO org.apache.hadoop.mapred.TaskTracker: task_0001_r_000000_0 0.0% reduce > copy >\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"created":"2007-01-18T08:05:59.772+0000","updated":"2007-01-18T08:05:59.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360643/comment/12465686","id":"12465686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"body":"This test program works fine on 0.9.2.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nuggetwheat","name":"nuggetwheat","key":"nuggetwheat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Judd","active":true,"timeZone":"Etc/UTC"},"created":"2007-01-18T08:41:10.733+0000","updated":"2007-01-18T08:41:10.733+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360643/comment/12496523","id":"12496523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Did you get a chance to test your app with the newer releases? Does this problem still exist?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2007-05-17T10:26:11.293+0000","updated":"2007-05-17T10:26:11.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360643/comment/12511797","id":"12511797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Doug, do you still see this with recent versions of hadoop?\n\nAlso HADOOP-1158 addresses parts of this problem...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-11T17:06:54.219+0000","updated":"2007-07-11T17:06:54.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360643/comment/12514809","id":"12514809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sameerp","name":"sameerp","key":"sameerp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34061","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34061","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34061","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34061"},"displayName":"Sameer Paranjpye","active":true,"timeZone":"America/Los_Angeles"},"body":"Doug, are you still seeing this? If so, I'll reopen the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sameerp","name":"sameerp","key":"sameerp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34061","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34061","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34061","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34061"},"displayName":"Sameer Paranjpye","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-23T23:01:01.877+0000","updated":"2007-07-23T23:01:01.877+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-895/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0im5z:"}}