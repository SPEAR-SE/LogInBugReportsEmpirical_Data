{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12666701","self":"https://issues.apache.org/jira/rest/api/2/issue/12666701","key":"HADOOP-9928","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2014-03-20T15:03:45.213+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Mar 20 20:03:19 UTC 2014","customfield_12310420":"346639","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-9928/watchers","watchCount":5,"isWatching":false},"created":"2013-09-03T15:27:42.195+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324030","id":"12324030","description":"2.1.0-beta release","name":"2.1.0-beta","archived":false,"released":true,"releaseDate":"2013-08-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324147","id":"12324147","description":"maintenance release on branch-1.2","name":"1.2.1","archived":false,"released":true,"releaseDate":"2013-08-01"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-03-20T20:03:19.888+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"I am trying to verify the checksums of tarballs I downloaded and it seems that the way, those are produced is all but useful. \n\nAlmost all other open source projects I know, create a .md5, .sha1 and .asc files, that can easily be used with tools like md5sum, sha1sum or gpg. \n\nThe hadoop downloads provide an mds file, for which there seems to be no documentation on how to use it.\n\nHere are some challenges with that format:\n\n0. all sorts of checksums are in the same file\n1. The MD5 sum is all upper case (all of them are, to be precise)\n2. The MD5 sum contains whitespace\n\nFor the three above I came up with this interesting construct:\n\n{code}\nmd5sum --check  <(grep \"MD5 = \" some-file.mds | sed -e \"s/MD5 = //g;s/ //g\" | awk -F: '{print tolower($2), \"\", $1}')\n{code}\nThat would work, if there wouldn't be the next problem:\n\n3. The file format wraps lines around after 80 chars (see here for instance: http://apache.openmirror.de/hadoop/core/beta/hadoop-2.1.0-beta-src.tar.gz.mds)\n\nI really do not see, how this format is useful to anyone.\n\n4. Next to all of that, there are not gpg signatures. How can I verify that the mirror, I downloaded the tarball from, was not compromised?\n\nIt would be very helpful, if you could provide checksums and signatures the same way, that other projects use or at least explain how to use the mds files with standard unix tools.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"346940","customfield_12312823":null,"summary":"provide md5, sha1 and .asc files, that are usable","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fs111","name":"fs111","key":"fs111","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fs111&avatarId=17244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fs111&avatarId=17244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fs111&avatarId=17244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fs111&avatarId=17244"},"displayName":"André Kelpe","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fs111","name":"fs111","key":"fs111","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fs111&avatarId=17244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fs111&avatarId=17244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fs111&avatarId=17244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fs111&avatarId=17244"},"displayName":"André Kelpe","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12666701/comment/13941812","id":"13941812","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gabriel.reid","name":"gabriel.reid","key":"gabriel.reid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gabriel.reid&avatarId=15044","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gabriel.reid&avatarId=15044","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gabriel.reid&avatarId=15044","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gabriel.reid&avatarId=15044"},"displayName":"Gabriel Reid","active":true,"timeZone":"Europe/Berlin"},"body":"Just ran into this on another project. The creation of the mds file is documented in the [release instructions|http://wiki.apache.org/hadoop/HowToRelease], but by my read of the [ASF release signing documentation|http://www.apache.org/dev/release-signing.html#basic-facts], a file with suffix \".md5\" must be present with each released artifact.\n\nI'm also definitely in favour of having easily-verifiable artifacts via md5sum, for as long as md5sums are considered a necessary release artifact.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gabriel.reid","name":"gabriel.reid","key":"gabriel.reid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gabriel.reid&avatarId=15044","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gabriel.reid&avatarId=15044","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gabriel.reid&avatarId=15044","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gabriel.reid&avatarId=15044"},"displayName":"Gabriel Reid","active":true,"timeZone":"Europe/Berlin"},"created":"2014-03-20T15:03:45.213+0000","updated":"2014-03-20T15:03:45.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12666701/comment/13942210","id":"13942210","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fs111","name":"fs111","key":"fs111","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fs111&avatarId=17244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fs111&avatarId=17244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fs111&avatarId=17244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fs111&avatarId=17244"},"displayName":"André Kelpe","active":true,"timeZone":"Europe/Berlin"},"body":"It turns out, that the way hadoop (and and also hbase) do checksums is not what the ASF wants. The checksums are not supposed to be distributed via the mirrors and mds files are not the format required:\n\nSee here: https://issues.apache.org/jira/browse/HBASE-9690 and here https://issues.apache.org/jira/browse/INFRA-6848","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fs111","name":"fs111","key":"fs111","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fs111&avatarId=17244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fs111&avatarId=17244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fs111&avatarId=17244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fs111&avatarId=17244"},"displayName":"André Kelpe","active":true,"timeZone":"Europe/Berlin"},"created":"2014-03-20T20:03:19.888+0000","updated":"2014-03-20T20:03:19.888+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-9928/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1nrvz:"}}