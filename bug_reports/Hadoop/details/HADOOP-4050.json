{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12403401","self":"https://issues.apache.org/jira/rest/api/2/issue/12403401","key":"HADOOP-4050","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313211","id":"12313211","description":"","name":"0.19.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-08-31T16:29:33.317+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Sep 06 13:23:50 UTC 2008","customfield_12310420":"126290","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_427045522_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_6745980565","customfield_12312321":null,"resolutiondate":"2008-09-03T21:45:35.658+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4050/watchers","watchCount":5,"isWatching":false},"created":"2008-08-29T23:08:10.136+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12321511","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12321511","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12400080","key":"HADOOP-3746","self":"https://issues.apache.org/jira/rest/api/2/issue/12400080","fields":{"summary":"A fair sharing job scheduler","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":21141}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:41:04.973+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"{noformat}\nTestsuite: org.apache.hadoop.mapred.TestFairScheduler\nTests run: 13, Failures: 0, Errors: 13, Time elapsed: 0.042 sec\n\nTestcase: testAllocationFileParsing took 0.004 sec\n        Caused an ERROR\n/home/tsz/hadoop/latest/build/contrib/fairscheduler/test/data/./test-pools (No such file or directory)\njava.io.FileNotFoundException: /home/tsz/hadoop/latest/build/contrib/fairscheduler/test/data/./test-pools (No such file or directory)\n        at java.io.FileOutputStream.open(Native Method)\n        at java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n        at java.io.FileOutputStream.<init>(FileOutputStream.java:70)\n        at java.io.FileWriter.<init>(FileWriter.java:46)\n        at org.apache.hadoop.mapred.TestFairScheduler.setUp(TestFairScheduler.java:215)\n\n...\n{noformat}\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12389384","id":"12389384","filename":"4050_20080902debug.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-02T23:17:17.181+0000","size":1312,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12389384/4050_20080902debug.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12389361","id":"12389361","filename":"HADOOP-4050.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T18:39:49.179+0000","size":754,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12389361/HADOOP-4050.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12389385","id":"12389385","filename":"HADOOP-4050-v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T23:29:53.810+0000","size":1709,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12389385/HADOOP-4050-v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12389438","id":"12389438","filename":"HADOOP-4050-v3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-03T15:55:42.943+0000","size":974,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12389438/HADOOP-4050-v3.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"104593","customfield_12312823":null,"summary":"TestFairScheduler failed on Linux","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627144","id":"12627144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"The test works fine on Windows.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-08-29T23:08:57.935+0000","updated":"2008-08-29T23:08:57.935+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627316","id":"12627316","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Matei, I assume it makes sense to assign this to you. Are you going to be able to address it this week?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-08-31T16:29:33.317+0000","updated":"2008-08-31T16:29:33.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627321","id":"12627321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"This is odd because TestFairScheduler worked on Linux both on my machine and on Hudson (check out the last Hudson reply for HADOOP-3746). I think there might be a permission problem or a JRE bug such as this one: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6182812. Can you tell me what version of Java you have, what command you used to run the test, whether the directory /home/tsz/hadoop/latest/build/contrib/fairscheduler/test/data exists, and what are its permissions? If you look at the code for the test, it first calls mkdirs on the test's working directory and then tries to write the file; so since the mkdirs didn't fail, it looks like the directory was created or already existed, but it failed to create the file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-31T17:05:50.206+0000","updated":"2008-08-31T17:05:50.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627328","id":"12627328","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"By the way, you may also want to try changing the path in ALLOC_FILE from ./test-pools to just test-pools. This is the biggest difference I've seen between my test and others that use data files. I wouldn't expect this to be a problem, but I see some Java bugs such as http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4879985 which could potentially be related.\n\nI'm also a little confused as to how the test/data directory should be created. I thought that the build-contrib.xml ant file simply set the test's working dir to the data directory, but did not actually create it. However, for streaming for example, the data directory does seem to be created without the tests explicitly mkdir'ing it. Am I missing something in my build file?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-08-31T17:47:52.793+0000","updated":"2008-08-31T17:47:52.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627437","id":"12627437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"It looks like a path concatenation problem to me; by the time the Java file APIs see it, the path shouldn't contain the /./ sequence...things should be resolved at this point already.Either its a bad configuration file or the code to take path+subdir needs to handle relative references","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-01T11:11:21.003+0000","updated":"2008-09-01T11:11:21.003+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627501","id":"12627501","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"Steve - the path is obtained by calling new File(\"./test-pools\").getAbsolutePath(), rather than any concatenation done in the code, so it's a path returned by Java's own API. We can try doing just new File(\"test-pools\").getAbsolutePath(), but I don't have any information about the environment to be able to reproduce this or to be sure that it's not due to permissions or other problems.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-01T16:32:13.231+0000","updated":"2008-09-01T16:32:13.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627619","id":"12627619","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"The java apis are a bit vague about handing a relative path to File(\"./test-pools\"); its the same as File(null,,\"./test-pools\"), which again is pretty ambigious. \n\nIt's better to have a base directory to work with, but you dont want to work relative to the processes 'current' dir as in IDEs or complex builds, that is rarely where you expect it to be.\n\nOne option here is to add more diagnostics to the test case; check the file exists, that its parent dir exists, etc.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T10:00:34.018+0000","updated":"2008-09-02T10:00:34.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627774","id":"12627774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"Here's a patch that removes the dot in case you want to try that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T18:39:49.217+0000","updated":"2008-09-02T18:39:49.217+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627840","id":"12627840","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"- The test still fails after the patch.  Below is more details\n{noformat}\n$ant clean\n...\nBUILD SUCCESSFUL\nTotal time: 9 seconds\n$ant test -Dtestcase=TestFairScheduler\n...\ntest:\n     [echo] contrib: fairscheduler\n   [delete] Deleting directory /home/tsz/hadoop/testing/build/contrib/fairscheduler/test/logs\n    [mkdir] Created dir: /home/tsz/hadoop/testing/build/contrib/fairscheduler/test/logs\n    [junit] Running org.apache.hadoop.mapred.TestFairScheduler\n    [junit] Tests run: 13, Failures: 0, Errors: 13, Time elapsed: 0.03 sec\n    [junit] Test org.apache.hadoop.mapred.TestFairScheduler FAILED\n\nBUILD FAILED\n/home/tsz/hadoop/testing/build.xml:662: The following error occurred while executing this line:\n/home/tsz/hadoop/testing/src/contrib/build.xml:48: The following error occurred while executing this line:\n/home/tsz/hadoop/testing/src/contrib/build-contrib.xml:224: Tests failed!\n\nTotal time: 57 seconds\n$head build/contrib/fairscheduler/test/TEST-org.apache.hadoop.mapred.TestFairScheduler.txt\n \nTestsuite: org.apache.hadoop.mapred.TestFairScheduler\nTests run: 13, Failures: 0, Errors: 13, Time elapsed: 0.03 sec\n\nTestcase: testAllocationFileParsing took 0.004 sec\n        Caused an ERROR\n/home/tsz/hadoop/testing/build/contrib/fairscheduler/test/data/test-pools (No such file or directory)\njava.io.FileNotFoundException: /home/tsz/hadoop/testing/build/contrib/fairscheduler/test/data/test-pools (No such file or directory)\n        at java.io.FileOutputStream.open(Native Method)\n        at java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n        at java.io.FileOutputStream.<init>(FileOutputStream.java:70)\n$ ls build/contrib/fairscheduler/test/data\nls: /home/tsz/hadoop/testing/build/contrib/fairscheduler/test/data: No such file or directory\n$ ls -ld build/contrib/fairscheduler/test\ndrwxr-xr-x  4 tsz users 4096 Sep  2 22:45 build/contrib/fairscheduler/test\n$ ls -l build/contrib/fairscheduler/test\ntotal 16\n-rw-r--r--  1 tsz users 7959 Sep  2 22:45 TEST-org.apache.hadoop.mapred.TestFairScheduler.txt\ndrwxr-xr-x  2 tsz users 4096 Sep  2 22:45 logs\ndrwxr-xr-x  3 tsz users 4096 Sep  2 22:45 org\n\n{noformat}\n\n- Here is more information about my envirnoment:\n{noformat}\n$uname -a\nLinux nodename 2.6.9-55.ELsmp #1 SMP Fri Apr 20 16:36:54 EDT 2007 x86_64 x86_64 x86_64 GNU/Linux\n$ java -version\njava version \"1.6.0\"\nJava(TM) SE Runtime Environment (build 1.6.0-b105)\nJava HotSpot(TM) Server VM (build 1.6.0-b105, mixed mode)\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-02T22:50:24.764+0000","updated":"2008-09-02T22:50:24.764+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627844","id":"12627844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"BTW, I think the problem might be in\n{noformat}\n  final static String TEST_DIR = new File(\".\").getAbsolutePath();\n{noformat}\nIn general, we should not use \".\" or current directory for testing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-02T23:05:59.375+0000","updated":"2008-09-02T23:05:59.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627847","id":"12627847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"With 4050_20080902debug.patch, I saw\nb=false\nTEST_DIR=/home/tsz/hadoop/testing/build/contrib/fairscheduler/test/data/.\n\nSo the problem is that java.io.File.mkdir() returned false.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-02T23:17:17.219+0000","updated":"2008-09-02T23:17:17.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627848","id":"12627848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"You are right, calling mkdir on \".\" is strange, and the only reason I did it is because JUnit does not create the test/data directory for me automatically. Since you have a different Linux kernel from mine, this is probably why it's failing for you and not for me. I've looked carefully through the build.xml files for streaming, contrib and Hadoop itself, but I can't figure out where exactly streaming gets its data directory to be mkdir'ed. Maybe it does do it in Java after all. I will create a patch for build-contrib.xml that makes the data directory at the same time it makes logs, etc to see if that fixes it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T23:24:35.689+0000","updated":"2008-09-02T23:24:35.689+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627850","id":"12627850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"Here's a patch that calls the mkdir in the build file, see how this works.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T23:29:53.849+0000","updated":"2008-09-02T23:29:53.849+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627851","id":"12627851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"What we do for hadoop core is setting up a java system property in build.xml and then get it in the tests\n- build.xml\n{code}\n  <property name=\"test.build.data\" value=\"${test.build.dir}/data\"/>\n{code}\n- TestLocalFileSystem.java\n{code}\nprivate static String TEST_ROOT_DIR\n    = System.getProperty(\"test.build.data\",\"build/test/data/work-dir/localfs\");\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-02T23:33:26.220+0000","updated":"2008-09-02T23:33:26.220+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627852","id":"12627852","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"That makes sense.. Do you want me to use that and make the data directory myself then, or is it better to leave it in the Ant file because the Ant file sets the process's working directory to that directory anyway? If you wanted to have the Java code create the directory, it would just require replacing the TEST_DIR = new File(\".\").getAbsolutePath() in my first patch with TEST_DIR = new File(System.getProperty(\"test.build.data\",\"build/contrib/streaming/test/data\")).getAbsolutePath().","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-02T23:36:50.271+0000","updated":"2008-09-02T23:36:50.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12627957","id":"12627957","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"JUnit tests run under an IDE don't get their CWD set to the build directory; best to use the test.build.data trick as described, and call .mkdirs() on it, in case the entire tree is missing.  \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-03T10:36:32.444+0000","updated":"2008-09-03T10:36:32.444+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12628019","id":"12628019","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"We noticed this issue also when we moved some classes into contrib for the scheduler in HADOOP-3445. Actually, I think the data dir comes from build-contrib.xml, as per this line:\n{code}\n<sysproperty key=\"test.build.data\" value=\"${build.test}/data\"/>\n{code}\n\nAlso, there are a few test classes in streaming that are creating this directory. For e.g. UtilTest.redirectIfAntJunit calls mkdirs on the directory set as the system property as mentioned above, and it is called from TestStreamingExitStatus.\n\nSince a lot of contrib tests seem to need this, should we just create it in build-contrib.xml which is used by all contrib build files mostly ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-09-03T14:58:16.505+0000","updated":"2008-09-03T14:58:16.505+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12628031","id":"12628031","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"body":"Good point about running without ant. Here's a patch that uses the test.build.data environment variable.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=matei%40eecs.berkeley.edu","name":"matei@eecs.berkeley.edu","key":"matei@eecs.berkeley.edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matei Zaharia","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-03T15:55:42.980+0000","updated":"2008-09-03T15:55:42.980+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12628069","id":"12628069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 patch looks good.  I tested it in my Linux machine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-03T17:44:41.810+0000","updated":"2008-09-03T17:44:41.810+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12628157","id":"12628157","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this. Thanks, Matei!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-09-03T21:45:35.638+0000","updated":"2008-09-03T21:45:35.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12403401/comment/12628874","id":"12628874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #595 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/595/])","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-09-06T13:23:50.230+0000","updated":"2008-09-06T13:23:50.230+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4050/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i993:"}}