{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12780957","self":"https://issues.apache.org/jira/rest/api/2/issue/12780957","key":"HADOOP-11764","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2015-03-12T14:56:41.336+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 11 17:18:40 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_12151294272_*|*_4_*:*_1_*:*_191821_*|*_5_*:*_2_*:*_13899381","customfield_12312321":null,"resolutiondate":"2015-07-29T14:47:35.382+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11764/watchers","watchCount":12,"isWatching":false},"created":"2015-03-10T19:31:10.004+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-11T17:18:40.148+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"/tmp can be  required to be noexec in many environments. This causes a problem when  nodemanager tries to load the leveldbjni library which can get unpacked and executed from /tmp.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329058","id":"12329058","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12704109","id":"12704109","filename":"YARN-3331.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-12T07:11:04.056+0000","size":745,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12704109/YARN-3331.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12705517","id":"12705517","filename":"YARN-3331.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-19T05:46:33.520+0000","size":1971,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12705517/YARN-3331.002.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hadoop should have the option to use directory other than tmp for extracting and loading leveldbjni","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14355557","id":"14355557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"As per http://grepcode.com/file/repo1.maven.org/maven2/org.fusesource.leveldbjni/leveldbjni-all/1.8/org/fusesource/hawtjni/runtime/Library.java if we define the property library.${name}.path we can avoid it using the temporary directory. \n{noformat}\nThe file extraction is attempted until it succeeds in the following directories.\n1. The directory pointed to by the \"library.${name}.path\" System property (if set)\n2. a temporary directory (uses the \"java.io.tmpdir\" System property)\n{noformat}\n\nSo we can fix this by setting -Dlibrary.leveldbjni.path=$(pwd) in the nodemanager options.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-10T19:41:04.333+0000","updated":"2015-03-10T19:41:04.333+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14358193","id":"14358193","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"One way to add the variable. [~aw] appreciate your review for the best way to do this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-12T07:11:04.061+0000","updated":"2015-03-12T07:11:04.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14358768","id":"14358768","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"We really can't read this in via the core-site.xml file?  I could have sworn we populated the system properties with the content of the xml files on startup.  It's really less than ideal to set this up on the command line as it is already quite long and there is a risk that we'll overflow the buffer, preventing things from running.\n\nThat issue aside:\n\na) We need to avoid using daemon-specific and/or project-specific environment variables.  This is the #1 reason why the branch-2 shell code is just utter chaos.  This should be HADOOP_ something.\n\nb) Additionally, this should be set for everything, not just the nodemanager in order to keep this consistent if/when other stuff uses this functionality. The add_param should probably happen in finalize_hadoop_opts\n\nc) The default should be set with an actual value in hadoop_basic_init.  $(pwd) is a *terrible* default value for this, because there is no guarantee what the pwd actually is.\n\nd) There needs to be a stanza added to hadoop-env.sh that actually explains what your new environment variable does, how to set it, etc.\n\nAll/most of this is covered on http://wiki.apache.org/hadoop/UnixShellScriptProgrammingGuide .  I'm now going to go check to make sure I didn't miss anything on that page and add it if I did. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-03-12T14:56:41.336+0000","updated":"2015-03-12T14:56:41.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14368549","id":"14368549","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"Addressed feedback. Thanks [~aw] for the very specific feedback","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-19T05:46:33.526+0000","updated":"2015-03-19T05:46:33.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14369450","id":"14369450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"patch looks good, but have we verified we can't set this in core-site.xml yet?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-03-19T14:52:18.717+0000","updated":"2015-03-19T14:52:18.717+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14378556","id":"14378556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"I am not sure which value in core-site would fix this after going through the core-default documentation. The only way i can think about is using the appropriate environment variable for eg setting the YARN_NODEMANAGER_OPTS value for Nodemanager ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-24T20:39:42.797+0000","updated":"2015-03-24T20:39:42.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14383078","id":"14383078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. I am not sure which value in core-site would fix this after going through the core-default documentation.\n\nI'm afraid we can't set it in config file, because config file is read by the daemon, but we need to start the daemon with this opt.\n\nAnd IMHO, {{-Dlibrary.leveldbjni.path}} alone cannot fix the problem. If the temporal native lib is redirected to another dir, we also needs to add that dir to {{JAVA_LIBRARY_PATH}}. Otherwise, we may still end up with native lib not found.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-27T00:40:18.636+0000","updated":"2015-03-27T00:40:18.636+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14384622","id":"14384622","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"Update the jira a bit, as the issue doesn't limit to NM only. All components that are using leveldb for storage will be affected.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-27T20:52:47.102+0000","updated":"2015-03-27T20:52:47.102+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14384735","id":"14384735","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"bq If the temporal native lib is redirected to another dir, we also needs to add that dir to JAVA_LIBRARY_PATH. Otherwise, we may still end up with native lib not found.\nHi Zhijie, I am guessing that this is not something needs to be done in this jira which tries to address the /tmp noexec problem, right?. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-27T21:39:34.347+0000","updated":"2015-03-27T21:39:34.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14384816","id":"14384816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"bq. I'm afraid we can't set it in config file, because config file is read by the daemon, but we need to start the daemon with this opt.\n\nIt just needs to be set as a system property prior to invoking the class.  That's all putting it on the command line does, so why can't we do this in Configuration?\n\nbq.  If the temporal native lib is redirected to another dir, we also needs to add that dir to JAVA_LIBRARY_PATH.\n\nThis is sounding more and more like a complete mess, with no real thought as to how admins are supposed to deal with it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-03-27T22:33:59.396+0000","updated":"2015-03-27T22:34:10.366+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14389035","id":"14389035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. That's all putting it on the command line does, so why can't we do this in Configuration?\n[~aw] The solution demands writing to the environment and the proposed solution does that. Isnt that better than adding code in each daemon to read from the configuration and set it to the environment? \n\nbq. If the temporal native lib is redirected to another dir, we also needs to add that dir to JAVA_LIBRARY_PATH.\n[~zjshen] This is an unrelated problem to the one this jira is solving. The current jira is not solving native lib not found. Rather the jar cannot be extracted and executed because of noexec permissions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-31T18:07:31.056+0000","updated":"2015-03-31T18:07:31.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14389429","id":"14389429","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. It just needs to be set as a system property prior to invoking the class. That's all putting it on the command line does, so why can't we do this in Configuration?\nbq. Isnt that better than adding code in each daemon to read from the configuration and set it to the environment?\n\nThat sounds true. However,  I agree with [~adhoot] that it's better to setup env vars instead of modifying each daemon to set system property programatically.\n\nbq.  This is an unrelated problem to the one this jira is solving. The current jira is not solving native lib not found. Rather the jar cannot be extracted and executed because of noexec permissions.\n\nThe reason is that just moving tmp file generated for leveldbjni out of /tmp is not going to fix the problem. Instead of {{Operation not permitted}}, we will encounter {{not found}} problem, and finally the native code is still not linked if {{JAVA_LIBRARY_PATH}} doesn't include {{library.leveldbjni.path}} (by default it doesn't library.leveldbjni.path is some customized path).\n\nI don't think it's a complete solution if now we have BUG A, and after we fix it, we have BUG B. Therefore, my proposal is if {{HADOOP_LEVELDBJNI_DIR}} is specified, it will set to {{library.leveldbjni.path}} as well as be added to {{JAVA_LIBRARY_PATH}}. Thoughts?\n\nbq. This is sounding more and more like a complete mess, \n\nWould you mind elaborating what is the complete mess? The admin just needs to set HADOOP_LEVELDBJNI_DIR to somewhere else than /tmp if /tmp is mounted as noexec. If HADOOP_LEVELDBJNI_DIR is not set, it will just work as what it is now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-31T21:16:01.861+0000","updated":"2015-03-31T21:16:01.861+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14389438","id":"14389438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"bq. However, I agree with Anubhav Dhoot that it's better to setup env vars instead of modifying each daemon to set system property programatically.\n\n... except, you don't have to.  All of the daemons run through the Configuration class (and probably other classes as well).  It could get set then, *if it isn't already*.\n\nbq. Would you mind elaborating what is the complete mess? The admin just needs to set HADOOP_LEVELDBJNI_DIR to somewhere else than /tmp if /tmp is mounted as noexec. If HADOOP_LEVELDBJNI_DIR is not set, it will just work as what it is now.\n\nI'm specifically referring to:\n\nbq. Therefore, my proposal is if HADOOP_LEVELDBJNI_DIR is specified, it will set to library.leveldbjni.path as well as be added to JAVA_LIBRARY_PATH.\n\nSo not only do we have an extra -D parameter, -Djava.library.path also has the exact same content which increases the line length even more.  This will almost certainly break some users at some point in time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-03-31T21:22:11.721+0000","updated":"2015-03-31T21:22:40.452+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14389517","id":"14389517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. All of the daemons run through the Configuration class (and probably other classes as well). It could get set then, if it isn't already.\n\nI'm not sure it's a good idea. Configuration is used by a couple of other projects in Hadoop ecosystem. It's likely to be a more risky change and expose something unnecessary to other projects.\n\nbq. So not only do we have an extra -D parameter, -Djava.library.path also has the exact same content which increases the line length even more. This will almost certainly break some users at some point in time.\n\nI'm not sure if I understand your point here, but \"increasing line length\" doesn't sound like something that will almost certainly break some users at some point in time, unless those some users are very special to be CLI length sensitive. One step back, JAVA_LIBRARY_PATH is defined by Hadoop to let users to customize JNI lib path, and it's not something that brings scaring breakage. My proposal is to relieve users from manually adding leveldb jni lib path into JAVA_LIBRARY_PATH, which they anyway have to do to make leveldb work in Hadoop.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-31T22:17:24.206+0000","updated":"2015-03-31T22:17:24.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14389672","id":"14389672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"bq. I'm not sure it's a good idea. Configuration is used by a couple of other projects in Hadoop ecosystem. It's likely to be a more risky change and expose something unnecessary to other projects.\n\nFine. What about the service code?  There are lots and lots of options here...\n\nBut Configuration should probably populate the system properties when it reads in configs though....\n\nbq. I'm not sure if I understand your point here, but \"increasing line length\" doesn't sound like something that will almost certainly break some users at some point in time, unless those some users are very special to be CLI length sensitive.\n\nYou've just described every version of Unix ever. It's called ARG_MAX and it becomes a real problem at extremely long lengths.  It's something we need to be vigilant about to make sure it doesn't grow to big.  With shell profiles, it's going to get even bigger as 3rd parties add more content...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-03-31T23:39:13.931+0000","updated":"2015-03-31T23:39:13.931+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14389755","id":"14389755","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq.  There are lots and lots of options here...\n\nYeah, among the lots of options, isn't it the most decent way to fix the env issue in the scope where we work on evn?\n\nbq.  it becomes a real problem at extremely long lengths.\n\nIn most cases, we don't need to specify JAVA_LIBRARY_PATH. leveldb works fine with the default path. In the case that is described above and that we need to specify JAVA_LIBRARY_PATH to point to leveldb jni libary dir, the reasonable path length should usually not exceed the arg max length. In addition, AFAIK, ARG_MAX is not a small number (e.g., 2621440). JAVA_LIBRARY_PATH alone is not that easy to exceed it, but it's true that there will be the extreme cases. \n\nHowever, the point in my previous comment is that whether JAVA_LIBRARY_PATH is set by users manually or automatically by the script, it has to be set to fix leveldb JNI issue. That said, automatic setting JAVA_LIBRARY_PATH is *NOT* generating longer args than users' manual setting. Your argument sounds more like agains using JAVA_LIBRARY_PATH. If you have concern that JAVA_LIBRARY_PATH will break ARG_MAX, please feel free to start a separate thread to discuss it. This jira is focusing on fixing leveldb jni.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-01T00:29:11.056+0000","updated":"2015-04-01T00:29:11.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14392795","id":"14392795","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"I'm starting to think more and more that using leveldb is a HUGE mistake.\n\na) There's this complete nonsense about requiring all this pre-configuration.\n\nb) What prevents a user from inserting a malicious .so into this shared directory?  Given that we have to default some where like /tmp or even hadoop.tmp.dir, this is a massive security hole that directly impacts the running daemons.\n\nc) HADOOP-11790 means we've effectively broken the build for probably non-linux, non-x86.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-04-02T14:57:51.803+0000","updated":"2015-04-02T14:57:51.803+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14495167","id":"14495167","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. the native code is still not linked if JAVA_LIBRARY_PATH doesn't include library.leveldbjni.path (by default it doesn't library.leveldbjni.path is some customized path).\n[~zjshen] The custom library.leveldbjni.path does not need to be added to JAVA_LIBRARY_PATH.\nCopied below by sample test where i created a new directory and set only the HADOOP_LEVELDBJNI_DIR to point to it\n\nmkdir /testleveldb\nexport HADOOP_LEVELDBJNI_DIR=/testleveldb\n\n/usr/java/default/bin/java -Dproc_nodemanager -Dhadoop.log.dir=/home/adhoot/src/mr2-pseudo-dist/hadoop-3.0.0-SNAPSHOT/logs -Dyarn.log.dir=/home/adhoot/src/mr2-pseudo-dist/hadoop-3.0.0-SNAPSHOT/logs -Dhadoop.log.file=yarn.log -Dyarn.log.file=yarn.log -Dyarn.home.dir= -Dyarn.id.str= -Dhadoop.root.logger=INFO,console -Dyarn.root.logger=INFO,console -Dyarn.policy.file=hadoop-policy.xml -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8001 -Dhadoop.home.dir=/home/adhoot/src/mr2-pseudo-dist/hadoop-3.0.0-SNAPSHOT -Dhadoop.id.str=root -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender -Dlibrary.leveldbjni.path=/testleveldb org.apache.hadoop.yarn.server.nodemanager.NodeManager\n\n[root@anuonebox ah]# dir /testleveldb/\nlibleveldbjni-64-1-219738139685490287.8","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-14T23:49:40.357+0000","updated":"2015-04-14T23:49:40.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14495192","id":"14495192","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"[~adhoot], thanks for sharing the example. Does it mean if \"library.leveldbjni.path\" is defined, leveldb will programatically not only replace \"java.io.tmpdir\" with it, but also add it to \"java.class.path\"? I used to have some experiment: if I change \"java.io.tmpdir\" only to dir_abc, but not add it to \"java.class.path\" manually, JNI lib loading is still wrong.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-15T00:18:19.526+0000","updated":"2015-04-15T00:18:19.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14495485","id":"14495485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"I think this just means the code first tries using the custom folder instead of /tmp for extracting and loading the library from the jar as per the code http://grepcode.com/file/repo1.maven.org/maven2/org.fusesource.leveldbjni/leveldbjni-all/1.8/org/fusesource/hawtjni/runtime/Library.java#216\nIt does not need to change java.io.tmpdir or anything else.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-15T00:56:01.381+0000","updated":"2015-04-15T00:56:01.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14511778","id":"14511778","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"[~zjshen] does this seem ok? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-24T21:24:28.415+0000","updated":"2015-04-24T21:24:28.415+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14511842","id":"14511842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"[~adhoot], sorry for late reply. I tried the patch. It worked fine locally. But would you mind my take one or two more days to see if I can reproduce may aforementioned issue before?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-24T21:47:55.249+0000","updated":"2015-04-24T21:47:55.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14512494","id":"14512494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"[~vinodkv], this is the JIRA we were discussing at Hadoop Summit.  Please take a look at it.\n\n... and just so it's official, I'm very much a (binding) -1 on pushing this into an environment variable until it can proven otherwise that this can't be handled via *-site.xml.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-04-25T13:49:04.276+0000","updated":"2015-04-25T13:49:04.276+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14512695","id":"14512695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. ... until it can proven otherwise that this can't be handled via *-site.xml.\nThis can also mean *-env.sh.\n\n[~adhoot] / [~zjshen], it seems weird that we have an option just for leveldb. In the past, we used hadoop.tmp.dir for stuff like this. And if needed, we could also use HADOOP_OPTS/ HADOOP_YARN_OPTS etc at each site. Why wouldn't that work?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-25T20:24:33.910+0000","updated":"2015-04-25T20:24:33.910+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14514366","id":"14514366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"I used to run into a scenario where I need to change both HADOOP_OPTS and JAVA_LIBRARY_PATH to point the same dir . Having HADOOP_LEVELDBJNI_DIR defined and applied to both evn vars in *-evn.sh is quicker way for op. However, after it, I couldn't reproduce it, and it seems that changing HADOOP_OPTS only is enough fix the issue. Given only one evn var needs to be changed, defining HADOOP_LEVELDBJNI_DIR is no obviously cheaper than customizing HADOOP_OPTS. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-27T16:12:44.106+0000","updated":"2015-04-27T16:12:44.106+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14515869","id":"14515869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. In the past, we used hadoop.tmp.dir for stuff like this.\nThis use case of a tmpr is different than normal use cases of tmp directory as it is executing code from there instead of treating as a directory for data. \n\nyes we can do it via *-env.sh or HADOOP_OPTS. The current solution was doing it via customizing HADOOP_OPTS in a convenient way for the leveldb setting just like all other examples of \"hadoop_add_param HADOOP_OPTS\" in hadoop-functions.sh. Would be good to document in the shell scripting guide some conventions on when do we - a) document how to modify HADOOP_OPTS, or b) or add it to *-env or c) create a new option - as essentially they all end up adding a System property at the end of the day.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-27T23:52:13.463+0000","updated":"2015-04-27T23:52:13.463+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14530966","id":"14530966","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"bq. This can also mean *-env.sh.\n\nI'm not sure how you got that from the statement \"until it can proven otherwise that this can't be handled via *-site.xml.\"  I specifically mean: push this into the XML files and leave the shell environment alone. As we discussed at Summit\\-\\-and you tentatively agreed\\-\\-populating the system property for leveldb from the *-site.xml files could be done at service start time, given that there are generic abstractions for actually starting daemons in Hadoop that large chunks of the system already use.\n\nIt's worth pointing out that putting the leveldb settings in a generic shell env will impact end users, and it would have to be done in daemon specific env vars.  So no, one can't modify HADOOP_OPTS here.  You'll break apps that use their own leveldb bits.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-05-06T17:18:28.284+0000","updated":"2015-05-06T17:19:05.761+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14645869","id":"14645869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aonishuk","name":"aonishuk","key":"aonishuk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Onischuk","active":true,"timeZone":"Etc/UTC"},"body":"Committed to trunk and branch-2.1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aonishuk","name":"aonishuk","key":"aonishuk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Onischuk","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-29T10:52:44.264+0000","updated":"2015-07-29T10:52:44.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14645969","id":"14645969","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Ambari-trunk-Commit #3187 (See [https://builds.apache.org/job/Ambari-trunk-Commit/3187/])\nHADOOP-11764. [ HADOOP-11764] NodeManager should use directory other than tmp for extracting and loading leveldbjni (aonishuk) (aonishuk: http://git-wip-us.apache.org/repos/asf?p=ambari.git&a=commit&h=4c27db62466b08962ee6b9dae44cac2fd22a3c8f)\n* ambari-server/src/main/resources/stacks/HDP/2.3/services/HDFS/configuration/hadoop-env.xml\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/configuration/hadoop-env.xml\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/package/scripts/params_linux.py\n* ambari-server/src/main/resources/stacks/HDP/2.2/services/HDFS/configuration/hadoop-env.xml\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/shared_initialization.py\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/params.py\n* ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog211.java\n* ambari-server/src/test/java/org/apache/ambari/server/upgrade/UpgradeCatalog211Test.java\n* ambari-server/src/test/python/stacks/2.0.6/hooks/before-ANY/test_before_any.py\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-29T12:28:44.024+0000","updated":"2015-07-29T12:28:44.024+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14645972","id":"14645972","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Ambari-branch-2.1 #285 (See [https://builds.apache.org/job/Ambari-branch-2.1/285/])\nHADOOP-11764. [ HADOOP-11764] NodeManager should use directory other than tmp for extracting and loading leveldbjni (aonishuk) (aonishuk: http://git-wip-us.apache.org/repos/asf?p=ambari.git&a=commit&h=8acac954e43e321a6c446beb3ad6cb73c8856c28)\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/configuration/hadoop-env.xml\n* ambari-server/src/test/java/org/apache/ambari/server/upgrade/UpgradeCatalog211Test.java\n* ambari-server/src/main/resources/stacks/HDP/2.3/services/HDFS/configuration/hadoop-env.xml\n* ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog211.java\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/params.py\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/package/scripts/params_linux.py\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/shared_initialization.py\n* ambari-server/src/test/python/stacks/2.0.6/hooks/before-ANY/test_before_any.py\n* ambari-server/src/main/resources/stacks/HDP/2.2/services/HDFS/configuration/hadoop-env.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-29T12:31:00.148+0000","updated":"2015-07-29T12:31:00.148+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14646131","id":"14646131","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"Reverting change.\n\nThis will break on Windows.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-07-29T14:44:23.630+0000","updated":"2015-07-29T14:44:23.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14646146","id":"14646146","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"Actually, this was committed to Ambari, not Hadoop.  Meh. Whatever. I'll keep it closed then.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-07-29T14:47:24.565+0000","updated":"2015-07-29T14:47:24.565+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14654099","id":"14654099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Ambari-branch-2.1 #319 (See [https://builds.apache.org/job/Ambari-branch-2.1/319/])\nRevert \"HADOOP-11764. [ HADOOP-11764] NodeManager should use directory other than tmp for extracting and loading leveldbjni (aonishuk)\" (aonishuk: http://git-wip-us.apache.org/repos/asf?p=ambari.git&a=commit&h=43b4a049a1544c9ecd23a898fbf321de3e1b833c)\n* ambari-server/src/test/java/org/apache/ambari/server/upgrade/UpgradeCatalog211Test.java\n* ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog211.java\n* ambari-server/src/main/resources/stacks/HDP/2.3/services/HDFS/configuration/hadoop-env.xml\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/shared_initialization.py\n* ambari-server/src/test/python/stacks/2.0.6/hooks/before-ANY/test_before_any.py\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/params.py\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/configuration/hadoop-env.xml\n* ambari-server/src/main/resources/stacks/HDP/2.2/services/HDFS/configuration/hadoop-env.xml\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/package/scripts/params_linux.py\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T18:28:31.022+0000","updated":"2015-08-04T18:28:31.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14654271","id":"14654271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Ambari-trunk-Commit #3220 (See [https://builds.apache.org/job/Ambari-trunk-Commit/3220/])\nRevert \"HADOOP-11764. [ HADOOP-11764] NodeManager should use directory other than tmp for extracting and loading leveldbjni (aonishuk)\" (aonishuk: http://git-wip-us.apache.org/repos/asf?p=ambari.git&a=commit&h=a06a3243866b5938f6c0972f91222bb0998c776a)\n* ambari-server/src/main/resources/stacks/HDP/2.3/services/HDFS/configuration/hadoop-env.xml\n* ambari-server/src/test/java/org/apache/ambari/server/upgrade/UpgradeCatalog211Test.java\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/shared_initialization.py\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/package/scripts/params_linux.py\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/params.py\n* ambari-server/src/main/resources/common-services/HDFS/2.1.0.2.0/configuration/hadoop-env.xml\n* ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog211.java\n* ambari-server/src/test/python/stacks/2.0.6/hooks/before-ANY/test_before_any.py\n* ambari-server/src/main/resources/stacks/HDP/2.2/services/HDFS/configuration/hadoop-env.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-04T20:04:29.096+0000","updated":"2015-08-04T20:04:29.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14741128","id":"14741128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Ambari-trunk-Commit #3427 (See [https://builds.apache.org/job/Ambari-trunk-Commit/3427/])\nHADOOP-11764. [ HADOOP-11764] NodeManager should use directory other than tmp for extracting and loading leveldbjni (aonishuk) (aonishuk: http://git-wip-us.apache.org/repos/asf?p=ambari.git&a=commit&h=1c9df2d3f9fbfb98eeb7be651cd511cbe6727358)\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/params.py\n* ambari-server/src/main/resources/stacks/HDP/2.2/services/YARN/configuration-mapred/mapred-env.xml\n* ambari-server/src/test/python/stacks/2.0.6/hooks/before-ANY/test_before_any.py\n* ambari-server/src/main/resources/stacks/HDP/2.1/services/YARN/configuration/yarn-env.xml\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/shared_initialization.py\n* ambari-server/src/main/resources/common-services/YARN/2.1.0.2.0/package/scripts/params_linux.py\n* ambari-server/src/main/resources/stacks/HDP/2.3/services/YARN/configuration/yarn-env.xml\n* ambari-server/src/main/resources/common-services/YARN/2.1.0.2.0/configuration/yarn-env.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-11T16:55:03.029+0000","updated":"2015-09-11T16:55:03.029+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12780957/comment/14741170","id":"14741170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Ambari-branch-2.1 #518 (See [https://builds.apache.org/job/Ambari-branch-2.1/518/])\nHADOOP-11764. [ HADOOP-11764] NodeManager should use directory other than tmp for extracting and loading leveldbjni (aonishuk) (aonishuk: http://git-wip-us.apache.org/repos/asf?p=ambari.git&a=commit&h=d9f600e23d42544a3d8f67e2da75dc3db98bc555)\n* ambari-server/src/main/resources/stacks/HDP/2.2/services/YARN/configuration-mapred/mapred-env.xml\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/shared_initialization.py\n* ambari-server/src/main/resources/common-services/YARN/2.1.0.2.0/package/scripts/params_linux.py\n* ambari-server/src/main/resources/stacks/HDP/2.3/services/YARN/configuration/yarn-env.xml\n* ambari-server/src/main/resources/common-services/YARN/2.1.0.2.0/configuration/yarn-env.xml\n* ambari-server/src/test/python/stacks/2.0.6/hooks/before-ANY/test_before_any.py\n* ambari-server/src/main/resources/stacks/HDP/2.1/services/YARN/configuration/yarn-env.xml\n* ambari-server/src/main/resources/stacks/HDP/2.0.6/hooks/before-ANY/scripts/params.py\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-11T17:18:40.148+0000","updated":"2015-09-11T17:18:40.148+0000"}],"maxResults":36,"total":36,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11764/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i26li7:"}}