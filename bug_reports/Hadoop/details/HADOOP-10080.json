{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12677092","self":"https://issues.apache.org/jira/rest/api/2/issue/12677092","key":"HADOOP-10080","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-11-01T16:01:18.846+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 07 16:48:43 UTC 2013","customfield_12310420":"356468","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10080/watchers","watchCount":3,"isWatching":false},"created":"2013-11-01T15:44:59.707+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325048","id":"12325048","description":"2.2.0 release","name":"2.2.0","archived":false,"released":true,"releaseDate":"2013-10-15"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-11-07T16:48:43.876+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310711","id":"12310711","name":"conf","description":"Hadoop configuration mechanism."}],"timeoriginalestimate":null,"description":"API doc of [Configuration|https://hadoop.apache.org/docs/stable/api/org/apache/hadoop/conf/Configuration.html] states:\n{quote}\nValue strings are first processed for variable expansion. The available properties are:\n1.  Other properties defined in this Configuration; and, if a name is undefined here,\n2.  Properties in System.getProperties().\n{quote}\nThe current implementation of variable expansion, however, gives precedence to system properties. If a system property is defined it's value is used no matter whether a configuration property of same name exists.\nThis may cause inconsistent behaviour, e.g., if in the API doc example \"basedir\" is set as system property ({{-Dbasedir=/mnt/tmp}}) the results of two intuitively equivalent calls differ:\n{code}\n new Path(conf.get(\"tempdir\"))        // = /mnt/data/tmp\n new Path(conf.get(\"basedir\"), \"tmp\") // = /user/wastl/tmp\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"356756","customfield_12312823":null,"summary":"Variables in configuration properties are substituted in wrong order of precedence","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wastl-nagel","name":"wastl-nagel","key":"wastl-nagel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wastl-nagel&avatarId=35572","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wastl-nagel&avatarId=35572","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wastl-nagel&avatarId=35572","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wastl-nagel&avatarId=35572"},"displayName":"Sebastian Nagel","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wastl-nagel","name":"wastl-nagel","key":"wastl-nagel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wastl-nagel&avatarId=35572","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wastl-nagel&avatarId=35572","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wastl-nagel&avatarId=35572","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wastl-nagel&avatarId=35572"},"displayName":"Sebastian Nagel","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12677092/comment/13811385","id":"13811385","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"I hear you, but I'm afraid this is a huge incompatible change in behavior that would break things within Hadoop and outside that rely on this behavior. Given that I would close as WONT FIX.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2013-11-01T16:01:18.846+0000","updated":"2013-11-01T16:01:18.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12677092/comment/13811486","id":"13811486","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wastl-nagel","name":"wastl-nagel","key":"wastl-nagel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wastl-nagel&avatarId=35572","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wastl-nagel&avatarId=35572","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wastl-nagel&avatarId=35572","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wastl-nagel&avatarId=35572"},"displayName":"Sebastian Nagel","active":true,"timeZone":"Europe/Berlin"},"body":"Agreed, it may be less cumbersome to change the API doc so that it documents the real behaviour. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wastl-nagel","name":"wastl-nagel","key":"wastl-nagel","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wastl-nagel&avatarId=35572","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wastl-nagel&avatarId=35572","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wastl-nagel&avatarId=35572","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wastl-nagel&avatarId=35572"},"displayName":"Sebastian Nagel","active":true,"timeZone":"Europe/Berlin"},"created":"2013-11-01T17:33:15.233+0000","updated":"2013-11-01T17:33:15.233+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12677092/comment/13816117","id":"13816117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"I agree with tucu.  Let's change the documentation to reflect the current behavior.\n\nIt's not really clear that the new behavior being proposed here is better, anyway.  Given that you can specify system properties on the command-line, one nice use for the current behavior is being able to override things in the configuration file with a -Pfoo=bar switch on the command line.  If the configuration file took precedence, this would not be possible.\n\nIt's always going to be messy supporting overrides, and it's not clear why the configuration file \"winning\" is any more unintuitive than the other way around.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-07T16:47:50.546+0000","updated":"2013-11-07T16:47:50.546+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12677092/comment/13816118","id":"13816118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"er, that should read \"it's not clear why the system property winning is any more unintuitive than the other way around\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-07T16:48:43.876+0000","updated":"2013-11-07T16:48:43.876+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10080/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1pgb3:"}}