{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12542834","self":"https://issues.apache.org/jira/rest/api/2/issue/12542834","key":"HADOOP-8080","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2012-02-16T23:22:18.916+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Feb 17 21:43:26 UTC 2015","customfield_12310420":"228120","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_94482572259_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-02-13T20:43:17.879+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8080/watchers","watchCount":4,"isWatching":false},"created":"2012-02-16T07:33:45.666+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":3600,"aggregatetimeoriginalestimate":3600,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-02-17T21:43:26.320+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312070","id":"12312070","name":"native","description":"The native code that is loaded into the jvm"}],"timeoriginalestimate":3600,"description":"There is a such line in configure.ac\n\nAC_CONFIG_MACRO_DIR([m4])\n\nBut there doesn't have such a directory, so  if the version of automake is too high, autoreconf will fail.\n\nHere is a minor patch for it:\n===================================================================\n--- hadoop-common-project/hadoop-common/src/main/native/configure.ac    (revision 1244865)\n+++ hadoop-common-project/hadoop-common/src/main/native/configure.ac    (working copy)\n@@ -37,7 +37,7 @@\n AC_INIT(src/org_apache_hadoop.h)\n AC_CONFIG_SRCDIR([src/org_apache_hadoop.h])\n AC_CONFIG_AUX_DIR([config])\n-AC_CONFIG_MACRO_DIR([m4])\n+#AC_CONFIG_MACRO_DIR([m4])\n AC_CONFIG_HEADER([config.h])\n AC_SYS_LARGEFILE\n AC_GNU_SOURCE\n","customfield_10010":null,"timetracking":{"originalEstimate":"1h","remainingEstimate":"1h","originalEstimateSeconds":3600,"remainingEstimateSeconds":3600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":3600,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"43834","customfield_12312823":null,"summary":"hadoop-common/src/main/native does not have a directory which name is \"m4\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snnn","name":"snnn","key":"snnn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Changming Sun","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snnn","name":"snnn","key":"snnn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Changming Sun","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":3600,"percent":0},"customfield_12311024":null,"environment":"FreeBSD 9.0\nautomake --version\nautomake (GNU automake) 1.11.1\nCopyright (C) 2009 Free Software Foundation, Inc.\nLicense GPLv2+: GNU GPL version 2 or later <http://gnu.org/licenses/gpl-2.0.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by Tom Tromey <tromey@redhat.com>\n       and Alexandre Duret-Lutz <adl@gnu.org>.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":3600,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542834/comment/13209879","id":"13209879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"body":"If you build the native code through maven, it creates the m4 directory for you. Are you running autoreconf directly? If so, you need to do that manually on the target directory.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kihwal","name":"kihwal","key":"kihwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kihwal&avatarId=34594","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kihwal&avatarId=34594","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kihwal&avatarId=34594","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kihwal&avatarId=34594"},"displayName":"Kihwal Lee","active":true,"timeZone":"America/Chicago"},"created":"2012-02-16T23:22:18.916+0000","updated":"2012-02-16T23:22:18.916+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542834/comment/13210002","id":"13210002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snnn","name":"snnn","key":"snnn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Changming Sun","active":true,"timeZone":"Asia/Shanghai"},"body":"Sorry, it is  because of another reason.\n\n[DEBUG] Configuring mojo org.codehaus.mojo:make-maven-plugin:1.0-beta-1:autoreconf from plugin realm ClassRealm[plugin>org.codehaus.mojo:make-maven-plugin:1.0-beta-1, parent: sun.misc.Launcher$AppClassLoader@b92d342]\n[DEBUG] Configuring mojo 'org.codehaus.mojo:make-maven-plugin:1.0-beta-1:autoreconf' with basic configurator -->\n[DEBUG]   (f) arguments = [-i, -f]\n[DEBUG]   (f) workDir = /usr/home/changming/build/hadoop/hadoop-common-project/hadoop-common/target/native\n[DEBUG] -- end configuration --\n[DEBUG] Executing: /bin/sh -l -c cd /usr/home/changming/build/hadoop/hadoop-common-project/hadoop-common/target/native && autoreconf -i -f\n[DEBUG] Illegal option -l\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Apache Hadoop Main ................................ SUCCESS [1.221s]\n[INFO] Apache Hadoop Project POM ......................... SUCCESS [0.952s]\n[INFO] Apache Hadoop Annotations ......................... SUCCESS [2.873s]\n[INFO] Apache Hadoop Assemblies .......................... SUCCESS [1.076s]\n[INFO] Apache Hadoop Project Dist POM .................... SUCCESS [2.802s]\n[INFO] Apache Hadoop Auth ................................ SUCCESS [2.814s]\n[INFO] Apache Hadoop Auth Examples ....................... SUCCESS [2.681s]\n[INFO] Apache Hadoop Common .............................. FAILURE [5.286s]\n[INFO] Apache Hadoop Common Project ...................... SKIPPED\n[INFO] Apache Hadoop HDFS ................................ SKIPPED\n[INFO] Apache Hadoop HttpFS .............................. SKIPPED\n[INFO] Apache Hadoop HDFS BookKeeper Journal ............. SKIPPED\n[INFO] Apache Hadoop HDFS Project ........................ SKIPPED\n[INFO] hadoop-yarn ....................................... SKIPPED\n[INFO] hadoop-yarn-api ................................... SKIPPED\n[INFO] hadoop-yarn-common ................................ SKIPPED\n[INFO] hadoop-yarn-server ................................ SKIPPED\n[INFO] hadoop-yarn-server-common ......................... SKIPPED\n[INFO] hadoop-yarn-server-nodemanager .................... SKIPPED\n[INFO] hadoop-yarn-server-web-proxy ...................... SKIPPED\n[INFO] hadoop-yarn-server-resourcemanager ................ SKIPPED\n[INFO] hadoop-yarn-server-tests .......................... SKIPPED\n[INFO] hadoop-mapreduce-client ........................... SKIPPED\n[INFO] hadoop-mapreduce-client-core ...................... SKIPPED\n[INFO] hadoop-yarn-applications .......................... SKIPPED\n[INFO] hadoop-yarn-applications-distributedshell ......... SKIPPED\n[INFO] hadoop-yarn-site .................................. SKIPPED\n[INFO] hadoop-mapreduce-client-common .................... SKIPPED\n[INFO] hadoop-mapreduce-client-shuffle ................... SKIPPED\n[INFO] hadoop-mapreduce-client-app ....................... SKIPPED\n[INFO] hadoop-mapreduce-client-hs ........................ SKIPPED\n[INFO] hadoop-mapreduce-client-jobclient ................. SKIPPED\n[INFO] Apache Hadoop MapReduce Examples .................. SKIPPED\n[INFO] hadoop-mapreduce .................................. SKIPPED\n[INFO] Apache Hadoop MapReduce Streaming ................. SKIPPED\n[INFO] Apache Hadoop Distributed Copy .................... SKIPPED\n[INFO] Apache Hadoop Archives ............................ SKIPPED\n[INFO] Apache Hadoop Rumen ............................... SKIPPED\n[INFO] Apache Hadoop Extras .............................. SKIPPED\n[INFO] Apache Hadoop Tools Dist .......................... SKIPPED\n[INFO] Apache Hadoop Tools ............................... SKIPPED\n[INFO] Apache Hadoop Distribution ........................ SKIPPED\n[INFO] Apache Hadoop Client .............................. SKIPPED\n[INFO] Apache Hadoop Mini-Cluster ........................ SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 20.940s\n[INFO] Finished at: Thu Feb 16 15:55:37 CST 2012\n[INFO] Final Memory: 43M/245M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:make-maven-plugin:1.0-beta-1:autoreconf (compile) on project hadoop-common: autoreconf command returned an exit value != 0. Aborting build; see debug output for more information. -> [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:make-maven-plugin:1.0-beta-1:autoreconf (compile) on project hadoop-common: autoreconf command returned an exit value != 0. Aborting build; see debug output for more information.\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.apache.maven.plugin.MojoExecutionException: autoreconf command returned an exit value != 0. Aborting build; see debug output for more information.\n        at org.codehaus.mojo.autotools.AutoreconfExecMojo.execute(AutoreconfExecMojo.java:135)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        ... 19 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <goals> -rf :hadoop-common\n\nThe \"sh\" in FreeBSD is a old style \"sh\" shell, not bash. It doesn't support \"-l\" option.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snnn","name":"snnn","key":"snnn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Changming Sun","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-02-17T02:41:57.226+0000","updated":"2012-02-17T02:41:57.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542834/comment/14320730","id":"14320730","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"It looks like this is an issue specific to a particular build environment, rather than something that requires a code change.  I'm resolving this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-13T20:43:17.912+0000","updated":"2015-02-13T20:43:17.912+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542834/comment/14324940","id":"14324940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"This was fixed in Hadoop 2.x by the conversion to cmake.  cmake doesn't use the m4 macro processing language, unlike autotools.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-17T21:43:26.320+0000","updated":"2015-02-17T21:43:26.320+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8080/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07v9z:"}}