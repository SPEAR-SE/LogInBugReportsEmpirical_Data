{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12998231","self":"https://issues.apache.org/jira/rest/api/2/issue/12998231","key":"HADOOP-13516","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2016-08-18T15:38:35.847+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 07 14:51:47 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_443206_*|*_4_*:*_1_*:*_4317181788_*|*_5_*:*_2_*:*_219768","customfield_12312321":null,"resolutiondate":"2016-10-07T14:51:47.099+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-13516/watchers","watchCount":3,"isWatching":false},"created":"2016-08-18T15:27:44.590+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327583","id":"12327583","description":"2.7.0 release","name":"2.7.0","archived":false,"released":true,"releaseDate":"2015-04-20"}],"issuelinks":[{"id":"12477925","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12477925","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"outwardIssue":{"id":"12827077","key":"HADOOP-11918","self":"https://issues.apache.org/jira/rest/api/2/issue/12827077","fields":{"summary":"Listing an empty s3a root directory throws FileNotFound.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12477928","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12477928","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12780618","key":"HADOOP-11694","self":"https://issues.apache.org/jira/rest/api/2/issue/12780618","fields":{"summary":"Über-jira: S3a phase II: robustness, scale and performance","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-07T14:51:49.335+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311814","id":"12311814","name":"fs/s3","description":"S3A filesystem client and other S3 connectivity issues"}],"timeoriginalestimate":null,"description":"With an empty s3 bucket and run\n\n{code}\n$ hadoop fs -D... -ls s3a://hdfs-s3a-test/emptyDirectory\n\n15/05/04 15:21:34 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nls: `s3a://hdfs-s3a-test/emtpyDirectory': No such file or directory\n\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Listing an empty s3a NON root directory throws FileNotFound.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaik.idris","name":"shaik.idris","key":"shaik.idris","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shaik.idris&avatarId=17048","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shaik.idris&avatarId=17048","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shaik.idris&avatarId=17048","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shaik.idris&avatarId=17048"},"displayName":"Shaik Idris Ali","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaik.idris","name":"shaik.idris","key":"shaik.idris","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shaik.idris&avatarId=17048","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shaik.idris&avatarId=17048","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shaik.idris&avatarId=17048","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shaik.idris&avatarId=17048"},"displayName":"Shaik Idris Ali","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15426651","id":"15426651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaik.idris","name":"shaik.idris","key":"shaik.idris","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shaik.idris&avatarId=17048","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shaik.idris&avatarId=17048","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shaik.idris&avatarId=17048","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shaik.idris&avatarId=17048"},"displayName":"Shaik Idris Ali","active":true,"timeZone":"Asia/Kolkata"},"body":"HADOOP-11694 fixes only the case of empty root directory, however listing a empty non-root directory still throws FileNonFoundException.\n{code}\nkey = maybeAddTrailingSlash(key); //If this line is commented, then objects.getCommonPrefixes().size is greater than 1 for valid empty directories. with nextMarker like dir/empty-ids-1449644026143/\n      ListObjectsRequest request = new ListObjectsRequest();\n      request.setBucketName(bucket);\n      request.setPrefix(key);\n      request.setDelimiter(\"/\");\n      request.setMaxKeys(1);\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaik.idris","name":"shaik.idris","key":"shaik.idris","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shaik.idris&avatarId=17048","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shaik.idris&avatarId=17048","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shaik.idris&avatarId=17048","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shaik.idris&avatarId=17048"},"displayName":"Shaik Idris Ali","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-08-18T15:35:29.462+0000","updated":"2016-08-18T15:35:29.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15426659","id":"15426659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"sprry, race condition confusion;re-opending.  And, given that LoC, my code. \n\nWhich version of the hadoop source tree are you looking at. As that sounds like you are working with Branch 2.8+?\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2016-08-18T15:38:35.847+0000","updated":"2016-08-18T15:38:35.847+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15426976","id":"15426976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I am unable to repro this with a fresh trunk build.  [~shaik.idris], I noticed what appears to be a typo in your example: \"emtyp\" instead of \"empty\".  Is it possible that you ran the ls command on a directory that doesn't exist?\n\n{code}\n> hadoop version\nHadoop 3.0.0-alpha2-SNAPSHOT\nSource code repository https://git-wip-us.apache.org/repos/asf/hadoop.git -r ae4db2544346370404826d5b55b2678f5f92fe1f\nCompiled by chris on 2016-08-18T17:56Z\nCompiled with protoc 2.5.0\nFrom source with checksum 4de746edbf65719fec787db317e866a\nThis command was run using /Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-alpha2-SNAPSHOT/share/hadoop/common/hadoop-common-3.0.0-alpha2-SNAPSHOT.jar\n\n> hadoop fs -ls s3a://cnauroth-test-aws-s3a/\n\n> hadoop fs -mkdir s3a://cnauroth-test-aws-s3a/test-empty-dir\n[chris@Chriss-MacBook-Pro-2:ttys002] hadoop-deploy-trunk                                                            \n\n> hadoop fs -ls s3a://cnauroth-test-aws-s3a/\nFound 1 items\ndrwxrwxrwx   - chris          0 2016-08-18 11:44 s3a://cnauroth-test-aws-s3a/test-empty-dir\n\n> hadoop fs -ls s3a://cnauroth-test-aws-s3a/test-empty-dir\n\n> hadoop fs -ls s3a://cnauroth-test-aws-s3a/test-emtpy-dir\nls: `s3a://cnauroth-test-aws-s3a/test-emtpy-dir': No such file or directory\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-18T18:48:03.070+0000","updated":"2016-08-18T18:48:03.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15427740","id":"15427740","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaik.idris","name":"shaik.idris","key":"shaik.idris","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shaik.idris&avatarId=17048","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shaik.idris&avatarId=17048","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shaik.idris&avatarId=17048","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shaik.idris&avatarId=17048"},"displayName":"Shaik Idris Ali","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi [~stevel@apache.org], [~cnauroth],\nThanks for checking. Chris, it is typo in copy paste, sorry for the confusion.\n\nSTEP 1:\nHere is the environment setup:\nHadoop-version: 2.7.2 Release\n\nHere is the stack-trace while calling getFileStatus from test-code programatically:\njava.io.FileNotFoundException: No such file or directory: \n{code}\ns3a://<mask>:<mask>@dataplatform-prod-store/dev/empty\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:996)\n\tat com.olacabs.dp.utils.commonutils.io.S3ACustomFileSystem.main(S3ACustomFileSystem.java:29)\n{code}\n\nSTEP 2: Checked out Trunk\nI checked out the code and tried to work with the Trunk. However, I am hitting into build another issue,:\n{code}\nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: F8394B728D82563E), S3 Extended Request ID: AXVEW+4p4f2XaByJyPPhSsSlnRVvmsvCjEgKju4NJ7Y4yenIus3IQreW8RwEjqK7tnPt6lHeK70=\n\tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1182)\n\tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:770)\n\tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:489)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:310)\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3785)\n\tat com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1050)\n\tat com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1027)\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getObjectMetadata(S3AFileSystem.java:902)\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:1414)\n{code}\n\nSTEP 3: Checkout 2.7.2 and tried to patch with the \"else fix\" \n{code}\n} else if (key.isEmpty()) {\n        LOG.debug(\"Found root directory\");\n        return new S3AFileStatus(true, true, path);\n      }\n{code}\nBut looks like since the key is not empty, it is not helping here. However when I changed to code to without this line //key = maybeAddTrailingSlash(key); getCommonPrefixes() is non-empty.\n\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaik.idris","name":"shaik.idris","key":"shaik.idris","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shaik.idris&avatarId=17048","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shaik.idris&avatarId=17048","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shaik.idris&avatarId=17048","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shaik.idris&avatarId=17048"},"displayName":"Shaik Idris Ali","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-08-19T07:16:43.722+0000","updated":"2016-08-19T07:19:45.622+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15427854","id":"15427854","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"I'll see if I can replicate this.\n\nAll work is going to have to be against branch-2 or trunk; there's been a lot of changes to s3a there and things won't work.\n\nInteresting that you were getting a 403 there; could be a sign of some regression —we've been doing a lot with provider plugin, session providers, etc.\n\nCan you get set up for running the hadoop-aws test run? Ask for help on the common-dev list if you need it —hopefully everything you need is written up in https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-aws/src/site/markdown/tools/hadoop-aws/index.md\n\n\nif ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2016-08-19T08:57:49.543+0000","updated":"2016-08-19T08:57:49.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15529828","id":"15529828","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"I'm not seeing this in branch-2\n{code}\n$ ./hadoop fs -mkdir  s3a://hwdev-steve-ireland/emptydir\n16/09/28 15:29:09 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n$ hadoop fs -ls s3a://hwdev-steve-ireland/emptydir\nfish: Unknown command 'hadoop'\n$ ./hadoop fs -ls s3a://hwdev-steve-ireland/emptydir\n16/09/28 15:29:28 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n$ ./hadoop fs -ls s3a://hwdev-steve-ireland/emptydir/\n16/09/28 15:29:35 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2016-09-28T14:31:56.733+0000","updated":"2016-09-28T14:31:56.733+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12998231/comment/15555284","id":"15555284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"closing as cannot reproduce. If this surfaces, test against the latest Hadoop release, then, if it occurs there, please re-open","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2016-10-07T14:51:47.342+0000","updated":"2016-10-07T14:51:47.342+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-13516/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i32ha7:"}}