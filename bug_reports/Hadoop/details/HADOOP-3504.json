{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12397620","self":"https://issues.apache.org/jira/rest/api/2/issue/12397620","key":"HADOOP-3504","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2008-06-05T20:44:17.562+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jun 17 00:08:53 UTC 2008","customfield_12310420":"126000","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_962876837_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_7924515656","customfield_12312321":null,"resolutiondate":"2008-06-17T00:08:53.464+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-3504/watchers","watchCount":0,"isWatching":false},"created":"2008-06-05T20:40:56.627+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312972","id":"12312972","description":"","name":"0.18.0","archived":false,"released":true,"releaseDate":"2008-08-22"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T16:43:09.171+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"When running gridmix, I saw 11 reduce tasks hanging. I manually failed the tasks and they re-ran and then finished.\n\nHere is the task tracker logs:\nsyslog logs\n\nal on-disk merge with 14 files\n2008-06-05 19:02:49,804 INFO org.apache.hadoop.mapred.Merger: Merging 14 sorted segments\n2008-06-05 19:03:03,663 INFO org.apache.hadoop.mapred.Merger: Down to the last merge-pass, with 14 segments left of total size: 1476315198 bytes\n2008-06-05 19:03:03,731 WARN org.apache.hadoop.fs.FileSystem: \"hostname:56007\" is a deprecated filesystem name. Use \"hdfs://hostname:56007/\" instead.\n2008-06-05 19:03:27,301 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=1/0/0 in:0=1/2626 [rec/s] out:0=0/2626 [rec/s]\n2008-06-05 19:03:27,347 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=10/0/0 in:0=10/2626 [rec/s] out:0=0/2626 [rec/s]\n2008-06-05 19:03:27,578 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=100/0/0 in:0=100/2627 [rec/s] out:0=0/2627 [rec/s]\n2008-06-05 19:03:28,380 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=226/1\n2008-06-05 19:03:35,276 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=1000/842/0 in:0=1000/2634 [rec/s] out:0=842/2634 [rec/s]\n2008-06-05 19:03:38,667 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=2434/2274\n2008-06-05 19:03:45,301 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=10000/9892/0 in:3=10000/2644 [rec/s] out:3=9892/2644 [rec/s]\n2008-06-05 19:03:48,716 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=15057/14957\n2008-06-05 19:03:59,056 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=24946/24887\n2008-06-05 19:04:11,742 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=34653/34433\n2008-06-05 19:04:22,548 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=42930/42803\n2008-06-05 19:04:32,635 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=57737/57686\n2008-06-05 19:04:42,662 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=76224/76063\n2008-06-05 19:04:52,666 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=99423/99307\n2008-06-05 19:04:52,802 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=100000/99795/0 in:36=100000/2712 [rec/s] out:36=99795/2712 [rec/s]\n2008-06-05 19:05:02,754 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=127265/127145\n2008-06-05 19:05:12,758 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=185310/185202\n2008-06-05 19:05:15,858 INFO org.apache.hadoop.streaming.PipeMapRed: R/W/S=200000/199974/0 in:73=200000/2735 [rec/s] out:73=199974/2735 [rec/s]\n2008-06-05 19:05:22,772 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=218164/218082\n2008-06-05 19:05:55,316 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=242591/242411\n2008-06-05 19:06:13,678 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=242591/242412\n2008-06-05 19:07:23,173 WARN org.apache.hadoop.dfs.DFSClient: DFSOutputStream ResponseProcessor exception  for block blk_-3463507617208131068_33273java.net.SocketTimeoutException: 69000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/NNN.NNN.NNN.125:59802 remote=/NNN.NNN.NNN.125:57834]\n\tat org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:162)\n\tat org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:150)\n\tat org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:123)\n\tat java.io.DataInputStream.readFully(DataInputStream.java:178)\n\tat java.io.DataInputStream.readLong(DataInputStream.java:399)\n\tat org.apache.hadoop.dfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:2045)\n\n2008-06-05 19:11:22,535 INFO org.apache.hadoop.streaming.PipeMapRed: Records R/W=243534/243374\n2008-06-05 19:11:22,536 WARN org.apache.hadoop.dfs.DFSClient: Error Recovery for block blk_-3463507617208131068_33273 bad datanode[0] NNN.NNN.NNN.125:57834\n2008-06-05 19:11:24,388 WARN org.apache.hadoop.dfs.DFSClient: Error Recovery for block blk_-3463507617208131068_33273 in pipeline NNN.NNN.NNN.125:57834, NNN.NNN.NNN.107:58706, NNN.NNN.NNN.122:52897: bad datanode NNN.NNN.NNN.125:57834\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"104963","customfield_12312823":null,"summary":"Reduce task hangs after java.net.SocketTimeoutException","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mukundm","name":"mukundm","key":"mukundm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mukund Madhugiri","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mukundm","name":"mukundm","key":"mukundm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mukund Madhugiri","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12602780","id":"12602780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"I've seen the exact same behaviour during a sort500 run (1000 reduces) which held up atleast 30-30 reduces...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-05T20:44:17.562+0000","updated":"2008-06-05T20:44:17.562+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12603743","id":"12603743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Mukund, do you have the corresponding datanode logs?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-10T00:39:18.277+0000","updated":"2008-06-10T00:39:18.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604149","id":"12604149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"I saw the same behavior. The reduce tasks times out and gets killed when this happens.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-06-11T07:59:26.260+0000","updated":"2008-06-11T07:59:26.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604363","id":"12604363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Ca it be related to HADOOP-1374?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-11T22:17:39.350+0000","updated":"2008-06-11T22:17:39.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604612","id":"12604612","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Does anyone konw how could I reproduce this?\n\nOr, if you have the datanode logs showing this problem, please upload them.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-12T18:45:30.787+0000","updated":"2008-06-12T18:45:30.787+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604724","id":"12604724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Lohit and I are finally able to reproduce the problem.  We ran randomwriter on a 500-node cluster and got a lot of map tasks failure.  The problem is due to out of disk space in some datanodes.  When a dfs client writes a block to datanode pipeline, if there is a datanode in the pipeline ran out of disk space.  It throws\n{noformat}\n2008-06-13 01:01:58,909 ERROR org.apache.hadoop.dfs.DataNode: DatanodeRegistration(xx.xx.xx.xx:52961, storageID=DS-yyyyyyy, infoPort=58576, ipcPort=50020):DataXceiver: \norg.apache.hadoop.util.DiskChecker$DiskOutOfSpaceException: No space left on device\n        at org.apache.hadoop.dfs.DataNode.checkDiskError(DataNode.java:590)\n        at org.apache.hadoop.dfs.DataNode.access$1400(DataNode.java:82)\n        at org.apache.hadoop.dfs.DataNode$BlockReceiver.receivePacket(DataNode.java:2611)\n        at org.apache.hadoop.dfs.DataNode$BlockReceiver.receiveBlock(DataNode.java:2664)\n        at org.apache.hadoop.dfs.DataNode$DataXceiver.writeBlock(DataNode.java:1267)\n        at org.apache.hadoop.dfs.DataNode$DataXceiver.run(DataNode.java:1027)\n        at java.lang.Thread.run(Thread.java:619)\n{noformat}\nHowever, the datanode does not report the exception back to client and the client will time-out.  That's why we see SocketTimeoutException from the client.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-13T02:29:01.962+0000","updated":"2008-06-13T02:29:01.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604725","id":"12604725","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"In the case of DiskOutOfSpaceException, datanode should send the upstream an error code.  Then, the client can possibly re-route the pipeline.\n\nAn out-of-space datanode probably should refuse pipeline connection in the beginning.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-13T02:32:42.357+0000","updated":"2008-06-13T02:32:42.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604826","id":"12604826","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Nicholas, Isn't the excepton trace different from the one reported?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-06-13T12:29:35.165+0000","updated":"2008-06-13T12:29:35.165+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12604935","id":"12604935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Devaraj, the trace in the description is TaskTracker log while the trace I posted is Datanode log.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-13T17:21:38.805+0000","updated":"2008-06-13T17:21:38.805+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12605128","id":"12605128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Oops, missed that!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2008-06-15T07:28:40.147+0000","updated":"2008-06-15T07:28:40.147+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12605369","id":"12605369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"I tried running randomwriter in a 500-node cluster with one low-disk-space node.  The low-disk-space node got filled up soon and 11 map tasks failed in the job.\n\nThen, I killed the low-disk-space node and ran another randomwriter job.  There were no failing tasks at all.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-16T18:42:27.974+0000","updated":"2008-06-16T18:42:27.974+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397620/comment/12605460","id":"12605460","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Since this is a Datanode configuration problem, I am closing this issue.\n\nI will create a new issue for improving Datanode DiskOutOfSpaceException handling.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-17T00:08:53.376+0000","updated":"2008-06-17T00:08:53.376+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-3504/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ibjb:"}}