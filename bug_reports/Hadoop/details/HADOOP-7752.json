{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12527405","self":"https://issues.apache.org/jira/rest/api/2/issue/12527405","key":"HADOOP-7752","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2011-10-17T16:48:52.534+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Oct 19 07:24:35 UTC 2011","customfield_12310420":"87717","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_166951860_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-10-19T07:24:35.203+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-7752/watchers","watchCount":2,"isWatching":false},"created":"2011-10-17T09:02:03.398+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315569","id":"12315569","description":"","name":"0.23.0","archived":false,"released":true,"releaseDate":"2011-11-11"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12317652","id":"12317652","description":"0.24.0 release","name":"0.24.0","archived":false,"released":false}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-10-19T07:24:35.254+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311543","id":"12311543","name":"build","description":"Build scripts"}],"timeoriginalestimate":null,"description":"Using the maven target: $mvn package -Pdist -DskipTests\nI am seeing the following error when trying to start the resourcemanager:\n{code}\n$ bin/yarn-daemon.sh start resourcemanager\nstarting resourcemanager, logging to /home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/bin/../logs/yarn-ahmed-resourcemanager-ubuntu.out\n/usr/lib/jvm/java-6-sun/bin/java -Dproc_resourcemanager -Xmx1000m -Dhadoop.log.dir=/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/bin/../logs -Dyarn.log.dir=/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/bin/../logs -Dhadoop.log.file=yarn-ahmed-resourcemanager-ubuntu.log -Dyarn.log.file=yarn-ahmed-resourcemanager-ubuntu.log -Dyarn.home.dir=/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/bin/.. -Dhadoop.root.logger=INFO,DRFA -Dyarn.root.logger=INFO,DRFA -classpath /home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/conf/:~/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/conf/::/usr/lib/jvm/java-6-sun/lib/tools.jar:/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/share/hadoop/common/*:/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/share/hadoop/common/lib/*:/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/share/hadoop/hdfs/*:/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/share/hadoop/hdfs/lib/*:/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/bin/../modules/*:/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/bin/../lib/*:~/home/ahmed/apache/hadoop-common/hadoop-dist/target/hadoop-0.24.0-SNAPSHOT/conf//rm-config/log4j.properties org.apache.hadoop.yarn.server.resourcemanager.ResourceManager\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/hadoop/yarn/server/resourcemanager/ResourceManager\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.yarn.server.resourcemanager.ResourceManager\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\nCould not find the main class: org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.  Program will exit.\n{code}\n\nSeems there are some missing jars in the modules directory in the dist:\n\n{code}\n$ ls -al modules/\ntotal 476\ndrwxr-xr-x  2 ahmed ahmed   4096 2011-10-17 00:56 .\ndrwxr-xr-x 11 ahmed ahmed   4096 2011-10-17 00:58 ..\n-rwxr-xr-x  1 ahmed ahmed 347941 2011-10-17 00:56 hadoop-mapreduce-client-app-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  79364 2011-10-17 00:56 hadoop-mapreduce-client-hs-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  30720 2011-10-17 00:56 hadoop-mapreduce-client-jobclient-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  15358 2011-10-17 00:56 hadoop-mapreduce-client-shuffle-0.24.0-SNAPSHOT.jar\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74489","customfield_12312823":null,"summary":"Unable to start yarn services using the new hadoop-dist tar stitching module","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527405/comment/13128736","id":"13128736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"body":"I am successfully able to start the yarn services if I run \"$mvn install -DskipTests\" before running \"$mvn package -Pdist -DskipTests\".\n\nThe contents of the modules directory in this case:\n\n$ls -la modules/\ntotal 4992\ndrwxr-xr-x  2 ahmed ahmed    4096 2011-10-17 01:44 .\ndrwxr-xr-x 11 ahmed ahmed    4096 2011-10-17 01:44 ..\n-rwxr-xr-x  1 ahmed ahmed  347953 2011-10-17 01:44 hadoop-mapreduce-client-app-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  505470 2011-10-17 01:44 hadoop-mapreduce-client-common-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed 1298873 2011-10-17 01:44 hadoop-mapreduce-client-core-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed   79364 2011-10-17 01:44 hadoop-mapreduce-client-hs-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed   30719 2011-10-17 01:44 hadoop-mapreduce-client-jobclient-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed   15357 2011-10-17 01:44 hadoop-mapreduce-client-shuffle-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  828841 2011-10-17 01:44 hadoop-yarn-api-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed   30807 2011-10-17 01:44 hadoop-yarn-applications-distributedshell-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed 1024583 2011-10-17 01:44 hadoop-yarn-common-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  131699 2011-10-17 01:44 hadoop-yarn-server-common-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  349045 2011-10-17 01:44 hadoop-yarn-server-nodemanager-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed  429615 2011-10-17 01:44 hadoop-yarn-server-resourcemanager-0.24.0-SNAPSHOT.jar\n-rwxr-xr-x  1 ahmed ahmed    1833 2011-10-17 01:44 hadoop-yarn-site-0.24.0-SNAPSHOT.jar\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-10-17T09:06:28.148+0000","updated":"2011-10-17T09:06:28.148+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527405/comment/13128741","id":"13128741","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"body":"The problem seems to be these missing jars in the modules directory.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-10-17T09:10:54.483+0000","updated":"2011-10-17T09:10:54.483+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527405/comment/13128997","id":"13128997","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"Ahmed,\n Is this the issue with 0.23 as well? I think it might just be an issue with 0.24?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2011-10-17T16:48:52.534+0000","updated":"2011-10-17T16:48:52.534+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527405/comment/13129282","id":"13129282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"body":"Mahadev, I faced this issue after I pulled the patch for HADOOP-7642, and this is why I used it's same \"affects versions\". Based on Tucu's advice, I'll pull also the latest changes from trunk including the MAPREDUCE-3003 patch. I'll retest to make see if the problem persists.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-10-17T22:34:41.720+0000","updated":"2011-10-17T22:34:41.720+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12527405/comment/13130431","id":"13130431","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"body":"The problem seemed to disappear after pulling the new patches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahmed.radwan","name":"ahmed.radwan","key":"ahmed.radwan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ahmed Radwan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-10-19T07:24:35.224+0000","updated":"2011-10-19T07:24:35.224+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-7752/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d4ef:"}}