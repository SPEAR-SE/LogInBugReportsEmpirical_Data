{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12433176","self":"https://issues.apache.org/jira/rest/api/2/issue/12433176","key":"HADOOP-6196","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-08-16T09:33:35.214+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 09 03:58:11 UTC 2009","customfield_12310420":"77788","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_1882187705_*|*_1_*:*_2_*:*_355653770_*|*_5_*:*_2_*:*_3113558_*|*_4_*:*_1_*:*_18024","customfield_12312321":null,"resolutiondate":"2009-09-11T07:38:17.387+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6196/watchers","watchCount":6,"isWatching":false},"created":"2009-08-16T09:08:44.330+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-24T20:39:22.719+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Currently, the end of the SequenceFile header is a sync block that isn't prefaced with SYNC_ESCAPE.  This means that sync(0) followed by next() fails.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12418217","id":"12418217","filename":"C6196-0.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-01T04:52:44.981+0000","size":5261,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12418217/C6196-0.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12418214","id":"12418214","filename":"C6196-test.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-01T04:01:53.911+0000","size":9748,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12418214/C6196-test.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12418204","id":"12418204","filename":"hadoop-6196-multipatch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-01T01:49:11.609+0000","size":5971,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12418204/hadoop-6196-multipatch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12418120","id":"12418120","filename":"sync-bug.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-31T05:35:02.822+0000","size":5561,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12418120/sync-bug.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"102505","customfield_12312823":null,"summary":"sync(0); next() breaks SequenceFile","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12743823","id":"12743823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"Here's the patch.  To reproduce the problem, patch, then revert SequenceFile (to undo the fix) and run the attached test TestSequenceFileSync.  \n\nStrangely, it works sometimes and breaks other times.  When it works, it'll tend to work for a few times in a row until a few seconds pass and then it starts breaking again (EOFException at readInt).  I don't get it, could be something weird with my environment, but the patch to SequenceFile means that it works all the time, so who cares :)  \n\nThe fix required bumping the version of SequenceFile from 6 to 7, writing the SYNC_ESCAPE int properly before writing the sync block at the end of the header file, and then scanning past that prior to loading sync when opening.  Now sync(0); next();  works properly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-16T09:15:34.689+0000","updated":"2009-08-16T09:15:34.689+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12743825","id":"12743825","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12416705/sync-bug.patch\n  against trunk revision 804352.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/608/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/608/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/608/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/608/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-16T09:33:35.214+0000","updated":"2009-08-16T09:33:35.214+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12744153","id":"12744153","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cos","name":"cos","key":"cos","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cos&avatarId=16741","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cos&avatarId=16741","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cos&avatarId=16741","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cos&avatarId=16741"},"displayName":"Konstantin Boudnik","active":true,"timeZone":"America/Los_Angeles"},"body":"A few comments:\n- new unit test is developed under JUnit3 conventions (e,g, it extends TestCase, imports junit.framework, etc.) I'd suggest to make it JUnit4 compliant: remove TestCase extention, add {{@Test}} annotation to the test method, use {{org.junit.*}} packages instead\n- it seems that the unit test doesn't cover all the cases described in a comment above.\nbq. Strangely, it works sometimes and breaks other times. When it works, it'll tend to work for a few times in a row until a few seconds pass and then it starts breaking again (EOFException at readInt)\nIt seems to be more sensible to do a number of {{seek(0); next()}} followed by a random pauses and {{seek()}} calls to locations differ from 0 \n- {{SequenceFile.java}} has some white-space only modifications, e.g.\n{noformat}\n-      if (!blockCompressed) {\n+      if (!blockCompressed) {        \n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cos","name":"cos","key":"cos","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cos&avatarId=16741","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cos&avatarId=16741","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cos&avatarId=16741","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cos&avatarId=16741"},"displayName":"Konstantin Boudnik","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-08-17T18:15:21.993+0000","updated":"2009-08-17T18:15:21.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12748648","id":"12748648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Cancelling patch until Cos's comments are addressed","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-08-28T02:14:16.382+0000","updated":"2009-08-28T02:14:16.382+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12748660","id":"12748660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"Hey, will address this weekend, sorry for the slow turnaround","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-28T03:33:46.171+0000","updated":"2009-08-28T03:33:46.171+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749387","id":"12749387","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"So, it turns out that SequenceFile.Writer generates its sync block and headers statically at classloader time, so if it generates the 'right' binary data, it'll evade this bug.  I can't reproduce the bug reliably without running the test multiple times in a row by hand, unless someone knows a way to re-execute static code in a running jvm.  It occurs about 2/3 of the time or so.  Modifying SequenceFile to expose those values for writing by a test seems like overkill... should we just leave as is?  If the build runs frequently enough, it'll catch regressions eventually, right?  All the other ideas I have are hacky.\n\nIssues with JUnit 4 and whitespace in the patch have been addressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-31T05:35:02.926+0000","updated":"2009-08-31T05:35:02.926+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749730","id":"12749730","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"I had an idea for the issue of needing JVM restart to duplicate the bug reliably, if I define 5 test cases calling a common method in the same file, it'll launch in a new JVM each time under Ant, right?  I didn't see a way to run just 1 test under ant and the tests take all day to run on my machine, can anyone confirm?\n\nAnyways, here's a new patch that attempts to run the test 5 times in different JVM instances.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-01T01:49:11.630+0000","updated":"2009-09-01T01:49:11.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749731","id":"12749731","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"(sorry for spam), in eclipse JUnit it seems to work, test will pass 2-3 times and fail 2-3 times.  If we're extremely lucky/unlucky, it'll squeeze out a 5 for 5 success but it's pretty rare.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-01T01:51:44.696+0000","updated":"2009-09-01T01:51:44.696+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749750","id":"12749750","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. So, it turns out that SequenceFile.Writer generates its sync block and headers statically at classloader time, so if it generates the 'right' binary data, it'll evade this bug.\n\nThe unit test doesn't validate the data it reads; examining the records read, when SequnceFile doesn't fail after a call to sync(0), it will return invalid records or skip records. It doesn't look like it evades the bug so much as it silently fails. The fix to the header will work, but we must also fix the Reader and backport that fix.\n\nThe random behavior comes from the sync marker; after a {{sync(long)}}, the reader backs up to the start of the marker, and reads it as the record length. Since it backs up to the word before the marker, it reads the last word written by the metadata (00 00 00 00 if the metadata are empty) as the record length, then the first bytes of the sync marker as the key. Whether this causes OOM, EOF, or no exception is as random as the sync marker and dependent on the key type. I've attached some trace debugging added to illustrate (and a modified version of Jay's test)\n\nSince this can cause silent failures and data loss- and because the SequenceFile format has been stable for over 2 years- I don't know that an incompatible change fixing this for future SequenceFiles is practical. In discussing this with Arun, the solution that seemed most appropriate and feasible was to record the end of the header in init() and adjust sync(long) calls within that range to the first record boundary. Tentatively, setting seenSync to true when syncing to within this range may also be necessary, but we'll need to study it.\n\nVery good catch, Jay","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-01T04:01:53.932+0000","updated":"2009-09-01T04:01:53.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749754","id":"12749754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching a patch with a tentative fix and test based on Jay's original","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-01T04:52:45.021+0000","updated":"2009-09-01T04:52:45.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749865","id":"12749865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12418217/C6196-0.patch\n  against trunk revision 809491.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 2 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/3/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/3/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/3/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/3/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-01T11:35:10.553+0000","updated":"2009-09-01T11:35:10.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12749908","id":"12749908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"Hey Chris, thanks, that looks great, good idea to avoid the version change.  I'm pretty sure setting syncSeen=true is necessary to do, but looks like that's in your patch, thanks for the help.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-01T13:32:39.991+0000","updated":"2009-09-01T13:32:39.991+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12751799","id":"12751799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"Sorry, didn't realize I had to resolve this on my end.  This will be fine for 0.21.0 now?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-05T22:43:13.597+0000","updated":"2009-09-05T22:43:13.597+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12751804","id":"12751804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"No patch fixing this issue has been integrated into 0.21, yet; a committer needs to review and approve the patch before it can be pushed to the repository and we can resolve the issue as \"fixed.\" I'm reopening the issue and marking it \"patch available\" again.\n\nConsidering the pain of writing incompatible SequenceFiles, I'm leaning away from bumping the version and just going with the compatible change to the reader. If the modified Reader approach seems hackish or I'm overestimating the pain of bumping the version, I'm open to the alternate strategy, but unless we have formats that call sync(0) regularly it seems like a reasonable workaround.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-05T23:35:07.257+0000","updated":"2009-09-05T23:35:07.257+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12751806","id":"12751806","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12418217/C6196-0.patch\n  against trunk revision 811572.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 2 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/19/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/19/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/19/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/19/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-05T23:56:46.502+0000","updated":"2009-09-05T23:56:46.502+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12751808","id":"12751808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"body":"I agree, your fix seems relatively foolproof and sidesteps the version bump entirely.  I've tested it pretty thoroughly in pseudo distributed and will be giving it a full workout over the next few days, in case that helps with anyone's confidence.  I'd really like to see this go into 0.21, if possible, even if sync(0) isn't very common the class should still adhere to contract.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbooth","name":"jbooth","key":"jbooth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jay Booth","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-06T00:10:12.281+0000","updated":"2009-09-06T00:10:12.281+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12754029","id":"12754029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-11T07:11:09.879+0000","updated":"2009-09-11T07:11:09.879+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12754034","id":"12754034","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"I committed this. Thanks, Jay!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-09-11T07:38:17.362+0000","updated":"2009-09-11T07:38:17.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12754035","id":"12754035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Common-trunk-Commit #27 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/27/])\n    . Fix a bug in SequenceFile.Reader where syncing within the header\nwould cause the reader to read the sync marker as a record. Contributed by Jay Booth\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-11T07:50:09.548+0000","updated":"2009-09-11T07:50:09.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12754087","id":"12754087","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-Common-trunk #92 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/92/])\n    . Fix a bug in SequenceFile.Reader where syncing within the header\nwould cause the reader to read the sync marker as a record. Contributed by Jay Booth\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-09-11T11:11:04.839+0000","updated":"2009-09-11T11:11:04.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12433176/comment/12763807","id":"12763807","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chansler","name":"chansler","key":"chansler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Chansler","active":true,"timeZone":"America/Los_Angeles"},"body":"Editorial pass over all release notes prior to publication of 0.21. just a bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chansler","name":"chansler","key":"chansler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Chansler","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-10-09T03:58:11.763+0000","updated":"2009-10-09T03:58:11.763+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-6196/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0hwd3:"}}