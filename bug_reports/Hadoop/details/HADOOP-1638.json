{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12374208","self":"https://issues.apache.org/jira/rest/api/2/issue/12374208","key":"HADOOP-1638","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312474","id":"12312474","description":"","name":"0.14.0","archived":false,"released":true,"releaseDate":"2007-08-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-07-19T23:04:51.190+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Jul 22 20:56:33 UTC 2007","customfield_12310420":"80926","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_257845826_*|*_1_*:*_1_*:*_999155_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_347712570","customfield_12312321":null,"resolutiondate":"2007-07-22T20:56:33.771+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-1638/watchers","watchCount":0,"isWatching":false},"created":"2007-07-19T21:02:28.790+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312348","id":"12312348","description":"","name":"0.13.0","archived":false,"released":true,"releaseDate":"2007-06-08"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312579","id":"12312579","description":"","name":"0.13.1","archived":false,"released":true,"releaseDate":"2007-07-26"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312474","id":"12312474","description":"","name":"0.14.0","archived":false,"released":true,"releaseDate":"2007-08-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312565","id":"12312565","description":"","name":"0.15.0","archived":false,"released":true,"releaseDate":"2007-10-19"}],"issuelinks":[{"id":"12316881","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12316881","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"outwardIssue":{"id":"12366577","key":"HADOOP-1202","self":"https://issues.apache.org/jira/rest/api/2/issue/12366577","fields":{"summary":"Jobtracker & Namenode can only bind to one interface","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-02T02:29:06.747+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311822","id":"12311822","name":"contrib/cloud"}],"timeoriginalestimate":null,"description":"With a release package of Hadoop 0.13.0 or with latest SVN, the Hadoop contrib/ec2 scripts fail to start Hadoop correctly. After working around issues HADOOP-1634 and HADOOP-1635, and setting up a DynDNS address pointing to the master's IP, the ec2/bin/start-hadoop script completes.\n\nBut the cluster is unusable because the namenode and tasktracker have not started successfully. Looking at the namenode log on the master reveals the following error:\n{quote}\n2007-07-19 16:54:53,156 ERROR org.apache.hadoop.dfs.NameNode: java.net.BindException: Cannot assign requested address\n        at sun.nio.ch.Net.bind(Native Method)\n        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:119)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)\n        at org.apache.hadoop.ipc.Server$Listener.<init>(Server.java:186)\n        at org.apache.hadoop.ipc.Server.<init>(Server.java:631)\n        at org.apache.hadoop.ipc.RPC$Server.<init>(RPC.java:325)\n        at org.apache.hadoop.ipc.RPC.getServer(RPC.java:295)\n        at org.apache.hadoop.dfs.NameNode.init(NameNode.java:164)\n        at org.apache.hadoop.dfs.NameNode.<init>(NameNode.java:211)\n        at org.apache.hadoop.dfs.NameNode.createNameNode(NameNode.java:803)\n        at org.apache.hadoop.dfs.NameNode.main(NameNode.java:811)\n{quote}\n\nThe master node refuses to bind to the DynDNS hostname in the generated hadoop-site.xml. Here is the relevant part of the generated file:\n{quote}\n<property>\n  <name>fs.default.name</name>\n  <value>blah-ec2.gotdns.org:50001</value>\n</property>\n\n<property>\n  <name>mapred.job.tracker</name>\n  <value>blah-ec2.gotdns.org:50002</value>\n</property>\n{quote}\n\nI'll attach a patch against hadoop-trunk that fixes the issue for me, but I'm not sure if this issue is something that someone can fix more thoroughly.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12362158","id":"12362158","filename":"hadoop-1638.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-19T21:08:28.323+0000","size":822,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12362158/hadoop-1638.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"106121","customfield_12312823":null,"summary":"Master node unable to bind to DNS hostname","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12513999","id":"12513999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"body":"Here is the patch I mentioned...\n\nSorry about the nasty formatting in the original issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-19T21:08:28.457+0000","updated":"2007-07-19T21:08:28.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514038","id":"12514038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1\n\nhttp://issues.apache.org/jira/secure/attachment/12362158/hadoop-1638.patch applied and successfully tested against trunk revision r557790.\n\nTest results:   http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/435/testReport/\nConsole output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/435/console","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2007-07-19T23:04:51.190+0000","updated":"2007-07-19T23:04:51.190+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514291","id":"12514291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"The hadoop-site.xml is created on node startup using the hostname passed in as user data (which comes from the env file). See src/contrib/ec2/bin/image/hadoop-init. Is the problem that something is corrupted - what are the #</property> lines above? Or is it that the wrong hostname is substituted?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2007-07-20T19:22:25.742+0000","updated":"2007-07-20T19:22:25.742+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514299","id":"12514299","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"body":"(fixed the confusing formatting)\n\nThe hadoop-init script gets the MASTER_HOST value correctly and places it in hadoop-site.xml, but the problem is that the master node will not bind to the MASTER_HOST value. Since this is the address that gets put in hadoop-site.xml, the jobtracker and namenode will not start.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","key":"stuhood","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-20T19:38:42.708+0000","updated":"2007-07-20T19:38:42.708+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514370","id":"12514370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhedberg","name":"fhedberg","key":"fhedberg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fredrik Hedberg","active":true,"timeZone":"Etc/UTC"},"body":"There doesn't seem to be much action around HADOOP-1202, but it should make this a non-issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fhedberg","name":"fhedberg","key":"fhedberg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fredrik Hedberg","active":true,"timeZone":"Etc/UTC"},"created":"2007-07-20T23:20:43.787+0000","updated":"2007-07-20T23:20:43.787+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514374","id":"12514374","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bien","name":"bien","key":"bien","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Bieniosek","active":true,"timeZone":"America/Los_Angeles"},"body":"I abandoned HADOOP-1202 because people didn't seem to see any value in it,\nand I changed the way I use hadoop on ec2 around the same time.  You're\nwelcome to pick it up and port the patch to trunk; it shouldn't be too much\nwork.\n\n-Michael\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bien","name":"bien","key":"bien","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Bieniosek","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-20T23:40:07.519+0000","updated":"2007-07-20T23:40:07.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514425","id":"12514425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"This problem was caused by the changes made in Amazon EC2 addressing: previously instances were direct addressed (given a single IP routable address) and now they are NAT-addressed (by default, for later tool versions). The key point is that NAT-addressed instances can't access other NAT-addressed instances using the public address. Direct addressing is going to be phased out. See http://developer.amazonwebservices.com/connect/entry.jspa?externalID=682&categoryID=100 for more details. \n\nTools versions ec2-api-tools-1.2-9739 and later use NAT addressing, and I have been using ec2-api-tools-1.2-7546 (although I thought I had been using ec2-api-tools-1.2-9739) which still uses direct addressing.\n\nI don't think HADOOP-1202 will make this a non-issue since EC2 NAT instances cannot route to the public address of other instances. So even if the namenode and job tracker could bind to the public address that would not be much help to the slaves since they have to connect to the internal address - so this patch would still be needed.\n\nStu, I agree that it would be nice to fix this problem more thoroughly but until we have a better solution I think this approach is fine.\n\nI've tested with the last three versions of ec2-api-tools and have successfully run the grep example on small multi-node clusters. When NAT-addressing is used however the webservers on datanodes and task trackers are not accessible since non-routable addresses are used. Apart from this limitation (which can be worked around by logging in to the relevant machine to browse logs) jobs ran OK.\n\nSo I vote to commit this (along with HADOOP-1635, HADOOP-1634) - I'll have some time to do this tomorrow.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2007-07-21T16:18:35.245+0000","updated":"2007-07-21T16:18:35.245+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514441","id":"12514441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bien","name":"bien","key":"bien","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Bieniosek","active":true,"timeZone":"America/Los_Angeles"},"body":"> This problem was caused by the changes made in Amazon EC2 addressing: previously instances were direct addressed (given a single IP routable address) and now they are NAT-addressed (by default, for later tool versions). The key point is that NAT-addressed instances can't access other NAT-addressed instances using the public address.\n\nI don't use the hadoop ec2 scripts, but I filed HADOOP-1202 specifically because of this issue.\n\nThe solution I intended with HADOOP-1202 was to make the namenode and jobtracker bind to 0.0.0.0 using my HADOOP-1202 patch, but use the internal addresses in the hadoop configs.  I set up an http proxy to view logs for the datanodes and tasktrackers (I have my httpd.conf if anybody is interested).  It is then possible to view the jobtracker & namenode website normally (you have to submit jobs from inside the cluster though, since submitting a job writes to the dfs).  The problem is that you can't use the dfs from outside the cluster; instead you have to use some proxying solution which will be much slower (in our case it took longer to copy data back than to compute it).  \n\nIf you need to use dfs, the real solution is to make all datanodes bind to 0.0.0.0, make the namenode aware that each datanode has two addresses, and make sure the namenode knows when to use which one.  This would require significantly more work than my HADOOP-1202 patch though.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bien","name":"bien","key":"bien","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Bieniosek","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-07-21T20:36:09.298+0000","updated":"2007-07-21T20:36:09.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12374208/comment/12514510","id":"12514510","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"I've just committed this. Thanks Stu!\n\n(I also fixed another instance of the column 7 problem in start-hadoop.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2007-07-22T20:56:33.627+0000","updated":"2007-07-22T20:56:33.627+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-1638/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0iion:"}}