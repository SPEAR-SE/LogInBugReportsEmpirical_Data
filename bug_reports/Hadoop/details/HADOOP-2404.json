{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12384400","self":"https://issues.apache.org/jira/rest/api/2/issue/12384400","key":"HADOOP-2404","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312740","id":"12312740","description":"","name":"0.16.0","archived":false,"released":true,"releaseDate":"2008-02-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-12-11T13:56:00.686+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jan 31 12:30:46 UTC 2008","customfield_12310420":"81520","customfield_12312320":null,"customfield_12310222":"10002_*:*_5_*:*_2990993172_*|*_1_*:*_5_*:*_1363823991_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_786599089","customfield_12312321":null,"resolutiondate":"2008-01-30T21:08:16.789+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-2404/watchers","watchCount":0,"isWatching":false},"created":"2007-12-11T11:27:59.626+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312740","id":"12312740","description":"","name":"0.16.0","archived":false,"released":true,"releaseDate":"2008-02-07"}],"issuelinks":[{"id":"12319501","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12319501","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12382250","key":"HADOOP-2185","self":"https://issues.apache.org/jira/rest/api/2/issue/12382250","fields":{"summary":"Server ports: to roll or not to roll.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-03-11T18:04:52.856+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310711","id":"12310711","name":"conf","description":"Hadoop configuration mechanism."}],"timeoriginalestimate":null,"description":"HADOOP-2185 removed the following configuration parameters:\n\n{noformat}\ndfs.secondary.info.port\ndfs.datanode.port\ndfs.info.port\nmapred.job.tracker.info.port\ntasktracker.http.port\n{noformat}\n\nand changed the following configuration parameters:\n{noformat}\ndfs.secondary.info.bindAddress\ndfs.datanode.bindAddress\ndfs.info.bindAddress\nmapred.job.tracker.info.bindAddress\nmapred.task.tracker.report.bindAddress\ntasktracker.http.bindAddress\n{noformat}\n\nwithout a backward-compatibility story.\n\nLots are applications/cluster-configurations are prone to fail hence, we need a way to keep things working as-is for 0.16.0 and remove them for 0.17.0.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12374202","id":"12374202","filename":"2404.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-28T18:36:50.561+0000","size":24545,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12374202/2404.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12372122","id":"12372122","filename":"ConfigConvert.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-22T02:06:21.166+0000","size":10803,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12372122/ConfigConvert.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12372310","id":"12372310","filename":"ConfigConvert2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-28T23:30:05.651+0000","size":11264,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12372310/ConfigConvert2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12373902","id":"12373902","filename":"ConfigConvert3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-24T03:09:42.558+0000","size":11635,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12373902/ConfigConvert3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12371483","id":"12371483","filename":"ConfigurationConverter.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-12T04:22:15.685+0000","size":4691,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12371483/ConfigurationConverter.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"105720","customfield_12312823":null,"summary":"HADOOP-2185 breaks compatibility with hadoop-0.15.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12550445","id":"12550445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"One of the applications that failed was Hadoop-On-Demand, which is being used internally at Yahoo. HOD brings up the DFS and MapReduce web UI on dynamically allocated cluster nodes using the older configuration items. With Hadoop trunk, these fail, and the web UI is brought up on the default nodes. HOD thus incorrectly reports the ports where the info servers are brought up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2007-12-11T13:56:00.686+0000","updated":"2007-12-11T13:56:00.686+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12550711","id":"12550711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Konstantin, could you also please fix any documentation, if needed?\n\nIt would be great to atleast clarify the behaviour wrt port-rolling etc. (maybe cluster_setup.html)? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-11T20:44:01.758+0000","updated":"2007-12-11T20:44:01.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12550717","id":"12550717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Arun, There are two +1s from you on HADOOP-2185.\nIt also clarifies about the port rolling and etc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-11T20:55:06.422+0000","updated":"2007-12-11T20:55:06.422+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12550831","id":"12550831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"HADOOP-2185 introduced two types of changes:\n# Change in semantics: no port rolling for any ports.\n# Configuration api changes: 5 properties have been removed and 5 renamed.\n\nHere is the compatibility plan.\n# Semantical changes will not be backward compatible.\n# Old configuration variables will be recognized in 0.16 as described below.\n\nIf a new name of a configuration parameter is present, then old names corresponding\nto this parameter will be ignored.\n\nIf old names of a configuration parameter are present but not the new ones\nthe old parameters will be converted to the new according to the conversion\ntable provided in HADOOP-2185.\n\nThe conversion will be done right after loading all Configuration resources\n(see Configuration.loadResources()) and Hadoop will further work with the\nconverted configuration.\n\nI was assured this will work fine for HOD and Pig.\nBut if your application uses tricks like:\ncreate config; call new JobTracker(config); then get the job-tracker info port\nby calling config.get(\"mapred.job.tracker.info.port\")\nintroduced by HADOOP-1085 this will not work. You will need to change your application\nto use config.get(\"mapred.job.tracker.http.bindAddress\") and then extract the port.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-12T04:16:14.698+0000","updated":"2007-12-12T04:16:14.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12550833","id":"12550833","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch performs configuration conversion as discussed.\nI tested it with new, old, and mixed configurations. It works for me.\nCould anybody please verify it on HOD.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-12T04:22:15.879+0000","updated":"2007-12-12T04:22:15.879+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12550869","id":"12550869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I am unable to get it to working with this patch, I see this exception on all datanodes logs:\n\n2007-12-12 07:15:14,063 ERROR org.apache.hadoop.dfs.DataNode: java.net.BindException: Address already in use\n        at java.net.PlainSocketImpl.socketBind(Native Method)\n        at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:359)\n        at java.net.ServerSocket.bind(ServerSocket.java:319)\n        at java.net.ServerSocket.<init>(ServerSocket.java:185)\n        at org.apache.hadoop.dfs.DataNode.startDataNode(DataNode.java:278)\n        at org.apache.hadoop.dfs.DataNode.<init>(DataNode.java:204)\n        at org.apache.hadoop.dfs.DataNode.makeInstance(DataNode.java:2204)\n        at org.apache.hadoop.dfs.DataNode.run(DataNode.java:2148)\n        at org.apache.hadoop.dfs.DataNode.createDataNode(DataNode.java:2169)\n        at org.apache.hadoop.dfs.DataNode.main(DataNode.java:2360)\n\nNo message about \"deprecated configuration parameter\" appear in the datanode logs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-12-12T07:37:32.334+0000","updated":"2007-12-12T07:37:32.334+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12551080","id":"12551080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"-1 We should not fix this in Configuration.java, but rather in the classes that use the configuration.  So, if you wish to do this via Configuration fixup, add it as a method in HDFS, and call that method in HDFS where it constructs its configurations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-12T19:07:15.531+0000","updated":"2007-12-12T19:07:15.531+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12551099","id":"12551099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Dhruba, this means that there is something else running on the same port. Most likely another data-node on the default port.\nAs I mentioned before this patch does not reverse port rolling behavior, just provides support for the deprecated config parameters.\nAnd \"deprecated configuration parameter\" message does not appear because your configuration does not contain old names.\nThe application you use should explicitly specify port 0 if the actual port # is meant to be arbitrary.\n\nDoug, I agree this would be a better solution. But this will be a much bigger change now and then when we remove\ndeprecation. There are 5 servers involved. So at least 5 places should be patched if we go your way.\nThe problem is only with HOD for now as I understand. HOD does not use Configuration class, but rather\ngenerates xml files by directly writing into them. So there is no way they can call any methods at all.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-12T19:51:40.050+0000","updated":"2007-12-12T19:51:40.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12551105","id":"12551105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> There are 5 servers involved.\n\nThen that's five one-line changes.  I'd rather see those than establish the precedent of making application-specific changes in Configuration.java.  Each server can call the same method.  When that method is removed in the next release the compiler will identify the five calls to it that must be removed.\n\nBetter yet, you could use static methods to access these parameters.  So instead of directly reading dfs.http.bindAddress, add a package-private static method getHttpBindAddress(Configuration) that HDFS calls instead of directly reading the Configuration property in six different places.  That method can implement back-compatibility.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-12T20:14:18.599+0000","updated":"2007-12-12T20:14:18.599+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12551673","id":"12551673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"May be we should just declare that this change is incompatible and not provide any conversion of the changed parameters at all.\nWe cannot provide true compatibility. Whoever relied on the default port usage expecting (consciously or unconsciously) them \nto be rolled if they are busy, would have to explicitly specify 0-ports. This means the configuration should be changed, \nso users might change the names as well.\n\n> instead of directly reading \"dfs.http.bindAddress\", add a package-private static method getHttpBindAddress(Configuration)\n+1  I really hate that we keep using raw names rather than providing getters/setters.\nThis should be done for all configuration parameters imo, and probably belongs to HADOOP-2385.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-14T01:47:15.432+0000","updated":"2007-12-14T01:51:34.186+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552655","id":"12552655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"bq. May be we should just declare that this change is incompatible and not provide any conversion of the changed parameters at all. We cannot provide true compatibility. Whoever relied on the default port usage expecting (consciously or unconsciously) them to be rolled if they are busy, would have to explicitly specify 0-ports. This means the configuration should be changed, so users might change the names as well.\n\nI feel this is a fair argument. We are OK to make this change in our application.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2007-12-18T08:54:23.823+0000","updated":"2007-12-18T08:54:23.823+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552832","id":"12552832","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nMay be we should just declare that this change is incompatible and not provide any conversion of the changed parameters at all.\nWe cannot provide true compatibility. Whoever relied on the default port usage expecting (consciously or unconsciously) them\nto be rolled if they are busy, would have to explicitly specify 0-ports. This means the configuration should be changed,\nso users might change the names as well.\n{quote}\n\nI'm *ok* with some pieces changing semantics, but I worry about current configs breaking - to be honest most people don't care as much about the port-rolling semantics as they do about having their current hadoop-site.xml work as-is. Given that I believe it's important to maintain compatibility... however I'm willing to listen.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-18T17:38:36.183+0000","updated":"2007-12-18T17:38:36.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552834","id":"12552834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I worry about current configs breaking [ ... ]\n\nRight.  If, for example, a site currently sets dfs.info.port, then they should be able to upgrade and still use the web ui at that port (assuming it's not busy) without changing their configuration.  They should also get some warnings on startup, encouraging them to switch to dfs.info.bindAddress.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-18T17:47:58.987+0000","updated":"2007-12-18T17:47:58.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552904","id":"12552904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, this is exactly what this patch does, including warnings.\nWhere do we want the configuration converter method, which class it should belong to?\nI plan to use the same static converter in HDFS and MR and call it whenever appropriate.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-18T21:33:15.655+0000","updated":"2007-12-18T21:33:15.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552909","id":"12552909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I plan to use the same static converter in HDFS and MR and call it whenever appropriate.\n\nWhat happened to the idea of per-parameter methods that are back-compatible?  Why wait for HADOOP-2385?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-18T22:08:42.484+0000","updated":"2007-12-18T22:08:42.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552940","id":"12552940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Do you propose to introduce here per-parameter (back-compatible) methods only for \nthe affected address and port parameters or for all of them?\nThe latter is a big change presumably to be addressed by HADOOP-2385 after a reasonable design effort.\nBackward compatibility for port parameters is a more urgent and much less permanent matter.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-18T23:55:33.232+0000","updated":"2007-12-18T23:55:33.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12552942","id":"12552942","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"There are six parameters involved.  So that's six methods at most, and they're pretty trivial methods, no more complex than the back-compatibility patch already submitted.\n\npublic static InetSocketAddress SecondaryNamenode#getInfoBindAddress(Configuration conf);\npublic static InetSocketAddress DataNode#getInfoBindAddress(Configuration conf) {}\n...\n\nThat doesn't seem like it should take too much design effort.  This issue, unlike HADOOP-2385, isn't about improved error checking, its about back-compatibility.  So  HADOOP-2385 might improve the error checking of these methods, but this issue can add such methods where required for back-compatibility, and change places that currently directly access the configuration to instead call these methods.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T00:03:46.354+0000","updated":"2007-12-19T00:03:46.354+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553196","id":"12553196","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"I thought you proposed to get rid of \"directly reading the Configuration properties\", all of them. Now I understand you do not.\n\nWhere do you count the six parameters? \nA total of 14 parameters were affected by HADOOP-2185, 5 of them were removed, that leaves us with 9 methods.\n\nI counted at least 12 files that directly read *.http.bindAddress parameters from the configuration.\nAnd 27 files that directly read \"fs.default.name\". So the change is not hard its just massive.\n\nTaking into account the amount of testing, which involves old, new, and mixed values of the parameters, \nand that all changes are born to be removed in the next release, I am hesitant whether \n\"establishing the precedent of making application-specific changes in Configuration.java\"\nis really such a bad thing to overweight the advantage of having all changes in precisely one class.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T01:49:12.001+0000","updated":"2007-12-19T01:49:12.001+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553436","id":"12553436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> that leaves us with 9 methods.\n\nOkay, I trust your math.  9 it is.\n\n> And 27 files that directly read \"fs.default.name\". So the change is not hard its just massive.\n\nBut not destabilizing.  Replacing calls to conf.get(\"fs.default.name\") with a call to a static method that does pretty much the same thing but is back-compatible seems safe enough.  0.16 is not yet frozen.\n\n> all changes are born to be removed in the next release\n\nThat I don't see.  Won't we still want all of these methods in the next release?  We might add more validation to them, and add more such methods, and perhaps call them earlier, to force early validation, but we'll still want the methods, no?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T19:06:09.005+0000","updated":"2007-12-19T19:06:09.005+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553447","id":"12553447","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I agree that it seems a little-out-of-place to put the static conversion method in the Configuration class, especially because it deals with dfs parameters only. One alternative would be to put the static conversion method in utils and then call this conversion utility from the constructors of NameNode, DataNode, JobTracker, TaskTracker and DFSClient.\n\nThis approach will not pollute the general-purpose Configuration class with application specific conversion methods while keeping the dfs/mapreduce conversion logic in one central place.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-12-19T19:40:52.740+0000","updated":"2007-12-19T19:40:52.740+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553450","id":"12553450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"The root bug is that these parameters are not accessed through static accessor methods.  Such methods permit changing the format of parameters, renaming parameters, etc.  It's a good idea to always access parameters through accessor methods.  When an incompatible change to parameters is made we should add accessor methods and switch to using them uniformly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T19:54:05.844+0000","updated":"2007-12-19T19:54:05.844+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553467","id":"12553467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"> But not destabilizing.\n\nIt is destabilizing for most of the patches currently submitted.\n\n> That I don't see. Won't we still want all of these methods in the next release?\n\nI am not sure we will need then in this form.\n# I'd prefer to have a separate configuration class per component combining its configuration logic rather than having \nstatic methods all around, but I'd rather continue this discussion in the other issue.\n# I'd prefer to have (a) explicit and (b) deprecated methods for conversion in order to make it clear, (a) which parameters \nare backward compatible now, and (b) that the feature is not going to be supported forever.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T20:07:46.218+0000","updated":"2007-12-19T20:07:46.218+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553473","id":"12553473","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"> It's a good idea to always access parameters through accessor methods. \n\nNobody is arguing with that, but this is not a part of this issue.\n\nI like Dhruba's proposal better. It will still change several files, but definitely less than 27.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T20:14:39.226+0000","updated":"2007-12-19T20:14:39.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553484","id":"12553484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I'd prefer to have a separate configuration class per component combining its configuration logic rather than having static methods all around, but I'd rather continue this discussion in the other issue.\n\nI agree that configuration should be per-component.  But in this case, each component already has a well-known primary class: Namenode, Datanode, JobTracker, TaskTracker, etc.  Or would you rather partition things into simply mapred and hdfs?  Personally, I don't think of those as components so much as sub-systems, and think that those existing classes are appropriate for these accessors long-term.  If you don't agree, then I guess we'll have to push this to another issue.\n\nI also have misgivings about mutating the configuration.  That can make things trickier to debug, since the values in the configuration that are displayed won't match those that the user passed.  Won't that confuse folks?\n\nIt would indeed be nice to have the back-compatibility code in a single place that can easily be deprecated, but we could instead add a consistent comment to each of these places, and file an issue now to remove all places that are so-commented.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T20:41:10.131+0000","updated":"2007-12-19T20:41:10.131+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553491","id":"12553491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"> And 27 files that directly read \"fs.default.name\". \nI thought meaning of \"fs.default.name\" hasn't changed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T20:59:25.472+0000","updated":"2007-12-19T20:59:25.472+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553505","id":"12553505","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"body":"Related to the above, patch for DFSck.java as part of HADOOP-2185 seems incorrect. If we specifiy \"dfs.http.bindAdress\" as \"0.0.0.0:50070\", it will try to connect to \"http://0.0.0.0:50070/....\".\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rangadi","name":"rangadi","key":"rangadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghu Angadi","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-19T21:29:46.943+0000","updated":"2007-12-19T21:29:46.943+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553565","id":"12553565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"We are not converging here. Your arguments are mostly about how the configuration should be structured.\nDoug, you are trying to kill two birds with this one:\n- provide compatibility and \n- clean up the configuration mess.\n\nI prefer to keep them separate and just concentrate on the compatibility. Because as this issue reveals\ncommon ground on the general configuration issue will be harder to achieve.\n\n> I also have misgivings about mutating the configuration. Won't that confuse folks?\n\nInteresting point. If somebody uses the default configuration and expects to be able to \nobtain a non-existing parameter, like \"dfs.info.port\" from it in some legacy code it will fail.\nAnd there isn't much you can do about it.\nThat is another reason for declaring this an incompatible change.\n\nTo summarize the above we have 4 proposals:\n# Declare the port patch an incompatible change and ask people to change their configurations.\n# Accept current conversion patch with all changes localized in one class, and revert it after release 0.16. \nAlthough the practice of making application-specific changes in Configuration.java is a bad practice.\n# Provide static configuration parameter getters (and setters?) related to each component and call \nthem consistently within the code.\n# Create a separate class ConfigurationConverter (packaged in hadoop.util?) with a deprecated \nstatic method for conversion, and call the method in NameNode, DataNode, JobTracker, TaskTracker,\nSeondaryNamenode, and DFSClient constructors.\n\nI am in favor of 1, but I am ok with 2 and 4.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-20T01:55:53.614+0000","updated":"2007-12-20T01:55:53.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12553736","id":"12553736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"I like Doug's idea of cleaning up the configuration-mess, but find option 4 equally elegant to provide backward compatibility, especially because all the backward-compatibility stuff is localized at one place. This seems to be similar to the way we handle backward compatibility in disk-format, all of it localized in one method in FsEditLog.java.\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2007-12-20T17:50:27.412+0000","updated":"2007-12-20T17:50:27.412+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12554079","id":"12554079","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This is the implementation of variant (4).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-22T02:06:21.336+0000","updated":"2007-12-22T02:06:21.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12554551","id":"12554551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"There is one problem that HADOOP-2185 introduced (without knowledge I am sure) in the tasktracker's reinitialization (after the jobtracker declares the tasktracker as lost, and upon the next connection to the jobtracker, the tasktracker is asked to reinitialize). Post HADOOP-2185, the tasktracker's initialize method sets \"mapred.task.tracker.report.bindAddress\" to the listener address. This would be in the format _/<name>:<port>_ (due to the way InetAddress.toString() is implemented). Now if the tasktracker were lost and were to reinitialize, it would call the initialize method again, and this time the call to createSocketAddress would fail because of the leading slash in the argument, and the tasktracker would not be able to recover from this. So maybe, we should do a check for '/' in the tasktracker initialization before passing it to createSocketAddress? Not sure whether such problems exist elsewhere in the framework code too ....\nPre-HADOOP-2185, the \"mapred.task.tracker.report.bindAddress\" would not be reset to the listener address, and, hence the above problem is not there..\n\nThis issue needs a resolution (and hence I am cancelling the patch).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2007-12-27T09:02:42.516+0000","updated":"2007-12-27T09:02:42.516+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12554859","id":"12554859","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, the old code was setting (by mistake I am sure) \"mapred.task.tracker.report.address\" instead of \"...bindAddress\".\nThe former is a non-existing configuration parameter, setting of which to anything would not cause any problems since \nit is not used anywhere. But I agree fixing one bug does not release you from the responsibility of fixing another one\nin the same line. Here is the patch that takes care of this problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-28T23:30:05.837+0000","updated":"2007-12-28T23:30:05.837+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12555732","id":"12555732","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> Doug, you are trying to kill two birds with this one,  provide compatibility and clean up the configuration mess.\n\nNo, I'm trying to provide compatibility without creating a new mess, by using this as an opportunity to decrease the mess by doing this the way it should have been done in the original patch.  The original patch should have been rejected because it was not back-compatible.  We're not yet under a code freeze, so we're under no pressure to create a minimally invasive patch.  We should instead be trying to write exemplary code.  It is not a good practice to modify the user's configuration instance.  It is a good practice to handle back-compatibility for configuration options by adding accessor methods and using those wherever the option is accessed.  That's what should have been done in the original patch and that's what we should do now.\n\nWe don't need a new public class called ConfigurationConverter in the util package.  That's a step in the wrong direction.  Back-compatibility should be localized whenever possible, not thrown into a big pot.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-04T00:15:39.608+0000","updated":"2008-01-04T00:15:39.608+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12557109","id":"12557109","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"It sounds like you are under the impression that the original patch was just about renaming a bunch of configuration parameters. \nIt was not. It was about prohibiting port rolling. This is a security issue. \nSecurity changes are always like that: people are irritated when you impose more restrictions on them. \nAnd it is an incompatible change in its nature. What is the point of restricting if you let everybody go around it?\n\nSuppose that I left all the parameters unchanged, then people would have had hard (even harder) time understanding what is going wrong with their code. \nThat is why I thought it was appropriate to change names at the same time the semantics of the parameter was changing.\nI thought and still think it is more fair not to provide any backward compatibility at all in this case rather than to provide partial compatibility in the form of old name recognition.\nWill not repeat all the arguments again, but it looks like they convinced Hemanth, and turned Arun into willing-to-listen state.\n\nI understand your irritation on the configuration issues, but I don't understand why blame my or equally any other patch for not dealing with them.\n\nI do not favor the idea of creating static getters for configuration parameters in NameNode, TaskTracker etc. classes. Just commented on that in HADOOP-2385.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-09T01:52:13.379+0000","updated":"2008-01-09T01:52:13.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12557369","id":"12557369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I thought and still think it is more fair not to provide any backward compatibility at all [ ... ]\n\nHuh?  That's a change from what you stated in [#action_12550831].  No one is asking for 100% back-compatibility here, but rather for a reasonable interpretation where possible of configuration parameters that have changed.  At the very least, if we can easily detect that someone is using a feature that has been incompatibly changed, we should attempt to emit a warning, and not just let things mysteriously fail, no?\n\n> I understand your irritation on the configuration issues, but I don't understand why blame my or equally any other patch for not dealing with them.\n\nYou imply that I am asking this issue to fix a few instances of a widespread problem unrelated to the issue.  That is not the case.  The issue is both specific and related.\n\nIf a config parameter is only read in a single place, then no accessor method is needed.  If it is simply read in multiple places, then an accessor method is nice, since it helps prevent misspellings and makes things easier if the parameter ever requires more processing, but not mandatory.  Once some processing is needed for every access to a parameter then an accessor method is required, since otherwise we'd replicate non-trivial program logic.  HADOOP-2185 pushed several parameters past this threshold, since back-compatibility processing is now required when these parameters are accessed, and thus accessor methods must be added.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-09T18:24:37.960+0000","updated":"2008-01-09T18:24:37.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12557433","id":"12557433","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"> That's a change from what you stated in action_12550831.\n\nI don't see any contradiction. Besides I already said that many times after that, if you read a little bit further down\n[#action_12551673] and [#action_12553565].\n\nProviding partial conversion is a compromise, which I am willing to accept.\nThis is temporary for one release, that is why all related code is deprecated in my patch.\n\n> You imply that I am asking this issue to fix a few instances of a widespread problem unrelated to the issue.\n\n\"some processing\" of exactly these parameters was introduced in HADOOP-1085. [I opposed it then.|https://issues.apache.org/jira/browse/HADOOP-1085?focusedCommentId=12483800#action_12483800] You just committed it.\nIf dozens of files is not widespread then what is.\n\nThe only thing I agree with you upon is that configuration needs accessors.\nBut I do not agree that they should be introdueced in this patch, which will lead to massive changes,\nand I do not support *static* accessors, and I do not see any of these is supported by anybody else.\n\nThis argument is going on for almost a month now. I do not find it productive.\nUnless the compromise proposed by Dhruba is acceptable for you, \nI am planning to submit the bug fix mentioned by Devaraj in a separate issue, and let somebody else deal with this one.\nI mean, people can have different opinions, what do you do with that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-09T21:01:24.899+0000","updated":"2008-01-09T21:01:24.899+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12557441","id":"12557441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> \"some processing\" of exactly these parameters was introduced in HADOOP-1085. I opposed it then. You just committed it.\n\nThat looks like I made a mistake.  Mea culpa.  I don't recall the details, but in those days I was doing a lot of commits and my reviews may have sufferered.\n\n> But I do not agree that they should be introdueced in this patch, which will lead to massive changes\n\nI disagree that the changes are massive.  They're easy to locate (points where the modified  parameters are accessed) not that many locations, and only affect a line or two of code at each location.  I also disagree that the size alone of the change should be a significant factor here.  The change is simple enough that it will not be destabilizing.  The places changed are not likely to be touched by many other pending patches, so it should not create many conflicts.\n\n> This argument is going on for almost a month now. I do not find it productive.\n> I mean, people can have different opinions, what do you do with that.\n\nIf committers cannot reach consensus, then the issue can be taken to the PMC, although that seems like overkill in this case.  If you decline to fix it in a way that others approve, and it is a blocker, then someone else must develop a patch that we can all agree on before we can make the release.  I think you are the best qualified person to fix this.  I could try to generate a patch, but it would probably take me a lot longer than it would you and I would be more likely to make subtle errors, since I am less intimate with the changes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-09T21:34:42.804+0000","updated":"2008-01-09T21:34:42.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12557455","id":"12557455","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"> If you decline to fix it in a way that others approve,\n\nI submitted two patches, and I do not see anybody except for you disapproving the last one.\nI am not declining to make changes to the configuration we talked about here, just in the different jira\nand because this requires more discussion while this issue is considered as a blocker by many.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-09T22:10:03.963+0000","updated":"2008-01-09T22:10:03.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12560524","id":"12560524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"We've dealt with this case before in map/reduce. I propose that we add a new method in Configuration that is general:\n\n{code}\n/**\n * Get an integer from a list of attribute names prefering the first.\n * Should be called like:\n *   conf.getInteger(new String[]{\"old.name\", \"new.name\"}, 12);\n */\npublic int getInteger(String[] attribute names, int default);\n{code}\n\nSince this is generic code, it is reasonable to put it into config and it enables changing attribute names pretty easily. Each of the servers then has a single call to make to get the integer and in the next version they can drop the old name and move to the current getInteger.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-18T19:56:31.323+0000","updated":"2008-01-18T19:56:31.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12560527","id":"12560527","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Konst just pointed out that we want to generate a warning, so it should look like:\n\n{code}\npublic int getInteger(String deprecatedName, String newName, int defaultValue);\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-18T20:00:31.076+0000","updated":"2008-01-18T20:00:31.076+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12560643","id":"12560643","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Nah, this won't work either. Sorry missed that point when we talked.\nThe new property actually combines values from two old names, and the old names have different value types. E.g., \n{code}\ndfs.http.bindAddress = dfs.info.bindAddress + dfs.info.port\n{code}\n\nSo I need to pass 2 deprecated names and one new. This does not sound very generic already, besides I will need to\nspecify the values of the old parameters, which makes it messy.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-19T02:28:22.599+0000","updated":"2008-01-19T02:28:22.599+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12561437","id":"12561437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Then please make a getter in the NameNode to pull this value out. The ones that are just attribute renamings can be done the other way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-22T19:41:19.322+0000","updated":"2008-01-22T19:41:19.322+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12561928","id":"12561928","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"This is in line with Owen's initial proposal.\nI created a new method that merges deprecated properties into one using specified delimiter.\n{code}\npublic String get(String[] deprecatedNames, \n                  String delimiter, \n                  String newName, \n                  String defaultValue) {\n{code}\nFor the purpose of this issue I always pass two deprecated names that correspond to an address and a port of each component.\nThe method can be also used for simple cases, like rename of a property. \nIn this case the array should contain only one entry.\nThe types are always treated as Strings, which works well for xml properties.\nType verification will be done later when the value is converted to its actual type.\n\nAlso, I commented all deprecated properties in the code so that we could easily remove them later.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-24T03:09:42.755+0000","updated":"2008-01-24T03:09:42.755+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12562351","id":"12562351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12373902/ConfigConvert3.patch\nagainst trunk revision 614721.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    javadoc +1.  The javadoc tool did not generate any warning messages.\n\n    javac +1.  The applied patch does not generate any new compiler warnings.\n\n    findbugs -1.  The patch appears to introduce 1 new Findbugs warnings.\n\n    core tests +1.  The patch passed core unit tests.\n\n    contrib tests -1.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1669/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1669/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1669/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1669/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-25T04:28:59.703+0000","updated":"2008-01-25T04:28:59.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12562355","id":"12562355","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"1. The method as proposed isn't general enough to be useful to more than this context.\n2. It does not handle the case where the port or just the bind address are defined in the old style, but not the other.\n3. It will always generate a warning about the task tracker, since the old value was set by the code.\n4. The task tracker report bind address changed syntax without changing configuration names.\n5. The configuration now lets users define non-zero ports for the task tracker server.\n\nSince Konst is sick, I'll roll a new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-25T04:51:28.579+0000","updated":"2008-01-25T04:51:28.579+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12562770","id":"12562770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"> 3. It will always generate a warning about the task tracker, since the old value was set by the code.\nThis is not true. It will not generate warning because the new code sets the old value as well.\n\n> Since Konst is sick, I'll roll a new patch.\nYes, please.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-25T23:49:32.608+0000","updated":"2008-01-25T23:49:32.608+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563237","id":"12563237","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Ok, I made a specific (and deprecated) method in to \norg.apache.hadoop.net.NetUtils that gets the old bind address attribute name.\n\n*Sigh* because of the reuse of mapred.task.tracker.report.bindAddress, which conflicted with the meaning in 0.15, I needed a new name for that attribute. All of the *.bindAddress's in 0.15 were of the form \"0.0.0.0\" and now we expect \"0.0.0.0:0\", so it seemed better to give them a new extension. (Most of the attributes changed prefixes in the bug that led to this one.) So, I changed the attribute names to end with .address, which means that users can easily search for problems in their configs. In particular, the names are now:\n\ndfs.secondary.http.bindAddress -> dfs.secondary.http.address\ndfs.datanode.bindAddress -> dfs.datanode.address\ndfs.datanode.http.bindAddress -> dfs.datanode.http.address\ndfs.http.bindAddress -> dfs.http.address\nmapred.job.tracker.http.bindAddress -> mapred.job.tracker.http.address\nmapred.task.tracker.report.bindAddress -> mapred.task.tracker.report.address\nmapred.task.tracker.http.bindAddress -> mapred.task.tracker.http.address\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-28T18:36:50.652+0000","updated":"2008-01-28T18:36:50.652+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563271","id":"12563271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \nhttp://issues.apache.org/jira/secure/attachment/12374202/2404.patch\nagainst trunk revision 615723.\n\n    @author +1.  The patch does not contain any @author tags.\n\n    javadoc +1.  The javadoc tool did not generate any warning messages.\n\n    javac -1.  The applied patch generated 617 javac compiler warnings (more than the trunk's current 607 warnings).\n\n    release audit +1.  The applied patch does not generate any new release audit warnings.\n\n    findbugs +1.  The patch does not introduce any new Findbugs warnings.\n\n    core tests -1.  The patch failed core unit tests.\n\n    contrib tests +1.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1693/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1693/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1693/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/1693/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-28T20:15:13.269+0000","updated":"2008-01-28T20:15:13.269+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563285","id":"12563285","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"body":"+1. Code looks good to me. Since the names of configuration parameters are changing, it is possible that it might need corresponding changes in HOD settings.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dhruba","name":"dhruba","key":"dhruba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dhruba&avatarId=30636","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhruba&avatarId=30636","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhruba&avatarId=30636","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhruba&avatarId=30636"},"displayName":"dhruba borthakur","active":true,"timeZone":"America/Tijuana"},"created":"2008-01-28T21:14:12.498+0000","updated":"2008-01-28T21:14:12.498+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563305","id":"12563305","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"Reviewing code per Owen's request.\n# I am not sure changing names again is such a good idea. Are we going to need a backward compatibility for this new change too?\n# I am getting NPE if I run with the old configuration.\n{code}\n08/01/28 21:28:48 ERROR dfs.NameNode: java.lang.NullPointerException\n\tat org.apache.hadoop.net.NetUtils.getServerAddress(NetUtils.java:131)\n\tat org.apache.hadoop.dfs.FSNamesystem.initialize(FSNamesystem.java:279)\n\tat org.apache.hadoop.dfs.FSNamesystem.<init>(FSNamesystem.java:235)\n\tat org.apache.hadoop.dfs.NameNode.initialize(NameNode.java:130)\n\tat org.apache.hadoop.dfs.NameNode.<init>(NameNode.java:175)\n\tat org.apache.hadoop.dfs.NameNode.<init>(NameNode.java:161)\n\tat org.apache.hadoop.dfs.NameNode.createNameNode(NameNode.java:843)\n\tat org.apache.hadoop.dfs.NameNode.main(NameNode.java:852)\n{code}\nBasically this code does not work if newBindAddressName is not present.\n# For task tracker \"mapred.task.tracker.report.port\" property never existed. So the oldPort will remain unitialized.\n# What happend with the default values? Don't we need them?\n# I don't see how this is different from the previous approaches, and why we are spending so many resources on such an insignificant issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-28T21:57:01.347+0000","updated":"2008-01-28T21:57:01.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563347","id":"12563347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"The NPE was only if you had an old hadoop-default.xml, which isn't a serious concern.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-29T00:07:40.384+0000","updated":"2008-01-29T00:07:40.384+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563350","id":"12563350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"BTW, the increase in warnings is because the new method is both deprecated and called.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-29T00:13:17.789+0000","updated":"2008-01-29T00:13:17.789+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563353","id":"12563353","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Konstantin,\n   The current patch works for cases where the old configuration file has one or the other defined. The previous patch didn't work in cases where only one of the old values was defined. For example, if the configuration has: dfs.info.bindAddress defined, but not dfs.info.port, then def.info.bindAddress will be ignored.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-29T00:22:51.245+0000","updated":"2008-01-29T00:22:51.245+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563421","id":"12563421","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"bq. Sigh because of the reuse of mapred.task.tracker.report.bindAddress, which conflicted with the meaning in 0.15, I needed a new name for that attribute. All of the *.bindAddress's in 0.15 were of the form \"0.0.0.0\" and now we expect \"0.0.0.0:0\", so it seemed better to give them a new extension. (Most of the attributes changed prefixes in the bug that led to this one.) So, I changed the attribute names to end with .address, which means that users can easily search for problems in their configs.\n\nUnfortunately, this change will break HOD. As I had noted earlier on in this bug, HOD had not depended on backward compatibility, and had been coded to work with Hadoop 0.16's names. Partly this was also because we needed to provide a fix for our internal users who have been using HOD and Hadoop 0.16 trunk for a long time now. HOD was also completely sync'ed up to Hadoop SVN yesterday a few minutes before this change.  So, we have two options as I see it:\n\n- Try not to change the names that were originally proposed for Hadoop 0.16. This is preferable for us.\n- If for some reason we decide this is the right approach to take, we should fix it as a blocker for HOD in the 0.16 release itself.\n\nI would request we resolve this ASAP so we can make changes if necessary.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-01-29T08:24:10.848+0000","updated":"2008-01-29T08:24:10.848+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563634","id":"12563634","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Could HOD take out the branches that were added to support HADOOP-2185? Since after the current patch, the pre-2185 configuration will work again... that seems like a pretty easy solution for now. Thoughts?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-29T19:46:05.526+0000","updated":"2008-01-29T19:46:05.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12563820","id":"12563820","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"body":"bq. Could HOD take out the branches that were added to support HADOOP-2185? Since after the current patch, the pre-2185 configuration will work again... that seems like a pretty easy solution for now. Thoughts?\n\nWe thought about this. It is actually easier to just change the names of the variables. This is just a string replacement in code, and is a pretty harmless change. Also, thinking longer term, we would rather work with Hadoop 0.16 by default, rather than earlier versions. That way, if this change is deprecated and removed in the next release, we could just knock out the deprecated Hadoop 0.15 configuration from HOD. \n\nThat said, both methods will involve making changes in HOD\n\nIf it helps in making a decision, I repeat my opinion:\n\n- Preferred choice, do not use the new names.\n- Next choice: if the Hadoop community feels this change is good, we will make the changes in HOD to sync up.  No problems with that. We require very little time to make the changes.\n\nIOW, please make a decision and we'll follow. *smile*","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhemanth","name":"yhemanth","key":"yhemanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hemanth Yamijala","active":true,"timeZone":"Asia/Kolkata"},"created":"2008-01-30T04:11:15.822+0000","updated":"2008-01-30T04:11:15.822+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12564170","id":"12564170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"body":"I agree with Hemanth. Why changing names again. \n- Everybody has already adapted to the previous ones.\n- The patch does not address issues brought up by Doug.\n- There are 3 solutions that don't change names.\n- And I seriously don't understand why you removed default values in getters.\n\nJust let this issue rest in peace.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shv","name":"shv","key":"shv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Konstantin Shvachko","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-30T20:51:39.458+0000","updated":"2008-01-30T20:51:39.458+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12564173","id":"12564173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this to both trunk and 0.16.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-01-30T21:08:16.772+0000","updated":"2008-01-30T21:08:16.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12384400/comment/12564379","id":"12564379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #385 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/385/])","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2008-01-31T12:30:46.788+0000","updated":"2008-01-31T12:30:46.788+0000"}],"maxResults":58,"total":58,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-2404/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ig7j:"}}