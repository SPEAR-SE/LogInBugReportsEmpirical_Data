{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12992363","self":"https://issues.apache.org/jira/rest/api/2/issue/12992363","key":"HADOOP-13420","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-09-28T06:52:09.277+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 07 01:45:14 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-13420/watchers","watchCount":2,"isWatching":false},"created":"2016-07-25T18:36:47.014+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":"ExpiredTokenRemover","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-07T01:45:14.506+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"Hadoop/HDFS & Yarn processes exit (all jps deamons) and user is thrown out from session when it is running an MR job, after some interval (i.e. after few jobs completed successfully).\n\nError in log file: 2016-07-23 17:56:16,258 ERROR org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager: ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted\n\nLog file: /usr/local/hadoop/logs/yarn-hduser-resourcemanager-KMUbLptp.log\n\n2016-07-23 17:56:14,044 INFO org.apache.hadoop.yarn.server.resourcemanager.rmcontainer.RMContainerImpl: container_1469316920580_0007_01_000002 Container Transitioned from ACQUIRED to RUNNING\n2016-07-23 17:56:14,663 INFO org.apache.hadoop.yarn.server.resourcemanager.scheduler.AppSchedulingInfo: checking for deactivate of application :application_1469316920580_0007\n2016-07-23 17:56:16,201 ERROR org.apache.hadoop.yarn.server.resourcemanager.ResourceManager: RECEIVED SIGNAL 15: SIGTERM\n2016-07-23 17:56:16,258 ERROR org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager: ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted\n2016-07-23 17:56:16,259 INFO org.mortbay.log: Stopped HttpServer2$SelectChannelConnectorWithSafeStartup@0.0.0.0:8088\n2016-07-23 17:56:16,284 ERROR org.apache.hadoop.yarn.server.resourcemanager.ResourceManager: RECEIVED SIGNAL 15: SIGTERM\n2016-07-23 17:56:16,360 INFO org.apache.hadoop.ipc.Server: Stopping server on 8032\n2016-07-23 17:56:16,361 INFO org.apache.hadoop.ipc.Server: Stopping IPC Server listener on 8032\n2016-07-23 17:56:16,361 INFO org.apache.hadoop.ipc.Server: Stopping IPC Server Responder\n2016-07-23 17:56:16,362 INFO org.apache.hadoop.ipc.Server: Stopping server on 8033\n\nThis error is happens only after below terminal output entry :\n16/07/23 17:56:13 INFO mapreduce.Job:  map 0% reduce 0%\n\nEnvironment:\nUbuntu Desktop 16 LTE, jdk1.8.92 & Hadoop 2.7.2\n\nSteps to reproduce:\n(1)login (on terminal) using dedicated user hduser (a sudo user) using command: su hduser \n(2)start hadoop daemons using commands: start-dfs.sh & start-yarn.sh\n(3)I can see all processes\n(4)Few MR jobs completed successfully. Can try submit same job after about 10-15 min.\n(5)This user is thrown out & land in regular desktop user session.\n\nI think it could be some timeout, it works normally again if I restart my machine & start over again. I get same error if I follow the same steps on the same terminal session. \n\nI would appreciate if somebody has encountered this issue.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hadoop standalone instance exits during starting an MR job with ExpiredTokenRemover error in log (after some time & after few jobs executed successfully)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmbeyond","name":"kmbeyond","key":"kmbeyond","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Miryala","active":true,"timeZone":"America/Vancouver"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmbeyond","name":"kmbeyond","key":"kmbeyond","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Miryala","active":true,"timeZone":"America/Vancouver"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Ubuntu Desktop 16 LTE, jdk1.8.92 & Hadoop 2.7.2","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992363/comment/15528633","id":"15528633","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ramur","name":"ramur","key":"ramur","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ramu.R","active":true,"timeZone":"Etc/UTC"},"body":"Had the same problem with Ubuntu 16.04, I have downgraded to 14.04. Was working for me. Please check the following link http://stackoverflow.com/questions/38548004/hadoop-standalone-instance-exits-during-executing-an-mr-job-with-expiredtokenrem","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ramur","name":"ramur","key":"ramur","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ramu.R","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-28T06:52:09.277+0000","updated":"2016-09-28T06:52:09.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992363/comment/15553813","id":"15553813","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmbeyond","name":"kmbeyond","key":"kmbeyond","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Miryala","active":true,"timeZone":"America/Vancouver"},"body":"Yes, I noticed the issue is with only Ubuntu 16.04, not with Ubuntu 14.04.\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmbeyond","name":"kmbeyond","key":"kmbeyond","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Miryala","active":true,"timeZone":"America/Vancouver"},"created":"2016-10-07T01:45:14.506+0000","updated":"2016-10-07T01:45:14.506+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-13420/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i31h2v:"}}