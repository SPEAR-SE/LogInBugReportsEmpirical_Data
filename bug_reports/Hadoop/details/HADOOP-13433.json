{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12992881","self":"https://issues.apache.org/jira/rest/api/2/issue/12992881","key":"HADOOP-13433","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334219","id":"12334219","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335546","id":"12335546","description":"2.7.4 release","name":"2.7.4","archived":false,"released":true,"releaseDate":"2017-08-04"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12338279","id":"12338279","description":"2.6.6 release","name":"2.6.6","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12339180","id":"12339180","name":"3.0.0-alpha4","archived":false,"released":true,"releaseDate":"2017-07-07"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12340354","id":"12340354","name":"2.8.2","archived":false,"released":true,"releaseDate":"2017-10-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-07-27T11:53:03.405+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Feb 01 22:13:25 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2330932420_*|*_4_*:*_1_*:*_9870355_*|*_5_*:*_2_*:*_710203052_*|*_10002_*:*_2_*:*_13959949780","customfield_12312321":null,"resolutiondate":"2017-02-09T07:54:56.966+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-13433/watchers","watchCount":32,"isWatching":false},"created":"2016-07-27T10:39:01.416+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"14.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329058","id":"12329058","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334005","id":"12334005","description":"2.7.3 release","name":"2.7.3","archived":false,"released":true,"releaseDate":"2016-08-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334689","id":"12334689","description":"2.6.5 release","name":"2.6.5","archived":false,"released":true,"releaseDate":"2016-10-08"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335733","id":"12335733","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[{"id":"12492816","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12492816","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13038769","key":"HADOOP-14037","self":"https://issues.apache.org/jira/rest/api/2/issue/13038769","fields":{"summary":"client.handleSaslConnectionFailure needlessly wraps IOEs","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12531447","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12531447","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13151417","key":"HADOOP-15378","self":"https://issues.apache.org/jira/rest/api/2/issue/13151417","fields":{"summary":"Hadoop client unable to relogin because a remote DataNode has an incorrect krb5.conf","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12524411","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12524411","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13127043","key":"HADOOP-15143","self":"https://issues.apache.org/jira/rest/api/2/issue/13127043","fields":{"summary":"NPE due to Invalid KerberosTicket in UGI","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12498247","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12498247","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"outwardIssue":{"id":"13038468","key":"HADOOP-14030","self":"https://issues.apache.org/jira/rest/api/2/issue/13038468","fields":{"summary":"PreCommit TestKDiag failure","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12498165","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12498165","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"outwardIssue":{"id":"13056677","key":"HADOOP-14191","self":"https://issues.apache.org/jira/rest/api/2/issue/13056677","fields":{"summary":"Duplicate hadoop-minikdc dependency in hadoop-common module","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-04-10T16:06:16.732+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312526","id":"12312526","name":"security"}],"timeoriginalestimate":null,"description":"This is a problem that has troubled us for several years. For our HBase cluster, sometimes the RS will be stuck due to\n\n{noformat}\n2016-06-20,03:44:12,936 INFO org.apache.hadoop.ipc.SecureClient: Exception encountered while connecting to the server :\njavax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: The ticket isn't for us (35) - BAD TGS SERVER NAME)]\n        at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:194)\n        at org.apache.hadoop.hbase.security.HBaseSaslRpcClient.saslConnect(HBaseSaslRpcClient.java:140)\n        at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.setupSaslConnection(SecureClient.java:187)\n        at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.access$700(SecureClient.java:95)\n        at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection$2.run(SecureClient.java:325)\n        at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection$2.run(SecureClient.java:322)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:396)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1781)\n        at sun.reflect.GeneratedMethodAccessor23.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.hadoop.hbase.util.Methods.call(Methods.java:37)\n        at org.apache.hadoop.hbase.security.User.call(User.java:607)\n        at org.apache.hadoop.hbase.security.User.access$700(User.java:51)\n        at org.apache.hadoop.hbase.security.User$SecureHadoopUser.runAs(User.java:461)\n        at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.setupIOstreams(SecureClient.java:321)\n        at org.apache.hadoop.hbase.ipc.HBaseClient.getConnection(HBaseClient.java:1164)\n        at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:1004)\n        at org.apache.hadoop.hbase.ipc.SecureRpcEngine$Invoker.invoke(SecureRpcEngine.java:107)\n        at $Proxy24.replicateLogEntries(Unknown Source)\n        at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.shipEdits(ReplicationSource.java:962)\n        at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.runLoop(ReplicationSource.java:466)\n        at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.run(ReplicationSource.java:515)\nCaused by: GSSException: No valid credentials provided (Mechanism level: The ticket isn't for us (35) - BAD TGS SERVER NAME)\n        at sun.security.jgss.krb5.Krb5Context.initSecContext(Krb5Context.java:663)\n        at sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:248)\n        at sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:180)\n        at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:175)\n        ... 23 more\nCaused by: KrbException: The ticket isn't for us (35) - BAD TGS SERVER NAME\n        at sun.security.krb5.KrbTgsRep.<init>(KrbTgsRep.java:64)\n        at sun.security.krb5.KrbTgsReq.getReply(KrbTgsReq.java:185)\n        at sun.security.krb5.internal.CredentialsUtil.serviceCreds(CredentialsUtil.java:294)\n        at sun.security.krb5.internal.CredentialsUtil.acquireServiceCreds(CredentialsUtil.java:106)\n        at sun.security.krb5.Credentials.acquireServiceCreds(Credentials.java:557)\n        at sun.security.jgss.krb5.Krb5Context.initSecContext(Krb5Context.java:594)\n        ... 26 more\nCaused by: KrbException: Identifier doesn't match expected value (906)\n        at sun.security.krb5.internal.KDCRep.init(KDCRep.java:133)\n        at sun.security.krb5.internal.TGSRep.init(TGSRep.java:58)\n        at sun.security.krb5.internal.TGSRep.<init>(TGSRep.java:53)\n        at sun.security.krb5.KrbTgsRep.<init>(KrbTgsRep.java:46)\n        ... 31 moreâ€‹\n{noformat}\n\nIt rarely happens, but if it happens, the regionserver will be stuck and can never recover.\n\nRecently we added a log after a successful re-login which prints the private credentials, and finally catched the direct reason. After a successful re-login, we have two kerberos tickets in the credentials, one is the TGT, and the other is a service ticket. The strange thing is that, the service ticket is placed before TGT. This breaks the assumption of jdk's kerberos library. See http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/935758609767/src/share/classes/sun/security/jgss/krb5/Krb5InitCredential.java, the {{getTgt}} Method\n\n{code:title=Krb5InitCredential}\n            return AccessController.doPrivileged(\n                new PrivilegedExceptionAction<KerberosTicket>() {\n                public KerberosTicket run() throws Exception {\n                    // It's OK to use null as serverPrincipal. TGT is almost\n                    // the first ticket for a principal and we use list.\n                    return Krb5Util.getTicket(\n                        realCaller,\n                        clientPrincipal, null, acc);\n                        }});\n{code}\nSo here, the library will use the service ticket as TGT to acquire a service ticket, and KDC will reject the request since the 'TGT' does not start with 'krbtgt'. And it can never recover because in UGI, the re-login will check if there is a valid TGT first and no doubt, we have one...\n\nThis usually happens when a secure connection initialization comes along with the re-login, and the end time indicates that the service ticket is acquired by the previous TGT. Since UGI does not prevent doAs and re-login happen at the same time, we believe that there is a race condition.\n\nAfter reading the code, we found a possible race condition.\n\nSee http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/935758609767/src/share/classes/sun/security/jgss/krb5/Krb5Context.java, the {{initSecContext}} method, we will get TGT first, then check if there is already a service ticket, if not, acquire a service ticket using the TGT, and put it into the credentials.\n\nAnd in Krb5LoginModule.logout(the sun version), we will remove the kerberos tickets from the credentials first, and then destroy them.\n\nHere comes the race condition. Let T1 be the secure connection set up thread, T2 be the re-login thread.\n\nT1: get TGT\nT2: remove all tickets from credentials\nT1: check service ticket, none(since all tickets have been removed)\nT1: acquire a new service ticket using TGT and put it into the credentials\nT2: destroy all tickets\nT2: login, i.e., put a new TGT into the credentials.\n\nIt is hard to write a UT to produce the problem because the racing code is in jdk, which is not written by us...\n\nSuggestions are welcomed. Thanks.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334219","id":"12334219","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12825021","id":"12825021","filename":"HADOOP-13433.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-23T10:06:54.376+0000","size":13278,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12825021/HADOOP-13433.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12850749","id":"12850749","filename":"HADOOP-13433-branch-2.7.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T02:48:02.237+0000","size":5779,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12850749/HADOOP-13433-branch-2.7.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12850811","id":"12850811","filename":"HADOOP-13433-branch-2.7-v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T10:29:35.277+0000","size":6068,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12850811/HADOOP-13433-branch-2.7-v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12851608","id":"12851608","filename":"HADOOP-13433-branch-2.7-v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-08T10:29:18.037+0000","size":6082,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12851608/HADOOP-13433-branch-2.7-v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12850777","id":"12850777","filename":"HADOOP-13433-branch-2.8.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-03T06:28:31.561+0000","size":6125,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12850777/HADOOP-13433-branch-2.8.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12850748","id":"12850748","filename":"HADOOP-13433-branch-2.8.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T02:48:02.227+0000","size":6125,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12850748/HADOOP-13433-branch-2.8.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12851607","id":"12851607","filename":"HADOOP-13433-branch-2.8-v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-08T10:26:12.226+0000","size":6117,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12851607/HADOOP-13433-branch-2.8-v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12849290","id":"12849290","filename":"HADOOP-13433-branch-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-25T13:29:46.955+0000","size":6208,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12849290/HADOOP-13433-branch-2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12825196","id":"12825196","filename":"HADOOP-13433-v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-24T05:37:09.277+0000","size":13750,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12825196/HADOOP-13433-v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12825208","id":"12825208","filename":"HADOOP-13433-v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-24T07:01:34.122+0000","size":13748,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12825208/HADOOP-13433-v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12846745","id":"12846745","filename":"HADOOP-13433-v4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T05:30:10.269+0000","size":20101,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12846745/HADOOP-13433-v4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12848011","id":"12848011","filename":"HADOOP-13433-v5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-18T08:02:01.617+0000","size":19863,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12848011/HADOOP-13433-v5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12849289","id":"12849289","filename":"HADOOP-13433-v6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-25T13:29:01.857+0000","size":19863,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12849289/HADOOP-13433-v6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12845021","id":"12845021","filename":"HBASE-13433-testcase-v3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-12-29T07:13:23.789+0000","size":7108,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12845021/HBASE-13433-testcase-v3.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Race in UGI.reloginFromKeytab","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15395510","id":"15395510","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"sounds like there needs to be some exclusions so that you can't mix doAs and (re) logins, though there's always the risk of deadlocks coming there -or at least relogin not happening due to the lifespan of doAs work","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2016-07-27T11:53:03.405+0000","updated":"2016-07-27T11:53:03.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15397198","id":"15397198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"In general, a better way is to not reuse the Subject object. The re-login stages will be\n\n1. Create a new subject and login.\n2. Switch subject.\n3. logout the old subject some while later since it may still be used by someone.\n\nI used to write code like this, it works. But I do not know if it works in hadoop. If we add lots of other stuffs to the subject, then the algorithm maybe broken because we do not know when to move these stuffs from the old subject to new subject.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-07-28T07:46:48.667+0000","updated":"2016-07-28T07:46:48.667+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15403375","id":"15403375","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Some progress...\n\nI tried to write a UT by moving TGT to the last of the private credentials manually, and the service ticket is sent to KDC as expected when creating a SaslClient. But our MiniKdc does not check the prefix of a TGT so there is no error...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-02T05:19:23.946+0000","updated":"2016-08-02T05:19:23.946+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15432559","id":"15432559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Let's fix the bug first. I found that the minikdc on trunk could reject a tgs request which uses a service ticket as TGT.\n\nThe difficulty of changing the relogin steps is that, the subject of UserGroupInformation can be passed from outside and UserGroupInformation is declared as LimitedPrivate, so it is not safe to switch subject after relogin. We need to discuss with the projects declared in LimitedPrivate annotations if we want to do this. I can file another issue to do this.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-23T10:06:54.382+0000","updated":"2016-08-23T10:06:54.382+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15432609","id":"15432609","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 13s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 49s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 54s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 37s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 43s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 24s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 27 new + 96 unchanged - 2 fixed = 123 total (was 98) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 53s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  2s{color} | {color:green} The patch has no ill-formed XML file. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 46s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  8m 14s{color} | {color:green} hadoop-common in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 22s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 38m 27s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:9560f25 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12825021/HADOOP-13433.patch |\n| JIRA Issue | HADOOP-13433 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  xml  findbugs  checkstyle  |\n| uname | Linux 49d5518b9c9f 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 0d5997d |\n| Default Java | 1.8.0_101 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/10343/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/10343/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10343/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-23T10:47:05.187+0000","updated":"2016-08-23T10:47:05.187+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15434208","id":"15434208","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"checkstyle.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-24T05:37:09.282+0000","updated":"2016-08-24T05:37:09.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15434252","id":"15434252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  8m 15s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m  8s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  3s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 23s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 44s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 38s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 44s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 44s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 24s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 96 unchanged - 2 fixed = 97 total (was 98) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 53s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  1s{color} | {color:green} The patch has no ill-formed XML file. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 48s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  9m 17s{color} | {color:green} hadoop-common in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 22s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 43m 10s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:9560f25 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12825196/HADOOP-13433-v1.patch |\n| JIRA Issue | HADOOP-13433 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  xml  findbugs  checkstyle  |\n| uname | Linux b6ddca51a2a4 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / c37346d |\n| Default Java | 1.8.0_101 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/10351/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/10351/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10351/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-24T06:21:48.996+0000","updated":"2016-08-24T06:21:48.996+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15434318","id":"15434318","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"checkstyle...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-24T07:01:34.126+0000","updated":"2016-08-24T07:01:34.126+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15434423","id":"15434423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 16s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 44s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 53s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 12s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 37s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 24s{color} | {color:green} hadoop-common-project/hadoop-common: The patch generated 0 new + 96 unchanged - 2 fixed = 96 total (was 98) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  1s{color} | {color:green} The patch has no ill-formed XML file. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 46s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 17m  2s{color} | {color:red} hadoop-common in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 20s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 47m 10s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Timed out junit tests | org.apache.hadoop.http.TestHttpServerLifecycle |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:9560f25 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12825208/HADOOP-13433-v2.patch |\n| JIRA Issue | HADOOP-13433 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  xml  findbugs  checkstyle  |\n| uname | Linux cf58bceb601d 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / c37346d |\n| Default Java | 1.8.0_101 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/10355/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/10355/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10355/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-24T07:55:48.109+0000","updated":"2016-08-24T07:55:48.109+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15434492","id":"15434492","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"https://builds.apache.org/job/PreCommit-HADOOP-Build/10355/\n\nThe result is green... I do not know why the QA bot said TestHttpServerLifecycle timed out...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-24T08:35:07.438+0000","updated":"2016-08-24T08:35:07.438+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15435984","id":"15435984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Any comments? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-08-25T00:10:10.378+0000","updated":"2016-08-25T00:10:10.378+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15784733","id":"15784733","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Some progress here. Now I can reproduce the bug with the UT in patch v3. [~stevel@apache.org] Could you please try it locally to see if it also works for you? And is it enough to say that the bug can happen in the real world and we need to fix it?\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-12-29T07:18:47.626+0000","updated":"2016-12-29T07:18:47.626+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15784819","id":"15784819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 12s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 12m 29s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  1s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 22s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 36s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m  9s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  9m  9s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 27s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 2 new + 0 unchanged - 0 fixed = 2 total (was 0) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 59s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 30s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 47s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}  8m  5s{color} | {color:red} hadoop-common in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 30s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 50m 34s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.security.TestKDiag |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:a9ad5d6 |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12845021/HBASE-13433-testcase-v3.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 5e6724047579 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 603f3ef |\n| Default Java | 1.8.0_111 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11332/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/11332/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11332/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11332/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-12-29T08:09:30.586+0000","updated":"2016-12-29T08:09:30.586+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15812310","id":"15812310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Should the test case be integrated into the patch [~Apache9]?\n\nHave you deployed this fix on your clusters?\n\nPatch LGTM. \n\nAny opinion mighty [~steve_l]?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-09T17:24:59.770+0000","updated":"2017-01-09T17:24:59.770+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15813669","id":"15813669","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"{quote}\nHave you deployed this fix on your clusters?\n{quote}\n\nYes,  we have been running several clusters with this patch in for about half a year. It works fine.\n\n{quote}\nShould the test case be integrated into the patch\n{quote}\n\nSure. Let me prepare a new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-10T03:01:15.786+0000","updated":"2017-01-10T03:01:15.786+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15814701","id":"15814701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"Great analysis and patch, [~Apache9]!\n\nThe fix looks good to me. However it needs to rebase.\n\nI glanced through the v2 and v3 test cases and both looks good to me, although it would be awesome if you could remove the wildcard import\n{code}import static org.junit.Assert.*;{code}\n\n[~stevel@apache.org] is it okay to make hadoop-common depend on hadoop-minikdc for tests? I think it's fine but want to double check to avoid unwanted side effects.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-10T11:20:33.878+0000","updated":"2017-01-10T11:20:33.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15814779","id":"15814779","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"It might be better to move a test into minikdc for consistency\n\nWe allow .* wildcard imports of static methods; they're pretty common in a lot of test cases (especially the ones I write)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-10T11:56:53.278+0000","updated":"2017-01-10T11:56:53.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15814781","id":"15814781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"BTW, we need an affects-version marker on the issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-10T11:58:09.053+0000","updated":"2017-01-10T11:58:09.053+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15814826","id":"15814826","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"I do not think we can put all the tests in minikdc as we need to test the logic of UserGroupInformation...\nOr is it better to put the tests in a sub-module that depends both on hadoop-common and minikdc already?\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-10T12:18:32.309+0000","updated":"2017-01-10T12:18:32.309+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15814896","id":"15814896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"looks like Hadoop already has minikdc as a test-time dependency, So no issues with usng it here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-10T12:54:42.613+0000","updated":"2017-01-10T12:54:42.613+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15814915","id":"15814915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"OK, real review Review\n\ncore patch looks good.\n\n* patches need to be combined to one; and yetus be happy\n* {{UserGroupInformation}} uses SL4J, so logging should be done with {{(\"ticket server is {}\", ticketServer)}} code style\n* I don't like the \"is this possible?\" warning. Better to be blunt: \"Warning, no kerberos ticket found while attempting to renew ticket\". I'm sure that the condition could be reached if someone tried hard enough (i.e. used kdestroy).\n* Tests should consider {{LambdaTestUtils.intercept}} for exception handling, maybe look for the exact exception expected\n* sleep time of 10ms is a bit short & would stop everything else, how about 50 or 100ms?\n* assertTrue/assertFalse in assertions need some details on why they are failing, so that people looking at jenkins test logs have a hint as to what went wrong.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-10T13:04:11.942+0000","updated":"2017-01-10T13:04:11.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817057","id":"15817057","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hexiaoqiao","name":"hexiaoqiao","key":"hexiaoqiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hexiaoqiao&avatarId=26980","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hexiaoqiao&avatarId=26980","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hexiaoqiao&avatarId=26980","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hexiaoqiao&avatarId=26980"},"displayName":"He Xiaoqiao","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~Apache9] for you contribution. it's very useful patch and i met the same problem recently, my question is when i patch to branch-2.7.1, UT(TestFixKerberosTicketOrder) can't pass, any suggestion? thanks again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hexiaoqiao","name":"hexiaoqiao","key":"hexiaoqiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hexiaoqiao&avatarId=26980","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hexiaoqiao&avatarId=26980","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hexiaoqiao&avatarId=26980","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hexiaoqiao&avatarId=26980"},"displayName":"He Xiaoqiao","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T03:45:17.628+0000","updated":"2017-01-11T03:45:17.628+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817237","id":"15817237","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Address the review comments. And use lambda expression in UTs as trunk is jdk8 only? Can rewrite the UTs when back porting.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T05:30:10.281+0000","updated":"2017-01-11T05:30:10.281+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817249","id":"15817249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"What's the problem?\n\nIn our company we are still running 2.4.x and 2.6.x, so I haven't tested it for 2.7.x yet.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T05:33:41.541+0000","updated":"2017-01-11T05:33:41.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817295","id":"15817295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hexiaoqiao","name":"hexiaoqiao","key":"hexiaoqiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hexiaoqiao&avatarId=26980","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hexiaoqiao&avatarId=26980","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hexiaoqiao&avatarId=26980","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hexiaoqiao&avatarId=26980"},"displayName":"He Xiaoqiao","active":true,"timeZone":"Asia/Shanghai"},"body":"[~Apache9],Thank for your comments.\nwhen i patch v2 to branch-2.7.*, and run {{TestFixKerberosTicketOrder}}, it throw AssertionError as following:\n{code:xml}\nRunning org.apache.hadoop.security.TestRaceWhenRelogin\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 4.18 sec <<< FAILURE! - in org.apache.hadoop.security.TestRaceWhenRelogin\ntest(org.apache.hadoop.security.TestRaceWhenRelogin)  Time elapsed: 4.001 sec  <<< FAILURE!\njava.lang.AssertionError: Should fail because we send a server ticket as TGT\n\tat org.junit.Assert.fail(Assert.java:88)\n\tat org.apache.hadoop.security.TestRaceWhenRelogin.test(TestRaceWhenRelogin.java:178)\n{code}\n\nafter review code, found the following code always run, is it necessaryï¼Ÿ\n{code:java}\n      fail(\"Should fail because we send a server ticket as TGT\");\n{code}\n\nBTW, configuration item {{CommonConfigurationKeys.HADOOP_KERBEROS_MIN_SECONDS_BEFORE_RELOGIN}} seems never be used, why set value?\n\npls correct me if i am wrong.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hexiaoqiao","name":"hexiaoqiao","key":"hexiaoqiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hexiaoqiao&avatarId=26980","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hexiaoqiao&avatarId=26980","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hexiaoqiao&avatarId=26980","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hexiaoqiao&avatarId=26980"},"displayName":"He Xiaoqiao","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T05:57:08.629+0000","updated":"2017-01-11T05:59:18.500+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817321","id":"15817321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Oh, TestRaceWhenRelogin. The code I put here is used to verify that the problem can happen without moving the tickets manually, so TestRaceWhenRelogin will pass without the fix...\n\nIn the new patch it is used to verify that tgt will always be the first ticket after relogin.\n\nAnd for {{CommonConfigurationKeys.HADOOP_KERBEROS_MIN_SECONDS_BEFORE_RELOGIN}}, yeah we have shouldRenewImmediatelyForTests now so we do not need to set it anymore.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T06:07:40.995+0000","updated":"2017-01-11T06:07:40.995+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817379","id":"15817379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 20s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 13s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 29s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  2s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 25s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 36s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m  6s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  9m  6s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 30s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 3 new + 94 unchanged - 2 fixed = 97 total (was 96) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 58s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  1s{color} | {color:green} The patch has no ill-formed XML file. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 29s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 48s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}  8m  5s{color} | {color:red} hadoop-common in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 32s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 52m 59s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.security.TestKDiag |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:a9ad5d6 |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12846745/HADOOP-13433-v4.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  xml  findbugs  checkstyle  |\n| uname | Linux be7d50c756ba 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 467f5f1 |\n| Default Java | 1.8.0_111 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11414/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/11414/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11414/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11414/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-01-11T06:32:33.309+0000","updated":"2017-01-11T06:32:33.309+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15817394","id":"15817394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"The failed UT seems unrelated and can pass locally.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-11T06:36:27.106+0000","updated":"2017-01-11T06:36:27.106+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15822776","id":"15822776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Ping [~stevel@apache.org], [~jojochuang].\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-14T10:08:36.438+0000","updated":"2017-01-14T10:08:36.438+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15825816","id":"15825816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brahmareddy","name":"brahmareddy","key":"brahmareddy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brahmareddy&avatarId=24624","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brahmareddy&avatarId=24624","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brahmareddy&avatarId=24624","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brahmareddy&avatarId=24624"},"displayName":"Brahma Reddy Battula","active":true,"timeZone":"Asia/Kolkata"},"body":"[~Apache9] thanks for reporting this issue and working on this..\n\nwe've got same issue from production cluster..your approach looks good to me..can you upload branch-2.7 patch also..?\n\npinging [~stevel@apache.org] and [~jojochuang]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brahmareddy","name":"brahmareddy","key":"brahmareddy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brahmareddy&avatarId=24624","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brahmareddy&avatarId=24624","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brahmareddy&avatarId=24624","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brahmareddy&avatarId=24624"},"displayName":"Brahma Reddy Battula","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-01-17T10:41:44.528+0000","updated":"2017-01-17T10:41:44.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15827216","id":"15827216","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"{quote}\ncan you upload branch-2.7 patch also..?\n{quote}\nSure. Will upload later. I think the problem is the UTs. I need to rewrite them without lambda as we need to support JDK7 in branch-2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-18T01:36:33.994+0000","updated":"2017-01-18T01:36:33.994+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15827569","id":"15827569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Rebase, and remove the CommonConfigurationKeys.HADOOP_KERBEROS_MIN_SECONDS_BEFORE_RELOGIN setting in testcase.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-18T08:02:01.626+0000","updated":"2017-01-18T08:02:01.626+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15827577","id":"15827577","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"[~brahmareddy] I tried and found that the patch can be cherry-picked to branch-2 cleanly. The problem is the two new UTs. After I rewrite the lambda part, they still can not pass. The problem is that we use a different kerberos implementation on branch-2. We use apache-kerby on trunk and apache-ds on branch-2. The KDC implementation of apache-ds will not reject the non-tgt request(maybe a bug).\n\nSo I suggest you just cherry-pick the patch to your branch and remove the UTs to solve the problem quickly.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-18T08:07:37.212+0000","updated":"2017-01-18T08:07:37.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15827686","id":"15827686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 12s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 12m 31s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 12m 46s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 29s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  0s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 26s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 43s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 38s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 14m 21s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 14m 21s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 33s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 3 new + 94 unchanged - 2 fixed = 97 total (was 96) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  8s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  2s{color} | {color:green} The patch has no ill-formed XML file. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 54s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}  9m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 31s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 60m 36s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.security.TestKDiag |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:a9ad5d6 |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12848011/HADOOP-13433-v5.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  xml  findbugs  checkstyle  |\n| uname | Linux 29e10025f3d3 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / e224c96 |\n| Default Java | 1.8.0_111 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11454/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/11454/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11454/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11454/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-01-18T09:11:23.841+0000","updated":"2017-01-18T09:11:23.841+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15836380","id":"15836380","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"So, patch is only suited to branch-3 [~Apache9]? Worth a version w/ UTs that will work for branch-2? What you think of the failed UT above? Is it related? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-24T18:10:07.651+0000","updated":"2017-01-24T18:10:07.651+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15837003","id":"15837003","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"[~stack] The problem is the minikdc... We use apache-ds on branch-2 and it will not reject the wrong ticket... And I think minikdc is a seprated module, maybe we could backport the apache-kerby changes to branch-2 first?\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-25T01:41:09.668+0000","updated":"2017-01-25T01:41:09.668+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15837008","id":"15837008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"It is HADOOP-12911. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-25T01:45:36.213+0000","updated":"2017-01-25T01:45:36.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15837507","id":"15837507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"It's only the tests which can't go into branch-2, correct? If so, don't worry about it: put the fix in the production code, and rely on trunk to host the tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-25T10:04:32.652+0000","updated":"2017-01-25T10:04:32.652+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15837739","id":"15837739","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"[~steve_l] Thanks!\n\nYes it is only the tests. I've just upload the patch for branch-2 which only contains fix for UGI.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-25T13:32:49.271+0000","updated":"2017-01-25T13:32:49.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15837827","id":"15837827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 13s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 35s{color} | {color:green} branch-2 passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 35s{color} | {color:green} branch-2 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 40s{color} | {color:green} branch-2 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 26s{color} | {color:green} branch-2 passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 59s{color} | {color:green} branch-2 passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 15s{color} | {color:green} branch-2 passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 45s{color} | {color:green} branch-2 passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 47s{color} | {color:green} branch-2 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 58s{color} | {color:green} branch-2 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 40s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 42s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  5m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 28s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 28s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 25s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 94 unchanged - 2 fixed = 95 total (was 96) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 15s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 53s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 57s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  8m 29s{color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_121. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 19s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 61m  5s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_121 Failed junit tests | hadoop.ipc.TestRPCWaitForProxy |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:b59b8b7 |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12849290/HADOOP-13433-branch-2.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 85ea8d7b3fa9 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | branch-2 / 1af0a4d |\n| Default Java | 1.7.0_121 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_121 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_121 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11506/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| JDK v1.7.0_121  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11506/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11506/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-01-25T14:39:54.428+0000","updated":"2017-01-25T14:39:54.428+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15838605","id":"15838605","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"+1 for the branch-2 patch. As discussed, we can't backport the tests to branch-2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-25T21:20:09.697+0000","updated":"2017-01-25T21:20:09.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15838621","id":"15838621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Committed to  branch-2 & trunk.\n\nthanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-25T21:30:17.651+0000","updated":"2017-01-25T21:30:17.651+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15838656","id":"15838656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #11173 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/11173/])\nHADOOP-13433 Race in UGI.reloginFromKeytab. Contributed by Duo Zhang. (stevel: rev 7fc3e68a876132563aa2321519fc6941e37b2cae)\n* (add) hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestFixKerberosTicketOrder.java\n* (edit) hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java\n* (add) hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestRaceWhenRelogin.java\n* (edit) hadoop-common-project/hadoop-common/pom.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-01-25T21:53:14.505+0000","updated":"2017-01-25T21:53:14.505+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15838680","id":"15838680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.wang","name":"andrew.wang","key":"andrew.wang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.wang&avatarId=19230","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.wang&avatarId=19230","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.wang&avatarId=19230","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.wang&avatarId=19230"},"displayName":"Andrew Wang","active":true,"timeZone":"America/Los_Angeles"},"body":"Please remember to set a 3.0.0-X version when committing to trunk, thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.wang","name":"andrew.wang","key":"andrew.wang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.wang&avatarId=19230","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.wang&avatarId=19230","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.wang&avatarId=19230","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.wang&avatarId=19230"},"displayName":"Andrew Wang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-25T22:03:37.968+0000","updated":"2017-01-25T22:03:37.968+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15840614","id":"15840614","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~steve_l] for taking care of the commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stack","name":"stack","key":"stack","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stack","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-26T22:59:16.522+0000","updated":"2017-01-26T22:59:16.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15842487","id":"15842487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"I strive to to keep the hbase team happy, though when it goes near UGI my enthusiasm is tempered by Fear of The Darkness","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-27T10:08:26.157+0000","updated":"2017-01-27T10:08:26.157+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844190","id":"15844190","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"body":"This is a fascinating issue. Nice work catching and fixing it. Has anyone reported this to Oracle?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yoderme","name":"yoderme","key":"yoderme","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yoderme&avatarId=19835","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yoderme&avatarId=19835","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yoderme&avatarId=19835","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yoderme&avatarId=19835"},"displayName":"Mike Yoder","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-28T21:00:18.411+0000","updated":"2017-01-28T21:00:18.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844313","id":"15844313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"I'm not sure if this should be considered as a bug of JDK...\n\nSearching for the tgt rather than using the first ticket as tgt can solve our problem here, but in general, there are also other races, for example, if you login and logout on the same subject object at the same time. I think the solution will be 'do not use it in that way'...\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-29T07:07:00.937+0000","updated":"2017-01-29T07:07:00.937+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844439","id":"15844439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hexiaoqiao","name":"hexiaoqiao","key":"hexiaoqiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hexiaoqiao&avatarId=26980","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hexiaoqiao&avatarId=26980","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hexiaoqiao&avatarId=26980","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hexiaoqiao&avatarId=26980"},"displayName":"He Xiaoqiao","active":true,"timeZone":"Asia/Shanghai"},"body":"[~Apache9], after i patched in my production environment, there still some re-login exception as follow. (The env version - hadoop: 2.7.1, java: 1.7.0_76) Any suggestion? thank you.\n{code:xml}\nWARN org.apache.hadoop.hdfs.server.datanode.DataNode: IOException in offerService\njava.io.IOException: Failed on local exception: java.io.IOException: Couldn't setup connection for hdfs/hostname@REALM to namenode/ip\n:8020; Host Details : local host is: \"hostname/datanode\"; destination host is: \"namenode\":8020; \n        at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:773)\n        at org.apache.hadoop.ipc.Client.call(Client.java:1474)\n        at org.apache.hadoop.ipc.Client.call(Client.java:1407)\n        at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:229)\n        at com.sun.proxy.$Proxy13.sendHeartbeat(Unknown Source)\n        at org.apache.hadoop.hdfs.protocolPB.DatanodeProtocolClientSideTranslatorPB.sendHeartbeat(DatanodeProtocolClientSideTranslatorPB.java:153)\n        at org.apache.hadoop.hdfs.server.datanode.BPServiceActor.sendHeartBeat(BPServiceActor.java:554)\n        at org.apache.hadoop.hdfs.server.datanode.BPServiceActor.offerService(BPServiceActor.java:653)\n        at org.apache.hadoop.hdfs.server.datanode.BPServiceActor.run(BPServiceActor.java:824)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: java.io.IOException: Couldn't setup connection for hdfs/hostname@REALM to namenode/ip:8020\n        at org.apache.hadoop.ipc.Client$Connection$1.run(Client.java:674)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:415)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1690)\n        at org.apache.hadoop.ipc.Client$Connection.handleSaslConnectionFailure(Client.java:645)\n        at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:732)\n        at org.apache.hadoop.ipc.Client$Connection.access$2800(Client.java:370)\n        at org.apache.hadoop.ipc.Client.getConnection(Client.java:1523)\n        at org.apache.hadoop.ipc.Client.call(Client.java:1446)\n        ... 8 more\nCaused by: javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)]\n        at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:212)\n        at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:413)\n        at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:555)\n        at org.apache.hadoop.ipc.Client$Connection.access$1800(Client.java:370)\n        at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:724)\n        at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:720)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:415)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1690)\n        at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:719)\n        ... 11 more\nCaused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\n        at sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:147)\n        at sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:121)\n        at sun.security.jgss.krb5.Krb5MechFactory.getMechanismContext(Krb5MechFactory.java:187)\n        at sun.security.jgss.GSSManagerImpl.getMechanismContext(GSSManagerImpl.java:223)\n        at sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:212)\n        at sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:179)\n        at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:193)\n        ... 20 more\nWARN org.apache.hadoop.security.UserGroupInformation: Not attempting to re-login since the last re-login was attempted less than 600 seconds before.\nWARN org.apache.hadoop.security.UserGroupInformation: Not attempting to re-login since the last re-login was attempted less than 600 seconds before.\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hexiaoqiao","name":"hexiaoqiao","key":"hexiaoqiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hexiaoqiao&avatarId=26980","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hexiaoqiao&avatarId=26980","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hexiaoqiao&avatarId=26980","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hexiaoqiao&avatarId=26980"},"displayName":"He Xiaoqiao","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-29T14:39:36.767+0000","updated":"2017-01-29T14:39:36.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844454","id":"15844454","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Created HADOOP-14037 to cover quality of the stack trace. Won't affect cause, but will stop exception type downgrading","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-29T15:02:24.881+0000","updated":"2017-01-29T15:02:24.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844782","id":"15844782","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"[~hexiaoqiao] Your exception is not the same with the description of this issue. The problem here is 'BAD TGS SERVER NAME'.\n\nYou can add this to your command line to see what is going on when you try to relogin or setup a connection.\n{noformat}\n-Dsun.security.krb5.debug=true\n{noformat}\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-30T01:57:35.993+0000","updated":"2017-01-30T01:57:35.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844851","id":"15844851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yzhangal","name":"yzhangal","key":"yzhangal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongjun Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~Apache9],\n\nThanks for the nice work here. I have a question:\n{quote}\n // if the first kerberos ticket is not TGT, then remove and destroy it since\n  // the kerberos library of jdk always use the first kerberos ticket as TGT.\n // See HADOOP-13433 for more details.\n  @VisibleForTesting\n  void fixKerberosTicketOrder() {\n{quote}\n\nWould you please explain why the tickets can be safely removed/destroyed rather than reordered? are these tickets that deemed useless?\n\nOther questions about your comment\n{quote}\nI'm not sure if this should be considered as a bug of JDK...\nSearching for the tgt rather than using the first ticket as tgt can solve our problem here, but in general, there are also other races, for example, if you login and logout on the same subject object at the same time. I think the solution will be 'do not use it in that way'...\n{quote}\n* Wonder if there is any jdk issue has been filed to request to search for tgt rather than using the first ticket?\n* Can the race condition be avoided with synchronization? if not,  how can one avoid the situation or 'do not use it in that way'?\n\nThanks.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yzhangal","name":"yzhangal","key":"yzhangal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongjun Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-30T06:12:22.893+0000","updated":"2017-01-30T06:12:22.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15844907","id":"15844907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"{quote}\nWould you please explain why the tickets can be safely removed/destroyed rather than reordered? are these tickets that deemed useless?\n{quote}\nThe implementation will create a new service ticket if not exists when you can doAs, so remove it is OK.\n\n{quote}\nWonder if there is any jdk issue has been filed to request to search for tgt rather than using the first ticket?\n{quote}\nI do not know... At least I haven't report it to oracle yet...\n\n{quote}\nCan the race condition be avoided with synchronization? if not, how can one avoid the situation or 'do not use it in that way'?\n{quote}\nThe former one yes. But it is a bit tricky as doAs may still modify the subject. And usually doing IO under lock is considered as bad practice.\n\nAnd the latter one, as I said above, make the subject volatile and create a new subject and do a switch.everytime when relogin, and then destroy the old subject after a graceful period. But this is also a bit difficult as UGI is declared as LimitedPrivacy, and we do have a method that allows construct a UGI from a subject, so it is not easy to switch subject when relogin without breaking the old code...\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-30T08:03:20.256+0000","updated":"2017-01-30T08:03:20.256+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15845598","id":"15845598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the nice work/commit here [~Apache9] and [~stevel@apache.org].\n\nThe issue looks pretty important, and since others have asked above, can we backport the branch-2 change further to branch-2.8 and branch-2.7? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-30T18:10:46.543+0000","updated":"2017-01-30T18:10:46.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15845603","id":"15845603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yzhangal","name":"yzhangal","key":"yzhangal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongjun Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~Apache9].\n\n{quote}\nThe implementation will create a new service ticket if not exists when you can doAs, so remove it is OK.\n{quote}\nWonder if that imply some performance loss because of the need to contact service for a new ticket? Instead of removing the item, if we simply put the item back to the end of the list, will that work?\n\nI guess this is a pretty corner case, so it would not be a big concern. \n\nThanks.\n\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yzhangal","name":"yzhangal","key":"yzhangal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongjun Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-30T18:12:12.671+0000","updated":"2017-01-30T18:12:12.671+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15846667","id":"15846667","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"it wouldn't cherry pick into branch-2.8, so I didn't","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-01-31T11:11:26.112+0000","updated":"2017-01-31T11:11:26.112+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15850895","id":"15850895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Let me prepare patches for branch-2.8 and branch-2.7.\n\n{quote}\nI guess this is a pretty corner case, so it would not be a big concern.\n{quote}\nYes, this rarely happens so I do not think it is a big deal. And the service tickets are generated with the old tgt, so theoretically they should be destroyed.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T01:39:54.619+0000","updated":"2017-02-03T01:39:54.619+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15850969","id":"15850969","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Reopen to attach patches for branch-2.8 and branch-2.7.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T02:47:00.710+0000","updated":"2017-02-03T02:47:00.710+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15850971","id":"15850971","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Patches for branch-2.8 and branch-2.7. The patch for branch-2.7 could also be applied to branch-2.6.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T02:48:02.241+0000","updated":"2017-02-03T02:48:02.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851134","id":"15851134","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the backport patches, [~Apache9]!\n\nSeems jenkins only kicked https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/ when the 2 attachments were uploaded together, for 2.7.\nDownloaded an reattached the branch-2.8 patch to trigger jenkins (don't know how to kick the job for that patch otherwise..)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-03T06:28:31.570+0000","updated":"2017-02-03T06:28:31.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851188","id":"15851188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 12m 31s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  8m 25s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 14s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m  5s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 29s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 57s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 19s{color} | {color:green} branch-2.7 passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 58s{color} | {color:red} hadoop-common-project/hadoop-common in branch-2.7 has 3 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 56s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m  6s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 45s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  7m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 49s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  7m 49s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 29s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 2 new + 80 unchanged - 4 fixed = 82 total (was 84) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 55s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 4749 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  2m 28s{color} | {color:red} The patch 98 line(s) with tabs. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 14s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 54s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 10s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 24m 35s{color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_121. {color} |\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  1m  0s{color} | {color:red} The patch generated 1 ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black}114m 44s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_121 Failed junit tests | hadoop.util.bloom.TestBloomFilters |\n|   | hadoop.ha.TestZKFailoverControllerStress |\n|   | hadoop.ipc.TestDecayRpcScheduler |\n|   | hadoop.ipc.TestCallQueueManager |\n|   | hadoop.metrics2.impl.TestGangliaMetrics |\n| JDK v1.8.0_121 Timed out junit tests | org.apache.hadoop.conf.TestConfiguration |\n| JDK v1.7.0_121 Failed junit tests | hadoop.util.bloom.TestBloomFilters |\n|   | hadoop.ha.TestZKFailoverControllerStress |\n|   | hadoop.ipc.TestCallQueueManager |\n| JDK v1.7.0_121 Timed out junit tests | org.apache.hadoop.conf.TestConfiguration |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:c420dfe |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12850749/HADOOP-13433-branch-2.7.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 6af601a529a8 3.13.0-105-generic #152-Ubuntu SMP Fri Dec 2 15:37:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | branch-2.7 / 086ee0a |\n| Default Java | 1.7.0_121 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_121 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_121 |\n| findbugs | v3.0.0 |\n| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/artifact/patchprocess/whitespace-eol.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/artifact/patchprocess/whitespace-tabs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_121.txt |\n| JDK v1.7.0_121  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/testReport/ |\n| asflicense | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/artifact/patchprocess/patch-asflicense-problems.txt |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11567/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-03T07:43:33.975+0000","updated":"2017-02-03T07:43:33.975+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851209","id":"15851209","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 23m 28s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m  0s{color} | {color:green} branch-2.8 passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m  4s{color} | {color:green} branch-2.8 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 18s{color} | {color:green} branch-2.8 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 22s{color} | {color:green} branch-2.8 passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 58s{color} | {color:green} branch-2.8 passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 16s{color} | {color:green} branch-2.8 passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 38s{color} | {color:green} branch-2.8 passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} branch-2.8 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 57s{color} | {color:green} branch-2.8 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 40s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m  6s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m  5s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m  0s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  7m  0s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 21s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 103 unchanged - 2 fixed = 104 total (was 105) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 57s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 14s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 49s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 44s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 55s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  7m 58s{color} | {color:green} hadoop-common in the patch passed with JDK v1.7.0_121. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 22s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 86m 45s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:5af2af1 |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12850777/HADOOP-13433-branch-2.8.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 92138dfb0e0e 3.13.0-103-generic #150-Ubuntu SMP Thu Nov 24 10:34:17 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | branch-2.8 / 4e423ed |\n| Default Java | 1.7.0_121 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_121 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_121 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11568/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| JDK v1.7.0_121  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11568/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11568/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-03T08:11:50.511+0000","updated":"2017-02-03T08:11:50.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851299","id":"15851299","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"First of the checkstyles looks legit; the line ending one I'm not worried about\n{code}\n./hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java:77:import com.google.common.annotations.VisibleForTesting;:1: Duplicate import to line 23 - com.google.common.annotations.VisibleForTesting.\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-02-03T10:21:15.729+0000","updated":"2017-02-03T10:21:15.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851302","id":"15851302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"The line ending issues are not introduced in the patch. They are already there...\n\nLet me remove the duplicated imports.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T10:24:41.134+0000","updated":"2017-02-03T10:24:41.134+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851307","id":"15851307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Remove duplicate imports.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-03T10:29:35.286+0000","updated":"2017-02-03T10:29:35.286+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15851417","id":"15851417","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 11m 47s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 48s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 16s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 27s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 50s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 16s{color} | {color:green} branch-2.7 passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 47s{color} | {color:red} hadoop-common-project/hadoop-common in branch-2.7 has 3 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 47s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 56s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 41s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m  8s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m  8s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 32s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 32s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 23s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 80 unchanged - 4 fixed = 81 total (was 84) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 14s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 5396 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  2m 20s{color} | {color:red} The patch 98 line(s) with tabs. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 40s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 52s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 20m 29s{color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_121. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 23s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 98m 36s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_121 Failed junit tests | hadoop.util.bloom.TestBloomFilters |\n| JDK v1.8.0_121 Timed out junit tests | org.apache.hadoop.conf.TestConfiguration |\n| JDK v1.7.0_121 Failed junit tests | hadoop.metrics2.impl.TestGangliaMetrics |\n|   | hadoop.util.bloom.TestBloomFilters |\n|   | hadoop.ipc.TestIPC |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:c420dfe |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12850811/HADOOP-13433-branch-2.7-v1.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 103dd8f94018 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | branch-2.7 / 086ee0a |\n| Default Java | 1.7.0_121 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_121 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_121 |\n| findbugs | v3.0.0 |\n| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/artifact/patchprocess/whitespace-eol.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/artifact/patchprocess/whitespace-tabs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_121.txt |\n| JDK v1.7.0_121  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11570/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-03T12:17:18.637+0000","updated":"2017-02-03T12:17:18.637+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15855543","id":"15855543","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Any other concerns on the patches for branch-2.8 and branch-2.7? [~xiaochen] [~stevel@apache.org].\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-07T08:12:21.642+0000","updated":"2017-02-07T08:12:21.642+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15856457","id":"15856457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry for the delay [~Apache9].\n\nThe checkstyle look related for both patches, inside {{fixKerberosTicketOrder}}:\n{quote}\n/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java:1067:    LOG.warn(\"Warning, no kerberos ticket found while attempting to renew ticket\");: Line is longer than 80 characters (found 83).\n{quote}\n\nWhitespace and test failures on branch-2.7 look unrelated, so +1 to both pending the checkstyle fix...\nThank you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-07T18:13:17.074+0000","updated":"2017-02-07T18:13:17.074+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15857805","id":"15857805","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Fix the line length violation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-08T10:29:59.404+0000","updated":"2017-02-08T10:29:59.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15857930","id":"15857930","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 30s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 21s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 43s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 38s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 51s{color} | {color:green} branch-2.7 passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 18s{color} | {color:green} branch-2.7 passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 45s{color} | {color:red} hadoop-common-project/hadoop-common in branch-2.7 has 3 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 48s{color} | {color:green} branch-2.7 passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 54s{color} | {color:green} branch-2.7 passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 41s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m  9s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m  9s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 15s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 15s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 22s{color} | {color:green} hadoop-common-project/hadoop-common: The patch generated 0 new + 80 unchanged - 4 fixed = 80 total (was 84) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 46s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 14s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 5748 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  2m 23s{color} | {color:red} The patch 98 line(s) with tabs. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 43s{color} | {color:green} the patch passed with JDK v1.8.0_121 {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 45s{color} | {color:green} the patch passed with JDK v1.7.0_121 {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 16m  5s{color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_121. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 35s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 81m 24s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| JDK v1.8.0_121 Failed junit tests | hadoop.fs.TestS3_LocalFileContextURI |\n|   | hadoop.util.bloom.TestBloomFilters |\n|   | hadoop.io.compress.TestCodecPool |\n|   | hadoop.fs.TestLocal_S3FileContextURI |\n|   | hadoop.ipc.TestIPC |\n| JDK v1.8.0_121 Timed out junit tests | org.apache.hadoop.conf.TestConfiguration |\n| JDK v1.7.0_121 Failed junit tests | hadoop.security.ssl.TestSSLFactory |\n|   | hadoop.fs.TestS3_LocalFileContextURI |\n|   | hadoop.util.bloom.TestBloomFilters |\n|   | hadoop.fs.TestLocal_S3FileContextURI |\n|   | hadoop.ipc.TestIPC |\n| JDK v1.7.0_121 Timed out junit tests | org.apache.hadoop.conf.TestConfiguration |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:c420dfe |\n| JIRA Issue | HADOOP-13433 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12851608/HADOOP-13433-branch-2.7-v2.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 98a82c31d0ae 3.13.0-107-generic #154-Ubuntu SMP Tue Dec 20 09:57:27 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | branch-2.7 / bc3e188 |\n| Default Java | 1.7.0_121 |\n| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_121 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_121 |\n| findbugs | v3.0.0 |\n| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/11597/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/11597/artifact/patchprocess/whitespace-eol.txt |\n| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/11597/artifact/patchprocess/whitespace-tabs.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/11597/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_121.txt |\n| JDK v1.7.0_121  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/11597/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11597/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T12:33:59.113+0000","updated":"2017-02-08T12:33:59.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15859163","id":"15859163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for revving [~Apache9], +1 to both, committing them.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-09T07:42:58.659+0000","updated":"2017-02-09T07:42:58.659+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15859170","id":"15859170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to branch-2.8, branch-2.7 and branch-2.6. Thanks again, Duo!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xiaochen","name":"xiaochen","key":"xiaochen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=xiaochen&avatarId=24893","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xiaochen&avatarId=24893","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xiaochen&avatarId=24893","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xiaochen&avatarId=24893"},"displayName":"Xiao Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-09T07:54:56.995+0000","updated":"2017-02-09T07:54:56.995+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15859182","id":"15859182","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"My pleasure.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Apache9","name":"Apache9","key":"apache9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apache9&avatarId=21678","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apache9&avatarId=21678","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apache9&avatarId=21678","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apache9&avatarId=21678"},"displayName":"Duo Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-02-09T07:59:02.711+0000","updated":"2017-02-09T07:59:02.711+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15859790","id":"15859790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"body":"Just saw this jira due to internal conflict.  We discovered the exact same issue a few years ago.  This jira's patch works around the side-effect of the root cause: the entire relogin process is not atomic with regard to gssapi or spnego authentication.  The jdk issue is technically a bug, but it's only triggered by hadoop's unsafe subject manipulation.\n\nI was already intending to release our internal fix within a week.  It should negate the need for this patch but this can still be a safety net.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daryn","name":"daryn","key":"daryn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daryn Sharp","active":true,"timeZone":"America/Chicago"},"created":"2017-02-09T16:56:27.747+0000","updated":"2017-02-09T16:56:27.747+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15864115","id":"15864115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"The added test TestRaceWhenRelogin failed occasionally in a few precommit jobs. Would any one be interested in looking into this? I filed HADOOP-14078 to track it. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-13T18:06:24.172+0000","updated":"2017-02-13T18:06:24.172+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15876435","id":"15876435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"[~daryn] would you mind to file a jira for your fix?\n[~Apache9] found an issue with the test case that seems to stem from a JDK bug. Not sure if that's what you observed. My fear is HADOOP-13433 might not be a complete solution to this bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-21T18:28:37.914+0000","updated":"2017-02-21T18:28:37.914+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/15989249","id":"15989249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhz","name":"zhz","key":"zhz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhz&avatarId=20493","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhz&avatarId=20493","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhz&avatarId=20493","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhz&avatarId=20493"},"displayName":"Zhe Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"[~daryn] Any chance you can upload the internal fix? I'll be very happy to help review. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhz","name":"zhz","key":"zhz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhz&avatarId=20493","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhz&avatarId=20493","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhz&avatarId=20493","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhz&avatarId=20493"},"displayName":"Zhe Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-04-28T18:06:11.306+0000","updated":"2017-04-28T18:06:11.306+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/16041960","id":"16041960","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"2.8.1 became a security release. Moving fix-version to 2.8.2 after the fact.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-08T00:11:37.328+0000","updated":"2017-06-08T00:11:37.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12992881/comment/16349368","id":"16349368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"body":"We recently found an Impala Catalog server hit the exact same symptom described here. However, after several weeks of investigation we found the problem originated from an incorrect krb5.conf on a different host in the cluster. HADOOP-13433 also has a NPE bug that was fixed byÂ HADOOP-15143Â .\r\n\r\nWe do not yet have the full details, but I will raise a new Jira to describe as much as I know of.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jojochuang","name":"jojochuang","key":"jojochuang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jojochuang&avatarId=25508","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jojochuang&avatarId=25508","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jojochuang&avatarId=25508","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jojochuang&avatarId=25508"},"displayName":"Wei-Chiu Chuang","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-02-01T22:13:25.569+0000","updated":"2018-02-01T22:13:25.569+0000"}],"maxResults":79,"total":79,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-13433/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i31k9z:"}}