{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12425488","self":"https://issues.apache.org/jira/rest/api/2/issue/12425488","key":"HADOOP-5836","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316501","id":"12316501","description":"1.1.0 release","name":"1.1.0","archived":false,"released":true,"releaseDate":"2012-10-13"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-05-22T01:40:12.501+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Mar 05 20:44:29 UTC 2012","customfield_12310420":"36976","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_1239606625_*|*_1_*:*_3_*:*_462363457_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-06-03T10:43:02.568+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5836/watchers","watchCount":3,"isWatching":false},"created":"2009-05-14T17:56:52.486+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313494","id":"12313494","description":"","name":"0.18.3","archived":false,"released":true,"releaseDate":"2009-01-29"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-03-15T23:55:04.735+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311814","id":"12311814","name":"fs/s3","description":"S3A filesystem client and other S3 connectivity issues"}],"timeoriginalestimate":null,"description":"Some tools which upload to S3 and use a object terminated with a \"/\" as a directory marker, for instance \"s3n://mybucket/mydir/\". If asked to iterate that \"directory\" via listStatus(), then the current code will return an empty file \"\", which the InputFormatter happily assigns to a split, and which later causes a task to fail, and probably the job to fail. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316501","id":"12316501","description":"1.1.0 release","name":"1.1.0","archived":false,"released":true,"releaseDate":"2012-10-13"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12408154","id":"12408154","filename":"HADOOP-5836-0.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-14T18:17:43.218+0000","size":27769,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12408154/HADOOP-5836-0.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12517121","id":"12517121","filename":"HADOOP-5836-0-for_branch_1_0.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagane","name":"jagane","key":"jagane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jagane Sundar","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-03-05T20:35:27.179+0000","size":27903,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12517121/HADOOP-5836-0-for_branch_1_0.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12409482","id":"12409482","filename":"HADOOP-5836-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-30T22:03:42.762+0000","size":28761,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12409482/HADOOP-5836-2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"13800","customfield_12312823":null,"summary":"Bug in S3N handling of directory markers using an object with a trailing \"/\" causes jobs to fail","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12709509","id":"12709509","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"body":"The main fix here is to check for and just not return this empty file in listStatus(). However along with this, I broadened handling in all S3N methods for the different ways of designating directories in S3, in this way:\n \n* A note about directories. S3 of course has no \"native\" support for them.\n * The idiom we choose then is: for any directory created by this class,\n * we use an empty object \"#{dirpath}_$folder$\" as a marker.\n * Further, to interoperate with other S3 tools, we also accept the following:\n * - an object \"#{dirpath}/' denoting a directory marker\n * - if there exists any objects with the prefix \"#{dirpath}/\", then the\n *   directory is said to exist\n * - if both a file with the name of a directory and a marker for that\n *   directory exists, then the *file masks the directory*, and the directory\n *   is never returned.\n \nIn particular this meant fixing delete() and rename() to handle all three possible meanings of directory without failing.\n \nThis patch also includes the following:\n-          Add logging any time a file in S3 is accessed for read or write, so when you get failure accessing/using a file its name will be in the task log\n-         Fix when opening a file for reading which doesn't exist, change the behavior to immediately throw a FileNotFoundException, rather than returning a hard to debug NPE later when the file is closed.\n-          Rewrite rename so that it only deletes the source files after every destination file has been written, so you never end up with half the files in each location\n-         Set up retryer so rename automatically retries on S3 errors.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-14T18:16:24.516+0000","updated":"2009-05-14T18:16:24.516+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12711918","id":"12711918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12408154/HADOOP-5836-0.patch\n  against trunk revision 777330.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 11 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/376/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-22T01:40:12.501+0000","updated":"2009-05-22T01:40:12.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12713497","id":"12713497","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"These changes look good. A few comments\n\n* Have you run Jets3tNativeS3FileSystemContractTest? This isn't run by default since it needs an S3 account to test with. This serves as a good regression test.\n* There's a mixture of debug-level and info-level debugging here. How noisy is this in practice? Shouldn't it be mainly debug, so folks can enable it when they hit problems?\n* Some of the indentation looks wrong in the patch - e.g. in handleServiceException(S3ServiceException).\n* The patch doesn't apply cleanly anymore and needs regenerating.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2009-05-27T09:41:11.080+0000","updated":"2009-05-27T09:41:11.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12713706","id":"12713706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"body":"* Yes, I have run Jets3tNativeS3FileSystemContractTest. Multiple Times in fact, including for the newest patch :).\n* I have reworked logging, making everything debug, except the following:\n+      LOG.info(\"Opening key '\" + key + \"' for reading at position '\" + pos + \"'\");\n+      LOG.info(\"OutputStream for key '\" + key + \"' writing to tempfile '\" + this.backupFile + \"'\");\n+      LOG.info(\"OutputStream for key '\" + key + \"' closed. Now beginning upload\");\n+      LOG.info(\"OutputStream for key '\" + key + \"' upload complete\");\n+    LOG.info(\"Opening '\" + f + \"' for reading\");\n\nThe basic idea is I want to always capture in a tasks syslog what S3 files it is reading from as this is very useful when a subset of tasks fail. Also I wanted to capture the time spent in actually uploading the file to S3 very specifically.\n\n* Good catch - must have happened as part of the diff I did ignoring whitespace. I have now gone through with a fine tooth comb and fixed all indentation issues I could see.\n\n* Done\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-27T19:50:26.437+0000","updated":"2009-05-27T19:50:26.437+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12714659","id":"12714659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12409198/HADOOP-5836-1.patch\n  against trunk revision 780114.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 11 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/430/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-30T02:22:48.953+0000","updated":"2009-05-30T02:22:48.953+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12714780","id":"12714780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"body":"Regenerating against trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nowland","name":"nowland","key":"nowland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ian Nowland","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-30T22:03:42.779+0000","updated":"2009-05-30T22:03:42.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12714956","id":"12714956","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12409482/HADOOP-5836-2.patch\n  against trunk revision 780465.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 10 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/443/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/443/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/443/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/443/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-06-01T03:04:50.409+0000","updated":"2009-06-01T03:04:50.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/12715895","id":"12715895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"I've just committed this. Thanks Ian!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2009-06-03T10:43:02.546+0000","updated":"2009-06-03T10:43:02.546+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/13222591","id":"13222591","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagane","name":"jagane","key":"jagane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jagane Sundar","active":true,"timeZone":"America/Los_Angeles"},"body":"Re-spin of this patch for branch-1.0. Code is unchanged.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagane","name":"jagane","key":"jagane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jagane Sundar","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-03-05T20:35:27.251+0000","updated":"2012-03-05T20:35:27.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12425488/comment/13222597","id":"13222597","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagane","name":"jagane","key":"jagane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jagane Sundar","active":true,"timeZone":"America/Los_Angeles"},"body":"A note on running the unit test for this (and possibly other s3/s3n driver patches):\nThe name of the unit test is Jets3tNativeS3FileSystemContractTest and it is run using the command:\n\n$ ant -Dtestcase=Jets3tNativeS3FileSystemContractTest test-core\n\nTo run this unit test, you need to add your own S3 credentials to the file src/test/core-site.xml. Edit src/test/core-site.xml and add details of a test s3 and a test s3n filesystems for the test, as shown below. In this example, you need to replace AAAAAAAAAAAAAAAAAAA:bbbbbbbbbbbbbbbbbbbbb with urlencoded versions of your S3 access key id, and secret access key. Use the program urlencode on linux to urlencode.\n\n<property>\n  <name>test.fs.s3n.name</name>\n  <value>s3n://AAAAAAAAAAAAAAAAAAA:bbbbbbbbbbbbbbbbbbbbb@yourbucketname</value>\n  <description>The name of the s3n file system for testing.</description>\n</property>\n\n<property>\n  <name>test.fs.s3.name</name>\n  <value>s3://AAAAAAAAAAAAAAAAAAA:bbbbbbbbbbbbbbbbbbbbb@yourbucketname</value>\n  <description>The name of the s3 file system for testing.</description>\n</property>\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jagane","name":"jagane","key":"jagane","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jagane Sundar","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-03-05T20:44:29.290+0000","updated":"2012-03-05T20:44:29.290+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5836/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i02px3:"}}