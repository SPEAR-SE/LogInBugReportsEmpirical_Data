{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12414409","self":"https://issues.apache.org/jira/rest/api/2/issue/12414409","key":"HADOOP-5203","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-02-10T07:36:19.949+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jan 06 08:07:24 UTC 2012","customfield_12310420":"17175","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_3065220910_*|*_1_*:*_2_*:*_50662170_*|*_5_*:*_2_*:*_818887862_*|*_4_*:*_1_*:*_4060670056","customfield_12312321":null,"resolutiondate":"2009-05-13T06:31:28.783+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5203/watchers","watchCount":5,"isWatching":false},"created":"2009-02-09T17:34:07.785+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313211","id":"12313211","description":"","name":"0.19.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[{"id":"12349715","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12349715","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12548043","key":"HADOOP-8209","self":"https://issues.apache.org/jira/rest/api/2/issue/12548043","fields":{"summary":"Add option to relax build-version check for branch-1","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-03-25T22:20:07.493+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"\nAt start time, TT checks whether its version is compatible with JT.\nThe condition is too restrictive. \nIt will shut down itself if one of the following conditions fail:\n* the version numbers must match\n* the revision numbers must match\n* the user ids who build the jar must match\n* the build times must match\n\nI think it should check the major part of the version numbers only (thus any version like 0.19.xxxx should be compatible).\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12400131","id":"12400131","filename":"HADOOP-5203.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-12T22:10:09.267+0000","size":672,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12400131/HADOOP-5203.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12405011","id":"12405011","filename":"HADOOP-5203-md5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-08T21:47:09.426+0000","size":3015,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12405011/HADOOP-5203-md5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404798","id":"12404798","filename":"HADOOP-5203-md5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-07T03:07:53.856+0000","size":3015,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12404798/HADOOP-5203-md5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404866","id":"12404866","filename":"HADOOP-5203-md5-0.18.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-07T18:39:23.074+0000","size":2693,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12404866/HADOOP-5203-md5-0.18.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12426433","id":"12426433","filename":"HADOOP-5203-md5-0.19.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","key":"steve_rowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true,"timeZone":"America/New_York"},"created":"2009-11-30T18:04:28.857+0000","size":2740,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12426433/HADOOP-5203-md5-0.19.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12436734","id":"12436734","filename":"HADOOP-5203-md5-0.20.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-23T18:24:59.201+0000","size":2850,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12436734/HADOOP-5203-md5-0.20.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12509672","id":"12509672","filename":"HADOOP-5203-md5-1.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-01-06T08:07:24.207+0000","size":2863,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12509672/HADOOP-5203-md5-1.1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"14197","customfield_12312823":null,"summary":"TT's version build is too restrictive","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12672194","id":"12672194","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"This is a feature. One common failure mode is that some nodes fail to get the update of a new jar file. Without this feature, they attempt to join the cluster and can create serious problems. Currently, both map/reduce and hdfs require that masters and slaves are from the same build, which is a very good thing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-10T07:36:19.949+0000","updated":"2009-02-10T07:36:19.949+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12672292","id":"12672292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"\nWell, this is a bad feature:)\n\nHere is a situation one may face. Say you have a cluster with different machines, say some are 32 bits and others are 64 bits.\nOne needs to build Hadoop need on different machines. It is almost impossible to have the builds happen at the exact same time.\nThus, with tgis feature, it is almost impossible to deploy Hadoop on this kind of environment.\n\nAlso, suppose you discover some problems with TT and you want to go ahead to fix it and build a reease. You don't want to shut down the job tracker.  But with this feature, you cannot deploy the task trackers without shutting down the job tracker.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-10T15:26:10.301+0000","updated":"2009-02-10T15:26:10.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12672536","id":"12672536","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"It you build the releases like the HowToRelease page describes, you'll get both 32 and 64 bit binaries with a single date stamp.\n\nHadoop doesn't support rolling upgrades and patching 1/2 of the TaskTrackers sounds like a recipe for disaster.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-11T07:26:35.525+0000","updated":"2009-02-11T07:26:35.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12672661","id":"12672661","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"\nYou may be able to do a compatible build for 32bits and 64bits version.\nHow about for the environments with different OS?Different architectures?\nWe happen to be in an environment hadoop has to be built for different kinds of environments on different machines.\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-11T15:56:39.753+0000","updated":"2009-02-11T15:56:39.753+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12672866","id":"12672866","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Assuming you can build in a NFS directory that is cross-mounted on the various hosts, just ssh over to the relevant host and build the native code on each platform. On the last platform, generate the tar ball and you will have a single build with all of the native bits compiled on multiple platforms.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-12T03:33:27.204+0000","updated":"2009-02-12T03:33:27.204+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12673038","id":"12673038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"That's reasonable if you're manually building Hadoop and only Hadoop, but in many scenarios, Hadoop is just one component, and is automatically built as part of a much larger build system. It would be basically impossible to automate the suggested build procedure using our internal build system. The one OS distro I'm at all familiar with (NetBSD pkgsrc) seems like it would also have trouble building like that; I'm guessing other from-source distributions will as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-12T19:48:25.002+0000","updated":"2009-02-12T19:48:25.002+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12673070","id":"12673070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Here's a patch that lets you override the script that writes the version file.  Would this work for you?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-12T22:10:09.272+0000","updated":"2009-02-12T22:10:09.272+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12674727","id":"12674727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Thank you for the patch. I've applied it and verified that it integrates with our build system, though I do still believe that this including the date will cause this problem (which now has a supported work-around) to occur for other people using other build systems.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-18T18:32:50.143+0000","updated":"2009-02-18T18:32:50.143+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12674828","id":"12674828","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I do still believe that this including the date will cause this problem (which now has a supported work-around) to occur for other people using other build systems.\n\nAnd Owen feels strongly that the current behavior protects us against real hazards.  He's had clusters that only partially upgraded and encountered unexpected difficult to diagnose problems.  We need to reach a consensus.  So the question is not whether this is the way you would implement this in a vacuum, but whether this is a solution that we can all agree to.  Do you have an alternate proposal that you prefer that Owen might support?  If not, can you live with the solution I suggested?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-19T00:07:45.494+0000","updated":"2009-02-19T00:07:45.494+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12674871","id":"12674871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Does \"only takstrackers and jobtrackers built from exactly the same source files should communicate\" accurately describe the desired policy? \n\nIf so, I can try to provide a patch for saveVersions.sh that will md5sum the entire source and use that in the version identifier, as an alternative way to enforce that policy. A single character source-level change would be declared incompatible, but rebuilding from exactly the same source would be OK.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-19T02:55:04.814+0000","updated":"2009-02-19T02:55:04.814+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12675063","id":"12675063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I can try to provide a patch for saveVersions.sh that will md5sum the entire source and use that in the version identifier [ ...]\n\nThat sounds like it could work well to me.  The tricky bit might be concisely and reliably determining the set of files to checksum.  On one hand we don't want to include svn, git or other generated files, and on the other we not want to have hard-to-maintain lists of patterns to include or ignore.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-19T17:58:56.464+0000","updated":"2009-02-19T17:58:56.464+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12676465","id":"12676465","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"\nI prefer to provide options to allow the user to specify the fields of buildversion to be compared.\nThe default option should be the same as it is now (all fields). But the user can, for example,  specify to compare only the hadoop version numbers and revision numbers.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-25T01:04:49.569+0000","updated":"2009-02-25T01:04:49.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12676748","id":"12676748","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"> I prefer to provide options to allow the user to specify the fields of buildversion to be compared.\n\nDoesn't my patch let you implement something equivalent, by letting you control what's in the version string?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-25T19:35:56.170+0000","updated":"2009-02-25T19:35:56.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12676755","id":"12676755","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"My thinking is that it is preferable that one can specify the subset of fields of the buildVersion  as an argument to a task tracker.\nThe task tracker uses that info to check whether it is compatible with the job tracker.\nThis way, we don't have to customize the saveVersion.sh.   ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-25T20:01:27.290+0000","updated":"2009-02-25T20:01:27.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12676762","id":"12676762","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Do you have a patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-25T20:19:05.277+0000","updated":"2009-02-25T20:19:05.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12676841","id":"12676841","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"body":"\nRick and I chatted about this a moment ago.\nWe agreed that the checksum based approach should work better.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=runping","name":"runping","key":"runping","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Runping Qi","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-26T01:46:56.716+0000","updated":"2009-02-26T01:46:56.716+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696345","id":"12696345","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"body":"What's that status of the patch for the checksum based approach?  I am using 0.18.3 and am willing to back port such a patch to 0.18.3 if necessary.  In the meantime it looks like I will have to use Doug's approach in order to get around this problem since I am using a cluster with mixed hardware and OS.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-07T02:24:22.339+0000","updated":"2009-04-07T02:24:22.339+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696364","id":"12696364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Doug's patch definitely provides a functional work around. I'm attaching the current state of the checksum patch. The core part of the patch is this shell line, which computes a checksum of the *.java files in src:\n\n{{srcChecksum=`find src -name '*.java' | LC_ALL=C sort | xargs md5sum | md5sum | cut -d ' ' -f 1`}}\n\nI'd definitely appreciate suggestions for improving that. Some other obvious solutions don't work because they don't produce the same checksums on various platforms (including using a \"tar cf - -T -\" in place of the \"xargs md5sum\"). For now, that does produce the same checksum value on Mac OS X and Linux; I'll dig out a Cygwin box and test there next, but don't have access to a Solaris box. For reference, the checksum it computes is 8238dee4c81d21734c34d7e5c420cfe2 for source at svn revision 762607 plus the attached patch.\n\nI used *.java because it seems pretty unlikely you could produce an incompatible protocol change without modifying any java files, but could expand that if it seems too restrictive. This does allow documentation changes and build file changes, for example.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-07T03:07:53.881+0000","updated":"2009-04-07T03:07:53.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696644","id":"12696644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"Unless I'm missing something, your patch doesn't actually change how the version is checked, only how it's computed.  Did you intend to combine our patches, or is your patch incomplete?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-04-07T17:40:01.279+0000","updated":"2009-04-07T17:40:01.279+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696674","id":"12696674","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"It's a bit obfuscated, but the VersionInfo.getBuildVersion() is used by the tasktrackers to compare versions:\n\nTaskTracker.java:1056:     if(!VersionInfo.getBuildVersion().equals(jobTrackerBV)) {\n\nThis patch changes from including the date to including the srcChecksum in the string returned by VersionInfo.getBuildVersion().\n\nThe namenode-datanode compatibility check uses Storage.getBuildVersion(), but that calls VersionInfo.getRevision(), so didn't have the precise problem addressed by this JIRA (though it might be worth changing it to match).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-07T18:23:31.457+0000","updated":"2009-04-07T18:23:31.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696680","id":"12696680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"body":"I back ported Rick's patch to 0.18.3.  I have tested it in my cluster which include 5 different hardware/OS combination.  All the different TaskTracker was able to come up without any problem.  I am attaching my patch.\n\nAlso want to confirm what Rick has pointed out.  All the Datanodes have no problem talking to the Namenode in my cluster of mixed machines.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-07T18:39:23.264+0000","updated":"2009-04-07T18:39:23.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696692","id":"12696692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"This looks fine to me.  Owen?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-04-07T19:02:17.866+0000","updated":"2009-04-07T19:02:17.866+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696747","id":"12696747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-04-07T20:54:29.185+0000","updated":"2009-04-07T20:54:29.185+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696922","id":"12696922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12404866/HADOOP-5203-md5-0.18.3.patch\n  against trunk revision 763107.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/163/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-08T07:23:40.481+0000","updated":"2009-04-08T07:23:40.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12696997","id":"12696997","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"body":"It looks like the wrong patch was applied to the trunk.  HADOOP-5203-md5.patch is for the trunk.    HADOOP-5203-md5-0.18.3.patch is for the 0.18 branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-08T12:09:44.918+0000","updated":"2009-04-08T12:09:44.918+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12697230","id":"12697230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Reattaching the same patch as before to make it the latest patch for Hudson.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-08T21:47:09.439+0000","updated":"2009-04-08T21:47:09.439+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12697412","id":"12697412","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12405011/HADOOP-5203-md5.patch\n  against trunk revision 763502.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/169/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/169/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/169/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/169/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-09T07:18:30.882+0000","updated":"2009-04-09T07:18:30.882+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12697422","id":"12697422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"body":"Tests with errors were TestMRServerPorts (appears to have encountered ports already in use) and  TestQueueCapacities (capacity-scheduler, appears to have issues with file access and locking), both of which are unlikely to be related to this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rickcox","name":"rickcox","key":"rickcox","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Cox","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-09T07:43:14.921+0000","updated":"2009-04-09T07:43:14.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12708787","id":"12708787","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sharadag","name":"sharadag","key":"sharadag","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sharad Agarwal","active":true,"timeZone":"Etc/UTC"},"body":"I committed this. Thanks Rick.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sharadag","name":"sharadag","key":"sharadag","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sharad Agarwal","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-13T06:31:28.753+0000","updated":"2009-05-13T06:31:28.753+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12783769","id":"12783769","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","key":"steve_rowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true,"timeZone":"America/New_York"},"body":"Here is a version of Bill Au's 0.18.3 backported patch, adjusted to apply cleanly to 0.19.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","key":"steve_rowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true,"timeZone":"America/New_York"},"created":"2009-11-30T18:04:28.890+0000","updated":"2009-11-30T18:04:28.890+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/12837360","id":"12837360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"body":"Same patch adjusted to apply cleanly to 0.20.1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","key":"billa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-23T18:25:02.248+0000","updated":"2010-02-23T18:25:02.248+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/13181176","id":"13181176","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"body":"Note that the \"Fix Version\" is indeed correct; this patch was committed to trunk after the 0.20 branch point, so only v0.21 and higher have the fix.  HADOOP-7960 ports it to branch-1 so that v1.1 and higher will also have the fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-01-06T07:09:18.735+0000","updated":"2012-01-06T07:09:18.735+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414409/comment/13181191","id":"13181191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"body":"This is almost identical to Bill Au's version for v0.20.1, so thanks Bill!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mattf","name":"mattf","key":"mattf","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matt Foley","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-01-06T08:07:24.551+0000","updated":"2012-01-06T08:07:24.551+0000"}],"maxResults":33,"total":33,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5203/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i02sdb:"}}