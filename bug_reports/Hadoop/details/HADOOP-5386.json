{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12416055","self":"https://issues.apache.org/jira/rest/api/2/issue/12416055","key":"HADOOP-5386","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-03-04T07:42:06.069+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Mar 13 15:05:25 UTC 2009","customfield_12310420":"78005","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_500209240_*|*_1_*:*_1_*:*_177915100_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-03-11T23:02:39.340+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5386/watchers","watchCount":3,"isWatching":false},"created":"2009-03-04T02:40:35.196+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-24T20:36:13.219+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Currently hdfsproxy unit test uses Cactus in-container test. It uses three fixed ports. one for tomcat start-up/shut-down, another for tomcat http-port and the third for tomcat https-port. \nIf theses ports are already in use, ant build will fail. To fix this, we decided to use a java program to probe the free ports dynamically and update the tomcat conf with these free ports. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401892","id":"12401892","filename":"HADOOP-5386.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-11T03:58:59.678+0000","size":18270,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12401892/HADOOP-5386.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401880","id":"12401880","filename":"HADOOP-5386.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-10T23:23:37.407+0000","size":18207,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12401880/HADOOP-5386.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401500","id":"12401500","filename":"HADOOP-5386.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T07:49:22.456+0000","size":16414,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12401500/HADOOP-5386.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401356","id":"12401356","filename":"HADOOP-5386.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-04T02:44:41.709+0000","size":7911,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12401356/HADOOP-5386.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"103733","customfield_12312823":null,"summary":"To Probe free ports dynamically for Unit test to replace fixed ports","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12678559","id":"12678559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"body":"Added Find Free Port to probe free port dynamically.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-04T02:44:41.725+0000","updated":"2009-03-04T02:44:41.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12678624","id":"12678624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"* As part of this patch, would it be possible to cut the test timeout from 3 minutes to 30 seconds at most?\n* Ideally, the proxy would start up on a random port instead of writing the config from ant, but OK. Since FindFreePort is used only in the unit tests, it should probably:\n** Move under hdfsproxy/test/...\n** Write the whole config file instead of using sed in a later ant task\n** Pick a random port instead of starting at a fixed port and rolling to find an open one\n* {{ant -Dtestcase=TestHdfsProxy test}} fails reliably on my machine:\n{noformat}\ntest:\n     [echo]  Free Ports: startup-54321 / http-54322 / https-54323\n     [echo] Please take a deep breath while Cargo gets the Tomcat for running the servlet tests...\n   [cactus] -----------------------------------------------------------------\n   [cactus] Running tests against Tomcat 5.x @ http://localhost:54322\n   [cactus] -----------------------------------------------------------------\n   [cactus] Deploying [/snip/hadoop/build/contrib/hdfsproxy/target/test.war] to \\\n                      [/snip/hadoop/build/contrib/hdfsproxy/target/tomcat-config/webapps]...\n   [cactus] Tomcat 5.x starting...\nServer [Apache-Coyote/1.1] started\n   [cactus] Running org.apache.hadoop.hdfsproxy.TestHdfsProxy\n   [cactus] Tomcat 5.x started on port [54322]\n   [cactus] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 14.53 sec\n   [cactus] Test org.apache.hadoop.hdfsproxy.TestHdfsProxy FAILED\n   [cactus] Tomcat 5.x is stopping...\n   [cactus] Tomcat 5.x is stopped\n[junitreport] Processing /snip/hadoop/build/contrib/hdfsproxy/target/reports/TESTS-TestSuites.xml \\\n                      to /tmp/null1419962142\n[junitreport] Loading stylesheet jar:file:/tools/apache-ant-1.7.1/lib/ant-junit.jar!\\\n                                     /org/apache/tools/ant/taskdefs/optional/junit/xsl/junit-frames.xsl\n[junitreport] Transform time: 408ms\n[junitreport] Deleting: /tmp/null1419962142\n\nBUILD FAILED\n/snip/hadoop/build.xml:773: The following error occurred while executing this line:\n/snip/hadoop/src/contrib/build.xml:48: The following error occurred while executing this line:\n/snip/hadoop/src/contrib/hdfsproxy/build.xml:237: Tests failed!\n\nTotal time: 41 seconds\n{noformat}\n* Note that hdfsproxy isn't the last project in test, but the failure stops the build. That should be fixed, either as part of this issue or in another one.\n* When {{ant -Dtestcase=FOO test}} is run, this still starts tomcat.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-04T07:42:06.069+0000","updated":"2009-03-04T07:42:06.069+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12678775","id":"12678775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Move under hdfsproxy/test/...\n\nSorry, I meant hdfsproxy/src/test/...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-04T16:37:03.554+0000","updated":"2009-03-04T16:37:03.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12679112","id":"12679112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"body":"    *  As part of this patch, would it be possible to cut the test timeout from 3 minutes to 30 seconds at most?  \nYes done\n    * Ideally, the proxy would start up on a random port instead of writing the config from ant, but OK. Since FindFreePort is used only in the unit tests, it should probably:\n          o Move under hdfsproxy/test/...\nYes done.\n          o Write the whole config file instead of using sed in a later ant task\nI changed to use ant copy plus token filter. should be more elegant than sed.\n          o Pick a random port instead of starting at a fixed port and rolling to find an open one\nYes. I changed FindFreePort to select a random port to start with\n    * ant -Dtestcase=TestHdfsProxy test fails reliably on my machine:\nFixed, don't rely on HADOOP_CONF_DIR environment. should work fine now.\n\n    * Note that hdfsproxy isn't the last project in test, but the failure stops the build. That should be fixed, either as part of this issue or in another one.\nI explored quite a few time on that. Unfortunately I don't think ant can continue run build if some part fails. Unless we want to return success even if it fails. It would be nice if ant is like gcc compiler, returning all the errors or failures after the full build. But ant can't do that (i think). If it is proven otherwise, please let me know. \n    * When ant -Dtestcase=FOO test is run, this still starts tomcat.\nFixed. \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T07:49:22.495+0000","updated":"2009-03-05T07:49:22.495+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12679823","id":"12679823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for addressing all the open issues. All the unit tests pass on fresh checkouts. I'm still seeing the prenominate failure in one dev environment, but cannot discern its cause. I doubt that it will be a problem in general.\n\nbq. I changed to use ant copy plus token filter. should be more elegant than sed.\nThis is a sound improvement. The current strategy of testing for open ports should stop Hudson from failing.\n\nbq. I explored quite a few time on that. Unfortunately I don't think ant can continue run build if some part fails. Unless we want to return success even if it fails.\nI modified a Chukwa unit test to fail, and it looks like both projects have the same issue. I filed HADOOP-5434 to address this.\n\nOther than changing the port rolling to advance mod the MAX_AVAILABLE_PORT (so if it happens to start at or near that point, a single failure to bind won't fail the test), I think the current patch is fine and could go in as-is.\n\n+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-07T03:57:33.723+0000","updated":"2009-03-07T03:57:33.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12679824","id":"12679824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. +1\n\n(assuming Hudson comes back without complaint)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-07T03:58:42.682+0000","updated":"2009-03-07T03:58:42.682+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12680132","id":"12680132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12401500/HADOOP-5386.patch\n  against trunk revision 751463.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 19 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/57/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/57/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/57/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/57/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-09T12:08:19.663+0000","updated":"2009-03-09T12:08:19.663+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12680688","id":"12680688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"body":"Added clover coverage test support. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-10T23:23:37.481+0000","updated":"2009-03-10T23:23:37.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12680743","id":"12680743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"body":"Addressed in-compatible javac and java version problem with ant \"exec\" task.\n[echo]  Free Ports: startup-Exception in thread \"main\" java.lang.UnsupportedClassVersionError: Bad version number in .class file\n     [echo] \tat java.lang.ClassLoader.defineClass1(Native Method)\n     [echo] \tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)\n     [echo] \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)\n     [echo] \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\n     [echo] \tat java.net.URLClassLoader.access$100(URLClassLoader.java:56)\n     [echo] \tat java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n     [echo] \tat java.security.AccessController.doPrivileged(Native Method)\n     [echo] \tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n     [echo] \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n     [echo] \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)\n     [echo] \tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n     [echo] \tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319) / http-Exception in thread \"main\" java.lang.UnsupportedClassVersionError: Bad version number in .class file\n\nNow use ${env.JAVA_HOME}/bin/java instead of java.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhiyong1","name":"zhiyong1","key":"zhiyong1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhiyong zhang","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-11T03:58:59.723+0000","updated":"2009-03-11T03:58:59.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12681078","id":"12681078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"I committed this. Thanks, Zhiyong","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-11T23:02:39.305+0000","updated":"2009-03-11T23:02:39.305+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12416055/comment/12681797","id":"12681797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hadoop-trunk #778 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/778/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-13T15:05:25.051+0000","updated":"2009-03-13T15:05:25.051+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5386/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i3xz:"}}