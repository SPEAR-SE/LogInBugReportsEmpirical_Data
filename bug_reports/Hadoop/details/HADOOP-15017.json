{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13116314","self":"https://issues.apache.org/jira/rest/api/2/issue/13116314","key":"HADOOP-15017","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2017-11-06T14:48:18.119+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Nov 07 01:05:02 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_29385288_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2017-11-06T14:49:01.867+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-15017/watchers","watchCount":2,"isWatching":false},"created":"2017-11-06T06:39:16.621+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-11-07T01:05:02.849+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I encountered the following error:\r\n\r\n{code}\r\n2017-11-06 14:20:23.039 ERROR   --- [           main] org.apache.sqoop.Sqoop                   : Got exception running Sqoop: java.lang.IllegalArgumentException: Pathname /D:/Repositories/Maven/mysql/mysql-connector-java/5.1.39/mysql-connector-java-5.1.39.jar from hdfs://10.162.3.171:8020/D:/Repositories/Maven/mysql/mysql-connector-java/5.1.39/mysql-connector-java-5.1.39.jar is not a valid DFS filename.\r\njava.lang.IllegalArgumentException: Pathname /D:/Repositories/Maven/mysql/mysql-connector-java/5.1.39/mysql-connector-java-5.1.39.jar from hdfs://10.162.3.171:8020/D:/Repositories/Maven/mysql/mysql-connector-java/5.1.39/mysql-connector-java-5.1.39.jar is not a valid DFS filename.\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:190)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.access$000(DistributedFileSystem.java:98)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$17.doCall(DistributedFileSystem.java:1112)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$17.doCall(DistributedFileSystem.java:1108)\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1108)\r\n\tat org.apache.hadoop.mapreduce.filecache.ClientDistributedCacheManager.getFileStatus(ClientDistributedCacheManager.java:288)\r\n\tat org.apache.hadoop.mapreduce.filecache.ClientDistributedCacheManager.getFileStatus(ClientDistributedCacheManager.java:224)\r\n\tat org.apache.hadoop.mapreduce.filecache.ClientDistributedCacheManager.determineTimestamps(ClientDistributedCacheManager.java:93)\r\n\tat org.apache.hadoop.mapreduce.filecache.ClientDistributedCacheManager.determineTimestampsAndCacheVisibilities(ClientDistributedCacheManager.java:57)\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.copyAndConfigureFiles(JobSubmitter.java:265)\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.copyAndConfigureFiles(JobSubmitter.java:301)\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:389)\r\n\tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1285)\r\n\tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1282)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Unknown Source)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:1282)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1303)\r\n\tat org.apache.sqoop.mapreduce.ExportJobBase.doSubmitJob(ExportJobBase.java:296)\r\n\tat org.apache.sqoop.mapreduce.ExportJobBase.runJob(ExportJobBase.java:273)\r\n\tat org.apache.sqoop.mapreduce.ExportJobBase.runExport(ExportJobBase.java:395)\r\n\tat org.apache.sqoop.manager.SqlManager.exportTable(SqlManager.java:828)\r\n\tat org.apache.sqoop.tool.ExportTool.exportTable(ExportTool.java:81)\r\n\tat org.apache.sqoop.tool.ExportTool.run(ExportTool.java:100)\r\n\tat org.apache.sqoop.Sqoop.run(Sqoop.java:145)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\r\n\tat org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:181)\r\n\tat cn.com.audiservice.service.SqoopTestService.main(SqoopTestService.java:42)\r\n{code}\r\n\r\nMy code is as follows:\r\n\r\npublic class SqoopT{code}estService {\r\n\tpublic static void main(String[] args){\r\n\t\targs = new String[]{\r\n\t\t\t\t\"export\",\"--connect\",\"XXXXXXXXXXXXX\",\r\n\t\t\t\t\"--username\",\"XXXXXXXXXXX\",\r\n\t\t\t\t\"--password\",\"XXXXXXXXXXXXXX\",\r\n\t\t\t\t\"--table\",\"XXXXXXXXXX\",\r\n\t\t\t\t\"--export-dir\",\"/files/ftp_cluster_222/opdw4_ad/CD0402060201AAUDI201711020000000.txt\",\r\n\t\t\t\t\"--input-fields-terminated-by\",\"'|'\"\r\n\t\t};\r\n\t\t//Expand the option\r\n\t\tString[] expandedArgs = null;\r\n\t\ttry{\r\n\t\t\texpandedArgs = OptionsFileUtil.expandArguments(args);\r\n\t\t}catch(Exception ex){\r\n\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\tSystem.err.println(\"Try 'sqoop help' for usage.\");\r\n\t\t}\r\n\t\t\r\n\t\tString toolName = expandedArgs[0];\r\n\t\tcom.cloudera.sqoop.tool.SqoopTool tool = (com.cloudera.sqoop.tool.SqoopTool) SqoopTool.getTool(toolName);\r\n\t\tif(null == tool){\r\n\t\t\tSystem.err.println(\"No such sqoop tool: \" + toolName + \". See 'sqoop help''.\");\r\n\t\t}\r\n\t\t\r\n\t\tConfiguration conf = new Configuration();  \r\n\t\tconf.set(\"fs.hdfs.impl\",org.apache.hadoop.hdfs.DistributedFileSystem.class.getName());\r\n\t    conf.set(\"fs.default.name\", \"hdfs://10.162.3.171:8020\");//设置hadoop服务地址 \r\n\t\tConfiguration pluginConf = SqoopTool.loadPlugins(conf);\r\n\t\t\r\n\t\tSqoop sqoop = new Sqoop(tool, pluginConf);\r\n\t\tSqoop.runSqoop(sqoop, Arrays.copyOfRange(expandedArgs, 1, expandedArgs.length));\r\n\t\t\r\n\t}\r\n}\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":" is not a valid DFS filename","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Echo93","name":"Echo93","key":"echo93","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Jia","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Echo93","name":"Echo93","key":"echo93","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Jia","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13116314/comment/16240394","id":"16240394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"The invalid pathname is the enire string begging d://Repositories\r\n{code}\r\nPathname /D:/Repositories/Maven/mysql/mysql-connector-java/5.1.39/mysql-connector-java-5.1.39.jar from hdfs://10.162.3.171:8020/D:/Repositories/Maven/mysql/mysql-connector-java/5.1.39/mysql-connector-java-5.1.39.jar is not a valid DFS filename.\r\n{code}\r\n\r\nThere's some error in your environment, classpath setup, command line, etc. \r\n\r\nClosing as invalid, also deleting your password from the bug report. Safest to change it anyway, especially if you've used it anywhere else.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-11-06T14:48:18.119+0000","updated":"2017-11-06T14:48:18.119+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13116314/comment/16241273","id":"16241273","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Echo93","name":"Echo93","key":"echo93","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Jia","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for your answer and reminding :)\r\nI have solved this problem by updating my Hadoop version in Maven.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Echo93","name":"Echo93","key":"echo93","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chen Jia","active":true,"timeZone":"Etc/UTC"},"created":"2017-11-07T01:05:02.849+0000","updated":"2017-11-07T01:05:02.849+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-15017/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3mfhr:"}}