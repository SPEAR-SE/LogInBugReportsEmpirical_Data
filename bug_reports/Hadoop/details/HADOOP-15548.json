{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13167176","self":"https://issues.apache.org/jira/rest/api/2/issue/13167176","key":"HADOOP-15548","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341706","id":"12341706","description":"2.10.0 Release","name":"2.10.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342324","id":"12342324","description":"3.2 release","name":"3.2.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342984","id":"12342984","description":"3.1.1 release","name":"3.1.1","archived":false,"released":true,"releaseDate":"2018-08-07"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343006","id":"12343006","description":"2.9.2 release","name":"2.9.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343058","id":"12343058","description":"2.8.5 release","name":"2.8.5","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343400","id":"12343400","name":"3.0.4","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-06-21T21:12:18.072+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jun 29 20:48:18 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_102979514_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_698174043","customfield_12312321":null,"resolutiondate":"2018-06-29T20:49:28.513+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-15548/watchers","watchCount":8,"isWatching":false},"created":"2018-06-20T14:16:55.007+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-06-29T20:49:28.542+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"shuffle LOCAL_DIRS, LOG_DIRS and LOCAL_USER_DIRS when launching container. Some applications will process these in exactly the same way in every container (e.g. roundrobin) which can cause disks to get unnecessarily overloaded (e.g. one output file written to first entry specified in the environment variable).\r\n\r\nThere are two paths for local dir allocation, depending on whether the size is unknown or known.  The unknown path already uses a random algorithm.  The known path initializes with a random starting point, and then goes round-robin after that.  When selecting a dir, it increments the last used by one and then checks sequentially until it finds a dir that satisfies the request.  Proposal is to increment by a random value of between 1 and num_dirs - 1, and then check sequentially from there.  This should result in a more random selection in all cases.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12928671","id":"12928671","filename":"HADOOP-15548.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-21T18:52:22.622+0000","size":3291,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12928671/HADOOP-15548.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12929633","id":"12929633","filename":"HADOOP-15548.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-28T22:14:32.161+0000","size":3695,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12929633/HADOOP-15548.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12929765","id":"12929765","filename":"HADOOP-15548-branch-2.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-29T19:55:31.487+0000","size":3698,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12929765/HADOOP-15548-branch-2.001.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Randomize local dirs","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16519680","id":"16519680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"body":"Submitted patch for trunk for testing.\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-21T18:53:14.504+0000","updated":"2018-06-21T18:53:14.504+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16519777","id":"16519777","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 14s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 28m 31s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 29m 42s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 10s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 44s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 33s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 58s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 45s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 26m 38s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 26m 38s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  6s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  0s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 38s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  8m 21s{color} | {color:green} hadoop-common in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 39s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black}126m 53s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |\r\n| JIRA Issue | HADOOP-15548 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928671/HADOOP-15548.001.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 7ab87ee59445 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 59de967 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_171 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/14803/testReport/ |\r\n| Max. process+thread count | 1517 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\r\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14803/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-21T21:12:18.072+0000","updated":"2018-06-21T21:12:18.072+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16520320","id":"16520320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"body":"[~eepayne], this one looks like it is ready to review as well.  Thanks!\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-22T13:03:50.922+0000","updated":"2018-06-22T13:03:50.922+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16526758","id":"16526758","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~Jim_Brennan] for reporting this problem and providing the fix.\r\n\r\nThe patch looks fine, but I have one concern with the test. It succeeds even without changing {{/LocalDirAllocator}}. Can you please modify the test so that it failes with the original code? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-28T20:36:25.399+0000","updated":"2018-06-28T20:36:25.399+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16526850","id":"16526850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"body":"[~eepayne] thanks for the review!  I've uploaded a new patch that adds a check to ensure we are not always selecting the next dir, which is what it used to do.\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-28T22:15:42.159+0000","updated":"2018-06-28T22:15:42.159+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16526961","id":"16526961","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 23s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 27m 13s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 27m 55s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 10s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 27s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 33s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 55s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 48s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 27m 57s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 27m 57s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 12s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 43s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 38s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 57s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  8m 46s{color} | {color:green} hadoop-common in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 35s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black}125m  3s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |\r\n| JIRA Issue | HADOOP-15548 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12929633/HADOOP-15548.002.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 1581e540fa1f 3.13.0-137-generic #186-Ubuntu SMP Mon Dec 4 19:09:19 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 2911943 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_171 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/14831/testReport/ |\r\n| Max. process+thread count | 1397 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\r\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14831/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-29T00:25:38.329+0000","updated":"2018-06-29T00:25:38.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16527359","id":"16527359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shashikant","name":"shashikant","key":"shashikant","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shashikant Banerjee","active":true,"timeZone":"Asia/Kolkata"},"body":"+1, LGTM.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shashikant","name":"shashikant","key":"shashikant","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shashikant Banerjee","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-06-29T09:26:36.071+0000","updated":"2018-06-29T09:26:36.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528034","id":"16528034","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~Jim_Brennan].\r\n+1\r\nI will commit shortly","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-29T18:05:54.072+0000","updated":"2018-06-29T18:05:54.072+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528090","id":"16528090","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"body":"Hi [~Jim_Brennan]. I tried backporting this and building it in branch-2. It gets the following errors during build:\r\n{code}\r\n[ERROR] /home/ericp/hadoop/source/Apache/HADOOP-15548/branch-2/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalDirAllocator.java:[284,5] cannot find symbol\r\n  symbol:   method assumeNotWindows()\r\n{code}\r\nCan you please provide a 2.x patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-29T18:52:19.963+0000","updated":"2018-06-29T18:52:19.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528093","id":"16528093","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #14504 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/14504/])\nHADOOP-15548: Randomize local dirs. Contributed by Jim Brennan. (ericp: rev d36f6b9e93e4c30d24d0e837cb00bd24ffa8f274)\n* (edit) hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalDirAllocator.java\n* (edit) hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/LocalDirAllocator.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-29T18:53:39.807+0000","updated":"2018-06-29T18:53:39.807+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528154","id":"16528154","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"body":"I've uploaded a patch for branch-2 that fixes the compilation error.\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-29T19:55:59.189+0000","updated":"2018-06-29T19:55:59.189+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528197","id":"16528197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 16m 27s{color} | {color:blue} Docker mode activated. {color} |\r\n| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m  9s{color} | {color:red} HADOOP-15548 does not apply to branch-2. Rebase required? Wrong Branch? See https://wiki.apache.org/hadoop/HowToContribute for help. {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:f667ef1 |\r\n| JIRA Issue | HADOOP-15548 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12929765/HADOOP-15548-branch-2.001.patch |\r\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14839/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-29T20:31:22.472+0000","updated":"2018-06-29T20:31:22.472+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528211","id":"16528211","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"body":"The precommit build failure is my fault. I should have waited for the precommit build to run before I committed the branch-2 patch. Sorry about that.\r\n\r\nI've committed it to trunk, branch-3.1, branch-3.0, branch-2, branch-2.9, and branch-2.8","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eepayne","name":"eepayne","key":"eepayne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10444","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10444","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10444","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10444"},"displayName":"Eric Payne","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-29T20:46:26.297+0000","updated":"2018-06-29T20:46:26.297+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13167176/comment/16528214","id":"16528214","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"body":"Thanks [~eepayne]!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Jim_Brennan","name":"Jim_Brennan","key":"jim_brennan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10440","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10440","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10440","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10440"},"displayName":"Jim Brennan","active":true,"timeZone":"America/Chicago"},"created":"2018-06-29T20:48:18.438+0000","updated":"2018-06-29T20:48:18.438+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-15548/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3v1xr:"}}