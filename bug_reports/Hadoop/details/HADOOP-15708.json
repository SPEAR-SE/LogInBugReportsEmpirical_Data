{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13182310","self":"https://issues.apache.org/jira/rest/api/2/issue/13182310","key":"HADOOP-15708","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2018-08-31T09:35:10.611+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Aug 31 19:29:48 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-15708/watchers","watchCount":5,"isWatching":false},"created":"2018-08-31T08:40:37.299+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342324","id":"12342324","description":"3.2 release","name":"3.2.0","archived":false,"released":false}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-31T19:29:48.912+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310711","id":"12310711","name":"conf","description":"Hadoop configuration mechanism."}],"timeoriginalestimate":null,"description":"Hadoop Common contains a widely used Configuration class.\r\n This class can handle deprecations of properties, e.g. if property 'A' gets deprecated with an alternative property key 'B', users can access property values with keys 'A' and 'B'.\r\n Unfortunately, this does not work in one case.\r\n When a config file is specified (for instance, XML) and a property is read with the config.get() method, the config is loaded from the file at this time. \r\n If the deprecation mapping is not yet specified by the time any config value is retrieved and the XML config refers to a deprecated key, then the deprecation mapping specified, the config value cannot be retrieved neither with the deprecated nor with the new key.\r\n The attached patch contains a testcase that reproduces this wrong behavior.\r\n\r\nHere are the steps outlined what the testcase does:\r\n 1. Creates an XML config file with a deprecated property\r\n 2. Adds the config to the Configuration object\r\n 3. Retrieves the config with its deprecated key (it does not really matter which property the user gets, could be any)\r\n 4. Specifies the deprecation rules including the one defined in the config\r\n 5. Prints and asserts the property retrieved from the config with both the deprecated and the new property keys.\r\n\r\nFor reference, here is the log of one execution that actually shows what the issue is:\r\n{noformat}\r\nLoaded items: 1\r\nLooked up property value with name hadoop.zk.address: null\r\nLooked up property value with name yarn.resourcemanager.zk-address: dummyZkAddress\r\nContents of config file: [<?xml version=\"1.0\"?>, <configuration>, <property><name>yarn.resourcemanager.zk-address</name><value>dummyZkAddress</value></property>, </configuration>]\r\nLooked up property value with name hadoop.zk.address: null\r\n2018-08-31 10:10:06,484 INFO  Configuration.deprecation (Configuration.java:logDeprecation(1397)) - yarn.resourcemanager.zk-address is deprecated. Instead, use hadoop.zk.address\r\nLooked up property value with name hadoop.zk.address: null\r\nLooked up property value with name hadoop.zk.address: null\r\n\r\njava.lang.AssertionError: \r\nExpected :dummyZkAddress\r\nActual   :null\r\n{noformat}\r\n*As it's visible from the output and the code, the issue is really that if the config is retrieved either with the deprecated or the new value, Configuration both wants to serve the value with the new key.*\r\n *If the mapping is not specified before any retrieval happened, the value is only stored under the deprecated key but not the new key.*","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12937897","id":"12937897","filename":"HADOOP-15708.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T10:21:51.346+0000","size":9242,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12937897/HADOOP-15708.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12937909","id":"12937909","filename":"HADOOP-15708.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T11:38:50.668+0000","size":10116,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12937909/HADOOP-15708.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12937948","id":"12937948","filename":"HADOOP-15708.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T19:28:14.006+0000","size":7954,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12937948/HADOOP-15708.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12937877","id":"12937877","filename":"HADOOP-15708-testcase.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T08:43:03.212+0000","size":3782,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12937877/HADOOP-15708-testcase.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Reading values from Configuration before adding deprecations make it impossible to read value with deprecated key","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16598483","id":"16598483","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"The problem here is that the deprecation registration declares that mapping from old to new. We cannot expect a property registered with the deprecated key to be retrievable with the new key until then. \r\n\r\nIt should still be retrievable with the old key, just like any other key.\r\n\r\nAre you seeing something different?\r\n\r\nOr is the issue here that the act of registration of a deprecated key changing what/whether you can get stuff back?\r\n\r\n\r\npatch wise: nice to see a test, especially with the assertEquals() parameters in the right order. But...SLF4J must be the log API, not stdout. thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2018-08-31T09:35:10.611+0000","updated":"2018-08-31T09:36:47.996+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16598544","id":"16598544","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"body":"{quote} We cannot expect a property registered with the deprecated key to be retrievable with the new key until then. {quote}\r\nYes, I understand this. What I tried to describe is not this case.\r\nThe problem here is if you get some value from the conf then register the deprecation mappings, you are unable to read the conf value with the old key, which is not a desired behavior.\r\nIf you check the code + logs, I try to get the values with the old and new keys, but the output says:\r\n\r\n{code:java}\r\nLooked up property value with name hadoop.zk.address: null\r\nLooked up property value with name hadoop.zk.address: null\r\n{code}\r\n\r\nSo even if you use the old key, it tries to fetch values with the new key and it's null.\r\n\r\nI just meant this patch to be a proof of concept, so please disregard the stdouts, as the final patch will be more production ready.\r\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T10:20:50.867+0000","updated":"2018-08-31T10:20:50.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16598551","id":"16598551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"body":"{{So to reproduce the problem:}}\r\n{{Works:}}\r\n\r\n{{1. load properties from xml}}\r\n{{2. add deprecation mapping}}\r\n{{3. read either new or old key {color:#8eb021}works{color}}}\r\n\r\n{{Does now work:}}\r\n{{1. load properties from xml}}\r\n{{{color:#59afe1}1,5. Get any completely not related property{color}Â }}\r\n{{2. add deprecation mapping}}\r\n{{3. read either new or old key {color:#d04437}fails{color}}}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T10:26:41.967+0000","updated":"2018-08-31T10:26:41.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16598560","id":"16598560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"body":"Hi [~zsiegl]!\r\nThanks for your patch!\r\nLGTM in overall, I would just rename the {{names}} array to {{newKeys}} and the corresponding loop variable {{n}} to {{newKey}}.\r\n\r\n{noformat}\r\nprivate void updatePropertiesWIthDeprecatedKeys(\r\n      DeprecationContext deprecations, String[] names) {\r\n    for (String n : names) {\r\n      String deprecatedKey = deprecations.getReverseDeprecatedKeyMap().get(n);\r\n      if (deprecatedKey != null && !getProps().containsKey(n)) {\r\n        String deprecatedValue = getProps().getProperty(deprecatedKey);\r\n        if (deprecatedValue != null) {\r\n          getProps().setProperty(n, deprecatedValue);\r\n        }\r\n      }\r\n    }\r\n  }\r\n{noformat}\r\n\r\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T10:37:09.338+0000","updated":"2018-08-31T10:37:25.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16598616","id":"16598616","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"body":"[~snemeth] thanks for the review, items fixed.\r\n\r\n[~stevel@apache.org] could you review the current patch? Please let me know if you would need any further help understanding the context of the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T11:41:40.890+0000","updated":"2018-08-31T11:41:40.890+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16598674","id":"16598674","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"body":"Thanks [~zsiegl] for the updated patch!\r\nLGTM, +1 (non-binding)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=snemeth","name":"snemeth","key":"snemeth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=snemeth&avatarId=33743","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snemeth&avatarId=33743","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snemeth&avatarId=33743","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snemeth&avatarId=33743"},"displayName":"Szilard Nemeth","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T12:27:48.621+0000","updated":"2018-08-31T12:27:48.621+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16599029","id":"16599029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"I'm going to wait to see what others say, which given its a long weekend in the US, unlikely until next week\r\n\r\nConfiguration is such as ubiquitous class that its on the list of things to be very careful about changing, even when the changes seem low risk, which is why we need that extra oversight\r\n\r\nlooking @ code; \r\n\r\n* I'd like to see a patch which doesn't add IDE-helped changes, as that complicates merging and cherry-picking, so fixes to unused imports, line endings, spacing need to be left out. Sorry.\r\n* in TestConfigurationDeprecation, use try-with-resources for writing the file.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2018-08-31T17:13:32.999+0000","updated":"2018-08-31T17:13:32.999+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13182310/comment/16599188","id":"16599188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"body":"[~stevel@apache.org] Thank you for the review. Changes done, new patch on the way. Try-with-resources in the test would require a larger refactor of the test case, I suggest a different commit for that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zsiegl","name":"zsiegl","key":"zsiegl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zsiegl&avatarId=36578","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zsiegl&avatarId=36578","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zsiegl&avatarId=36578","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zsiegl&avatarId=36578"},"displayName":"Zoltan Siegl","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-31T19:29:48.912+0000","updated":"2018-08-31T19:29:48.912+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-15708/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3xmdr:"}}