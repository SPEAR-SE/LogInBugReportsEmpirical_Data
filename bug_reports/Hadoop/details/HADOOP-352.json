{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12345543","self":"https://issues.apache.org/jira/rest/api/2/issue/12345543","key":"HADOOP-352","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311939","id":"12311939","description":"","name":"0.5.0","archived":false,"released":true,"releaseDate":"2006-08-04"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-07-07T18:22:46.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 11 15:06:47 UTC 2006","customfield_12310420":"80618","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_341847000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_2099752000","customfield_12312321":null,"resolutiondate":"2006-07-11T15:06:47.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-352/watchers","watchCount":0,"isWatching":false},"created":"2006-07-07T16:09:20.000+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311021","id":"12311021","description":"","name":"0.4.0","archived":false,"released":true,"releaseDate":"2006-06-28"}],"issuelinks":[{"id":"12313148","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12313148","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12348339","key":"HADOOP-469","self":"https://issues.apache.org/jira/rest/api/2/issue/12348339","fields":{"summary":"Portability of hadoop shell scripts for deployment","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-08-21T19:35:54.000+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Hadoop shell scripts are based on /bin/bash, which is a \"standard\" shell only on GNU/Linux.  On other Unix systems like FreeBSD however the \"standard\" shell is /bin/sh.  The attached patch addresses these compatiblity issues.  Note that Solaris support is not yet tested.\n\nAlso, the best way to set the HADOOP_HOME variable upon ssh connection in a portable way is to set it in .ssh/environment.  The bash startup script \".bashrc\" is not an option on systems where \"bash\" is not installed.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12336488","id":"12336488","filename":"hadoop-sh-patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"created":"2006-07-07T16:10:09.000+0000","size":4318,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12336488/hadoop-sh-patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"107142","customfield_12312823":null,"summary":"Portability of hadoop shell scripts for deployment","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12345543/comment/12419691","id":"12419691","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"These scripts were initially declared to use sh, however they didn't work correctly under all versions of sh.  The problem is that most developers of these scripts develop on Linux, where sh and bash are the same program.  Thus it is *very* easy for bash-specific features to creep into these scripts.  So, if we switch them back to sh but don't have folks who are daily testing the trunk on a non-bash-based sh, then we are likely to deliver releases where these fail in strange ways.  Right now they fail in a predictable way if you don't have bash installed, so there's no confusion.  So I am reluctant to make this change unless I am convinced there are several developers who track trunk changes using a non-bash-based sh.\n\nHow hard is it to install bash on FreeBSD?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-07-07T18:22:46.000+0000","updated":"2006-07-07T18:22:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12345543/comment/12419697","id":"12419697","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"body":"This is the purpose of compile (and testing) farms at SourceForge (see http://sourceforge.net/docman/display_doc.php?docid=762&group_id=1), is there such a possibility at Apache?\n\nI understand your concern that your changes might introduce new incompatibilities.  But at the contrary, you may prevent users from adopting Hadoop by having very Linux-specific constructs.  FYI I'm working in a group of persons that intend to deploy Hadoop on Linux, FreeBSD, Cygwin and Solaris systems.\n\nThere are simples rules to follow that could ensure compatibility:\n\n* \"> file 2>&1\" instead of \">& file\"\n* \". file\" instead of \"source file\"\n* Not using /proc (Linux-specific)\n\nBest regards.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"created":"2006-07-07T19:28:13.000+0000","updated":"2006-07-07T19:28:13.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12345543/comment/12419699","id":"12419699","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"We currently do not have unit tests for the scripts, nor does Apache have a FreeBSD compilation server.\n\nI think there were more subtle problems with the scripts than those you mention, although I've forgotten the details.  Have you succeeded, with your patch, to use the scripts to manage a FreeBSD cluster?\n\nI do not wish to discourage in any way your group from using Hadoop.  Is installing bash on FreeBSD difficult?  If it is, and your group will be regular Hadoop users, then perhaps we should commit this patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-07-07T19:41:52.000+0000","updated":"2006-07-07T19:41:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12345543/comment/12419705","id":"12419705","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"body":"Yes, with my patch, the Hadoop scripts is deployed and runs on FreeBSD.\n\nBTW I didn't mention in the previous comment, \"if [ -a file ]\" constructs are not compatible.\n\nInstalling bash on FreeBSD is straightforward provided that you symlink /bin/bash to /usr/local/bin/bash.  But we must address Solaris deployment soon, and installing bash is more complicated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbq","name":"jbq","key":"jbq","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Baptiste Quenot","active":true,"timeZone":"Etc/UTC"},"created":"2006-07-07T20:09:21.000+0000","updated":"2006-07-07T20:09:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12345543/comment/12420238","id":"12420238","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"I just committed this.  Thanks, Jean-Baptiste.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-07-11T15:06:47.000+0000","updated":"2006-07-11T15:06:47.000+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-352/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0iozj:"}}