{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12830527","self":"https://issues.apache.org/jira/rest/api/2/issue/12830527","key":"HADOOP-11989","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2015-05-18T02:22:38.535+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Aug 19 18:01:10 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_70268281_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_8071815696","customfield_12312321":null,"resolutiondate":"2015-08-20T02:02:41.709+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11989/watchers","watchCount":15,"isWatching":false},"created":"2015-05-17T20:21:17.759+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327179","id":"12327179","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"issuelinks":[{"id":"12424993","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12424993","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12825975","key":"YARN-3561","self":"https://issues.apache.org/jira/rest/api/2/issue/12825975","fields":{"summary":"Non-AM Containers continue to run even after AM is stopped","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12434783","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12434783","type":{"id":"12310051","name":"Supercedes","inward":"is superceded by","outward":"supercedes","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310051"},"inwardIssue":{"id":"12854227","key":"HADOOP-12317","self":"https://issues.apache.org/jira/rest/api/2/issue/12854227","fields":{"summary":"Applications fail on NM restart on some linux distro because NM container recovery declares AM container as LOST","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-08-20T02:02:41.731+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310740","id":"12310740","name":"util","description":""}],"timeoriginalestimate":null,"description":"In the environment where setsid available, kill command is constructed with single dash, which throws ExitCodeException (improper usage of command) \n{noformat}\nkill -signal_num -<process_group_id>\n{noformat}\nEncountered this issue due to YARN-3561 \n\nKill command need to be constructed with double dash (--) which means \"end of command options\" i.e. it tells ssh command not to try to parse what comes after command line options. It should be constructed as follows :\n\n{noformat}\nkill -signal_num -- -<process_group_id>\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12733565","id":"12733565","filename":"HADOOP-11989.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T15:51:24.292+0000","size":1243,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12733565/HADOOP-11989.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Kill command for process group id throws ExitCodeException","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"debian 7","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14547329","id":"14547329","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"body":"Below snippets need to be modified to include double dash also while constructing the command.\n\n{code:title=Shell.java|borderStyle=solid}\n/** Return a command for determining if process with specified pid is alive. */\n  public static String[] getCheckProcessIsAliveCommand(String pid) {\n    return Shell.WINDOWS ?\n      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n }\n{code}\n\n{code:title=Shell.java|borderStyle=solid}\n/** Return a command to send a signal to a given pid */\n  public static String[] getSignalKillCommand(int code, String pid) {\n    return Shell.WINDOWS ? new String[] { Shell.WINUTILS, \"task\", \"kill\", pid } :\n      new String[] { \"kill\", \"-\" + code, isSetsidAvailable ? \"-\" + pid : pid };\n }\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-17T20:29:51.200+0000","updated":"2015-05-17T20:29:51.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14547459","id":"14547459","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Please provide it as a patch. Assuming we have enough test-cases already, Jenkins should be able to validate it on the usual OS we run tests on.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-18T02:22:38.535+0000","updated":"2015-05-18T02:22:38.535+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14547717","id":"14547717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"body":"[~vinodkv] Duplicating YARN-3561 issue and will provide a patch for this soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T08:37:47.475+0000","updated":"2015-05-18T08:37:47.475+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14548192","id":"14548192","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"body":"I could think of two approaches to do this,\n\n# Adding double dash (--) in all cases irrespective of whether setsid is enabled or not\n# Adding double dash (--) only when setsid is enabled\n\nCurrently submitting the patch based on approach 1. (created trunk branch)\n\n[~vinodkv] Please review the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T15:51:24.301+0000","updated":"2015-05-18T15:51:24.301+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14548284","id":"14548284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  14m 37s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |\n| {color:green}+1{color} | javac |   7m 29s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 28s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |\n| {color:red}-1{color} | checkstyle |   1m  6s | The applied patch generated  1 new checkstyle issues (total was 97, now 98). |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 33s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 40s | The patch does not introduce any new Findbugs (version 2.0.3) warnings. |\n| {color:green}+1{color} | common tests |  22m 58s | Tests passed in hadoop-common. |\n| | |  59m 55s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12733565/HADOOP-11989.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / a6af024 |\n| checkstyle |  https://builds.apache.org/job/PreCommit-HADOOP-Build/6729/artifact/patchprocess/diffcheckstylehadoop-common.txt |\n| hadoop-common test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6729/artifact/patchprocess/testrun_hadoop-common.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6729/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf901.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6729/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-18T17:00:25.796+0000","updated":"2015-05-18T17:00:25.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14548399","id":"14548399","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"Assuming the setSIDIsAvailable works on fedora/deb, it should work on all systems.. right? [~stevel@apache.org]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-18T17:52:08.878+0000","updated":"2015-05-18T17:52:08.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14548491","id":"14548491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"my main concern is whether the {{--}} prefix works across all versions of Unix\n\nthough a test on OS/X answers that\n{code}\n$ kill -0 -- 1971\nkill: illegal process id: --\n{code}\n\nNow, assuming that all platforms which support {{setsid}} also support {{--}} in kill, the string could be built up with setsid awareness checked first\n{code}\nif (isSetsidAvailable) \n // kill -X -- -pid\nelse\n// kill -X pid\n\nafter all, the -- is only needed on some setsid-aware platforms\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-05-18T18:48:36.632+0000","updated":"2015-05-18T18:48:36.632+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14548499","id":"14548499","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"bq. my main concern is whether the -- prefix works across all versions of Unix\n\nIt does.  It's actually a POSIX shell trick from way back.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-05-18T18:51:44.017+0000","updated":"2015-05-18T18:51:44.017+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14550363","id":"14550363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Allen -thanks for that.\n\nLooking in to why it was failing for me, it's because my shell is \"fish\", not \"bash\". Switch to bash and all works, so it will work in any bash shell spawned by the NM.\n\nWe don't care about cygwin any more, do we?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-05-19T12:39:03.189+0000","updated":"2015-05-19T12:39:03.189+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14550460","id":"14550460","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"body":"Maybe its best if this patch adds a unit test for the kill wrapper... right?  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jayunit100","name":"jayunit100","key":"jayunit100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577"},"displayName":"jay vyas","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-19T13:47:58.457+0000","updated":"2015-05-19T13:47:58.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14550621","id":"14550621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"body":"[~stevel@apache.org] Thanks for your comment, and I did check this command usage on debain as well as OS/X. And now tested in cygwin as well, it works with double dash (--). Please suggest whether I need to modify the patch or not.\n\n[~jayunit100] sure, will try to add test and resubmit the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-19T15:32:57.606+0000","updated":"2015-05-19T15:32:57.606+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14551122","id":"14551122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"body":"Tried adding test case but it fails with,\n{quote}\nExitCodeException exitCode=1: kill: illegal process id: --\n{quote} \n\nAdded a test case by getting the current process id and doing \"kill -0 -- <proc_id>\" to check command execute properly with out any any ExitCodeException (since its an running process).\n\nBut the same command works in shell, but not through test case. (my working environment is OS/X)\n\n{code}\n       public void testCheckProcessAliveCommand() throws Exception {\n\t\tString processName = ManagementFactory.getRuntimeMXBean().getName();\n\t\tlong processId = Long.parseLong(processName.split(\"@\")[0]);\n\t\tString[] isAliveCommand = Shell.getCheckProcessIsAliveCommand(String\n\t\t\t\t.valueOf(processId));\n\t\tSystem.out.println(Arrays.toString(isAliveCommand));\n\t\tShell.ShellCommandExecutor shexec = new Shell.ShellCommandExecutor(\n\t\t\t\tisAliveCommand);\n\t\ttry {\n\t\t\tshexec.execute();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\tfail(\"command should not throw exception : \" + e.getMessage());\n\t\t}\n\t}\n{code}\n\nCan anyone please help me out here? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chackra","name":"chackra","key":"chackra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chackaravarthy","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-19T20:06:59.593+0000","updated":"2015-05-19T20:06:59.593+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14693753","id":"14693753","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"body":"I missed looking at this before. I have the proper fix and unit test case at HADOOP-12317. Your test case is failing because the \"--\"  is needed only when using the negative process id. See the documentation link I posted in that jira. Appreciate your review of the patch at HADOOP-12317.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adhoot","name":"adhoot","key":"adhoot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anubhav Dhoot","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-12T16:25:24.004+0000","updated":"2015-08-12T16:25:24.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830527/comment/14703481","id":"14703481","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"tagging HADOOP-12317 as the successor","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-08-19T18:01:10.308+0000","updated":"2015-08-19T18:01:10.308+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11989/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2eue7:"}}