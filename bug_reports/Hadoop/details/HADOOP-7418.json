{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12477613","self":"https://issues.apache.org/jira/rest/api/2/issue/12477613","key":"HADOOP-7418","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2011-06-23T00:09:03.649+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri May 08 10:33:31 UTC 2015","customfield_12310420":"213","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_122291433057_*|*_1_*:*_2_*:*_21391430017_*|*_5_*:*_2_*:*_847171_*|*_4_*:*_1_*:*_1112842","customfield_12312321":null,"resolutiondate":"2015-05-08T10:33:31.136+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-7418/watchers","watchCount":12,"isWatching":false},"created":"2010-10-18T10:06:28.114+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":["BB2015-05-RFC","newbie"],"customfield_12312333":null,"customfield_12310230":"Path issue ","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315569","id":"12315569","description":"","name":"0.23.0","archived":false,"released":true,"releaseDate":"2011-11-11"}],"issuelinks":[{"id":"12424081","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12424081","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12543105","key":"HADOOP-8087","self":"https://issues.apache.org/jira/rest/api/2/issue/12543105","fields":{"summary":"Paths that start with a double slash cause \"No filesystem for scheme: null\" errors","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-05-08T10:33:31.177+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"the parsing of the input path string to identify the uri authority conflicts with the file system paths. For instance the following is a valid path in both the linux file system and the hdfs.\n//user/directory1//directory2.\n\nWhile this works perfectly fine in the command line for manipulating hdfs, the same fails when specified as the input path for a mapper class with the following expcetion.\n\nException in thread \"main\" java.net.UnknownHostException: unknown host: user\n        at org.apache.hadoop.ipc.Client$Connection.<init>(Client.java:195)\n\nas the org.apache.hadoop.fs.Path class assumes the string that follows the '//' to be an uri authority","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12485685","id":"12485685","filename":"HADOOP-7418.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-08T03:53:41.578+0000","size":3807,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12485685/HADOOP-7418.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12484565","id":"12484565","filename":"HADOOP-7418.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-28T21:42:44.403+0000","size":3467,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12484565/HADOOP-7418.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12487065","id":"12487065","filename":"HADOOP-7418--20110719.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-19T21:27:56.461+0000","size":4158,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12487065/HADOOP-7418--20110719.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12483526","id":"12483526","filename":"HDFS-1460.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-23T00:17:28.516+0000","size":2963,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12483526/HDFS-1460.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12483524","id":"12483524","filename":"HDFS-1460.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-23T00:09:03.447+0000","size":3019,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12483524/HDFS-1460.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"2429","customfield_12312823":null,"summary":"support for multiple slashes in the path separator","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sudhan65","name":"sudhan65","key":"sudhan65","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sudharsan Sampath","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sudhan65","name":"sudhan65","key":"sudhan65","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sudharsan Sampath","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux running JDK 1.6","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13053553","id":"13053553","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"body":"Attached is a patch for the issue in question.\n\nNote that I made a change in the way toString() is rendered that could potentially break backwards compatibility. As a result, I modified three assertions in TestPath.testNormalize() in order to correctly interpret the absolute pathnames as canonical paths.\n\nFor instance, consider the assertion:\nassertEquals(\"//foo/\", new Path(\"//foo/\").toString());\n\nThe two slashes at the beginning of the string are only rendered because the URI is created with \"foo\" as the authority; if those two slashes were part of the path, they would get normalized to a single slash. Also, the trailing slash would have been trimmed if the whole string had been considered a path; the trailing slash is only inserted after an authority.\n\nTherefore, if we are not treating \"foo\" as the hostname/authority but instead as the first directory in a path, then new Path(\"//foo/\").toString() should be equal to \"/foo\".\n\nHopefully no one was depending on the first directory being an authority in a scheme-less URI string, otherwise this might break compatibility. If URI's are being used correctly, however, this should be okay.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-23T00:09:03.649+0000","updated":"2011-06-23T00:09:03.649+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13053555","id":"13053555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12483524/HDFS-1460.txt\n  against trunk revision 1138645.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/824//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-23T00:12:15.473+0000","updated":"2011-06-23T00:12:15.473+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13053559","id":"13053559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12483526/HDFS-1460.txt\n  against trunk revision 1138645.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-HDFS-Build/825//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-23T00:22:22.953+0000","updated":"2011-06-23T00:22:22.953+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13053570","id":"13053570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12483526/HDFS-1460.txt\n  against trunk revision 1137724.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 system test framework.  The patch passed system test framework compile.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/665//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/665//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/665//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-23T00:43:23.457+0000","updated":"2011-06-23T00:43:23.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13054752","id":"13054752","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey Andrew, patch looks pretty good to me. One question:\n\nFrom manually inspecting the code, I suspect the {{Path}} class will still not correctly handle the case of multiple trailing slashes. Would you mind adding a test case to test some path with a silly number (> 5) of trailing slashes?\n\nYou might also consider running the full HDFS and MR test suites with this patch installed, as those obviously exercise all of the {{Path}} code quite a bit. See the \"Changes that span projects\" section of this page for instructions about how to get HDFS and MR to compile against your patched Common: http://wiki.apache.org/hadoop/HowToContribute","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-24T23:32:40.100+0000","updated":"2011-06-24T23:32:40.100+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13056808","id":"13056808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"body":"I redid my patch to handle the case of >2 slashes, and added a couple of unit tests as you suggested.\n\nWhen running the test suite, I had some tests hang due to timeouts, but no failures. I tried running the pre-patch versions of HDFS's test suite, and for instance, TestHDFSCLI times out because it can't connect to a namenode. Similar outcomes for a number of other tests: TestLargeBlock, TestReplaceDataNodeOnFailure...\n\nWill the Jenkins instance run these for me?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-28T21:42:44.450+0000","updated":"2011-06-28T21:42:44.450+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13056809","id":"13056809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Will the Jenkins instance run these for me?\n\nJenkins will only run the tests for the Common sub-project, since this is a JIRA for Common.\n\nI'll take a look at this patch and try to run some of tests you mention that timed out. We see a few notoriously flaky tests fail spuriously pretty often, but not usually these, and not usually with timeouts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-28T21:47:39.890+0000","updated":"2011-06-28T21:47:39.890+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13056816","id":"13056816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12484565/HADOOP-7418.txt\n  against trunk revision 1140442.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 system test framework.  The patch passed system test framework compile.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/683//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/683//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/683//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-06-28T22:03:28.257+0000","updated":"2011-06-28T22:03:28.257+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13056865","id":"13056865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"body":"Great, thanks Aaron! \n\nI'm running OS X Snow Leopard so that may be causing problems on my end... I've heard of others having trouble building the C++ libraries in HDFS (see http://cxwangyi.blogspot.com/2010_04_01_archive.html ) and apparently some mods need to be made to get things to run correctly.\n\nHave you heard of any such issues on OS X?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-06-28T22:50:00.819+0000","updated":"2011-06-28T22:50:00.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13059701","id":"13059701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Have you heard of any such issues on OS X?\n\nThere are a few known issues with native code compilation on OS X, but it's unlikely this would be the issue since you probably weren't compiling the native code when running the tests.\n\nI've personally run the tests you identified as failing on my machine with this patch and they pass just fine.\n\nTwo small comments on the latest patch:\n\n# Rather than a {{while}} loop to replace \"//\", how about just a regex? I think '{{path.replaceAll(\"/+\", \"/\")}}' should do the trick.\n# Seems like we should also be adding similar code to deal with consecutive back slashes (as in Windows paths.)\n\n+1 once these are addressed. I'll commit it then if there are no other comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-05T07:05:19.084+0000","updated":"2011-07-05T07:05:19.084+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13061748","id":"13061748","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"body":"I think I have the solution here... It seems that if there's only one backslash it doesn't necessarily get replaced.. do you think my regex for the backslashes is correct?\n\nThanks for all your help!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-08T03:53:41.603+0000","updated":"2011-07-08T03:53:41.603+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13061754","id":"13061754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12485685/HADOOP-7418.txt\n  against trunk revision 1144043.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed these core unit tests:\n                  org.apache.hadoop.fs.TestPath\n\n    +1 system test framework.  The patch passed system test framework compile.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/711//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/711//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/711//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-08T04:13:34.817+0000","updated":"2011-07-08T04:13:34.817+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13065002","id":"13065002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey Andrew, I think the regex needs to changed. In particular, I don't think it will actually cover the multiple back slash case since the double back slash in your regex actually is just string-escaping one back slash, which is then regex-escaping the \"+\" character. If you want to include a literal back slash in the regex, you need to use 4 back slashes. (Silly, I know.)\n\nFurthermore, I think that doing the replace in two stages (first forward slashes, then back slashes) won't cover the case when forward slashes are separated by back slashes (e.g. \"/foo/\\/bar\".) To cover that case, you have two options:\n\n# Replace back slashes first, before forward slashes. The back slash replacement could even be a 1-for-1 replacement, leaving you with a bunch of consecutive forward slashes, which then get replaced by a single forward slash in the next regex.\n# Use something like this regex: \"{{.replaceAll(\"(/|\\\\\\\\)+\", \"/\")}}\", which replaces multiple consecutive \"/\" or \"\\\" with a single \"/\".\n\nIt would also be worthwhile to add test cases to cover these cases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-14T01:52:26.802+0000","updated":"2011-07-14T01:52:26.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13067977","id":"13067977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Aaron,\n\nI chose the first approach you recommended - replacing backslashes with slashes, then replacing multiple slashes with a single slash.\n\nI think that I added a good number of unit tests to verify this functionality; let me know if you think I need any more.\n\nCheers (and thanks for all the help!)\n- Andrew","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrewlook","name":"andrewlook","key":"andrewlook","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Look","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-19T21:27:56.490+0000","updated":"2011-07-19T21:27:56.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13067998","id":"13067998","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12487065/HADOOP-7418--20110719.txt\n  against trunk revision 1147971.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 system test framework.  The patch passed system test framework compile.\n\nTest results: https://builds.apache.org/job/PreCommit-HADOOP-Build/749//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/749//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-HADOOP-Build/749//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-19T21:42:31.496+0000","updated":"2011-07-19T21:42:31.496+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13068158","id":"13068158","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"+1, the patch looks good to me. I'm currently running the full HDFS test suite with this common patch in place to see if it catches any regressions. I'll commit this pending those results.\n\nThanks a lot for addressing all my comments, Andrew.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-20T05:45:30.213+0000","updated":"2011-07-20T05:45:30.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13068608","id":"13068608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey Andrew, turns out one HDFS test failed: {{TestFcHdfsSymlink}}. Would you mind looking into this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=atm","name":"atm","key":"atm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=atm&avatarId=14136","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=atm&avatarId=14136","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=atm&avatarId=14136","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=atm&avatarId=14136"},"displayName":"Aaron T. Myers","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-07-20T20:24:00.315+0000","updated":"2011-07-20T20:24:00.315+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13178193","id":"13178193","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"Andrew, did you get a chance to take a look at why TestFcHdfsSymlink may have failed? Would you still be interested in pursuing this patch? :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-01-01T17:10:13.060+0000","updated":"2012-01-01T17:10:13.060+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/13461263","id":"13461263","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"Seems to still exist, though I'm unsure what exactly its trying to do:\n\n{code}\n➜  branch-2  hadoop fs -ls //user//harshchouraria/  \n12/09/23 01:53:32 DEBUG lib.MutableMetricsFactory: field org.apache.hadoop.metrics2.lib.MutableRate org.apache.hadoop.security.UserGroupInformation$UgiMetrics.loginSuccess with annotation @org.apache.hadoop.metrics2.annotation.Metric(valueName=Time, about=, value=[Rate of successful kerberos logins and latency (milliseconds)], always=false, type=DEFAULT, sampleName=Ops)\n12/09/23 01:53:32 DEBUG lib.MutableMetricsFactory: field org.apache.hadoop.metrics2.lib.MutableRate org.apache.hadoop.security.UserGroupInformation$UgiMetrics.loginFailure with annotation @org.apache.hadoop.metrics2.annotation.Metric(valueName=Time, about=, value=[Rate of failed kerberos logins and latency (milliseconds)], always=false, type=DEFAULT, sampleName=Ops)\n12/09/23 01:53:33 DEBUG impl.MetricsSystemImpl: UgiMetrics, User and group related metrics\n12/09/23 01:53:33 DEBUG util.KerberosName: Kerberos krb5 configuration not found, setting default realm to empty\n12/09/23 01:53:33 DEBUG security.Groups:  Creating new Groups object\n12/09/23 01:53:33 DEBUG security.Groups: Group mapping impl=org.apache.hadoop.security.ShellBasedUnixGroupsMapping; cacheTimeout=300000\n2012-09-23 01:53:33.084 java[19004:1903] Unable to load realm info from SCDynamicStore\n12/09/23 01:53:33 DEBUG security.UserGroupInformation: hadoop login\n12/09/23 01:53:33 DEBUG security.UserGroupInformation: hadoop login commit\n12/09/23 01:53:33 DEBUG security.UserGroupInformation: using local user:UnixPrincipal: harshchouraria\n12/09/23 01:53:33 DEBUG security.UserGroupInformation: UGI loginUser:harshchouraria (auth:SIMPLE)\n12/09/23 01:53:33 DEBUG ipc.Server: rpcKind=RPC_PROTOCOL_BUFFER, rpcRequestWrapperClass=class org.apache.hadoop.ipc.ProtobufRpcEngine$RpcRequestWritable, rpcInvoker=org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker@3ff2cea2\n12/09/23 01:53:33 DEBUG hdfs.DFSClient: Short circuit read is false\n12/09/23 01:53:33 DEBUG ipc.Client: The ping interval is 60000 ms.\n12/09/23 01:53:33 DEBUG ipc.Client: Use SIMPLE authentication for protocol ClientNamenodeProtocolPB\n12/09/23 01:53:33 DEBUG ipc.Client: Connecting to localhost/127.0.0.1:8020\n12/09/23 01:53:33 DEBUG ipc.Client: IPC Client (371838604) connection to localhost/127.0.0.1:8020 from harshchouraria sending #0\n12/09/23 01:53:33 DEBUG ipc.Client: IPC Client (371838604) connection to localhost/127.0.0.1:8020 from harshchouraria: starting, having connections 1\n12/09/23 01:53:33 DEBUG ipc.Client: IPC Client (371838604) connection to localhost/127.0.0.1:8020 from harshchouraria got value #0\n12/09/23 01:53:33 DEBUG ipc.ProtobufRpcEngine: Call: getFileInfo 69\nls: `//user//harshchouraria/': No such file or directory\n12/09/23 01:53:33 DEBUG ipc.Client: Stopping client\n12/09/23 01:53:33 DEBUG ipc.Client: IPC Client (371838604) connection to localhost/127.0.0.1:8020 from harshchouraria: closed\n12/09/23 01:53:33 DEBUG ipc.Client: IPC Client (371838604) connection to localhost/127.0.0.1:8020 from harshchouraria: stopped, remaining connections 0\n{code}\n\nThe error isn't as bad as the one reported earlier though, I think.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-09-22T20:25:18.278+0000","updated":"2012-09-22T20:25:18.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/14534228","id":"14534228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiranmr","name":"kiranmr","key":"kiranmr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Kumar M R","active":true,"timeZone":"Asia/Kolkata"},"body":"Current behavior of trunk and 7.2 is if {{//}} appears in the beginning of path, it is expected to have scheme: before that. So restriction is that  {{//}} is not supported only in beginning of path as its used to identify scheme.\n\nSamples:\n{code}\n>hadoop fs -ls //wc-out//_temporary\nls: No FileSystem for scheme: null\n{code}\n\n{{//}} is allowed later in path. Below path is valid\n{code}\n>hadoop fs -ls /wc-out//_temporary\nFound 1 items\ndrwxr-xr-x   - KiranKumar supergroup          0 2015-05-04 02:41 /wc-out/_temporary/1\n{code}\n\n{{//}} is also valid if path has proper scheme\n{code}\n>hadoop fs -ls hdfs://kiran-hpenvy//wc-out//_temporary\nFound 1 items\ndrwxr-xr-x   - KiranKumar supergroup          0 2015-05-04 02:41 hdfs://kiran-hpenvy/wc-out/_temporary/1\n{code}\n\n\nI think existing path behavior is fine. This issue can be closed.\nOthers please comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiranmr","name":"kiranmr","key":"kiranmr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Kumar M R","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-08T09:47:34.903+0000","updated":"2015-05-08T09:47:34.903+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/14534243","id":"14534243","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"[~kiranmr], I think your analysis make sense to me. we can close this JIRA now. If others has different opinion feel free to open and then we can discuss further.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T10:00:05.291+0000","updated":"2015-05-08T10:00:05.291+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/14534258","id":"14534258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiranmr","name":"kiranmr","key":"kiranmr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Kumar M R","active":true,"timeZone":"Asia/Kolkata"},"body":"Just found this comment from Doug Cutting in HADOOP-8087 https://issues.apache.org/jira/browse/HADOOP-8087?focusedCommentId=13210604&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13210604\n\nURI RFC are quoted in that comment. Looks like we need to treat //dir1//dir2 as default scheme.\nRe opening.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiranmr","name":"kiranmr","key":"kiranmr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Kumar M R","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-08T10:14:42.571+0000","updated":"2015-05-08T10:14:42.571+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/14534264","id":"14534264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"I think we need to work on as I saw the more discussions in [comment| https://issues.apache.org/jira/browse/HADOOP-8087?focusedCommentId=13210604&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13210604], Let's reopen and duplicate one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-08T10:15:27.061+0000","updated":"2015-05-08T10:15:27.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12477613/comment/14534288","id":"14534288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiranmr","name":"kiranmr","key":"kiranmr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Kumar M R","active":true,"timeZone":"Asia/Kolkata"},"body":"HADOOP-8087 had patch attached recently. Fix for this issue can discussed and closed in that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kiranmr","name":"kiranmr","key":"kiranmr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kiran Kumar M R","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-08T10:33:31.172+0000","updated":"2015-05-08T10:33:31.172+0000"}],"maxResults":24,"total":24,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-7418/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i00rrb:"}}