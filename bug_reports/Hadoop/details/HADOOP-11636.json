{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12777583","self":"https://issues.apache.org/jira/rest/api/2/issue/12777583","key":"HADOOP-11636","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-11-22T19:59:49.805+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Nov 22 19:59:49 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11636/watchers","watchCount":6,"isWatching":false},"created":"2015-02-25T16:23:17.012+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327179","id":"12327179","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-11-22T19:59:49.805+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"I've run all the Hadoop 2.6.0 tests many times (16 for now).\nUsing a tool, I can see that 30 tests are unstable.\nUnstable means that the result (Number of failures and errors) is not stable.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Several tests are not stable (OpenJDK - Ubuntu - x86_64) V2.6.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"OpenJDK 1.7 - Ubuntu - x86_64","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12777583/comment/14336695","id":"14336695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"body":"I have built a tool for summarizing the results.\nOut of 16 runs, I've found 30 unstable tests.\n\n30 T F E S | NN/n\ncrypto.key.kms.server.TestKMS 18 0-3 0-3 0 | 10/16\nmeans:\n18 tests, 0 to 3 failures and 0 to 3 errors, and 1 to 3 failures/errors appeared 10 times out of 16 (6 times with 0 failure/error).\n\nUnstable Tests out of n= 16 runs:\n30 T F E S | NN/n\n--------------------------------------------------------------------------------------------------------------------------\ncrypto.key.kms.server.TestKMS 18 0-3 0-3 0 | 10/16\nha.TestZKFailoverControllerStress 3 0 0-1 0 | 3/16\nhdfs.TestDataTransferKeepalive 4 0-1 0 0 | 2/16\nhdfs.TestEncryptionZones 18 0 0-1 0 | 1/16\nhdfs.TestHFlush 9 0 0-1 0 | 4/16\nhdfs.qjournal.TestSecureNNWithQJM 2 0 0-1 0 | 1/16\nhdfs.server.balancer.TestBalancer 22 0-1 0 0 | 2/16\nhdfs.server.namenode.TestCacheDirectives 12 0-1 0 0 | 1/16\nhdfs.server.namenode.ha.TestDNFencing 6 0-1 0 0 | 3/16\nhdfs.util.TestByteArrayManager 0-3 | 15/16\nhdfs.web.TestWebHdfsFileSystemContract 39 0-1 0 0 | 1/16\nipc.TestDecayRpcScheduler 9 0-2 0 0 | 14/16\nmapred.TestSpecialCharactersInOutputPath 1 0 0-1 0 | 2/16\nmapred.gridmix.TestRecordFactory 3 0-1 0 0 | 1/16\nmapreduce.lib.db.TestDbClasses 4 0 0-1 0 | 1/16\nmapreduce.v2.app.TestKill 5 0-1 0 0 | 5/16\nmetrics2.impl.TestMetricsSystemImpl 9 0-1 0 0 | 2/16\nsecurity.token.delegation.TestZKDelegationTokenSecretManager 3 0-1 0 0 | 1/16\ntracing.TestTracing 5 0-1 0 0 | 1/16\nyarn.applications.distributedshell.TestDistributedShell 11 0-1 0 0 | 4/16\nyarn.client.TestResourceTrackerOnHA 0-1 0 0 0 | 14/16\nyarn.client.api.impl.TestNMClient 2 0-2 0 0 | 15/16\nyarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService 16 1-2 0 0 | 7/16\nyarn.server.resourcemanager.TestApplicationMasterService 0-5 0 0 0 | 15/16\nyarn.server.resourcemanager.TestRMRestart 46 0-3 0 0 | 9/16\nyarn.server.resourcemanager.applicationsmanager.TestAMRestart 6 0-1 0-2 0 | 8/16\nyarn.server.resourcemanager.rmapp.TestRMAppTransitions 42 0-1 0 0 | 4/16\nyarn.server.resourcemanager.scheduler.capacity.TestCapacityScheduler 30 0-1 0 0 | 2/16\nyarn.server.resourcemanager.scheduler.fair.TestSchedulingPolicy 2 0 0-1 0 | 1/16\nyarn.server.resourcemanager.webapp.TestRMWebappAuthentication 0-2 0 0 0 | 15/16","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"created":"2015-02-25T16:24:22.926+0000","updated":"2015-02-25T16:24:22.926+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12777583/comment/14336696","id":"14336696","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"body":"Version of OpenJDK:\n\n$ java -version\njava version \"1.7.0_75\"\nOpenJDK Runtime Environment (IcedTea 2.5.4) (7u75-2.5.4-1~trusty1)\nOpenJDK 64-Bit Server VM (build 24.75-b04, mixed mode)\n\n$ uname -a\nLinux dorado-vm3 3.13.0-37-generic #64-Ubuntu SMP Mon Sep 22 21:28:38 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\n\n$ mvn -version\nApache Maven 3.2.1 (ea8b2b07643dbb1b84b6d16e1f08391b666bc1e9; 2014-02-14T12:37:52-05:00)\nMaven home: /opt/apache-maven-3.2.1\nJava version: 1.7.0_75, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-7-openjdk-amd64/jre\nDefault locale: en_US, platform encoding: ANSI_X3.4-1968\nOS name: \"linux\", version: \"3.13.0-37-generic\", arch: \"amd64\", family: \"unix\"\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"created":"2015-02-25T16:24:39.178+0000","updated":"2015-02-25T16:24:39.178+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12777583/comment/14336698","id":"14336698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"body":"Details of (random) errors.\nI've extracted these data from the 16 log files. As explained before, these issues appear randomly.\n\nRunning org.apache.hadoop.crypto.key.kms.server.TestKMS\nTests run: 18, Failures: 3, Errors: 1, Skipped: 0, Time elapsed: 26.717 sec <<< FAILURE! - in org.apache.hadoop.crypto.key.kms.server.TestKMS\ntestKMSRestartKerberosAuth(org.apache.hadoop.crypto.key.kms.server.TestKMS) Time elapsed: 3.791 sec <<< ERROR!\njava.io.IOException: org.apache.hadoop.security.authentication.client.AuthenticationException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)\nat sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:147)\n\nRunning org.apache.hadoop.ha.TestZKFailoverControllerStress\nTests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 83.339 sec <<< FAILURE! - in org.apache.hadoop.ha.TestZKFailoverControllerStress\ntestExpireBackAndForth(org.apache.hadoop.ha.TestZKFailoverControllerStress) Time elapsed: 18.932 sec <<< ERROR!\norg.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode\nat org.apache.zookeeper.server.DataTree.getData(DataTree.java:648)\n\nRunning org.apache.hadoop.hdfs.TestDataTransferKeepalive\nTests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 16.459 sec <<< FAILURE! - in org.apache.hadoop.hdfs.TestDataTransferKeepalive\ntestClientResponsesKeepAliveTimeout(org.apache.hadoop.hdfs.TestDataTransferKeepalive) Time elapsed: 0.678 sec <<< FAILURE!\njava.lang.AssertionError: Expected 0 xceivers, found 2\nat org.junit.Assert.fail(Assert.java:88)\nat org.apache.hadoop.hdfs.TestDataTransferKeepalive.assertXceiverCount(TestDataTransferKeepalive.java:251)\n\nRunning org.apache.hadoop.hdfs.TestEncryptionZones\nTests run: 18, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 160.925 sec <<< FAILURE! - in org.apache.hadoop.hdfs.TestEncryptionZones\ntestStartFileRetry(org.apache.hadoop.hdfs.TestEncryptionZones) Time elapsed: 120.598 sec <<< ERROR!\njava.lang.Exception: test timed out after 120000 milliseconds\nat sun.misc.Unsafe.park(Native Method)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n\nRunning org.apache.hadoop.hdfs.TestHFlush\nTests run: 9, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 24.244 sec <<< FAILURE! - in org.apache.hadoop.hdfs.TestHFlush\ntestHFlushInterrupted(org.apache.hadoop.hdfs.TestHFlush) Time elapsed: 0.659 sec <<< ERROR!\njava.io.EOFException: End of file reached before reading fully.\nat org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:80)\n\nRunning org.apache.hadoop.hdfs.qjournal.TestSecureNNWithQJM\nTests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 26.835 sec <<< FAILURE! - in org.apache.hadoop.hdfs.qjournal.TestSecureNNWithQJM\ntestSecondaryNameNodeHttpAddressNotNeeded(org.apache.hadoop.hdfs.qjournal.TestSecureNNWithQJM) Time elapsed: 1.964 sec <<< ERROR!\norg.apache.hadoop.hdfs.server.namenode.EditLogInputException: Error replaying edit log at offset 0. Expected transaction ID was 1\nat org.apache.hadoop.hdfs.server.namenode.RedundantEditLogInputStream.nextOp(RedundantEditLogInputStream.java:194)\n\nRunning org.apache.hadoop.hdfs.server.balancer.TestBalancer\nTests run: 22, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 267.63 sec <<< FAILURE! - in org.apache.hadoop.hdfs.server.balancer.TestBalancer\ntestUnknownDatanode(org.apache.hadoop.hdfs.server.balancer.TestBalancer) Time elapsed: 64.51 sec <<< FAILURE!\njava.lang.AssertionError: expected:<0> but was:<-3>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.hdfs.server.balancer.TestBalancer.testUnknownDatanode(TestBalancer.java:806)\n\nRunning org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives\nTests run: 12, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 76.784 sec <<< FAILURE! - in org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives\ntestExceedsCapacity(org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives) Time elapsed: 7.662 sec <<< FAILURE!\njava.lang.AssertionError: Pending cached list of 127.0.0.1:45330 is not empty, [\n{blockId=1073741841, replication=1, mark=true}\n\n]\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.apache.hadoop.hdfs.server.namenode.TestCacheDirectives.checkPendingCachedEmpty(TestCacheDirectives.java:1420)\n\nRunning org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing\nTests run: 6, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 40.335 sec <<< FAILURE! - in org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing\ntestQueueingWithAppend(org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing) Time elapsed: 3.589 sec <<< FAILURE!\njava.lang.AssertionError: expected:<21> but was:<20>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencing.testQueueingWithAppend(TestDNFencing.java:456)\n\nhdfs.util.TestByteArrayManager : Results of test was not captured by Maven once.\n\nRunning org.apache.hadoop.hdfs.web.TestWebHdfsFileSystemContract\nTests run: 39, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 28.597 sec <<< FAILURE! - in org.apache.hadoop.hdfs.web.TestWebHdfsFileSystemContract\ntestGetFileBlockLocations(org.apache.hadoop.hdfs.web.TestWebHdfsFileSystemContract) Time elapsed: 0.058 sec <<< FAILURE!\njunit.framework.ComparisonFailure: expected:<0,2048,127.0.0.1[,127.0.0.1]> but was:<0,2048,127.0.0.1[]>\nat junit.framework.Assert.assertEquals(Assert.java:100)\nat junit.framework.Assert.assertEquals(Assert.java:107)\nat junit.framework.TestCase.assertEquals(TestCase.java:269)\nat org.apache.hadoop.hdfs.web.TestWebHdfsFileSystemContract.testGetFileBlockLocations(TestWebHdfsFileSystemContract.java:141)\n\nRunning org.apache.hadoop.ipc.TestDecayRpcScheduler\nTests run: 9, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 1.685 sec <<< FAILURE! - in org.apache.hadoop.ipc.TestDecayRpcScheduler\ntestAccumulate(org.apache.hadoop.ipc.TestDecayRpcScheduler) Time elapsed: 0.064 sec <<< FAILURE!\njava.lang.AssertionError: expected:<3> but was:<2>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.ipc.TestDecayRpcScheduler.testAccumulate(TestDecayRpcScheduler.java:136)\n\ntestPriority(org.apache.hadoop.ipc.TestDecayRpcScheduler) Time elapsed: 0.041 sec <<< FAILURE!\njava.lang.AssertionError: expected:<0> but was:<1>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.ipc.TestDecayRpcScheduler.testPriority(TestDecayRpcScheduler.java:199)\n\nRunning org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 39.434 sec <<< FAILURE! - in org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath\ntestJobWithDFS(org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath) Time elapsed: 39.105 sec <<< ERROR!\njava.io.IOException: Job failed!\nat org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:836)\nat org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath.launchJob(TestSpecialCharactersInOutputPath.java:84)\nat org.apache.hadoop.mapred.TestSpecialCharactersInOutputPath.testJobWithDFS(TestSpecialCharactersInOutputPath.java:115)\n\nRunning org.apache.hadoop.mapred.gridmix.TestRecordFactory\nTests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.03 sec <<< FAILURE! - in org.apache.hadoop.mapred.gridmix.TestRecordFactory\ntestAvg(org.apache.hadoop.mapred.gridmix.TestRecordFactory) Time elapsed: 0.575 sec <<< FAILURE!\njava.lang.AssertionError: expected:<31292> but was:<46938>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.mapred.gridmix.TestRecordFactory.testFactory(TestRecordFactory.java:56)\nat org.apache.hadoop.mapred.gridmix.TestRecordFactory.testAvg(TestRecordFactory.java:72)\n\nRunning org.apache.hadoop.mapreduce.lib.db.TestDbClasses\nTests run: 4, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.692 sec <<< FAILURE! - in org.apache.hadoop.mapreduce.lib.db.TestDbClasses\ntestDataDrivenDBInputFormat(org.apache.hadoop.mapreduce.lib.db.TestDbClasses) Time elapsed: 1.017 sec <<< ERROR!\njava.lang.Exception: test timed out after 1000 milliseconds\nat org.apache.hadoop.mapreduce.lib.db.DBConfiguration.setInputQuery(DBConfiguration.java:205)\nat org.apache.hadoop.mapreduce.lib.db.DBInputFormat.setInput(DBInputFormat.java:349)\nat org.apache.hadoop.mapreduce.lib.db.DataDrivenDBInputFormat.setInput(DataDrivenDBInputFormat.java:327)\nat org.apache.hadoop.mapreduce.lib.db.TestDbClasses.testDataDrivenDBInputFormat(TestDbClasses.java:75)\n\nRunning org.apache.hadoop.mapreduce.v2.app.TestKill\nTests run: 5, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 20.401 sec <<< FAILURE! - in org.apache.hadoop.mapreduce.v2.app.TestKill\ntestKillTask(org.apache.hadoop.mapreduce.v2.app.TestKill) Time elapsed: 10.49 sec <<< FAILURE!\njava.lang.AssertionError: Job state is not correct (timedout) expected:<SUCCEEDED> but was:<ERROR>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.apache.hadoop.mapreduce.v2.app.MRApp.waitForState(MRApp.java:410)\nat org.apache.hadoop.mapreduce.v2.app.TestKill.testKillTask(TestKill.java:119)\n\nRunning org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl\nTests run: 9, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.979 sec <<< FAILURE! - in org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl\ntestMultiThreadedPublish(org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl) Time elapsed: 0.071 sec <<< FAILURE!\njava.lang.AssertionError: Passed\nMetric not collected!\nPassed\nPassed\nPassed\nPassed\nPassed\nPassed\nPassed\nPassed\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl.testMultiThreadedPublish(TestMetricsSystemImpl.java:235)\n\nRunning org.apache.hadoop.security.token.delegation.TestZKDelegationTokenSecretManager\nTests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.835 sec <<< FAILURE! - in org.apache.hadoop.security.token.delegation.TestZKDelegationTokenSecretManager\ntestCancelTokenSingleManager(org.apache.hadoop.security.token.delegation.TestZKDelegationTokenSecretManager) Time elapsed: 1.098 sec <<< FAILURE!\njava.lang.AssertionError: Expected InvalidToken\nat org.junit.Assert.fail(Assert.java:88)\nat org.apache.hadoop.security.token.delegation.TestZKDelegationTokenSecretManager.testCancelTokenSingleManager(TestZKDelegationTokenSecretManager.java:143)\n\nRunning org.apache.hadoop.tracing.TestTracing\nTests run: 5, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 6.007 sec <<< FAILURE! - in org.apache.hadoop.tracing.TestTracing\ntestReadWithoutTraceHooks(org.apache.hadoop.tracing.TestTracing) Time elapsed: 0.16 sec <<< FAILURE!\njava.lang.AssertionError: null\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.hadoop.tracing.TestTracing.testReadWithoutTraceHooks(TestTracing.java:215)\n\nRunning org.apache.hadoop.yarn.applications.distributedshell.TestDistributedShell\nTests run: 11, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 385.288 sec <<< FAILURE! - in org.apache.hadoop.yarn.applications.distributedshell.TestDistributedShell\ntestDSShellWithCustomLogPropertyFile(org.apache.hadoop.yarn.applications.distributedshell.TestDistributedShell) Time elapsed: 32.336 sec <<< FAILURE!\njava.lang.AssertionError: null\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.hadoop.yarn.applications.distributedshell.TestDistributedShell.verifyContainerLog(TestDistributedShell.java:849)\nat org.apache.hadoop.yarn.applications.distributedshell.TestDistributedShell.testDSShellWithCustomLogPropertyFile(TestDistributedShell.java:495)\n\nyarn.client.TestResourceTrackerOnHA : Result of tests was not captured by Maven, 2 times out of 16 runs.\n\nRunning org.apache.hadoop.yarn.client.api.impl.TestNMClient\nTests run: 2, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 56.325 sec <<< FAILURE! - in org.apache.hadoop.yarn.client.api.impl.TestNMClient\ntestNMClient(org.apache.hadoop.yarn.client.api.impl.TestNMClient) Time elapsed: 28.501 sec <<< FAILURE!\njava.lang.AssertionError: null\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.hadoop.yarn.client.api.impl.TestNMClient.testGetContainerStatus(TestNMClient.java:386)\nat org.apache.hadoop.yarn.client.api.impl.TestNMClient.testContainerManagement(TestNMClient.java:348)\nat org.apache.hadoop.yarn.client.api.impl.TestNMClient.testNMClient(TestNMClient.java:227)\n\ntestNMClientNoCleanupOnStop(org.apache.hadoop.yarn.client.api.impl.TestNMClient) Time elapsed: 27.69 sec <<< FAILURE!\njava.lang.AssertionError: null\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.hadoop.yarn.client.api.impl.TestNMClient.testGetContainerStatus(TestNMClient.java:386)\nat org.apache.hadoop.yarn.client.api.impl.TestNMClient.testContainerManagement(TestNMClient.java:348)\nat org.apache.hadoop.yarn.client.api.impl.TestNMClient.testNMClientNoCleanupOnStop(TestNMClient.java:210)\n\nRunning org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService\nTests run: 16, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 68.304 sec <<< FAILURE! - in org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService\ntestLogAggregationServiceWithRetention(org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService) Time elapsed: 25.703 sec <<< FAILURE!\njava.lang.AssertionError: null\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService.testLogAggregationService(TestLogAggregationService.java:1367)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService.testLogAggregationServiceWithRetention(TestLogAggregationService.java:1295)\n\ntestLogAggregationServiceWithInterval(org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService) Time elapsed: 25.628 sec <<< FAILURE!\njava.lang.AssertionError: null\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService.testLogAggregationService(TestLogAggregationService.java:1370)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.logaggregation.TestLogAggregationService.testLogAggregationServiceWithInterval(TestLogAggregationService.java:1290)\n\nyarn.server.resourcemanager.TestApplicationMasterService : Result of test was lost by Maven once.\n\nRunning org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart\nTests run: 46, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 386.921 sec <<< FAILURE! - in org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart\ntestQueueMetricsOnRMRestart[0](org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart) Time elapsed: 9.048 sec <<< FAILURE!\njava.lang.AssertionError: expected:<2> but was:<1>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart.assertQueueMetrics(TestRMRestart.java:1817)\nat org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart.testQueueMetricsOnRMRestart(TestRMRestart.java:1792)\n\ntestRMRestartWaitForPreviousAMToFinish[0](org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart) Time elapsed: 26.343 sec <<< FAILURE!\njava.lang.AssertionError: expected:<4> but was:<3>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.junit.Assert.assertEquals(Assert.java:555)\nat org.junit.Assert.assertEquals(Assert.java:542)\nat org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart.testRMRestartWaitForPreviousAMToFinish(TestRMRestart.java:584)\n\ntestRMRestartGetApplicationList[1](org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart) Time elapsed: 23.282 sec <<< FAILURE!\norg.mockito.exceptions.verification.WantedButNotInvoked:\nWanted but not invoked:\nrMAppManager.logApplicationSummary(\nisA(org.apache.hadoop.yarn.api.records.ApplicationId)\n);\n-> at org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart.testRMRestartGetApplicationList(TestRMRestart.java:957)\n\nHowever, there were other interactions with this mock:\n-> at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.recover(ResourceManager.java:1192)\n-> at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.recover(ResourceManager.java:1192)\n-> at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.recover(ResourceManager.java:1192)\n-> at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.recover(ResourceManager.java:1192)\n\nat org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart.testRMRestartGetApplicationList(TestRMRestart.java:957)\n\nRunning org.apache.hadoop.yarn.server.resourcemanager.rmapp.TestRMAppTransitions\nTests run: 42, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 3.845 sec <<< FAILURE! - in org.apache.hadoop.yarn.server.resourcemanager.rmapp.TestRMAppTransitions\ntestAppRunningKill[1](org.apache.hadoop.yarn.server.resourcemanager.rmapp.TestRMAppTransitions) Time elapsed: 0.038 sec <<< FAILURE!\njava.lang.AssertionError: application finish time is not greater then 0\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.apache.hadoop.yarn.server.resourcemanager.rmapp.TestRMAppTransitions.assertTimesAtFinish(TestRMAppTransitions.java:322)\nat org.apache.hadoop.yarn.server.resourcemanager.rmapp.TestRMAppTransitions.assertKilled(TestRMAppTransitions.java:337)\nat org.apache.hadoop.yarn.server.resourcemanager.rmapp.TestRMAppTransitions.testAppRunningKill(TestRMAppTransitions.java:731)\n\nRunning org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.TestCapacityScheduler\nTests run: 30, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 101.712 sec <<< FAILURE! - in org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.TestCapacityScheduler\ntestPreemptionInfo(org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.TestCapacityScheduler) Time elapsed: 48.352 sec <<< FAILURE!\njava.lang.AssertionError: AppAttempt state is not correct (timedout) expected:<ALLOCATED> but was:<SCHEDULED>\nat org.junit.Assert.fail(Assert.java:88)\nat org.junit.Assert.failNotEquals(Assert.java:743)\nat org.junit.Assert.assertEquals(Assert.java:118)\nat org.apache.hadoop.yarn.server.resourcemanager.MockAM.waitForState(MockAM.java:86)\nat org.apache.hadoop.yarn.server.resourcemanager.MockRM.sendAMLaunched(MockRM.java:496)\nat org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.TestCapacityScheduler.launchAM(TestCapacityScheduler.java:845)\nat org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.TestCapacityScheduler.testPreemptionInfo(TestCapacityScheduler.java:1054)\n\nRunning org.apache.hadoop.yarn.server.resourcemanager.scheduler.fair.TestSchedulingPolicy\nTests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.128 sec <<< FAILURE! - in org.apache.hadoop.yarn.server.resourcemanager.scheduler.fair.TestSchedulingPolicy\ntestIsApplicableTo(org.apache.hadoop.yarn.server.resourcemanager.scheduler.fair.TestSchedulingPolicy) Time elapsed: 1.012 sec <<< ERROR!\njava.lang.Exception: test timed out after 1000 milliseconds\nat java.io.UnixFileSystem.getBooleanAttributes0(Native Method)\nat java.io.UnixFileSystem.getBooleanAttributes(UnixFileSystem.java:242)\nat java.io.File.exists(File.java:813)\nat sun.misc.URLClassPath$FileLoader.getResource(URLClassPath.java:1080)\nat sun.misc.URLClassPath.getResource(URLClassPath.java:199)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:358)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:191)\n\nyarn.server.resourcemanager.webapp.TestRMWebappAuthentication : Results of test was not captured by Maven once.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trex58","name":"trex58","key":"trex58","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tony Reix","active":true,"timeZone":"Etc/UTC"},"created":"2015-02-25T16:24:56.681+0000","updated":"2015-02-25T16:24:56.681+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12777583/comment/15021176","id":"15021176","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"body":"[~tony.reix@atos.net] Thanks for reporting. It's good time to check these tests again now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ozawa","name":"ozawa","key":"ozawa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ozawa&avatarId=21740","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ozawa&avatarId=21740","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ozawa&avatarId=21740","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ozawa&avatarId=21740"},"displayName":"Tsuyoshi Ozawa","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-22T19:59:49.805+0000","updated":"2015-11-22T19:59:49.805+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11636/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i261kf:"}}