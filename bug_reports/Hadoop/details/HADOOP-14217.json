{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13058462","self":"https://issues.apache.org/jira/rest/api/2/issue/13058462","key":"HADOOP-14217","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2017-03-23T06:53:13.677+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Oct 12 23:46:41 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-14217/watchers","watchCount":10,"isWatching":false},"created":"2017-03-23T04:11:14.481+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12339167","id":"12339167","name":"2.8.1","archived":false,"released":true,"releaseDate":"2017-06-08"}],"issuelinks":[{"id":"12513698","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12513698","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13099364","key":"HADOOP-14829","self":"https://issues.apache.org/jira/rest/api/2/issue/13099364","fields":{"summary":"Path should support colon","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12517047","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12517047","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13098439","key":"HDFS-12373","self":"https://issues.apache.org/jira/rest/api/2/issue/13098439","fields":{"summary":"Trying to construct Path for a file that has colon (\":\") throws IllegalArgumentException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12499121","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12499121","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13059073","key":"HADOOP-14235","self":"https://issues.apache.org/jira/rest/api/2/issue/13059073","fields":{"summary":"S3A Path does not understand colon (:) when globbing","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12498977","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12498977","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12380564","key":"HDFS-13","self":"https://issues.apache.org/jira/rest/api/2/issue/12380564","fields":{"summary":"filenames with ':' colon throws java.lang.IllegalArgumentException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12498870","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12498870","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13058256","key":"SPARK-20061","self":"https://issues.apache.org/jira/rest/api/2/issue/13058256","fields":{"summary":"Reading a file with colon (:) from S3 fails with URISyntaxException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12499120","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12499120","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"outwardIssue":{"id":"12393950","key":"HADOOP-3257","self":"https://issues.apache.org/jira/rest/api/2/issue/12393950","fields":{"summary":"Path should handle all characters","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-10-12T23:46:41.542+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310689","id":"12310689","name":"fs","description":"Generic FileSystem code"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12331039","id":"12331039","name":"fs/oss"}],"timeoriginalestimate":null,"description":null,"customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885175","id":"12885175","filename":"Colon handling in hadoop Path.pdf","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-04T01:55:33.713+0000","size":132258,"mimeType":"application/pdf","content":"https://issues.apache.org/jira/secure/attachment/12885175/Colon+handling+in+hadoop+Path.pdf"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Object Storage: support colon in object path","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15937692","id":"15937692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"body":"[~stevel@apache.org] Should we consider to solve the colon issue in object storage? It is very common in OSS/S3 or some other object storage.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-03-23T04:19:35.083+0000","updated":"2017-03-23T04:19:35.083+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15937735","id":"15937735","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"body":"cc [~drankye]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-03-23T05:08:56.562+0000","updated":"2017-03-23T05:08:56.562+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15937834","id":"15937834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"body":"Thanks [~uncleGen] for the ping.\n\nI'm not sure about this, but could you give some point to some doc that says such special char(s) is allowed? Or some examples? If yes, surely we should support and conform to it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"created":"2017-03-23T06:53:13.677+0000","updated":"2017-03-23T06:53:13.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15938328","id":"15938328","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Every filesystem has invalid paths and characters. I Dont' see why we should explicilty be blocking \":\"; in fact I think the format of gcs logs uses it.\n\nWhat is blocking it? {{Path}} itself? Or {{java.net.URI}}?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-03-23T13:54:16.173+0000","updated":"2017-03-23T13:54:16.173+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15939573","id":"15939573","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"body":"[~drankye] and [~stevel@apache.org] Please take a look at SPARK-20061. I think it is a good case. It is valid to create object whose key name contains colon. We will fail to read them in some scenes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-03-24T02:18:17.355+0000","updated":"2017-03-24T02:22:58.191+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15939579","id":"15939579","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"body":"Also this doc: http://labs.totango.com/spark-read-file-with-colon/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=uncleGen","name":"uncleGen","key":"unclegen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=unclegen&avatarId=33452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=unclegen&avatarId=33452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=unclegen&avatarId=33452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=unclegen&avatarId=33452"},"displayName":"Genmao Yu","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-03-24T02:24:27.302+0000","updated":"2017-03-24T02:24:27.302+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15939921","id":"15939921","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"body":"Hi Genmao,\n\nI have the same question as [~stevel@apache.org] asked:\nbq. What is blocking it? Path itself? Or java.net.URI?\n\nWhat's your filepath like in your question? Can you give me a file/path example? Thanks. An URI surely can contain a colon, like {{s3a://mybucket}} or {{oss://mybucket}}. Do you mean to support colons in other URI components?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"created":"2017-03-24T06:43:11.696+0000","updated":"2017-03-24T06:43:11.696+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15941070","id":"15941070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Unable to support ':' is a long standing issue, as early as HDFS-13.  I have a patch ([2066_20071022.patch|https://issues.apache.org/jira/secure/attachment/12368184/2066_20071022.patch]) there (wow) almost 10 years ago.\n\nOne problem is that the general URI syntax is very general.  We could safely assume that our URIs are [hierarchical URIs|http://docs.oracle.com/javase/8/docs/api/java/net/URI.html], i.e. \n{code}\n[scheme:][//authority][path][?query][#fragment] \n{code}\nor even\n{code}\n[[scheme:]//authority]path\n{code}\nThen, the problem becomes fixable as shown in [this comment|https://issues.apache.org/jira/browse/HDFS-13?focusedCommentId=12536875&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12536875].  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-24T20:18:26.042+0000","updated":"2017-03-24T20:18:26.042+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15943031","id":"15943031","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"Nicholas has pointed out the history of this â€”looks like it's old and fairly fundamental.\n\nQuick case-by-case workarounds aren't the right place to do it. As an example, those globber fixes are at best going to handle the case where the last element in a path contains a \":\", code in which a parent path contains a colon, e,g \"s3a://bucket/elt1:name/child2 is probably doomed, if not immediately, certainly when later things happen like it gets sent over the wire, deserialized, saved to the list of files to distcp, reloaded, etc. etc.\n\nFixing this is a major piece of work, which will include tests (if HDFS adds \":\" support, miniHDFS can be the test FS, otherwise some mock ramfs is needed). Along with the changes to the FS spec, we'd need a contract test for all supporting filesystems to implement, including the object stores, testing all those corner case and operations we can think of. Probably time to do a decent set of globber tests there too, which the contract lacks.\n\nI think that could be good, HADOOP-3257 would the be place, and HDFS the team to collaborate with.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-03-27T10:43:05.843+0000","updated":"2017-03-27T10:43:05.843+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15946912","id":"15946912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"body":"Thanks Nicholas and Steve for the history and very interesting. Yes it looks like a major work, maybe need a community wide discussion and decision regarding fixing it or not. Not sure how many users want to support this, but guess cloud storages would like it? Support HDFS is OK not to support colon so the work can be limited to Hadoop FileSystem and the common library.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"created":"2017-03-29T10:41:02.790+0000","updated":"2017-03-29T10:41:02.790+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15946974","id":"15946974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"like you say, HDFS support is irrelevant. It's about the Path type, the FS APIs and the implementation, Oh, and the new contract test suite, obviously,\n\nIt's precisely because \":\" works in blobstores that some systems generate blobs with it in, google logs are a key example...that's data to be analysed. What I don't want is piecemeal patches which only support some use cases \"glob for spark queries\" which fail on others (create files with : in, them; recursive list files of directory trees with \":\" in the path, directories with colon, etc)\nProbably all are valid\n{code}\nx://dir:name/file\nx://dir/dir:2/file\nx://dir:name/dir:2/file\nx://dir/d3/log:file.gz\n{code}\nWhat is interesting is: would a colon be valid as the sole path element?\n{code}\nx://:/:/:.gz\nx://:/:/:\n{code}\nIt's not automatic that this has to hold; you can use a \".\" in a path element, but \".\" and \"..\" cannot be path elements themselves\n\nAnway, something for HADOOP-3257.\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-03-29T11:52:02.314+0000","updated":"2017-03-29T11:52:02.314+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15965155","id":"15965155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pshar0","name":"pshar0","key":"pshar0","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pankaj Sharma","active":true,"timeZone":"America/New_York"},"body":"I voted for this issue it will enable Hive tables over private home directories in S3.  The Home directories over S3 are required to have a colon in their object path as:  aws:username, aws:userid, and aws:principaltype\nhttp://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_variables.html\n\n3257 has been open for 8+ years now - hoping enough Hadoop users have interest for it to get attention.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pshar0","name":"pshar0","key":"pshar0","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pankaj Sharma","active":true,"timeZone":"America/New_York"},"created":"2017-04-11T23:50:36.446+0000","updated":"2017-04-11T23:50:36.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15965236","id":"15965236","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, we should fix it.\n\nWe probably should first define a grammar so that our implementation stands on a more rigorous ground.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-04-12T01:24:11.513+0000","updated":"2017-04-12T01:24:11.513+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/15965619","id":"15965619","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"bq. The Home directories over S3 are required to have a colon in their object path as: aws:username, aws:userid, and aws:principaltype\n\nthat's unrelated to hadoop paths, as that's information in resource policies. There's no support in hadoop for IAM permissions; client code assumes the ability to write all the way down the root of a bucket. Separate buckets with separate permissions is the standard practise","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-04-12T09:43:05.318+0000","updated":"2017-04-12T09:43:05.318+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16151628","id":"16151628","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"Hello there,\nI wanted to continue this discussion regarding support of colon ( : ) in Path.\nI am attaching a proposal with changes as well as a reference to the changes I have made so far (I can definitely submit a PR).\nWould be glad to hear opinions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-03T00:19:16.992+0000","updated":"2017-09-03T00:19:16.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16151630","id":"16151630","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"Apparently I can't attach anything to this JIRA since I did not open it. So I attached a proposal to https://issues.apache.org/jira/browse/HADOOP-14829","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-03T00:23:07.805+0000","updated":"2017-09-03T00:23:07.805+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16152022","id":"16152022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"body":"[~yufeldman] just adding you as a Hadoop contributor, assigned this to you. Now you should be able to play with this issue now. Enjoy!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drankye","name":"drankye","key":"drankye","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kai Zheng","active":true,"timeZone":"Asia/Chongqing"},"created":"2017-09-04T00:50:44.569+0000","updated":"2017-09-04T00:50:44.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16152040","id":"16152040","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"Proposal to support colon in Path","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-04T01:56:04.068+0000","updated":"2017-09-04T01:56:04.068+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16152041","id":"16152041","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"[~drankye] Thanks :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-04T01:56:44.527+0000","updated":"2017-09-04T01:56:44.527+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16152498","id":"16152498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"# I am supportive of an attempt to fix this\n# The HDFS team really need to be the core reviewers\n# The filesystem.md spec will need to be changed to match\n# we're going to need a lot of tests, because, well, its important. I could imagine a new subclass of FS Contract test to actually check the handling of : in different filesystems, e.g what does HDFS do, windows, the different object stores. If another fs contract option is added so that filesystems under test can declare whether or not they handle ports, it'll be more visible what filesystems don't. Again, Windows is a suspect.\n\nSpeaking of windows, that has to work as today...there's work there for it.\n\nAlso:  needs to handle round trip Path -> String -> Path, or at least Path -> URI -> Path and Path -> URI -> String -> Path\n\nOnce that is done, I can help with some downstream tests for Spark\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2017-09-04T11:37:14.133+0000","updated":"2017-09-04T11:37:14.133+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16152864","id":"16152864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you [~stevel@apache.org] for the support.\nI am wondering if we should concentrate first on supporting S3 and RawLocalFS with colon since those are the FileSystems that allow colons.\nThough definitely other FileSystems should be thoroughly tested as well.\nI have a patch (and/or can submit a PR) with unit tests for Path itself to handle colon that I will enhance to test:\n\n{noformat}\nround trip Path -> String -> Path, or at least Path -> URI -> Path and Path -> URI -> String -> Path\n{noformat}\n\nAs well as probably adding some tests for RawLocalFS, S3 if possible and HDFS","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-04T18:53:48.290+0000","updated":"2017-09-04T18:53:48.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16154214","id":"16154214","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user yufeldman opened a pull request:\n\n    https://github.com/apache/hadoop/pull/269\n\n    HADOOP-14217. Support colon in Hadoop Path\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/yufeldman/hadoop HADOOP-14217\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/hadoop/pull/269.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #269\n    \n----\ncommit c3c7225bd1f324ae3a9e6f6875e3d23d5725eb68\nAuthor: Yuliya Feldman <yuliya@dremio.com>\nDate:   2017-09-02T23:53:16Z\n\n    HADOOP-14217. Support colon in Hadoop Path\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-05T20:09:45.486+0000","updated":"2017-09-05T20:09:45.486+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16155222","id":"16155222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user steveloughran commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    I think some new Abstract FS Contract test will be needed to see how filesystems actually handle \":\" chars; having the path support it is just one part of the problem\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-06T11:37:04.879+0000","updated":"2017-09-06T11:37:04.879+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16155495","id":"16155495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    will do\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-06T15:05:23.279+0000","updated":"2017-09-06T15:05:23.279+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16163849","id":"16163849","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"I have added few tests to FileSystemContractBaseTest and updated HDFS and WebHDFS to not run those tests, as HDFS and subsequently WebHdfs currently do not support colon in any portion of the path including FileName(s).\nI did test with RawLocalFileSystem, S3(a,n). \nSince I can't test Azure, Swift, other FSs would be great to get feedback whether they support colon and can run those tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-12T23:27:42.341+0000","updated":"2017-09-12T23:27:42.341+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16179821","id":"16179821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"body":"Ping [~stevel@apache.org] and others\nAny more feedback?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeldman","name":"yufeldman","key":"yufeldman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yuliya Feldman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-25T21:27:02.699+0000","updated":"2017-09-25T21:27:02.699+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16198896","id":"16198896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    It will be good to change Path constructors that take `String child` as an argument to use `new Path(null, null, child)` instead of `new Path(child)`. It should help to handle cases like `new Path(\"file:/\", \"abc:/def\");`.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-10T16:13:43.503+0000","updated":"2017-10-10T16:13:43.503+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16198902","id":"16198902","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @vrozov I don't think we can change existing constructors, only add one and one can use at their discretion, but we can't change all the code that is already written and uses existing constructors, especially the code that we use in our applications implicitly (two, three, ..., times removed from what we are trying to do)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-10T16:19:48.343+0000","updated":"2017-10-10T16:19:48.343+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16198921","id":"16198921","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r143782941\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    --- End diff --\n    \n    Try to avoid code duplication by introducing `initialize(scheme, authority, path)` that both `Path(String)` and `Path(String, String, String)` may use.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-10T16:32:09.888+0000","updated":"2017-10-10T16:32:09.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16198946","id":"16198946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @yufeldman My suggestion is not to change all the code that is already written. I refer to `Path(String parent, String child)` constructor on line 114 that calls `new Path(child)`. There is no need to parse `child`, only `parent` may have scheme and authority.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-10T16:49:11.773+0000","updated":"2017-10-10T16:49:11.773+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16199062","id":"16199062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @vrozov  I agree in principal that in Hadoop we do not consider that \"child\" can have scheme and it would help handling cases with \":/\" in \"child portion of path, but  according to URI resolve method it can be different configurations of merging parent and child.\r\n    We would need very extensive testing to cover those cases. Also I believe there is method in Path:\r\n    `mergePaths` that people are using to signify what you were saying.\r\n    I would like to here more opinions on changing behavior of `Path(Path, Path)` to make it behave more like `mergePaths` method\r\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-10T17:45:55.386+0000","updated":"2017-10-10T17:45:55.386+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16199523","id":"16199523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @yufeldman I am not sure that URI `resolve()` method (RFC2396 5.2) is directly applicable here even though `Path` uses `URI.resolve()` in its implementation. `Path` constructor refers to `parent` and `child`, that is different from constructing absolute URI from base and current, where current may be an absolute URI. For `Path(parent, child)`, I would not expect `child` to be an absolute Path.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-10T22:55:02.869+0000","updated":"2017-10-10T22:55:02.869+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16199694","id":"16199694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @vrozov I don't disagree with you. I would like to get consensus (more input from stakeholders) on changing this behavior. This JIRA is least invasive.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-11T02:07:05.520+0000","updated":"2017-10-11T02:07:05.520+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16200767","id":"16200767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144105643\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    --- End diff --\n    \n    @yufeldman Also, it is not clear why is this change necessary? The comment is misleading as `scheme` is already initialized.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-11T19:01:08.866+0000","updated":"2017-10-11T19:01:08.866+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16200952","id":"16200952","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144134499\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    --- End diff --\n    \n    Imagine string passed to that ctor is: `a:b` so with new changes `a:` is not really a scheme.\r\n    Now when you try to construct URI with null scheme and authority URI will interpret `a:` as scheme unless path is started with `/`\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-11T20:59:41.459+0000","updated":"2017-10-11T20:59:41.459+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16201280","id":"16201280","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144171771\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    --- End diff --\n    \n    Should there be an explicit check for `null` scheme? Also, how \":/abc\" is handled? Should it be considered as \"abc\" under \":\", instead of an empty scheme that is not valid?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T00:44:41.570+0000","updated":"2017-10-12T00:44:41.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16201295","id":"16201295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144173326\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    --- End diff --\n    \n    Please check URI ctor for the behaviors you mentioned. Precautions I am taking is to avoid exceptions in URI ctor.\r\n    Also I suggest you look at the doc I attached to JIRA (below is a paragraph from the doc):\r\n    There are couple of cases that will not be handled by this approach or behavior will change.\r\n    Namely:\r\n    1. URI that consists only of the scheme - e.g. â€œx:â€ will result in Path: â€œ./x:â€ (Today trying to\r\n    create a URI from this string will result in error: â€œRelative path in absolute URIâ€)\r\n    2. Path that has colon as last character before â€œ/â€ - e.g. â€œabc:/bcdâ€. This will be interpreted\r\n    as scheme â€œabcâ€ and path â€œ/bcdâ€ - the same as today\r\n    3. String such as: â€œurn:example:animal:ferret:noseâ€ will be interpreted as\r\n    â€œ./urn:example:animal:ferret:noseâ€ (Today trying to create a URI from this string will\r\n    result in error: â€œRelative path in absolute URIâ€)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T01:00:50.894+0000","updated":"2017-10-12T01:00:50.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16201330","id":"16201330","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144178845\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    --- End diff --\n    \n    I refer to a check for `scheme == null` prior to making path relative on Linux (`path = \"./ + path`).\r\n    According to your specification (item 2), \":/abc\" will be interpreted as \"/abc\" with an empty scheme and still throw an exception. Will it be better to handle it as \"./:/abc\" path? \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T01:57:25.011+0000","updated":"2017-10-12T01:57:25.011+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16201348","id":"16201348","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @vrozov how about having a hangout meeting - maybe it's simpler that way?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T02:23:26.730+0000","updated":"2017-10-12T02:23:26.730+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16201379","id":"16201379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on the issue:\n\n    https://github.com/apache/hadoop/pull/269\n  \n    @yufeldman sure, if that will be easier.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T03:09:32.418+0000","updated":"2017-10-12T03:09:32.418+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202122","id":"16202122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144330296\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -196,8 +196,7 @@ public Path(String pathString) throws IllegalArgumentException {\n         // parse uri scheme, if any\n         int colon = pathString.indexOf(':');\n         int slash = pathString.indexOf('/');\n    -    if ((colon != -1) &&\n    -        ((slash == -1) || (colon < slash))) {     // has a scheme\n    +    if ((colon != -1) && (colon == (slash-1))) {     // has a scheme\n    --- End diff --\n    \n    @vrozov You have a point - if I change behavior here to colon > 0 it will support parts of path that are just \":\".\r\n    The only thing is different behavior when you merge two paths - `URI.resolve()` resolves it differently\r\n    E.g:\r\n    `/abc/:` and `:/:/` versus `/abc/:` and `/:/:/` \r\n    In first case result will be `/abc/:/:/:/` and in the second case `/abc/:/:/`\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T15:45:52.287+0000","updated":"2017-10-12T15:45:52.287+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202239","id":"16202239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144343525\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -196,8 +196,7 @@ public Path(String pathString) throws IllegalArgumentException {\n         // parse uri scheme, if any\n         int colon = pathString.indexOf(':');\n         int slash = pathString.indexOf('/');\n    -    if ((colon != -1) &&\n    -        ((slash == -1) || (colon < slash))) {     // has a scheme\n    +    if ((colon != -1) && (colon == (slash-1))) {     // has a scheme\n    --- End diff --\n    \n    @yufeldman In the first case, you merge absolute and relative path, in the second case, there is an attempt to merge two absolute path, should they be handled differently if merging two absolute path should be allowed at all?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T16:35:49.196+0000","updated":"2017-10-12T16:35:49.196+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202250","id":"16202250","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144345844\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    Will it be better to change the condition to `if (!WINDOWS && scheme == null && colon != -1)`? I also have a concern regarding `WINDOWS`, as \":\" is file system dependent, not OS specific, but this concern is beyond this PR and JIRA.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T16:44:42.284+0000","updated":"2017-10-12T16:44:42.284+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202694","id":"16202694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144421230\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    What if it is: `/abc:bcd`. scheme == null, colon != -1? I don't think we want to add `/` once more. It will be than: `.//abc:bcd`\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T22:00:11.587+0000","updated":"2017-10-12T22:00:11.587+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202720","id":"16202720","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144424600\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    `(scheme == null && slash > colon)`? What should happen in case of \"./abc\" and \"./abc:\"?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T22:19:29.526+0000","updated":"2017-10-12T22:19:29.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202743","id":"16202743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144428228\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    sorry, I don't understand what you are implying. slash can be after colon - there could be many slashes and many colons.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T22:42:36.498+0000","updated":"2017-10-12T22:42:36.498+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202791","id":"16202791","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144434195\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    I refer to the first slash and the first colon in the passed `pathString` parameter:\r\n    ```\r\n    int colon = pathString.indexOf(':');\r\n    int slash = pathString.indexOf('/');\r\n    ```\r\n    My understanding is that prepending \"./\" to the path, ensures that \"/\" is before \":\" to avoid interpreting character sequence that `Path` does not recognized as scheme to be interpreted as scheme by `URI`. If there is no colon or slash is already before a colon, there is no need to add \"./\".\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T23:23:20.016+0000","updated":"2017-10-12T23:23:20.016+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202808","id":"16202808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user yufeldman commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144436106\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    Yes we have more info to make the check.  What is the advantage of this change?\r\n    Three params ctor does have this check in place as well.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T23:35:44.267+0000","updated":"2017-10-12T23:35:44.267+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13058462/comment/16202820","id":"16202820","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user vrozov commented on a diff in the pull request:\n\n    https://github.com/apache/hadoop/pull/269#discussion_r144437556\n  \n    --- Diff: hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java ---\n    @@ -214,6 +213,12 @@ public Path(String pathString) throws IllegalArgumentException {\n         // uri path is the rest of the string -- query & fragment not supported\n         String path = pathString.substring(start, pathString.length());\n     \n    +    // add \"./\" in front of Linux relative paths so that a path containing\n    +    // a colon e.q. \"a:b\" will not be interpreted as scheme \"a\".\n    +    if (!WINDOWS && !path.isEmpty() && path.charAt(0) != '/') {\n    --- End diff --\n    \n    To avoid String concatenation and creation of unnecessary String objects. Prior to the patch, there was no \"./\" in case of a long path and it can (should?) be avoided with the patch if that long path does not contain \":\".\r\n    I am not a committer for Hadoop and it is a recommendation to consider only.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-12T23:46:41.542+0000","updated":"2017-10-12T23:46:41.542+0000"}],"maxResults":49,"total":49,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-14217/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3cocn:"}}