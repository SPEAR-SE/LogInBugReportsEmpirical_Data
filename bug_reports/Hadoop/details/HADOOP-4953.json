{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12411433","self":"https://issues.apache.org/jira/rest/api/2/issue/12411433","key":"HADOOP-4953","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2009-01-05T13:56:54.029+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 21 17:48:07 UTC 2014","customfield_12310420":"126838","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_175376630184_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-21T17:48:07.405+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4953/watchers","watchCount":2,"isWatching":false},"created":"2008-12-29T22:04:17.255+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313211","id":"12313211","description":"","name":"0.19.0","archived":false,"released":true,"releaseDate":"2008-11-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-07-21T17:48:07.435+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310711","id":"12310711","name":"conf","description":"Hadoop configuration mechanism."}],"timeoriginalestimate":null,"description":"There is an unexpected max length for the value of config property mapred.child.java.opts that, if exceeded, generates an opaque NoClassDefFoundError in child tasks.  \n\nThe max length for the value is 146 chars.  A length of 147 chars will cause the exception.  For example, adding a single extra space between options will convert a working jvm opts clause into one that always generates NoClassDefFoundError when tasktrackers exec child tasks.\n\nAs laboriously diagnosed, conf/hadoop-site.xml  was used to set the property and runs were done on \"Amazon EC2 Ubuntu 8.04 hardy AMI\" (Debian version \"lenny/sid\") using java 1.6.0_07-b06.  Multiple slaves nodes were used and after conf changes, stop-all.sh and start-all.sh were run before each test.  The job config props as found on the slave did not appear to have a truncated or damaged value.  It made no difference whether @taskid@ appeared at the end or middle of the options and absence of @taskid@ did not eliminate the problem.\n\nThis bug wastes considerable time because the error looks like a classpath problem and even after the java opts property is suspected, a character quoting or unsupported option seems more likely than a length limit.  \n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"103997","customfield_12312823":null,"summary":"config property mapred.child.java.opts has maximum length that generates NoClassDefFoundError if exceeded","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pbaclace","name":"pbaclace","key":"pbaclace","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=pbaclace&avatarId=10630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pbaclace&avatarId=10630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pbaclace&avatarId=10630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pbaclace&avatarId=10630"},"displayName":"Paul Baclace","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pbaclace","name":"pbaclace","key":"pbaclace","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=pbaclace&avatarId=10630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pbaclace&avatarId=10630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pbaclace&avatarId=10630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pbaclace&avatarId=10630"},"displayName":"Paul Baclace","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Amazon EC2 Ubuntu 8.04 hardy AMI\" (Debian version \"lenny/sid\") \nJDK 1.6.0_07-b06 from Sun\nkernel.ostype = Linux\nkernel.osrelease = 2.6.21.7-2.fc8xen\nkernel.version = #1 SMP Fri Feb 15 12:39:36 EST 2008\npowernow-k8: Found 1 Dual-Core AMD Opteron(tm) Processor 2218 HE processors (version 2.00.00)\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12411433/comment/12660757","id":"12660757","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"body":"There's no checking for limits in the code; the configuration is got, expanded, @taskid@ replaced and then split on spaces. \n\nIf something is happening here it may be related to command line length rather than java opt parsing. A quick trace shows that no attempt is made to glue together a string from the parsed pieces; the array is passed as is down to Sun's ProcessBuilder class; if something is playing up there -which is not impossible- then that's a serious problem\n\nPaul, you'll have to do some research to see how replicable this is, include OS/JVM info in the bug report. If a test can replicate this, then it can be fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_l","name":"steve_l","key":"steve_l","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Loughran","active":true,"timeZone":"Etc/UTC"},"created":"2009-01-05T13:56:54.029+0000","updated":"2009-01-05T13:56:54.029+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12411433/comment/12663215","id":"12663215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pbaclace","name":"pbaclace","key":"pbaclace","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=pbaclace&avatarId=10630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pbaclace&avatarId=10630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pbaclace&avatarId=10630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pbaclace&avatarId=10630"},"displayName":"Paul Baclace","active":true,"timeZone":"America/Los_Angeles"},"body":"I added details of the environment in which this bug occurs.  This bug is *not* intermittent, it is easily reproduced.\n\nPerhaps the most unusual thing about the runtime env is that Xen virtualization is involved.  The host OS seems to be fc8xen with the guest OS Ubuntu (Debian).\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pbaclace","name":"pbaclace","key":"pbaclace","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=pbaclace&avatarId=10630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pbaclace&avatarId=10630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pbaclace&avatarId=10630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pbaclace&avatarId=10630"},"displayName":"Paul Baclace","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-01-13T04:04:41.705+0000","updated":"2009-01-13T04:04:41.705+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12411433/comment/14068885","id":"14068885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":"I'm closing this as won't fix since this parameter is mostly deprecated in lieu of map and reduce specific environment vars.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2014-07-21T17:48:07.430+0000","updated":"2014-07-21T17:48:07.430+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-4953/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0i5kn:"}}