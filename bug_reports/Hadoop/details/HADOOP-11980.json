{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12830270","self":"https://issues.apache.org/jira/rest/api/2/issue/12830270","key":"HADOOP-11980","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-05-15T19:15:53.653+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 26 19:18:30 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11980/watchers","watchCount":5,"isWatching":false},"created":"2015-05-15T19:12:51.323+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12424899","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12424899","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12740264","key":"HBASE-11927","self":"https://issues.apache.org/jira/rest/api/2/issue/12740264","fields":{"summary":"Use Native Hadoop Library for HFile checksum (And flip default from CRC32 to CRC32C)","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-05-26T19:18:30.489+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[],"timeoriginalestimate":null,"description":"HBASE-11927 adds functionality in hbase to use native hadoop library if available, by using DataChecksum library.\nAdd HBase to InterfaceAudience.LimitedPrivate.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12733227","id":"12733227","filename":"HADOOP-11980.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appy","name":"appy","key":"appy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=appy&avatarId=23146","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=appy&avatarId=23146","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=appy&avatarId=23146","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=appy&avatarId=23146"},"displayName":"Appy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-15T19:31:33.427+0000","size":1152,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12733227/HADOOP-11980.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Make DataChecksum APIs public","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appy","name":"appy","key":"appy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=appy&avatarId=23146","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=appy&avatarId=23146","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=appy&avatarId=23146","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=appy&avatarId=23146"},"displayName":"Appy","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appy","name":"appy","key":"appy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=appy&avatarId=23146","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=appy&avatarId=23146","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=appy&avatarId=23146","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=appy&avatarId=23146"},"displayName":"Appy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14546027","id":"14546027","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"body":" InterfaceAudience.LimitedPrivate is one of the most useless classifications we have.  Just make it public and be done with it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aw","name":"aw","key":"aw","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=aw&avatarId=23681","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aw&avatarId=23681","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aw&avatarId=23681","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aw&avatarId=23681"},"displayName":"Allen Wittenauer","active":true,"timeZone":"America/Tijuana"},"created":"2015-05-15T19:15:53.653+0000","updated":"2015-05-15T19:15:53.653+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14546111","id":"14546111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"..so change the title. And yes, scoping things down is wrong. private-in-project, yes, but restricted outside is unfair to other apps, and you've just made a commitment to some form of API stability.\n\nLeaving it to others to cover whether this API is stable enough to make public.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-05-15T20:15:23.989+0000","updated":"2015-05-15T20:15:23.989+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14546142","id":"14546142","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  14m 32s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |\n| {color:green}+1{color} | javac |   7m 28s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 33s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   1m  5s | There were no new checkstyle issues. |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 31s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 32s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 40s | The patch does not introduce any new Findbugs (version 2.0.3) warnings. |\n| {color:green}+1{color} | common tests |  21m 57s | Tests passed in hadoop-common. |\n| | |  58m 44s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12733227/HADOOP-11980.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 03a293a |\n| hadoop-common test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6703/artifact/patchprocess/testrun_hadoop-common.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6703/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6703/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-15T20:39:12.130+0000","updated":"2015-05-15T20:39:12.130+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14546205","id":"14546205","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"{quote}\nLeaving it to others to cover whether this API is stable enough to make public.\n{quote}\n\nNothing jumps out as problematic. Some of hte methods could use better javadocs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2015-05-15T21:32:40.941+0000","updated":"2015-05-15T21:32:40.941+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14550745","id":"14550745","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"I think it's concerning that the code for generating and reading HDFS {{.meta}} file headers is now in a class we're considering marking {{\\@InterfaceAudience.Public}}.  This seems like an internal detail of HDFS that we'd rather not expose.  Perhaps we could split this off into a separate class.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-19T16:41:27.169+0000","updated":"2015-05-19T16:41:27.169+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14551192","id":"14551192","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appy","name":"appy","key":"appy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=appy&avatarId=23146","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=appy&avatarId=23146","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=appy&avatarId=23146","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=appy&avatarId=23146"},"displayName":"Appy","active":true,"timeZone":"America/Los_Angeles"},"body":"The API seems pretty generic to me (calculate/verify checksums, instantiate from (byte[], offset) or input stream, write/get header info, etc). If there is any HDFS specific logic, you're right, we should decouple it. Can you please elaborate on changes you think would be best?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appy","name":"appy","key":"appy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=appy&avatarId=23146","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=appy&avatarId=23146","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=appy&avatarId=23146","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=appy&avatarId=23146"},"displayName":"Appy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-19T20:48:28.878+0000","updated":"2015-05-19T20:48:28.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830270/comment/14559665","id":"14559665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"I would like to move {{DataChecksum#writeHeader}}, {{DataChecksum#getHeader}}, {{DataChecksum#newDataChecksum}}, etc. into a private class for HDFS.  Perhaps it could be a subclass.  These functions govern the format of HDFS meta files, which we would like to keep private from public users.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-26T19:18:30.489+0000","updated":"2015-05-26T19:18:30.489+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-11980/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2esu7:"}}