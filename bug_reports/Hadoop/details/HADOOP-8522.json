{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12595395","self":"https://issues.apache.org/jira/rest/api/2/issue/12595395","key":"HADOOP-8522","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341431","id":"12341431","description":"3.0.0 GA release","name":"3.0.0","archived":false,"released":true,"releaseDate":"2017-12-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-06-21T21:12:17.409+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Nov 11 02:04:57 UTC 2017","customfield_12310420":"239697","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2877298_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_170096295488","customfield_12312321":null,"resolutiondate":"2017-11-11T01:46:03.278+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8522/watchers","watchCount":10,"isWatching":false},"created":"2012-06-21T07:59:50.579+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["BB2015-05-TBR"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320248","id":"12320248","description":"maintenance release on branch-1.0","name":"1.0.3","archived":false,"released":true,"releaseDate":"2012-05-07"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12320352","id":"12320352","description":"hadoop-2.0.0-alpha release","name":"2.0.0-alpha","archived":false,"released":true,"releaseDate":"2012-05-23"}],"issuelinks":[{"id":"12476948","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12476948","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12995233","key":"FLUME-2967","self":"https://issues.apache.org/jira/rest/api/2/issue/12995233","fields":{"summary":"Corrupted gzip files generated when writting to S3","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12476958","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12476958","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12600263","key":"HADOOP-8625","self":"https://issues.apache.org/jira/rest/api/2/issue/12600263","fields":{"summary":"Use GzipCodec to decompress data in ResetableGzipOutputStream test","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12353905","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12353905","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12465914","key":"HADOOP-6799","self":"https://issues.apache.org/jira/rest/api/2/issue/12465914","fields":{"summary":"GzipCodec/CompressionOutputStream resetState() fails to reset gzip header and CRC","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-11-11T02:04:57.939+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310687","id":"12310687","name":"io","description":""}],"timeoriginalestimate":null,"description":"ResetableGzipOutputStream creates invalid gzip files when finish() and resetState() are used. The issue is that finish() flushes the compressor buffer and writes the gzip CRC32 + data length trailer. After that, resetState() does not repeat the gzip header, but simply starts writing more deflate-compressed data. The resultant files are not readable by the Linux \"gunzip\" tool. ResetableGzipOutputStream should write valid multi-member gzip files.\n\nThe gzip format is specified in [RFC 1952|https://tools.ietf.org/html/rfc1952].\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12896258","id":"12896258","filename":"HADOOP-8522.05.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-06T20:20:53.605+0000","size":9113,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12896258/HADOOP-8522.05.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12896261","id":"12896261","filename":"HADOOP-8522.06.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-06T20:28:44.541+0000","size":9135,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12896261/HADOOP-8522.06.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12896292","id":"12896292","filename":"HADOOP-8522.07.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-07T00:03:24.306+0000","size":8693,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12896292/HADOOP-8522.07.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12822675","id":"12822675","filename":"HADOOP-8522-4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-08T22:10:23.116+0000","size":6800,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12822675/HADOOP-8522-4.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"2561","customfield_12312823":null,"summary":"ResetableGzipOutputStream creates invalid gzip files when finish() and resetState() are used","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13398288","id":"13398288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"Some additional info. Currently, resetState() works when using the native Zlib gzip implementation; the output appears to comply with the spec and works with \"gunzip\" because it writes the full header and trailer (basically concatenated gzip files). That may be one reason this bug has lain dormant for so long with the non-native implementation (serious users tend to use the native libs).\n\nSo, the problem is with the non-native gzip implementation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-06-21T08:26:45.795+0000","updated":"2012-06-21T08:26:45.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13398291","id":"13398291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"I am attaching a patch to make the behavior of non-native resetState() consistent with native resetState(), which will make them both compliant with RFC1952 and \"gunzip\".\n\nImplementation totally lifted from HBase:\nhttps://svn.apache.org/viewvc/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/ReusableStreamGzipCodec.java?revision=1342856&view=markup\n\nI added one unit test which simply tests that the output is readable with GZipInputStream, and one in which I had to comment-out the assert() because JDK GZipInputStream cannot handle multi-member gzip files. I'm open to suggestions for improving the unit test... it looks like HBase actually stores the expected bytes and requires an exact match in their test.\n\nTesting done: manual inspection that the data generated via the 2nd unit test creates headers, trailers, crc32 checksums, and lengths corresponding to the two members included. Also verified that the output of unit test 2 is readable with \"gunzip\" and that the output matches the provided input.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-06-21T08:47:10.317+0000","updated":"2012-06-21T08:47:10.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13398292","id":"13398292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"(note: trunk patch)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-06-21T08:47:34.376+0000","updated":"2012-06-21T08:47:34.376+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13398854","id":"13398854","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"The patch looks good to me. A small suggestion regarding the test: why not use GzipCodec to decompress too? Then you can have an assert in the test, and it checks roundtripping using Hadoop APIs. \n\n> That may be one reason this bug has lain dormant for so long with the non-native implementation (serious users tend to use the native libs).\n\nAlso, Hadoop has only supported concatenated gzip since HADOOP-6835, so files that had corrupt later members would have been ignored by versions of Hadoop prior to this.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2012-06-21T21:12:17.409+0000","updated":"2012-06-21T21:12:17.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13399224","id":"13399224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"Tom, thanks for the review! I will update the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-06-22T09:01:21.702+0000","updated":"2012-06-22T09:01:21.702+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13410715","id":"13410715","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eli","name":"eli","key":"eli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Collins","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey Mike, any update?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eli","name":"eli","key":"eli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Collins","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-07-10T19:10:12.404+0000","updated":"2012-07-10T19:10:12.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13415711","id":"13415711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"Apologies for the delay in following up on this.\n\nTom, do you expect GzipCodec to be able to read multi-member gzip files on JDK1.6 without native libs installed?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-07-16T22:17:05.361+0000","updated":"2012-07-16T22:17:05.361+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13416395","id":"13416395","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"body":"> Tom, do you expect GzipCodec to be able to read multi-member gzip files on JDK1.6 without native libs installed?\n\nYes, Hadoop's non-native BuiltInGzipDecompressor supports concatenated gzip.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tomwhite","name":"tomwhite","key":"tomwhite","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tom White","active":true,"timeZone":"Europe/London"},"created":"2012-07-17T17:42:13.172+0000","updated":"2012-07-17T17:42:13.172+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/13422904","id":"13422904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"Sincere apologies, but I just don't see myself finding the time to improve this unit test very soon. I have a lot going on over in Flume land. Would it be alright if we file another JIRA to improve the unit test and move forward with committing this patch? Just in case that is OK, I have filed HADOOP-8625 for that.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-07-26T05:29:51.324+0000","updated":"2012-07-26T05:29:51.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/14524555","id":"14524555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:red}-1{color} | patch |   0m  0s | The patch command could not apply the patch during dryrun. |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12532858/HADOOP-8522-2a.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / f1a152c |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6256/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-02T04:21:05.324+0000","updated":"2015-05-02T04:21:05.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15410128","id":"15410128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |\n| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m  4s{color} | {color:red} HADOOP-8522 does not apply to trunk. Rebase required? Wrong Branch? See https://wiki.apache.org/hadoop/HowToContribute for help. {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12532858/HADOOP-8522-2a.patch |\n| JIRA Issue | HADOOP-8522 |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10189/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-05T21:48:52.059+0000","updated":"2016-08-05T21:48:52.059+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15410275","id":"15410275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"A long time ago, in a galaxy far, far away I wrote this Hadoop patch.\n\nI finally went back, rebased it against trunk, and made the test better.\n\nThink we can commit this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-05T23:26:13.658+0000","updated":"2016-08-05T23:26:13.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15410302","id":"15410302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 13s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 50s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 44s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 54s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 17s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 46s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 37s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 41s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 41s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 22s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 5 new + 10 unchanged - 1 fixed = 15 total (was 11) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 27s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}  7m 43s{color} | {color:red} hadoop-common in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 21s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 37m 45s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.io.compress.TestGzipCodec |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:9560f25 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12822397/HADOOP-8522-3.patch |\n| JIRA Issue | HADOOP-8522 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 1816b1c701fc 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / d81b816 |\n| Default Java | 1.8.0_101 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/10190/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/10190/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/10190/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10190/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-06T00:06:32.864+0000","updated":"2016-08-06T00:06:32.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15412637","id":"15412637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 15s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  9m  1s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 15s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  0s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 22s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 48s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 39s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 12s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  7m 12s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 23s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 7 new + 10 unchanged - 1 fixed = 17 total (was 11) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 58s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 15s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 33s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  8m 17s{color} | {color:green} hadoop-common in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 25s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 42m 24s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:9560f25 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12822675/HADOOP-8522-4.patch |\n| JIRA Issue | HADOOP-8522 |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 1b19f92eb870 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 0705489 |\n| Default Java | 1.8.0_101 |\n| findbugs | v3.0.0 |\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/10204/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/10204/testReport/ |\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10204/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-08T23:22:07.680+0000","updated":"2016-08-08T23:22:07.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15429929","id":"15429929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"Ping on this JIRA. Can this be committed?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-21T22:59:22.277+0000","updated":"2016-08-21T22:59:22.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15890492","id":"15890492","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nperiwal","name":"nperiwal","key":"nperiwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Narayan Periwal","active":true,"timeZone":"Etc/UTC"},"body":"I am also facing the same issue of the invalid gzip files.\nWill appreciate if this can be merged.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nperiwal","name":"nperiwal","key":"nperiwal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Narayan Periwal","active":true,"timeZone":"Etc/UTC"},"created":"2017-03-01T16:32:43.091+0000","updated":"2017-03-01T16:32:43.091+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15890513","id":"15890513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |\n| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m 10s{color} | {color:red} HADOOP-8522 does not apply to trunk. Rebase required? Wrong Branch? See https://wiki.apache.org/hadoop/HowToContribute for help. {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| JIRA Issue | HADOOP-8522 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12822675/HADOOP-8522-4.patch |\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/11740/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-03-01T16:38:46.277+0000","updated":"2017-03-01T16:38:46.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/15892879","id":"15892879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"I got some review feedback on this offline, I think the patch needs to be updated again. This was the feedback:\n\nWhy does resetState() write a new header to the stream.. versus, say, doing it lazily if and when more data is written?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-02T19:55:18.867+0000","updated":"2017-03-02T19:55:18.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16240827","id":"16240827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Rebased patch. Looking at the RFC, it shouldn't be a problem to hard-code the header instead of creating a stream to extract the 10 bytes. Also updated {{resetState}} to be idempotent.\r\n\r\n[~mpercy] does this look OK to you? If so, I'll commit this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-06T20:22:30.816+0000","updated":"2017-11-06T20:22:30.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16240834","id":"16240834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Didn't notice the test used Guice {{Charsets}} instead of nio {{StandardCharsets}}. Updated test.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-06T20:29:06.065+0000","updated":"2017-11-06T20:29:06.065+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16240989","id":"16240989","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 10s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 40s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 11m 52s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 31s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 57s{color} | {color:green} trunk passed {color} |\r\n| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red} 16m 20s{color} | {color:red} branch has errors when building and testing our client artifacts. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 25s{color} | {color:red} hadoop-common in trunk failed. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 56s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 41s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 53s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 10m 53s{color} | {color:green} the patch passed {color} |\r\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 37s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 6 new + 8 unchanged - 0 fixed = 14 total (was 8) {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  2s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  0m 40s{color} | {color:red} patch has errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 41s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 28m 44s{color} | {color:red} hadoop-common in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 34s{color} | {color:red} The patch generated 62 ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 92m 37s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| Unreaped Processes | hadoop-common:1 |\r\n|   | hadoop-common:4 |\r\n| Failed junit tests | hadoop.ipc.TestCallQueueManager |\r\n|   | hadoop.security.TestUserGroupInformation |\r\n|   | hadoop.http.TestHttpServer |\r\n|   | hadoop.security.token.delegation.web.TestWebDelegationToken |\r\n|   | hadoop.security.token.delegation.TestZKDelegationTokenSecretManager |\r\n|   | hadoop.ipc.TestIPCServerResponder |\r\n|   | hadoop.ipc.TestIPC |\r\n|   | hadoop.log.TestLogLevel |\r\n|   | hadoop.ha.TestZKFailoverControllerStress |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:5b98639 |\r\n| JIRA Issue | HADOOP-8522 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12896261/HADOOP-8522.06.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux c9ba03b720fc 4.4.0-43-generic #63-Ubuntu SMP Wed Oct 12 13:48:03 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / dcd99c4 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_131 |\r\n| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/artifact/out/branch-findbugs-hadoop-common-project_hadoop-common.txt |\r\n| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/artifact/out/diff-checkstyle-hadoop-common-project_hadoop-common.txt |\r\n| Unreaped Processes Log | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/artifact/out/branch-findbugs-hadoop-common-project_hadoop-common-reaper.txt |\r\n| Unreaped Processes Log | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/artifact/out/patch-unit-hadoop-common-project_hadoop-common-reaper.txt |\r\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/artifact/out/patch-unit-hadoop-common-project_hadoop-common.txt |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/testReport/ |\r\n| asflicense | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/artifact/out/patch-asflicense-problems.txt |\r\n| Max. process+thread count | 402 (vs. ulimit of 5000) |\r\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\r\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/13637/console |\r\n| Powered by | Apache Yetus 0.7.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-11-06T22:06:50.347+0000","updated":"2017-11-06T22:06:50.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16241210","id":"16241210","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed checkstyle issues, ran test-patch locally:\r\n{noformat}\r\n| Vote |      Subsystem |  Runtime   | Comment\r\n============================================================================\r\n|  +1  |       @author  |   0m  0s   | The patch does not contain any @author \r\n|      |                |            | tags.\r\n|  +1  |    test4tests  |   0m  0s   | The patch appears to include 1 new or \r\n|      |                |            | modified test files.\r\n|  +1  |    mvninstall  |  12m 54s   | trunk passed \r\n|  +1  |       compile  |  10m 37s   | trunk passed \r\n|  +1  |    checkstyle  |   0m 28s   | trunk passed \r\n|  +1  |       mvnsite  |   0m 48s   | trunk passed \r\n|  +1  |    mvneclipse  |   0m 18s   | trunk passed \r\n|  +1  |      findbugs  |   1m  6s   | trunk passed \r\n|  +1  |       javadoc  |   0m 51s   | trunk passed \r\n|  +1  |    mvninstall  |   0m 34s   | the patch passed \r\n|  +1  |       compile  |  10m  4s   | the patch passed \r\n|  +1  |         javac  |  10m  4s   | the patch passed \r\n|  +1  |    checkstyle  |   0m 34s   | the patch passed \r\n|  +1  |       mvnsite  |   0m 53s   | the patch passed \r\n|  +1  |    mvneclipse  |   0m 24s   | the patch passed \r\n|  +1  |    whitespace  |   0m  0s   | The patch has no whitespace issues. \r\n|  +1  |      findbugs  |   1m 15s   | the patch passed \r\n|  +1  |       javadoc  |   0m 51s   | the patch passed \r\n|  +1  |    asflicense  |   0m 32s   | The patch does not generate ASF License \r\n|      |                |            | warnings.\r\n|      |                |  43m 22s   | \r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-07T00:03:37.232+0000","updated":"2017-11-07T00:03:37.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16241311","id":"16241311","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 16m 27s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 14m 14s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 46s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 21s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 34s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 38s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m  3s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 46s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 12m 35s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green} 12m 35s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 35s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  1s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green}  9m 48s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 36s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 54s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} unit {color} | {color:red}  7m 16s{color} | {color:red} hadoop-common in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 32s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 82m 41s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| Failed junit tests | hadoop.net.TestDNS |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:5b98639 |\r\n| JIRA Issue | HADOOP-8522 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12896292/HADOOP-8522.07.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 993b1bd675cc 3.13.0-123-generic #172-Ubuntu SMP Mon Jun 26 18:04:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 8f214dc |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_131 |\r\n| findbugs | v3.1.0-RC1 |\r\n| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/13638/artifact/out/patch-unit-hadoop-common-project_hadoop-common.txt |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/13638/testReport/ |\r\n| Max. process+thread count | 1336 (vs. ulimit of 5000) |\r\n| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |\r\n| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/13638/console |\r\n| Powered by | Apache Yetus 0.7.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-11-07T01:34:50.954+0000","updated":"2017-11-07T01:34:50.954+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16241410","id":"16241410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"body":"[~chris.douglas] Overall the changes look good to me. [~fabbri] do you have any additional thoughts on this? You took a look at rev 4 from me some time back.\r\n\r\nOne thing that caught my eye was the decision to make the methods out the GZipOutputStream synchronized. If the contract for CompressionOutputStream is not thread safe it seems like overkill.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mpercy","name":"mpercy","key":"mpercy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mpercy&avatarId=26753","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mpercy&avatarId=26753","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mpercy&avatarId=26753","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mpercy&avatarId=26753"},"displayName":"Mike Percy","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-07T03:05:45.433+0000","updated":"2017-11-07T03:05:45.433+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16246720","id":"16246720","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. One thing that caught my eye was the decision to make the methods out the GZipOutputStream synchronized\r\nThe supertype ({{GZIPOutputStream}}) synchronizes these methods, so the patch synchronizes consistently with it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-09T22:55:50.682+0000","updated":"2017-11-09T22:55:50.682+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16248229","id":"16248229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"If there's no other feedback, I'll commit this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-11T00:31:52.939+0000","updated":"2017-11-11T00:31:52.939+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16248267","id":"16248267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"body":"I committed this. Thanks, [~mpercy]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chris.douglas","name":"chris.douglas","key":"chris.douglas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Douglas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-11T01:46:03.344+0000","updated":"2017-11-11T01:46:03.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12595395/comment/16248278","id":"16248278","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #13222 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/13222/])\nHADOOP-8522. ResetableGzipOutputStream creates invalid gzip files when (cdouglas: rev 796a0d3a5c661f0c3b23af9c0db2d8f3db83c322)\n* (add) hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/compress/TestGzipCodec.java\n* (edit) hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/GzipCodec.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-11-11T02:04:57.939+0000","updated":"2017-11-11T02:04:57.939+0000"}],"maxResults":28,"total":28,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-8522/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i00skn:"}}