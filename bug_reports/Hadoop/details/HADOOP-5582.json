{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12419547","self":"https://issues.apache.org/jira/rest/api/2/issue/12419547","key":"HADOOP-5582","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313563","id":"12313563","description":"","name":"0.21.0","archived":false,"released":true,"releaseDate":"2010-08-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-03-31T14:31:42.184+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 09 17:47:06 UTC 2009","customfield_12310420":"37220","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_4030066248_*|*_1_*:*_2_*:*_375971005_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-05-16T16:14:02.052+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5582/watchers","watchCount":0,"isWatching":false},"created":"2009-03-26T16:20:04.799+0000","customfield_12310192":"Fixed error parsing job history counters after change of counter format.","customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313438","id":"12313438","description":"","name":"0.20.0","archived":false,"released":true,"releaseDate":"2009-04-22"}],"issuelinks":[{"id":"12323966","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12323966","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12419550","key":"HADOOP-5583","self":"https://issues.apache.org/jira/rest/api/2/issue/12419550","fields":{"summary":"method fromEscapedCompactString()  from the depricated class, org.apache.hadoop.mapred.Counters is not supported in org.apache.hadoop.mapreduce.Counters ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12324608","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12324608","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12424490","key":"HADOOP-5764","self":"https://issues.apache.org/jira/rest/api/2/issue/12424490","fields":{"summary":"Hadoop Vaidya test rule (ReadingHDFSFilesAsSideEffect) fails w/ exception if number of map input bytes for a job is zero.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-02T02:29:24.048+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Hadoop Vaidya (contrib/vaidya) tool throws number format exception while parsing the job history log files due to change in the format of counters string in 0.20.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404195","id":"12404195","filename":"vaidya_patch_21.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-31T00:34:58.123+0000","size":22636,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12404195/vaidya_patch_21.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12407120","id":"12407120","filename":"vaidya-0.21.0-5582-5764.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-03T19:30:05.663+0000","size":26562,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12407120/vaidya-0.21.0-5582-5764.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"14122","customfield_12312823":null,"summary":"Hadoop Vaidya throws number format exception due to changes in the job history counters string format (escaped compact representation).","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12689541","id":"12689541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"contrib/vaidya tool to use new org.apache.hadoop.mapreduce.Counters class, it needs to have fromEscapedCompactString() method to parse the job history counters string.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-26T16:40:57.880+0000","updated":"2009-03-26T16:40:57.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12693959","id":"12693959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"This is a patch for both hadoop-0.20.0 and trunk (0.21.0)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-31T00:34:58.216+0000","updated":"2009-03-31T00:34:58.216+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12693960","id":"12693960","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"This patch is applicable for both hadoop 0.20.0 and trunk (0.21.0).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-31T00:38:02.664+0000","updated":"2009-03-31T00:38:02.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12694127","id":"12694127","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12404195/vaidya_patch_21.patch\n  against trunk revision 760376.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    -1 contrib tests.  The patch failed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-minerva.apache.org/82/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-minerva.apache.org/82/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-minerva.apache.org/82/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-minerva.apache.org/82/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-31T14:31:42.184+0000","updated":"2009-03-31T14:31:42.184+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12698448","id":"12698448","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"1. This is a standalone contrib tool and does not have a formal automated tests suite build for it yet. \n\n2. Failed tests are unrelated.\n\nSo this patch should go in. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-13T17:26:54.834+0000","updated":"2009-04-13T17:26:54.834+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12698453","id":"12698453","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"does not have a formal automated tests suite available for it yet. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-13T17:42:04.519+0000","updated":"2009-04-13T17:42:04.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12705035","id":"12705035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"Can someone pl. commit this patch? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-01T16:19:28.706+0000","updated":"2009-05-01T16:19:28.706+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12705039","id":"12705039","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"Amar, can you review this please?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2009-05-01T16:29:33.977+0000","updated":"2009-05-01T16:29:33.977+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12705435","id":"12705435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"Adding new patch to also incorporate fix for HADOOP-5764, which depends on this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-03T19:23:36.249+0000","updated":"2009-05-03T19:23:36.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12705436","id":"12705436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"Submitting new patch to also incorporate the fix for HADOOP-5764, which depends on previous patch submitted for this issue. After committing this patch issue in HADOOP-5764 would also be resolved. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-03T19:30:05.693+0000","updated":"2009-05-03T19:30:05.693+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12705437","id":"12705437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"Submitting a new patch. See comment above.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-03T19:31:49.367+0000","updated":"2009-05-03T19:31:49.367+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12705464","id":"12705464","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12407120/vaidya-0.21.0-5582-5764.patch\n  against trunk revision 770685.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/283/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/283/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nCheckstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/283/artifact/trunk/build/test/checkstyle-errors.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/283/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-03T23:52:26.241+0000","updated":"2009-05-03T23:52:26.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12708162","id":"12708162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"Can someone pl. review and commit this patch. I need to add some more diagnostic rules which require this patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-11T19:22:24.131+0000","updated":"2009-05-11T19:22:24.131+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12708401","id":"12708401","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Checked the code change related to {{Counters}}. Looks fine to me and seems like a right direction (i.e counter string obtained from jobhistory should be decoded using {{Counters}}).\n+1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-12T11:22:10.995+0000","updated":"2009-05-12T11:22:10.995+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12708404","id":"12708404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"From what I understand, you could something like \n{code}\nCounters c = Counters.fromEscapedCompactString(counterString);\nString compactString = c.toCompactStrihng();\n// do what you do currently .. but with compactString and not counterString\nMatcher m = _pattern.matcher(counters);\nwhile(m.find()){\n  String ctuple = m.group(0);\n  //String ctuple = c1tuple.substring(0, c1tuple.length()-1);\n....\n...\n.\n{code}\n\nThis might not be efficient but will will reduce code change and testing time. So basically what you will be doing here is you will convert the new format to old format and pass to the code.\n\n----\n\nFew questions :\n# Seems like there is a parser written here for job history. Why cant you use the existing job history parser?\n# Seems like counters are maintained as key val pair. Why can a global counter be used and all new counter can simply be added to it?\n\nI have not seen the whole code. These questions are based on the impression that I am getting looking at the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-12T11:37:23.359+0000","updated":"2009-05-12T11:37:23.359+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12708493","id":"12708493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"1. About converting to compact string and then using existing code is definitely a less change, but may not be a right way to go. What if tomorrow the compact format gets deprecated? Also as you mentioned we don't need to do extra conversion just to use existing code. \n\n2. Vaidya is a offline tool and uses the default job history parser to read and parse the job history file. Although it presents all the counters as a key/value pairs in the format or interface exposed by Vaidya tool for its rule writers. Thus it makes rules agnostic to any changes in hadoop counters and their representation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-12T16:36:16.366+0000","updated":"2009-05-12T16:36:16.366+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12709482","id":"12709482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"body":"Amar, hope this clarifies your questions. Let me know if you need any further clarification. If not, then can you pl. commit the fix. Thanks & Regards, Suhas","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgogate","name":"vgogate","key":"vgogate","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suhas Gogate","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-14T17:42:18.232+0000","updated":"2009-05-14T17:42:18.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12709937","id":"12709937","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"body":"Looks fine. +1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amar_kamat","name":"amar_kamat","key":"amar_kamat","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amar Kamat","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-15T19:25:13.458+0000","updated":"2009-05-15T19:25:13.458+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12710124","id":"12710124","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"body":"I just committed this. Thanks, Suhas!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj","name":"devaraj","key":"devaraj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj Das","active":true,"timeZone":"Pacific/Pitcairn"},"created":"2009-05-16T16:14:02.024+0000","updated":"2009-05-16T16:14:02.024+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12419547/comment/12764117","id":"12764117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chansler","name":"chansler","key":"chansler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Chansler","active":true,"timeZone":"America/Los_Angeles"},"body":"Editorial pass over all release notes prior to publication of 0.21. Bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chansler","name":"chansler","key":"chansler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Chansler","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-10-09T17:47:06.099+0000","updated":"2009-10-09T17:47:06.099+0000"}],"maxResults":20,"total":20,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-5582/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i02rwn:"}}