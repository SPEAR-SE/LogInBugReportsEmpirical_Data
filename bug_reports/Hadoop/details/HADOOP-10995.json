{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12735932","self":"https://issues.apache.org/jira/rest/api/2/issue/12735932","key":"HADOOP-10995","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310240","id":"12310240","key":"HADOOP","name":"Hadoop Common","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2014-08-21T23:28:03.428+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 12 02:51:41 UTC 2014","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1827850877_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-09-12T02:50:58.121+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10995/watchers","watchCount":13,"isWatching":false},"created":"2014-08-21T23:06:47.281+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12394845","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12394845","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12713145","key":"YARN-2032","self":"https://issues.apache.org/jira/rest/api/2/issue/12713145","fields":{"summary":"Implement a scalable, available TimelineStore using HBase","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12394846","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12394846","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12690418","key":"HADOOP-10255","self":"https://issues.apache.org/jira/rest/api/2/issue/12690418","fields":{"summary":"Rename HttpServer to HttpServer2 to retain older HttpServer in branch-2 for compatibility","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12394847","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12394847","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12544697","key":"HADOOP-8124","self":"https://issues.apache.org/jira/rest/api/2/issue/12544697","fields":{"summary":"Remove the deprecated Syncable.sync() method","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12394848","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12394848","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12695313","key":"HADOOP-10348","self":"https://issues.apache.org/jira/rest/api/2/issue/12695313","fields":{"summary":"Deprecate hadoop.ssl.configuration in branch-2, and remove it in trunk","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-09-12T02:51:41.908+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Several incompatible changes that happened on trunk but not on branch-2 have broken the compatibility for HBbase:\n\nHADOOP-10348\nHADOOP-8124\nHADOOP-10255\n\nIn general, HttpServer is and Syncable.sync have been missed.\n\nIt blocks YARN-2032, which makes timeline sever support HBase store.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12663544","id":"12663544","filename":"HADOOP-10995.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-21T23:11:44.481+0000","size":45591,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12663544/HADOOP-10995.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12663615","id":"12663615","filename":"YARN-2032.dependency.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T07:35:49.574+0000","size":4278,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12663615/YARN-2032.dependency.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"HBase cannot run correctly with Hadoop trunk","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106115","id":"14106115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"Make a patch to recover the removed code.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-21T23:11:44.486+0000","updated":"2014-08-21T23:11:44.486+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106145","id":"14106145","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"body":"Could HBase use hsync instead of sync?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szetszwo","name":"szetszwo","key":"szetszwo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=szetszwo&avatarId=23156","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=szetszwo&avatarId=23156","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=szetszwo&avatarId=23156","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=szetszwo&avatarId=23156"},"displayName":"Tsz Wo Nicholas Sze","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-21T23:28:03.428+0000","updated":"2014-08-21T23:28:03.428+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106237","id":"14106237","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"In terms of HttpServer, the code between branch-2 and trunk are different. Note that (1) branch-2 works against hbase 0.98. (2) the HttpServer issue for hbase is fixed in HBASE-10336. Therefore I don't think {{HttpServer}} should be reintroduced into trunk in this case.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T00:28:51.580+0000","updated":"2014-08-22T00:28:51.580+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106447","id":"14106447","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"[~szetszwo] and [~wheat9], thanks for your comments. It sounds good suggestions when HBase try to rebase with the latest hadoop. However, our case is a bit counter-intuitive. Let me describe more about the problem.\n\nIn YARN-2033, we'd like to create an HBase based timeline store to scale out the storage layer, such that we need to add the dependency for the timeline server sub-module, making it depend on hbase 0.9x (actually in the patch we use 0.98). However,  hbase 0.9x releases were built against Hadoop branch-2, and used HttpServer as well as Syncable.sync, which are removed from trunk now. On the contrary, in YARN-2033, to verify whether the HBase based timeline store works properly, we need to start a mini HBase cluster for test cases. At runtime, the mini HBase cluster will invoke HttpServer and Syncable.sync. Since these classes are not found, the mini HBase cluster cannot start successfully.\n\nTherefore, if we don't bring these classes back to trunk, the test cases will not work on trunk. It makes it difficult to verify if any further code changes will affect the HBase based timeline store.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T04:42:34.293+0000","updated":"2014-08-22T04:42:34.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106526","id":"14106526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. such that we need to add the dependency for the timeline server sub-module, making it depend on hbase 0.9x (actually in the patch we use 0.98). However, hbase 0.9x releases were built against Hadoop branch-2.\n\nDoes that mean hadoop trunk will then have dependency on hbase and even hadoop branch-2? Not quite sure how that will work...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jingzhao","name":"jingzhao","key":"jingzhao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jing Zhao","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T06:19:48.483+0000","updated":"2014-08-22T06:19:48.483+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106541","id":"14106541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Does that mean hadoop trunk will then have dependency on hbase and even hadoop branch-2?\n\nActually, the hbase libs only, we will stop the cascading dependency","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T06:31:15.799+0000","updated":"2014-08-22T06:31:15.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106559","id":"14106559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Actually, the hbase libs only, we will stop the cascading dependency\n\nCan you be more specific? Here is the result of {{mvn dependency:tree}} of hbase-client:\n\n{noformat}\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ hbase-client ---\n[INFO] org.apache.hbase:hbase-client:jar:0.99.0-SNAPSHOT\n[INFO] +- org.apache.hbase:hbase-common:jar:0.99.0-SNAPSHOT:compile\n[INFO] |  \\- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] +- org.apache.hbase:hbase-common:test-jar:tests:0.99.0-SNAPSHOT:test\n[INFO] +- org.apache.hbase:hbase-protocol:jar:0.99.0-SNAPSHOT:compile\n[INFO] +- commons-codec:commons-codec:jar:1.7:compile\n[INFO] +- commons-io:commons-io:jar:2.4:compile\n[INFO] +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] +- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] +- com.google.guava:guava:jar:12.0.1:compile\n[INFO] |  \\- com.google.code.findbugs:jsr305:jar:1.3.9:compile\n[INFO] +- com.google.protobuf:protobuf-java:jar:2.5.0:compile\n[INFO] +- io.netty:netty:jar:3.6.6.Final:compile\n[INFO] +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.6.4:compile\n[INFO] |  \\- org.slf4j:slf4j-log4j12:jar:1.6.1:compile\n[INFO] +- org.htrace:htrace-core:jar:3.0.3:compile\n[INFO] |  \\- org.mortbay.jetty:jetty-util:jar:6.1.26:compile\n[INFO] +- org.codehaus.jackson:jackson-mapper-asl:jar:1.8.8:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.8.8:compile\n[INFO] +- log4j:log4j:jar:1.2.17:test\n[INFO] +- org.apache.hadoop:hadoop-common:jar:2.4.0:compile\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.1.1:compile\n[INFO] |  +- xmlenc:xmlenc:jar:0.52:compile\n[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1:compile\n[INFO] |  +- commons-net:commons-net:jar:3.1:compile\n[INFO] |  +- org.mortbay.jetty:jetty:jar:6.1.26:compile\n[INFO] |  +- com.sun.jersey:jersey-core:jar:1.8:compile\n[INFO] |  +- com.sun.jersey:jersey-json:jar:1.8:compile\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.3.1:compile\n[INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:compile\n[INFO] |  |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.8.8:compile\n[INFO] |  |  \\- org.codehaus.jackson:jackson-xc:jar:1.8.8:compile\n[INFO] |  +- commons-el:commons-el:jar:1.0:runtime\n[INFO] |  +- net.java.dev.jets3t:jets3t:jar:0.9.0:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.1.2:compile\n[INFO] |  |  \\- com.jamesmurty.utils:java-xmlbuilder:jar:0.4:compile\n[INFO] |  +- commons-configuration:commons-configuration:jar:1.6:compile\n[INFO] |  |  +- commons-digester:commons-digester:jar:1.8:compile\n[INFO] |  |  |  \\- commons-beanutils:commons-beanutils:jar:1.7.0:compile\n[INFO] |  |  \\- commons-beanutils:commons-beanutils-core:jar:1.8.0:compile\n[INFO] |  +- org.apache.avro:avro:jar:1.7.4:compile\n[INFO] |  |  +- com.thoughtworks.paranamer:paranamer:jar:2.3:compile\n[INFO] |  |  \\- org.xerial.snappy:snappy-java:jar:1.0.4.1:compile\n[INFO] |  +- com.jcraft:jsch:jar:0.1.42:compile\n[INFO] |  \\- org.apache.commons:commons-compress:jar:1.4.1:compile\n[INFO] |     \\- org.tukaani:xz:jar:1.0:compile\n[INFO] +- org.apache.hadoop:hadoop-auth:jar:2.4.0:compile\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.2.5:compile\n[INFO] +- org.apache.hadoop:hadoop-mapreduce-client-core:jar:2.4.0:compile\n[INFO] |  +- org.apache.hadoop:hadoop-yarn-common:jar:2.4.0:compile\n[INFO] |  |  +- org.apache.hadoop:hadoop-yarn-api:jar:2.4.0:compile\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.2.2:compile\n[INFO] |  |  |  \\- javax.activation:activation:jar:1.1:compile\n[INFO] |  |  +- javax.servlet:servlet-api:jar:2.5:compile\n[INFO] |  |  +- com.google.inject:guice:jar:3.0:compile\n[INFO] |  |  |  +- javax.inject:javax.inject:jar:1:compile\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  |  +- com.sun.jersey:jersey-server:jar:1.8:compile\n[INFO] |  |  |  \\- asm:asm:jar:3.1:compile\n[INFO] |  |  \\- com.sun.jersey.contribs:jersey-guice:jar:1.9:compile\n[INFO] |  \\- com.google.inject.extensions:guice-servlet:jar:3.0:compile\n[INFO] +- org.apache.hadoop:hadoop-annotations:jar:2.4.0:compile\n[INFO] |  \\- jdk.tools:jdk.tools:jar:1.7:system\n[INFO] +- com.github.stephenc.findbugs:findbugs-annotations:jar:1.3.9-1:compile\n[INFO] +- junit:junit:jar:4.11:compile\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:compile\n[INFO] \\- org.mockito:mockito-all:jar:1.9.0:test\n{noformat}\n\nFor example, hbase-client needs to depend on hadoop-common, which depends on jetty and guava. That is said, this will block incompatible changes like HADOOP-10075, HADOOP-10101 going into trunk. That beats the whole point of having the trunk branch.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T06:53:12.494+0000","updated":"2014-08-22T06:53:12.494+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14106596","id":"14106596","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"We want to use hbase-client and hbase-testing-util and all their dependency on other hbase parts, but exclude the cascading dependency to hadoop as well as the third-party one which has already been introduce by hadoop.\n\nI attached a dependency change I've used. It may not be completely correct, but so far it work well for me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T07:35:49.578+0000","updated":"2014-08-22T07:35:49.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14107187","id":"14107187","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. I attached a dependency change I've used. It may not be completely correct, but so far it work well for me.\n\nThis change assumes binary compatibilities of hadoop-common and hadoop-auth between trunk and 2.x. Again this is undesirable. This will block useful changes like HADOOP-9845 going into trunk.\n\nIn general, I'm opposed to create circular dependency by putting hbase dependency into the pom.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-22T17:54:27.217+0000","updated":"2014-08-22T17:54:27.217+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14108753","id":"14108753","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. In general, I'm opposed to create circular dependency by putting hbase dependency into the pom.\n\nI'm not sure we should simply conclude cyclic dependency that hbase depends on hadoop and hadoop depends on hbase now, because both projects are divided into multiple artifacts. In YARN-2032, in hadoop-yarn-server-applicatioinhistoryservice, we only want to add hbase-client and hbase-testing-util, which have dependency on hadoop-common, hadoop-auth, hadoop-hdfs, hadoop-mapreduce-client-core and some others. However, none of them actually depend on hadoop-yarn-server-applicatioinhistoryservice, resulting in cyclic dependency. Therefore, with the attached dependency change, the project is built secussefully. In fact, you can consider hadoop-yarn-server-applicatioinhistoryservice as an independent project that depends on hadoop-common, as hbase-client/hbase-testing-util does. The dependency is still going to be a DAG after the change.\n\nbq. This change assumes binary compatibilities of hadoop-common and hadoop-auth between trunk and 2.x.\n\nAs hbase 0.9x is built against branch-2. It's going to be binary incompatible against trunk, and this is why I raised the this Jira. However, this Jira is not aiming to ensure thorough binary compatibility between trunk and 2.x, but getting back the necessary pieces to unblock the tests against hbase mini cluster. Once the new version hbase dependency rebases to the new API (i.e., HttpServer2 and Syncable.hsync), These pieces should be safe to be removed. Hopefully it's a fair point.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-25T05:23:36.922+0000","updated":"2014-08-25T05:23:36.922+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14130760","id":"14130760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"body":"Can this jira be closed as invalid?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wheat9","name":"wheat9","key":"wheat9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Haohui Mai","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-11T21:36:52.991+0000","updated":"2014-09-11T21:36:52.991+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12735932/comment/14131044","id":"14131044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"Per the new patch on YARN-2032, we plan to ignore the test cases on trunk to walk around the compatibility issue. Close this ticket as invalid.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-12T02:51:41.908+0000","updated":"2014-09-12T02:51:41.908+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10995/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1z7in:"}}