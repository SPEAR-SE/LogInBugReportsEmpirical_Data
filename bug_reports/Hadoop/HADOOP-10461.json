{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [],
        "created": "2014-04-04T03:24:23.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577"
            },
            "displayName": "jay vyas",
            "key": "jayunit100",
            "name": "jayunit100",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jayunit100",
            "timeZone": "Etc/UTC"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": "2014-04-06T20:00:32.458+0000",
        "customfield_12310222": "1_*:*_1_*:*_49710678845_*|*_5_*:*_1_*:*_0",
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310320": null,
        "customfield_12310420": "384883",
        "customfield_12310920": "385150",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i1ub0n:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Oct 31 11:55:42 UTC 2015",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "Currently alot of manual inheritance and stub classes are required in order to run the FileSystemBaseContract and FSMainOperations tests.   This means that the HCFS Test suite for any given FileSystem spans many classes, and makes it confusing and cumbersome for anyone to create new tests for a file system, and also very hard to audit and update the tests for a particular file system.\n\n*If each FileSystem had a single point of entry for its tests, we would be much better off.*\n\nThere are two ways to do this.  \n\n* Have a folder or package for each file system (i.e.  .//hadoop-common/src/test/java/org/apache/hadoop/fs/rawlocal ) Or\n* Wrap all the HCFS Test implementation classes into a single class (i.e. RawLocalFileSystemHCFSTestSuite.java).  \n\n*The purpose of this JIRA is to implement a wrapper class for the RawLocalFileSystem, which serves as a single point of entry to ALL RawLocalFileSystem tests.  This will cleanup the RawLocalFileSystem tests while providing other HCFS implementors a template they can use for their own filesystems (i.e. they can just copy the code and customize it however they want).*\n\nFor example:  This is a sampling of the classes necessary to glue Local FS implementations into the Existing generic FileSystem test classes: \n\n{noformat}\n\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestFcLocalFsPermission.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestFcLocalFsUtil.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestFSMainOperationsLocalFileSystem.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalDirAllocator.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystem.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemPermission.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFsFCStatistics.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextCreateMkdir.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextMainOperations.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestSymlinkLocalFS.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestSymlinkLocalFSFileContext.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/TestSymlinkLocalFSFileSystem.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcCreateMkdirLocalFs.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcMainOperationsLocalFs.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcPermissionsLocalFs.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFSMainOperationsLocalFileSystem.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFileSystemLocalFileSystem.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFileSystemWithAuthorityLocalFileSystem.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFsLocalFs.java\n.//hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFsWithAuthorityLocalFs.java\n{noformat}\n\nLets wrap these tests into a Suite for the RawLocalFileSystem, such that any once can copy that suite to build tests for their own file system. \n\nUsing the \"Enclosed\" Junit (http://junit-team.github.io/junit/javadoc/4.10/org/junit/experimental/runners/Enclosed.html ) class, we can combine all of the RawLocalFileSystem tests into a single class.  That way  \n* Can save on boiler plate for setup and declaring the same FileSystem stubs over and over again, making the test \"logic\" more easy to focus on.  For example, here are some repeat file context declarations for ViewFS tests:\n{noformat}\n01:42:08 {TRUNK} $ git grep \"ViewFsTestSetup.setupForViewFsLocalFs(fileContextTestHelper)\"\nhadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcCreateMkdirLocalFs.java:    fc = ViewFsTestSetup.setupForViewFsLocalFs(fileContextTestHelper);\nhadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcMainOperationsLocalFs.java:    fc = ViewFsTestSetup.setupForViewFsLocalFs(fileContextTestHelper);\nhadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcPermissionsLocalFs.java:    return ViewFsTestSetup.setupForViewFsLocalFs(fileContextTestHelper);\n01:45:19 {TRUNK} $ git grep \" FileContext.getFileContext(FsConstants.VIEWFS_URI, conf);\"\nhadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFsURIs.java:    FileContext.getFileContext(FsConstants.VIEWFS_URI, conf);\nhadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFsBaseTest.java:    fcView = FileContext.getFileContext(FsConstants.VIEWFS_URI, conf);\nhadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFsTestSetup.java:    FileContext fc = FileContext.getFileContext(FsConstants.VIEWFS_URI, conf);\n{noformat}\n* Can easily be adopted for other FileSystems.\n* Can read in System properties to skip certain tests , thus providing support for the type of variability that we know FileSystem tests require.  These can then be used to implement the semantics of HADOOP-9361.\n\nIdeally, we could replace RawLocalFileSystem tests with this injector as a second follow up patch to this, it would reduce the overall amount of code required, probably.\n\n\n\n\n\n\n\n\n",
        "duedate": null,
        "environment": null,
        "fixVersions": [{
            "archived": false,
            "description": "3.0.0-alpha1 release",
            "id": "12335733",
            "name": "3.0.0-alpha1",
            "releaseDate": "2016-09-03",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12335733"
        }],
        "issuelinks": [
            {
                "id": "12392308",
                "outwardIssue": {
                    "fields": {
                        "issuetype": {
                            "avatarId": 21133,
                            "description": "A problem which impairs or prevents the functions of the product.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                            "id": "1",
                            "name": "Bug",
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                            "subtask": false
                        },
                        "priority": {
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "id": "3",
                            "name": "Major",
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                        },
                        "status": {
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "id": "5",
                            "name": "Resolved",
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "statusCategory": {
                                "colorName": "green",
                                "id": 3,
                                "key": "done",
                                "name": "Done",
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                            }
                        },
                        "summary": "All the FileSystem tests should be cleaned up"
                    },
                    "id": "12436243",
                    "key": "HADOOP-6275",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/12436243"
                },
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12392308",
                "type": {
                    "id": "12310000",
                    "inward": "is duplicated by",
                    "name": "Duplicate",
                    "outward": "duplicates",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"
                }
            },
            {
                "id": "12386417",
                "outwardIssue": {
                    "fields": {
                        "issuetype": {
                            "avatarId": 21140,
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "id": "4",
                            "name": "Improvement",
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "subtask": false
                        },
                        "priority": {
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "id": "3",
                            "name": "Major",
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
                        },
                        "status": {
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "id": "5",
                            "name": "Resolved",
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "statusCategory": {
                                "colorName": "green",
                                "id": 3,
                                "key": "done",
                                "name": "Done",
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
                            }
                        },
                        "summary": "Move common fs implementations to a hadoop-fs module"
                    },
                    "id": "12520999",
                    "key": "HADOOP-7601",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/12520999"
                },
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12386417",
                "type": {
                    "id": "10030",
                    "inward": "is related to",
                    "name": "Reference",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                }
            }
        ],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "id": "4",
            "name": "Minor",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310240&avatarId=10095",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310240&avatarId=10095",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310240&avatarId=10095",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310240&avatarId=10095"
            },
            "id": "12310240",
            "key": "HADOOP",
            "name": "Hadoop Common",
            "projectCategory": {
                "description": "Scalable Distributed Computing",
                "id": "10292",
                "name": "Hadoop",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310240"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jayunit100&avatarId=19577",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jayunit100&avatarId=19577",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jayunit100&avatarId=19577",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jayunit100&avatarId=19577"
            },
            "displayName": "jay vyas",
            "key": "jayunit100",
            "name": "jayunit100",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jayunit100",
            "timeZone": "Etc/UTC"
        },
        "resolution": {
            "description": "The problem described is an issue which will never be fixed.",
            "id": "2",
            "name": "Won't Fix",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/2"
        },
        "resolutiondate": "2015-10-31T11:55:42.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Create an extensible single point entry for of HCFS tests - using RawLocalFileSystem as example impl.",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2016-05-12T18:24:21.000+0000",
        "versions": [],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10461/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HADOOP-10461/watchers",
            "watchCount": 4
        },
        "workratio": -1
    },
    "id": "12706560",
    "key": "HADOOP-10461",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12706560"
}