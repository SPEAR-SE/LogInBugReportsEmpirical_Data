[It's not a test issue but a problem with LocalFilesystem. ChecksumFileSystem has no method for rename(Path, Path, Options.Rename...) so FilterFilesystem's method will be called which does not handle crc files. HADOOP-15388 will solve this., GitHub user lqjack opened a pull request:

    https://github.com/apache/hadoop/pull/368

    HADOOP-15380

    move crc file to trash if exist

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/lqjack/hadoop HADOOP-15380

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hadoop/pull/368.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #368
    
----
commit 402ff637bfac298e54d90d2d539667764b2fc47c
Author: lqjaclee <lqjacklee@...>
Date:   2018-04-27T17:32:04Z

    HADOOP-15380
    
    move crc file to trash if exist

----
, https://github.com/apache/hadoop/pull/368]