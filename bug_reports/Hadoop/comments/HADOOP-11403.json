[Patch is available for code review, +1.  Can you hit "submit patch" so that we can get a jenkins run?  Thanks, Can you also add a comment to {{terror}} explaining that {{sys_errlist}} doesn't exist on Solaris?, Added comment to terror explaining that Solaris does not support sys_errlist, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12687404/HADOOP-11403.002.patch
  against trunk revision c379e10.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 3 new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:

                  org.apache.hadoop.crypto.random.TestOsSecureRandom
                  org.apache.hadoop.hdfs.server.namenode.ha.TestRetryCacheWithHA
                  org.apache.hadoop.hdfs.server.namenode.TestCheckpoint

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5278//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5278//artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5278//console

This message is automatically generated., {code}
  return strerror(errnum); //  MT-Safe under Solaris which doesn't support sys_errlist and sys_nerr
{code}
This line is longer than 80 characters... try putting this comment on a separate line.

+1 once that's addressed, Malcolm, can you post a version of the patch with the comment on a separate line?  Then we can get this in.  Thanks again.

P.S. I'll be out next week so don't feel bad if I don't review during that time.  If anyone else wants to review that would be good too, Moved comment to separate line, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12694366/HADOOP-11403.003.patch
  against trunk revision 8f26d5a.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5472//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5472//console

This message is automatically generated., This is a minor change isolated to Solaris only. 
No new tests are needed.
The testsuite was manually tested on multiple machines, windows, linux and solaris before submitting.
, +1.

Committed to 2.7.  Thanks, Malcolm, FAILURE: Integrated in Hadoop-trunk-Commit #6967 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6967/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #89 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/89/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
, FAILURE: Integrated in Hadoop-Yarn-trunk #823 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/823/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2021 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2021/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #86 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/86/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #90 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/90/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2040 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2040/])
HADOOP-11403. Avoid using sys_errlist on Solaris, which lacks support for it (Malcolm Kavalsky via Colin P. McCabe) (cmccabe: rev e36ef3b4022a8527cdfa937c4ffc9d46e71cfe28)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c
* hadoop-hdfs-project/hadoop-hdfs/src/contrib/libwebhdfs/src/hdfs_http_client.c
* hadoop-common-project/hadoop-common/src/main/native/src/exception.c
, This patch broke compilation on Windows.  I filed HADOOP-11547 to report it and provided a patch.  Can someone please look at that patch and comment on whether or not it's still fine for Solaris?  Thank you., This patch accidentally introduced a build failure for the libwebhdfs contrib module.  I have submitted a patch to fix it on HDFS-8346.]