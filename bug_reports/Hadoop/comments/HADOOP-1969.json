[Perhaps this should use a static ThreadLocal instead, so that encoders and decoders are reused per thread?, I looked into this and the access to the decoder and encoder is synchronized -- multiple threads share the encoder and decoder, but the access is synchronized.  Not a pretty design, as threads will block to use the encoder or decoder, but also not a bug.]