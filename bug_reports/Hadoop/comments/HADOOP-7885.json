[Partial dup of HDFS-1560? (In the release notes on the issue "Upon startup, the datanode will automatically change the permissions to match the configured value."), this patch removes the mkdir -p , chmod and chown commands on the datanode dir from the hadoop-setup-conf.sh script and letting the dn to create the datanode dir, built hadoop 1.0.0 with this patch and deployed a secure cluster with the above script and the cluster came up successfully. This script also exists in trunk and 23 so we should post the same patch for them as well., +1 for code review.  lgtm., patch for trunk, attaching the right patch for trunk]