[Attaching trivial patch.  The corresponding lower-case conversion in the product code is in {{SecurityUtil#replacePattern}}., Hi Chris, will the output of SecurityUtil.getServerPrincipal always be lower case? I am not sure from a quick look at it., Sorry, you just pointed out that it is. 

+1, For the case covered by this test, the output always will be lower case.  {{SecurityUtil#getServerPrincipal}} calls {{SecurityUtil#replacePattern}}, and that method always calls {{String#toLowerCase}} on the given hostname.

There is another case where the caller passes a {{principalConfig}} that doesn't fit the dynamic config syntax.  In this case, it just returns {{principalConfig}} as is without conversion.  For example, I could hard-code a principal in my config like "cnauroth/MyHost@myrealm".  In this case, the method won't perform a conversion on the hostname.  This is different from the case covered by this unit test though.
, Oops, our messages crossed.  Thanks for the review, Arpit!, {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12575132/HADOOP-9431.1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 tests included appear to have a timeout.{color}

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2356//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2356//console

This message is automatically generated., +1 
Committed. Thanks Chris., Integrated in Hadoop-trunk-Commit #3517 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3517/])
    HADOOP-9431 TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)

     Result = SUCCESS
sradia : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1460181
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java
, Thank you, Sanjay!, Integrated in Hadoop-Yarn-trunk #165 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/165/])
    HADOOP-9431 TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)

     Result = SUCCESS
sradia : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1460181
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java
, Integrated in Hadoop-Hdfs-trunk #1354 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1354/])
    HADOOP-9431 TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)

     Result = FAILURE
sradia : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1460181
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java
, Integrated in Hadoop-Mapreduce-trunk #1382 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1382/])
    HADOOP-9431 TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)

     Result = SUCCESS
sradia : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1460181
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java
, Nice to see HADOOP-8514 finally get fixed. I guess someone can close that one., Hi, [~stevenwillis].  So sorry!  I completely missed that you had already filed HADOOP-8514 for this issue., No problem, I was just going through some old issues I've had an interest in and thought I would re-submit a patch for that one. When my patch no longer applied to trunk cleanly, I realized it had been fixed!]