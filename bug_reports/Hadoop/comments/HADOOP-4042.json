[This sounds reasonable and is what e.g., Ant's scripts do, so there's precedent., I don't know how this would affect performance issues, but on my system 'which java' shows /usr/bin/java, which is a symlink to /etc/alternatives/java, which is a symlink to /usr/lib/jvm/java-6-openjdk/jre/bin/java.
and $JAVA_HOME points directly to /usr/lib/jvm/java-6-openjdk
, Per other jira we only check JAVA_HOME (and java_home on osx)]