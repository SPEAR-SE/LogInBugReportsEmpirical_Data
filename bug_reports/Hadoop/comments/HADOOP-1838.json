[If the blocksize is zero then return the size of the first block as the "blocksize"., I'm upgrading this to blocker since it makes it almost impossible to run map/reduce jobs., I'd much rather have the upgrade set the blocksize to the default block size in the case of single block files, rather leave 0 as a special value. The problem with special values is that they need to be tested for in every single use of the field and are thus much much harder to maintain., Use the default-block-size to be the block size for a file that has only one block., +1, +1

http://issues.apache.org/jira/secure/attachment/12365210/blockSizeZero.patch applied and successfully tested against trunk revision r573383.

Test results:   http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/698/testReport/
Console output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/698/console, I just committed this.]