[| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 27s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 23m 26s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 36m 50s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 22s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 14s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 12s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 12s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  3s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 14m 29s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 17s{color} | {color:green} hadoop-project in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 39s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 55m 19s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:4b8c2b1 |
| JIRA Issue | HADOOP-15856 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12944051/HADOOP-15856-01.patch |
| Optional Tests |  dupname  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  xml  |
| uname | Linux 003a2b230e6d 3.13.0-144-generic #193-Ubuntu SMP Thu Mar 15 17:03:53 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 0bf8a11 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_181 |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/15372/testReport/ |
| Max. process+thread count | 337 (vs. ulimit of 10000) |
| modules | C: hadoop-project U: hadoop-project |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/15372/console |
| Powered by | Apache Yetus 0.8.0   http://yetus.apache.org |


This message was automatically generated.

, Thanx [~vinayrpet] for putting this up.
I guess this the reason for failure of 
org.apache.hadoop.fs.TestHdfsNativeCodeLoader.testNativeCodeLoaded ?, You are right [~ayushtkn].

This will fix {{org.apache.hadoop.fs.TestHdfsNativeCodeLoader}}

The reason for failure ofÂ {{org.apache.hadoop.fs.TestHdfsNativeCodeLoader}} is as follows.
1. Yetus will run a full build (mvn clean install) on root dir after patch is applied WIHTOUT *-Pnative*
2. Just before running HDFS Unit tests it runs the dependent modules WITH *-Pnative" enabled. i.e Yetus will build hadoop-common module. Note that, this time it just runs the incremental build, not the clean build. i.e. only {{mvn install -Pnative -DskipTests ..}} without clean.
3. Before HADOOP-15767, Required JNI headers were created by executing {{javah}} command during "-Pnative" profile itself. But after HADOOP-15767, {{javah}} command invocation is removed, and JNI header files supposed to be generated during compilation of all classes.
4. After HADOOP-15767. JNI headers will get generated only if *-Pnative* is enabled. In above Step#2, since the compilation is incremental, even with *-Pnative*, no JNI headers were generated and Native compilation failed. Also Yetus failed to detect this failure and went ahead with unit test execution without any native files.

With this patch, To generate JNI header files, there is no need of enabling any profile. JNI header files will always gets generated., +1, verified in windows., I have been having this issue for a few weeks on Windows and wasn't able to compile hadoop-common.
This works now with this patch.
+1 on  [^HADOOP-15856-01.patch].

I have been having issues with hadoop-hdfs-native-client for the last few months.
That's still broken but I need to put some time there., FAILURE: Integrated in Jenkins build Hadoop-trunk-Commit #15303 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/15303/])
HADOOP-15856. Trunk build fails to compile native on Windows. (vinayakumarb: rev 0ca50648c2b1a05356ce4b0d5c3a3da5ab3a7d02)
* (edit) hadoop-project/pom.xml
, Thanks [~ayushtkn] [~surendrasingh] and [~elgoiri] for reviews and verification.

Committed to trunk., Sorry for creating the bug. Thanks [~vinayrpet], [~ayushtkn], [~surendrasingh] and [~elgoiri] for investigating and fixing it.]