[A solution is, as suggested in HADOOP-7590 , to create a hadoop-tools-dist module that assemblies the tools in the bin layout and then stitch it in hadoop-dist, A hadoop-tools-dist aggregates other tools JARs and produces the distro layout.

It uses the hadoop-project-dist project as parent and the hadoop-dist as assembly.

The tools JARs end up in the *share/hadoop/tools/lib/* directory of the TAR, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12508133/HADOOP-7907.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/485//console

This message is automatically generated., @Alejandro,
 I tried creating tarballs with the patch from top level, I executed mvn clean package -Pdist -Dtar and I was getting the error below.  I was running the patch on 0.23 branch. Is it because I am using branch-0.23?

{noformat}

ERROR] The build could not read 1 project -> [Help 1]
[ERROR]   
[ERROR]   The project org.apache.hadoop:hadoop-tools-dist:0.24.0-SNAPSHOT (/Users/mahadev/workspace/hadoop-workspace/hadoop-git-0.23/hadoop-tools/hadoop-tools-dist/pom.xml) has 2 errors
[ERROR]     'dependencies.dependency.version' for org.apache.hadoop:hadoop-streaming:jar is missing. @ line 36, column 17
[ERROR]     'dependencies.dependency.version' for org.apache.hadoop:hadoop-archives:jar is missing. @ line 41, column 17
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 

{noformat}, I guess, did not backported/tested in 0.23, Patch for branch-0.23, only difference is that the version number in the hadoop-tools-dist POM is 0.23.1-SNAPSHOT.

tested doing a clean dist, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12509319/HADOOP-7907-0.23.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/492//console

This message is automatically generated., @Alejandro,
 I tried out the patch. The patch includes the jars in the hadoop-dist tarball but what if we are using 3 seperate tarballs for common/hdfs/mr?  How do we install these jars in that case?, Thanks Mahadev. Then you have a 4th TAR, the hadoop-tools TAR., Do we have to copy the jars from this tarball into the already installed packages for either Common/MR?, nop, Alejandro,
 Sorry I meant, if we install the 3 separate tarballs for hadoop common/hdfs/mapred, then how do we make sure this package is installed as well? Do we now have to changes our instructions to say that one more tarball needs to be installed?, AFAIK currently we don't have such instructions, do we? The final (stitched) TAR hadoop-dist includes the tools JARs., @Alejandro,
 We do. The single cluster setup and multi cluster setup has instructions to do that. 
 Here's an example:

http://hadoop.apache.org/common/docs/r0.23.0/hadoop-yarn/hadoop-yarn-site/SingleCluster.html

Is it possible to include the jars as part of hadoop-mapred tarball? What if we move the hadoop tools inside hadoop-mapreduce-project? Would that make it easier? Any issues if we do that?, Thanks for the pointer. BTW, those instructions seem obsolete, there is no need of separate Maven runs nor of symlinks anymore since HADOOP-7642.

Regarding including them in hadoop-mapred tarball, I don't think so as hadoop-archives is not a MR tool., Alejandro,
 Archives is also a mapred tool and implements Tool.java., I cant think of a better way of doing tools management for now. Keeping it out of MR is a good thing but again deployment has an extra step. We can go ahead and commit this for now until our deployment stuff clears out.

+1 for committing the patch as it is., Integrated in Hadoop-Hdfs-trunk-Commit #1579 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1579/])
    HADOOP-7907. hadoop-tools JARs are not part of the distro. (tucu)

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227901
Files : 
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-dist/pom.xml
* /hadoop/common/trunk/hadoop-project/pom.xml
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/trunk/hadoop-tools/pom.xml
, Integrated in Hadoop-Common-trunk-Commit #1506 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1506/])
    HADOOP-7907. hadoop-tools JARs are not part of the distro. (tucu)

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227901
Files : 
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-dist/pom.xml
* /hadoop/common/trunk/hadoop-project/pom.xml
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/trunk/hadoop-tools/pom.xml
, committed to trunk and branch-0.23, Integrated in Hadoop-Common-0.23-Commit #348 (See [https://builds.apache.org/job/Hadoop-Common-0.23-Commit/348/])
    Merge -r 1227900:1227901 from trunk to branch. FIXES: HADOOP-7907

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227905
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-dist/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-tools/hadoop-tools-dist
* /hadoop/common/branches/branch-0.23/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-tools/pom.xml
, Integrated in Hadoop-Hdfs-0.23-Commit #338 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Commit/338/])
    Merge -r 1227900:1227901 from trunk to branch. FIXES: HADOOP-7907

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227905
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-dist/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-tools/hadoop-tools-dist
* /hadoop/common/branches/branch-0.23/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-tools/pom.xml
, Integrated in Hadoop-Mapreduce-0.23-Commit #359 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Commit/359/])
    Merge -r 1227900:1227901 from trunk to branch. FIXES: HADOOP-7907

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227905
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-dist/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-tools/hadoop-tools-dist
* /hadoop/common/branches/branch-0.23/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/branches/branch-0.23/hadoop-tools/pom.xml
, Integrated in Hadoop-Mapreduce-trunk-Commit #1526 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1526/])
    HADOOP-7907. hadoop-tools JARs are not part of the distro. (tucu)

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227901
Files : 
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-dist/pom.xml
* /hadoop/common/trunk/hadoop-project/pom.xml
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/trunk/hadoop-tools/pom.xml
, Integrated in Hadoop-Hdfs-trunk #917 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/917/])
    HADOOP-7907. hadoop-tools JARs are not part of the distro. (tucu)

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227901
Files : 
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-dist/pom.xml
* /hadoop/common/trunk/hadoop-project/pom.xml
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/trunk/hadoop-tools/pom.xml
, Integrated in Hadoop-Mapreduce-trunk #950 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/950/])
    HADOOP-7907. hadoop-tools JARs are not part of the distro. (tucu)

tucu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1227901
Files : 
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-dist/pom.xml
* /hadoop/common/trunk/hadoop-project/pom.xml
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist
* /hadoop/common/trunk/hadoop-tools/hadoop-tools-dist/pom.xml
* /hadoop/common/trunk/hadoop-tools/pom.xml
]