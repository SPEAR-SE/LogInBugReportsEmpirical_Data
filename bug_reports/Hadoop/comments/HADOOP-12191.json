[[~jlowe] thanks for reporting ..will Add synchronize and update the patch soon.., [~jlowe] kindly review the attached patch.., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  17m 29s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   8m  3s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m 16s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 21s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | checkstyle |   1m  6s | There were no new checkstyle issues. |
| {color:red}-1{color} | whitespace |   0m  0s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   1m 35s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   1m 57s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |  22m 43s | Tests passed in hadoop-common. |
| | |  64m  6s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12743760/HADOOP-12191.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle |
| git revision | trunk / fc92d3e |
| whitespace | https://builds.apache.org/job/PreCommit-HADOOP-Build/7164/artifact/patchprocess/whitespace.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/7164/artifact/patchprocess/testrun_hadoop-common.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/7164/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf904.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/7164/console |


This message was automatically generated., +1, committing this shortly., Committed this to trunk, branch-2, and branch-2.7. Thanks [~brahmareddy] for your contribution and thanks [~jlowe] for your reporting!, FAILURE: Integrated in Hadoop-trunk-Commit #8161 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8161/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #256 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/256/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
, FAILURE: Integrated in Hadoop-Yarn-trunk #986 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/986/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2183 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2183/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #244 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/244/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2202 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2202/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
, SUCCESS: Integrated in Hadoop-Mapreduce-trunk-Java8 #254 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/254/])
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula. (ozawa: rev 4084eaf94347042d9b8cb1e86ba831036621dfdd)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/compress/bzip2/Bzip2Factory.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, It would perform better if this method only performed the logic the first time it was called, and cached the result for all subsequent calls, because whether or not the Bzip2 library is available should be the same throughout the lifetime of the application -- no need to figure it out every time.
Also, the catch(Throwable) in this method is kind of scary., Thanks for the comments, Samer!  Since this is already resolved and does fix the stated problem it would be better to file a separate improvement JIRA with these suggestions rather than try to address them here.]