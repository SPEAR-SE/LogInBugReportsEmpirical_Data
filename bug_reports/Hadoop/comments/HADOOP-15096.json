[GitHub user addisonj opened a pull request:

    https://github.com/apache/hadoop/pull/311

    [HADOOP-15096] Don't create user with lastlog

    This fixes a problem where in certain cases, the useradd command can create a very large diff that can blow up the host disk size.
    
    The reason for this is that lastlog is a sparse file, but AUFS under docker apparently doesn't deal with those well and creates a very large file.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/addisonj/hadoop patch-1

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hadoop/pull/311.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #311
    
----
commit f5ffd36e78be66d9b075050f948d8af67cf53b56
Author: Addison Higham <addisonj@gmail.com>
Date:   2017-12-07T06:07:27Z

    [HADOOP-15096] Don't create user with lastlog
    
    This fixes a problem where in certain cases, the useradd command can create a very large diff that can blow up the host disk size.
    
    The reason for this is that lastlog is a sparse file, but AUFS under docker apparently doesn't deal with those well and creates a very large file.

----
]