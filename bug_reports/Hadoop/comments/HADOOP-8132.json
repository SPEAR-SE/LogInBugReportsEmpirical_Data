[simple fix where determination of JAVA_ARCH is moved outside of the native code check., i was able to start 32 and 64bit secure datanodes with this patch, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12516796/HADOOP-8132.branch-1.0.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/656//console

This message is automatically generated., this issue only exists on branch 1 as trunk is not using architecture specific jscv. In branch 1 the architecture is only determined inside the native code check and this patch moves it out to before that check., When HADOOP-8090 is fixed, should this also be changed to /usr/libexec/../libexec/jsvc.x86_64 ?, The platform information is determined using

{code}
JAVA_PLATFORM=`CLASSPATH=${CLASSPATH} ${JAVA} -Xmx32m ${HADOOP_JAVA_PLATFORM_OPTS} org.apache.hadoop.util.PlatformName | sed -e "s/ /_/g"`
{code}

So unless this class returns x86_64 we should not make this change., +1 (will commit it shortly), Committed to branch-1.0 and branch-1.
Thanks, Arpit!]