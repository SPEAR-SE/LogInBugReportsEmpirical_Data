[{color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12576046/HDFS-4652.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:

                  org.apache.hadoop.fs.TestFcHdfsSymlink

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/4166//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/4166//console

This message is automatically generated., The UT test failed seems unrelated.
Attach branch-1 patch as well., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12576072/HDFS-4652-branch1.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/4167//console

This message is automatically generated., The UT failed is a non-related issue as previous Jenkins build with the same failure. Already filed HDFS-4653 to address this., The patches lgtm. +1. Will commit shortly., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12576072/HDFS-4652-branch1.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2401//console

This message is automatically generated., Sorry forgot about the rule to avoid changes across projects. Moved to common, as the patch is for common NetworkTopologyWithNodeGroup, though the test is in hdfs. I think the "unit" test should be in common as well. It'll be great if you can submit a patch for common only., branch-1 changes is acceptable., Thanks Luke for review and comments. I thought unit test should be in common too. But TestNetworkTopology or TestNetworkTopologyWithNodeGroup are all in HDFS project now. Shall we move them to common?, Some of these test are actually more like "integration" tests (especially the ones that use MiniDFSCluster). I suggest that you just move the TestNetworkTopologyWithNodeGroup as it has minimal dependency on hdfs stuff. , Yes. There are minimal dependency on hdfs stuff but could be replaced (DataNodeDescriptor => NodeBase) in test case. Move TestNetworkTopologyWithNodeGroup to common project to stay together with NetworkTopologyWithNodeGroup. We can consider to move TestNetworkTopology to common project too (the same minimal changes)., Some tests in TestNetworkTopology uses MiniDFSCluster, so you'll need to split the test suite into two. Feel free to provide two patches (two jiras as well, one for common one for HDFS) :), Please move the deletion of the TestNetworkTopologyWithNodeGroup from hdfs project to HDFS-4665. , It'll be great if you can backport the trunk patch to branch-1 (only needs one patch including the move) as well., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12576765/HADOOP-9451.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:

                  org.apache.hadoop.fs.TestFcHdfsSymlink

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2404//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2404//console

This message is automatically generated., Hi Luke, Thanks for comments. I update the patch to contains common part only and put removing TestNetworkTopologyWithNodeGroup in HDFS part in HDFS-4665. Will deliver a branch-1 patch soon. , {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12576884/HADOOP-9451-v2.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2408//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2408//console

This message is automatically generated., Attach branch-1 patch., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12576892/HADOOP-9451-branch-1.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2409//console

This message is automatically generated., +1 on the latest patches. Committed to trunk, branch-1 and 1.2. Thanks Junping!, Integrated in Hadoop-trunk-Commit #3561 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3561/])
    HADOOP-9451. Fault single-layer config if node group topology is enabled. (Junping Du via llu) (Revision 1464301)

     Result = SUCCESS
llu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464301
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/NetworkTopologyWithNodeGroup.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/net/TestNetworkTopologyWithNodeGroup.java
, Integrated in Hadoop-Yarn-trunk #174 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/174/])
    HADOOP-9451. Fault single-layer config if node group topology is enabled. (Junping Du via llu) (Revision 1464301)

     Result = SUCCESS
llu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464301
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/NetworkTopologyWithNodeGroup.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/net/TestNetworkTopologyWithNodeGroup.java
, Integrated in Hadoop-Hdfs-trunk #1363 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1363/])
    HADOOP-9451. Fault single-layer config if node group topology is enabled. (Junping Du via llu) (Revision 1464301)

     Result = FAILURE
llu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464301
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/NetworkTopologyWithNodeGroup.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/net/TestNetworkTopologyWithNodeGroup.java
, Integrated in Hadoop-Mapreduce-trunk #1390 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1390/])
    HADOOP-9451. Fault single-layer config if node group topology is enabled. (Junping Du via llu) (Revision 1464301)

     Result = SUCCESS
llu : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464301
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/NetworkTopologyWithNodeGroup.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/net/TestNetworkTopologyWithNodeGroup.java
, Closed upon release of Hadoop 1.2.0., [~vicaya] This needs to be merge to branch-2.1.0 along with other NodeGroup topology code., Committed to branch-2 and 2.1-beta as well. Thanks for the note, Suresh!]