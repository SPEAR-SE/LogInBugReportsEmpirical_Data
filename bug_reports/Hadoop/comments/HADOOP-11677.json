[attaching the patch with the change.
Please review if the change make sense., Please review the patch, \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  14m 34s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:red}-1{color} | javac |   0m 35s | The patch appears to cause the build to fail. |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12729185/HADOOP-11677.1.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle |
| git revision | trunk / 8f82970 |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6214/console |


This message was automatically generated., Added missing import.

Could not find any test class for HTTPServer2. I will try to add tests for this class, \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  14m 34s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | javac |   7m 26s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |   9m 35s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | checkstyle |   5m 30s | There were no new checkstyle issues. |
| {color:green}+1{color} | install |   1m 34s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 32s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   1m 41s | The patch does not introduce any new Findbugs (version 2.0.3) warnings. |
| {color:green}+1{color} | common tests |  22m 55s | Tests passed in hadoop-common. |
| | |  64m 15s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12729379/HADOOP-11677-2.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle |
| git revision | trunk / aa22450 |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6224/artifact/patchprocess/testrun_hadoop-common.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6224/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6224/console |


This message was automatically generated., I think it is a bug as the spnego filter might set cookies for both the logs and static context.

+1. Committing., I've committed the patch to trunk and branch-2. Thanks [~nijel] for the contribution., FAILURE: Integrated in Hadoop-trunk-Commit #8856 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8856/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #700 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/700/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2641 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2641/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk #1435 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1435/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
, SUCCESS: Integrated in Hadoop-Yarn-trunk-Java8 #711 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/711/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2568 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2568/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
, ABORTED: Integrated in Hadoop-Hdfs-trunk-Java8 #630 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/630/])
HADOOP-11677. Add cookie flags for logs and static contexts. Contributed (wheat9: rev 611aa77f750986190a94ee88d1148a05f66513d0)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java
]