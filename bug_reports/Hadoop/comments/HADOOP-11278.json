[It seems to be related to HADOOP-11025., {{--config}} option works for hadoop-daemon.sh in branch-2., I could not reproduce the problem in trunk. Could you add more description [~brandonli]?, Thanks [~iwasakims] for looking into it. I tried "hadoop-daemon.sh --config /some/dir datanode" and the datanode is started with the conf dir in $HADOOP_CONF_DIR but not "/some/dir"., I think the command should be {{hadoop-daemon.sh --config /some/dir start datanode}}. You need "start" before datanode. Are you using trunk?, This is an environment setting issues. Thanks for the help, Masatake., I realize this is closed, but is there an error condition we should be checking for to help prevent this issue in the future?, Multiple scripts call each other a couple times and I had to add debug in a few places in the scripts to find the problem: the hadoop-env.sh file in the new conf directory has env variable still pointing to default hadoop home., Yeah, --debug isn't passed through and it probably should be.  I'm sure that would have helped tremendously!]