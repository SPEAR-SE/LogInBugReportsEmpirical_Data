[ It's hard to write unit tests for ChukwaAgent, because there's no way to suppress the default configuration mechanism and pass the Agent a hardcoded test configuration.  I think the fix is to create another constructor, that takes a Configuration explicitly instead of reading a file.  This will make it easy to test the configuration and startup mechanisms. Those tests should probably appeaer with this JIRA.

And as long as we're fixing the configuration mechanism, we shouldn't read both initial_adaptors and a checkpoint.  Initial_adaptors should only be used if there isn't a checkpoint.
, patch to fix issue.  A previous patch clobbered case-sensitivity for Add commands. This patch restores that.  (It's a six character fix, included here to make the test work properly.), Chukwa Configuration is much easier to use with this patch.  +1, I committed this. Thanks, Ari]