[This patch fixes the validation problem.

I also changed the junit test TestText so it reports failure when any exception occurs.

Since issue 302 is closed, I included the patch to Bryan's problem to this patch. So we do not need to reopen issue 302.

Thank Bryan for being the first one that uses Text. Let me know if you have any other problem.

Hairong

, I committed this.  I reverted your previous patch, then applied this one.  Thanks!]