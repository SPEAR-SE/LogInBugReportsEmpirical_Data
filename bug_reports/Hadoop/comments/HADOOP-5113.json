[Example for 'lstrip' illustration :

Suppose there is file on HDFS :

> filename='/user/shum/test.txt'

we need to strip off the '/user' from filename ,

> filename=filename.lstrip('/user')

if we print the above statement , the output would be :

> hum/test.txt

instead of

> shum/test.txt

here lstrip method has strip off value and produce the incorrect output .

So we need to use len method for correct strip off the value.

> filename=filename[len('/user'):]

output of above statement would be :

> /shum/test.txt

---
, Patch is attached that will remove the lstrip method and use len method on value passed to '-l' options or on '/user' (set as default ).

Comments ?

---, Sigh !  (for the issue)

+1 for the fix.

, test-patch results:

     [exec] -1 overall.
     [exec]
     [exec]     +1 @author.  The patch does not contain any @author tags.
     [exec]
     [exec]     -1 tests included.  The patch doesn't appear to include any new or modified tests.
     [exec]                         Please justify why no tests are needed for this patch.
     [exec]
     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.
     [exec]
     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.
     [exec]
     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.
     [exec]
     [exec]     +1 Eclipse classpath. The patch retains Eclipse classpath integrity.

HOD tests are run manually. And this test has been independently verified.
, The patch has been successfully applied on Hadoop 0.18 , 0.19 and 0.20 branches .

---, I just committed this. Thanks, Peeyush !, Integrated in Hadoop-trunk #756 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/756/])
    , Example for earlier versions, not to be committed.]