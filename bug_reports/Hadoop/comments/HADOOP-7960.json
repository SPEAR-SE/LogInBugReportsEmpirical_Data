[This was done in HADOOP-5203., Owen is correct that HADOOP-5203 is a solution for this issue.  However, it was committed only to trunk, after the 0.20 branch point.  Therefore, v0.21 and higher have it, but v0.20 and its derivatives, including v1.0, does not.  The fix needs to be ported to branch-1.

I am reopening and re-titling this jira for the port work, since HADOOP-5203 is closed., This is almost identical to Bill Au's version for v0.20.1, in HADOOP-5203, so thanks Bill!

Patch is already in trunk, so no Submit Patch., +1 verified the patch by deploying hadoop nodes out of different build timestamps., Committed to 1.1.0. Thanks to Bill Au and his predecessors in HADOOP-5203!, Needed in 1.0.1.  Merged to 1.0.1 and changed 1.1.0 Fixed Version and Target Version., Closed upon release 1.0.1.]