[Patch attached for code review.  Thank you., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12547407/HADOOP-8871-branch-1-win.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/1551//console

This message is automatically generated., +1, the patch looks good to me

nitpicking: remove the space after " " in StringUtils.join(" " , cmd) , Thanks, Brandon.  I've uploaded a new diff with the space removed., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12547425/HADOOP-8871-branch-1-win.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/1552//console

This message is automatically generated., Chris, do not make the patch available for non trunk patches. When you make patch available, Jenkins picks up the patch and tries to apply against trunk and fails., I committed the patch. Thank you Chris.]