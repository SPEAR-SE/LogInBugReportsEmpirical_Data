[{code}
8]] INFO  DataNode.clienttrace (BlockSender.java:sendBlock(695)) - src: /127.0.0.1:58247, dest: /127.0.0.1:58308, bytes: 5439, op: HDFS_READ, cliID: DFSClient_NONMAPREDUCE_-539248485_697, offset: 0, srvID: DS-502087106-10.11.3.237-58247-1375813762260, blockid: BP-384257351-10.11.3.237-1375813760919:blk_1073741832_1008, duration: 293000
2013-08-06 11:29:30,802 [IPC Server handler 1 on 58224] INFO  localizer.LocalizedResource (LocalizedResource.java:handle(196)) - Resource hdfs://localhost:58246/user/stevel/.hoya/cluster/TestLiveRegionService/generated/hbase-env.sh transitioned from DOWNLOADING to LOCALIZED
2013-08-06 11:29:30,802 [AsyncDispatcher event handler] INFO  container.Container (ContainerImpl.java:handle(860)) - Container container_1375813755119_0001_01_000002 transitioned from LOCALIZING to LOCALIZED
2013-08-06 11:29:30,921 [AsyncDispatcher event handler] INFO  container.Container (ContainerImpl.java:handle(860)) - Container container_1375813755119_0001_01_000002 transitioned from LOCALIZED to RUNNING
2013-08-06 11:29:31,140 [ContainersLauncher #0] INFO  nodemanager.DefaultContainerExecutor (DefaultContainerExecutor.java:launchContainer(189)) - launchContainer: [nice, -n, 0, bash, -c, /Users/stevel/Projects/Hortonworks/Projects/hoya/target/TestLiveRegionService/TestLiveRegionService-localDir-nm-0_0/usercache/stevel/appcache/application_1375813755119_0001/container_1375813755119_0001_01_000002/default_container_executor.sh]
2013-08-06 11:29:31,169 [ProcessThread(sid:0 cport:-1):] INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest(627)) - Got user-level KeeperException when processing sessionid:0x14054e3f67f0001 type:delete cxid:0x13 zxid:0xc txntype:-1 reqpath:n/a Error Path:/yarnapps_hoya_stevel_TestLiveRegionService/backup-masters/10.11.3.237,58296,1375813768541 Error:KeeperErrorCode = NoNode for /yarnapps_hoya_stevel_TestLiveRegionService/backup-masters/10.11.3.237,58296,1375813768541
2013-08-06 11:29:31,713 [Socket Reader #1 for port 58246] INFO  ipc.Server (Server.java:doRead(800)) - IPC Server listener on 58246: readAndProcess from client 127.0.0.1 threw exception [java.lang.NullPointerException]
java.lang.NullPointerException
	at org.apache.hadoop.ipc.protobuf.RpcHeaderProtos$RpcResponseHeaderProto$Builder.setErrorMsg(RpcHeaderProtos.java:1843)
	at org.apache.hadoop.ipc.Server.setupResponse(Server.java:2330)
	at org.apache.hadoop.ipc.Server.access$2900(Server.java:121)
	at org.apache.hadoop.ipc.Server$Connection.doSaslReply(Server.java:1430)
	at org.apache.hadoop.ipc.Server$Connection.initializeAuthContext(Server.java:1548)
	at org.apache.hadoop.ipc.Server$Connection.readAndProcess(Server.java:1507)
	at org.apache.hadoop.ipc.Server$Listener.doRead(Server.java:791)
	at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:590)
	at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:565)
2013-08-06 11:29:31,729 [Socket Reader #1 for port 58246] INFO  ipc.Server (Server.java:doRead(800)) - IPC Server listener on 58246: readAndProcess from client 127.0.0.1 threw exception [java.lang.NullPointerException]
java.lang.NullPointerException
	at org.apache.hadoop.ipc.protobuf.RpcHeaderProtos$RpcResponseHeaderProto$Builder.setErrorMsg(RpcHeaderProtos.java:1843)
	at org.apache.hadoop.ipc.Server.setupResponse(Server.java:2330)
	at org.apache.hadoop.ipc.Server.access$2900(Server.java:121)
	at org.apache.hadoop.ipc.Server$Connection.doSaslReply(Server.java:1430)
	at org.apache.hadoop.ipc.Server$Connection.initializeAuthContext(Server.java:1548)
	at org.apache.hadoop.ipc.Server$Connection.readAndProcess(Server.java:1507)
	at org.apache.hadoop.ipc.Server$Listener.doRead(Server.java:791)
	at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:590)
	at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:565)
2013-08-06 11:29:32,070 [ProcessThread(sid:0 cport:-1):] INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(476)) - Processed session termination for sessionid: 0x14054e3f67f0001
{code}, Looking up the stack, it's in
{code}
    
    private void doSaslReply(Exception ioe) throws IOException {
      setupResponse(authFailedResponse, authFailedCall,
          RpcStatusProto.FATAL, RpcErrorCodeProto.FATAL_UNAUTHORIZED,
          null, ioe.getClass().getName(), ioe.getLocalizedMessage());
      responder.doRespond(authFailedCall);
    }
    
{code}

This code assumes that the {{ioe.getLocalizedMessage()}} always returns a non-null string. Some exceptions do return null. For a robust response, {{ioe.toString()}} should be used., Patching my local build to fix this shows that the root cause is that {{IpcException}} caches its error string locally, so {{getMessage()}} returns null. The base class toString() falls back to the exception type
{code}
2013-08-06 11:40:18,642 [Socket Reader #1 for port 60624] INFO  ipc.Server (Server.java:doRead(800)) - IPC Server listener on 60624: readAndProcess from client 127.0.0.1 threw exception [org.apache.hadoop.ipc.IpcException]
org.apache.hadoop.ipc.IpcException
	at org.apache.hadoop.ipc.Server$Connection.initializeAuthContext(Server.java:1547)
	at org.apache.hadoop.ipc.Server$Connection.readAndProcess(Server.java:1507)
	at org.apache.hadoop.ipc.Server$Listener.doRead(Server.java:791)
	at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:590)
	at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:565)
{code}, sanjay said you are the one to look at this, This is a patch that
# uses toString for a near-perfect guarantee of non-null exception messages
# fixes {{IPCException}} to store the message in the superclass, not locally

change #2 removes a public field {{errMsg}} from the exception -there are no accessors of this in the Hadoop code, indeed, {{IPCException}} is only created in one place, {{doSaslReply()}}.

No tests -this is happening in a YARN app, & don't know enough about SASL to write a test for this., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12596401/HADOOP-9844-001.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2936//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2936//console

This message is automatically generated., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12596401/HADOOP-9844-001.patch
  against trunk revision 82707b4.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 65 new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5207//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5207//artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5207//console

This message is automatically generated., I recently ran into another case that's similar to this.  Stack trace on the server:

{noformat}
java.lang.NullPointerException
        at org.apache.hadoop.ipc.protobuf.RpcHeaderProtos$RpcResponseHeaderProto$Builder.setErrorMsg(RpcHeaderProtos.java:2903)
        at org.apache.hadoop.ipc.Server.setupResponse(Server.java:2339)
        at org.apache.hadoop.ipc.Server.access$2700(Server.java:130)
        at org.apache.hadoop.ipc.Server$Connection.processOneRpc(Server.java:1802)
        at org.apache.hadoop.ipc.Server$Connection.readAndProcess(Server.java:1555)
        at org.apache.hadoop.ipc.Server$Listener.doRead(Server.java:787)
        at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:661)
        at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:632)
{noformat}

Yet another case where getMessage() on an exception must be null.  Unfortunately I don't think the proposed patch will address this particular case.  I think we need the original proposed fix and also some null message protection in setupReponse in case we just don't have an error message for some reason., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12596401/HADOOP-9844-001.patch
  against trunk revision a64dd3d.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5747//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5747//console

This message is automatically generated., Thanks Steve for reporting the critical issue. +1 for Jason's suggestion. It's better to switch at following line in setupReponse. We should also update javadoc that error message cannot be null.

{code}
      headerBuilder.setErrorMsg(error);
{code}, s/cannot be null/can be null/, Jason, NPE is the reference example of why to use {{toString()}} over {{getMessage()}}; it relies on {{Throwable.toString()}} to include the base classname alongside any message (here, null)

My patch as written in 2013 will catch it., Actually there's one case where it may be null: someone overrides Throwable.toString(), doesn't call super.toString() & generates a null string. Or even worse: NPEs.

Maybe we need some util method, {{toString(Throwable)}} that handles both situations, so no matter what happens, some string, even just the classname of the exception, makes it back. 
{code}
String toString(Throwable t) {
 try {
   String ts = t.toString();
   return (ts != null && !ts.isEmpty()) ? ts : t.getClass().getName() ;
  } catch (Throwable t2) {
   log.warn("when stringifying {}", t, t2);
  return t.getClass().getName();
}
{code}, bq. My patch as written in 2013 will catch it.

I don't believe it will because the patch only makes the toString change in getSaslReply.  The stacktrace I posted earlier shows the error message is coming from getMessage in processOneRpc.

I'm all for changing the setupResponse callers to provide a non-null error message, but I also believe it is prudent to have setupResponse better protect itself from null error messages.  As the code evolves I suspect others may make the same kind of mistakes when calling setupResponse., GitHub user steveloughran opened a pull request:

    https://github.com/apache/hadoop/pull/55

    HADOOP-9844 NPE on sasl

    existing patch rebased to trunk

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/steveloughran/hadoop stevel/HADOOP-9844-NPE-on-exception-reporting

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hadoop/pull/55.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #55
    
----
commit b39c1105696a83e05013b7a1e538b37d624c8274
Author: Steve Loughran <stevel@hortonworks.com>
Date:   2015-11-22T18:24:48Z

    HADOOP-9844 NPE when trying to create an error message response of RPC

----
, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red} 0m 0s {color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 7m 49s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 49s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 9m 20s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 16s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 6s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 13s {color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 1m 57s {color} | {color:red} hadoop-common-project/hadoop-common in trunk has 1 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 58s {color} | {color:green} trunk passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 8s {color} | {color:green} trunk passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 1m 39s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 8m 29s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 8m 29s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 9m 12s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 9m 12s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 16s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 1m 3s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 2m 4s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 55s {color} | {color:green} the patch passed with JDK v1.8.0_66 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 5s {color} | {color:green} the patch passed with JDK v1.7.0_85 {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 8m 14s {color} | {color:red} hadoop-common in the patch failed with JDK v1.8.0_66. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 8m 6s {color} | {color:red} hadoop-common in the patch failed with JDK v1.7.0_85. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 74m 25s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| JDK v1.8.0_66 Failed junit tests | hadoop.fs.permission.TestFsPermission |
|   | hadoop.io.compress.TestCompressorDecompressor |
|   | hadoop.ha.TestZKFailoverController |
| JDK v1.8.0_66 Timed out junit tests | org.apache.hadoop.io.compress.lz4.TestLz4CompressorDecompressor |
| JDK v1.7.0_85 Failed junit tests | hadoop.fs.permission.TestFsPermission |
|   | hadoop.io.compress.TestCompressorDecompressor |
| JDK v1.7.0_85 Timed out junit tests | org.apache.hadoop.io.compress.lz4.TestLz4CompressorDecompressor |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:0ca8df7 |
| JIRA Issue | HADOOP-9844 |
| GITHUB PR | https://github.com/apache/hadoop/pull/55 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |
| uname | Linux 2c5333c2e8bd 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 001ecf9 |
| findbugs | v3.0.0 |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_66.txt |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_85.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.8.0_66.txt https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common-jdk1.7.0_85.txt |
| JDK v1.7.0_85  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/testReport/ |
| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |
| Max memory used | 75MB |
| Powered by | Apache Yetus   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/console |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/8136/console |


This message was automatically generated.

, Thanks for rebasing the patch, Steve!  However I believe my previous comment about the use of getMessage in the processOneRpc call of setupResponse still applies.  I think we should fix that as well if we're addressing the same issue in the SASL methods., I agree, just catching up with all my old patches & moving to github pull request based submission, Reviewing the stack traces and causes, {{setupResponse()}} assumes that on an RPC failure it has a non-null message. {{ doSaslReply(Message message)}} doesn't always do this .. it should set things up. There's also another place calling IOE.getMessage() for the message, something that should fall back to IOE.toString().

I'll do that and add a final sanity check in {{setupResponse()}} which sets the error to "error" if nothing else. , ..pushed out new PR, commit #f04ae77015c

# checks for IOE.getMessage() being null, falling back to IOE.toString()
# final check in {{setupResponse()}} for null error cause or text, and insertion of warning notes. The previous fix should catch it, but this extra section ensures that the response fields are never null, HI [~steve_l],

Thanks for your work here. 

The only patch attached to this issue I see now is rev 001 which was uploaded on 06/Aug/2013. Based on your comment
https://issues.apache.org/jira/browse/HADOOP-9844?focusedCommentId=15089552&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15089552

you seem to have uploaded a new rev, maybe you forgot to upload one after making the comment?

Thanks.
, Patch 002, rebased to trunk

please can someone review this before its third birthday, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 12m 20s{color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 15s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 48s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 55s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 17s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 46s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 38s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 44s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 44s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} hadoop-common-project/hadoop-common: The patch generated 0 new + 196 unchanged - 1 fixed = 196 total (was 197) {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 51s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 12s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 28s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 46s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  7m 25s{color} | {color:green} hadoop-common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 22s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 50m 17s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:9560f25 |
| JIRA Issue | HADOOP-9844 |
| GITHUB PR | https://github.com/apache/hadoop/pull/55 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |
| uname | Linux c30bf85546b4 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / fe20494 |
| Default Java | 1.8.0_91 |
| findbugs | v3.0.0 |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/10024/testReport/ |
| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/10024/console |
| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, {code}-      headerBuilder.setExceptionClassName(errorClass);
-      headerBuilder.setErrorMsg(error);
+      headerBuilder.setExceptionClassName(errorClass != null
+          ? errorClass : "RPC failure with no error provided");
+      headerBuilder.setErrorMsg(error != null ? error : "");{code}
In current uses, {{errorClass}} can be null only if response is SUCCESS. Even though its null, {{Client.java#receiveRpcResponse()}} handled this case.
So instead of setting with custom string, need not set anything(not even null for both errorClass and errorMsg)
Like below,
{code}
     } else { // Rpc Failure
-      headerBuilder.setExceptionClassName(errorClass);
-      headerBuilder.setErrorMsg(error);
-      headerBuilder.setErrorDetail(erCode);
+      if (errorClass != null) {
+        headerBuilder.setExceptionClassName(errorClass);
+      }
+      if (error != null) {
+        headerBuilder.setErrorMsg(error);
+      }
+      if (erCode != null) {
+        headerBuilder.setErrorDetail(erCode);
+      }
       RpcResponseHeaderProto header = headerBuilder.build();
{code}

+1 once fixed, I've just updated this; most of the changes are obsolete and cut. the main thing that's needed is just to make sure that in a couple of places, Exception.toString() is used to guarantee there si always a meaningful exception text in the logs/further up the stack chain, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 19s{color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 15m 30s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 16m 47s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 42s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 16s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 20s{color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 28s{color} | {color:red} hadoop-common-project/hadoop-common in trunk has 17 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 49s{color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 12s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 28s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red}  0m 28s{color} | {color:red} root in the patch failed. {color} |
| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 14s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 0 unchanged - 205 fixed = 1 total (was 205) {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 10s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 12s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 11s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 12s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 19s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 40m 58s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:0ac17dc |
| JIRA Issue | HADOOP-9844 |
| GITHUB PR | https://github.com/apache/hadoop/pull/55 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |
| uname | Linux aafc4c03479e 3.13.0-106-generic #153-Ubuntu SMP Tue Dec 6 15:44:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 475f933 |
| Default Java | 1.8.0_121 |
| findbugs | v3.1.0-RC1 |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/branch-findbugs-hadoop-common-project_hadoop-common-warnings.html |
| mvninstall | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-mvninstall-hadoop-common-project_hadoop-common.txt |
| compile | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-compile-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-mvnsite-hadoop-common-project_hadoop-common.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-findbugs-hadoop-common-project_hadoop-common.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-javadoc-hadoop-common-project_hadoop-common.txt |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/testReport/ |
| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/12182/console |
| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, Is this still on target for 2.9.0 ? If not, can we we push this out to the next major release ?, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 27s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 18m 32s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 17m 12s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 38s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 14s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 58s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 28s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 54s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 30s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red}  0m 30s{color} | {color:red} root in the patch failed. {color} |
| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 17s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 0 unchanged - 203 fixed = 1 total (was 203) {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 14s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  0m 29s{color} | {color:red} patch has errors when building and testing our client artifacts. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 14s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 53m 23s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:71bbb86 |
| JIRA Issue | HADOOP-9844 |
| GITHUB PR | https://github.com/apache/hadoop/pull/55 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |
| uname | Linux a58fb5eea0a2 3.13.0-119-generic #166-Ubuntu SMP Wed May 3 12:18:55 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 373d0a5 |
| Default Java | 1.8.0_144 |
| findbugs | v3.1.0-RC1 |
| mvninstall | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-mvninstall-hadoop-common-project_hadoop-common.txt |
| compile | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-compile-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-mvnsite-hadoop-common-project_hadoop-common.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-findbugs-hadoop-common-project_hadoop-common.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-javadoc-hadoop-common-project_hadoop-common.txt |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/testReport/ |
| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/13432/console |
| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, [~stevel@apache.org]/[~jlowe], do you intend to get this for 2.9.0 as patch is available? , Patch looks good to me.  Kicking Jenkins again since the last few runs were sort of a mess, and I don't believe it was due to this patch., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 13s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 13m 10s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 14m 34s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 38s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  2s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 23s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 26s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 50s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 12s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 28s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red}  0m 28s{color} | {color:red} root in the patch failed. {color} |
| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 14s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 0 unchanged - 203 fixed = 1 total (was 203) {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 14s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  0m 24s{color} | {color:red} patch has errors when building and testing our client artifacts. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 12s{color} | {color:red} hadoop-common in the patch failed. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 13s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 13s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 44m 16s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:3d04c00 |
| JIRA Issue | HADOOP-9844 |
| GITHUB PR | https://github.com/apache/hadoop/pull/55 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |
| uname | Linux 7451f6c3586a 3.13.0-117-generic #164-Ubuntu SMP Fri Apr 7 11:05:26 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 075358e |
| Default Java | 1.8.0_144 |
| findbugs | v3.1.0-RC1 |
| mvninstall | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-mvninstall-hadoop-common-project_hadoop-common.txt |
| compile | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-compile-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-mvnsite-hadoop-common-project_hadoop-common.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-findbugs-hadoop-common-project_hadoop-common.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-javadoc-hadoop-common-project_hadoop-common.txt |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/testReport/ |
| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/13495/console |
| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, Whoops, I was totally wrong about that.  The Jenkins report is a mess because the patch doesn't build.  Attaching an updated patch that cleans up the extra parenthesis and makes it build. , | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 15s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 27s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 15m 11s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 36s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  4s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m  5s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 40s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 52s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 14s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 32s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red}  0m 32s{color} | {color:red} root in the patch failed. {color} |
| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 16s{color} | {color:orange} hadoop-common-project/hadoop-common: The patch generated 1 new + 0 unchanged - 203 fixed = 1 total (was 203) {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 16s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  0m 26s{color} | {color:red} patch has errors when building and testing our client artifacts. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 14s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 12s{color} | {color:red} hadoop-common in the patch failed. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 15s{color} | {color:red} hadoop-common in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 17s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 46m 25s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:3d04c00 |
| JIRA Issue | HADOOP-9844 |
| GITHUB PR | https://github.com/apache/hadoop/pull/55 |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |
| uname | Linux e5f3b9a0a44f 3.13.0-117-generic #164-Ubuntu SMP Fri Apr 7 11:05:26 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / e46d5bb |
| Default Java | 1.8.0_144 |
| findbugs | v3.1.0-RC1 |
| mvninstall | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-mvninstall-hadoop-common-project_hadoop-common.txt |
| compile | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-compile-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/diff-checkstyle-hadoop-common-project_hadoop-common.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-mvnsite-hadoop-common-project_hadoop-common.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-findbugs-hadoop-common-project_hadoop-common.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-javadoc-hadoop-common-project_hadoop-common.txt |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/artifact/patchprocess/patch-unit-hadoop-common-project_hadoop-common.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/testReport/ |
| modules | C: hadoop-common-project/hadoop-common U: hadoop-common-project/hadoop-common |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/13497/console |
| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, Yetus apparently always prefers to grab the pull request even if the patch file attached to the JIRA is newer.  [~stevel@apache.org] could you update the pull request when you get a chance?, done, Trying to rekick Yetus with updated pull request.]