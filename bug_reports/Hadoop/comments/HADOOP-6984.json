[+1, Collapsed CompressionTypeOption and CompressionCodecOption into a single Option type., I really like the second iteration of the patch, but maybe we could have compress(kind) and compress(kind, codec) instead of using compress(kind, null) for the default codec. The implementation could be the same., *nod* That does look cleaner., Merge with trunk, This looks great. It passes unit tests.

I just committed this. Thanks, Chris!, Integrated in Hadoop-Common-trunk-Commit #395 (See [https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/395/])
    , Integrated in Hadoop-Common-trunk #489 (See [https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/489/])
    ]