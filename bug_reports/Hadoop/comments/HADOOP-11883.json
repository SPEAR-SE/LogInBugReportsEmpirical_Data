[Saw this post that may be relevant to fixing this issue. Seems like we need to teach maven eclipse plugin to know about the checkstyle configuration.

https://jgonian.wordpress.com/2010/12/12/maven-checkstyle-and-eclipse/, We also need to update our maven checkstyle plug-in to something modern. See HADOOP-11778., [~aw], this plugin tries to follow the blog post above. I do make a deviation in that the method posted in the blog runs checkstyle during mvn install. This adds one minute to the build time. Instead I take another approach where I build the checkstyle rules resources from the hadoop-build-tools jar and unpack that resource jar into the appropriate output directory. I have also not added the checkstyle project natures to the maven-eclipse-plugin. Eclipse add-ons like eclipse-cs trigger off of the project natures as to whether checkstyle should be run as part of the build process. If not, then you can just run checkstyle on demand. I think this meets our process as of today., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  14m 37s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:red}-1{color} | javac |   0m 16s | The patch appears to cause the build to fail. |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12730007/HADOOP-11883.1.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / a319771 |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6457/console |


This message was automatically generated., Pushing the unpack goal to beyond the test phase to not invoke this execution. Eclipse setup is still identical to the below instructions.

http://wiki.apache.org/hadoop/EclipseEnvironment

{code}
$ mvn install -DskipTests
$ mvn eclipse:eclipse -DdownloadSources=true -DdownloadJavadocs=true
{code}

Checkstyle is not invoke at build time since I haven't enabled that (by adding the project natures to the configuration). Checkstyle is now invoked in eclipse by installing checkstyle-cs and running checkstyle (right-click Checkstye->Check Code with Checkstyle) either per file or per package. The checkstyle errors and warnings are clickable and link to the source. Once this is in, it removes one more impediment for providing tools to the contributor and should help the reviewer focus on the patch beyond just formatting., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  14m 39s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:red}-1{color} | javac |   7m 30s | The applied patch generated  129  additional warning messages. |
| {color:green}+1{color} | javadoc |   9m 39s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 33s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 15s | Pre-build of native portion |
| {color:green}+1{color} | build tests |   0m 11s | Tests passed in hadoop-build-tools. |
| {color:green}+1{color} | hdfs tests |   3m 34s | Tests passed in hadoop-hdfs-httpfs. |
| | |  41m 20s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12730099/HADOOP-11883.2.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / a319771 |
| javac | https://builds.apache.org/job/PreCommit-HADOOP-Build/6471/artifact/patchprocess/diffJavacWarnings.txt |
| hadoop-build-tools test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6471/artifact/patchprocess/testrun_hadoop-build-tools.txt |
| hadoop-hdfs-httpfs test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6471/artifact/patchprocess/testrun_hadoop-hdfs-httpfs.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6471/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf902.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6471/console |


This message was automatically generated., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  14m 31s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   7m 30s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |   9m 37s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 33s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | native |   3m 14s | Pre-build of native portion |
| {color:green}+1{color} | build tests |   0m 12s | Tests passed in hadoop-build-tools. |
| {color:green}+1{color} | hdfs tests |   3m 34s | Tests passed in hadoop-hdfs-httpfs. |
| | |  41m 11s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12730115/HADOOP-11883.3.patch |
| Optional Tests | javadoc javac unit |
| git revision | trunk / a319771 |
| hadoop-build-tools test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6472/artifact/patchprocess/testrun_hadoop-build-tools.txt |
| hadoop-hdfs-httpfs test log | https://builds.apache.org/job/PreCommit-HADOOP-Build/6472/artifact/patchprocess/testrun_hadoop-hdfs-httpfs.txt |
| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6472/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf902.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6472/console |


This message was automatically generated., [~aw], I think this patch is in a good state for review. Will you have time to look at this change?, [~jira.shegalov], [~cnauroth], do either of you use eclipse that could review this patch?, I use IntelliJ. , Sorry, emacs here.  The patch makes sense to me, but I'm probably not a good candidate to test it.  Maybe ask common-dev@?  I'm sure we can find someone easily., I heard [~sjlee0] is an Eclipse user :), The legend has it. :) I do use eclipse, but haven't used the checkstyle plugin much. I do see the Apache Hadoop rules are enabled at the project level when I run this patch, and the changes seem to make sense. Can't review this much beyond that..., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 5s {color} | {color:blue} docker + precommit patch detected. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red} 0m 0s {color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 8m 36s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 14s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 14s {color} | {color:green} trunk passed with JDK v1.8.0_60 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 14s {color} | {color:green} trunk passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 34s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} mvneclipse {color} | {color:red} 0m 13s {color} | {color:red} hadoop-hdfs-httpfs in the patch failed. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 1s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 13s {color} | {color:green} the patch passed with JDK v1.8.0_60 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 14s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 3m 7s {color} | {color:green} hadoop-hdfs-httpfs in the patch passed with JDK v1.8.0_60. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 3m 17s {color} | {color:green} hadoop-hdfs-httpfs in the patch passed with JDK v1.7.0_79. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 22s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 19m 43s {color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=1.7.1 Server=1.7.1 Image:test-patch-base-hadoop-date2015-10-21 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12767875/HADOOP-11883.4.patch |
| JIRA Issue | HADOOP-11883 |
| Optional Tests |  asflicense  javac  javadoc  mvninstall  unit  xml  |
| uname | Linux 172d8852f418 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HADOOP-Build/patchprocess/apache-yetus-28a3a3d/dev-support/personality/hadoop.sh |
| git revision | trunk / 59ce780 |
| Default Java | 1.7.0_79 |
| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_60 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_79 |
| mvneclipse | https://builds.apache.org/job/PreCommit-HADOOP-Build/7907/artifact/patchprocess/patch-mvneclipse-hadoop-hdfs-project_hadoop-hdfs-httpfs.txt |
| JDK v1.7.0_79  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/7907/testReport/ |
| Max memory used | 229MB |
| Powered by | Apache Yetus   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/7907/console |


This message was automatically generated.

, [~sjlee0], I've updated this patch again. I know you may not be an expert in eclipse, but this helps me quite a bit. If it doesn't break anything, could this be a candidate for going in?

{noformat}
# in order to validate
$ mvn clean install -DskipTests -Dmaven.javadoc.skip
$ mvn eclipse:eclipse
# open eclipse import project.
# install checkstyle plugin from eclipse market place (checkstyle-cs) -> forces restart
# right click in a source file and select checkstyle -> check code with checkstyle
{noformat}, [~jeagles], it looks like you missed adding eclipse-checkstyle.xml to the patch?

{panel}
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-eclipse-plugin:2.9:eclipse (default-cli) on project hadoop-hdfs-httpfs: Unable to resolve resource location: /eclipse/eclipse-checkstyle.xml -> [Help 1]
{panel}, Thanks, [~sjlee0]. Uploading patch with the eclipse-checkstyle.xml included., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 10s {color} | {color:blue} docker + precommit patch detected. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red} 0m 0s {color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 3m 12s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 26s {color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 29s {color} | {color:green} trunk passed with JDK v1.8.0_60 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 24s {color} | {color:green} trunk passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 0m 44s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 0m 22s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 2s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 22s {color} | {color:green} the patch passed with JDK v1.8.0_60 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 0m 24s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 9s {color} | {color:green} hadoop-build-tools in the patch passed with JDK v1.8.0_60. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 3m 7s {color} | {color:green} hadoop-hdfs-httpfs in the patch passed with JDK v1.8.0_60. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 9s {color} | {color:green} hadoop-build-tools in the patch passed with JDK v1.7.0_79. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 3m 20s {color} | {color:green} hadoop-hdfs-httpfs in the patch passed with JDK v1.7.0_79. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 23s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 16m 1s {color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=1.7.1 Server=1.7.1 Image:test-patch-base-hadoop-date2015-10-22 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12768136/HADOOP-11883.5.patch |
| JIRA Issue | HADOOP-11883 |
| Optional Tests |  asflicense  javac  javadoc  mvninstall  unit  xml  |
| uname | Linux 31d28112fdaf 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HADOOP-Build/patchprocess/apache-yetus-28a3a3d/dev-support/personality/hadoop.sh |
| git revision | trunk / 124a412 |
| Default Java | 1.7.0_79 |
| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_60 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_79 |
| JDK v1.7.0_79  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/7915/testReport/ |
| Max memory used | 230MB |
| Powered by | Apache Yetus   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/7915/console |


This message was automatically generated.

, [~jeagles], thanks for updating the patch. I tried it out, and it looks good to me for the most part. I have only a couple of comments.

As for the hadoop-build-tools dependencyManagement, I think the standard place for dependencyManagement is hadoop-project/pom.xml rather than the top level pom.xml file. I know currently it has clover there now, but it would be good to consolidate it into hadoop-project/pom.xml. Thoughts?

Also, it appears that maven is retiring the maven eclipse plugin in favor of using the m2eclipse (eclipse) plugin directly (i.e. importing hadoop as maven projects). Recently there was an email thread about us switching over to using the m2eclipse plugin over the "mvn eclipse:eclipse" route. What is your thought? Does that change how we deal with the checkstyle (or make this change unnecessary)?, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m  5s{color} | {color:red} HADOOP-11883 does not apply to trunk. Rebase required? Wrong Branch? See https://wiki.apache.org/hadoop/HowToContribute for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Issue | HADOOP-11883 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12768136/HADOOP-11883.5.patch |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/13224/console |
| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

]