[I just committed this to branch-2, 2.8, 2.7. Thank you [~elgoiri] for backport.]