[Not sure if we ever uses log_ ...., Runping suggested to log to syslog instead of stdout userlog. 
, Thanks to Koji, while debugging a similar problem, we saw similar case where MROutputThread was done, but  the map task was still hung
Upon killing the streaming map executable, we saw there was a problem with the thread so it had terminated. 
Looks like the streaming map executable was still trying to write and was hung. 

The problem could be that clientIn_ and clientErr_ are not closed when their thread is done, which causes this problem.
Attached is an updated patch, which makes sure it will close the streams when their threads exit.

Please could anyone review/comment.
Thanks., Marking this a blocker for 0.15.  It's a contrib/streaming fix that is important to us.  It already has a patch that is being reviewed., The patch looks good. except that the try and catch statements (inside finally block) are not aligned., Actually, the IOExceptions in the close should be logged at the info level rather than completely ignored., Updated with alignment change.
Thanks!, With inputs from Owen, the patch has changed closing of streaming in main body of run() and log the IOException as well.
Thanks, making patch available.
Thanks, -1 overall.  Here are the results of testing the latest attachment 
http://issues.apache.org/jira/secure/attachment/12367520/h-1771-3.patch
against trunk revision r583424.

    @author +1.  The patch does not contain any @author tags.

    javadoc +1.  The javadoc tool did not generate any warning messages.

    javac +1.  The applied patch does not generate any new compiler warnings.

    findbugs +1.  The patch does not introduce any new Findbugs warnings.

    core tests +1.  The patch passed core unit tests.

    contrib tests -1.  The patch failed contrib unit tests.

Test results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/918/testReport/
Findbugs warnings: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/918/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/918/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/918/console

This message is automatically generated., The alignment issue is still there. I noticed that the patch has code tab indented., The alignment issue is still there. The patch has code tab indented., Sorry about that. FIxed and updated the patch, +1 overall.  Here are the results of testing the latest attachment 
http://issues.apache.org/jira/secure/attachment/12367651/h-1771-3.patch2
against trunk revision r584212.

    @author +1.  The patch does not contain any @author tags.

    javadoc +1.  The javadoc tool did not generate any warning messages.

    javac +1.  The applied patch does not generate any new compiler warnings.

    findbugs +1.  The patch does not introduce any new Findbugs warnings.

    core tests +1.  The patch passed core unit tests.

    contrib tests +1.  The patch passed contrib unit tests.

Test results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/936/testReport/
Findbugs warnings: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/936/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/936/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/936/console

This message is automatically generated., +1, I just committed this.  Thanks Lohit!, Integrated in Hadoop-Nightly #270 (See [http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/270/])]