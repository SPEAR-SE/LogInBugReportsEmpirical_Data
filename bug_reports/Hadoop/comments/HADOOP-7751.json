[For maven, the number number includes -SNAPSHOT for on going builds.  Unfortunately, rpm/deb packaging can not parse -SNAPSHOT from version number.  Ant property is immutable, it is not possible to parse number from -SNAPSHOT.  Hence, the easiest thing is to use -Dhadoop.version to control the version number for rpm/deb packaging., I modified the wiki page HowToRelease to include the hadoop.version config in the build command.

Now the nightly build script at http://svn.apache.org/viewvc/hadoop/nightly/hudsonBuildHadoopRelease.sh?view=markup and related scripts should also have it added.  Assigning to Giri., Moved to 1.2.0 upon release of 1.1.0., Changed Target Version to 1.3.0 upon release of 1.2.0. Please change to 1.2.1 if you intend to submit a fix for branch-1.2., branch-1 is effectively EOLed. closing as stale.]