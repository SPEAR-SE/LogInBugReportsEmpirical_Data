[Good Catch!! thanks for reporting.., we need to rewrite the conftest or skip fair and capacity-schduler.xml., [~brahmareddy] thanks for taking this issue! I have two comments:

1. capacity-scheduler.xml does not need special treatment, because its structure is the same as other configuration XML files (configuration -> property -> name/value).
2. I think you already know, it's not determined by the file name whether a file is the fair scheduler allocation file or not, because users can specify its name via the yarn.scheduler.fair.allocation.file property. So we must examine the root element to determine the kinds of the file.]