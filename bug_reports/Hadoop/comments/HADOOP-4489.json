[Replicas do not get deleted is the major reason that some blocks remain over-replicated in NameNode and therefore leads to the only 1 rack problem., This bug might be caused by HADOOP-5465. Once a datanode hits HADOOP-5465, NameNode sends an empty replication request to the data node on every reply to a heartbeat, thus not a single scheduled block deletion request can be sent to the data node., With the fixes in HADOOP-5465, HADOOP-5549, and HADOOP-5034, the problem described in this jira should not be reproduced. Closing this jira for now. Will reopen it if we see this happen again.]