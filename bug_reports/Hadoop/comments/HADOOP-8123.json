[env.JAVA_HOME is not guaranteed to be available instead maven recommends using java.home

http://maven.apache.org/general.html#tools-jar-dependency, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12516623/HADOOP-8123.patch
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/646//console

This message is automatically generated., hadoop-project patch failure is expect.

The way to show this issue is the following pom file
{noformat}
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.apache.test</groupId>
    <artifactId>test</artifactId>
    <packaging>jar</packaging>
    <version>1.0.0</version>
    <name>test</name>
    <description>test</description>

    <dependencies>
        <dependency>
        <groupId>org.apache.hadoop</groupId>
        <artifactId>hadoop-common</artifactId>
        <version>0.23.1</version>
        <scope>compile</scope>
        </dependency>
    </dependencies>

    <build>
    </build>
</project>

{noformat}
MAVEN_HOME=<path to apache-maven-2.2.1> PATH=<path to apache-maven-2.2.1/bin>:$PATH mvn clean install -e -X > ~/build.log 2>&1
build.log will show the above error.

Error is not present with the above patch., Is this an issue with maven-3.x?, Just with maven-2.x, I compiled the above pom with both maven-2.x and maven-3.x without error the patch applied., I just committed this. Thanks Jonathan!, Integrated in Hadoop-Hdfs-trunk-Commit #1903 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1903/])
    HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. Contributed by Jonathan Eagles. (Revision 1296861)

     Result = SUCCESS
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296861
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-project/pom.xml
, Integrated in Hadoop-Common-0.23-Commit #635 (See [https://builds.apache.org/job/Hadoop-Common-0.23-Commit/635/])
    Merge -c 1296861 from trunk to branch-0.23 to fix HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. (Revision 1296862)

     Result = SUCCESS
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296862
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
, Integrated in Hadoop-Hdfs-0.23-Commit #624 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Commit/624/])
    Merge -c 1296861 from trunk to branch-0.23 to fix HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. (Revision 1296862)

     Result = SUCCESS
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296862
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
, Integrated in Hadoop-Common-trunk-Commit #1829 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/1829/])
    HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. Contributed by Jonathan Eagles. (Revision 1296861)

     Result = SUCCESS
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296861
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-project/pom.xml
, Integrated in Hadoop-Mapreduce-0.23-Commit #634 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Commit/634/])
    Merge -c 1296861 from trunk to branch-0.23 to fix HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. (Revision 1296862)

     Result = ABORTED
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296862
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
, Integrated in Hadoop-Mapreduce-trunk-Commit #1836 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1836/])
    HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. Contributed by Jonathan Eagles. (Revision 1296861)

     Result = ABORTED
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296861
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-project/pom.xml
, Integrated in Hadoop-Hdfs-trunk #975 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/975/])
    HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. Contributed by Jonathan Eagles. (Revision 1296861)

     Result = SUCCESS
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296861
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-project/pom.xml
, Integrated in Hadoop-Hdfs-0.23-Build #188 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/188/])
    Merge -c 1296861 from trunk to branch-0.23 to fix HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. (Revision 1296862)

     Result = SUCCESS
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296862
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
, Integrated in Hadoop-Mapreduce-0.23-Build #216 (See [https://builds.apache.org/job/Hadoop-Mapreduce-0.23-Build/216/])
    Merge -c 1296861 from trunk to branch-0.23 to fix HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. (Revision 1296862)

     Result = FAILURE
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296862
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-project/pom.xml
, Integrated in Hadoop-Mapreduce-trunk #1010 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1010/])
    HADOOP-8123. Use java.home rather than env.JAVA_HOME for java in the project. Contributed by Jonathan Eagles. (Revision 1296861)

     Result = FAILURE
acmurthy : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1296861
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-project/pom.xml
]