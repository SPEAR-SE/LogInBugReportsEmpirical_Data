[DFSClient now uses LocalDirAllocator., +1, I think this patch needs to be relooked at. Please see my comment on HADOOP-1396 - http://issues.apache.org/jira/browse/HADOOP-1396#action_12500956, Incorporated review comments from Devaraj., +1, +1

http://issues.apache.org/jira/secure/attachment/12359680/localDirAllocator2.patch applied and successfully tested against trunk revision r547159.

Test results:   http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/283/testReport/
Console output: http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/283/console, I just committed this.  Thanks, Dhruba!, Integrated in Hadoop-Nightly #127 (See [http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/127/])]