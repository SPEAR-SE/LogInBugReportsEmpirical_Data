[Either the javadocs should specify this behavior or stream resources should be read and stored in a private {{Properties}} instance that is applied to the {{Configuration}} on {{loadResources}} invocation, instead of trying to reread the stream.

And creating a new {{Configuration}} from an existing one does not fix the problem because the constructor copies the resources, not the values.
, I think we either need to:
  1. Remove the ability to add InputStreams to Configurations.
  2. Read and store the InputStream as a Map<String,String>.

What is the need for adding InputStreams to configurations?, Another options:

3. add a constructor that takes an InputStream
4. add a {{readXML(InputStream)}} method

Looking at when this was added, it was added as part of HADOOP-3702 (I did part of it) based on suggestions on how to serialize/deserialize configurations to/from a string.

But is seems that a later refactoring changed how this is done.

My problem is that we've started using this method because we need to stream configurations and recreate them from the stream on the other end.

I would be happy with #2, #3 or #4. Maybe be for symmetry #4 is the most appropriate approach.
]