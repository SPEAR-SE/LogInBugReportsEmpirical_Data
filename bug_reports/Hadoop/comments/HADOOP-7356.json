[Preserve hadoop-config.sh and HADOOP_HOME locations for developers.  This only applies to 0.20.204 or 0.20.205 branches., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12481305/HADOOP-7356.patch
  against trunk revision 1130833.

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/566//console

This message is automatically generated., Fixed incorrect file references., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12481416/HADOOP-7356-1.patch
  against trunk revision 1131268.

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/576//console

This message is automatically generated., we also need this for trunk, right?
{code}
todd@todd-w510:~/svn/hadoop-common-trunk-commit$ ./bin/hadoop fs -cat /asdf
./bin/hadoop: line 24: /home/todd/svn/hadoop-common-trunk-commit/bin/../libexec/hadoop-config.sh: No such file or directory
...
{code}, Same patch for trunk., +1 for trunk patch. I'll commit there, and leave others to review the 205 branch., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12481624/HADOOP-7356-trunk.patch
  against trunk revision 1132776.

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/585//console

This message is automatically generated., Hudson's complaining above because it tried to apply the patch after I already did. I didn't wait for Hudson since it only affects the scripts which are tested manually anyway., Integrated in Hadoop-Common-trunk-Commit #644 (See [https://builds.apache.org/hudson/job/Hadoop-Common-trunk-Commit/644/])
    HADOOP-7356. RPM packages broke bin/hadoop script in developer environment. Contributed by Eric Yang.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1132776
Files : 
* /hadoop/common/trunk/bin/hadoop-daemons.sh
* /hadoop/common/trunk/bin/stop-all.sh
* /hadoop/common/trunk/bin/hadoop
* /hadoop/common/trunk/CHANGES.txt
* /hadoop/common/trunk/bin/hadoop-daemon.sh
* /hadoop/common/trunk/bin/start-all.sh
* /hadoop/common/trunk/bin/slaves.sh
, Integrated in Hadoop-Common-trunk #712 (See [https://builds.apache.org/job/Hadoop-Common-trunk/712/])
    HADOOP-7356. RPM packages broke bin/hadoop script in developer environment. Contributed by Eric Yang.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1132776
Files : 
* /hadoop/common/trunk/bin/hadoop-daemons.sh
* /hadoop/common/trunk/bin/stop-all.sh
* /hadoop/common/trunk/bin/hadoop
* /hadoop/common/trunk/CHANGES.txt
* /hadoop/common/trunk/bin/hadoop-daemon.sh
* /hadoop/common/trunk/bin/start-all.sh
* /hadoop/common/trunk/bin/slaves.sh
, Todd committed this., Hey Owen. As I commented [here|https://issues.apache.org/jira/browse/HADOOP-7356?focusedCommentId=13045116&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13045116] I left this open since it hasn't been committed to 0.20-security yet. Given the title I thought you might want to commit there before marking resolved., Reopen for not yet committed to 0.20.20x branch., Owen, please review and commit to 0.20.20[4-5] branch.  Thanks, I committed this to 0.20.204.0. I took out the support for running out of non-deployed developer directories., bq. I took out the support for running out of non-deployed developer directories.

Owen, without support for non-deployed developer directories:

"ant test-c++-libhdfs would -Dlibhdfs=true" fails because test native hdfs could not start hdfs via bin/hadoop shell script in source directory., This blocks 0.20.204 release., Same as original patch but synchronized with the HEAD of the 0.20.204 branch., Minimize changes., Giri committed the fix., Hadoop 0.20.204.0 was released today.]