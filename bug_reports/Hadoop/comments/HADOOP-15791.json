[Prepared the patch. But please commit it only after the 3.2 branch cut (and don't commit it to the trunk).

Will put it to Patch Available state to get jenkins feedback.

I successfully started an hdfs cluster from the distribution, so the classpath + shell scripts should be fine... 
, Rebased on top of the fresh branch-3.2..., Thanks [~elek]. I will wait for jenkins to come back., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 42s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 232 new or modified test files. {color} |
|| || || || {color:brown} branch-3.2 Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  5m 42s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 19m  8s{color} | {color:green} branch-3.2 passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 16m 57s{color} | {color:green} branch-3.2 passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  3m 14s{color} | {color:green} branch-3.2 passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 14m 10s{color} | {color:green} branch-3.2 passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m  2s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-project hadoop-assemblies . hadoop-hdds hadoop-ozone hadoop-ozone/datanode hadoop-ozone/dist hadoop-ozone/docs hadoop-ozone/integration-test {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 20s{color} | {color:red} client in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 24s{color} | {color:red} container-service in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 19s{color} | {color:red} framework in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 26s{color} | {color:red} server-scm in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 20s{color} | {color:red} tools in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 20s{color} | {color:red} client in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 19s{color} | {color:red} common in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 22s{color} | {color:red} objectstore-service in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 18s{color} | {color:red} ozone-manager in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 22s{color} | {color:red} ozonefs in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 43s{color} | {color:red} s3gateway in branch-3.2 failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 19s{color} | {color:red} tools in branch-3.2 failed. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  6m 32s{color} | {color:green} branch-3.2 passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 24m 45s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 19m 57s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 19m 57s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 19m 57s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  3m 35s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} hadolint {color} | {color:green}  0m  1s{color} | {color:green} The patch generated 0 new + 0 unchanged - 13 fixed = 0 total (was 13) {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green} 13m 59s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m 28s{color} | {color:green} The patch generated 0 new + 20 unchanged - 7 fixed = 20 total (was 27) {color} |
| {color:green}+1{color} | {color:green} shelldocs {color} | {color:green}  0m 11s{color} | {color:green} The patch generated 0 new + 104 unchanged - 2 fixed = 104 total (was 106) {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m 10s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 41s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-project hadoop-assemblies . {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  4m 27s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  6m 35s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 19m 44s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 47s{color} | {color:red} The patch generated 23 ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}196m 47s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.ha.TestZKFailoverController |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:4b8c2b1 |
| JIRA Issue | HADOOP-15791 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12942215/HADOOP-15791-branch-3.2.002.patch |
| Optional Tests |  dupname  asflicense  shellcheck  shelldocs  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  xml  findbugs  checkstyle  cc  hadolint  |
| uname | Linux efc02292ea54 4.4.0-133-generic #159-Ubuntu SMP Fri Aug 10 07:31:43 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | branch-3.2 / a392962 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_181 |
| shellcheck | v0.4.6 |
| findbugs | v3.1.0-RC1 |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-hdds_client.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-hdds_container-service.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-hdds_framework.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-hdds_server-scm.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-hdds_tools.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_client.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_common.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_objectstore-service.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_ozone-manager.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_ozonefs.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_s3gateway.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/branch-findbugs-hadoop-ozone_tools.txt |
| unit | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/patch-unit-root.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/testReport/ |
| asflicense | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/artifact/out/patch-asflicense-problems.txt |
| Max. process+thread count | 1376 (vs. ulimit of 10000) |
| modules | C: hadoop-project hadoop-assemblies hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/15281/console |
| Powered by | Apache Yetus 0.8.0   http://yetus.apache.org |


This message was automatically generated.

, Hi [~elek].

Thanks for the patch. Jenkins gave some error in ASF (hadoop-hdds/common/target). However i could not find this in branch-3.2. Could u pls confirm this. Thank You., I think this is the limitation of yetus. It collects the required modules to build (first) and applies the patch (after). I just deleted a lot of projects.

I think it's safe to ignore all of the ./hadoop-ozone and ./hadoop-hdds findbugs/asf errors. Just make sure that you have no hadoop-ozone and hadoop-hdds directories after applying the patch., Thanks [~elek]. I will commit this shortly then

+1. Any concerns?, +1. I tested it again. Built it and started HDFS cluster successfully. Should be good enough., Thanks [~elek]. Committed to branch-3.2]