[This bug is introduced from HADOOP-4918, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12399966/HADOOP-5213.1.patch
  against trunk revision 743296.

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no tests are needed for this patch.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed core unit tests.

    -1 contrib tests.  The patch failed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3833/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3833/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3833/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3833/console

This message is automatically generated., Please include a unit test., Added unit test for empty inputs., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12400035/HADOOP-5213.2.patch
  against trunk revision 743419.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    -1 contrib tests.  The patch failed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3835/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3835/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3835/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3835/console

This message is automatically generated., Checked the failed contrib test: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/3835/testReport/org.apache.hadoop.chukwa.datacollection.agent/TestAgentConfig/testInitAdaptors_vs_Checkpoint/

It's completely unrelated.
, I went through the change and it does not interfere with my bzip2 patch (https://issues.apache.org/jira/browse/HADOOP-4012)
So a +1 as far as bzip2 stuff is concerned., Patch for 0.19., To be really picky it seems the added "if (needsReset)" is redundant, since internalReset() already checks that boolean., Agree. In the ideal case, the check of needsReset inside internalReset() should be "assert".
But I guess this is OK considering all the overhead of remaking the patch and waiting for hudson.
, Hi folks, what is the status for this one? if the pach is ready, can one of you pl review it and submit it for HadoopQA tests? I would like this to get committed sooner rather than later., I provided the patch and it already went through Hadoop QA on 11/Feb/09 05:01 PM.
Can we directly commit it? I have patch for both branch 0.19 and trunk.
, For trunk. It's the same patch as HADOOP-5213.2.patch except some offsets are changed due to recent hadoop changes.
, For branch 0.19. , For branch 0.20, please use the same patch as trunk., HADOOP-5213.3.20.patch is the same as HADOOP-5213.3.patch.
Just add it to make it more clear., +1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12405730/HADOOP-5213.3.20.patch
  against trunk revision 767122.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs warnings.

    +1 Eclipse classpath. The patch retains Eclipse classpath integrity.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/217/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/217/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/217/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/217/console

This message is automatically generated., Now Hudson has given a +1, it would be nice to review and commit the patch by the Committers.  My patch for HADOOP-4012 is waiting for this commit.

Thanks., I am going to put this in the 0.20 branch. This is a major blocker for most sites  using bzip2compression., I just committed this. Thanks Zheng!, Integrated in Hadoop-trunk #824 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/824/])
    , Dhruba, the CHANGES.txt in branch 0.20 has the log message for this JIRA under 0.20.1. However, in the trunk, it is under 0.19.2. Shouldn't they be under the earliest version for all branches (in this case 0.19.2). I noticed these while trying to merge CHANGES.txt between trunk and 0.20. Can you please verify this ?]