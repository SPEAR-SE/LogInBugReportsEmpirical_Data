[Does it work if the full class name, e.g. org.apache.hadoop.examples.Sort, is used?, I should have been more clear.

In my example, the jar file that was submitted and the jar file that was incorrectly run both had the same full class name.

Of course, my command line didn't mention the class name. It gave the name of a jar file. Hadoop looked at my jar file, found the class name inside, then loaded another jar file from the CLASSPATH that happened to have the same class name.

The simple fix for me was to change my class name, but it took an awfully long time to figure out what was wrong.

Cheers,
John

, I think in this situation, the correct action would be to halt early. Some check that the loaded class came from the test.jar would handle that -but there is no guarantee that other classes wouldn't clash; mixing classes with the same name is always a disaster unless you have something like OSGi to keep things under control. 

, bq. In my example, the jar file that was submitted and the jar file that was incorrectly run both had the same full class name.
In java, the classname is really the package name + class name, and with the standard naming convention, the class names are unique. If any of two classes have the same name, then there is something wrong with the naming in the first place, you should have set the package name accordingly. 

As I understand this, there is nothing can be done here. I will close this as won't fix unless any one objects. , Closing as won't fix. ]