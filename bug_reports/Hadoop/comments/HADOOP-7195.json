[attach file for a sulution., update patch for trunk.

other testcases should cover this issuse, The fallback logic is to cover cross volume renames. Pls check HADOOP-13082 for the details.]