[The first version of the patch is attached. It updates some options specific to IBM JDK., The first version of the patch is attached. It updates some options specific to IBM JDK., {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12679558/HADOOP-11273.patch
  against trunk revision a7fbd4e.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-minikdc.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5033//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5033//console

This message is automatically generated., {code}
+      if (IBM_JAVA) {
+        options.put("useKeytab", keytab);
+        options.put("principal", principal);
+        options.put("refreshKrb5Config", "true");
+        options.put("credsType", "both");
+      }
+      else{
+        options.put("keyTab", keytab);
+        options.put("principal", principal);
+        options.put("useKeyTab", "true");
+        options.put("storeKey", "true");
+        options.put("doNotPrompt", "true");
+        options.put("useTicketCache", "true");
+        options.put("renewTGT", "true");
+        options.put("refreshKrb5Config", "true");
+        options.put("isInitiator", Boolean.toString(isInitiator));
+      }
{code}

Can you promote the common configurations out of the {{if}} statement? Other than that the patch looks good to me., Hi Haohui,

Thanks so much for the review. I put up another separate patch for branch 2.6.0 based on your comment., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12686029/HADOOP-11273-branch-2.6.0.patch
  against trunk revision 82707b4.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 2 new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-minikdc.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/5208//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-HADOOP-Build/5208//artifact/patchprocess/newPatchFindbugsWarningshadoop-minikdc.html
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/5208//console

This message is automatically generated., +1, I've committed the patch to trunk and branch-2. Thanks [~lianggz] for the contribution., FAILURE: Integrated in Hadoop-trunk-Commit #6678 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6678/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #36 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/36/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Yarn-trunk #771 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/771/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk #1968 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1968/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #34 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/34/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-common/CHANGES.txt
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #38 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/38/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
* hadoop-common-project/hadoop-common/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1988 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1988/])
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang. (wheat9: rev d08fc9aca807af5a240f5e1904d9c0ba027196b8)
* hadoop-common-project/hadoop-minikdc/src/test/java/org/apache/hadoop/minikdc/TestMiniKdc.java
* hadoop-common-project/hadoop-common/CHANGES.txt
]