[this patch fixes the deadlock issue. The calls to cleanup() do not lock the tip first. The cleanup() method  locks the tasktracker first and then the tip. , +1, since http://issues.apache.org/jira/secure/attachment/12347138/deadlock.patch applied and successfully tested against trunk revision r486901., An updated patch which includes a fix for speculative reduces. The cleanup code for speculative reduces currently cleans up the tip directory. It should only clean up the task directory., +1, I just committed this.  Thanks, Mahadev!]