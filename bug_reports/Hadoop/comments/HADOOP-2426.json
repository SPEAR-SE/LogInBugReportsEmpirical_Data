[Checked cygwin and Linux, both of them can display group names more than 8 characters (not sure they might truncate it for longer names.), The failure I'm getting is not related to the group name length:

Testcase: testLocalFSsetOwner took 0.087 sec
        FAILED
expected:<staff> but was:<>
junit.framework.ComparisonFailure: expected:<staff> but was:<>
        at org.apache.hadoop.fs.TestLocalFileSystemPermission.testLocalFSsetOwne
r(TestLocalFileSystemPermission.java:130)

There is a mistake in the logic of RawLocalFileStatus.getGroup(). This patch fixes it and now the test passes for me. Does it work for you Nicholas?, +1 for the patch. The patch attached fixes the problem Tom saw and not related to issue in Jira description. Should it be part of this Jira or HADOOP-2442?

, Tom, could you remove the patch attached since it is not a fix for this jira? The issue described in the description is still not fixed and the attached patch might confuse the readers., This is still a problem for Tiger, but not for Leopard. If we still need to fix we could iterate through the groups until there's one that's no more than 8 characters and use that. , Been years since Leopard is out and it doesn't seem to be a problem anymore:

{code}
Running org.apache.hadoop.fs.TestLocalFileSystemPermission
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.069 sec
{code}]