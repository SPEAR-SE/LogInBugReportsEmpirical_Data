[This can save several hundred MB on an AM with many reduce tasks., There are no tests for this patch.  I have tested it manually.  All of the old functionality should still work, it is just that more memory will be released to be collected when a call finishes., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12551227/HADOOP-8986.txt
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/1685//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/1685//console

This message is automatically generated., Looks good.  Did you investigate whether a test can be added to {{TestIPCServerResponder}}?  It causes partial writes which may allow you to check if the response is null out after the call finally completes., I didn't look that closely at adding in a test because I was mostly concerned that it did not break any existing functionality.  I will look at TestIPCResponder to see if I can add something in there., +1 for the patch. I feel it is unnecessary to add test for this., Thanks Daryn and Suresh for the reviews. 

I waited to check it in until I could run one more test to measure how much memory savings this had on my original test case.  I ran a sleep job with 20,000 mappers and 3,000 reducers.  This was on a cluster large enough and free enough that all of them could be running at the same time.  The peek memory usage decreased from about 500MB to 285MB and the final heap as most of the reducers started to get close to completing dropped to 200MB, where as before it was still up at 500MB.

I put it into trunk, branch-2, and branch-0.23, Integrated in Hadoop-trunk-Commit #2943 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/2943/])
    HADOOP-8986. Server$Call object is never released after it is sent (bobby) (Revision 1403745)

     Result = SUCCESS
bobby : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1403745
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java
, Integrated in Hadoop-Yarn-trunk #22 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/22/])
    HADOOP-8986. Server$Call object is never released after it is sent (bobby) (Revision 1403745)

     Result = SUCCESS
bobby : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1403745
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java
, Integrated in Hadoop-Hdfs-0.23-Build #421 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/421/])
    svn merge -c 1403745 FIXES: HADOOP-8986. Server$Call object is never released after it is sent (bobby) (Revision 1403750)

     Result = SUCCESS
bobby : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1403750
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java
, Integrated in Hadoop-Hdfs-trunk #1212 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1212/])
    HADOOP-8986. Server$Call object is never released after it is sent (bobby) (Revision 1403745)

     Result = FAILURE
bobby : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1403745
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java
, Integrated in Hadoop-Mapreduce-trunk #1242 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1242/])
    HADOOP-8986. Server$Call object is never released after it is sent (bobby) (Revision 1403745)

     Result = FAILURE
bobby : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1403745
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java
]