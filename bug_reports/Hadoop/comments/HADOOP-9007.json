[The root cause is due to the following Java bug:
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6728842

After the bug fix, setWritable() will return false on directories on Windows.

In my testing, Java version <= 1.6.0_31 will return true; thus the test will pass.
In Java version >= 1.6.0_32, the method will always return false on Windows; thus the test will fail.
Attach a simple fix by simply switching to use FileUtil.chmod() method to set permissions., Thanks Chuan, seems like a simple fix, +1, +1 for the patch. I ran test on my Mac to ensure with the changes the test passes., I committed the patch to branch-1-win.

Thank you Chuan. Thank you Ivan for the code review.]