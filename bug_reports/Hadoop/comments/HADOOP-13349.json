[IIRC, the intent was that HADOOP_USER_CLASSPATH would replace HADOOP_CLASSPATH since it was ambiguous as to what HADOOP_CLASSPATH represented.   (Ironic!)  However, it looks like that work was never completed and forward ports from branch-2 just made things worse.

We're going to need to untangle this before 3.0.0-alpha1 for sure since that's a core user-facing API.  CC: [~andrew.wang].

, Oh, right: this was also made worse by YARN-1429, which added YARN_USER_CLASSPATH as an analog to HADOOP_CLASSPATH., -00:
* change all instances of HADOOP\_USER\_CLASSPATH to HADOOP\_CLASSPATH

Hooray! Almost all of these are documentation changes.  The fact is, HADOOP\_USER\_CLASSPATH is a better name. But since Windows isn't changing, it just makes sense to go back to HADOOP\_CLASSPATH so that documentation is similar. If anyone thinks HADOOP\_USER\_CLASSPATH really is the way to go forward, it's no big deal to change it.  This patch becomes more of a code change than a documentation change, however.

It's worth pointing out even the unit tests were written to HADOOP\_CLASSPATH. :(, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 13s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 41s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  3m 47s{color} | {color:green} trunk passed {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 14s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  3m 30s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m 13s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} shelldocs {color} | {color:green}  0m  8s{color} | {color:green} There were no new shelldocs issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 43s{color} | {color:green} hadoop-common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 27s{color} | {color:green} hadoop-yarn in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 18s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 19m 57s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker |  Image:yetus/hadoop:9560f25 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12816648/HADOOP-13349.00.patch |
| JIRA Issue | HADOOP-13349 |
| Optional Tests |  asflicense  mvnsite  unit  shellcheck  shelldocs  |
| uname | Linux 255f652687ed 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / a3f93be |
| shellcheck | v0.4.4 |
|  Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/9937/testReport/ |
| modules | C: hadoop-common-project/hadoop-common hadoop-yarn-project/hadoop-yarn U: . |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/9937/console |
| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, So IIUC, the confusion is because we have an option for HADOOP_USER_CLASSPATH_FIRST, but what that does is put the user's HADOOP_CLASSPATH (or YARN_USER_CLASSPATH) first. There is no HADOOP_USER_CLASSPATH, despite the naming of HADOOP_USER_CLASSPATH_FIRST.

Assuming my interpretation is correct, I'm +1 since these are basically doc changes. Thanks for finding and fixing this Allen!, Close enough. :) 

Thanks. Committing this., SUCCESS: Integrated in Hadoop-trunk-Commit #10063 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/10063/])
HADOOP-13349. HADOOP_CLASSPATH vs HADOOP_USER_CLASSPATH (aw) (aw: rev a0035661c10119f134a6a686c658c098eb2e2ad8)
* hadoop-yarn-project/hadoop-yarn/bin/yarn-config.sh
* hadoop-common-project/hadoop-common/src/site/markdown/UnixShellGuide.md
* hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh
]