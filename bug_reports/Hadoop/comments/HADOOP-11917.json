[* add patchprocess to the various exclude bits
* make sure git clean doesn't wipe it out
* clean up some whitespace issues in pom.xml while i'm there
* fix PATCH_DIR being a relative path, (!) A patch to test-patch or smart-apply-patch has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/6479/console in case of problems., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | reexec |   0m  0s | dev-support patch detected. |
| {color:blue}0{color} | pre-patch |  14m 46s | Pre-patch trunk compilation is healthy. |
| {color:blue}0{color} | @author |   0m  0s | Skipping @author checks as test-patch has been patched. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   7m 38s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |   9m 43s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |
| {color:blue}0{color} | shellcheck |   0m 23s | Shellcheck was not available. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 37s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| | |  34m 44s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12730320/HADOOP-11917.patch |
| Optional Tests | shellcheck javadoc javac unit |
| git revision | trunk / d701acc |
| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6479/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf903.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6479/console |


This message was automatically generated., {quote}
-    ${GIT} clean -xdf
+    ${GIT} clean -xdf -e patchprocess/
{quote}

If someone passes in the cli arg for PATCH_DIR and it doesn't happen to be "${BASE_DIR}/patchprocess", then this won't keep them safe. Probably best to add a warning to the cli arg that says "this should not be within ${BASE_DIR}" and leave this hold out as an undocumented feature. It's easy enough to set up a jenkins workspace where the git repo and the patch dir sit next to each other (for example, as done in the [work-in-progress nifi job|https://builds.apache.org/view/PreCommit%20Builds/job/PreCommit-NIFI-Build/]), -01:
* make this more generic by allowing any dir
* prevent jenkins from trying to mv the patchprocess dir onto itself
* get rid of some unneeded cd's
, (!) A patch to test-patch or smart-apply-patch has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/6485/console in case of problems., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | reexec |   0m  0s | dev-support patch detected. |
| {color:blue}0{color} | pre-patch |  14m 29s | Pre-patch trunk compilation is healthy. |
| {color:blue}0{color} | @author |   0m  0s | Skipping @author checks as test-patch has been patched. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   7m 28s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |   9m 36s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |
| {color:blue}0{color} | shellcheck |   0m 23s | Shellcheck was not available. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 33s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| | |  34m  6s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12730539/HADOOP-11917.01.patch |
| Optional Tests | shellcheck javadoc javac unit |
| git revision | trunk / 9b01f81 |
| Test Results | https://builds.apache.org/job/PreCommit-HADOOP-Build/6485/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/6485/console |


This message was automatically generated., +1, Thanks!
Committed to the real source code and branch-2., FAILURE: Integrated in Hadoop-trunk-Commit #7738 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/7738/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* dev-support/test-patch.sh
* hadoop-common-project/hadoop-common/CHANGES.txt
* pom.xml
* .gitignore
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #186 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/186/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* pom.xml
* hadoop-common-project/hadoop-common/CHANGES.txt
* .gitignore
* dev-support/test-patch.sh
, SUCCESS: Integrated in Hadoop-Yarn-trunk #919 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/919/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* .gitignore
* pom.xml
* hadoop-common-project/hadoop-common/CHANGES.txt
* dev-support/test-patch.sh
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2117 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2117/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* dev-support/test-patch.sh
* pom.xml
* hadoop-common-project/hadoop-common/CHANGES.txt
* .gitignore
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #176 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/176/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* .gitignore
* pom.xml
* hadoop-common-project/hadoop-common/CHANGES.txt
* dev-support/test-patch.sh
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2135 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2135/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* dev-support/test-patch.sh
* hadoop-common-project/hadoop-common/CHANGES.txt
* .gitignore
* pom.xml
, SUCCESS: Integrated in Hadoop-Mapreduce-trunk-Java8 #186 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/186/])
HADOOP-11917. test-patch.sh should work with ${BASEDIR}/patchprocess setups (aw) (aw: rev d33419ae01c528073f9f00ef1aadf153fed41222)
* dev-support/test-patch.sh
* hadoop-common-project/hadoop-common/CHANGES.txt
* pom.xml
* .gitignore
]