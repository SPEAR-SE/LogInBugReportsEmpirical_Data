[This is actually not specific to Windows.  I can repro on Mac too.  Updating summary., Thanks Chris, just noticed that too., I can repro on Centos also., I also got this error but after debug i found i was not having correct version of profbuf 2.5 installed

I did that and it works

For record

Here are steps

Download from

http://protobuf.googlecode.com/files/protobuf-2.5.0.tar.bz2
Extract it

Install it

./configure
make
make check
sudo make install

sudo ldconfig

Now try to build again

It should work happily, I find it in Ubuntu also, my protocbuf version is 2.5.0, I find a way to pass compile:

cd hadoop-common-project
mvn clean compile
cd ..
mvn compile

It all pass!, All releases fail in the compile running the clean first.
mvn clean && mvn -X compile -Pnative
if we run the compile a second time without the clean it builds successfully.  

The error is 
[ERROR] Could not find goal 'protoc' in plugin org.apache.hadoop:hadoop-maven-plugins:2.4.1 among available goals -> [Help 1]
org.apache.maven.plugin.MojoNotFoundException: Could not find goal 'protoc' in plugin org.apache.hadoop:hadoop-maven-plugins:2.4.1 among available goals 
, I cannot reproduce it on Mac. Does somebody still face to this issue?, Something similar is definitely still happening on fedora and redhat. This is what I'm getting.
{noformat}
Could not find artifact org.apache.hadoop:hadoop-maven-plugins:jar:3.1.0-SNAPSHOT
{noformat}
I'm reopening the JIRA.]