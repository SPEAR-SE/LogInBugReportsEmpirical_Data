[[~Apache9] appreciate if you could also look at this one since you were the author of HADOOP-13433., This is bizarre even in the category of bizarre-kerberos errors. Really great to have you share this.  Happy to have a section on it on https://github.com/steveloughran/kerberos_and_hadoop ; maybe just a link to this in the tales of "wierd things", with "The ticket isn't for us" getting a callout in error messages.

you thought of running KDiag on the system to see what it showed up...and whether it could be improved? Maybe something to check the auth status of IPC endpoints: give it a list of endpoints and it'll try to handshake to all of them, without bothering to actually say anything afterwards. Could be paralllelisable...., Thank you, Steve. BTW your book is valuable in troubleshooting this issue.

No .... unfortunately current CDH5 doesn't have KDiag (I thought of backporting it but I forgot).
We did ask for JDK Kerberos debug and Hadoop debug log. But we corrected the invalid krb5.conf before the debug log was put into place., bq. unfortunately current CDH5 doesn't have KDiag (I thought of backporting it but I forgot).

There's a self contained version of KDiag designed tor run against older hadoop versions: https://github.com/steveloughran/kdiag

grab it, build against CDH, share with the support team. They'll appreciate it]