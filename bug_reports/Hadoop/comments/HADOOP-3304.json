[Attached patch fixes the following:
- Moves the shell shebang to the top of the file
- Modifies the default value of the log destination to '/user'
- Modifies the regular expression for looking up files, to be restricted to files under hod-logs only. This will also narrow the scope of search greatly, and should be much faster.
- Adds a try...except block so that a single problematic file won't stop logcondense.py., -1 overall.  Here are the results of testing the latest attachment 
http://issues.apache.org/jira/secure/attachment/12380854/3304.patch
against trunk revision 645773.

    @author +1.  The patch does not contain any @author tags.

    tests included -1.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no tests are needed for this patch.

    javadoc +1.  The javadoc tool did not generate any warning messages.

    javac +1.  The applied patch does not generate any new javac compiler warnings.

    release audit +1.  The applied patch does not generate any new release audit warnings.

    findbugs +1.  The patch does not introduce any new Findbugs warnings.

    core tests +1.  The patch passed core unit tests.

    contrib tests +1.  The patch passed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2317/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2317/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2317/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2317/console

This message is automatically generated.,    * Tested to check that it now only searches in <prefix>/*/hod-logs for purging.
   * We should have documentation for logcondense, describing what/how it does, and its usage; currently we don't have any documentation.
   * Hudson's "tests included -1" message: Not writing any test cases.(for now?)
   * Found some bugs and good to have enhancements to logcondense. Filing separate issues.

+1 for the fix in general., The attached patch adds documentation as mentioned by Vinod to the HOD admin guide. Some refactoring is required in writing unit tests, but reserving that for another patch as we would like to get this into Hadoop 0.17. ASAP., Attaching a new patch file that updates the HOD changes.txt file., -1 overall.  Here are the results of testing the latest attachment 
http://issues.apache.org/jira/secure/attachment/12380922/3304.2.patch
against trunk revision 645773.

    @author +1.  The patch does not contain any @author tags.

    tests included -1.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no tests are needed for this patch.

    javadoc +1.  The javadoc tool did not generate any warning messages.

    javac +1.  The applied patch does not generate any new javac compiler warnings.

    release audit +1.  The applied patch does not generate any new release audit warnings.

    findbugs +1.  The patch does not introduce any new Findbugs warnings.

    core tests +1.  The patch passed core unit tests.

    contrib tests +1.  The patch passed contrib unit tests.

Test results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2327/testReport/
Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2327/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Checkstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2327/artifact/trunk/build/test/checkstyle-errors.html
Console output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch/2327/console

This message is automatically generated., Devaraj committed this patch to both trunk and the Hadoop 0.17 branch., Integrated in Hadoop-trunk #473 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-trunk/473/]), I committed this to 0.16.4. Thanks Hemanth., When dynamicdfs is used and logcondense fails to delete tasktracker logs if -n options e.g -:
[
 python logcondense.py -p ~/hadoop-0.17.0/bin/hadoop -d 7 -c ~/hadoop-conf -l /user 
]

logcondense tries to delete 0-tasketracker e.g -:
[
~/hadoop-0.17.0/bin/hadoop --config  ~/hadoop-conf dfs -rm  /user/user-id/hod-logs/jobid.hostname/0-tasktracker-*
]
where  0-tasktracker-* file are not there because in case of dynamic dfs logs are like 0-datanode-* and 1-tasktracker-*
]