[(!) A patch to the testing environment has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/14892/console in case of problems.
, | (/) *{color:green}+1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 11m 35s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 13m 56s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  0s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} shelldocs {color} | {color:green}  0m 15s{color} | {color:green} There were no new shelldocs issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 14m  1s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 31s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 40m 44s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HADOOP-15610 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12931833/HADOOP-15610.001.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  |
| uname | Linux 1f5c9181b9a1 3.13.0-143-generic #192-Ubuntu SMP Tue Feb 27 10:45:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / d2874e0 |
| maven | version: Apache Maven 3.3.9 |
| shellcheck | v0.4.6 |
| Max. process+thread count | 335 (vs. ulimit of 10000) |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14892/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, [~aw] you may be interested in this one.

It appears to also affect the default dockerfile Yetus 0.7.0 uses for containerized builds with --docker., Upon posting patch 001, I was unaware that this docker file impacted the release pipeline. I will be posting a patch shortly that is much more secure., (!) A patch to the testing environment has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/14898/console in case of problems.
, | (/) *{color:green}+1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 16m 21s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  6s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  0s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} shelldocs {color} | {color:green}  0m 13s{color} | {color:green} There were no new shelldocs issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 10s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 26s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 39m 36s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HADOOP-15610 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12931992/HADOOP-15610.002.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  |
| uname | Linux e0e1c017fb37 4.4.0-130-generic #156-Ubuntu SMP Thu Jun 14 08:53:28 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 1af87df |
| maven | version: Apache Maven 3.3.9 |
| shellcheck | v0.4.6 |
| Max. process+thread count | 460 (vs. ulimit of 10000) |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14898/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, (!) A patch to the testing environment has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/14900/console in case of problems.
, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |
| {color:red}-1{color} | {color:red} docker {color} | {color:red}  3m 26s{color} | {color:red} Docker failed to build yetus/hadoop:abb62dd. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Issue | HADOOP-15610 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12931992/HADOOP-15610.002.patch |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14900/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, [~jackbearden] Thank you for the patch.  This patch can pass pylint error, but compilation of pylint shows some test compilation errors.

{code}
  Compiling /tmp/pip-build-TXYLMB/astroid/astroid/tests/testdata/python2/data/invalid_encoding.py ...
    File "/tmp/pip-build-TXYLMB/astroid/astroid/tests/testdata/python2/data/invalid_encoding.py", line 0
  SyntaxError: unknown encoding: lala
  
  Compiling /tmp/pip-build-TXYLMB/astroid/astroid/tests/testdata/python3/data/invalid_encoding.py ...
    File "/tmp/pip-build-TXYLMB/astroid/astroid/tests/testdata/python3/data/invalid_encoding.py", line 0
  SyntaxError: unknown encoding: lala
  

  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/abstract_class_instantiated_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/abstract_class_instantiated_py3.py", line 14
      class GoodClass(object, metaclass=abc.ABCMeta):
                                       ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/abstract_method_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/abstract_method_py3.py", line 35
      class Structure(object, metaclass=abc.ABCMeta):
                                       ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/arguments_differ_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/arguments_differ_py3.py", line 4
      def kwonly_1(self, first, *, second, third):
                                 ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/async_functions.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/async_functions.py", line 5
      async def next(): # [redefined-builtin]
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bad_continuation_py36.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bad_continuation_py36.py", line 3
      async def upload_post(
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bad_except_order.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bad_except_order.py", line 27
      __revision__ += 1
  SyntaxError: default 'except:' must be last
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bad_exception_context.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bad_exception_context.py", line 14
      raise IndexError from 1 # [bad-exception-context]
                          ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bugfix_local_scope_metaclass_1177.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/bugfix_local_scope_metaclass_1177.py", line 9
      class Class(metaclass=Meta):
                           ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/class_members_py30.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/class_members_py30.py", line 34
      class TestMetaclass(object, metaclass=ABCMeta):
                                           ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/continue_in_finally.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/continue_in_finally.py", line 9
      continue # [continue-in-finally]
  SyntaxError: 'continue' not supported inside 'finally' clause
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/disable_msg_github_issue_1389.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/disable_msg_github_issue_1389.py", line 10
      place: PlaceId
           ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/duplicate_argument_name.py ...
  SyntaxError: duplicate argument '_' in function definition (duplicate_argument_name.py, line 4)
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/exec_used_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/exec_used_py3.py", line 4
      exec('a = 1', globals={}) # [exec-used]
                           ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/formatted_string_literal_with_if_py36.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/formatted_string_literal_with_if_py36.py", line 4
      f'{"+" if True else "-"}'
                              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/invalid_metaclass_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/invalid_metaclass_py3.py", line 14
      class GoodMetaclass(metaclass=valid_metaclass_1):
                                   ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/invalid_star_assignment_target.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/invalid_star_assignment_target.py", line 3
      *FIRST = [1, 2, 3] # [invalid-star-assignment-target]
      ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/iterable_context_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/iterable_context_py3.py", line 11
      class SomeClass(metaclass=Meta):
                               ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/mapping_context_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/mapping_context_py3.py", line 15
      class SomeClass(metaclass=Meta):
                               ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/membership_protocol_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/membership_protocol_py3.py", line 20
      class IterableClass(metaclass=MetaOldIterable):
                                   ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/misplaced_future.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/misplaced_future.py", line 3
      from __future__ import print_function # [misplaced-future]
  SyntaxError: from __future__ imports must occur at the beginning of the file
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/missing_kwoa_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/missing_kwoa_py3.py", line 3
      def target(pos, *, keyword):
                       ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/none_dunder_protocols_py36.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/none_dunder_protocols_py36.py", line 16
      class NonIterableClass(metaclass=MetaOldIterable):
                                      ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/nonlocal_and_global.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/nonlocal_and_global.py", line 5
      nonlocal missing
                     ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/nonlocal_without_binding.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/nonlocal_without_binding.py", line 9
      nonlocal a
               ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/not_async_context_manager.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/not_async_context_manager.py", line 50
      async def bad_coro():
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/not_in_loop.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/not_in_loop.py", line 7
      continue # [not-in-loop]
  SyntaxError: 'continue' not properly in loop
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/protected_access_access_different_scopes.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/protected_access_access_different_scopes.py", line 4
      async def method(self):
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/raising_non_exception_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/raising_non_exception_py3.py", line 13
      raise Exc from missing # [raising-non-exception]
                   ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/return_outside_function.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/return_outside_function.py", line 2
      return # [return-outside-function]
  SyntaxError: 'return' outside function
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/reused_outer_loop_variable_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/reused_outer_loop_variable_py3.py", line 3
      for i, *j in [(1, 2, 3, 4)]:
             ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/star_needs_assignment_target.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/star_needs_assignment_target.py", line 3
      FIRST = *[1, 2]  # [star-needs-assignment-target]
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/star_needs_assignment_target_py35.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/star_needs_assignment_target_py35.py", line 8
      UNPACK_TUPLE = (*range(4), 4)
                      ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/stop_iteration_inside_generator.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/stop_iteration_inside_generator.py", line 81
      yield from gen_ok()
               ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/string_formatting_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/string_formatting_py3.py", line 6
      print('%s%s%s' % ('eggs', *meat))
                                ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/syntax_error.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/syntax_error.py", line 1
      def toto # [syntax-error]
                              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/syntax_error_jython.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/syntax_error_jython.py", line 1
      def toto # [syntax-error]
                              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/too_many_star_expressions.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/too_many_star_expressions.py", line 3
      *FIRST, *SECOND = [1, 2, 3] # [too-many-star-expressions]
      ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unbalanced_tuple_unpacking_py30.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unbalanced_tuple_unpacking_py30.py", line 9
      first, second, *last = (1, 2, 3, 4)
                     ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/undefined_variable_py30.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/undefined_variable_py30.py", line 8
      def test(self)->Undefined: # [undefined-variable]
                    ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unpacking_generalizations.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unpacking_generalizations.py", line 16
      func_variadic_args(*(2, 3), *(3, 4), *(4, 5))
                                  ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unused_argument_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unused_argument_py3.py", line 3
      def func(first, *, second): # [unused-argument, unused-argument]
                       ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unused_typing_imports.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/unused_typing_imports.py", line 12
      def func1(arg: Optional[Callable]=None):
                   ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/used_before_assignment_nonlocal.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/used_before_assignment_nonlocal.py", line 10
      nonlocal cnt
                 ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/useless_super_delegation_py3.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/useless_super_delegation_py3.py", line 6
      def not_passing_keyword_only(self, first, *, second):
                                                 ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/useless_super_delegation_py35.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/useless_super_delegation_py35.py", line 5
      def not_passing_all_params(self, first, *args, second=None, **kwargs):
                                                          ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_from_iterable_py33.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_from_iterable_py33.py", line 7
      yield from 10  # [not-an-iterable]
               ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_from_outside_func.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_from_outside_func.py", line 2
      yield from [1, 2]  # [yield-outside-function]
               ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_inside_async_function.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_inside_async_function.py", line 4
      async def good_coro():
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_inside_async_function_py36.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_inside_async_function_py36.py", line 4
      async def good_coro():
              ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_outside_func.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/functional/yield_outside_func.py", line 2
      yield 1  # [yield-outside-function]
  SyntaxError: 'yield' outside function
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/input/func_return_yield_mix_py_33.py ...
  SyntaxError: 'return' with argument inside generator (func_return_yield_mix_py_33.py, line 8)
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/input/func_unused_import_py30.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/input/func_unused_import_py30.py", line 10
      class Meta(metaclass=abc.ABCMeta):
                          ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/regrtest_data/bad_package/__init__.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/regrtest_data/bad_package/__init__.py", line 2
      raise missing.Missing..
                            ^
  SyntaxError: invalid syntax
  
  Compiling /tmp/pip-build-TXYLMB/pylint/pylint/test/regrtest_data/syntax_error.py ...
    File "/tmp/pip-build-TXYLMB/pylint/pylint/test/regrtest_data/syntax_error.py", line 1
      class A extends B {}
                    ^
  SyntaxError: invalid syntax
{code}

Can the failed test impact Yetus's usage of pylint?

, I think the error is coming from pylint compiled itself against wrong version of python in the docker image:

{code}
pylint --version
No config file found, using default configuration
pylint 1.9.2, 
astroid 1.6.5
Python 2.7.12 (default, Dec  4 2017, 14:50:18)
{code}

Probably need to change first line of pip to python3 binary to compile pylint package against python 3.5., I thought pylint might have trouble with python 2, but [pylint community|https://github.com/PyCQA/pylint/issues/1763] claimed support python 2.7 until 2020.  As long as Yetus community verifies the failed test cases don't impact reporting results, I think this patch can be committed., Thanks for the feedback [~eyang]! :) I noticed those test errors too which I guess weren't surprising as they are in a python3 directory. I'll run this by [~aw] and the Yetus guys and make sure they are okay with the patch, (!) A patch to the testing environment has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/14903/console in case of problems.
, Thanks [~jackbearden] for working on this. Bump up the priority since all the Jenkins job seems be failing by this. , | (/) *{color:green}+1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 19s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 36s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  0s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} shelldocs {color} | {color:green}  0m 16s{color} | {color:green} There were no new shelldocs issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 56s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 27s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 24m 58s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HADOOP-15610 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12931992/HADOOP-15610.002.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  |
| uname | Linux 79e6ac6cbe36 4.4.0-130-generic #156-Ubuntu SMP Thu Jun 14 08:53:28 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / d5d4447 |
| maven | version: Apache Maven 3.3.9 |
| shellcheck | v0.4.6 |
| Max. process+thread count | 441 (vs. ulimit of 10000) |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14903/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, [~jackbearden] [~aw] Can we can use Ubuntu 16.04 provided pylint?  apt-get -q install -y pylint can provide a version of pylint 1.5.2.  Is this version adequate for Yetus?, [~eyang] I do like that approach. I tested it and docker builds OK. I just submitted patch 004 with those changes., +1 for patch 004 pending Jenkins reports., -1 on 004., [~aw] Reason?, Because I prefer I higher level of quality than 'adequate'.
, Hey [~eyang]! Thank you for your continued support while we send this one home. I just talked to Allen a minute ago about his thoughts on these proposed changes. What I parsed from the discussion was that he was more in favor of the pip2 install as that version had more bug fixes and was closer to the PEP standards. I uploaded patch 005 with his proposal. , [~aw] Hadoop has very little python code.  (3 files to be exact).  The delta between Pylint 1.5 and 1.9 are the following new features:

- generated-members
- redefining-builtins-modules
- unsupported-assignment-operation
- unsupported-delete-operation
- tailing-newlines
- useless-super-delegations
- used-prior-global-declaration in Python 3.6 syntax
- python 3 eq-without-hash
- lots of python 3 checks

I don't think any of the existing python code requires any of the new features.  Tailing-newlines is probably the only feature that may be encountered during the check, if the python files are modified in Hadoop source code.  I think this is still safer than using a pylint that fails encoding test, and save quite a bit of time to recompile pylint with fluid dependencies that might change between purges of docker image cache., bq.  existing python code

and new python code?

bq.  recompile pylint

There is no compile step. And compared to the wasted time on npm (HADOOP-15617), the install time for pylint is minor.  

I'll be +1 on 005 after Jenkins runs., (!) A patch to the testing environment has been detected. 
Re-executing against the patched versions to perform further tests. 
The console is at https://builds.apache.org/job/PreCommit-HADOOP-Build/14907/console in case of problems.
, Jenkins shows:

{code}
Collecting pylint==1.9.2
  Downloading https://files.pythonhosted.org/packages/f2/95/0ca03c818ba3cd14f2dd4e95df5b7fa232424b7fc6ea1748d27f293bc007/pylint-1.9.2-py2.py3-none-any.whl (690kB)
Collecting singledispatch; python_version < "3.4" (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/c5/10/369f50bcd4621b263927b0a1519987a04383d4a98fb10438042ad410cf88/singledispatch-3.4.0.3-py2.py3-none-any.whl
Collecting isort>=4.2.5 (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/41/d8/a945da414f2adc1d9e2f7d6e7445b27f2be42766879062a2e63616ad4199/isort-4.3.4-py2-none-any.whl (45kB)
Collecting configparser; python_version == "2.7" (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/7c/69/c2ce7e91c89dc073eb1aa74c0621c3eefbffe8216b3f9af9d3885265c01c/configparser-3.5.0.tar.gz
Collecting backports.functools-lru-cache; python_version == "2.7" (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/03/8e/2424c0e65c4a066e28f539364deee49b6451f8fcd4f718fefa50cc3dcf48/backports.functools_lru_cache-1.5-py2.py3-none-any.whl
Collecting mccabe (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting astroid<2.0,>=1.6 (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/0e/9b/18b08991c8c6aaa827faf394f4468b8fee41db1f73aa5157f9f5fb2e69c3/astroid-1.6.5-py2.py3-none-any.whl (293kB)
Collecting six (from pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/67/4b/141a581104b1f6397bfa78ac9d43d8ad29a7ca43ea90a2d863fe3056e86a/six-1.11.0-py2.py3-none-any.whl
Collecting futures (from isort>=4.2.5->pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/2d/99/b2c4e9d5a30f6471e410a146232b4118e697fa3ffc06d6a65efde84debd0/futures-3.2.0-py2-none-any.whl
Collecting enum34>=1.1.3; python_version < "3.4" (from astroid<2.0,>=1.6->pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/c5/db/e56e6b4bbac7c4a06de1c50de6fe1ef3810018ae11732a50f15f62c7d050/enum34-1.1.6-py2-none-any.whl
Collecting wrapt (from astroid<2.0,>=1.6->pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/a0/47/66897906448185fcb77fc3c2b1bc20ed0ecca81a0f2f88eda3fc5a34fc3d/wrapt-1.10.11.tar.gz
Collecting lazy-object-proxy (from astroid<2.0,>=1.6->pylint==1.9.2)
  Downloading https://files.pythonhosted.org/packages/52/7e/f0f570ba363e15251bb9fd452257ec2aff91be0187a08a893afbd8ae225f/lazy_object_proxy-1.3.1-cp27-cp27mu-manylinux1_x86_64.whl (56kB)
Building wheels for collected packages: configparser, wrapt
  Running setup.py bdist_wheel for configparser: started
  Running setup.py bdist_wheel for configparser: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/a3/61/79/424ef897a2f3b14684a7de5d89e8600b460b89663e6ce9d17c
  Running setup.py bdist_wheel for wrapt: started
  Running setup.py bdist_wheel for wrapt: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/48/5d/04/22361a593e70d23b1f7746d932802efe1f0e523376a74f321e
Successfully built configparser wrapt
Installing collected packages: six, singledispatch, futures, isort, configparser, backports.functools-lru-cache, mccabe, enum34, wrapt, lazy-object-proxy, astroid, pylint
Successfully installed astroid-1.6.5 backports.functools-lru-cache-1.5 configparser-3.5.0 enum34-1.1.6 futures-3.2.0 isort-4.3.4 lazy-object-proxy-1.3.1 mccabe-0.6.1 pylint-1.9.2 singledispatch-3.4.0.3 six-1.11.0 wrapt-1.10.11
{code}

Running setup.py is equivalent to running recompile for some python modules.  It is not as static as .deb packages, but patch 5 will work until next breakage.  +1 for patch 5 too., | (/) *{color:green}+1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  3m 22s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 13m 22s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  0s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} shelldocs {color} | {color:green}  0m 15s{color} | {color:green} There were no new shelldocs issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 21s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 36s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 30m 22s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HADOOP-15610 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12932160/HADOOP-15610.005.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  |
| uname | Linux e76bed2644dc 3.13.0-153-generic #203-Ubuntu SMP Thu Jun 14 08:52:28 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / c492eac |
| maven | version: Apache Maven 3.3.9 |
| shellcheck | v0.4.6 |
| Max. process+thread count | 336 (vs. ulimit of 10000) |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HADOOP-Build/14907/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.

, [~aw] Thank you for the review.
[~jackbearden] Thank you for the patch.

I just committed this to trunk and branch-3.1., FAILURE: Integrated in Jenkins build Hadoop-trunk-Commit #14591 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/14591/])
HADOOP-15610.  Fixed pylint version for Hadoop docker image.             (eyang: rev ba1ab08fdae96ad7c9c4f4bf8672abd741b7f758)
* (edit) dev-support/docker/Dockerfile
, Cherry-picked to branch-3.0 too., Thanks folks!, This is now  failing with a slightly different version number

"You are using pip version 8.1.1, however version 18.0 is available."  both on my laptop and https://builds.apache.org/job/PreCommit-YARN-Build/21373/console, {code}
Testing YARN-6966 patch on branch-3.0.0
{code}

This is failing because of being on the wrong branch., I see. Thanks for pointing that out, [~aw].

Looks like branch-2 build is failing for a slight different issue (https://builds.apache.org/job/PreCommit-YARN-Build/21436/console), I tried to backport this to branch-2
{code:java}
diff --git a/dev-support/docker/Dockerfile b/dev-support/docker/Dockerfile
index b1fc420..026109f 100644
--- a/dev-support/docker/Dockerfile
+++ b/dev-support/docker/Dockerfile
@@ -122,7 +122,7 @@ RUN apt-get -q install --no-install-recommends -y bats
 ####
 # Install pylint
 ####
-RUN pip install pylint
+RUN pip install pylint==1.9.2{code}
It fixes the build failure that I ran across while running ./start-build-env.sh, I created HADOOP-15644 to fix branch-2]