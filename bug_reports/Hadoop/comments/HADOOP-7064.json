[In Hadoop, "fs -rmr" without -skipTrash actually is "move to trash" if trash is enabled.  It will call or FileSystem.rename(..).  Therefore, it is allowed.  Move is also allowed in POSFIX.

There will be a permission denied for "fs -rmr -skipTrash", which will call FileSystem.delete(..)., This seems wrong to me.  The fact that rm is implemented as a move underneath is not important to the user.  The user expects certain semantics from rm.  HDFS has claimed that it follows POSIX semantics, which as far as I can tell, makes no allowance for whether the data is actually removed or moved to a trash directory.  Further, the fact that rm requires different permissions depending on whether you are using a trash directory is a broken and confusing semantic., Let's move this from HDFS to Common since this is a FsShell and Trash issue.  HDFS implementation does check permission correctly., Also edited title., Agree with [~alangates], this is the same issue reported in HDFS-8312, we should get this fixed. Otherwise HDFS opens security hole that allows user to delete other user's file. I have commented more in [here | https://issues.apache.org/jira/browse/HDFS-8312?focusedCommentId=15407456&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15407456], and a propose to fix this, not in code level, but I am going to work on it shortly. Let me know if it makes sense., I have uploaded a patch in HDFS-8312 to demonstrate this issue,  appreciate if someone can take a look and let me know if my thought looks good. 

Many thanks.]