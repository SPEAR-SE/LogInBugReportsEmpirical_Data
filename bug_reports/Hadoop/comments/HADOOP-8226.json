[Here's the first cut at the patch. It makes hadooppipes and utils bits appear under include and lib subdirectories and it also makes C++ examples appear under examples.

Please let me know if you'd rather have me integrate the native parts of the build with make-maven-plugin., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12520548/HADOOP-8226.patch.txt
  against trunk revision .

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/800//console

This message is automatically generated., Doesn't seem to be a problem on trunk anymore. From a built tarball extracted:

{code}
➜  hadoop-3.0.0-SNAPSHOT git:(trunk) ✗ ls -lR lib/
lib/:
total 4
drwxrwxr-x 2 harsh harsh 4096 Sep 23 03:47 native

lib/native:
total 3388
-rw-rw-r-- 1 harsh harsh  616824 Sep 23 03:47 libhadoop.a
-rw-rw-r-- 1 harsh harsh 1481644 Sep 23 03:47 libhadooppipes.a
lrwxrwxrwx 1 harsh harsh      18 Sep 23 04:28 libhadoop.so -> libhadoop.so.1.0.0
-rwxrwxr-x 1 harsh harsh  341760 Sep 23 03:47 libhadoop.so.1.0.0
-rw-rw-r-- 1 harsh harsh  579408 Sep 23 03:47 libhadooputils.a
-rw-rw-r-- 1 harsh harsh  266168 Sep 23 03:47 libhdfs.a
lrwxrwxrwx 1 harsh harsh      16 Sep 23 04:28 libhdfs.so -> libhdfs.so.0.0.0
-rwxrwxr-x 1 harsh harsh  176118 Sep 23 03:47 libhdfs.so.0.0.0
{code}]