[The simplest way to fix this is to make sure that the environment PATH, etc. of the account that starts the TaskTrackers is reasonable on each of the nodes.

A slightly more involved fix would be to create a config variable in the TaskTracker's config that specifies the PATH for the Tasks and have the TaskTracker set it on the child process. But that leads to a fairly slippery slope of throwing more and more process environment into the config., I should mention that there is a "standard" trick for scripts where you can't assume that the tool is in the same location on all machines where the script will run. Namely,

#!/usr/bin/env python
<... python script ...>

because the env command is always in /usr/bin and it will search the path for the command to run (in this case python). I just used python as an example, but this works for any scripting language., As Owen pointed out few weeks ago, all what is necessary is to provide a standard environment for the executables.
I suggest 3 things to be done:

(1) privide a "standard", meaningful, and documented environment to commands executed by streaming.
   It should include at least
      -- PATH that has /usr/bin,  etc. -- so that commands like grep, perl, python, awk etc are found, as well as hadoop uitilities
      -- LD_LIBRARY_PATH (to get to C and C++ shared libraries)
      
(2) allow the user to provide a file (similar to .cshrc) to define environment variables.   

(3) allow the user to define environment variable in the Streaming command.

The (1) is probably a must.
I strongly prefer (2) over (3), as I would just borrow someone set up that works, and I do not know what are the actual necessary setting., This allows a streaming job to be able to invoke standard utilities (e.g. grep, wc, etc) without specifying their full path. Feedback appreciated., This code change has been reviewied., Here is a patch to Hadoop streaming. This allows a hadoop task to inherit the PATH environment from the task tracker. A mapper specified with a relative pathname (e.g. grep) will be automatically picked up from /bin., 
   [[ Old comment, sent by email on Mon, 28 Aug 2006 22:55:04 -0700 ]]

Thanks, Owen!

this will remove some pain.

Python example is not perfect though:  the version on the cluster is  
different from the version on lab machine.  On a local machine the  
default is 2.4, while on the cluster it is 2.3.

-- ab


, I just committed this.  Thanks, Dhruba!]