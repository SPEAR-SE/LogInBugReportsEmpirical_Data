[I have found where the bug happened in source code, see [code|https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-openstack/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftNativeFileSystemStore.java#L247].  However, I have no idea about the fix so far., There's a problem here in that Swift client uses an empty file as a marker for "a directory"; there's no distinguishing of the two. This is something that S3N initated, and which the SwiftFS copies. 

If we pull it, stuff which looks for (empty) directories is going to break. e.g

{code}
Path path = new path("dir")
fs.mkdirs(path)
FileStatus stat = fs.getFileStatus(path)
assert(stat.isDirectory())
{code}

There's no easy answer here. S3A, for S3, uses files ending in "/" for directory markers, which does provide more differentiation, but complicates other things (a call to getFileStatus() takes 3 HTTP requests)]