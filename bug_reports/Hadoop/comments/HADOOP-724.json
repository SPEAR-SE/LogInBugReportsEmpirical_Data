[Attached patch., Should we avoid starting a JVM at all if neither lib/native nor build/native exist?, Hmm... we could do that; however it wouldn't be useful if we are going to check-in prebuilt Linux libraries into lib/native/Linux-i386-32 ... 
What are your current thoughts on checking-in prebuilt linux libs Doug?, > What are your current thoughts on checking-in prebuilt linux libs Doug?

I'm not sure.  Not comitting them means they'll never be out of date.  On the other hand, it means that folks who wish to use them must install a native build environment (gcc, etc.).  The proper way to do this is to package different downloads for different platforms, a 32-bit linux tar file, a Windows tar file, etc.  Perhaps the primary release could be platform independent, then we could also release platform-specific native libraries as a separate download?  What do others think?

In summary, I'm reluctant to commit them until we have a bit more experience.  Given that, we might as well avoid launching another JVM per command., Sounds good... I think it makes sense to distribute the Linux-i386-32 libraries as a separate download (atleast in the short/medium term).

Here is an updated patch incorporating your suggestion..., I just committed this.  Thanks, Arun!, Integrated in Hadoop-Hdfs-trunk-Commit #1065 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/1065/])
    HADOOP-7693. Enhance AvroRpcEngine to support the new #addProtocol introduced in HADOOP-724.

cutting : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1177399
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/AvroRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/RPC.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/WritableRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestAvroRpc.java
, Integrated in Hadoop-Common-trunk-Commit #987 (See [https://builds.apache.org/job/Hadoop-Common-trunk-Commit/987/])
    HADOOP-7693. Enhance AvroRpcEngine to support the new #addProtocol introduced in HADOOP-724.

cutting : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1177399
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/AvroRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/RPC.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/WritableRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestAvroRpc.java
, Integrated in Hadoop-Mapreduce-trunk-Commit #1009 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/1009/])
    HADOOP-7693. Enhance AvroRpcEngine to support the new #addProtocol introduced in HADOOP-724.

cutting : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1177399
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/AvroRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/RPC.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/WritableRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestAvroRpc.java
, Integrated in Hadoop-Hdfs-trunk #816 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/816/])
    HADOOP-7693. Enhance AvroRpcEngine to support the new #addProtocol introduced in HADOOP-724.

cutting : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1177399
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/AvroRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/RPC.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/WritableRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestAvroRpc.java
, Integrated in Hadoop-Mapreduce-trunk #846 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/846/])
    HADOOP-7693. Enhance AvroRpcEngine to support the new #addProtocol introduced in HADOOP-724.

cutting : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1177399
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/AvroRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/RPC.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/WritableRpcEngine.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestAvroRpc.java
]