[Attach a path.

We did the following two changes for chmod and chown respectively:

1) For 'chmod', we will give Administrator, SYSTEM, file creator full permission, and inheritable (OI, CI). One exception is if Administrator or System account set permission itself. In this case, we will set the permission according to the instruction instead of giving them full permission as in the default setting.

2) For 'chown', we will get the old Unix permission, and set the ownership, then re-apply the old Unix permission to the new file owner. This differs greatly with previous version. In previous version, we will go through the DACL list and alter each entry belong to the old owner in the list to the new owner., Havent gone through the patch but a thing to keep in mind would be to avoid appending new data to the ACL objects on files/folders or we may end up filling up the allowed space and then failing subsequent operations. I have encountered this problem in some other project so thought would mention it., >... avoid appending new data to the ACL objects on files/folders or we may end up filling up the allowed space and then failing subsequent operations.

Yes. I think the code will avoid this by overwriting the old permission settings with new permissions., Thanks Chuan.

I already reviewed this patch, so +1 from me.

The change builds fine and your test passes., +1 for the change. Committed the patch to branch-1-win. Thank you Chuan.]