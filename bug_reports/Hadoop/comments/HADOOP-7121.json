[Attached patch adds coverage to all parts of the IPC lifecycle:
- client side write param
- server side read param
- server side write response
- client side read response

In the cases that the error occurs server side, it sends back the exception to the client as well as logging it.
, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12481021/hadoop-7121.txt
  against trunk revision 1129905.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/549//console

This message is automatically generated., Updated patch against trunk, +1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12481024/hadoop-7121.txt
  against trunk revision 1129905.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 system test framework.  The patch passed system test framework compile.

Test results: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/551//testReport/
Findbugs warnings: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/551//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/551//console

This message is automatically generated., +1  lgtm

Nit: lines 1364, 1366, 1612 don't need to wrap, nits fixed. Since it was just a whitespace change from previous patch I will commit this version based on Eli's +1., Committed to trunk and 22. Thanks for reviewing, Eli, -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12481031/hadoop-7121.txt
  against trunk revision 1129982.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    -1 patch.  The patch command could not apply the patch.

Console output: https://builds.apache.org/hudson/job/PreCommit-HADOOP-Build/552//console

This message is automatically generated., Integrated in Hadoop-Common-trunk-Commit #631 (See [https://builds.apache.org/hudson/job/Hadoop-Common-trunk-Commit/631/])
    HADOOP-7121. Exceptions while serializing IPC call responses are not handled well. Contributed by Todd Lipcon.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1129982
Files : 
* /hadoop/common/trunk/CHANGES.txt
* /hadoop/common/trunk/src/java/org/apache/hadoop/ipc/Server.java
* /hadoop/common/trunk/src/test/core/org/apache/hadoop/ipc/TestIPC.java
, Integrated in Hadoop-Common-22-branch #59 (See [https://builds.apache.org/hudson/job/Hadoop-Common-22-branch/59/])
    HADOOP-7121. Exceptions while serializing IPC call responses are not handled well. Contributed by Todd Lipcon.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1129983
Files : 
* /hadoop/common/branches/branch-0.22/src/java/org/apache/hadoop/ipc/Server.java
* /hadoop/common/branches/branch-0.22/src/test/core/org/apache/hadoop/ipc/TestIPC.java
* /hadoop/common/branches/branch-0.22/CHANGES.txt
, Integrated in Hadoop-Common-trunk #706 (See [https://builds.apache.org/hudson/job/Hadoop-Common-trunk/706/])
    HADOOP-7121. Exceptions while serializing IPC call responses are not handled well. Contributed by Todd Lipcon.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1129982
Files : 
* /hadoop/common/trunk/CHANGES.txt
* /hadoop/common/trunk/src/java/org/apache/hadoop/ipc/Server.java
* /hadoop/common/trunk/src/test/core/org/apache/hadoop/ipc/TestIPC.java
, Integrated in Hadoop-Common-trunk-Commit #635 (See [https://builds.apache.org/hudson/job/Hadoop-Common-trunk-Commit/635/])
    HADOOP-7349. HADOOP-7121 accidentally disabled some tests in TestIPC. Contributed by Todd Lipcon.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1130758
Files : 
* /hadoop/common/trunk/CHANGES.txt
* /hadoop/common/trunk/src/test/core/org/apache/hadoop/ipc/TestIPC.java
, Integrated in Hadoop-Common-22-branch #61 (See [https://builds.apache.org/hudson/job/Hadoop-Common-22-branch/61/])
    HADOOP-7349. HADOOP-7121 accidentally disabled some tests in TestIPC. Contributed by Todd Lipcon.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1130757
Files : 
* /hadoop/common/branches/branch-0.22/src/test/core/org/apache/hadoop/ipc/TestIPC.java
* /hadoop/common/branches/branch-0.22/CHANGES.txt
, Integrated in Hadoop-Common-trunk #708 (See [https://builds.apache.org/hudson/job/Hadoop-Common-trunk/708/])
    HADOOP-7349. HADOOP-7121 accidentally disabled some tests in TestIPC. Contributed by Todd Lipcon.

todd : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1130758
Files : 
* /hadoop/common/trunk/CHANGES.txt
* /hadoop/common/trunk/src/test/core/org/apache/hadoop/ipc/TestIPC.java
]