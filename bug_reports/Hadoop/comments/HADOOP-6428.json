[That should do it.

What have you been running to get to this problem? This is a side effect of HDFS-771 and is extremely hard to reproduce., 0.20 patch, +1 patch looks good., > What have you been running to get to this problem? This is a side effect of HDFS-771 and is extremely hard to reproduce.

I just have seen this problem in a hudson build.

(HDFS-771 was changed to HADOOP-6386.), Correct .20 patch, I also have ran all the common tests and they were successful (should've post it here before)., Integrated in Hadoop-Common-trunk-Commit #104 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/104/])
    . HttpServer sleeps with negative values. Contributed by Konstantin Boudnik
, {noformat}
There appear to be 0 release audit warnings before the patch and 0 release audit warnings after applying the patch.

+1 overall.  
    +1 @author.  The patch does not contain any @author tags.
    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.
    +1 javadoc.  The javadoc tool did not generate any warning messages.
    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.
    +1 findbugs.  The patch does not introduce any new Findbugs warnings.
    +1 release audit.  The applied patch does not increase the total number of release audit warnings.
{noformat}

Clearly doesn't have new tests., I've just committed this, Integrated in Hadoop-Common-trunk #184 (See [http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/184/])
    . HttpServer sleeps with negative values. Contributed by Konstantin Boudnik
]