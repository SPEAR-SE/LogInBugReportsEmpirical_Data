{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13099317","self":"https://issues.apache.org/jira/rest/api/2/issue/13099317","key":"HIVE-17429","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335838","id":"12335838","description":"Maintenance branch for 2.1 ","name":"2.1.1","archived":false,"released":true,"releaseDate":"2016-12-08"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12340268","id":"12340268","name":"3.0.0","archived":false,"released":true,"releaseDate":"2018-05-21"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12341417","id":"12341417","name":"2.2.1","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-09-01T23:53:40.200+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 22 23:14:44 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_341520685_*|*_3_*:*_1_*:*_398817_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_188178279","customfield_12312321":null,"resolutiondate":"2017-09-08T00:34:43.467+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17429/watchers","watchCount":6,"isWatching":false},"created":"2017-09-01T21:19:45.758+0000","customfield_12310192":"Check for resultSet returned by TExecuteRequest in Hive JDBC.  This preserves compatibility when fetching data from Impala.","customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335837","id":"12335837","name":"2.2.0","archived":false,"released":true,"releaseDate":"2017-07-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12340269","id":"12340269","name":"2.3.0","archived":false,"released":true,"releaseDate":"2017-07-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12341418","id":"12341418","name":"2.3.1","archived":false,"released":true,"releaseDate":"2017-10-24"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342053","id":"12342053","name":"2.3.2","archived":false,"released":true,"releaseDate":"2017-11-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-05-22T23:14:44.066+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314178","id":"12314178","name":"JDBC"}],"timeoriginalestimate":null,"description":"The Hive JDBC driver used to return a result set when querying Impala.  Now, instead, it gets data back but interprets the data as query logs instead of a resultSet.  This causes many issues (we see complaints about beeline as well as test failures).\n\nThis appears to be a regression introduced with asynchronous operation against Hive.\n\nIdeally, we could make both behaviors work.  I have a simple patch that should fix the problem.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885426","id":"12885426","filename":"HIVE-17429.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-05T18:09:51.223+0000","size":1358,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885426/HIVE-17429.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885449","id":"12885449","filename":"HIVE-17429.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-05T20:19:33.649+0000","size":1358,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885449/HIVE-17429.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hive JDBC doesn't return rows when querying Impala","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10430","value":"Patch","id":"10430"}],"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16151312","id":"16151312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~zamsden] Thanks for the patch. Can you rename the patch name to HIVE-17429.1.patch to trigger the pre-commit build? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-01T23:53:40.200+0000","updated":"2017-09-01T23:53:40.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16154524","id":"16154524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"body":"That doesn't seem to have triggered the pre-commit build and it's taken far too long.  Any way to kick that build off manually?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-05T23:02:28.737+0000","updated":"2017-09-05T23:02:28.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16154553","id":"16154553","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"I see your patch next in the line in the queue. https://builds.apache.org/job/PreCommit-HIVE-Build/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-05T23:22:33.797+0000","updated":"2017-09-05T23:22:33.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16154650","id":"16154650","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12885449/HIVE-17429.2.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 11026 tests executed\n*Failed tests:*\n{noformat}\nTestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=234)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/6680/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/6680/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6680/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 5 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12885449 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-09-06T00:51:40.434+0000","updated":"2017-09-06T00:51:40.434+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16154651","id":"16154651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"Oh, now that I looked at this again it was running it for HIVE-17428 not this one. My bad. I don't know whats going on with this patch. I see it is running HIVE-17426 and I see it picks up HIVE-17428 but not this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-06T00:52:36.716+0000","updated":"2017-09-06T00:52:36.716+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16154657","id":"16154657","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"I was about to attach the patch again but looks like it posted the results just in time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-06T00:56:37.829+0000","updated":"2017-09-06T00:56:37.829+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16155693","id":"16155693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"body":"Hmm, these test failures seem to indicate possible timeouts, but missing .xml files could also indicate that metadata wasn't picked up.  Can someone from Hive take a quick look and see if these might be expected failures?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-06T17:04:10.616+0000","updated":"2017-09-06T17:04:10.616+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16156030","id":"16156030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"body":"org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] looks like a difference in test output caused by a WARNING line output in different order.\n\nRunning org.apache.hadoop.hive.cli.TestAccumuloCliDriver definitely looks like a timeout, this is the last output from Maven:\n{noformat}\n[INFO] \n[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ hive-it-qfile-accumulo ---\n[INFO] Surefire report directory: /home/hiveptest/35.193.110.99-hiveptest-0/apache-github-source-source/itests/qtest-accumulo/target/surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning org.apache.hadoop.hive.cli.TestAccumuloCliDriver\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zamsden","name":"zamsden","key":"zamsden","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zamsden&avatarId=31238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zamsden&avatarId=31238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zamsden&avatarId=31238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zamsden&avatarId=31238"},"displayName":"Zach Amsden","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-06T21:02:58.205+0000","updated":"2017-09-06T21:02:58.205+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16156404","id":"16156404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"The tests don't look related to the change. +1. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-07T03:59:06.998+0000","updated":"2017-09-07T03:59:06.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16157926","id":"16157926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"Pushed to master (3.0). Thanks Zach for the work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-08T00:34:43.520+0000","updated":"2017-09-08T00:34:43.520+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16429084","id":"16429084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markmsmith","name":"markmsmith","key":"markmsmith","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Smith","active":true,"timeZone":"America/New_York"},"body":"Hey [~aihuaxu], just a heads-up that while this fix is in the 2.1.x branch and master, it's not in the 2.2.x or 2.3.x branches.  Since 2.3.x is the latest release available on maven central just now, it'll probably bite quite a few people trying to use it with Impala.\r\n\r\nI've added the relevant releases to the 'Affects Versions' field, but you may want to consider porting the fix to 2.3 if you're planning to do any more releases before 3.0, since it's not really usable with Impala without it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markmsmith","name":"markmsmith","key":"markmsmith","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Smith","active":true,"timeZone":"America/New_York"},"created":"2018-04-06T22:23:17.983+0000","updated":"2018-04-06T22:23:17.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16436440","id":"16436440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~markmsmith] The change has been backported to 2.2 and 2.3 branches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-04-12T22:57:18.391+0000","updated":"2018-04-12T22:57:18.391+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16449955","id":"16449955","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markmsmith","name":"markmsmith","key":"markmsmith","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Smith","active":true,"timeZone":"America/New_York"},"body":"[~aihuaxu] thank you very much for backporting it, I'm sorry it's taken me some time to circle back and try upgrading again. \r\n\r\nUnfortunately, I'm still seeing the same problem with 2.2.1 and 2.3.3 with an exception being thrown from here:  \r\n\r\nhttps://github.com/apache/hive/blob/rel/release-2.3.3/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java#L477\r\n\r\nso I think there must be some other issue with how GetOperationStatus() is being built in the underlying TCLIService.Iface client:  \r\n\r\n[https://github.com/apache/hive/blob/rel/release-2.3.3/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java#L254\r\nhttps://github.com/apache/hive/blob/rel/release-2.3.3/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java#L367|https://github.com/apache/hive/blob/rel/release-2.3.3/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java#L367]  \r\n\r\nUnless the underlying client's response is fixed, I think the 2.2.x and 2.3.x branches will need to do the same workaround/fix as master, also checking the `stmtHandle` for a resultSet:  \r\n\r\n[https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java#L269]  \r\n\r\nIn case you want to test the same queries as I'm running against Impala via JDBC, I'm doing the following:\r\n * \"SHOW TABLE STATS foo.oldTable\"\r\n * \"CREATE EXTERNAL TABLE foo.newTable LIKE foo.oldTable STORED AS PARQUET LOCATION 'hdfs://MyNameServer/location/newFooDir'\"\r\n * \"SHOW CREATE TABLE foo.TEMP_newTable\"\r\n\r\nI admit that the two \"SHOW\" ones are a little unusual as 'queries', but they seem to work fine with the 2.1.1 driver.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markmsmith","name":"markmsmith","key":"markmsmith","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Smith","active":true,"timeZone":"America/New_York"},"created":"2018-04-24T14:29:41.850+0000","updated":"2018-04-24T14:29:41.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16451260","id":"16451260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~markmsmith] I guess I may have marked the wrong version since 2.3.3 is already released. It will be in the next 2.3.x. 2.2.1 is not releases so should have such change. How did you test out against 2.2.1? Did you sync and build against the latest branch-2.2 branch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-04-24T21:37:54.663+0000","updated":"2018-04-24T21:37:54.663+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13099317/comment/16485171","id":"16485171","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This jira is resolved and released with Hive 3.0 If you find an issue with it, please create a new jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-22T23:14:44.060+0000","updated":"2018-05-22T23:14:44.060+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17429/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3jkfb:"}}