{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13113104","self":"https://issues.apache.org/jira/rest/api/2/issue/13113104","key":"HIVE-17935","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2017-11-01T18:52:13.739+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Feb 02 04:16:47 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17935/watchers","watchCount":5,"isWatching":false},"created":"2017-10-30T18:15:41.657+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-02-02T04:16:47.019+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[],"timeoriginalestimate":null,"description":"The config option hive.optimize.sort.dynamic.partition is an optimization for Hiveâ€™s dynamic partitioning feature. It was originally implemented in [HIVE-6455|https://issues.apache.org/jira/browse/HIVE-6455]. With this optimization, the dynamic partition columns and bucketing columns (in case of bucketed tables) are sorted before being fed to the reducers. Since the partitioning and bucketing columns are sorted, each reducer can keep only one record writer open at any time thereby reducing the memory pressure on the reducers. There were some early problems with this optimization and it was disabled by default in HiveConf in [HIVE-8151|https://issues.apache.org/jira/browse/HIVE-8151]. Since then setting hive.optimize.sort.dynamic.partition=true has been used to solve problems where dynamic partitioning produces with (1) too many small files on HDFS, which is bad for the cluster and can increase overhead for future Hive queries over those partitions, and (2) OOM issues in the map tasks because it trying to simultaneously write to 100 different files. \r\n\r\nIt now seems that the feature is probably mature enough that it can be enabled by default.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12895013","id":"12895013","filename":"HIVE-17935.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-31T16:21:43.403+0000","size":213090,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12895013/HIVE-17935.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12895253","id":"12895253","filename":"HIVE-17935.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-01T18:45:37.258+0000","size":213090,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12895253/HIVE-17935.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12896740","id":"12896740","filename":"HIVE-17935.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-08T22:06:10.595+0000","size":221885,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12896740/HIVE-17935.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12896986","id":"12896986","filename":"HIVE-17935.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-10T00:43:01.567+0000","size":401195,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12896986/HIVE-17935.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12897347","id":"12897347","filename":"HIVE-17935.5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-13T17:01:48.930+0000","size":401195,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12897347/HIVE-17935.5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12897418","id":"12897418","filename":"HIVE-17935.6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-14T01:30:17.648+0000","size":405908,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12897418/HIVE-17935.6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12898098","id":"12898098","filename":"HIVE-17935.7.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-17T00:58:37.028+0000","size":405111,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12898098/HIVE-17935.7.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12908851","id":"12908851","filename":"HIVE-17935.8.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-02-01T19:27:52.355+0000","size":92446,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12908851/HIVE-17935.8.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Turn on hive.optimize.sort.dynamic.partition by default","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16227050","id":"16227050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"body":"This is a first cut at updating .q.out files","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-10-31T16:22:12.799+0000","updated":"2017-10-31T16:22:12.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16234559","id":"16234559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"body":"try again to see if tests will run","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-01T18:45:53.042+0000","updated":"2017-11-01T18:45:53.042+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16234570","id":"16234570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"body":"The thing to note is that this might cause performance regression for some jobs. Jobs with partition column values in the order of 10s will have regression as it may run as map only job. This feature will force a reducer stage even for small jobs. In some cases, reducer deduplication can bring in gains but in cases where there is extra reducer and small partition count this will slow down. This optimization is really beneficial when there are lots of partition which can cause queries to OOM or create GC pressure. In all cases, this will also result in optimal file structure (concurrent writers for ORC can result in too many small stripes per file which is suboptimal). So there are good and bad about this optimization. Ideally we want optimizer to make smart decision during planning whether to enable this or not based on column stats from source table. cc/ [~ashutoshc]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-01T18:52:13.739+0000","updated":"2017-11-01T18:52:13.739+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16234652","id":"16234652","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~prasanth_j] for helpful comments. Do you think the possible performance regression for some jobs to be large? Is it fair to say that the gains from changing the default are potentially large while the losses are comparatively small?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-01T20:01:53.375+0000","updated":"2017-11-01T20:01:53.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16234701","id":"16234701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Do you think the possible performance regression for some jobs to be large? \r\nUnfortunately, not quantifiable. Overhead is essentially sort + shuffle + new tasks spin up for reduce tasks. If partition column count is low and data size is small, the regression factor will be completely different than the case with large data set. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-01T20:34:44.235+0000","updated":"2017-11-01T20:34:44.235+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16234703","id":"16234703","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Is it fair to say that the gains from changing the default are potentially large while the losses are comparatively small?\r\nFor cases where it is beneficial, this is definitely a huge gain. There are many gains with this optimization. The point I was trying to make is that users should be aware of the regression for some cases until optimizer makes this decision automatically.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-01T20:36:30.069+0000","updated":"2017-11-01T20:36:30.069+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16245285","id":"16245285","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12896740/HIVE-17935.3.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 39 failed/errored test(s), 11372 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=77)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[delete_all_partitioned] (batchId=27)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=62)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[llap_acid] (batchId=78)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[llap_acid_fast] (batchId=38)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[update_all_partitioned] (batchId=50)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=148)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_merge2] (batchId=148)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=146)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[acid_no_buckets] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[delete_all_partitioned] (batchId=154)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dp_counter_mm] (batchId=150)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dp_counter_non_mm] (batchId=153)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[extrapolate_part_stats_partial_ndv] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[lineage3] (batchId=158)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_acid] (batchId=165)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_acid_fast] (batchId=157)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part1] (batchId=166)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part3] (batchId=151)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part5] (batchId=158)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acid_part_update] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acidvec_part_update] (batchId=151)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=156)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_dml] (batchId=155)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[update_all_partitioned] (batchId=160)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_partitioned_date_time] (batchId=165)\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge2] (batchId=176)\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_dyn_part] (batchId=89)\norg.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[ct_noperm_loc] (batchId=94)\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multi] (batchId=111)\norg.apache.hadoop.hive.cli.control.TestDanglingQOuts.checkDanglingQOut (batchId=206)\norg.apache.hadoop.hive.ql.TestTxnCommands2.testDynamicPartitionsMerge2 (batchId=274)\norg.apache.hadoop.hive.ql.TestTxnCommands2.testMultiInsert (batchId=274)\norg.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDynamicPartitionsMerge2 (batchId=284)\norg.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMultiInsert (batchId=284)\norg.apache.hadoop.hive.ql.parse.TestReplicationScenarios.testConstraints (batchId=223)\norg.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningUpdate (batchId=221)\norg.apache.hive.jdbc.TestTriggersTezSessionPoolManager.testTriggerCustomCreatedDynamicPartitions (batchId=230)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitions (batchId=230)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/7727/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/7727/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-7727/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 39 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12896740 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-11-09T06:51:23.435+0000","updated":"2017-11-09T06:51:23.435+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16246837","id":"16246837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"body":"more test changes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asherman","name":"asherman","key":"asherman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=asherman&avatarId=31918","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=asherman&avatarId=31918","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=asherman&avatarId=31918","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=asherman&avatarId=31918"},"displayName":"Andrew Sherman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-11-10T00:43:39.445+0000","updated":"2017-11-10T00:43:39.445+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16250477","id":"16250477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12897347/HIVE-17935.5.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 20 failed/errored test(s), 11380 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=77)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=146)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[acid_no_buckets] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=162)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[ppd_union_view] (batchId=154)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acid_part_update] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=156)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[update_all_partitioned] (batchId=160)\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multi] (batchId=111)\norg.apache.hadoop.hive.cli.control.TestDanglingQOuts.checkDanglingQOut (batchId=206)\norg.apache.hadoop.hive.ql.TestTxnCommands2.testDynamicPartitionsMerge2 (batchId=274)\norg.apache.hadoop.hive.ql.TestTxnCommands2.testMultiInsert (batchId=274)\norg.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDynamicPartitionsMerge2 (batchId=284)\norg.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMultiInsert (batchId=284)\norg.apache.hadoop.hive.ql.parse.TestReplicationScenarios.testConstraints (batchId=223)\norg.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningUpdate (batchId=221)\norg.apache.hive.jdbc.TestTriggersTezSessionPoolManager.testTriggerCustomCreatedDynamicPartitions (batchId=233)\norg.apache.hive.jdbc.TestTriggersTezSessionPoolManager.testTriggerCustomCreatedDynamicPartitionsUnionAll (batchId=233)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitionsMultiInsert (batchId=230)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitionsUnionAll (batchId=230)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/7793/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/7793/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-7793/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 20 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12897347 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-11-13T23:21:24.221+0000","updated":"2017-11-13T23:21:24.221+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16256625","id":"16256625","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12898098/HIVE-17935.7.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/7876/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/7876/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-7876/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hiveptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ date '+%Y-%m-%d %T.%3N'\n2017-11-17 08:13:54.847\n+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]\n+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'MAVEN_OPTS=-Xmx1g '\n+ MAVEN_OPTS='-Xmx1g '\n+ cd /data/hiveptest/working/\n+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-7876/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ git = \\s\\v\\n ]]\n+ [[ git = \\g\\i\\t ]]\n+ [[ -z master ]]\n+ [[ -d apache-github-source-source ]]\n+ [[ ! -d apache-github-source-source/.git ]]\n+ [[ ! -d apache-github-source-source ]]\n+ date '+%Y-%m-%d %T.%3N'\n2017-11-17 08:13:54.850\n+ cd apache-github-source-source\n+ git fetch origin\n+ git reset --hard HEAD\nHEAD is now at 987d130 HIVE-16756 : Vectorization: LongColModuloLongColumn throws java.lang.ArithmeticException: / by zero (Vihang Karajgaonkar, reviewed by Matt McCline)\n+ git clean -f -d\n+ git checkout master\nAlready on 'master'\nYour branch is up-to-date with 'origin/master'.\n+ git reset --hard origin/master\nHEAD is now at 987d130 HIVE-16756 : Vectorization: LongColModuloLongColumn throws java.lang.ArithmeticException: / by zero (Vihang Karajgaonkar, reviewed by Matt McCline)\n+ git merge --ff-only origin/master\nAlready up-to-date.\n+ date '+%Y-%m-%d %T.%3N'\n2017-11-17 08:13:59.272\n+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hiveptest/working/scratch/build.patch\n+ [[ -f /data/hiveptest/working/scratch/build.patch ]]\n+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh\n+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch\nerror: patch failed: ql/src/test/results/clientpositive/llap/ppd_union_view.q.out:258\nerror: ql/src/test/results/clientpositive/llap/ppd_union_view.q.out: patch does not apply\nerror: patch failed: ql/src/test/results/clientpositive/llap/sysdb.q.out:2190\nerror: ql/src/test/results/clientpositive/llap/sysdb.q.out: patch does not apply\nThe patch does not appear to apply with p0, p1, or p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12898098 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-11-17T08:13:59.944+0000","updated":"2017-11-17T08:13:59.944+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16349723","id":"16349723","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 31s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  5m 52s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 52s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m  8s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 30s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 21s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  2m  5s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 50s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m 50s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m  6s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 24s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 19m 17s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus/dev-support/hive-personality.sh |\r\n| git revision | master / 32b8994 |\r\n| Default Java | 1.8.0_111 |\r\n| modules | C: common ql itests/hive-unit U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-8980/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-02-02T03:26:26.847+0000","updated":"2018-02-02T03:26:26.847+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13113104/comment/16349763","id":"16349763","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12908851/HIVE-17935.8.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 92 failed/errored test(s), 12965 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=240)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_part] (batchId=16)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_1] (batchId=22)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_2] (batchId=84)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_6] (batchId=66)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_8] (batchId=14)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[delete_all_partitioned] (batchId=28)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[extrapolate_part_stats_partial] (batchId=48)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[implicit_cast_during_insert] (batchId=51)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_into6] (batchId=72)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[llap_acid] (batchId=81)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[llap_acid_fast] (batchId=40)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part10] (batchId=21)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part14] (batchId=90)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part1] (batchId=85)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part3] (batchId=12)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part4] (batchId=63)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part8] (batchId=66)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part9] (batchId=40)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_hook] (batchId=13)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge3] (batchId=59)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge4] (batchId=12)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge_dynamic_partition3] (batchId=70)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge_dynamic_partition4] (batchId=34)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge_dynamic_partition5] (batchId=33)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_int_type_promotion] (batchId=42)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge2] (batchId=91)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join5] (batchId=36)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats2] (batchId=61)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats4] (batchId=81)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats_empty_dyn_part] (batchId=33)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_15] (batchId=87)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_16] (batchId=74)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_17] (batchId=70)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_18] (batchId=7)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_25] (batchId=89)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[update_all_partitioned] (batchId=52)\norg.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_move_tbl] (batchId=175)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=152)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_stats] (batchId=148)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_merge2] (batchId=152)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[acid_no_buckets] (batchId=168)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucket_map_join_tez1] (batchId=172)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[delete_all_partitioned] (batchId=158)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dp_counter_mm] (batchId=154)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dp_counter_non_mm] (batchId=157)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[extrapolate_part_stats_partial_ndv] (batchId=168)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=167)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[lineage3] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_acid] (batchId=171)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_acid_fast] (batchId=161)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_partitioned] (batchId=157)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part1] (batchId=172)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part3] (batchId=155)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part5] (batchId=162)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[resourceplan] (batchId=164)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sample10] (batchId=164)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acid_part_update] (batchId=168)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acid_part_update_llap_io] (batchId=170)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acidvec_part_update] (batchId=155)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_orc_acidvec_part_update_llap_io] (batchId=172)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=161)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_dml] (batchId=160)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_input_counters] (batchId=170)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[update_all_partitioned] (batchId=165)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_count_distinct] (batchId=157)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_partitioned_date_time] (batchId=170)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_input_format_excludes] (batchId=163)\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_dynamic_partition_pruning_4] (batchId=181)\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_dynamic_partition_pruning_5] (batchId=182)\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_dynamic_partition_pruning_mapjoin_only] (batchId=180)\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_explain_groupbyshuffle] (batchId=179)\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_dyn_part] (batchId=92)\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join5] (batchId=122)\norg.apache.hadoop.hive.cli.TestSparkPerfCliDriver.testCliDriver[query83] (batchId=250)\norg.apache.hadoop.hive.cli.control.TestDanglingQOuts.checkDanglingQOut (batchId=221)\norg.apache.hadoop.hive.ql.TestTxnCommands2.testDynamicPartitionsMerge2 (batchId=280)\norg.apache.hadoop.hive.ql.TestTxnCommands2.testMultiInsert (batchId=280)\norg.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDynamicPartitionsMerge2 (batchId=290)\norg.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMultiInsert (batchId=290)\norg.apache.hadoop.hive.ql.TestTxnNoBuckets.testCompactStatsGather (batchId=280)\norg.apache.hadoop.hive.ql.TestTxnNoBucketsVectorized.testCompactStatsGather (batchId=280)\norg.apache.hadoop.hive.ql.exec.TestOperators.testNoConditionalTaskSizeForLlap (batchId=282)\norg.apache.hadoop.hive.ql.io.TestDruidRecordWriter.testWrite (batchId=256)\norg.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningUpdate (batchId=226)\norg.apache.hive.beeline.cli.TestHiveCli.testNoErrorDB (batchId=188)\norg.apache.hive.jdbc.TestSSL.testConnectionMismatch (batchId=234)\norg.apache.hive.jdbc.TestSSL.testConnectionWrongCertCN (batchId=234)\norg.apache.hive.jdbc.TestSSL.testMetastoreConnectionWrongCertCN (batchId=234)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitions (batchId=235)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitionsUnionAll (batchId=235)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedFiles (batchId=235)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/8980/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/8980/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-8980/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 92 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12908851 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-02-02T04:16:47.019+0000","updated":"2018-02-02T04:16:47.019+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17935/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3lvov:"}}