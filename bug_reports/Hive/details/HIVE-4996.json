{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12661631","self":"https://issues.apache.org/jira/rest/api/2/issue/12661631","key":"HIVE-4996","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324986","id":"12324986","description":"released","name":"0.13.0","archived":false,"released":true,"releaseDate":"2014-04-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-08-19T00:55:32.256+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Feb 12 19:26:46 UTC 2014","customfield_12310420":"341820","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_3230871774_*|*_1_*:*_2_*:*_13327111410_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-02-12T19:20:14.508+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4996/watchers","watchCount":18,"isWatching":false},"created":"2013-08-05T03:53:51.356+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":["hive","metastore"],"customfield_12312333":null,"customfield_12310230":"hive Metastore","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":1814400,"aggregatetimeoriginalestimate":1814400,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320745","id":"12320745","description":"released","name":"0.10.0","archived":false,"released":true,"releaseDate":"2013-01-11"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12323587","id":"12323587","description":"Hive 0.11.0","name":"0.11.0","archived":false,"released":true,"releaseDate":"2013-05-15"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324312","id":"12324312","description":"released","name":"0.12.0","archived":false,"released":true,"releaseDate":"2013-10-15"}],"issuelinks":[{"id":"12385552","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12385552","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12599328","key":"HIVE-3272","self":"https://issues.apache.org/jira/rest/api/2/issue/12599328","fields":{"summary":"RetryingRawStore will perform partial transaction on retry","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12401855","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12401855","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12754944","key":"HIVE-8850","self":"https://issues.apache.org/jira/rest/api/2/issue/12754944","fields":{"summary":"ObjectStore:: rollbackTransaction() needs to be looked into further.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12378837","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12378837","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12666222","key":"HIVE-5181","self":"https://issues.apache.org/jira/rest/api/2/issue/12666222","fields":{"summary":"RetryingRawStore should not retry on logical failures (e.g. from commit)","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12378836","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12378836","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12478704","key":"HIVE-1760","self":"https://issues.apache.org/jira/rest/api/2/issue/12478704","fields":{"summary":"Mismatched open/commit transaction calls in case of connection retry","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12380668","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12380668","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"12655818","key":"HIVE-4807","self":"https://issues.apache.org/jira/rest/api/2/issue/12655818","fields":{"summary":"Hive metastore hangs","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-11-20T21:52:22.847+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312584","id":"12312584","name":"Metastore","description":"Tracks issue dealing with metastore."}],"timeoriginalestimate":1814400,"description":"when we used hiveserver1 based on hive-0.10.0, we found the Exception thrown.It was:\n\nFAILED: Error in metadata: MetaException(message:java.lang.RuntimeException: commitTransaction was called but openTransactionCalls = 0. This probably indicates that the\nre are unbalanced calls to openTransaction/commitTransaction)\nFAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask\n\nhelp","customfield_10010":null,"timetracking":{"originalEstimate":"504h","remainingEstimate":"504h","originalEstimateSeconds":1814400,"remainingEstimateSeconds":1814400},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12626772","id":"12626772","filename":"HIVE-4996.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-03T23:25:36.619+0000","size":23667,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12626772/HIVE-4996.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12627045","id":"12627045","filename":"HIVE-4996.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-05T01:11:59.098+0000","size":28161,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12627045/HIVE-4996.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12627269","id":"12627269","filename":"HIVE-4996.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-06T01:52:30.040+0000","size":28284,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12627269/HIVE-4996.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12628142","id":"12628142","filename":"HIVE-4996.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-11T02:23:27.400+0000","size":26062,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12628142/HIVE-4996.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12626761","id":"12626761","filename":"HIVE-4996.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-03T23:04:55.699+0000","size":23682,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12626761/HIVE-4996.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12621577","id":"12621577","filename":"hive-4996.path","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-01-06T09:41:29.977+0000","size":2545,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12621577/hive-4996.path"}],"aggregatetimeestimate":1814400,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"342126","customfield_12312823":null,"summary":"unbalanced calls to openTransaction/commitTransaction","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":1814400,"percent":0},"customfield_12311024":null,"environment":"hiveserver1  Java HotSpot(TM) 64-Bit Server VM (build 20.6-b01, mixed mode)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":1814400,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13729097","id":"13729097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"body":"this bug  occurred in the hive 0.7.0 ,see https://issues.apache.org/jira/browse/HIVE-1760  .but it was reproduced in  hive-0.10.0 ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-08-05T03:57:07.669+0000","updated":"2013-08-05T03:57:07.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13743461","id":"13743461","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thelogenator","name":"thelogenator","key":"thelogenator","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Logan Hardy","active":true,"timeZone":"America/Denver"},"body":"I'm seeing this same issue with hive-server2-0.10.0 and hive-metastore-0.10.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thelogenator","name":"thelogenator","key":"thelogenator","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Logan Hardy","active":true,"timeZone":"America/Denver"},"created":"2013-08-19T00:55:32.256+0000","updated":"2013-08-19T00:55:32.256+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13743686","id":"13743686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"body":"Could you specify the last operation you tried? It will be helpful to find the bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"created":"2013-08-19T10:01:31.062+0000","updated":"2013-08-19T10:01:31.062+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13744162","id":"13744162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thelogenator","name":"thelogenator","key":"thelogenator","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Logan Hardy","active":true,"timeZone":"America/Denver"},"body":"Thanks for your reply Teddy. I have a hive script that drops then\nre-creates a couple of tables. I assumed that it was the \"drop table if\nexists\" steps but upon further investigation at least in the latest\ninstance it was the last step that failed.  *--uber_responsemapping*\n\n\n\n\n[root@ALLEG-P-H0001 exec_etl-wf]# cat drop_uber_tables.q\nDROP TABLE if exists ${hivedbname}.uber_responsemapping;\nDROP TABLE if exists ${hivedbname}.ubermap;\n\n--ubermap\nCreate table ${hivedbname}.ubermap (\nubermapid int,\nid int,\nvalue string,\nsurveyid int,\nuberindex int,\nuberbit bigint,\nmodifieddate string)\nPartitioned by (Maptype int )\nClustered by (id ) into 20 BUCKETS;\n\n*--uber_responsemapping*\n*Create Table ${hivedbname}.uber_responsemapping (*\n*id int, *\n*responseid int, *\n*respondentid int, *\n*answerid int, *\n*scaleid int, *\n*responserank int, *\n*respondentstate int, *\n*modifieddatetime string, *\n*value string, *\n*answerweight int,*\n*answerdatatype string,*\n*dataaction string)*\n*Partitioned by (surveyid int)*\n*Clustered by (respondentid) into 50 BUCKETS;*\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thelogenator","name":"thelogenator","key":"thelogenator","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Logan Hardy","active":true,"timeZone":"America/Denver"},"created":"2013-08-19T20:19:50.218+0000","updated":"2013-08-19T20:19:50.218+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13744589","id":"13744589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"body":"Sorry, [~thelogenator]. I'm confused. To make it clear, did you used asterisks for bold letters only?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"created":"2013-08-20T01:16:38.032+0000","updated":"2013-08-20T01:16:38.032+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13744601","id":"13744601","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"body":"I removed formats and executed your queries. They worked without any error. It seems like there are more causes.\n\nCan you show me more information? Such as hivedbname, whether there were tables before executing drop queries.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"created":"2013-08-20T01:33:13.596+0000","updated":"2013-08-20T01:33:13.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13744611","id":"13744611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"body":"If it becomes reproducible, then I will try to fix it again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teddy.choi","name":"teddy.choi","key":"teddy.choi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teddy.choi&avatarId=17686","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teddy.choi&avatarId=17686","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teddy.choi&avatarId=17686","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teddy.choi&avatarId=17686"},"displayName":"Teddy Choi","active":true,"timeZone":"Asia/Seoul"},"created":"2013-08-20T01:51:24.167+0000","updated":"2013-08-20T01:51:24.167+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13757438","id":"13757438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"body":"I found that question occurred when hiveserver were running continuously several days,and concurrently creating table ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-09-04T03:48:41.664+0000","updated":"2013-09-04T03:48:41.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13762495","id":"13762495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"note that the error message may be misleading, see HIVE-5181","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-10T00:04:31.885+0000","updated":"2013-09-10T00:04:31.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13762666","id":"13762666","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"body":"maybe the cause of this question was  that SergeyShelukhin issued. but what's the some real issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wfeng1982","name":"wfeng1982","key":"wfeng1982","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"wangfeng","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-09-10T02:51:27.195+0000","updated":"2013-09-10T02:51:27.195+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13772313","id":"13772313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsharley-fm","name":"jsharley-fm","key":"jsharley-fm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Sharley","active":true,"timeZone":"America/Denver"},"body":"We have seen similar issues in an environment with a lot of concurrent hive access from multiple machines all running version 0.11.  Our first thought was that we needed to turn on hive.support.concurrency.  However, after doing this on all of our hosts including the ones running hiveserver we still see an intermittent issue.  I've not been able to reliably reproduce it, but it does happen at least a few times a day as part of our regularly scheduled jobs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsharley-fm","name":"jsharley-fm","key":"jsharley-fm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonathan Sharley","active":true,"timeZone":"America/Denver"},"created":"2013-09-19T21:04:06.226+0000","updated":"2013-09-19T21:04:06.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13854676","id":"13854676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liheyuan","name":"liheyuan","key":"liheyuan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heyuan Li","active":true,"timeZone":"Etc/UTC"},"body":"We are meeting the same issue in hive 0.11, standalone mode + MySQL as metastore.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liheyuan","name":"liheyuan","key":"liheyuan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heyuan Li","active":true,"timeZone":"Etc/UTC"},"created":"2013-12-20T23:32:38.952+0000","updated":"2013-12-20T23:32:38.952+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13862873","id":"13862873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"body":"Every thing works well after i change connection pool from bonecp to dbcp . You can have a try.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-01-06T09:28:45.232+0000","updated":"2014-01-06T09:28:45.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13862878","id":"13862878","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"body":"change connection poll from bonecp to dbcp","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-01-06T09:41:29.982+0000","updated":"2014-01-06T09:41:29.982+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13863105","id":"13863105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"HIVE-4807 changed it to bonecp due to another bug. Maybe some additional instrumentation (such as tracking db queries) can uncover the cause of this bug, instead of just changing it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-06T16:53:27.077+0000","updated":"2014-01-06T16:53:27.077+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13863702","id":"13863702","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"body":"bonecp leads to communication with db fails,this is why there are unbalanced transcations .","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-01-07T00:28:08.418+0000","updated":"2014-01-07T00:28:08.418+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13863708","id":"13863708","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"body":"Maybe there are some wrong usage of bonecp in hive,but i am sure bonecp is in charge of this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyril.liao","name":"cyril.liao","key":"cyril.liao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"cyril liao","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-01-07T00:34:57.774+0000","updated":"2014-01-07T00:34:57.774+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13881631","id":"13881631","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhsenjaliya","name":"jhsenjaliya","key":"jhsenjaliya","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jayesh","active":true,"timeZone":"America/Los_Angeles"},"body":"just want to add my experience and testing with this bug,\n- looks like BoneCP has bug.\n- switching to DBCP resolved this issue for me.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhsenjaliya","name":"jhsenjaliya","key":"jhsenjaliya","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jayesh","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-25T03:04:06.980+0000","updated":"2014-01-25T03:04:06.980+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13881806","id":"13881806","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"body":"The patch is misnamed:  hive-4996.path should be hive-4996.patch.  (It downloads instead of opening when I click the link.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"created":"2014-01-25T10:32:49.666+0000","updated":"2014-01-25T10:32:49.666+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13885085","id":"13885085","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgumashta","name":"vgumashta","key":"vgumashta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vaibhav Gumashta","active":true,"timeZone":"America/Los_Angeles"},"body":"[~cyril.liao] What version of bonecp are you using? Bonecp has been upgraded to a newer version in this patch: [HIVE-6170|https://issues.apache.org/jira/browse/HIVE-6170]. Can you test with the newer version?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgumashta","name":"vgumashta","key":"vgumashta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vaibhav Gumashta","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-29T07:02:16.706+0000","updated":"2014-01-29T07:02:16.706+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13885845","id":"13885845","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"I put some instrumentation code and saw the following in one instance of this exception:\n\n1.  HMSHandler.create_table_with_core makes a series of calls to the RawStore: {open, call1, call2, call3, commmit}\n\n2.  Suddenly there is a strange BoneCP message saying it is closing the connection.\n{code}\n2014-01-28 22:50:34,565 WARN  bonecp.ConnectionPartition (ConnectionPartition.java:finalizeReferent(162)) - BoneCP detected an unclosed connection and will now attempt to close it for you. You should be closing this connection in your application - enable connectionWatch for additional debugging assistance or set disableConnectionTracking to true to disable this feature entirely.\n{code}\n\n3.  This causes a certain RawStore operation {calln} to fail on commit, and rollback to occur.  In this case, failing operation is in nested-transaction (openTransactions > 1)\n\n4.  This RawStore operation {calln} is re-tried by virtue of the retrying metastore client, and succeeds (using perhaps another BoneCP connection).\n\n5.  But there is still the final commit() call of HMSHandler operation in step 1, and it will be unbalanced.\n\nSo there are two issues, one is BoneCP randomly closing the connection, and also the design of RetryingRawStore. \n\nIn my opinion, we should rely on RetryingHMSHandler and get rid of RetryingRawStore, as we should always retry the whole transaction as a unit.  It doesn't make sense too much sense to me to retry individual operations, within a nested transaction, unless I am missing something.  I could take a stab, what do people think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-01-29T21:40:05.923+0000","updated":"2014-01-29T21:40:05.923+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13885848","id":"13885848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Sorry there is a minor typo in 4.  It should read: \n\nThis RawStore operation {calln} is re-tried by virtue of the RetryingRawStore, and succeeds","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-01-29T21:42:18.911+0000","updated":"2014-01-29T21:42:18.911+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13885911","id":"13885911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"There's attribute in retryingrawstore I think that prevents commit itself from being retries.\nPerhaps it (or something similar?) can also be used to prevent write ops from being retried? Retrying read ops might make sense.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-29T22:24:23.801+0000","updated":"2014-01-29T22:24:23.801+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13885951","id":"13885951","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"I think that most operations have read/write both, and the RetryingRawStore doesn't have enough context to tell whether the failing read has any writes before it, in which the rollback would affect.\n\nAlso , it doesn't get around the unbalanced problem.  As the first open() is not called again, so the final commit() would be unbalanced after any retry, read or write.\n\nFor example:\n{code}\nHMSHandler.createTable()\n   ms.open()  //openTx = 1\n   ms.getTable() // fails and rollback: set openTx = 0.  Then retries, openTx = 1, then openTx = 0 on success.\n   ms.createTable()  //openTx = 1 then openTx = 0.\n   ms.commit();  //unbalanced transaction as activeTx = 0\n{code}\n\nIn normal scenario:\n\n{code}\nHMSHandler.createTable()\n   ms.open()  //openTx = 1\n   ms.getTable() // openTx = 2, then openTx = 1\n   ms.createTable()  //openTx = 2, then openTx = 1.\n   ms.commit();  //openTx = 0\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-01-29T22:55:06.962+0000","updated":"2014-01-29T22:55:06.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13886892","id":"13886892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"In some more testing, the workaround for the issue is to set the configuration hive.metastore.ds.retry.attempts=0, as this de-activates RetryingMetastore.  If there is any transient BoneCP error like this, RetryingHMSHandler will retry whole transaction from the beginning.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-01-30T18:41:41.162+0000","updated":"2014-01-30T18:41:41.162+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13887423","id":"13887423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"One more observation about the particular BoneCP error \"BoneCP detected an unclosed connection and will now attempt to close it for you.\"   It seems it is a problem of the 0.8.0 release.  There are some discussions about this, including at [http://jolbox.com/forum/viewtopic.php?f=3&t=387&start=10|http://jolbox.com/forum/viewtopic.php?f=3&t=387&start=10]. We have not seen the error when we reverted back to BoneCP 0.7.1.  \n\nBut I guess this is an orthogonal issue, as any transient DB/Bonecp error will be hidden by RetryingRawStore bug.  Just so happens that with BoneCP 0.8.0, it seems to be more frequent.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-01-31T03:23:09.154+0000","updated":"2014-01-31T03:23:09.154+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13890070","id":"13890070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Attaching a fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-03T23:04:55.722+0000","updated":"2014-02-03T23:04:55.722+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13890072","id":"13890072","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Attached the link to code review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-03T23:06:39.713+0000","updated":"2014-02-03T23:06:39.713+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13890346","id":"13890346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12626772/HIVE-4996.1.patch\n\n{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 4995 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_url_hook\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_merge\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table\norg.apache.hadoop.hive.common.type.TestDecimal128.testHighPrecisionDecimal128Multiply\n{noformat}\n\nTest results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1170/testReport\nConsole output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1170/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 5 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12626772","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-02-04T03:46:39.621+0000","updated":"2014-02-04T03:46:39.621+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13891560","id":"13891560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Fixing url_hook failure.\n\nOther failures do not seem related to this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-05T01:11:59.103+0000","updated":"2014-02-05T01:11:59.103+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13892222","id":"13892222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12627045/HIVE-4996.2.patch\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 5008 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.metastore.TestMetaStoreListenersError.testEventListenerException\norg.apache.hadoop.hive.metastore.TestMetaStoreListenersError.testInitListenerException\n{noformat}\n\nTest results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1200/testReport\nConsole output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1200/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12627045","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-02-05T15:22:16.921+0000","updated":"2014-02-05T15:22:16.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13892901","id":"13892901","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Fixing the negative-test cases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-06T01:52:30.045+0000","updated":"2014-02-06T01:52:30.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13893233","id":"13893233","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12627269/HIVE-4996.3.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 5033 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20\n{noformat}\n\nTest results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1213/testReport\nConsole output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1213/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12627269","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-02-06T10:12:31.172+0000","updated":"2014-02-06T10:12:31.172+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13895252","id":"13895252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"[~szehon] Thanks for taking care of this issue. I left a comment on RB.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-07T23:42:36.808+0000","updated":"2014-02-07T23:42:36.808+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13897461","id":"13897461","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Addressing review comments + rebase.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-11T02:23:27.408+0000","updated":"2014-02-11T02:23:27.408+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13897500","id":"13897500","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-11T03:28:53.932+0000","updated":"2014-02-11T03:28:53.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13899066","id":"13899066","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12628142/HIVE-4996.4.patch\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 5084 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16\n{noformat}\n\nTest results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1282/testReport\nConsole output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1282/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12628142","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-02-12T12:49:55.796+0000","updated":"2014-02-12T12:49:55.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13899432","id":"13899432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"I saw authorization_revoke_table_priv is broken for all recent pre-commit builds.  I ran the minimr test without the issue, it seems to be flaky.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-12T18:57:57.298+0000","updated":"2014-02-12T18:57:57.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13899456","id":"13899456","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch committed to trunk. Thank Szehon for the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-12T19:20:14.531+0000","updated":"2014-02-12T19:20:14.531+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12661631/comment/13899468","id":"13899468","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Thanks Xuefu for the review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-02-12T19:26:46.374+0000","updated":"2014-02-12T19:26:46.374+0000"}],"maxResults":40,"total":40,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4996/votes","votes":6,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1my8v:"}}