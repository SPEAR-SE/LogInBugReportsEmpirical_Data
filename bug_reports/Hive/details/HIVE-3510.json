{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12609426","self":"https://issues.apache.org/jira/rest/api/2/issue/12609426","key":"HIVE-3510","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2015-04-08T17:57:38.663+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Apr 08 17:57:38 UTC 2015","customfield_12310420":"259282","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_79746999031_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-04-08T17:57:38.605+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3510/watchers","watchCount":4,"isWatching":false},"created":"2012-09-27T18:00:59.707+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317742","id":"12317742","description":"released","name":"0.9.0","archived":false,"released":true,"releaseDate":"2012-04-30"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=apivovarov","name":"apivovarov","key":"apivovarov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apivovarov&avatarId=25851","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apivovarov&avatarId=25851","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apivovarov&avatarId=25851","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apivovarov&avatarId=25851"},"displayName":"Alexander Pivovarov","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-04-08T17:57:38.734+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313585","id":"12313585","name":"UDF","description":"This includes the UDFs and UDAFs"}],"timeoriginalestimate":null,"description":"When attempting to convert a UNIX timestamp to UTC the conversion fails if the input does not include micro or nano seconds:\n\n{code}SELECT to_utc_timestamp(unix_timestamp('27/Sep/2012:09:53:35','dd/MMM/yyyy:HH:mm:ss'),'America/Denver') FROM source_table LIMIT 1;{code}\n\n*1970-01-16 14:39:21.215*\n\n\"Converting\" to a float provides a workaround:\n\n{code}SELECT to_utc_timestamp(unix_timestamp('27/Sep/2012:09:53:35','dd/MMM/yyyy:HH:mm:ss') * 1.0,'America/Denver') FROM source_table LIMIT 1;{code}\n\n*2012-09-27 15:53:35.0*\n\nAs does \"adding\" nano seconds:\n\n{code}SELECT to_utc_timestamp(unix_timestamp('27/Sep/2012:09:53:35','dd/MMM/yyyy:HH:mm:ss') * 1000,'America/Denver') FROM source_table LIMIT 1;{code}\n\n*2012-09-27 15:53:35.0*\n\nThis problem may be at the heart of HIVE-3454 as well.\n\nDocumentation here: https://cwiki.apache.org/Hive/languagemanual-types.html#LanguageManualTypes-Timestamps\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"124535","customfield_12312823":null,"summary":"to_utc_timestamp() does not properly handle UNIX timestamp conversions without nanoseconds","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=parepidemos","name":"parepidemos","key":"parepidemos","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=parepidemos&avatarId=15874","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=parepidemos&avatarId=15874","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=parepidemos&avatarId=15874","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=parepidemos&avatarId=15874"},"displayName":"Richard Nadeau","active":true,"timeZone":"America/Denver"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=parepidemos","name":"parepidemos","key":"parepidemos","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=parepidemos&avatarId=15874","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=parepidemos&avatarId=15874","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=parepidemos&avatarId=15874","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=parepidemos&avatarId=15874"},"displayName":"Richard Nadeau","active":true,"timeZone":"America/Denver"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Ubuntu LTS 10.04","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12609426/comment/14485651","id":"14485651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=apivovarov","name":"apivovarov","key":"apivovarov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apivovarov&avatarId=25851","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apivovarov&avatarId=25851","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apivovarov&avatarId=25851","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apivovarov&avatarId=25851"},"displayName":"Alexander Pivovarov","active":true,"timeZone":"America/Los_Angeles"},"body":"checked this on 1.2.0 - function output is correct\n{code}\nhive> SELECT to_utc_timestamp(unix_timestamp('27/Sep/2012:09:53:35','dd/MMM/yyyy:HH:mm:ss'), 'America/Denver');\nOK\n2012-09-27 15:53:35\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=apivovarov","name":"apivovarov","key":"apivovarov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=apivovarov&avatarId=25851","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apivovarov&avatarId=25851","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apivovarov&avatarId=25851","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apivovarov&avatarId=25851"},"displayName":"Alexander Pivovarov","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-08T17:57:38.663+0000","updated":"2015-04-08T17:57:38.663+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3510/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lnzb:"}}