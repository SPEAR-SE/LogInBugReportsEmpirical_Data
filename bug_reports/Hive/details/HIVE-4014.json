{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12632117","self":"https://issues.apache.org/jira/rest/api/2/issue/12632117","key":"HIVE-4014","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320745","id":"12320745","description":"released","name":"0.10.0","archived":false,"released":true,"releaseDate":"2013-01-11"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-02-25T23:04:11.985+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Apr 15 16:54:07 UTC 2013","customfield_12310420":"312613","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5329381832_*|*_5_*:*_2_*:*_44838_*|*_4_*:*_1_*:*_9711","customfield_12312321":null,"resolutiondate":"2013-04-15T16:53:02.456+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4014/watchers","watchCount":5,"isWatching":false},"created":"2013-02-13T00:29:06.092+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-04-15T16:54:07.117+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"With even simple projection queries, I see that HDFS bytes read counter doesn't show any reduction in the amount of data read.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"312959","customfield_12312823":null,"summary":"Hive+RCFile is not doing column pruning and reading much more data than necessary","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13577216","id":"13577216","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"I already tracked it down, will upload a patch soon..","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-13T00:29:33.799+0000","updated":"2013-02-13T00:29:33.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13586425","id":"13586425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"body":"I can not see affected versions here but I found the same issue on \n\nCDH4.1.3 - which is using hadoop-2.0.0+556 / hive-0.9.0+158\n\nThan I have downloaded and tested \nhadoop 1.0.3 / hive 0.10.0 and\nhadoop 1.0.4 / hive 0.10.0 \nBoth working fine and pruning is effective in these case.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"created":"2013-02-25T23:04:11.985+0000","updated":"2013-02-25T23:04:11.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13586701","id":"13586701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lianhuiwang","name":"lianhuiwang","key":"lianhuiwang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lianhui Wang","active":true,"timeZone":"Etc/UTC"},"body":"i donot think that.\ni see the code.\nin HiveInputFormat and CombineHiveInputFormat's getRecordReader()， it calls pushProjectionsAndFilters().\nalso in pushProjectionsAndFilters(), from TableScanOperator it get needed columns and  set these ids to hive.io.file.readcolumn.ids.\nand then in RCFile.Reader will read hive.io.file.readcolumn.ids to skip column.\nmaybe the counter has some mistakes.\nif i have mistake,please tell me.thx.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lianhuiwang","name":"lianhuiwang","key":"lianhuiwang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lianhui Wang","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-26T03:45:44.063+0000","updated":"2013-02-26T03:45:44.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13587776","id":"13587776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"body":"I could not check the code but experience is different. See my results.\n\nset dfs.replication=1;\nset mapred.submit.replication=1;\nset mapred.submit.replication=1;\nset hive.exec.dynamic.partition.mode=nonstrict;\nset hive.exec.dynamic.partition=true;\nset hive.exec.max.dynamic.partitions.pernode=1000;\n\n-- # Below command will create an artificial csv input file ~ 1.5Gb with 10m rows\n-- # i=0 ; while [ $i -lt 10000000 ] ; do echo \"$i,$((i%5)),12345678901234567890123456789012345678901234567890,abcdefghjkabcdefghjkabcdefghjkabcdefghjkabcdefghjk,00000000000000000000000000000000000000000000000000,,,\" ; ((i=i+1)) ; done >/mnt/hadoop/RCTEST.csv\n\n-- Load this data into a base table\nDROP TABLE RCTEST_CSV;\nCREATE TABLE RCTEST_CSV (\n  id       BIGINT,\n  counter  STRING,\n  value2   STRING,\n  value3   STRING,\n  value4   STRING,\n  value5   STRING\n)\nROW FORMAT DELIMITED FIELDS TERMINATED BY '44' LINES TERMINATED BY '\\n';\nLOAD DATA LOCAL INPATH \"/mnt/hadoop/RCTEST.csv\" INTO TABLE RCTEST_CSV;\n\n-- Multiply it into a \"BAD\" table. \n-- This will require ~30Gb altogether and will have 200m rows.\nDROP TABLE RCTEST_BAD;\nCREATE TABLE RCTEST_BAD\nSTORED AS RCFILE\nAS \n  SELECT * FROM RCTEST_CSV\n;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\nINSERT INTO TABLE RCTEST_BAD\nSELECT * FROM RCTEST_CSV;\n\n-- Create a table to simulate the expected column pruning.\n-- Below will require ~1.5Gb and will also have 200m rows.\nDROP TABLE RCTEST_GOOD;\nCREATE TABLE RCTEST_GOOD\nSTORED AS RCFILE\nAS \n  SELECT id,counter FROM RCTEST_BAD\n;\n\n-- Lets start measuring performance.\n-- For this test my cluster had 1 node with 2 disks in a stripe. (Rest of the nodes were decomissioned to eliminate parallel reads accross nodes.)\n-- Read speed is roughly 110Mb/sec/disk. In global this means 220Mb/sec max.\n--\n-- Please execute the below OS command to eliminate OS caching everytime before you execute any of the below SQL command!!!\n--\n-- sync && echo 3 >/proc/sys/vm/drop_caches\n--\n-- 1.) Should be slow. This is the reference value for full read.\nSELECT count(*) FROM RCTEST_BAD;\n-- RESULT: 158 sec\n--\n-- 2.) Should be faster than 1 because of column pruning.\nSELECT count(id) FROM RCTEST_BAD;\n-- RESULT: 156 sec\n-- Actually I belive this is a proof that column pruning is not working. But lets go further.\n--\n-- 3.) Roughly should be like 2 but faster than 1.\nSELECT COUNT(counter) FROM RCTEST_BAD;\n-- RESULT: 159 sec\n--\n--\n--\n-- Lets see how it works with the simulated pruning.\n--\n-- 4.) Should be faster than 1. In theory roughly should be same as 2 with proper pruning.\nSELECT count(*) from RCTEST_GOOD;\n-- RESULT: 29 sec\n--\n-- 5.) Should be same as 4 since pruning does not work here either.\nSELECT count(id) FROM RCTEST_GOOD;\n-- RESULT: 31 sec\n--\n-- 6.) Should be same as 4 since pruning does not work here either\nSELECT count(counter) FROM RCTEST_GOOD;\n-- RESULT: 31 sec\n--\n--\n-- SHORT TEST WITH A GOOD VERSION\n-- \n-- Now lets see 1. and 2. on a well working apache 1.0.4 release.\n-- The machine is my desktop notebook. One harddisk only. \n-- Amount of data is ONLY 10m rows now.\n-- 2.1.) Should be slow. This is the reference value for full read.\nSELECT count(*) FROM RCTEST_BAD;\n-- RESULT: 80 sec\n--\n-- 2.2.) Should be faster than 2.1 because of column pruning.\nSELECT count(id) FROM RCTEST_BAD;\n-- RESULT: 47 sec\n-- YEEEES!!!! That is what I assumed. More data would mean more performance gain especially on better hardwares.\n--\n-- 2.5.) Should be faster than 2.1. In theory roughly should be same as 2.2 with proper pruning.\nSELECT count(id) from RCTEST_GOOD;\n-- RESULT: 44 sec\n-- HERE WE ARE! AS EXPECTED.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"created":"2013-02-27T00:16:11.611+0000","updated":"2013-02-27T00:16:11.611+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13589226","id":"13589226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lianhuiwang","name":"lianhuiwang","key":"lianhuiwang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lianhui Wang","active":true,"timeZone":"Etc/UTC"},"body":"hi,Tamas\nthank you very much,you are right.\nalso i think rcfile.reader are not very efficient.\nthe readed column ids are transfer to rcfile.reader.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lianhuiwang","name":"lianhuiwang","key":"lianhuiwang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lianhui Wang","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-28T05:48:06.573+0000","updated":"2013-02-28T05:48:06.573+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13591058","id":"13591058","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Okay, I cannot reproduce this on trunk, though I was consistently hitting this on hive-0.10. I'll try hive-0.10 again to be sure some other patch fixed this.\n\n[~tamastarjanyi], what version are you using?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-03-01T23:02:10.987+0000","updated":"2013-03-01T23:02:10.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13591350","id":"13591350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Vinod,\n\nAs I have stated above \n\nBAD: CDH4.1.3 - which is using hadoop-2.0.0+556 / hive-0.9.0+158\nGOOD: hadoop 1.0.3 / hive 0.10.0 (apache download)\nGOOD: hadoop 1.0.4 / hive 0.10.0 (apache download)\nMeanwhile I have also tried Hortonworks Data Platform 1.2.1\nGOOD: HDP1.2.1 Apache Hadoop 1.1.2-rc3 / Apache Hive 0.10.0\n\nSo it seems that the issue is in hive-0.9 now.\n\nMy real problem is that both Hortonworks and Cloudera bundle hive-0.9 with hadoop-2.x.y and I wanted to use hadoop-2.x.y with hive-0.10.x and not hadoop-1.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"created":"2013-03-02T08:01:36.777+0000","updated":"2013-03-02T08:01:36.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13621026","id":"13621026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Okay, I cannot reproduce this on trunk, though I was consistently hitting this on hive-0.10. I'll try hive-0.10 again to be sure some other patch fixed this.\n\nCan than this be resolved as \"Cannnot Reproduce\" ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-03T16:25:37.243+0000","updated":"2013-04-03T16:25:37.243+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13621063","id":"13621063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"body":"Meanwhile I have tested 4.2.0 cloudera release with so called parcel \"CDH 4.2.0-1.cdh4.2.0.p0.10\"\nhttps://ccp.cloudera.com/display/SUPPORT/CDH4+Downloadable+Tarballs\nUnfortunately it still seems to have this problem. (Did not do very rigorous testing now.)\nAs noted above apache hive 0.10.0 seems to be fine.\n\nIf you set it to \"Can not Reproduce\" than I am afraid this bug will not be visible to the hadoop users and some unlucky one will use the wrong version. Also I am afraid that distributors will not realize this as a problem. Can you set it to Fixed in 0.10.0? Than no more work. Issue can be closed since trunk is fine. But if somebody checks bug list this will be visible as a possible problem.\n\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tamastarjanyi","name":"tamastarjanyi","key":"tamastarjanyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=tamastarjanyi&avatarId=16590","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tamastarjanyi&avatarId=16590","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tamastarjanyi&avatarId=16590","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tamastarjanyi&avatarId=16590"},"displayName":"Tamas Tarjanyi","active":true,"timeZone":"Europe/Berlin"},"created":"2013-04-03T17:05:15.425+0000","updated":"2013-04-03T17:05:15.425+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12632117/comment/13631853","id":"13631853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~tamastarjanyi] for your investigation with different version combinations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-15T16:54:07.117+0000","updated":"2013-04-15T16:54:07.117+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4014/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1hy53:"}}