{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12830313","self":"https://issues.apache.org/jira/rest/api/2/issue/12830313","key":"HIVE-10729","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332154","id":"12332154","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334886","id":"12334886","name":"2.0.1","archived":false,"released":true,"releaseDate":"2016-05-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-05-16T11:28:00.021+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 10 07:51:55 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_3703780_*|*_3_*:*_2_*:*_256181_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_4_*:*_27514554558","customfield_12312321":null,"resolutiondate":"2016-03-29T09:18:33.801+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-10729/watchers","watchCount":9,"isWatching":false},"created":"2015-05-15T21:16:39.333+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329345","id":"12329345","description":"Hive 1.2.0","name":"1.2.0","archived":false,"released":true,"releaseDate":"2015-05-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-06-21T15:52:39.609+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"When map join happens, if projection columns include complex data types, query will fail. \n\nSteps to reproduce:\n{code:sql}\nhive> set hive.auto.convert.join;\nhive.auto.convert.join=true\nhive> desc foo;\na                   \tarray<int>\nhive> select * from foo;\n[1,2]\nhive> desc src_int;\nkey                 \tint\nvalue               \tstring\nhive> select * from src_int where key=2;\n2\t   val_2\nhive> select * from foo join src_int src  on src.key = foo.a[1];\n{code}\nQuery will fail with stack trace\n\n{noformat}\nCaused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;\n\tat org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector.getList(StandardListObjectInspector.java:111)\n\tat org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:314)\n\tat org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serializeField(LazySimpleSerDe.java:262)\n\tat org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.doSerialize(LazySimpleSerDe.java:246)\n\tat org.apache.hadoop.hive.serde2.AbstractEncodingAwareSerDe.serialize(AbstractEncodingAwareSerDe.java:50)\n\tat org.apache.hadoop.hive.ql.exec.FileSinkOperator.process(FileSinkOperator.java:692)\n\tat org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n\tat org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:88)\n\tat org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n\tat org.apache.hadoop.hive.ql.exec.CommonJoinOperator.internalForward(CommonJoinOperator.java:644)\n\tat org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genAllOneUniqueJoinObject(CommonJoinOperator.java:676)\n\tat org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:754)\n\tat org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:386)\n\t... 23 more\n{noformat}\n\nSimilar error when projection columns include a map:\n{code:sql}\nhive> CREATE TABLE test (a INT, b MAP<INT, STRING>) STORED AS ORC;\nhive> INSERT OVERWRITE TABLE test SELECT 1, MAP(1, \"val_1\", 2, \"val_2\") FROM src LIMIT 1;\nhive> select * from src join test where src.key=test.a;\n{code}\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12741285","id":"12741285","filename":"HIVE-10729.03.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2015-06-23T13:11:36.305+0000","size":20722,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12741285/HIVE-10729.03.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12795540","id":"12795540","filename":"HIVE-10729.04.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-03-27T06:51:03.156+0000","size":27151,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12795540/HIVE-10729.04.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12795801","id":"12795801","filename":"HIVE-10729.05.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-03-29T08:54:32.615+0000","size":28253,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12795801/HIVE-10729.05.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12733263","id":"12733263","filename":"HIVE-10729.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-15T22:17:49.212+0000","size":1632,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12733263/HIVE-10729.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12734209","id":"12734209","filename":"HIVE-10729.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-20T19:43:18.211+0000","size":1678,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12734209/HIVE-10729.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Query failed when select complex columns from joinned table (tez map join only)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14546276","id":"14546276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"It seems ReusableRowContainer iterator should convert LazyObjects to StandardObjects, as other join operators did. \n\nPlease let me know which qfile I can use to add more unit tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-15T22:17:49.218+0000","updated":"2015-05-15T22:17:49.218+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14546701","id":"14546701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12733263/HIVE-10729.1.patch\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 8943 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static\norg.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3919/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3919/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3919/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12733263 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-05-16T11:28:00.021+0000","updated":"2015-05-16T11:28:00.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14550846","id":"14550846","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"The unit test failures seem irrelevant to this patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-19T17:40:23.662+0000","updated":"2015-05-19T17:40:23.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14552827","id":"14552827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sershe] Can you take a look please?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-20T18:22:19.951+0000","updated":"2015-05-20T18:22:19.951+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14552846","id":"14552846","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"+1. Nit - can you pre-size the array list to fields size?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-20T18:40:31.138+0000","updated":"2015-05-20T18:40:31.138+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14552853","id":"14552853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes. Will do. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-20T18:46:08.347+0000","updated":"2015-05-20T18:46:08.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14552963","id":"14552963","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"added pre-size the array list to fields size","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-20T19:43:18.225+0000","updated":"2015-05-20T19:43:18.225+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14553533","id":"14553533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12734209/HIVE-10729.2.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 8965 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3969/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3969/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3969/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12734209 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-05-21T02:31:44.913+0000","updated":"2015-05-21T02:31:44.913+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14555069","id":"14555069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"The above unit test failure seems not relevant to this patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=selinazh","name":"selinazh","key":"selinazh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=selinazh&avatarId=19244","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=selinazh&avatarId=19244","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=selinazh&avatarId=19244","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=selinazh&avatarId=19244"},"displayName":"Selina Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-21T21:16:50.160+0000","updated":"2015-05-21T21:16:50.160+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14561260","id":"14561260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"body":"I tried this patch with Hive 1.2.0 and I am still getting this error.... \n\nCaused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;\n        at org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector.getListElement(StandardListObjectInspector.java:66)\n        at org.apache.hadoop.hive.ql.udf.generic.GenericUDFIndex.evaluate(GenericUDFIndex.java:102)\n        at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator._evaluate(ExprNodeGenericFuncEvaluator.java:186)\n        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:77)\n        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:65)\n        at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:81)\n        ... 31 more","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"created":"2015-05-27T16:56:37.294+0000","updated":"2015-05-27T16:56:37.294+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14574924","id":"14574924","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"body":"[~selinazh] Any updates here? Can you take a look at [~gss2002]'s comment? [~gss2002] Can you provide a simple test where you saw the above exception.\n\nThanks\nVikram.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-05T17:56:53.718+0000","updated":"2015-06-05T17:56:53.718+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14578856","id":"14578856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"body":"Here is the query and source table describe that shows the array<string> which seems to be the cause...\n\ndrop table debug.ct_gsd_events1_test;\ncreate table debug.ct_gsd_events1_test\nas select  a.*,\nb.svcrqst_id,\nb.svcrqct_cds,\nb.svcrtyp_cd,\nb.cmpltyp_cd,\nb.sum_reason_cd as src,\nb.cnctmd_cd,\nb.notes\nfrom ctm.ct_gsd_events a\ninner join\nmbr.gsd_service_request b\non a.contact_event_id = b.cnctevn_id;\n\n\nhive> describe formatted ctm.ct_gsd_events;\nOK\n# col_name              data_type               comment             \n                 \nhmoid                   string                                      \ncumb_id_no              int                                         \nmbrind_id               string                                      \ncontact_event_id        string                                      \nce_create_dt            string                                      \nce_end_dt               string                                      \ncontact_type            string                                      \ncnctevs_cd              string                                      \ncontact_mode            string                                      \ncntvnst_stts_cd         string                                      \ntotal_transfers         int                                         \nce_notes                array<string>                               \n                 \n# Detailed Table Information             \nDatabase:               ctm                      \nOwner:                  LOAD_USER                  \nCreateTime:             Fri May 29 09:41:58 EDT 2015     \nLastAccessTime:         UNKNOWN                  \nProtect Mode:           None                     \nRetention:              0                        \nLocation:               hdfs://xhadnnm1p.example.com:8020/apps/hive/warehouse/ctm.db/ct_gsd_events         \nTable Type:             MANAGED_TABLE            \nTable Parameters:                \n        COLUMN_STATS_ACCURATE   true                \n        numFiles                154                 \n        numRows                 0                   \n        rawDataSize             0                   \n        totalSize               5464108             \n        transient_lastDdlTime   1432906919          \n                 \n# Storage Information            \nSerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe       \nInputFormat:            org.apache.hadoop.mapred.TextInputFormat         \nOutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat       \nCompressed:             No                       \nNum Buckets:            -1                       \nBucket Columns:         []                       \nSort Columns:           []                       \nStorage Desc Params:             \n        serialization.format    1                   \nTime taken: 2.968 seconds, Fetched: 42 row(s)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"created":"2015-06-09T13:10:17.811+0000","updated":"2015-06-09T13:10:17.811+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14578874","id":"14578874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"body":"Here is a sample of the data I think the cause is their is a null in the array<string> field of notes... this was not a problem with Hive 0.13 it definitely started with Hive 0.14/1.x line..\n\n\nVertex failed, vertexName=Map 2, vertexId=vertex_1426958683478_216665_2_01, diagnostics=[Task failed, taskId=task_1426958683478_216665_2_01_000104, diagnostics=[TaskAttempt 0 failed, info=[Error: Failure while running task:java.lang.RuntimeException: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row {\"cumb_id_no\":31XXXX585,\"cumb_id_no_sub\":31XXXX585,\"cnctevn_id\":\"0021XXX86715\",\"svcrqst_id\":\"0000003XXX346030\",\"svcrqst_crt_dts\":\"2015-03-09 11:25:10.927722\",\"subject_seq_no\":1,\"cntmbrp_id\":\"692XX60     \",\"plan_component\":\"HXXXX     \",\"psuniq_id\":\"0000000014XXX279\",\"cust_segment\":\"RM \",\"idcard\":\"MEXXXXXX         \",\"cnctyp_cd\":\"001\",\"cnctmd_cd\":\"D01\",\"cnctevs_cd\":\"007\",\"svcrtyp_cd\":\"722\",\"svrstyp_cd\":\"832\",\"cmpltyp_cd\":\" \",\"catsrsn_cd\":\"        \",\"apealvl_cd\":\" \",\"cnstnty_cd\":\"001\",\"svcrqst_asrqst_ind\":\"Y\",\"svcrqst_rtnorig_in\":\"N\",\"svcrqst_vwasof_dt\":\"null\",\"svcrqst_lupdusr_id\":\"XXXXXXX \",\"sum_reason_cd\":\"98\",\"sum_reason\":\"Exclude\",\"crsr_master_claim_index\":null,\"svcrqct_cds\":[\"   \"],\"svcrqst_lupdt\":\"2015-03-09 11:25:10.927722\",\"crsr_lupdt\":null,\"cntmbrp_lupdt\":\"2015-03-09 11:24:51.315134\",\"cntevsds_lupdt\":\"2015-03-09 11:25:13.429458\",\"ignore_me\":1,\"notes\":null}\n        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.initializeAndRunProcessor(TezProcessor.java:171)\n        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.run(TezProcessor.java:137)\n        at org.apache.tez.runtime.LogicalIOProcessorRuntimeTask.run(LogicalIOProcessorRuntimeTask.java:324)\n        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable$1.run(TezTaskRunner.java:176)\n        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable$1.run(TezTaskRunner.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:415)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1556)\n        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable.call(TezTaskRunner.java:168)\n        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable.call(TezTaskRunner.java:163)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\nCaused by: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row {\"cumb_id_no\":31XXX585,\"cumb_id_no_sub\":31XXX585,\"cnctevn_id\":\"0021XXX86715\",\"svcrqst_id\":\"0000003XXX346030\",\"svcrqst_crt_dts\":\"2015-03-09 11:25:10.927722\",\"subject_seq_no\":1,\"cntmbrp_id\":\"692XX60     \",\"plan_component\":\"HXXXX     \",\"psuniq_id\":\"0000000014XXX279\",\"cust_segment\":\"RM \",\"idcard\":\"MEXXXXXX         \",\"cnctyp_cd\":\"001\",\"cnctmd_cd\":\"D01\",\"cnctevs_cd\":\"007\",\"svcrtyp_cd\":\"722\",\"svrstyp_cd\":\"832\",\"cmpltyp_cd\":\" \",\"catsrsn_cd\":\"        \",\"apealvl_cd\":\" \",\"cnstnty_cd\":\"001\",\"svcrqst_asrqst_ind\":\"Y\",\"svcrqst_rtnorig_in\":\"N\",\"svcrqst_vwasof_dt\":\"null\",\"svcrqst_lupdusr_id\":\"XXXXXXX \",\"sum_reason_cd\":\"98\",\"sum_reason\":\"Exclude\",\"crsr_master_claim_index\":null,\"svcrqct_cds\":[\"   \"],\"svcrqst_lupdt\":\"2015-03-09 11:25:10.927722\",\"crsr_lupdt\":null,\"cntmbrp_lupdt\":\"2015-03-09 11:24:51.315134\",\"cntevsds_lupdt\":\"2015-03-09 11:25:13.429458\",\"ignore_me\":1,\"notes\":null}\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:91)\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.pushRecord(MapRecordSource.java:68)\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.run(MapRecordProcessor.java:290)\n        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.initializeAndRunProcessor(TezProcessor.java:148)\n        ... 13 more\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row {\"cumb_id_no\":31XXXX585,\"cumb_id_no_sub\":31XXXX585,\"cnctevn_id\":\"0021XXX86715\",\"svcrqst_id\":\"0000003XXX346030\",\"svcrqst_crt_dts\":\"2015-03-09 11:25:10.927722\",\"subject_seq_no\":1,\"cntmbrp_id\":\"692XX60     \",\"plan_component\":\"HXXXX     \",\"psuniq_id\":\"0000000014XXX279\",\"cust_segment\":\"RM \",\"idcard\":\"MEXXXXXX         \",\"cnctyp_cd\":\"001\",\"cnctmd_cd\":\"D01\",\"cnctevs_cd\":\"007\",\"svcrtyp_cd\":\"722\",\"svrstyp_cd\":\"832\",\"cmpltyp_cd\":\" \",\"catsrsn_cd\":\"        \",\"apealvl_cd\":\" \",\"cnstnty_cd\":\"001\",\"svcrqst_asrqst_ind\":\"Y\",\"svcrqst_rtnorig_in\":\"N\",\"svcrqst_vwasof_dt\":\"null\",\"svcrqst_lupdusr_id\":\"XXXXXXX \",\"sum_reason_cd\":\"98\",\"sum_reason\":\"Exclude\",\"crsr_master_claim_index\":null,\"svcrqct_cds\":[\"   \"],\"svcrqst_lupdt\":\"2015-03-09 11:25:10.927722\",\"crsr_lupdt\":null,\"cntmbrp_lupdt\":\"2015-03-09 11:24:51.315134\",\"cntevsds_lupdt\":\"2015-03-09 11:25:13.429458\",\"ignore_me\":1,\"notes\":null}\n        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:518)\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:83)\n        ... 16 more\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: Unexpected exception: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;\n        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:426)\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n        at org.apache.hadoop.hive.ql.exec.FilterOperator.process(FilterOperator.java:122)\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n        at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:97)\n        at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.forward(MapOperator.java:162)\n        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:508)\n        ... 17 more\nCaused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;\n        at org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector.getList(StandardListObjectInspector.java:111)\n        at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:314)\n        at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serializeField(LazySimpleSerDe.java:262)\n        at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.doSerialize(LazySimpleSerDe.java:246)\n        at org.apache.hadoop.hive.serde2.AbstractEncodingAwareSerDe.serialize(AbstractEncodingAwareSerDe.java:50)\n        at org.apache.hadoop.hive.ql.exec.FileSinkOperator.process(FileSinkOperator.java:720)\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n        at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:88)\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.internalForward(CommonJoinOperator.java:644)\n        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genAllOneUniqueJoinObject(CommonJoinOperator.java:676)\n        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:754)\n        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:414)\n        ... 23 more","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"created":"2015-06-09T13:19:44.792+0000","updated":"2015-06-09T13:19:44.792+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14591704","id":"14591704","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"body":"Any status on this jira is this stalled? Can i help any further??? This is a real issue plaguing folks since around hive 0.14","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"created":"2015-06-18T12:17:51.374+0000","updated":"2015-06-18T12:17:51.374+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14597624","id":"14597624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"NOTE: We have a possible solution here but *NO TEST*.\n\nThere is an attached Q file with a array of integers and array of strings tests, but I haven't been able to get the tests to fail on trunk.  I'm not sure what I'm missing.  So, unclear if new code is being tested yet.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2015-06-23T13:11:36.311+0000","updated":"2015-06-23T13:11:36.311+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14597959","id":"14597959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:green}Overall{color}: +1 all checks pass\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12741285/HIVE-10729.03.patch\n\n{color:green}SUCCESS:{color} +1 9014 tests passed\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4351/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4351/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4351/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12741285 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-06-23T17:05:23.262+0000","updated":"2015-06-23T17:05:23.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14597984","id":"14597984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hagleitn","name":"hagleitn","key":"hagleitn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hagleitn&avatarId=16035","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hagleitn&avatarId=16035","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hagleitn&avatarId=16035","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hagleitn&avatarId=16035"},"displayName":"Gunther Hagleitner","active":true,"timeZone":"America/Los_Angeles"},"body":"[~mmccline] the test on this bug doesn't happen anymore but there is: https://issues.apache.org/jira/browse/HIVE-11051. The attached test on that bug used to be fixed with this patch here. It might makes sense to resolve this one and move the code over to HIVE-11051 if that's the case.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hagleitn","name":"hagleitn","key":"hagleitn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hagleitn&avatarId=16035","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hagleitn&avatarId=16035","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hagleitn&avatarId=16035","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hagleitn&avatarId=16035"},"displayName":"Gunther Hagleitner","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-23T17:17:24.992+0000","updated":"2015-06-23T17:17:24.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14598804","id":"14598804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"body":"Gunther Hagleitner and Matt Mcline Using this Patch against my JIRA HIVE-11051 and the test case on Hadoop 2.4.1 with Hive 1.2.0 and Tez 0.5.4 it still fails:\n\nCaused by: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row {\"cnctevn_id\":\"002246948195\",\"svcrqst_id\":\"0000003629537980\",\"svcrqst_crt_dts\":\"2015-04-24 12:48:37.859683\",\"subject_seq_no\":1,\"plan_component\":\"HMOM1     \",\"cust_segment\":\"RM \",\"cnctyp_cd\":\"001\",\"cnctmd_cd\":\"D02\",\"cnctevs_cd\":\"007\",\"svcrtyp_cd\":\"335\",\"svrstyp_cd\":\"088\",\"cmpltyp_cd\":\" \",\"catsrsn_cd\":\"        \",\"apealvl_cd\":\" \",\"cnstnty_cd\":\"001\",\"svcrqst_asrqst_ind\":\"Y\",\"svcrqst_rtnorig_in\":\"N\",\"svcrqst_vwasof_dt\":\"null\",\"sum_reason_cd\":\"98\",\"sum_reason\":\"Exclude\",\"crsr_master_claim_index\":null,\"svcrqct_cds\":[\"   \"],\"svcrqst_lupdt\":\"2015-04-24 12:48:37.859683\",\"crsr_lupdt\":null,\"cntevsds_lupdt\":\"2015-04-24 12:48:40.499238\",\"ignore_me\":1,\"notes\":null}\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:91)\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.pushRecord(MapRecordSource.java:68)\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.run(MapRecordProcessor.java:290)\n        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.initializeAndRunProcessor(TezProcessor.java:148)\n        ... 13 more\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row {\"cnctevn_id\":\"002246948195\",\"svcrqst_id\":\"0000003629537980\",\"svcrqst_crt_dts\":\"2015-04-24 12:48:37.859683\",\"subject_seq_no\":1,\"plan_component\":\"HMOM1     \",\"cust_segment\":\"RM \",\"cnctyp_cd\":\"001\",\"cnctmd_cd\":\"D02\",\"cnctevs_cd\":\"007\",\"svcrtyp_cd\":\"335\",\"svrstyp_cd\":\"088\",\"cmpltyp_cd\":\" \",\"catsrsn_cd\":\"        \",\"apealvl_cd\":\" \",\"cnstnty_cd\":\"001\",\"svcrqst_asrqst_ind\":\"Y\",\"svcrqst_rtnorig_in\":\"N\",\"svcrqst_vwasof_dt\":\"null\",\"sum_reason_cd\":\"98\",\"sum_reason\":\"Exclude\",\"crsr_master_claim_index\":null,\"svcrqct_cds\":[\"   \"],\"svcrqst_lupdt\":\"2015-04-24 12:48:37.859683\",\"crsr_lupdt\":null,\"cntevsds_lupdt\":\"2015-04-24 12:48:40.499238\",\"ignore_me\":1,\"notes\":null}\n        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:518)\n        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:83)\n        ... 16 more\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: Unexpected exception: Index: 0, Size: 0\n        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:426)\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n        at org.apache.hadoop.hive.ql.exec.FilterOperator.process(FilterOperator.java:122)\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)\n        at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:97)\n        at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.forward(MapOperator.java:162)\n        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:508)\n        ... 17 more\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:635)\n        at java.util.ArrayList.set(ArrayList.java:426)\n        at org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer.fixupComplexObjects(MapJoinBytesTableContainer.java:424)\n        at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.uppack(HybridHashTableContainer.java:875)\n        at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.first(HybridHashTableContainer.java:845)\n        at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.first(HybridHashTableContainer.java:722)\n        at org.apache.hadoop.hive.ql.exec.persistence.UnwrapRowContainer.first(UnwrapRowContainer.java:62)\n        at org.apache.hadoop.hive.ql.exec.persistence.UnwrapRowContainer.first(UnwrapRowContainer.java:33)\n        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genUniqueJoinObject(CommonJoinOperator.java:650)\n        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:756)\n        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:414)\n        ... 23 more\n]], Vertex failed as one or more tasks failed. failedTasks:1, Vertex vertex_1434641270368_13820_2_01 [Map 2] killed/failed due to:null]DAG failed due to vertex failure. failedVertices:1 killedVertices:0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gss2002","name":"gss2002","key":"gss2002","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Greg Senia","active":true,"timeZone":"America/New_York"},"created":"2015-06-24T03:18:56.000+0000","updated":"2015-06-24T03:18:56.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/14598976","id":"14598976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"Yes, the trace from fixupComplexObjects in patch #3 is a bug in that patch.\n\nSince I was able to repro the problem with data and script from HIVE-11051, I just submitted a patch on that JIRA that is basically this JIRA's patch #3 plus a bug fix.  The new Q file tests with hive.mapjoin.hybridgrace.hashtable false and true to make sure MapJoinBytesTableContainer and HybridHashTableContainer are tested.\n\nSo, this JIRA's patch #3 is defunct.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2015-06-24T07:05:19.276+0000","updated":"2015-06-24T07:05:19.276+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15213366","id":"15213366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"The problem is the Vectorization class was not checking data types in the small table expression.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-03-27T06:52:24.842+0000","updated":"2016-03-27T06:52:24.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15214635","id":"15214635","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Didn't look at the test file, I assume it's the same as w/o vector :)\nposSingleVectorMapJoinSmallTable - assumes there are two elements in the array, right? Should there be an assert? \nLooks good pending tests otherwise. +1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-28T18:29:47.124+0000","updated":"2016-03-28T18:29:47.124+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15214922","id":"15214922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"Thank you for the review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-03-28T21:21:46.520+0000","updated":"2016-03-28T21:21:46.520+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15215669","id":"15215669","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12795540/HIVE-10729.04.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 9873 tests executed\n*Failed tests:*\n{noformat}\nTestMiniTezCliDriver-cte_4.q-orc_merge5.q-vectorization_limit.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.ql.optimizer.physical.TestVectorizer.testValidateMapJoinOperator\norg.apache.hadoop.hive.ql.optimizer.physical.TestVectorizer.testValidateSMBJoinOperator\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7400/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7400/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7400/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 7 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12795540 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-03-29T08:21:34.445+0000","updated":"2016-03-29T08:21:34.445+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15215701","id":"15215701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"Fix TestVectorizer unit test.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-03-29T08:54:32.621+0000","updated":"2016-03-29T08:54:32.621+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15215722","id":"15215722","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"Committed to master and branch-1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-03-29T09:18:22.934+0000","updated":"2016-03-29T09:18:22.934+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15233964","id":"15233964","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"body":"Committed to branch-2.0 also.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmccline","name":"mmccline","key":"mmccline","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mmccline&avatarId=36046","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mmccline&avatarId=36046","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mmccline&avatarId=36046","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mmccline&avatarId=36046"},"displayName":"Matt McCline","active":true,"timeZone":"America/Chicago"},"created":"2016-04-10T07:31:28.279+0000","updated":"2016-04-10T07:31:28.279+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12830313/comment/15277764","id":"15277764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Feng+Yuan","name":"Feng Yuan","key":"feng yuan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=feng+yuan&avatarId=29897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=feng+yuan&avatarId=29897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=feng+yuan&avatarId=29897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=feng+yuan&avatarId=29897"},"displayName":"Feng Yuan","active":true,"timeZone":"Etc/UTC"},"body":"is there patch for 0.14.0?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Feng+Yuan","name":"Feng Yuan","key":"feng yuan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=feng+yuan&avatarId=29897","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=feng+yuan&avatarId=29897","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=feng+yuan&avatarId=29897","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=feng+yuan&avatarId=29897"},"displayName":"Feng Yuan","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-10T07:51:55.391+0000","updated":"2016-05-10T07:51:55.391+0000"}],"maxResults":27,"total":27,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-10729/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2et3j:"}}