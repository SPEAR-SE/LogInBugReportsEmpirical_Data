{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12952515","self":"https://issues.apache.org/jira/rest/api/2/issue/12952515","key":"HIVE-13328","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-08-12T10:57:33.760+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Sep 01 17:46:48 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-13328/watchers","watchCount":3,"isWatching":false},"created":"2016-03-22T17:34:28.464+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324986","id":"12324986","description":"released","name":"0.13.0","archived":false,"released":true,"releaseDate":"2014-04-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-09-01T17:46:48.892+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12325007","id":"12325007","name":"Hive"}],"timeoriginalestimate":null,"description":"Having Issues with Involving ORC format and external table.Below are the sequence of steps followed.\n\n \n\ncreated an external table\n\n\nusing insert overwrite data is populated to external table with partition.\n\ninsert overwrite table external_table partition (data_date='2016-22-03')\nselect ....from (select * from db3.table1\nwhere data_date = '2016-22-03') i\n\nleft join (select * from db3.table2 where data_date = '2016-22-03') th on i.column1 = th.column1 and\ni.column2 = th.column2;\n\n \n\nBut when i query the external table data is not present. Tried below procedures like \n\nALTER TABLE NAME ADD PARTITION(DATA_DATE='2016-22-03');\n\nMSCK REPAIR TABLE TABLENAME;\nOK\nPartitions not in metastore:   \n\nWhat could be the issue?\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Cannot Quey Hive External Returning 0 values","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bgajjela","name":"bgajjela","key":"bgajjela","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bharath kumar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bgajjela","name":"bgajjela","key":"bgajjela","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bharath kumar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"MAPRFS","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12952515/comment/15418675","id":"15418675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arunsk12%40gmail.com","name":"arunsk12@gmail.com","key":"arunsk12@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Kumar Srinivasan","active":true,"timeZone":"Etc/UTC"},"body":"I am not able to make it work even without partition. \n\n----------------------------------------------------------------------------------------\n\n> vi input_2015.txt\n\n1,Name1,Dep1,1981\n3,Name3,Dep3,1982\n\n> vi input_2016.txt\n\n2,Name2,Dep2,1986\n2,Name4,Dep4,1988\n\n// HDFS commands\n\n hdfs dfs -rm -r /user/yarn/hive/issue\n hdfs dfs -mkdir -p /user/yarn/hive/issue/alter\n hdfs dfs -mkdir -p /user/yarn/hive/issue/alter_orc\n hdfs dfs -mkdir -p /user/yarn/hive/issue/input\n hdfs dfs -mkdir -p /user/yarn/hive/issue/orc\n hdfs dfs -copyFromLocal input*.txt /user/yarn/hive/issue\n\n// Hive queries\n\ncreate database hive_issue_13328;\n\nuse hive_issue_13328;\n\ndrop table test_partition;\n\nCREATE EXTERNAL TABLE IF NOT EXISTS test_partition ( id int, name String, department String, dob String)\nPARTITIONED BY (yoj INT, moj STRING)\nROW FORMAT DELIMITED FIELDS TERMINATED BY ','\nLINES TERMINATED BY '\\n'\nSTORED AS TEXTFILE\nlocation '/user/yarn/hive/issue';\n\nLOAD DATA INPATH '/user/yarn/hive/issue/input_2015.txt' INTO TABLE test_partition PARTITION (yoj=2015, moj='01');\nLOAD DATA INPATH '/user/yarn/hive/issue/input_2016.txt' INTO TABLE test_partition PARTITION (yoj=2016, moj='01');\n\nSELECT * FROM test_partition;\n\n// ORC TABLE // \n\ndrop table test_partition_orc;\n\nCREATE EXTERNAL TABLE IF NOT EXISTS test_partition_orc ( id int, name String, department String, dob String)\nPARTITIONED BY (yoj1 INT, moj1 STRING)\nROW FORMAT DELIMITED FIELDS TERMINATED BY ','\nLINES TERMINATED BY '\\n'\nSTORED AS ORC\nlocation '/user/yarn/hive/issue/orc';\n\nINSERT INTO TABLE test_partition_orc SELECT * FROM test_partition;\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arunsk12%40gmail.com","name":"arunsk12@gmail.com","key":"arunsk12@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Kumar Srinivasan","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-12T10:57:33.760+0000","updated":"2016-08-12T10:57:33.760+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12952515/comment/15418694","id":"15418694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arunsk12%40gmail.com","name":"arunsk12@gmail.com","key":"arunsk12@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Kumar Srinivasan","active":true,"timeZone":"Etc/UTC"},"body":"Can you please check the query ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arunsk12%40gmail.com","name":"arunsk12@gmail.com","key":"arunsk12@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Kumar Srinivasan","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-12T11:13:32.473+0000","updated":"2016-08-12T11:13:32.473+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12952515/comment/15456132","id":"15456132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bgajjela","name":"bgajjela","key":"bgajjela","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bharath kumar","active":true,"timeZone":"Etc/UTC"},"body":"[~arunsk12@gmail.com]\n\nAre you trying to reproduce the issue? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bgajjela","name":"bgajjela","key":"bgajjela","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bharath kumar","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-01T17:46:48.892+0000","updated":"2016-09-01T17:46:48.892+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-13328/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2v1fb:"}}