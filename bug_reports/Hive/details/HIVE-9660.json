{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12774417","self":"https://issues.apache.org/jira/rest/api/2/issue/12774417","key":"HIVE-9660","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-03-25T00:08:24.978+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon May 23 18:10:06 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-9660/watchers","watchCount":5,"isWatching":false},"created":"2015-02-12T02:21:53.114+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"17.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12459824","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12459824","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12948262","key":"HIVE-13241","self":"https://issues.apache.org/jira/rest/api/2/issue/12948262","fields":{"summary":"LLAP: Incremental Caching marks some small chunks as \"incomplete CB\"","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-05-23T18:10:06.066+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[],"timeoriginalestimate":null,"description":"Right now the end offset is estimated, which in some cases results in tons of extra data being read.\nWe can add a separate array to RowIndex (positions_v2?) that stores number of compressed buffers for each RG, or end offset, or something, to remove this estimation magic","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12795693","id":"12795693","filename":"HIVE-9660.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-28T20:17:24.863+0000","size":279533,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12795693/HIVE-9660.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12796643","id":"12796643","filename":"HIVE-9660.02.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-02T02:40:41.040+0000","size":283724,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12796643/HIVE-9660.02.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12796909","id":"12796909","filename":"HIVE-9660.03.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-04T21:16:29.601+0000","size":769774,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12796909/HIVE-9660.03.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12797148","id":"12797148","filename":"HIVE-9660.04.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-05T19:02:37.439+0000","size":759726,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12797148/HIVE-9660.04.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12797361","id":"12797361","filename":"HIVE-9660.05.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-06T19:07:32.491+0000","size":759693,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12797361/HIVE-9660.05.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12797443","id":"12797443","filename":"HIVE-9660.06.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-07T04:22:00.287+0000","size":759612,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12797443/HIVE-9660.06.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12797641","id":"12797641","filename":"HIVE-9660.07.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-07T23:59:54.272+0000","size":760290,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12797641/HIVE-9660.07.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12797638","id":"12797638","filename":"HIVE-9660.07.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-07T23:29:41.527+0000","size":760286,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12797638/HIVE-9660.07.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12797846","id":"12797846","filename":"HIVE-9660.08.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-09T03:45:50.150+0000","size":760539,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12797846/HIVE-9660.08.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12798085","id":"12798085","filename":"HIVE-9660.09.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-11T19:15:14.843+0000","size":760802,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12798085/HIVE-9660.09.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12800288","id":"12800288","filename":"HIVE-9660.10.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-22T19:32:46.677+0000","size":760888,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12800288/HIVE-9660.10.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12800275","id":"12800275","filename":"HIVE-9660.10.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-22T18:33:45.503+0000","size":760035,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12800275/HIVE-9660.10.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12800915","id":"12800915","filename":"HIVE-9660.11.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-26T23:59:42.108+0000","size":759988,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12800915/HIVE-9660.11.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12805265","id":"12805265","filename":"HIVE-9660.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-20T18:19:14.973+0000","size":343502,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12805265/HIVE-9660.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12794925","id":"12794925","filename":"HIVE-9660.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-23T03:09:06.969+0000","size":271346,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12794925/HIVE-9660.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12794669","id":"12794669","filename":"HIVE-9660.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-22T02:08:45.869+0000","size":140824,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12794669/HIVE-9660.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12801969","id":"12801969","filename":"owen-hive-9660.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-03T15:44:35.422+0000","size":86209,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12801969/owen-hive-9660.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"store end offset of compressed data for RG in RowIndex in ORC","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/14317446","id":"14317446","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~owen.omalley] [~alangates] [~prasanth_j] fyi... I might do it later.\n\nI noticed that on some realistic data Prasanth was using, to read one RG out of 100, ~50% of the data with multiple CBs was read and uncompressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-12T02:23:01.394+0000","updated":"2015-02-12T02:23:01.394+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/14335368","id":"14335368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~owen.omalley] [~alangates] I assume there are no objections ;)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-24T20:16:07.604+0000","updated":"2015-02-24T20:16:07.604+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15188622","id":"15188622","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~gopalv] fyi. I am working on this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-10T03:44:48.154+0000","updated":"2016-03-10T03:44:48.154+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15190402","id":"15190402","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"WIP patch that takes care of the reading; the writing is only done for compressed path and not done for string writer yet cause its logic is different... whether it works at all is an open question.\nAlso, my head hurts now... I feel like after researching how Kerberos works.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-11T03:10:20.075+0000","updated":"2016-03-11T03:10:20.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15190403","id":"15190403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~prasanth_j] if you have any comments regarding the approach","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-11T03:10:38.034+0000","updated":"2016-03-11T03:10:38.034+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15198344","id":"15198344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch writes ORC files that look correct, but there are issues during reading. A lot of debugging will be needed to determine what's going on... Attaching here for now.\n\nTest changes are temporary","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-16T22:43:20.446+0000","updated":"2016-03-16T22:43:45.373+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15200794","id":"15200794","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"The fundamental problem with this patch is that logical writers (e.g. RLE writer) buffer the data. And for some writers like bit writer, we cannot even force the flush at the end of the RG, which would have solved this problem at some small size cost (all the encoding segments would have to terminate at RG boundaries). And in combination with buffering inside the output streams (before compression), it's practically impossible to know when a particular RG is fully in (i.e. last rows were added to some concrete compression buffer). \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-18T01:42:29.560+0000","updated":"2016-03-18T01:45:09.508+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15205632","id":"15205632","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"This doesn't quite work for uncompressed, I'd need to fix some things. I was able to see at least some tests pass on this, though. Also, needs some comments and cleanup. Let's see what fails...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-22T02:08:45.873+0000","updated":"2016-03-22T02:08:45.873+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15207809","id":"15207809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"The attempt #1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-23T03:09:06.974+0000","updated":"2016-03-23T03:09:06.974+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15207820","id":"15207820","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~prasanth_j] fyi","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-23T03:16:48.856+0000","updated":"2016-03-23T03:16:48.856+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15211170","id":"15211170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12794925/HIVE-9660.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7359/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7359/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7359/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]\n+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera\n+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera\n+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin\n+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ cd /data/hive-ptest/working/\n+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-7359/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ git = \\s\\v\\n ]]\n+ [[ git = \\g\\i\\t ]]\n+ [[ -z master ]]\n+ [[ -d apache-github-source-source ]]\n+ [[ ! -d apache-github-source-source/.git ]]\n+ [[ ! -d apache-github-source-source ]]\n+ cd apache-github-source-source\n+ git fetch origin\nFrom https://github.com/apache/hive\n   db2efe4..1787082  branch-1   -> origin/branch-1\n+ git reset --hard HEAD\nHEAD is now at d3a5f20 HIVE-13325: Excessive logging when ORC PPD fails type conversions (Prasanth Jayachandran reviewed by Gopal V)\n+ git clean -f -d\nRemoving ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Cleaner.java.orig\nRemoving ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Initiator.java.orig\nRemoving ql/src/test/org/apache/hadoop/hive/ql/TestTxnCommands2.java.orig\n+ git checkout master\nAlready on 'master'\n+ git reset --hard origin/master\nHEAD is now at d3a5f20 HIVE-13325: Excessive logging when ORC PPD fails type conversions (Prasanth Jayachandran reviewed by Gopal V)\n+ git merge --ff-only origin/master\nAlready up-to-date.\n+ git gc\n+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hive-ptest/working/scratch/build.patch\n+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]\n+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch\nThe patch does not appear to apply with p0, p1, or p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12794925 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-03-25T00:08:24.978+0000","updated":"2016-03-25T00:08:24.978+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15214802","id":"15214802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Rebased the patch and fixed some small issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-28T20:17:24.868+0000","updated":"2016-03-28T20:17:24.868+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15218069","id":"15218069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12795693/HIVE-9660.01.patch\n\n{color:green}SUCCESS:{color} +1 due to 8 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 121 failed/errored test(s), 9891 tests executed\n*Failed tests:*\n{noformat}\nTestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-parallel_join0.q-union_remove_9.q-smb_mapjoin_21.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_part\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_columnStatsUpdateForStatsOptimizer_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_full\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial_ndv\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_analyze\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_file_dump\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_llap\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_1\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_3\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_analyze\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_simple\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.ql.TestTxnCommands2.writeBetweenWorkerAndCleaner\norg.apache.hadoop.hive.ql.io.orc.TestColumnStatistics.testHasNull\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testBloomFilter\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testBloomFilter2\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDataDump\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDictionaryThreshold\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDump\norg.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testCombinationInputFormatWithAcid\norg.apache.hadoop.hive.ql.io.orc.TestJsonFileDump.testJsonDump\norg.apache.hadoop.hive.ql.io.orc.TestNewIntegerEncoding.testBasicRow[0]\norg.apache.hadoop.hive.ql.io.orc.TestNewIntegerEncoding.testBasicRow[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.columnProjection[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.columnProjection[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.metaData[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.metaData[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.test1[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.test1[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testBitPack64Large[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testBitPack64Large[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testDate1900[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testDate2038[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testHiveDecimalAllNulls[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testHiveDecimalAllNulls[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testHiveDecimalIsNullReset[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testPredicatePushdown[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testPredicatePushdown[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSeek[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSnappy[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSnappy[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStringAndBinaryStatistics[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStringAndBinaryStatistics[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStripeLevelStats[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStripeLevelStats[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testTimestamp[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testTimestamp[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testUnionAndTimestamp[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testUnionAndTimestamp[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testWithoutIndex[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testWithoutIndex[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testZeroCopySeek[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcNullOptimization.testColumnsWithNullAndCompression\norg.apache.hadoop.hive.ql.io.orc.TestOrcNullOptimization.testMultiStripeWithNull\norg.apache.hadoop.hive.ql.io.orc.TestOrcNullOptimization.testMultiStripeWithoutNull\norg.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderNewBaseAndDelta\norg.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderOldBaseAndDelta\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testExternalFooterCache\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testExternalFooterCachePpd\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationComplexExpr\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationLargeMaxSplit\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationSmallMaxSplit\norg.apache.hadoop.hive.ql.io.orc.TestStringDictionary.testTooManyDistinctCheckDisabled\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.metaData\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.test1\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testColumnProjection\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testDate1900\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testDate2038\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testLists\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testMaps\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testNonDictionaryRepeatingString\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testPredicatePushdown\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testRepeating\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testSeek\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testSnappy\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStringAndBinaryStatistics\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStringPadding\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStripeLevelStats\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStructs\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testTimestamp\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testUnionAndTimestamp\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testUnions\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testWithoutIndex\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7411/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7411/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7411/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 121 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12795693 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-03-30T14:45:39.370+0000","updated":"2016-03-30T14:45:39.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15222664","id":"15222664","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixing some tests. I will fix FileDump tests later, they failed for obvious reasons and there's no autoupdate it appears. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-02T02:40:41.045+0000","updated":"2016-04-02T02:40:41.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15223652","id":"15223652","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12796643/HIVE-9660.02.patch\n\n{color:green}SUCCESS:{color} +1 due to 10 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 65 failed/errored test(s), 9975 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_part\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_columnStatsUpdateForStatsOptimizer_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_full\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial_ndv\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_analyze\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_file_dump\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_llap\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket5\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket6\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_disable_merge_for_bucketing\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_map_operators\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_num_buckets\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_list_bucket_dml_10\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge9\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge_diff_fs\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_reduce_deduplicate\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_1\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_3\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_analyze\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_simple\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.ql.io.orc.TestColumnStatistics.testHasNull\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testBloomFilter\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testBloomFilter2\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDictionaryThreshold\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDump\norg.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testCombinationInputFormatWithAcid\norg.apache.hadoop.hive.ql.io.orc.TestJsonFileDump.testJsonDump\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7462/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7462/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7462/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 65 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12796643 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-04T04:30:33.777+0000","updated":"2016-04-04T04:30:33.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15225067","id":"15225067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixing one more issue and updating the test outputs (they are stats changes, file dump changes, and such).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-04T21:16:29.607+0000","updated":"2016-04-04T21:16:29.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15225829","id":"15225829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12796909/HIVE-9660.03.patch\n\n{color:green}SUCCESS:{color} +1 due to 11 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 14 failed/errored test(s), 9977 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket6\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_num_buckets\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge9\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_bucket4\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_disable_merge_for_bucketing\norg.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTable\norg.apache.hadoop.hive.ql.io.orc.TestJsonFileDump.testJsonDump\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7474/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7474/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7474/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 14 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12796909 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-05T07:40:14.444+0000","updated":"2016-04-05T07:40:14.444+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15226889","id":"15226889","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"SparkOnYarn entirely failed due to some timeouts. Need to update outputs for 3 more tests...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-05T18:41:41.935+0000","updated":"2016-04-05T18:41:41.935+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15228695","id":"15228695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12797148/HIVE-9660.04.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7490/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7490/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7490/\n\nMessages:\n{noformat}\n**** This message was trimmed, see log for full details ****\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/shims/aggregator/src/main/resources\n[INFO] Copying 3 resources\n[INFO] \n[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-shims ---\n[INFO] Executing tasks\n\nmain:\n[INFO] Executed tasks\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-shims ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-shims ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/shims/aggregator/src/test/resources\n[INFO] Copying 3 resources\n[INFO] \n[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-shims ---\n[INFO] Executing tasks\n\nmain:\n    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/shims/aggregator/target/tmp\n    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/shims/aggregator/target/warehouse\n    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/shims/aggregator/target/tmp/conf\n     [copy] Copying 15 files to /data/hive-ptest/working/apache-github-source-source/shims/aggregator/target/tmp/conf\n[INFO] Executed tasks\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-shims ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-shims ---\n[INFO] Tests are skipped.\n[INFO] \n[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-shims ---\n[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/shims/aggregator/target/hive-shims-2.1.0-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-shims ---\n[INFO] \n[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-shims ---\n[INFO] Installing /data/hive-ptest/working/apache-github-source-source/shims/aggregator/target/hive-shims-2.1.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-shims/2.1.0-SNAPSHOT/hive-shims-2.1.0-SNAPSHOT.jar\n[INFO] Installing /data/hive-ptest/working/apache-github-source-source/shims/aggregator/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-shims/2.1.0-SNAPSHOT/hive-shims-2.1.0-SNAPSHOT.pom\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Hive Storage API 2.1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-storage-api ---\n[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/storage-api/target\n[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/storage-api (includes = [datanucleus.log, derby.log], excludes = [])\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-storage-api ---\n[INFO] \n[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-storage-api ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-storage-api ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/storage-api/src/main/resources\n[INFO] Copying 3 resources\n[INFO] \n[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-storage-api ---\n[INFO] Executing tasks\n\nmain:\n[INFO] Executed tasks\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-storage-api ---\n[INFO] Compiling 35 source files to /data/hive-ptest/working/apache-github-source-source/storage-api/target/classes\n[WARNING] /data/hive-ptest/working/apache-github-source-source/storage-api/src/java/org/apache/hadoop/hive/ql/exec/vector/IntervalDayTimeColumnVector.java:[29,51] sun.util.calendar.BaseCalendar is internal proprietary API and may be removed in a future release\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-storage-api ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/storage-api/src/test/resources\n[INFO] Copying 3 resources\n[INFO] \n[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-storage-api ---\n[INFO] Executing tasks\n\nmain:\n    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/storage-api/target/tmp\n    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/storage-api/target/warehouse\n    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/storage-api/target/tmp/conf\n     [copy] Copying 15 files to /data/hive-ptest/working/apache-github-source-source/storage-api/target/tmp/conf\n[INFO] Executed tasks\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-storage-api ---\n[INFO] Compiling 6 source files to /data/hive-ptest/working/apache-github-source-source/storage-api/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-storage-api ---\n[INFO] Tests are skipped.\n[INFO] \n[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-storage-api ---\n[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/storage-api/target/hive-storage-api-2.1.0-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-storage-api ---\n[INFO] \n[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-storage-api ---\n[INFO] Installing /data/hive-ptest/working/apache-github-source-source/storage-api/target/hive-storage-api-2.1.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-storage-api/2.1.0-SNAPSHOT/hive-storage-api-2.1.0-SNAPSHOT.jar\n[INFO] Installing /data/hive-ptest/working/apache-github-source-source/storage-api/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-storage-api/2.1.0-SNAPSHOT/hive-storage-api-2.1.0-SNAPSHOT.pom\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Hive ORC 2.1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-orc ---\n[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/orc/target\n[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/orc (includes = [datanucleus.log, derby.log], excludes = [])\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-orc ---\n[INFO] \n[INFO] --- build-helper-maven-plugin:1.8:add-source (add-source) @ hive-orc ---\n[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/orc/src/gen/protobuf-java added.\n[INFO] \n[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-orc ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-orc ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/orc/src/main/resources\n[INFO] Copying 3 resources\n[INFO] \n[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-orc ---\n[INFO] Executing tasks\n\nmain:\n[INFO] Executed tasks\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-orc ---\n[INFO] Compiling 60 source files to /data/hive-ptest/working/apache-github-source-source/orc/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /data/hive-ptest/working/apache-github-source-source/orc/src/java/org/apache/orc/impl/WriterImpl.java:[1485,13] cannot find symbol\n  symbol:   method setLogSpill(boolean)\n  location: variable stream of type org.apache.orc.impl.OutStream\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Hive .............................................. SUCCESS [13.122s]\n[INFO] Hive Shims Common ................................. SUCCESS [16.490s]\n[INFO] Hive Shims 0.23 ................................... SUCCESS [13.199s]\n[INFO] Hive Shims Scheduler .............................. SUCCESS [2.824s]\n[INFO] Hive Shims ........................................ SUCCESS [2.451s]\n[INFO] Hive Storage API .................................. SUCCESS [6.516s]\n[INFO] Hive ORC .......................................... FAILURE [11.193s]\n[INFO] Hive Common ....................................... SKIPPED\n[INFO] Hive Serde ........................................ SKIPPED\n[INFO] Hive Metastore .................................... SKIPPED\n[INFO] Hive Ant Utilities ................................ SKIPPED\n[INFO] Hive Llap Common .................................. SKIPPED\n[INFO] Hive Llap Client .................................. SKIPPED\n[INFO] Hive Llap Tez ..................................... SKIPPED\n[INFO] Hive Service RPC .................................. SKIPPED\n[INFO] Spark Remote Client ............................... SKIPPED\n[INFO] Hive Query Language ............................... SKIPPED\n[INFO] Hive Service ...................................... SKIPPED\n[INFO] Hive Accumulo Handler ............................. SKIPPED\n[INFO] Hive JDBC ......................................... SKIPPED\n[INFO] Hive Beeline ...................................... SKIPPED\n[INFO] Hive CLI .......................................... SKIPPED\n[INFO] Hive Contrib ...................................... SKIPPED\n[INFO] Hive HBase Handler ................................ SKIPPED\n[INFO] Hive HCatalog ..................................... SKIPPED\n[INFO] Hive HCatalog Core ................................ SKIPPED\n[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED\n[INFO] Hive HCatalog Server Extensions ................... SKIPPED\n[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED\n[INFO] Hive HCatalog Webhcat ............................. SKIPPED\n[INFO] Hive HCatalog Streaming ........................... SKIPPED\n[INFO] Hive HPL/SQL ...................................... SKIPPED\n[INFO] Hive HWI .......................................... SKIPPED\n[INFO] Hive Llap Server .................................. SKIPPED\n[INFO] Hive Shims Aggregator ............................. SKIPPED\n[INFO] Hive TestUtils .................................... SKIPPED\n[INFO] Hive Packaging .................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1:09.016s\n[INFO] Finished at: Wed Apr 06 13:26:29 EDT 2016\n[INFO] Final Memory: 49M/162M\n[INFO] ------------------------------------------------------------------------\n[WARNING] The requested profile \"hadoop-2\" could not be activated because it does not exist.\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-orc: Compilation failure\n[ERROR] /data/hive-ptest/working/apache-github-source-source/orc/src/java/org/apache/orc/impl/WriterImpl.java:[1485,13] cannot find symbol\n[ERROR] symbol:   method setLogSpill(boolean)\n[ERROR] location: variable stream of type org.apache.orc.impl.OutStream\n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <goals> -rf :hive-orc\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12797148 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-06T17:26:31.404+0000","updated":"2016-04-06T17:26:31.404+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15228911","id":"15228911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Small update.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-06T19:07:32.498+0000","updated":"2016-04-06T19:07:32.498+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15229332","id":"15229332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"body":"Posted some comments in RB. I will have to do another pass to better understand things in clear mind :). ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-06T23:29:11.048+0000","updated":"2016-04-06T23:29:11.048+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15231333","id":"15231333","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Addressing review comments. The biggest change is the index to kind change for lengths tracking","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-07T23:29:41.533+0000","updated":"2016-04-07T23:29:41.533+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15232625","id":"15232625","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"It doesn't look like RB is working correctly. I cannot get the patch to display. Recent patch may need to be reviewed by applying and diff-ing 2 branches locally..","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-08T18:08:56.145+0000","updated":"2016-04-08T18:08:56.145+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15232946","id":"15232946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"body":"I still don't think we need a config for writer. I can see that the config is added to avoid writing wrong lengths or disable that feature. But the problem is that the we won't be able to identify the files that are already written wrongly. So I would recommend bumping up the writerVersion to reflect this jira (HIVE-9660). With this we can identify files that are written after HIVE-9660. In future if we find anything wrong, we bump up the writerVersion again and make reader resilient by ignoring lengths from files written with HIVE-9660. There should also be a reader config that use lengths when available or fallback to old codepath.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-08T21:17:30.839+0000","updated":"2016-04-08T21:17:30.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15232951","id":"15232951","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12797641/HIVE-9660.07.patch\n\n{color:green}SUCCESS:{color} +1 due to 11 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 172 failed/errored test(s), 9771 tests executed\n*Failed tests:*\n{noformat}\nTestMiniSparkOnYarnCliDriver - did not produce a TEST-*.xml file\nTestSparkCliDriver-auto_join30.q-vector_data_types.q-scriptfile1.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-auto_join9.q-bucketmapjoin11.q-smb_mapjoin_2.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-date_udf.q-join23.q-auto_join4.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-groupby4.q-timestamp_null.q-auto_join23.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-ppd_gby_join.q-groupby_rollup1.q-auto_sortmerge_join_4.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-ppd_join3.q-union26.q-load_dyn_part15.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-stats13.q-groupby6_map.q-join_casesensitive.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-vector_distinct_2.q-input17.q-load_dyn_part2.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_select\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_orig_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_non_partitioned\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_orig_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_partitioned\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_file_dump\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_int_type_promotion\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_lengths\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_llap\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge8\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge9\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_min_max\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_all_types\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_orig_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_aggregate_9\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_binary_join_groupby\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_cast_constant\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_char_4\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_data_types\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_distinct_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_groupby_3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_interval_mapjoin\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_number_compare_projection\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_orderby_5\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_reduce1\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_reduce2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_reduce3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_string_concat\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_varchar_4\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_part\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_part_varchar\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_orc_ppd_basic\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_orig_table\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_non_partitioned\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge8\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge9\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_ppd_basic\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_types\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_orig_table\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_aggregate_9\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_binary_join_groupby\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_cast_constant\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_4\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_data_types\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_distinct_2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_groupby_3\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_interval_mapjoin\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_orderby_5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_reduce1\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_reduce2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_reduce3\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_string_concat\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_4\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_part\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_part_varchar\norg.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping\norg.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener\norg.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener\norg.apache.hadoop.hive.metastore.TestMetaStoreMetrics.org.apache.hadoop.hive.metastore.TestMetaStoreMetrics\norg.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testVectorizationWithAcid\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.columnProjection[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.columnProjection[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.metaData[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.metaData[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.test1[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.test1[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testBitPack64Large[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testBitPack64Large[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testDate1900[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testDate2038[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testHiveDecimalAllNulls[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testHiveDecimalAllNulls[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testHiveDecimalIsNullReset[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testPredicatePushdown[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testPredicatePushdown[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSeek[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSeek[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSnappy[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testSnappy[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStringAndBinaryStatistics[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStringAndBinaryStatistics[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStripeLevelStats[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testStripeLevelStats[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testTimestamp[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testTimestamp[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testUnionAndTimestamp[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testUnionAndTimestamp[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testWithoutIndex[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testWithoutIndex[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testZeroCopySeek[0]\norg.apache.hadoop.hive.ql.io.orc.TestOrcFile.testZeroCopySeek[1]\norg.apache.hadoop.hive.ql.io.orc.TestOrcNullOptimization.testColumnsWithNullAndCompression\norg.apache.hadoop.hive.ql.io.orc.TestOrcNullOptimization.testMultiStripeWithNull\norg.apache.hadoop.hive.ql.io.orc.TestOrcNullOptimization.testMultiStripeWithoutNull\norg.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderOldBaseAndDelta\norg.apache.hadoop.hive.ql.io.orc.TestOrcSerDeStats.testOrcSerDeStatsComplex\norg.apache.hadoop.hive.ql.io.orc.TestOrcSerDeStats.testOrcSerDeStatsComplexOldFormat\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testExternalFooterCache\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testExternalFooterCachePpd\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationComplexExpr\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationLargeMaxSplit\norg.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationSmallMaxSplit\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.metaData\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.test1\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testNonDictionaryRepeatingString\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testRepeating\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testSeek\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testSnappy\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStringAndBinaryStatistics\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStringPadding\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStripeLevelStats\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testStructs\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testTimestamp\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testUnionAndTimestamp\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testUnions\norg.apache.hadoop.hive.ql.io.orc.TestVectorOrcFile.testWithoutIndex\norg.apache.hadoop.hive.ql.io.orc.TestVectorizedORCReader.createFile\norg.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls\norg.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions\norg.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener\norg.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbFailure\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableSuccess\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableSuccessWithReadOnly\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore\norg.apache.hive.hcatalog.api.repl.commands.TestCommands.org.apache.hive.hcatalog.api.repl.commands.TestCommands\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.dropDatabase\norg.apache.hive.hcatalog.pig.TestE2EScenarios.testReadOrcAndRCFromPig\norg.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[3]\norg.apache.hive.minikdc.TestJdbcWithDBTokenStore.testNegativeTokenAuth\norg.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles\norg.apache.hive.spark.client.TestSparkClient.testCounters\norg.apache.hive.spark.client.TestSparkClient.testErrorJob\norg.apache.hive.spark.client.TestSparkClient.testJobSubmission\norg.apache.hive.spark.client.TestSparkClient.testMetricsCollection\norg.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob\norg.apache.hive.spark.client.TestSparkClient.testSyncRpc\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7513/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7513/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7513/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 172 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12797641 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-08T21:19:42.722+0000","updated":"2016-04-08T21:19:42.722+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15233018","id":"15233018","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Hmm, looks like recent refactoring broke a bunch of stuff. I will take a look.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-08T21:47:21.658+0000","updated":"2016-04-08T21:47:21.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15233337","id":"15233337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixing the tests so they could run over the weekend.\nWill address the rest of the feedback later.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-09T03:45:50.158+0000","updated":"2016-04-09T03:45:50.158+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15235770","id":"15235770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Removed the writer setting, added the reader setting. Also added the writer version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-11T19:15:14.851+0000","updated":"2016-04-11T19:17:25.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15235977","id":"15235977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12797846/HIVE-9660.08.patch\n\n{color:green}SUCCESS:{color} +1 due to 11 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 54 failed/errored test(s), 9885 tests executed\n*Failed tests:*\n{noformat}\nTestMiniTezCliDriver-schema_evol_orc_acidvec_mapwork_part.q-vector_partitioned_date_time.q-vector_non_string_partition.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-schema_evol_text_nonvec_mapwork_table.q-vector_left_outer_join2.q-vector_outer_join5.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vector_acid3.q-vector_decimal_trailing.q-lvj_mapjoin.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vector_partition_diff_num_cols.q-vectorization_10.q-orc_merge9.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket5\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_map_operators\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_list_bucket_dml_10\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge_diff_fs\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_reduce_deduplicate\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_tmp_table\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_nonvec_fetchwork_table\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dyn_part_max\norg.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_minimr_broken_pipe\norg.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping\norg.apache.hadoop.hive.metastore.hbase.TestHBaseImport.org.apache.hadoop.hive.metastore.hbase.TestHBaseImport\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.concurrencyFalse\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLExclusive\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDelete\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testLockTimeout\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadPartition\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWriteTable\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testUpdate\norg.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls\norg.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions\norg.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener\norg.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.dropDatabase\norg.apache.hive.jdbc.TestSSL.testSSLFetchHttp\norg.apache.hive.minikdc.TestJdbcWithDBTokenStore.org.apache.hive.minikdc.TestJdbcWithDBTokenStore\norg.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7549/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7549/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7549/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 54 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12797846 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-11T21:08:25.540+0000","updated":"2016-04-11T21:08:25.540+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15236003","id":"15236003","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Test failures don't look related, typical recent metastore timeouts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-11T21:25:29.508+0000","updated":"2016-04-11T21:25:29.508+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15236360","id":"15236360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"body":"Left some more comments in RB. Will it be easy to add unit tests for these?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-12T00:53:09.128+0000","updated":"2016-04-12T00:53:09.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15240703","id":"15240703","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12798085/HIVE-9660.09.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7583/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7583/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7583/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]\n+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera\n+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera\n+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin\n+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ cd /data/hive-ptest/working/\n+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-7583/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ git = \\s\\v\\n ]]\n+ [[ git = \\g\\i\\t ]]\n+ [[ -z master ]]\n+ [[ -d apache-github-source-source ]]\n+ [[ ! -d apache-github-source-source/.git ]]\n+ [[ ! -d apache-github-source-source ]]\n+ cd apache-github-source-source\n+ git fetch origin\nFrom https://github.com/apache/hive\n   529580f..0dd4621  master     -> origin/master\n+ git reset --hard HEAD\nHEAD is now at 529580f HIVE-13486: Cast the column type for column masking (Pengcheng Xiong, reviewed by Ashutosh Chauhan)\n+ git clean -f -d\n+ git checkout master\nAlready on 'master'\nYour branch is behind 'origin/master' by 1 commit, and can be fast-forwarded.\n+ git reset --hard origin/master\nHEAD is now at 0dd4621 HIVE-12159: Create vectorized readers for the complex types (Owen O'Malley, reviewed by Matt McCline)\n+ git merge --ff-only origin/master\nAlready up-to-date.\n+ git gc\n+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hive-ptest/working/scratch/build.patch\n+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]\n+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch\nThe patch does not appear to apply with p0, p1, or p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12798085 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-14T06:47:35.701+0000","updated":"2016-04-14T06:47:35.701+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15254417","id":"15254417","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Rebased the patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-22T18:33:45.509+0000","updated":"2016-04-22T18:33:45.509+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15254513","id":"15254513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Addressing the CR feedback","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-22T19:32:46.684+0000","updated":"2016-04-22T19:32:46.684+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15255649","id":"15255649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12800288/HIVE-9660.10.patch\n\n{color:green}SUCCESS:{color} +1 due to 12 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 73 failed/errored test(s), 9947 tests executed\n*Failed tests:*\n{noformat}\nTestHWISessionManager - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_file_dump\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_lengths\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket5\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_map_operators\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_list_bucket_dml_10\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge_diff_fs\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_reduce_deduplicate\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote\norg.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping\norg.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener\norg.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus\norg.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener\norg.apache.hadoop.hive.metastore.TestMetaStoreMetrics.org.apache.hadoop.hive.metastore.TestMetaStoreMetrics\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithValidPartVal\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters\norg.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler\norg.apache.hadoop.hive.ql.TestTxnCommands2.testBucketizedInputFormat\norg.apache.hadoop.hive.ql.TestTxnCommands2.testDeleteIn\norg.apache.hadoop.hive.ql.TestTxnCommands2.testInitiatorWithMultipleFailedCompactions\norg.apache.hadoop.hive.ql.TestTxnCommands2.testOrcNoPPD\norg.apache.hadoop.hive.ql.TestTxnCommands2.testOrcPPD\norg.apache.hadoop.hive.ql.TestTxnCommands2.testUpdateMixedCase\norg.apache.hadoop.hive.ql.io.orc.TestColumnStatistics.testHasNull\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testBloomFilter\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testBloomFilter2\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDictionaryThreshold\norg.apache.hadoop.hive.ql.io.orc.TestFileDump.testDump\norg.apache.hadoop.hive.ql.io.orc.TestJsonFileDump.testJsonDump\norg.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.lockConflictDbTable\norg.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls\norg.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions\norg.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener\norg.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropView\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbFailure\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore\norg.apache.hive.beeline.TestSchemaTool.testSchemaInit\norg.apache.hive.hcatalog.api.repl.commands.TestCommands.org.apache.hive.hcatalog.api.repl.commands.TestCommands\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.sqlInsertPartition\norg.apache.hive.minikdc.TestJdbcWithDBTokenStore.org.apache.hive.minikdc.TestJdbcWithDBTokenStore\norg.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS\n{noformat}\n\nTest results: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/62/testReport\nConsole output: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/62/console\nTest logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-62/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 73 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12800288 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-24T16:57:34.243+0000","updated":"2016-04-24T16:57:34.243+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15256542","id":"15256542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"I don't think we need to bump up the writer version for this change, because the reader can tell if the protobuf has the field or not. WriterVersions are typically reserved for bugs in the writer where the reader needs to work around bugs.\n\nCan you give a top level view on how you are approaching adding the lengths?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-25T16:23:50.850+0000","updated":"2016-04-25T16:23:50.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15256560","id":"15256560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"I guess my assumption was that you would make a callback from the underlying stream and when a compression buffer finished, you would record a length for any pending RG.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-25T16:38:50.360+0000","updated":"2016-04-25T16:38:50.360+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15257127","id":"15257127","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"That is pretty much it. There are some more detailed descriptions in the comments. The two complex bits are the integer writers that have their separate caches, so one needs to be aware when accounting for a CB that, even though some RGs might be fully written, their values could still be in the integer writer literals array (or a similar place), and not in this CB. \nAnother is the string writer, which is logically simple (we save index entries as before, only this time we have to make sure when writing stuff out that we maintain a correct set of active RGs for those CB callbacks), but a little bit involved code-wise.\n\nI'll look at test failures, I think the last patch was supposed to pass all the tests before rebase, probably some stupid error.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-25T22:01:38.895+0000","updated":"2016-04-25T22:01:38.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15259220","id":"15259220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Rebased again, removed the writer version (which was also the cause of some test failures)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-26T23:59:42.114+0000","updated":"2016-04-26T23:59:42.114+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15263918","id":"15263918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12800915/HIVE-9660.11.patch\n\n{color:green}SUCCESS:{color} +1 due to 12 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 53 failed/errored test(s), 9894 tests executed\n*Failed tests:*\n{noformat}\nTestHBaseAggrStatsCacheIntegration - did not produce a TEST-*.xml file\nTestHWISessionManager - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-auto_join30.q-script_pipe.q-vector_decimal_10_0.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-explainuser_4.q-update_after_multiple_inserts.q-mapreduce2.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-order_null.q-vector_acid3.q-orc_merge10.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vector_distinct_2.q-tez_joins_explain.q-cte_mat_1.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vector_varchar_4.q-smb_cache.q-tez_join_hash.q-and-8-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial_ndv\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nomore_ambiguous_table_col\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_regexp_extract\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket6\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_disable_merge_for_bucketing\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_num_buckets\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge9\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_clustern3\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_clustern4\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_nonkey_groupby\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_selectDistinctStarNeg_2\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_subquery_shared_alias\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udtf_not_supported1\norg.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote\norg.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping\norg.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener\norg.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus\norg.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener\norg.apache.hadoop.hive.metastore.TestMetaStoreMetrics.org.apache.hadoop.hive.metastore.TestMetaStoreMetrics\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters\norg.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler\norg.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls\norg.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions\norg.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser\norg.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore\norg.apache.hive.hcatalog.api.repl.commands.TestCommands.org.apache.hive.hcatalog.api.repl.commands.TestCommands\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.dropDatabase\norg.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS\n{noformat}\n\nTest results: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/117/testReport\nConsole output: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/117/console\nTest logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-117/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 53 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12800915 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-04-29T11:26:37.096+0000","updated":"2016-04-29T11:26:37.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15264415","id":"15264415","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Some test failures are caused by metastore issues, and some are broken by other jiras it appears","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-29T17:45:31.963+0000","updated":"2016-04-29T17:45:31.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15264416","id":"15264416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~prasanth_j] this is now ready for +1 :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-04-29T17:45:44.506+0000","updated":"2016-04-29T17:45:44.506+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15266769","id":"15266769","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"After looking at this patch, I feel like we can do it more cleanly. I'd propose that we:\n* add a capability to register callbacks on PositionedOutputStream that get called immediately if there are no uncompressed bytes, or after the next compression block finishes.\n* add a similar capability to the run length encoders that wait until the end of the current run and then pass the callback down to the PositionedOutputStream.\n* the ORC WriterImpl then creates callbacks that finalize the RowIndexEntry when all of the streams for that column have completed their run length encoding block and compression block.\n\nThis makes most of the column types really straightforward. The only one that is a mess is the string column types because of the delayed writing caused by the dictionary.\n\nI should have a first draft of such a patch today for everyone to look at.\n\nThoughts?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-02T15:15:38.893+0000","updated":"2016-05-02T15:15:38.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15267043","id":"15267043","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"This is exactly what this patch does, except the coordination will move into each of the RL writers instead of the central place.\nSo I don't really understand the difference in approach.\n\nNote that the run length blocks finish before CBs (ie RL first, then CB containing the RL), so the callbacks are actually reversed.\n\nFor uncompressed, the main concern is that for exact boundaries, there will be too many calls.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-02T17:34:28.755+0000","updated":"2016-05-02T17:36:56.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15267073","id":"15267073","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Btw, I just realized it would actually not even be cleaner, if I understand it correctly. You'd need to pass a callback per RG down to the RL writer (and in some cases there isn't even an RL writer, like double), but RL writer won't know when a RG ends. So you;d need to tell the RL writer which callback-RGs are done, and then when RL block ends they can send those down. That seems like a roundabout way of doing it instead of just coordinating  in one place.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-02T17:49:09.929+0000","updated":"2016-05-02T17:49:09.929+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15267118","id":"15267118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nNote that the run length blocks finish before CBs (ie RL first, then CB containing the RL), so the callbacks are actually reversed.\n{quote}\n\nThey can happen in *either* order, but the length must be computed when the compression block finishes AFTER the rle block finishes.\n\n{quote}\nFor uncompressed, the main concern is that for exact boundaries, there will be too many calls.\n{quote}\n\nI don't understand this sentence. There will be a call per stream per a row group, that is hardly a problem.\n\n{quote}\nYou'd need to pass a callback per RG down to the RL writer (and in some cases there isn't even an RL writer, like double), but RL writer won't know when a RG ends. \n{quote}\n\nThe run length encoder doesn't perform the callback, but when its RLE block is finished passes the same callback to the OutStream for when the OutStream finishes the next compression block. Thus it is easy to guarantee that you only get called back when compression block finishes after the RLE finishes, which is the required condition. Obviously, for cases where there isn't an RLE, it just puts the callback directly on the OutStream and it works exactly the same way.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-02T18:04:47.359+0000","updated":"2016-05-02T18:04:47.359+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15267179","id":"15267179","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nThe run length encoder doesn't perform the callback, but when its RLE block is finished passes the same callback to the OutStream for when the OutStream finishes the next compression block. Thus it is easy to guarantee that you only get called back when compression block finishes after the RLE finishes, which is the required condition. Obviously, for cases where there isn't an RLE, it just puts the callback directly on the OutStream and it works exactly the same way.\n{quote}\nRG can have several RLE blocks; RL reader will need to know when to pass the callback (assuming the callback maps to RG; otherwise, how does the WriterImpl know which RG is done after a callback?); RLE block can contain several RGs, too. Moreover, in case of a boolean writer, there are two levels of buffering - the current byte, and the RLE buffer in the underlying byte writer.\n\nThere's also the issue of dictionaries and strings, where isPresent is written normally but the entries cannot be finalized.\nIn general, I feel like all the coordination complexity will still be necessary, it would just end up moving around a bit.\n\nFor uncompressed, if the exact boundary had to be determined, a callback would need to be called every RLE buffer, and in some cases like for boolean writer it could be as often as every few bytes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-02T18:18:53.971+0000","updated":"2016-05-02T18:22:23.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15267223","id":"15267223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Callbacks are only added when a row group finishes, which is the only time that anyone cares. So nothing happens per a row, only at the row group boundary. The flow looks like:\n\nstart of stripe:\n* record position\n\nend of row group:\n* create callbacks for each data stream (not the index or dictionary streams)\n* record the position for the next row group\n\nend of stripe:\n* flush everything to ensure all the callbacks happen\n\nnothing happens per a row or rowbatch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-02T18:33:32.526+0000","updated":"2016-05-02T18:33:32.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15267781","id":"15267781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Hmm. I see, the main difference is that one could track the finished RGs and record the length at the end based on stream position, instead of tracking all the length changes attributed to the RG while it's active... this will change the set-of-active-rgs to set-of-just-finished-rgs (of which there can still be several per CB, or RL block), and move tracking logic around to different places. The dictionary stuff will still have to be there because the direct/dictionary flush each write streams that are separated into RGs out of sync with the main writer (data+length for direct, data for dictionary). I am not sure if it's worth it at this point... I could change the existing patch to do that, or do it in separate JIRA later. If you want to do it from scratch that also works ;)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-03T00:09:46.548+0000","updated":"2016-05-03T00:09:46.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15268919","id":"15268919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"Here's my first pass. As I've discussed:\n* PositionedOutputStream gets a registerCallback method that gets called when the next compression block finishes.\n* IntegerWriter, BitFieldWriter, and RunLengthByteWriter all get a registerCallback method that gets called when the RLE block and then the compression block finish.\n* StringRedBlackTree gets a method that writes to an OutputStream without copying the bytes to a Text object first.\n* The StringTreeWriter gets refactored so that once the decision to use direct encoding is made, it works just like BinaryTreeWriter.\n\nThere are a couple of things that I haven't addressed yet:\n* isPresent stream suppression doesn't remove the first length from the vector.\n* The reading code doesn't use the length vector yet.\n* I haven't added unit tests for the new code.\n* I know the current ORC unit tests are failing. The changes to the OutStream and run length encoders are very straightforward, but I'm tracking down what I've messed up in WriterImpl.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-03T15:44:35.429+0000","updated":"2016-05-03T15:44:35.429+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15292347","id":"15292347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user omalley opened a pull request:\n\n    https://github.com/apache/hive/pull/77\n\n    HIVE-9660 Add length to ORC indexes so that the reader knows how much to read.\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/omalley/hive hive-9660\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/hive/pull/77.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #77\n    \n----\ncommit 014e9aaec1cb8f7257b997e953e6cc30d34a71cf\nAuthor: Owen O'Malley <omalley@apache.org>\nDate:   2016-03-26T02:39:12Z\n\n    HIVE-11417. Move the ReaderImpl and RowReaderImpl to the ORC module,\n    by making shims for the row by row reader.\n\ncommit afda4610a8c1ed9fe3adc86c6fc1b08b5fdae7aa\nAuthor: Owen O'Malley <omalley@apache.org>\nDate:   2016-05-13T21:44:34Z\n\n    HIVE-9660 Add length to ORC indexes so that the reader knows how much\n    to read.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-19T23:38:44.496+0000","updated":"2016-05-19T23:38:44.496+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15293906","id":"15293906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch does:\n* implements a PositionedOutputStream.Callback to track when compression blocks and RLE are finished.\n* Adds lengths to the OrcProto.RowIndexEntry.\n* Uses the lengths when determining the number of bytes to read when doing predicate push down.\n* Creates a callback for RowIndexEntry in the WriterImpl such that the entry isn't finalized until all of the streams do their callback. To ensure that the entry isn't finalized before all of the streams are added there is an activation after the last stream has been added to the RowIndexEntry.\n* Removing the positions and lengths from the RowIndexEntry for ispresent stream removal is done softly so that remaining callbacks don't get impacted.\n* The code dealing with the string columns and the dictionary vs direct encoding has been significantly cleaned up.\n* TreeWriter.writeStripe has been split into a flush method that will finalize all of the streams.\n* Lots of test case updates for the changes ORC file sizes.\n* A new test case that tests the callbacks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=owen.omalley","name":"owen.omalley","key":"owen.omalley","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=owen.omalley&avatarId=29697","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=owen.omalley&avatarId=29697","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=owen.omalley&avatarId=29697","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=owen.omalley&avatarId=29697"},"displayName":"Owen O'Malley","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-20T18:19:14.979+0000","updated":"2016-05-20T18:19:14.979+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15295469","id":"15295469","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12805265/HIVE-9660.patch\n\n{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 119 failed/errored test(s), 9855 tests executed\n*Failed tests:*\n{noformat}\nTestHWISessionManager - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-constprog_dpp.q-dynamic_partition_pruning.q-vectorization_10.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-cte_4.q-vector_non_string_partition.q-delete_where_non_partitioned.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-dynpart_sort_optimization2.q-tez_dynpart_hashjoin_3.q-orc_vectorization_ppd.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-explainuser_4.q-update_after_multiple_inserts.q-mapreduce2.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-mapjoin_mapjoin.q-insert_into1.q-vector_decimal_2.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-order_null.q-vector_acid3.q-orc_merge10.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-smb_cache.q-transform_ppr2.q-vector_outer_join0.q-and-5-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vector_coalesce.q-cbo_windowing.q-tez_join.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vectorization_16.q-vector_decimal_round.q-orc_merge6.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-auto_join30.q-join2.q-input17.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-avro_joins.q-join36.q-join1.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-groupby2.q-custom_input_output_format.q-join41.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-groupby3_map.q-skewjoinopt8.q-union_remove_1.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-load_dyn_part5.q-load_dyn_part2.q-skewjoinopt16.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-order.q-auto_join18_multi_distinct.q-union2.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-skewjoin_noskew.q-sample2.q-skewjoinopt10.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-vector_distinct_2.q-join15.q-load_dyn_part3.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_part\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_columnStatsUpdateForStatsOptimizer_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_deleteAnalyze\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_full\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_extrapolate_part_stats_partial_ndv\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_orig_table_use_metadata\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_llap_uncompressed\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_analyze\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_file_dump\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge10\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge11\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_nonvec_fetchwork_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_nonvec_mapwork_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_vec_mapwork_table\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_11\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_orc\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_deleteAnalyze\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_analyze\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge12\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_nonvec_fetchwork_table\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_nonvec_mapwork_table\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_vec_mapwork_table\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union_fast_stats\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_complex_all\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_alter_merge_stats_orc\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_join19\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_join22\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_join23\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_bucketmapjoin9\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby1_map_nomap\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_insert_into2\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join23\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_reorder2\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_louter_join_ppr\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_smb_mapjoin_12\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_lazy\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union25\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union29\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorized_case\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorized_ptf\norg.apache.hadoop.hive.llap.tez.TestConverters.testFragmentSpecToTaskSpec\norg.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure\norg.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote\norg.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks\norg.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs\norg.apache.hadoop.hive.metastore.TestHiveMetaStoreStatsMerge.testStatsMerge\norg.apache.hadoop.hive.metastore.TestHiveMetaStoreWithEnvironmentContext.testEnvironmentContext\norg.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener\norg.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus\norg.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithCommas\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithUnicode\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithValidPartVal\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode\norg.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters\norg.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler\norg.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls\norg.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions\norg.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges\norg.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges\norg.apache.hive.hcatalog.api.repl.commands.TestCommands.org.apache.hive.hcatalog.api.repl.commands.TestCommands\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.cleanupNotifs\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.dropDatabase\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.dropTable\norg.apache.hive.hcatalog.listener.TestDbNotificationListener.sqlInsertPartition\norg.apache.hive.minikdc.TestJdbcNonKrbSASLWithMiniKdc.org.apache.hive.minikdc.TestJdbcNonKrbSASLWithMiniKdc\norg.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS\n{noformat}\n\nTest results: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/356/testReport\nConsole output: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/356/console\nTest logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-356/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 119 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12805265 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-05-22T08:20:58.255+0000","updated":"2016-05-22T08:20:58.255+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774417/comment/15296784","id":"15296784","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~owen.omalley] lots of ORC tests failed that may be related... also it looks like all the Tez tests got stuck, not sure if that's related or just HiveQA (they didn't get stuck in other jiras though)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-23T18:10:06.066+0000","updated":"2016-05-23T18:10:06.066+0000"}],"maxResults":54,"total":54,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-9660/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i25inz:"}}