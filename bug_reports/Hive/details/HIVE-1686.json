{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12475644","self":"https://issues.apache.org/jira/rest/api/2/issue/12475644","key":"HIVE-1686","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 01 17:38:58 UTC 2010","customfield_12310420":"42399","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-1686/watchers","watchCount":0,"isWatching":false},"created":"2010-10-01T17:11:10.175+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314156","id":"12314156","description":"released","name":"0.5.0","archived":false,"released":true,"releaseDate":"2010-02-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-10-29T22:52:04.794+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312585","id":"12312585","name":"Serializers/Deserializers","description":"Tracks issues dealing with serdes"}],"timeoriginalestimate":null,"description":"If one is using Hive 0.5 with IBM Java 1.6 certain Hive Queries will fail in the Hive CLI, such as \"SELECT Count(1) from TABLE\" with the error \"failed to write expression: GenericUDAFEvaluator$Mode=Class.new()\". This is due to the fact that XMLEncoder in the JRE's beans.jar is not able to serialize Classes with Enums without an explicitly having an EnumPersistenceDelegate assigned to each class that needs to be serialized. This was an issue in SUN JDK 1.5 but not 1.6 and is still an issue in IBM Java 1.6.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12456142","id":"12456142","filename":"HIVE-1686.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"created":"2010-10-01T17:31:46.891+0000","size":1114,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12456142/HIVE-1686.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123306","customfield_12312823":null,"summary":"XMLEncoder failing to serialize classes containing Enums for non-SUN JREs","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"SLES 10 SP2, IBM Java 1.6 SR8","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475644/comment/12916964","id":"12916964","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"body":"To resolve this issue, I have provided a patch that has added a variety of enumPersistenceDelegates for the classes throwing this Exception to the XMLEncoder in org.apache.hadoop.hive.ql.exec.Utilities.serializeMapRedWork()\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"created":"2010-10-01T17:34:56.812+0000","updated":"2010-10-01T17:34:56.812+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475644/comment/12916966","id":"12916966","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"body":"This issue will also be fixed in the JRE with the next release of IBM Java 1.6 (SR9) around the Dec 2010 timeframe.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wattsteve","name":"wattsteve","key":"wattsteve","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wattsteve&avatarId=21033","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wattsteve&avatarId=21033","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wattsteve&avatarId=21033","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wattsteve&avatarId=21033"},"displayName":"Stephen Watt","active":true,"timeZone":"America/Chicago"},"created":"2010-10-01T17:38:58.247+0000","updated":"2010-10-01T17:38:58.247+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-1686/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lge7:"}}