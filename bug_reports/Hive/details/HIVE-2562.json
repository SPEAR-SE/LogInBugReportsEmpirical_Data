{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12530800","self":"https://issues.apache.org/jira/rest/api/2/issue/12530800","key":"HIVE-2562","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-11-09T08:38:15.830+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 10 23:37:53 UTC 2011","customfield_12310420":"216538","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_11863_*|*_1_*:*_2_*:*_144088698_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-11-10T17:30:20.785+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2562/watchers","watchCount":0,"isWatching":false},"created":"2011-11-09T01:28:40.319+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-16T23:56:40.893+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"HIVE-2247 Added a parameter to alter_partition in the Metastore Thrift API which has been causing compatibility issues with some scripts.  We would like to change this to have two methods, one called alter_partition which takes the old parameters, and one called something else (I'll leave the naming up to you) which has the new parameters.  The implementation of the old method should just call the new method with null for the new parameter.\n\nThis will fix the compatibility issues.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12503028","id":"12503028","filename":"HIVE-2562.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T08:38:15.757+0000","size":109463,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12503028/HIVE-2562.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12503136","id":"12503136","filename":"HIVE-2562-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T21:39:28.719+0000","size":108233,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12503136/HIVE-2562-1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12503170","id":"12503170","filename":"HIVE-2562-2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-10T05:45:00.711+0000","size":108465,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12503170/HIVE-2562-2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123981","customfield_12312823":null,"summary":"HIVE-2247 Changed the Thrift API causing compatibility issues.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinwilfong","name":"kevinwilfong","key":"kevinwilfong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Wilfong","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinwilfong","name":"kevinwilfong","key":"kevinwilfong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Wilfong","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13146850","id":"13146850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"body":"keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null \n\nRun the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T08:38:15.830+0000","updated":"2011-11-09T08:38:15.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13146869","id":"13146869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/\n-----------------------------------------------------------\n\n(Updated 2011-11-09 09:04:42.416457)\n\n\nReview request for hive, Siying Dong and Kevin Wilfong.\n\n\nChanges\n-------\n\nI thought this patch is going to fix the bug in HIVE-2247, so I should put HIVE-2247 in the bugs field...It seems it is not like what I think.\n\n\nSummary (updated)\n-------\n\nkeep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\n\nRun the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\n\n\nThis addresses bug HIVE-2562.\n    https://issues.apache.org/jira/browse/HIVE-2562\n\n\nDiffs\n-----\n\n  trunk/metastore/if/hive_metastore.thrift 1199598 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199598 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199598 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199598 \n  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199598 \n  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199598 \n  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199598 \n  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199598 \n  trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199598 \n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199598 \n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199598 \n\nDiff: https://reviews.apache.org/r/2783/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nWeiyan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T09:05:51.740+0000","updated":"2011-11-09T09:05:51.740+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147154","id":"13147154","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/#review3131\n-----------------------------------------------------------\n\n\n\ntrunk/metastore/if/hive_metastore.thrift\n<https://reviews.apache.org/r/2783/#comment6944>\n\n    can this function just called rename_partition().\n\n\n- Ning\n\n\nOn 2011-11-09 09:04:42, Weiyan Wang wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/2783/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-11-09 09:04:42)\nbq.  \nbq.  \nbq.  Review request for hive, Siying Dong and Kevin Wilfong.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\nbq.  \nbq.  Run the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2562.\nbq.      https://issues.apache.org/jira/browse/HIVE-2562\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/if/hive_metastore.thrift 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199598 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199598 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199598 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/2783/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Weiyan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T17:01:51.524+0000","updated":"2011-11-09T17:01:51.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147197","id":"13147197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Remove the files /tmp/*9000 from your machine.\nload_fs.q will succeed after that","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-11-09T18:05:07.477+0000","updated":"2011-11-09T18:05:07.477+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147234","id":"13147234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n\nbq.  On 2011-11-09 17:01:46, Ning Zhang wrote:\nbq.  > trunk/metastore/if/hive_metastore.thrift, line 373\nbq.  > <https://reviews.apache.org/r/2783/diff/2/?file=56941#file56941line373>\nbq.  >\nbq.  >     can this function just called rename_partition().\n\nI agree with Ning's comment about the function name, everything else looks good to me.\n\n\n- Kevin\n\n\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/#review3131\n-----------------------------------------------------------\n\n\nOn 2011-11-09 09:04:42, Weiyan Wang wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/2783/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-11-09 09:04:42)\nbq.  \nbq.  \nbq.  Review request for hive, Siying Dong and Kevin Wilfong.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\nbq.  \nbq.  Run the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2562.\nbq.      https://issues.apache.org/jira/browse/HIVE-2562\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/if/hive_metastore.thrift 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199598 \nbq.    trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199598 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199598 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199598 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/2783/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Weiyan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T19:45:51.591+0000","updated":"2011-11-09T19:45:51.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147314","id":"13147314","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/\n-----------------------------------------------------------\n\n(Updated 2011-11-09 21:38:50.463372)\n\n\nReview request for hive, Siying Dong and Kevin Wilfong.\n\n\nChanges\n-------\n\nAddress Ning's comment\n\n\nSummary\n-------\n\nkeep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\n\nRun the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\n\n\nThis addresses bug HIVE-2562.\n    https://issues.apache.org/jira/browse/HIVE-2562\n\n\nDiffs (updated)\n-----\n\n  trunk/metastore/if/hive_metastore.thrift 1199943 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 \n  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 \n  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 \n  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 \n  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 \n  trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 \n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 \n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 \n\nDiff: https://reviews.apache.org/r/2783/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nWeiyan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T21:39:51.511+0000","updated":"2011-11-09T21:39:51.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147316","id":"13147316","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n\nbq.  On 2011-11-09 17:01:46, Ning Zhang wrote:\nbq.  > trunk/metastore/if/hive_metastore.thrift, line 373\nbq.  > <https://reviews.apache.org/r/2783/diff/2/?file=56941#file56941line373>\nbq.  >\nbq.  >     can this function just called rename_partition().\nbq.  \nbq.  Kevin Wilfong wrote:\nbq.      I agree with Ning's comment about the function name, everything else looks good to me.\n\nI am still running all unit tests.\n\n\n- Weiyan\n\n\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/#review3131\n-----------------------------------------------------------\n\n\nOn 2011-11-09 21:38:50, Weiyan Wang wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/2783/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-11-09 21:38:50)\nbq.  \nbq.  \nbq.  Review request for hive, Siying Dong and Kevin Wilfong.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\nbq.  \nbq.  Run the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2562.\nbq.      https://issues.apache.org/jira/browse/HIVE-2562\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/if/hive_metastore.thrift 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/2783/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Weiyan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T21:41:51.271+0000","updated":"2011-11-09T21:41:51.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147327","id":"13147327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/#review3141\n-----------------------------------------------------------\n\n\n\ntrunk/metastore/if/hive_metastore.thrift\n<https://reviews.apache.org/r/2783/#comment6951>\n\n    can you keep the comments for this method (after reverting the changes to the comments as well). \n\n\n\ntrunk/metastore/if/hive_metastore.thrift\n<https://reviews.apache.org/r/2783/#comment6952>\n\n    the comment here is not clear. are you changing the name of new_part with the name specified by part_vals or you want to change the partition identified by part_vals with the name found in new_part? \n\n\n- Ning\n\n\nOn 2011-11-09 21:38:50, Weiyan Wang wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/2783/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-11-09 21:38:50)\nbq.  \nbq.  \nbq.  Review request for hive, Siying Dong and Kevin Wilfong.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\nbq.  \nbq.  Run the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2562.\nbq.      https://issues.apache.org/jira/browse/HIVE-2562\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/if/hive_metastore.thrift 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/2783/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Weiyan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-09T22:01:51.570+0000","updated":"2011-11-09T22:01:51.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147504","id":"13147504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"body":"Change comment in the thrift api","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=weiyan","name":"weiyan","key":"weiyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Weiyan Wang","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-10T05:45:00.835+0000","updated":"2011-11-10T05:45:00.835+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147506","id":"13147506","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/\n-----------------------------------------------------------\n\n(Updated 2011-11-10 05:46:57.500909)\n\n\nReview request for hive, Siying Dong and Kevin Wilfong.\n\n\nSummary\n-------\n\nkeep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\n\nRun the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\n\n\nThis addresses bug HIVE-2562.\n    https://issues.apache.org/jira/browse/HIVE-2562\n\n\nDiffs (updated)\n-----\n\n  trunk/metastore/if/hive_metastore.thrift 1199943 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 \n  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 \n  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 \n  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 \n  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 \n  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 \n  trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 \n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 \n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 \n\nDiff: https://reviews.apache.org/r/2783/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nWeiyan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-10T05:47:51.635+0000","updated":"2011-11-10T05:47:51.635+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147527","id":"13147527","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nzhang","name":"nzhang","key":"nzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"+1. Will commit if tests pass. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nzhang","name":"nzhang","key":"nzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-11-10T07:03:30.009+0000","updated":"2011-11-10T07:03:30.009+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147528","id":"13147528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2783/#review3150\n-----------------------------------------------------------\n\nShip it!\n\n\n- Ning\n\n\nOn 2011-11-10 05:46:57, Weiyan Wang wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/2783/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-11-10 05:46:57)\nbq.  \nbq.  \nbq.  Review request for hive, Siying Dong and Kevin Wilfong.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null\nbq.  \nbq.  Run the \"ant test\". Only load_fs.q fails, but after I revert the patch and run \"ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false\" it still fails. So I think it's not a bug introduced by my patch\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2562.\nbq.      https://issues.apache.org/jira/browse/HIVE-2562\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/if/hive_metastore.thrift 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 \nbq.    trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/2783/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Weiyan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-10T07:03:51.302+0000","updated":"2011-11-10T07:03:51.302+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13147842","id":"13147842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nzhang","name":"nzhang","key":"nzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed. Thanks Weiyan!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nzhang","name":"nzhang","key":"nzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-11-10T17:30:20.826+0000","updated":"2011-11-10T17:30:20.826+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12530800/comment/13148119","id":"13148119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #1075 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1075/])\n    HIVE-2562. HIVE-2247 Changed the Thrift API causing compatibility issues. (Weiyan Wang via Ning Zhang)\n\nnzhang : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1200442\nFiles : \n* /hive/trunk/metastore/if/hive_metastore.thrift\n* /hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp\n* /hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h\n* /hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp\n* /hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java\n* /hive/trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php\n* /hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote\n* /hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py\n* /hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb\n* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java\n* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-10T23:37:53.581+0000","updated":"2011-11-10T23:37:53.581+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2562/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lkk7:"}}