{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13003284","self":"https://issues.apache.org/jira/rest/api/2/issue/13003284","key":"HIVE-14714","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340269","id":"12340269","name":"2.3.0","archived":false,"released":true,"releaseDate":"2017-07-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-09-14T18:06:55.899+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Sep 21 10:43:49 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_10101532_*|*_3_*:*_2_*:*_599165111_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_3_*:*_573562075","customfield_12312321":null,"resolutiondate":"2016-09-21T08:19:55.719+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-14714/watchers","watchCount":6,"isWatching":false},"created":"2016-09-07T15:46:07.524+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329363","id":"12329363","name":"1.1.0","archived":false,"released":true,"releaseDate":"2015-03-07"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-21T18:12:17.845+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320408","id":"12320408","name":"HiveServer2","description":"Tracks issues related to HiveServer2"}],"timeoriginalestimate":null,"description":"After execute hive command with Spark, finishing the beeline session or\neven switch the engine causes IOException. The following executed Ctrl-D to\nfinish the session but \"!quit\" or even \"set hive.execution.engine=mr;\" causes\nthe issue.\n\nFrom HS2 log:\n{code}\n2016-09-06 16:15:12,291 WARN  org.apache.hive.spark.client.SparkClientImpl: [HiveServer2-Handler-Pool: Thread-106]: Timed out shutting down remote driver, interrupting...\n2016-09-06 16:15:12,291 WARN  org.apache.hive.spark.client.SparkClientImpl: [Driver]: Waiting thread interrupted, killing child process.\n2016-09-06 16:15:12,296 WARN  org.apache.hive.spark.client.SparkClientImpl: [stderr-redir-1]: Error in redirector thread.\njava.io.IOException: Stream closed\n        at java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:162)\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:272)\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n        at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:283)\n        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:325)\n        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:177)\n        at java.io.InputStreamReader.read(InputStreamReader.java:184)\n        at java.io.BufferedReader.fill(BufferedReader.java:154)\n        at java.io.BufferedReader.readLine(BufferedReader.java:317)\n        at java.io.BufferedReader.readLine(BufferedReader.java:382)\n        at org.apache.hive.spark.client.SparkClientImpl$Redirector.run(SparkClientImpl.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12828659","id":"12828659","filename":"HIVE-14714.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-15T15:22:07.427+0000","size":9839,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12828659/HIVE-14714.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12829385","id":"12829385","filename":"HIVE-14714.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-20T13:04:57.667+0000","size":982,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12829385/HIVE-14714.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12828490","id":"12828490","filename":"HIVE-14714.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-14T16:36:43.057+0000","size":7592,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12828490/HIVE-14714.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Avoid misleading \"java.io.IOException: Stream closed\" when shutting down HoS","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15491084","id":"15491084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12828490/HIVE-14714.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 10545 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats0]\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]\norg.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching\norg.apache.hive.spark.client.TestSparkClient.testCounters\norg.apache.hive.spark.client.TestSparkClient.testJobSubmission\norg.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1188/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1188/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1188/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 9 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12828490 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-09-14T18:06:55.899+0000","updated":"2016-09-14T18:06:55.899+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15493617","id":"15493617","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Fix for the unit test failures.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-15T15:15:01.746+0000","updated":"2016-09-15T15:15:01.746+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15493637","id":"15493637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Re-uploaded patch .2 with minor change (whitespace)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-15T15:22:07.437+0000","updated":"2016-09-15T15:22:07.437+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15493696","id":"15493696","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"I'm not sure if this is obvious from the code changes, but could we get some diagnosis and explanation on the fix? It doesn't seem trivial.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-15T15:38:18.448+0000","updated":"2016-09-15T15:38:18.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15493760","id":"15493760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"The original problem was the listed exception and that beeline exited only after 10s.\n\nThe root cause of the 10s delay was that in many cases the spark-submit process does not end even in the case of the RemoteDriver has ended on the other side. Therefore, the driverThread.join(10000) really waits for 10s and then we are interrupting it. Here comes the root cause of the logged exception. If we are interrupting child.waitFor() the redirector threads gets IOExceptions in the next readLine() as the related streams got closed.\n\nI've redesigned the Redirector class therefore, it does not use any IO which might hang the thread in case of interruption (e.g. BufferedReader.readLine() cannot be interrupted, it waits for infinity if the related stream is open but no input appears). After this redesign we are able to simply interrupt the driver thread and let it keep working in the background until we have some outputs to be gathered or the related timeout occurs. We do not have to hang the client side to wait for all the threads to be finished.\n\nThen came the unit test failure. The root cause was that protocol.endSession() only sends a job via rpc asynchronously to close the session on the other side. As there is no 10s delay anymore the unit tests executed each after another run into the issue that the previous session is not closed properly. Therefore I've implemented some trick make the end session synchronous.\n\nHope it describes my change properly and with my code comments makes it understandable.\nAny comments here or on the review board are more than welcome. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-15T16:00:04.101+0000","updated":"2016-09-15T16:00:04.101+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15493957","id":"15493957","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12828659/HIVE-14714.2.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 6 failed/errored test(s), 10561 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas]\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]\norg.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1200/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1200/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1200/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 6 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12828659 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-09-15T17:06:50.864+0000","updated":"2016-09-15T17:06:50.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15495722","id":"15495722","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Failing unit tests are not relevant.\nExisting unit tests are covering the modified functionality or it is related to logging which would quite hard to unit test. Manually tested (see review board for details.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-16T08:16:55.638+0000","updated":"2016-09-16T08:16:55.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15502177","id":"15502177","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~gszadovszky], I have several questions about the change:\n# If the root cause is that spark-submit hangs after RemoteDriver exits, can we figure out the reason and fix it? Both the delay and exception log on Hive's side seem to be expected in that case by design, although we can reconsider whether this is appropriate.\n# I guess the change also affects CLI right? Since both driverThread and redirector are daemon threads, will they just be terminated when the CLI exits?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-09-19T03:42:38.725+0000","updated":"2016-09-19T03:42:38.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15502706","id":"15502706","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Hi [~lirui],\n\n# The root cause of the spark submit hang is that the refresh interval of the checking of the process might set as large as it won't get the new state of the remote driver in time. This value can be modified by the user therefore, I would like to handle this situation.\n# These threads are running in HS2 therefore, they won't be terminated in case of beeline is closed. The only effect on the beeline is that it don't have to wait for the timeout as the method stop() will return immediately. (In case of HS2 is running in embedded mode, then these threads will be terminated but it was the original behaviour which I haven't changed.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-19T08:29:53.578+0000","updated":"2016-09-19T08:29:53.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15503061","id":"15503061","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"body":"bq. These threads are running in HS2 therefore, they won't be terminated in case of beeline is closed.\nYeah, but if we use CLI, these threads run in the CLI. Then we may lose some output from spark-submit after CLI exits.\nThinking more about this, I think the problem is more specific to yarn-cluster mode right? Because in yarn-client mode, RemoteDriver runs in spark-submit so it should shut down properly.\nFor yarn-cluster mode, spark-submit is just a monitor for the spark app. It may be acceptable to lose some output from it. But on the other hand, user can set {{spark.yarn.submit.waitAppCompletion=false}} so that spark-submit exits after the app is submitted in order to avoid this hanging issue. HIVE-13895 actually made this default.\nI wonder if that should be enough for the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-09-19T10:42:59.102+0000","updated":"2016-09-19T10:42:59.102+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15503484","id":"15503484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Thanks a lot for the hint, [~lirui]. The fix of [HIVE-13895] should solve the waiting problem. \n\nHowever, in case of child.waitFor() is interrupted and the related process still generates some output the IOException in the redirector threads would be logged. (It might occur if the related spark configs are modified.) I think, these exceptions might be misleading. \nSo, I would do a minimal modification to swallow these IOExceptions in case we are about to stop the remote driver (isAlive is false). What do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-19T13:23:52.344+0000","updated":"2016-09-19T13:23:52.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15505363","id":"15505363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~gszadovszky], in that case, how about logging some brief message in DEBUG level? I'm just wary to swallow any exceptions.\n[~xuefuz], do you have any thoughts on this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-09-20T02:31:46.925+0000","updated":"2016-09-20T02:31:46.925+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15506451","id":"15506451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Dropped the previous modifications and made only a little one based on [~lirui]'s comments. Review it, please.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-20T13:04:57.671+0000","updated":"2016-09-20T13:04:57.671+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15506460","id":"15506460","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Review board link is removed as it is not relevant anymore. For this little change, I would not create another one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-20T13:06:42.346+0000","updated":"2016-09-20T13:06:42.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15506672","id":"15506672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12829385/HIVE-14714.3.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 6 failed/errored test(s), 10556 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas]\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]\norg.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testMetaDataCounts\norg.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/1241/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/1241/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-Build-1241/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 6 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12829385 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-09-20T14:13:52.958+0000","updated":"2016-09-20T14:13:52.958+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15508419","id":"15508419","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"body":"+1\nThanks for the update [~gszadovszky]. I'll commit this shortly if no one has any other comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-09-21T02:01:22.729+0000","updated":"2016-09-21T02:01:22.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15509181","id":"15509181","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"body":"Committed to master. Thanks Gabor for the contribution :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-09-21T08:19:56.001+0000","updated":"2016-09-21T08:19:56.001+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13003284/comment/15509545","id":"15509545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"body":"Thanks a lot for reviewing/committing it. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gszadovszky","name":"gszadovszky","key":"gszadovszky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gszadovszky&avatarId=29443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gszadovszky&avatarId=29443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gszadovszky&avatarId=29443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gszadovszky&avatarId=29443"},"displayName":"Gabor Szadovszky","active":true,"timeZone":"Europe/Budapest"},"created":"2016-09-21T10:43:49.485+0000","updated":"2016-09-21T10:43:49.485+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-14714/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i33cfj:"}}