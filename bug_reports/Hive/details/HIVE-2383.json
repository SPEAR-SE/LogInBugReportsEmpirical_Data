{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12519060","self":"https://issues.apache.org/jira/rest/api/2/issue/12519060","key":"HIVE-2383","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-08-17T19:29:27.163+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Sep 01 00:15:43 UTC 2011","customfield_12310420":"35791","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_1186533462_*|*_1_*:*_3_*:*_105031864_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-08-31T23:42:00.829+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2383/watchers","watchCount":0,"isWatching":false},"created":"2011-08-17T00:55:55.537+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314524","id":"12314524","description":"released","name":"0.6.0","archived":false,"released":true,"releaseDate":"2010-10-29"}],"issuelinks":[{"id":"12342253","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12342253","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12464329","key":"HIVE-1342","self":"https://issues.apache.org/jira/rest/api/2/issue/12464329","fields":{"summary":"Predicate push down get error result when sub-queries have the same alias name ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-16T23:56:06.276+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"The predicate pushdown optimizer starts at the topmost operators traverses the operator tree, at each stage collecting predicates to be pushed down.  At each operator, ive.ql.ppd.OpProcFactory.DefaultPPD.mergeWithChildrenPred is called, which merges the predicates of the children nodes into the current node.  The predicates are stored in hive.ql.ppd.ExprWalkerInfo.pushdownPreds as a map from the alias a predicate refers to (a predicate may only refer to one alias at a time as only such predicates can be pushed) to a list of such predicates.  Since at each stage the alias the predicate refers to may change (subqueries may change aliases), this is updated for each operator (hive.ql.ppd.ExprWalkerProcFactory.extractPushdownPreds is called which walks the ExprNodeDesc for each predicate). When a JoinOperator is encountered, mergeWithChildrenPred is passed an optional parameter \"aliases\" which contains a set of aliases that can be pushed per ansi semantics (see hive.ql.ppd.OpProcFactory.JoinPPD.getQualifiedAliases).  The part that is incorrect is that aliases are filtered in mergeWithChildrenPred before extractPushdownPreds is called, which associates the predicates with the correct alias in the current operator's context while the filtering should happen after.\n\nIn test case Q2 below, when the predicate \"a.bar=3\" comes into the JoinOperator, the alias is \"a\" coming in so it is accepted for pushdown.  When brought into the JoinOperator's context, however, since the predicate refers to b.foo in the inner scope, we should not actually accept this for pushdown.\n\nWith the test cases\n{noformat}\n-- Q1: predicate should not be pushed on the right side of a left outer join (this is correct in trunk)\nexplain\nSELECT a.foo as foo1, b.foo as foo2, b.bar\nFROM pokes a LEFT OUTER JOIN pokes2 b\nON a.foo=b.foo\nWHERE b.bar=3;\n\n-- Q2: predicate should not be pushed on the right side of a left outer join (this is broken in trunk)\nexplain\nSELECT * FROM\n    (SELECT a.foo as foo1, b.foo as foo2, b.bar\n    FROM pokes a LEFT OUTER JOIN pokes2 b\n    ON a.foo=b.foo) a\nWHERE a.bar=3;\n\n-- Q3: predicate should be pushed (this is correct in trunk)\nexplain\nSELECT * FROM\n    (SELECT a.foo as foo1, b.foo as foo2, a.bar\n    FROM pokes a JOIN pokes2 b\n    ON a.foo=b.foo) a\nWHERE a.bar=3;\n{noformat}\nThe current output is\n{noformat}\nhive> \n    > -- Q1: predicate should not be pushed on the right side of a left outer join\n    > explain\n    > SELECT a.foo as foo1, b.foo as foo2, b.bar\n    > FROM pokes a LEFT OUTER JOIN pokes2 b\n    > ON a.foo=b.foo\n    > WHERE b.bar=3;\nOK\nABSTRACT SYNTAX TREE:\n  (TOK_QUERY (TOK_FROM (TOK_LEFTOUTERJOIN (TOK_TABREF (TOK_TABNAME pokes) a) (TOK_TABREF (TOK_TABNAME pokes2) b) (= (. (TOK_TABLE_OR_COL a) foo) (. (TOK_TABLE_OR_COL b) foo)))) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (. (TOK_TABLE_OR_COL a) foo) foo1) (TOK_SELEXPR (. (TOK_TABLE_OR_COL b) foo) foo2) (TOK_SELEXPR (. (TOK_TABLE_OR_COL b) bar))) (TOK_WHERE (= (. (TOK_TABLE_OR_COL b) bar) 3))))\n\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        a \n          TableScan\n            alias: a\n            Reduce Output Operator\n              key expressions:\n                    expr: foo\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: foo\n                    type: int\n              tag: 0\n              value expressions:\n                    expr: foo\n                    type: int\n        b \n          TableScan\n            alias: b\n            Reduce Output Operator\n              key expressions:\n                    expr: foo\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: foo\n                    type: int\n              tag: 1\n              value expressions:\n                    expr: foo\n                    type: int\n                    expr: bar\n                    type: int\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Left Outer Join0 to 1\n          condition expressions:\n            0 {VALUE._col0}\n            1 {VALUE._col0} {VALUE._col1}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col4, _col5\n          Filter Operator\n            predicate:\n                expr: (_col5 = 3)\n                type: boolean\n            Select Operator\n              expressions:\n                    expr: _col0\n                    type: int\n                    expr: _col4\n                    type: int\n                    expr: _col5\n                    type: int\n              outputColumnNames: _col0, _col1, _col2\n              File Output Operator\n                compressed: false\n                GlobalTableId: 0\n                table:\n                    input format: org.apache.hadoop.mapred.TextInputFormat\n                    output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n\n\nTime taken: 0.113 seconds\nhive> \n    > -- Q2: predicate should not be pushed on the right side of a left outer join\n    > explain\n    > SELECT * FROM\n    >     (SELECT a.foo as foo1, b.foo as foo2, b.bar\n    >     FROM pokes a LEFT OUTER JOIN pokes2 b\n    >     ON a.foo=b.foo) a\n    > WHERE a.bar=3;\nOK\nABSTRACT SYNTAX TREE:\n  (TOK_QUERY (TOK_FROM (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_LEFTOUTERJOIN (TOK_TABREF (TOK_TABNAME pokes) a) (TOK_TABREF (TOK_TABNAME pokes2) b) (= (. (TOK_TABLE_OR_COL a) foo) (. (TOK_TABLE_OR_COL b) foo)))) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (. (TOK_TABLE_OR_COL a) foo) foo1) (TOK_SELEXPR (. (TOK_TABLE_OR_COL b) foo) foo2) (TOK_SELEXPR (. (TOK_TABLE_OR_COL b) bar))))) a)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_WHERE (= (. (TOK_TABLE_OR_COL a) bar) 3))))\n\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        a:a \n          TableScan\n            alias: a\n            Reduce Output Operator\n              key expressions:\n                    expr: foo\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: foo\n                    type: int\n              tag: 0\n              value expressions:\n                    expr: foo\n                    type: int\n        a:b \n          TableScan\n            alias: b\n            Filter Operator\n              predicate:\n                  expr: (bar = 3)\n                  type: boolean\n              Reduce Output Operator\n                key expressions:\n                      expr: foo\n                      type: int\n                sort order: +\n                Map-reduce partition columns:\n                      expr: foo\n                      type: int\n                tag: 1\n                value expressions:\n                      expr: foo\n                      type: int\n                      expr: bar\n                      type: int\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Left Outer Join0 to 1\n          condition expressions:\n            0 {VALUE._col0}\n            1 {VALUE._col0} {VALUE._col1}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col4, _col5\n          Select Operator\n            expressions:\n                  expr: _col0\n                  type: int\n                  expr: _col4\n                  type: int\n                  expr: _col5\n                  type: int\n            outputColumnNames: _col0, _col1, _col2\n            Select Operator\n              expressions:\n                    expr: _col0\n                    type: int\n                    expr: _col1\n                    type: int\n                    expr: _col2\n                    type: int\n              outputColumnNames: _col0, _col1, _col2\n              File Output Operator\n                compressed: false\n                GlobalTableId: 0\n                table:\n                    input format: org.apache.hadoop.mapred.TextInputFormat\n                    output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n\n\nTime taken: 0.101 seconds\nhive> \n    > -- Q3: predicate should be pushed\n    > explain\n    > SELECT * FROM\n    >     (SELECT a.foo as foo1, b.foo as foo2, a.bar\n    >     FROM pokes a JOIN pokes2 b\n    >     ON a.foo=b.foo) a\n    > WHERE a.bar=3;\nOK\nABSTRACT SYNTAX TREE:\n  (TOK_QUERY (TOK_FROM (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_JOIN (TOK_TABREF (TOK_TABNAME pokes) a) (TOK_TABREF (TOK_TABNAME pokes2) b) (= (. (TOK_TABLE_OR_COL a) foo) (. (TOK_TABLE_OR_COL b) foo)))) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (. (TOK_TABLE_OR_COL a) foo) foo1) (TOK_SELEXPR (. (TOK_TABLE_OR_COL b) foo) foo2) (TOK_SELEXPR (. (TOK_TABLE_OR_COL a) bar))))) a)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_WHERE (= (. (TOK_TABLE_OR_COL a) bar) 3))))\n\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        a:a \n          TableScan\n            alias: a\n            Filter Operator\n              predicate:\n                  expr: (bar = 3)\n                  type: boolean\n              Reduce Output Operator\n                key expressions:\n                      expr: foo\n                      type: int\n                sort order: +\n                Map-reduce partition columns:\n                      expr: foo\n                      type: int\n                tag: 0\n                value expressions:\n                      expr: foo\n                      type: int\n                      expr: bar\n                      type: int\n        a:b \n          TableScan\n            alias: b\n            Reduce Output Operator\n              key expressions:\n                    expr: foo\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: foo\n                    type: int\n              tag: 1\n              value expressions:\n                    expr: foo\n                    type: int\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Inner Join 0 to 1\n          condition expressions:\n            0 {VALUE._col0} {VALUE._col1}\n            1 {VALUE._col0}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col1, _col4\n          Select Operator\n            expressions:\n                  expr: _col0\n                  type: int\n                  expr: _col4\n                  type: int\n                  expr: _col1\n                  type: int\n            outputColumnNames: _col0, _col1, _col2\n            Select Operator\n              expressions:\n                    expr: _col0\n                    type: int\n                    expr: _col1\n                    type: int\n                    expr: _col2\n                    type: int\n              outputColumnNames: _col0, _col1, _col2\n              File Output Operator\n                compressed: false\n                GlobalTableId: 0\n                table:\n                    input format: org.apache.hadoop.mapred.TextInputFormat\n                    output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n{noformat}\nNote that Q2 is incorrect because the predicate \"bar = 3\" is incorrectly pushed to the right side of the left outer join (Q1 and Q3 are correct).","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12490688","id":"12490688","filename":"HIVE-2383v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-17T19:28:38.631+0000","size":14934,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12490688/HIVE-2383v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12490858","id":"12490858","filename":"HIVE-2383v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-18T20:36:01.055+0000","size":235484,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12490858/HIVE-2383v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12492415","id":"12492415","filename":"HIVE-2383v5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-31T05:01:34.952+0000","size":71837,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12492415/HIVE-2383v5.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123849","customfield_12312823":null,"summary":"Incorrect alias filtering for predicate pushdown","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13086530","id":"13086530","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1568/\n-----------------------------------------------------------\n\nReview request for hive.\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2383\n\n\nThis addresses bug HIVE-2383.\n    https://issues.apache.org/jira/browse/HIVE-2383\n\n\nDiffs\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1158484 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_repeated_alias.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_repeated_alias.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1568/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-17T19:29:27.163+0000","updated":"2011-08-17T19:29:27.163+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13086723","id":"13086723","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"This bug also currently prevents pushing predicates past joins in subqueries:\n{noformat}\nexplain select * from (select a.foo, b.bar from invites a join invites2 b on a.foo=b.foo) c join invites d on a.foo=d.bar where d.bar='10';\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-18T01:18:58.576+0000","updated":"2011-08-18T01:18:58.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13087268","id":"13087268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1568/\n-----------------------------------------------------------\n\n(Updated 2011-08-18 20:35:12.369972)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nUpdated unit tests\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2383\n\n\nThis addresses bug HIVE-2383.\n    https://issues.apache.org/jira/browse/HIVE-2383\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/udf_case.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/udf_when.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/subq.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/udf_named_struct.q.out 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml 1158993 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml 1158993 \n\nDiff: https://reviews.apache.org/r/1568/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-18T20:35:27.397+0000","updated":"2011-08-18T20:35:27.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13087932","id":"13087932","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Please rebase the patch against trunk and also make sure that it's in a form that applies cleanly with 'patch -p0' from the src root directory. See the HowToContribute section on the wiki for more details:\n\nhttps://cwiki.apache.org/confluence/display/Hive/HowToContribute\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-19T20:11:35.613+0000","updated":"2011-08-19T20:11:35.613+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13087947","id":"13087947","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Ignore my previous comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-19T20:29:50.813+0000","updated":"2011-08-19T20:29:50.813+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13094171","id":"13094171","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1568/\n-----------------------------------------------------------\n\n(Updated 2011-08-30 22:46:54.310929)\n\n\nReview request for hive.\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2383\n\n\nThis addresses bug HIVE-2383.\n    https://issues.apache.org/jira/browse/HIVE-2383\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerInfo.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_repeated_alias.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_repeated_alias.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1568/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-30T22:48:09.553+0000","updated":"2011-08-30T22:48:09.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13094183","id":"13094183","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1568/\n-----------------------------------------------------------\n\n(Updated 2011-08-30 23:30:03.671952)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nfixed nullpointer\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2383\n\n\nThis addresses bug HIVE-2383.\n    https://issues.apache.org/jira/browse/HIVE-2383\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerInfo.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_repeated_alias.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_repeated_alias.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1568/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-30T23:30:09.688+0000","updated":"2011-08-30T23:30:09.688+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13094307","id":"13094307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1568/\n-----------------------------------------------------------\n\n(Updated 2011-08-31 05:01:19.947004)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nFix filter creation when not pushed down\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2383\n\n\nThis addresses bug HIVE-2383.\n    https://issues.apache.org/jira/browse/HIVE-2383\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerInfo.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_repeated_alias.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/auto_join8.q.out 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/index_auto_mult_tables.q.out 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/join8.q.out 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_repeated_alias.q.out PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/udf_bitmap_empty.q.out 1163438 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml 1163438 \n\nDiff: https://reviews.apache.org/r/1568/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-31T05:03:09.537+0000","updated":"2011-08-31T05:03:09.537+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13094320","id":"13094320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1568/#review1700\n-----------------------------------------------------------\n\n\n\nhttp://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerInfo.java\n<https://reviews.apache.org/r/1568/#comment3855>\n\n    The predicates are already cloned in ExprWalkerProcFactory.extractPushdownPreds() and this behavior is inconsistent with addPushdowns() which doesn't clone the predicates.  Moreover, not cloning the expressions is convenient for the newToOldExprMap so that now the ExprNodeDesc's can be compared with == instead of a deep comparison of the tree.\n\n\n\nhttp://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java\n<https://reviews.apache.org/r/1568/#comment3856>\n\n    From what I understand, currently, when the PPD encounters a JoinOperator, mergeChildrenPred is used to find the filters that are not being pushed down past that operator based on the alias and these should be the same filters that are stored in ExprWalkerInfo.nonFinalPreds (except the filters we want filter on the output columns of the JoinOperator while the nonFinalPreds filter on its input).  The bug in HIVE-2383 is that alias filtering should be done in the context of the JoinOperator, not on its children, so now mergeChildrenPred doesn't return the correct filters to create.  I changed the JoinPPD to use the nonFinalPreds to figure out which filters to create and added a map in ExprWalkerInfo.newToOldExprMap to store the mapping from each filter in the operator's context to the filter that it came from in the children's context (this is populated during ExprWalkerProcFactory.extractPushdownPreds()).\n\n\n- Charles\n\n\nOn 2011-08-31 05:01:19, Charles Chen wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/1568/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-08-31 05:01:19)\nbq.  \nbq.  \nbq.  Review request for hive.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  https://issues.apache.org/jira/browse/HIVE-2383\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2383.\nbq.      https://issues.apache.org/jira/browse/HIVE-2383\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerInfo.java 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_repeated_alias.q PRE-CREATION \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/auto_join8.q.out 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/index_auto_mult_tables.q.out 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/join8.q.out 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_repeated_alias.q.out PRE-CREATION \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/udf_bitmap_empty.q.out 1163438 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml 1163438 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/1568/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Charles\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-31T05:49:12.343+0000","updated":"2011-08-31T05:49:12.343+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13094995","id":"13094995","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"Passed tests and committed to trunk.  Thanks Charles!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-31T23:42:00.839+0000","updated":"2011-08-31T23:42:00.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519060/comment/13095020","id":"13095020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"Oh, um, also:  +1.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T00:15:43.125+0000","updated":"2011-09-01T00:15:43.125+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2383/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ljqv:"}}