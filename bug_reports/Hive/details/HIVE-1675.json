{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12475491","self":"https://issues.apache.org/jira/rest/api/2/issue/12475491","key":"HIVE-1675","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2010-10-06T17:47:16.511+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Mar 23 12:52:34 UTC 2011","customfield_12310420":"72777","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_349778_*|*_10002_*:*_1_*:*_1648190_*|*_1_*:*_2_*:*_15045831087_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-03-23T12:53:29.779+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-1675/watchers","watchCount":2,"isWatching":false},"created":"2010-09-30T08:56:20.750+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315150","id":"12315150","description":"released","name":"0.7.0","archived":false,"released":true,"releaseDate":"2011-03-29"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-16T23:56:46.237+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"When hive switches to local mode (hive.exec.mode.local.auto=true) I receive a sax parser exception on the plan.xml\nIf I set hive.exec.mode.local.auto=false I get the correct results.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12465232","id":"12465232","filename":"HIVE-1675.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-12-03T14:00:37.983+0000","size":613,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12465232/HIVE-1675.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12455993","id":"12455993","filename":"local_10005_plan.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-30T08:59:48.844+0000","size":50879,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12455993/local_10005_plan.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12455994","id":"12455994","filename":"local_10006_plan.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-30T08:59:48.927+0000","size":141347,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12455994/local_10006_plan.xml"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123295","customfield_12312823":null,"summary":"SAXParseException on plan.xml during local mode.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12916415","id":"12916415","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"The query I used:\nINSERT OVERWRITE TABLE servers \nselect * from ( \nselect * \nfrom servers_load \nunion all \n select s.* \nfrom servers s \n  left outer join servers_load l on (l.server_id = s.server_id) \nwhere l.server_id is null\n\nFull stacktrace:\n\nplan = file:/tmp/hadoop/hive_2010-09-30_10-41-39_345_c2bbcfc5-e1d2-4e33-b41f-244ef289b41f/-local-10005/plan.xml\nplan = file:/tmp/hadoop/hive_2010-09-30_10-41-39_345_c2bbcfc5-e1d2-4e33-b41f-244ef289b41f/-local-10006/plan.xml\n[Fatal Error] :181:44: XML document structures must start and end within the same entity.\njava.lang.RuntimeException: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.\n\tat org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1168)\n\tat org.apache.hadoop.conf.Configuration.loadResources(Configuration.java:1040)\n\tat org.apache.hadoop.conf.Configuration.getProps(Configuration.java:980)\n\tat org.apache.hadoop.conf.Configuration.get(Configuration.java:382)\n\tat org.apache.hadoop.mapred.JobConf.checkAndWarnDeprecation(JobConf.java:1662)\n\tat org.apache.hadoop.mapred.JobConf.<init>(JobConf.java:215)\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.<init>(LocalJobRunner.java:93)\n\tat org.apache.hadoop.mapred.LocalJobRunner.submitJob(LocalJobRunner.java:373)\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:800)\n\tat org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)\n\tat org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:606)\n\tat org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:1029)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:156)\nCaused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:249)\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:284)\n\tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:124)\n\tat org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1092)\n\t... 16 more\nJob Submission failed with exception 'java.lang.RuntimeException(org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.)'\nJob running in-process (local Hadoop)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-30T08:58:00.440+0000","updated":"2010-09-30T08:58:00.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12916417","id":"12916417","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"plan files which produced the parse exception.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-30T08:59:49.044+0000","updated":"2010-09-30T08:59:49.044+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12916418","id":"12916418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"I've looked at the plan.xml files but don't see any issue with them. Any ideas on what could cause this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-09-30T09:06:36.344+0000","updated":"2010-09-30T09:06:36.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12918609","id":"12918609","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"what version of hadoop is this happening against?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-10-06T17:47:16.511+0000","updated":"2010-10-06T17:47:16.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12918639","id":"12918639","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"It's happening on 0.20.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-10-06T19:38:22.551+0000","updated":"2010-10-06T19:38:22.551+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12966537","id":"12966537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"We needed to close the OutputStream (or flush it) before another process can read the data. This fixed the SAXParserException we got.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-12-03T14:00:38.063+0000","updated":"2010-12-03T14:00:38.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12966547","id":"12966547","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"doesn't look like it actually got solved. Testing it a bit more.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-12-03T14:28:46.278+0000","updated":"2010-12-03T14:28:46.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12967142","id":"12967142","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"The good news is I'm unable to reproduce this once I \"set hive.exec.parallel=false\". Perhaps it's cleaning uo some things during one of the steps while the other steps still need it?\nhive.exec.parallel works great for non local stuff for us but the combination of local and parallel seems like it has some issues. \nI was getting all kinds of different exceptions on local mode like the saxparser but also:\n\norg.apache.hadoop.util.DiskChecker$DiskErrorException: Could not find taskTracker/jobcache/job_local_0001/attempt_local_0001_m_000000_0/output/file.out in any of the configured local directories\n\tat org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.getLocalPathToRead(LocalDirAllocator.java:389)\n\tat org.apache.hadoop.fs.LocalDirAllocator.getLocalPathToRead(LocalDirAllocator.java:138)\n\tat org.apache.hadoop.mapred.MapOutputFile.getOutputFile(MapOutputFile.java:50)\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:193)\n\nand:\njava.io.FileNotFoundException: HIVE_PLAN1fe0a487-2e46-44e4-a557-9b3c9dddac07 (No such file or directory)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(FileInputStream.java:106)\n\tat java.io.FileInputStream.<init>(FileInputStream.java:66)\n\tat org.apache.hadoop.hive.ql.exec.Utilities.getMapRedWork(Utilities.java:155)\n\tat org.apache.hadoop.hive.ql.io.HiveInputFormat.init(HiveInputFormat.java:238)\n\tat org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:244)\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:139)\n\nI only get these issues when enabling parallel and local.\nAt least an angle to look at.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-12-06T10:12:51.614+0000","updated":"2010-12-06T10:12:51.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12968759","id":"12968759","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"manage to cause this with parallel=false so perhaps not such an interesting angle ;-)\n\nI've added some more logging to better understand the cause of this:\n\n2010-12-07 15:49:44,697 INFO  exec.Utilities (Utilities.java:getMapRedWork(154)) - Getting jobid:9c2eeba4-a602-4d4b-ba0b-60ce815c4ea7 from cache.\n2010-12-07 15:49:44,703 INFO  lzo.GPLNativeCodeLoader (GPLNativeCodeLoader.java:<clinit>(34)) - Loaded native gpl library\n2010-12-07 15:49:44,705 INFO  lzo.LzoCodec (LzoCodec.java:<clinit>(72)) - Successfully loaded & initialized native-lzo library [hadoop-lzo rev c7acdaa96a7ce04538c0716fe699ffaf11836c70]\n2010-12-07 15:49:44,712 INFO  mapred.FileInputFormat (FileInputFormat.java:listStatus(192)) - Total input paths to process : 1\n2010-12-07 15:49:44,880 INFO  exec.Utilities (Utilities.java:getMapRedWork(154)) - Getting jobid:e8b2dab2-986a-4bb1-947f-00aec5b46a06 from cache.\n2010-12-07 15:49:44,882 INFO  exec.ExecDriver (SessionState.java:printInfo(268)) - Job running in-process (local Hadoop)\n2010-12-07 15:49:44,882 WARN  mapred.LocalJobRunner (LocalJobRunner.java:run(256)) - job_local_0001\njava.lang.RuntimeException: java.io.FileNotFoundException: HIVE_PLANe8b2dab2-986a-4bb1-947f-00aec5b46a06 (No such file or directory)\n        at org.apache.hadoop.hive.ql.exec.Utilities.getMapRedWork(Utilities.java:166)\n        at org.apache.hadoop.hive.ql.io.HiveInputFormat.init(HiveInputFormat.java:238)\n        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:244)\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:139)\nCaused by: java.io.FileNotFoundException: HIVE_PLANe8b2dab2-986a-4bb1-947f-00aec5b46a06 (No such file or directory)\n        at java.io.FileInputStream.open(Native Method)\n        at java.io.FileInputStream.<init>(FileInputStream.java:106)\n        at java.io.FileInputStream.<init>(FileInputStream.java:66)\n        at org.apache.hadoop.hive.ql.exec.Utilities.getMapRedWork(Utilities.java:157)\n        ... 3 more\n\nFirst thing I noticed which is different from a successful job would be that it's trying to get a different jobid from the cache \"Getting jobid:e8b2dab2-986a-4bb1-947f-00aec5b46a06 from cache\"\nI'm still confused.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2010-12-07T14:41:50.976+0000","updated":"2010-12-07T14:41:50.976+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/12970201","id":"12970201","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"the combination of auto local and parallel had a bug that was recently fixed (HIVE-1776)\n\nThe stack reported above is weird - we should not be entering this code path. as u mentioned - HIVE-1846 will fix this - but currently, the getMapRedWork call invoked from different places in the stack should be satisfied from the an in-memory cache (and shouldn't hit the file). the file is not written out for local mode (because there's an assumption that everything runs in the same jvm).\n\nUnable to explain this - i think this is worth fixing because the plan file processing takes some time and it's better to retrieve it from memory where possible.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2010-12-10T15:50:43.232+0000","updated":"2010-12-10T15:50:43.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/13010099","id":"13010099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"I'm unable to reproduce this on the current trunk. I still get errors on local mode but it's something different \"java.lang.IllegalStateException(Shutdown in progress)\" after witch the server shuts down. I'll make a new jira for that and I think we can close this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2011-03-23T12:45:45.602+0000","updated":"2011-03-23T12:45:45.602+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12475491/comment/13010103","id":"13010103","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"body":"Added HIVE-2073 for the different error we now get on local mode.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bennies","name":"bennies","key":"bennies","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bennie Schut","active":true,"timeZone":"Europe/Berlin"},"created":"2011-03-23T12:52:34.278+0000","updated":"2011-03-23T12:52:34.278+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-1675/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lgbr:"}}