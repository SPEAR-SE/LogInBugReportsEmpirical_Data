{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12856704","self":"https://issues.apache.org/jira/rest/api/2/issue/12856704","key":"HIVE-11583","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332154","id":"12332154","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332641","id":"12332641","description":"Hive 2.0.0","name":"2.0.0","archived":false,"released":true,"releaseDate":"2016-02-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-09-14T17:35:47.065+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 12 22:40:40 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_2413175966_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_201187948","customfield_12312321":null,"resolutiondate":"2015-09-17T01:16:20.551+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11583/watchers","watchCount":5,"isWatching":false},"created":"2015-08-17T19:03:36.667+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326450","id":"12326450","description":"released","name":"0.14.0","archived":false,"released":true,"releaseDate":"2014-11-12"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12326829","id":"12326829","description":"0.13 maintenance release 1","name":"0.13.1","archived":false,"released":true,"releaseDate":"2014-06-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12328976","id":"12328976","description":"Maintenance release for 0.14","name":"0.14.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12329278","id":"12329278","description":"Branch 1.0 release","name":"1.0.0","archived":false,"released":true,"releaseDate":"2015-02-04"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12329345","id":"12329345","description":"Hive 1.2.0","name":"1.2.0","archived":false,"released":true,"releaseDate":"2015-05-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332384","id":"12332384","name":"1.2.1","archived":false,"released":true,"releaseDate":"2015-06-26"}],"issuelinks":[{"id":"12467392","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12467392","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12939787","key":"HIVE-13072","self":"https://issues.apache.org/jira/rest/api/2/issue/12939787","fields":{"summary":"ROW_NUMBER() function creates wrong results","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-05-24T19:16:44.034+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320378","id":"12320378","name":"PTF-Windowing","description":"Partitioned Table Functions & Windowing"}],"timeoriginalestimate":null,"description":"Dataset: \n Window has 50001 record (2 blocks on disk and 1 block in memory)\n Size of the second block is >32Mb (2 splits)\n\nResult:\nWhen the last block is read from the disk only first split is actually loaded. The second split gets missed. The total count of the result dataset is correct, but some records are missing and another are duplicated.\n\nExample:\n{code:sql}\nCREATE TABLE ptf_big_src (\n  id INT,\n  key STRING,\n  grp STRING,\n  value STRING\n) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n\nLOAD DATA LOCAL INPATH '../../data/files/ptf_3blocks.txt.gz' OVERWRITE INTO TABLE ptf_big_src;\n\nSELECT grp, COUNT(1) cnt FROM ptf_big_trg GROUP BY grp ORDER BY cnt desc;\n---\n-- A\t25000\n-- B\t20000\n-- C\t5001\n---\n\nCREATE TABLE ptf_big_trg AS SELECT *, row_number() OVER (PARTITION BY key ORDER BY grp) grp_num FROM ptf_big_src;\n\nSELECT grp, COUNT(1) cnt FROM ptf_big_trg GROUP BY grp ORDER BY cnt desc;\n-- \n-- A\t34296\n-- B\t15704\n-- C\t1\n---\n{code}\nCounts by 'grp' are incorrect!","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12755773","id":"12755773","filename":"HIVE-11583.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-14T17:18:30.846+0000","size":7780,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12755773/HIVE-11583.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"When PTF is used over a large partitions result could be corrupted","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Hadoop 2.6 + Apache hive built from trunk\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14743864","id":"14743864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"I have implemented a qtest for this issue, but it requires a rather big data file. What is the best way to submit this file? It is a gzip file, size = 204Kb. I can attach this file to the ticket.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-14T17:22:43.014+0000","updated":"2015-09-14T17:22:43.014+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14743882","id":"14743882","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-14T17:35:47.065+0000","updated":"2015-09-14T17:35:47.065+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14744582","id":"14744582","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12755773/HIVE-11583.patch\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 9412 tests executed\n*Failed tests:*\n{noformat}\nTestParseNegative - did not produce a TEST-*.xml file\norg.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5276/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5276/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5276/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12755773 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-09-15T00:40:54.974+0000","updated":"2015-09-15T00:40:54.974+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14791397","id":"14791397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Pushed to master. Thanks, [~yalovyyi]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-17T01:16:20.571+0000","updated":"2015-09-17T01:16:20.571+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14908338","id":"14908338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ashutoshc], I have a qTest for this issue, but includes rather big gz - compressed file. What is the best way to contribute it? The question is how to create a patch for this big binary file?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T17:09:34.440+0000","updated":"2015-09-25T17:09:34.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14908368","id":"14908368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Spilling is controlled by config {{hive.join.cache.size}} Perhaps, you can set that to very low value in q test so as to trigger spilling and thus testing this without needing a large input data.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T17:30:12.180+0000","updated":"2015-09-25T17:30:12.180+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14908437","id":"14908437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"Oh... I was thinking about all possible ways to reduce the size of file. cahce size is only one piece of the puzzle. The important thing is physical file system blocks and it seems like I cannot control it from withing Hive script.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T18:10:19.873+0000","updated":"2015-09-25T18:10:19.873+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14908457","id":"14908457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Hive q tests use hive-shims-common/src/main/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java I think you can configure its block size via {{fs.local.block.size}} ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T18:26:54.658+0000","updated":"2015-09-25T18:26:54.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/14908480","id":"14908480","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"I tried, and when I did it from hive script it didn't take any effect. Is the any way to reconfigure it BEFORE the test? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-25T18:41:25.123+0000","updated":"2015-09-25T18:41:25.123+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15001513","id":"15001513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Should this issue be backported to branch-1? It looks like a bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T02:12:11.605+0000","updated":"2015-11-12T02:12:11.605+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15001569","id":"15001569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes. It is a quite critical bug. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T02:20:55.085+0000","updated":"2015-11-12T02:20:55.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15002729","id":"15002729","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to branch-1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T19:34:24.471+0000","updated":"2015-11-12T19:34:24.471+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15002949","id":"15002949","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"What about a qtest for this issue? What is the best course of action?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T21:18:08.034+0000","updated":"2015-11-12T21:18:08.034+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15002955","id":"15002955","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"This was committed a while ago... the test can be created in a separate JIRA if needed. I don't have background on this issue, I bulk commented yesterday on a large list of  issues whose title looks like a bug and that were committed to master but not to branch-1, obtained via a script","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T21:21:38.102+0000","updated":"2015-11-12T21:21:38.102+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15002963","id":"15002963","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"In  a nutshell the question is what is the best way to upload/provide a rather big binary file to the test? Should I just attach it to a ticket?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T21:28:51.995+0000","updated":"2015-11-12T21:28:51.995+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15002983","id":"15002983","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"You could generate it in the test by repeatedly cross joining. Or does the file have to be in a specific form that is not reproducible by the queries? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T21:37:57.096+0000","updated":"2015-11-12T21:37:57.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12856704/comment/15003099","id":"15003099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"I think it should be possible to generate that data set (size of files matter), but I didn't want to make qtest even slower... I'll think about this approach. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T22:40:40.013+0000","updated":"2015-11-12T22:40:40.013+0000"}],"maxResults":17,"total":17,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11583/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2j0qn:"}}