{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13006197","self":"https://issues.apache.org/jira/rest/api/2/issue/13006197","key":"HIVE-14798","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335838","id":"12335838","description":"Maintenance branch for 2.1 ","name":"2.1.1","archived":false,"released":true,"releaseDate":"2016-12-08"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-12-09T18:59:08.603+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Apr 14 18:42:58 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_17813528770_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2017-04-14T18:42:58.781+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-14798/watchers","watchCount":10,"isWatching":false},"created":"2016-09-20T14:30:50.069+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"}],"issuelinks":[{"id":"12481554","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12481554","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13005425","key":"HIVE-14772","self":"https://issues.apache.org/jira/rest/api/2/issue/13005425","fields":{"summary":"NPE when MSCK REPAIR","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-04-14T18:42:58.828+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312584","id":"12312584","name":"Metastore","description":"Tracks issue dealing with metastore."}],"timeoriginalestimate":null,"description":"MSCK REPAIR TABLE statement throws null pointer exception in Hive 2.1\nI have tested the same against external/internal tables created both in HDFS and in Google Cloud.\n\nThe error shown in beeline/sql client \nError: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask (state=08S01,code=1)\n\nHive Logs:\n\n2016-09-20T17:28:00,717 ERROR [HiveServer2-Background-Pool: Thread-92]: metadata.HiveMetaStoreChecker (:()) - java.lang.NullPointerException\n2016-09-20T17:28:00,717 WARN  [HiveServer2-Background-Pool: Thread-92]: exec.DDLTask (:()) - Failed to run metacheck: \norg.apache.hadoop.hive.ql.metadata.HiveException: java.lang.NullPointerException\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker.getAllLeafDirs(HiveMetaStoreChecker.java:444)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker.getAllLeafDirs(HiveMetaStoreChecker.java:388)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker.findUnknownPartitions(HiveMetaStoreChecker.java:309)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker.checkTable(HiveMetaStoreChecker.java:285)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker.checkTable(HiveMetaStoreChecker.java:230)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker.checkMetastore(HiveMetaStoreChecker.java:109)\n        at org.apache.hadoop.hive.ql.exec.DDLTask.msck(DDLTask.java:1814)\n        at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:403)\n        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:197)\n         at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:100)\n        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1858)\n        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1562)\n        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1313)\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1084)\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1077)\n        at org.apache.hive.service.cli.operation.SQLOperation.runQuery(SQLOperation.java:235)\n        at org.apache.hive.service.cli.operation.SQLOperation.access$300(SQLOperation.java:90)\n        at org.apache.hive.service.cli.operation.SQLOperation$2$1.run(SQLOperation.java:299)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\n        at org.apache.hive.service.cli.operation.SQLOperation$2.run(SQLOperation.java:312)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NullPointerException\n        at java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\n        at java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker$1.call(HiveMetaStoreChecker.java:432)\n        at org.apache.hadoop.hive.ql.metadata.HiveMetaStoreChecker$1.call(HiveMetaStoreChecker.java:418)\n        ... 4 more\n\nHere are the steps to recreate this issue:\nuse default;\nDROP TABLE IF EXISTS repairtable;\nCREATE TABLE repairtable(col STRING) PARTITIONED BY (p1 STRING, p2 STRING);\nMSCK REPAIR TABLE default.repairtable;","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"MSCK REPAIR TABLE throws null pointer exception","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15736022","id":"15736022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwlaird3","name":"cwlaird3","key":"cwlaird3","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Laird","active":true,"timeZone":"America/New_York"},"body":"This appears to be fixed in 2.1.1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwlaird3","name":"cwlaird3","key":"cwlaird3","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Laird","active":true,"timeZone":"America/New_York"},"created":"2016-12-09T18:59:08.603+0000","updated":"2016-12-09T18:59:08.603+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15878253","id":"15878253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trkylmz","name":"trkylmz","key":"trkylmz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tarik Yilmaz","active":true,"timeZone":"Europe/Istanbul"},"body":"[~alunarbeach] We've faced with this issue too on Dataproc. Did this error appear on Dataproc?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trkylmz","name":"trkylmz","key":"trkylmz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tarik Yilmaz","active":true,"timeZone":"Europe/Istanbul"},"created":"2017-02-22T14:01:40.518+0000","updated":"2017-02-22T14:01:40.518+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15880356","id":"15880356","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kennethmac2000","name":"kennethmac2000","key":"kennethmac2000","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kenneth MacArthur","active":true,"timeZone":"Europe/London"},"body":"We certainly saw this in Dataproc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kennethmac2000","name":"kennethmac2000","key":"kennethmac2000","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kenneth MacArthur","active":true,"timeZone":"Europe/London"},"created":"2017-02-23T12:39:24.321+0000","updated":"2017-02-23T12:39:24.321+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15882181","id":"15882181","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trkylmz","name":"trkylmz","key":"trkylmz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tarik Yilmaz","active":true,"timeZone":"Europe/Istanbul"},"body":"We had the same problem too. Probably, this problem is irrelevant with Apache Hive because our solution removes Google's Hive build and install Apache Hive.\n\n{code}\n#!/bin/bash\n# Copyright 2017 Metglobal, Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nHIVE_VERSION=2.1.1\nROLE=$(/usr/share/google/get_metadata_value attributes/dataproc-role)\n\ncd /tmp\n\n# Download Apache Hive build\nwget http://www-eu.apache.org/dist/hive/hive-${HIVE_VERSION}/apache-hive-${HIVE_VERSION}-bin.tar.gz\n\n# Extract Hive package\ntar -xf apache-hive-${HIVE_VERSION}-bin.tar.gz\n\n# Delete temporary Hive archive\nrm -rf apache-hive-${HIVE_VERSION}-bin.tar.gz\n\nrm -rf apache-hive-${HIVE_VERSION}-bin/conf\nrm apache-hive-${HIVE_VERSION}-bin/lib/guava-14.0.1.jar\n\n# Install Guava >= 15.0 for GoogleHadoopFileSystem\nwget http://central.maven.org/maven2/com/google/guava/guava/19.0/guava-19.0.jar\nmv guava-19.0.jar apache-hive-${HIVE_VERSION}-bin/lib/\n\n\nif [[ \"${ROLE}\" == 'Master' ]]; then\n\t# Stop the current services\n\tservice hive-metastore stop\n\tservice hive-server2 stop\nfi\n\n# Remove current Hive\nrm -rf /usr/lib/hive\n\n# Install Apache Hive\nmv apache-hive-${HIVE_VERSION}-bin /usr/lib/hive\n\n# Create symlink for required remote files\nln -s /etc/hive/conf /usr/lib/hive/conf\nln -s /usr/lib/zookeeper/zookeeper.jar /usr/lib/hive/lib/zookeeper.jar\nln -s /usr/share/java/mysql.jar /usr/lib/hive/lib/mysql.jar\n\n# Create symlink for Hive libraries\nln -s /usr/lib/hive/lib/hive-accumulo-handler-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-accumulo-handler.jar\nln -s /usr/lib/hive/lib/hive-ant-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-ant.jar\nln -s /usr/lib/hive/lib/hive-beeline-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-beeline.jar\nln -s /usr/lib/hive/lib/hive-cli-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-cli.jar\nln -s /usr/lib/hive/lib/hive-common-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-common.jar\nln -s /usr/lib/hive/lib/hive-contrib-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-contrib.jar\nln -s /usr/lib/hive/lib/hive-exec-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-exec.jar\nln -s /usr/lib/hive/lib/hive-hbase-handler-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-hbase-handler.jar\nln -s /usr/lib/hive/lib/hive-hplsql-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-hplsql.jar\nln -s /usr/lib/hive/lib/hive-hwi-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-hwi.jar\nln -s /usr/lib/hive/lib/hive-jdbc-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-jdbc.jar\nln -s /usr/lib/hive/lib/hive-llap-client-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-llap-client.jar\nln -s /usr/lib/hive/lib/hive-llap-common-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-llap-common.jar\nln -s /usr/lib/hive/lib/hive-llap-ext-client-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-llap-ext-client.jar\nln -s /usr/lib/hive/lib/hive-llap-server-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-llap-server.jar\nln -s /usr/lib/hive/lib/hive-llap-tez-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-llap-tez.jar\nln -s /usr/lib/hive/lib/hive-metastore-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-metastore.jar\nln -s /usr/lib/hive/lib/hive-orc-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-orc.jar\nln -s /usr/lib/hive/lib/hive-serde-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-serde.jar\nln -s /usr/lib/hive/lib/hive-service-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-service.jar\nln -s /usr/lib/hive/lib/hive-service-rpc-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-service-rpc.jar\nln -s /usr/lib/hive/lib/hive-shims-0.23-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-shims-0.23.jar\nln -s /usr/lib/hive/lib/hive-shims-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-shims.jar\nln -s /usr/lib/hive/lib/hive-shims-common-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-shims-common.jar\nln -s /usr/lib/hive/lib/hive-shims-scheduler-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-shims-scheduler.jar\nln -s /usr/lib/hive/lib/hive-storage-api-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-storage-api.jar\nln -s /usr/lib/hive/lib/hive-testutils-${HIVE_VERSION}.jar /usr/lib/hive/lib/hive-testutils.jar\n\nif [[ \"${ROLE}\" == 'Master' ]]; then\n\t# Start Hive services again\n\tservice hive-metastore start\n\tservice hive-server2 start\nfi\n\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trkylmz","name":"trkylmz","key":"trkylmz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tarik Yilmaz","active":true,"timeZone":"Europe/Istanbul"},"created":"2017-02-24T08:04:22.259+0000","updated":"2017-02-24T08:04:22.259+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15885889","id":"15885889","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"body":"[~trkylmz] Yes the problem was with Hive 2.1.0.  Dataproc 1.1 image uses Hive 2.1.0 and we faced the problem in that version.\nNew Dataproc 1.2 Preview image uses Hive 2.1.1 and that does not have this problem. \nThank you [~cwlaird3] for the information.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"created":"2017-02-27T14:54:51.121+0000","updated":"2017-02-27T14:56:17.534+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15902698","id":"15902698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=premal","name":"premal","key":"premal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Premal Shah","active":true,"timeZone":"Etc/UTC"},"body":"[~alunarbeach] What's the JIRA in which this bug was fixed for Hive 2.1.1? I am looking the release notes for 2.1.1 and don't see any mention of repair table in the list\n\nhttps://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12335838&styleName=Text&projectId=12310843","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=premal","name":"premal","key":"premal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Premal Shah","active":true,"timeZone":"Etc/UTC"},"created":"2017-03-09T08:51:00.684+0000","updated":"2017-03-09T08:51:00.684+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15907683","id":"15907683","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"body":"[~premal] https://issues.apache.org/jira/browse/HIVE-14772?focusedCommentId=15529759&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15529759\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"created":"2017-03-13T15:36:42.769+0000","updated":"2017-03-13T15:36:42.769+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15926536","id":"15926536","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=premal","name":"premal","key":"premal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Premal Shah","active":true,"timeZone":"Etc/UTC"},"body":"[~alunarbeach] that ticket is still unresolved at this time. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=premal","name":"premal","key":"premal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Premal Shah","active":true,"timeZone":"Etc/UTC"},"created":"2017-03-15T16:43:50.778+0000","updated":"2017-03-15T16:43:50.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15969375","id":"15969375","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"body":"[~premal] Sorry for the late reply. As mentioned in the comment section by [~chetna] in that ticket, this issue was not in the master branch then (Hive 2.1.1) and I verified in Hive 2.1.1 that this issue is not happening. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"created":"2017-04-14T18:42:24.550+0000","updated":"2017-04-14T18:42:24.550+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13006197/comment/15969376","id":"15969376","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"body":"This issue is no longer happening in Hive 2.1.1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alunarbeach","name":"alunarbeach","key":"alunarbeach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alunarbeach&avatarId=30258","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alunarbeach&avatarId=30258","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alunarbeach&avatarId=30258","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alunarbeach&avatarId=30258"},"displayName":"Anbu Cheeralan","active":true,"timeZone":"America/New_York"},"created":"2017-04-14T18:42:58.823+0000","updated":"2017-04-14T18:42:58.823+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-14798/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i33ue7:"}}