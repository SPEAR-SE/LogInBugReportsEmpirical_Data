{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12721479","self":"https://issues.apache.org/jira/rest/api/2/issue/12721479","key":"HIVE-7239","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335837","id":"12335837","name":"2.2.0","archived":false,"released":true,"releaseDate":"2017-07-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-06-17T04:47:24.820+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 09 19:44:23 UTC 2016","customfield_12310420":"399675","customfield_12312320":null,"customfield_12310222":"1_*:*_6_*:*_704807475_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_6_*:*_67122578858","customfield_12312321":null,"resolutiondate":"2016-08-09T19:44:23.488+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-7239/watchers","watchCount":3,"isWatching":false},"created":"2014-06-16T18:47:57.456+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-26T03:30:15.279+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313710","id":"12313710","name":"Indexing"}],"timeoriginalestimate":null,"description":"In case of sequence files, it's crucial that splits are calculated around the boundaries enforced by the input sequence file. However by default hadoop creates input splits depending on the configuration parameters which may not match the boundaries for the input sequence file. Hive provides HiveIndexedInputFormat that provides extra logic and recalculates the split boundaries for each split depending on the sequence file's boundaries.\n\nHowever we noticed this behavior of \"over\" reporting from data backed by sequence file. We've a sample data on which we experimented and fixed this bug, we have verified this fix by comparing the query output for input being sequence file format, rc file and regular format. However we have not able to find the right place to include this as a unit test that would execute as part of hive tests. We tried writing a \"clientpositive\" test as part of ql module but the output seems quite verbose and i couldn't interpret it that well. Can someone please review this change and guide on how to write a test that will execute as part of Hive testing?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12819445","id":"12819445","filename":"HIVE-7239.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-21T19:13:55.776+0000","size":37173,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12819445/HIVE-7239.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12820032","id":"12820032","filename":"HIVE-7239.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-25T21:35:21.904+0000","size":37173,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12820032/HIVE-7239.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12820366","id":"12820366","filename":"HIVE-7239.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-27T05:09:25.291+0000","size":36819,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12820366/HIVE-7239.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12650622","id":"12650622","filename":"HIVE-7239.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"created":"2014-06-16T18:49:32.303+0000","size":7060,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12650622/HIVE-7239.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"399784","customfield_12312823":null,"summary":"Fix bug in HiveIndexedInputFormat implementation that causes incorrect query result when input backed by Sequence/RC files","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/14032771","id":"14032771","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"body":"Please review and recommend a way to test this patch as part of hive unit tests/cli tests/otherwise","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"created":"2014-06-16T18:49:32.309+0000","updated":"2014-06-16T18:49:32.309+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/14033432","id":"14033432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12650622/HIVE-7239.patch\n\n{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 5611 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas\norg.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit\norg.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes\norg.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/487/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/487/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-487/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 7 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12650622","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-06-17T04:47:24.820+0000","updated":"2014-06-17T04:47:24.820+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/14033440","id":"14033440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"body":"[~ashutoshc] Is this something you would review and recommend on? The test results seem to be known failures (please correct me if i'm wrong). In case you are not the right person, will you be able to include the right person please?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ksumit","name":"ksumit","key":"ksumit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10438","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10438","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10438","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10438"},"displayName":"Sumit Kumar","active":true,"timeZone":"America/Vancouver"},"created":"2014-06-17T05:03:59.814+0000","updated":"2014-06-17T05:03:59.814+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/14047388","id":"14047388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Either of [~gopalv] or [~owen.omalley] may be able to review this one. Yeah, failures are known ones.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-06-30T05:29:31.545+0000","updated":"2014-06-30T05:29:31.545+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15375220","id":"15375220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch should be reworked and contain unit/qtests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-13T15:40:41.963+0000","updated":"2016-07-13T15:40:41.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15391178","id":"15391178","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"Trying to re-run QA","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-24T21:29:47.686+0000","updated":"2016-07-24T21:29:47.686+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15392697","id":"15392697","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"It seems like PreCommit job ignores patches from this jira issue.\n\n[~ashutoshc], could you please help me out? How to force tests to run on this patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-25T21:26:14.607+0000","updated":"2016-07-25T21:26:14.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15394412","id":"15394412","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12820032/HIVE-7239.3.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/651/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/651/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-651/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.8.0_25 ]]\n+ export JAVA_HOME=/usr/java/jdk1.8.0_25\n+ JAVA_HOME=/usr/java/jdk1.8.0_25\n+ export PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ cd /data/hive-ptest/working/\n+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-651/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ git = \\s\\v\\n ]]\n+ [[ git = \\g\\i\\t ]]\n+ [[ -z master ]]\n+ [[ -d apache-github-source-source ]]\n+ [[ ! -d apache-github-source-source/.git ]]\n+ [[ ! -d apache-github-source-source ]]\n+ cd apache-github-source-source\n+ git fetch origin\nFrom https://github.com/apache/hive\n   dcfc31b..87bc121  master     -> origin/master\n   5015e20..d87cb86  branch-2.1 -> origin/branch-2.1\n+ git reset --hard HEAD\nHEAD is now at dcfc31b HIVE-14123: Add beeline configuration option to show database in the prompt (Peter Vary, reviewed by Aihua Xu)\n+ git clean -f -d\nRemoving b/\nRemoving common/src/java/org/apache/hadoop/hive/common/FileUtils.java.orig\nRemoving ql/src/test/queries/clientpositive/authorization_load.q\nRemoving ql/src/test/queries/clientpositive/exim_25_export_parentpath_has_inaccessible_children.q\nRemoving ql/src/test/results/clientpositive/authorization_load.q.out\nRemoving ql/src/test/results/clientpositive/exim_25_export_parentpath_has_inaccessible_children.q.out\n+ git checkout master\nAlready on 'master'\nYour branch is behind 'origin/master' by 2 commits, and can be fast-forwarded.\n  (use \"git pull\" to update your local branch)\n+ git reset --hard origin/master\nHEAD is now at 87bc121 HIVE-14324: ORC PPD for floats is broken (Prasanth Jayachandran reviewed by Gopal V)\n+ git merge --ff-only origin/master\nAlready up-to-date.\n+ git gc\n+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hive-ptest/working/scratch/build.patch\n+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]\n+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch\nThe patch does not appear to apply with p0, p1, or p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12820032 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-07-26T19:40:03.005+0000","updated":"2016-07-26T19:40:03.005+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15395048","id":"15395048","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"There is a conflict with one of the latest commits.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-27T05:08:52.519+0000","updated":"2016-07-27T05:08:52.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15395049","id":"15395049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch was rebased.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-27T05:09:25.303+0000","updated":"2016-07-27T05:09:25.303+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15397774","id":"15397774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12820366/HIVE-7239.4.patch\n\n{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 10391 tests executed\n*Failed tests:*\n{noformat}\nTestMsgBusConnection - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_nullable_union\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_avro_non_nullable_union\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/674/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/674/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-674/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 5 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12820366 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-07-28T16:32:40.252+0000","updated":"2016-07-28T16:32:40.252+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15397917","id":"15397917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"The build page [1] shows 4 failed tests:\n    org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13\n    org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_nullable_union\n    org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_avro_non_nullable_union\n    org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert\n\n3 of them have been failing for a while. \nTestCliDriver.testCliDriver_list_bucket_dml_13 is irrelevant to this patch.\n\nPlease suggest the next step to get this patch accepted.\n\n\n1. https://builds.apache.org/view/H-L/view/Hive/job/PreCommit-HIVE-MASTER-Build/674/#showFailuresLink","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-28T18:02:11.638+0000","updated":"2016-07-28T18:02:11.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15402460","id":"15402460","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"[~gopalv], [~owen.omalley], [~ashutoshc],\n\nCould you please review this patch and suggest the next step to get it accepted?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-01T17:29:17.638+0000","updated":"2016-08-01T17:29:17.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15413633","id":"15413633","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"body":"Added a code review link.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yalovyyi","name":"yalovyyi","key":"yalovyyi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yalovyyi&avatarId=24941","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yalovyyi&avatarId=24941","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yalovyyi&avatarId=24941","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yalovyyi&avatarId=24941"},"displayName":"Illya Yalovyy","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-09T14:42:33.096+0000","updated":"2016-08-09T14:42:33.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15413777","id":"15413777","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-09T16:03:49.114+0000","updated":"2016-08-09T16:03:49.114+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12721479/comment/15414113","id":"15414113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Pushed to master. Thanks, Illya!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-09T19:44:23.669+0000","updated":"2016-08-09T19:44:23.669+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-7239/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1wsxj:"}}