{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12685264","self":"https://issues.apache.org/jira/rest/api/2/issue/12685264","key":"HIVE-6050","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-12-18T04:20:58.206+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Dec 01 10:43:57 UTC 2016","customfield_12310420":"364341","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-6050/watchers","watchCount":42,"isWatching":false},"created":"2013-12-17T22:23:09.793+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324986","id":"12324986","description":"released","name":"0.13.0","archived":false,"released":true,"releaseDate":"2014-04-21"}],"issuelinks":[{"id":"12381479","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12381479","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12687767","key":"HIVE-6160","self":"https://issues.apache.org/jira/rest/api/2/issue/12687767","fields":{"summary":"Follow-on to HS2 ResultSet Serialization Performance Regression","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-12-01T10:43:57.120+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320408","id":"12320408","name":"HiveServer2","description":"Tracks issues related to HiveServer2"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12314178","id":"12314178","name":"JDBC"}],"timeoriginalestimate":null,"description":"HiveServer2 instance has to be upgraded before the JDBC drivers used by applications are upgraded. If jdbc drivers are updated before HiveServer2 is upgraded it will not be functional.\n\nConnect from JDBC driver of Hive 0.13 (TProtocolVersion=v4) to HiveServer2 of Hive 0.10 (TProtocolVersion=v1), will return the following exception:\n\n{noformat}\njava.sql.SQLException: Could not establish connection to jdbc:hive2://localhost:10000/default: Required field 'client_protocol' is unset! Struct:TOpenSessionReq(client_protocol:null)\n\tat org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:336)\n\tat org.apache.hive.jdbc.HiveConnection.<init>(HiveConnection.java:158)\n\tat org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:571)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:187)\n\tat org.apache.hive.jdbc.MyTestJdbcDriver2.getConnection(MyTestJdbcDriver2.java:73)\n\tat org.apache.hive.jdbc.MyTestJdbcDriver2.&lt;init&gt;(MyTestJdbcDriver2.java:49)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n\tat org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:187)\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:236)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:233)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n\tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:523)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1063)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:914)\nCaused by: org.apache.thrift.TApplicationException: Required field 'client_protocol' is unset! Struct:TOpenSessionReq(client_protocol:null)\n\tat org.apache.thrift.TApplicationException.read(TApplicationException.java:108)\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:71)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Client.recv_OpenSession(TCLIService.java:160)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Client.OpenSession(TCLIService.java:147)\n\tat org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:327)\n\t... 37 more\n{noformat}\n\nOn code analysis, it looks like the 'client_protocol' scheme is a ThriftEnum, which doesn't seem to be backward-compatible.  Look at the code path in the generated file 'TOpenSessionReq.java', method TOpenSessionReqStandardScheme.read():\n\n1. The method will call 'TProtocolVersion.findValue()' on the thrift protocol's byte stream, which returns null if the client is sending an enum value unknown to the server.  (v4 is unknown to server)\n2. The method will then call struct.validate(), which will throw the above exception because of null version.  \n\nSo doesn't look like the current backward-compatibility scheme will work.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"364641","customfield_12312823":null,"summary":"Newer versions of JDBC driver does not work with older HiveServer2","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13851013","id":"13851013","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"[~ashutoshc] [~cwsteinbach] Do you guys have any thoughts/experiences on this issue?\n\nIt seems like we would need to change client protocol version to use another data type, to get this to work.  My thought was this should be ok, as backward-compatibility seem to be broken today anyway based on this analysis.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2013-12-17T22:34:32.263+0000","updated":"2013-12-17T22:34:32.263+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13851276","id":"13851276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"As another note, the issue also exists for the other way (connecting Hive 0.10 driver with Hive 0.13 server).\n\nException is almost same, except this time client complains about the serverProtocolVersion.\n\n{noformat}\n\"Could not establish connection to jdbc:hive2://localhost:10000: Required field &apos;serverProtocolVersion&apos; is unset! Struct:TOpenSessionResp(status:TStatus(statusCode:SUCCESS_STATUS), serverProtocolVersion:null, sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:29 3C D5 F4 B0 DB 49 48 86 0D 16 2B 42 D5 76 49, secret:B5 33 C6 D3 4B CF 4E 58 AE 0B DD DC 7F 71 AD AD)), configuration:{})\" type=\"java.sql.SQLException\">java.sql.SQLException: Could not establish connection to jdbc:hive2://localhost:10000: Required field &apos;serverProtocolVersion&apos; is unset! Struct:TOpenSessionResp(status:TStatus(statusCode:SUCCESS_STATUS), serverProtocolVersion:null, sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:29 3C D5 F4 B0 DB 49 48 86 0D 16 2B 42 D5 76 49, secret:B5 33 C6 D3 4B CF 4E 58 AE 0B DD DC 7F 71 AD AD)), configuration:{})\n\tat org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:262)\n\tat org.apache.hive.jdbc.HiveConnection.&lt;init&gt;(HiveConnection.java:133)\n\tat org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:106)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:582)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:185)\n\tat org.apache.hive.jdbc.MyTestJdbcDriver2.getConnection(MyTestJdbcDriver2.java:73)\n\tat org.apache.hive.jdbc.MyTestJdbcDriver2.&lt;init&gt;(MyTestJdbcDriver2.java:49)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n\tat org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:187)\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:236)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:233)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n\tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:523)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1063)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:914)\nCaused by: org.apache.thrift.protocol.TProtocolException: Required field &apos;serverProtocolVersion&apos; is unset! Struct:TOpenSessionResp(status:TStatus(statusCode:SUCCESS_STATUS), serverProtocolVersion:null, sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:29 3C D5 F4 B0 DB 49 48 86 0D 16 2B 42 D5 76 49, secret:B5 33 C6 D3 4B CF 4E 58 AE 0B DD DC 7F 71 AD AD)), configuration:{})\n\tat org.apache.hive.service.cli.thrift.TOpenSessionResp.validate(TOpenSessionResp.java:578)\n\tat org.apache.hive.service.cli.thrift.TOpenSessionResp$TOpenSessionRespStandardScheme.read(TOpenSessionResp.java:676)\n\tat org.apache.hive.service.cli.thrift.TOpenSessionResp$TOpenSessionRespStandardScheme.read(TOpenSessionResp.java:612)\n\tat org.apache.hive.service.cli.thrift.TOpenSessionResp.read(TOpenSessionResp.java:520)\n\tat org.apache.hive.service.cli.thrift.TCLIService$OpenSession_result$OpenSession_resultStandardScheme.read(TCLIService.java:2361)\n\tat org.apache.hive.service.cli.thrift.TCLIService$OpenSession_result$OpenSession_resultStandardScheme.read(TCLIService.java:2346)\n\tat org.apache.hive.service.cli.thrift.TCLIService$OpenSession_result.read(TCLIService.java:2293)\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:78)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Client.recv_OpenSession(TCLIService.java:160)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Client.OpenSession(TCLIService.java:147)\n\tat org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:254)\n\t... 26 more\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2013-12-18T02:14:48.707+0000","updated":"2013-12-18T02:14:48.707+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13851346","id":"13851346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"I've confronted same issue in HIVE-3746. I think the later case (0.12.0 client -> trunk server) is fixed in attached patch. But the former seemed hard to fix (changing protocol version 'required' to 'optional' breaks wire protocol)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2013-12-18T04:20:58.206+0000","updated":"2013-12-18T04:20:58.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13851776","id":"13851776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"body":"I think this should be a blocker. Changed to blocker status.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-18T14:31:39.714+0000","updated":"2013-12-18T14:31:39.714+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13863384","id":"13863384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgumashta","name":"vgumashta","key":"vgumashta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vaibhav Gumashta","active":true,"timeZone":"America/Los_Angeles"},"body":"[~cwsteinbach] [~thejas] [~brocknoland] [~navis]\nDo you guys have any thoughts on which would be a more common scenario to support: new jdbc driver compatible with old server version or old jdbc driver compatible with a newer server version?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgumashta","name":"vgumashta","key":"vgumashta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vaibhav Gumashta","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-06T20:40:02.133+0000","updated":"2014-01-06T20:40:02.133+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13863408","id":"13863408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"I think running an older JDBC driver against a newer server version is going to be the more common scenario since there will always be cases of clients that are slow to upgrade.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-06T20:57:57.955+0000","updated":"2014-01-06T20:57:57.955+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13863426","id":"13863426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"It looks like Thrift IDL is not backward compatible wrt to Enums. We use Enums in other places in the IDL (e.g. TTypeId, TStatusCode, TOperationState, TOperationType, TGetTypeInfo, TFetchOrientation), and should probably investigate whether these references need to updated as well. I'm convinced that using an Enum for TGetTypeInfo was a bad idea, and suspect that the same may also be true for TTypeId.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-06T21:14:43.537+0000","updated":"2014-01-06T21:14:43.537+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13863439","id":"13863439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Do you guys have any thoughts on which would be a more common scenario to support: new jdbc driver compatible with old server version or old jdbc driver compatible with a newer server version?\nI think it is very important that one version of jdbc driver be able to talk to different versions of HS2. If the older version of driver is able to talk to newer versions of HS2, that would be the ideal case.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-06T21:25:14.485+0000","updated":"2014-01-06T21:25:14.485+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/13950279","id":"13950279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"body":"I verified that hive 0.11 and hive 0.12 jdbc driver works with hive 0.13 hiveserver2. There is still an issue with hive 0.13 jdbc driver not working with old hive server2 versions.\nAs old jdbc drivers are now working with the new hiveserver2 in 0.13, I don't think this needs to block hive 0.13 release.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-28T02:13:16.501+0000","updated":"2014-03-28T02:13:16.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/14051444","id":"14051444","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"body":"Is there a workaround for overcoming the Thrift problem when connecting newer clients to an older hiveserver2?  I'd like to hook up Hue into an existing hiveserver in production.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"created":"2014-07-03T13:46:57.795+0000","updated":"2014-07-03T13:46:57.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/14160480","id":"14160480","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kenahoo","name":"kenahoo","key":"kenahoo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ken Williams","active":true,"timeZone":"America/Chicago"},"body":"I'm also looking for a workaround to this - I'm seeing the error when trying to connect to a 0.13 Hive.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kenahoo","name":"kenahoo","key":"kenahoo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ken Williams","active":true,"timeZone":"America/Chicago"},"created":"2014-10-06T16:43:27.896+0000","updated":"2014-10-06T16:43:27.896+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/14160519","id":"14160519","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"body":"AFAIK there is no present work around. The server must be higher or equal to the client.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-10-06T17:12:26.729+0000","updated":"2014-10-06T17:12:26.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/14193079","id":"14193079","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiaohaijun","name":"qiaohaijun","key":"qiaohaijun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"qiaohaijun","active":true,"timeZone":"Asia/Shanghai"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiaohaijun","name":"qiaohaijun","key":"qiaohaijun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"qiaohaijun","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-11-01T10:54:23.571+0000","updated":"2014-11-01T10:54:23.571+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/14193085","id":"14193085","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiaohaijun","name":"qiaohaijun","key":"qiaohaijun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"qiaohaijun","active":true,"timeZone":"Asia/Shanghai"},"body":"14/11/01 19:12:44 ERROR jdbc.HiveConnection: Error opening session\norg.apache.thrift.TApplicationException: Required field 'client_protocol' is unset! Struct:TOpenSessionReq(client_protocol:null)\n\tat org.apache.thrift.TApplicationException.read(TApplicationException.java:108)\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:71)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Client.recv_OpenSession(TCLIService.java:156)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Client.OpenSession(TCLIService.java:143)\n\tat org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:415)\n\tat org.apache.hive.jdbc.HiveConnection.<init>(HiveConnection.java:193)\n\tat org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:571)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:187)\n\tat org.apache.hive.beeline.DatabaseConnection.connect(DatabaseConnection.java:145)\n\tat org.apache.hive.beeline.DatabaseConnection.getConnection(DatabaseConnection.java:186)\n\tat org.apache.hive.beeline.Commands.connect(Commands.java:959)\n\tat org.apache.hive.beeline.Commands.connect(Commands.java:880)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.apache.hive.beeline.ReflectiveCommandHandler.execute(ReflectiveCommandHandler.java:44)\n\tat org.apache.hive.beeline.BeeLine.dispatch(BeeLine.java:801)\n\tat org.apache.hive.beeline.BeeLine.begin(BeeLine.java:659)\n\tat org.apache.hive.beeline.BeeLine.mainWithInputRedirection(BeeLine.java:368)\n\tat org.apache.hive.beeline.BeeLine.main(BeeLine.java:351)\nError: Invalid URL: jdbc:hive2://10.134.34.181:10000 (state=08S01,code=0)\n\n---\nspark 1.1.1\nhive 0.12-probuf-2.5","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiaohaijun","name":"qiaohaijun","key":"qiaohaijun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"qiaohaijun","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-11-01T11:14:46.994+0000","updated":"2014-11-01T11:14:46.994+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/14347644","id":"14347644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fedorz","name":"fedorz","key":"fedorz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Fedor","active":true,"timeZone":"America/New_York"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fedorz","name":"fedorz","key":"fedorz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Fedor","active":true,"timeZone":"America/New_York"},"created":"2015-03-04T22:01:52.795+0000","updated":"2015-03-04T22:01:52.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/15005848","id":"15005848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=metrollsta","name":"metrollsta","key":"metrollsta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"metrollsta","active":true,"timeZone":"Etc/UTC"},"body":"When will this be fixed? Or is there a workaround?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=metrollsta","name":"metrollsta","key":"metrollsta","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"metrollsta","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-15T11:13:26.960+0000","updated":"2015-11-15T11:13:26.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/15083268","id":"15083268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikeskali","name":"mikeskali","key":"mikeskali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"michael sklyar","active":true,"timeZone":"Etc/UTC"},"body":"I had this error: H060 Unable to open Hive session: org.apache.thrift.protocol.TProtocolException: Required field 'serverProtocolVersion' is unset!\n\nDid the trick for me:\n   hadoop.proxyuser.hive.hosts=*\n   hadoop.proxyuser.hive.groups=*\n\nIf you have ambari you can add the properties via:  services->HDFS->configs->advanced->custom core-site\nThan restart all(!) the affected the services.\n\nNot sure how is it related to protocol version - at least the error message is definitely wrong. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikeskali","name":"mikeskali","key":"mikeskali","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"michael sklyar","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-05T15:52:45.852+0000","updated":"2016-01-05T15:52:45.852+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/15139249","id":"15139249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sanjiv+singh","name":"sanjiv singh","key":"sanjiv singh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"sanjiv singh","active":true,"timeZone":"Etc/UTC"},"body":"Any update on this ..we are facing same issue with 1.2.1.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sanjiv+singh","name":"sanjiv singh","key":"sanjiv singh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"sanjiv singh","active":true,"timeZone":"Etc/UTC"},"created":"2016-02-09T17:24:01.977+0000","updated":"2016-02-09T17:24:01.977+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12685264/comment/15711624","id":"15711624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpin","name":"fpin","key":"fpin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Furcy Pin","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\n\nI ran into the same problem, and found a workaround for my setup, so I wanted to share it.\n\nI have an application that uses hive-cli 1.2.0 (because of Spark) and that sends queries to our cluster via hive-jdbc.\nOur cluster is still stuck in 1.1.0 (thank you Cloudera) and I ran into this issue when talking with the v1.2.0 jdbc client to the v1.1.0 jdbc server.\n\nI managed to make everything work with the following dependency setup (sbt syntax):\n\n{code}\nlibraryDependencies += \"org.apache.hive\" % \"hive-service\" % \"1.1.0\"\n\nlibraryDependencies += \"org.apache.hive\" % \"hive-jdbc\" % \"1.1.0\"\n\nlibraryDependencies += \"org.apache.hive\" % \"hive-cli\" % \"1.2.0\" exclude(\"org.apache.hive\", \"hive-service\")\n{code}\n\nThe trick was that the {{client_protocol}} is not defined in {{hive-jdbc}} but in {{hive-service}}, so you must make sure that your client has the same version of {{hive-service}} than your server.\n\nI didn't run into any other compatibility problem so far, but I don't guarantee that nothing will break when mixing two hive versions together...\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpin","name":"fpin","key":"fpin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Furcy Pin","active":true,"timeZone":"Etc/UTC"},"created":"2016-12-01T10:43:57.120+0000","updated":"2016-12-01T10:43:57.120+0000"}],"maxResults":19,"total":19,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-6050/votes","votes":15,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1qstj:"}}