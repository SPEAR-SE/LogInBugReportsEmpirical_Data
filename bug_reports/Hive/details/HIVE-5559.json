{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12674039","self":"https://issues.apache.org/jira/rest/api/2/issue/12674039","key":"HIVE-5559","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324986","id":"12324986","description":"released","name":"0.13.0","archived":false,"released":true,"releaseDate":"2014-04-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-10-16T23:25:37.132+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Oct 21 21:34:19 UTC 2013","customfield_12310420":"353662","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_378050411_*|*_1_*:*_2_*:*_68714967_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-10-21T05:03:34.511+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-5559/watchers","watchCount":2,"isWatching":false},"created":"2013-10-16T00:57:29.169+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-21T21:34:19.819+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314312","id":"12314312","name":"Statistics"}],"timeoriginalestimate":null,"description":"Several of the list_bucket_* q files fail if the hive source path gets too long. It looks like the numRows and rawDataSize stats aren't getting updated properly in this situation.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12608770","id":"12608770","filename":"HIVE-5559.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-16T18:37:21.820+0000","size":15832,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12608770/HIVE-5559.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12608852","id":"12608852","filename":"HIVE-5559.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-17T00:54:16.587+0000","size":29616,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12608852/HIVE-5559.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"353954","customfield_12312823":null,"summary":"Stats publisher fails for list bucketing when IDs are too long","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13796283","id":"13796283","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"body":"In the case that the path gets too long for the stats publishing table, HIVE-3750 allows the stats publisher to generate a hash of the path to insert into the table instead.  Looks like there's a couple of issues here in regards to list bucketing:\n\n1) The stats publishing adds an extra '/' to the path, whereas the stats aggregation does not.  Thus, the hashed path value is different when publishing and aggregating.\n\n\n2013-10-15 14:05:51,785 INFO  jdbc.JDBCStatsPublisher (JDBCStatsPublisher.java:publishStat(137)) - Stats publishing for key w???Z?u\n                                                                                                                                   =?7?!?/col2=82/col4=val_82000000\n2013-10-15 14:05:51,787 INFO  jdbc.JDBCStatsPublisher (JDBCStatsPublisher.java:publishStat(137)) - Stats publishing for key w???Z?u\n                                                                                                                                   =?7?!?/col2=466/col4=val_466000000\n2013-10-15 14:05:51,787 INFO  jdbc.JDBCStatsPublisher (JDBCStatsPublisher.java:publishStat(137)) - Stats publishing for key w???Z?u\n                                                                                                                                   =?7?!?/col2=287/col4=val_287000000\n2013-10-15 14:05:51,788 INFO  jdbc.JDBCStatsPublisher (JDBCStatsPublisher.java:publishStat(137)) - Stats publishing for key w???Z?u\n                                                                                                                                   =?7?!?/HIVE_DEFAULT_LIST_BUCKETING_DIR_NAME/HIVE_DEFAULT_LIST_BUCKETING_DIR_NAME000000\n2013-10-15 14:05:53,224 INFO  exec.StatsTask (StatsTask.java:aggregateStats(380)) - Stats aggregator : #)5?tc?k??^:N??/\n\n\n2) hive.stats.key.prefix.max.length is set too high (200 chars) - it's possible for the values appended to the key prefix can exceed the 55 chars that are left to use, which can result in:\n\n2013-10-15 14:50:12,541 INFO  jdbc.JDBCStatsPublisher (JDBCStatsPublisher.java:publishStat(137)) - Stats publishing for key pfile:/home/jdere/grid/0/workspace/UnitTest-hive-bigwheel-GA/label/sles1116/hdp-BUILDS/hive/build/ql/scratchdir/hive_2013-10-15_14-50-09_561_1692411440620554593-1/-ext-10000/ds=2008-04-08/hr=11//HIVE_DEFAULT_LIST_BUCKETING_DIR_NAME/HIVE_DEFAULT_LIST_BUCKETING_DIR_NAME000000\n2013-10-15 14:50:12,544 ERROR jdbc.JDBCStatsPublisher (JDBCStatsPublisher.java:publishStat(193)) - Error during publishing statistics.\njava.sql.SQLDataException: A truncation error was encountered trying to shrink VARCHAR 'pfile:/home/jdere/grid/0/workspace/UnitTest-hive-bigwheel-GA&' to length 255.\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\n        at org.apache.hadoop.hive.ql.stats.jdbc.JDBCStatsPublisher$2.run(JDBCStatsPublisher.java:142)\n        at org.apache.hadoop.hive.ql.stats.jdbc.JDBCStatsPublisher$2.run(JDBCStatsPublisher.java:139)\n        at org.apache.hadoop.hive.ql.exec.Utilities.executeWithRetry(Utilities.java:2473)\n        at org.apache.hadoop.hive.ql.stats.jdbc.JDBCStatsPublisher.publishStat(JDBCStatsPublisher.java:155)\n        at org.apache.hadoop.hive.ql.exec.FileSinkOperator.publishStats(FileSinkOperator.java:1048)\n        at org.apache.hadoop.hive.ql.exec.FileSinkOperator.closeOp(FileSinkOperator.java:911)\n        at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:596)\n        at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:613)\n        at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:613)\n        at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:613)\n        at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.close(ExecMapper.java:207)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:429)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n        at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:233)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\nCaused by: java.sql.SQLException: A truncation error was encountered trying to shrink VARCHAR 'pfile:/home/jdere/grid/0/workspace/UnitTest-hive-bigwheel-GA&' to length 255.\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\n        ... 30 more\nCaused by: ERROR 22001: A truncation error was encountered trying to shrink VARCHAR 'pfile:/home/jdere/grid/0/workspace/UnitTest-hive-bigwheel-GA&' to length 255.\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\n        at org.apache.derby.iapi.types.SQLChar.hasNonBlankChars(Unknown Source)\n        at org.apache.derby.iapi.types.SQLVarchar.normalize(Unknown Source)\n        at org.apache.derby.iapi.types.SQLVarchar.normalize(Unknown Source)\n        at org.apache.derby.iapi.types.DataTypeDescriptor.normalize(Unknown Source)\n        at org.apache.derby.impl.sql.execute.NormalizeResultSet.normalizeRow(Unknown Source)\n        at org.apache.derby.impl.sql.execute.NormalizeResultSet.getNextRowCore(Unknown Source)\n        at org.apache.derby.impl.sql.execute.DMLWriteResultSet.getNextRowCore(Unknown Source)\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\n        ... 24 more\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-16T01:07:23.509+0000","updated":"2013-10-16T01:07:23.509+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13797098","id":"13797098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"body":"Uploading patch v1, which passes all of the list_bucket_*, stats* tests with hadoop.mr.rev set to 20S and 23","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-16T18:37:21.823+0000","updated":"2013-10-16T18:37:21.823+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13797421","id":"13797421","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12608770/HIVE-5559.1.patch\n\n{color:red}ERROR:{color} -1 due to 22 failed/errored test(s), 4412 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_script_broken_pipe1\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_case_sensitivity\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby1\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input1\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input2\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input3\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input4\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input5\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input6\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input7\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input9\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_input_testsequencefile\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_join1\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_join2\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_join3\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_sample2\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_sample3\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_sample4\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_sample5\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_sample6\norg.apache.hadoop.hive.ql.parse.TestParse.testParse_sample7\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/1146/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/1146/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests failed with: TestsFailedException: 22 tests failed\n{noformat}\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-10-16T23:25:37.132+0000","updated":"2013-10-16T23:25:37.132+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13797426","id":"13797426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"body":"Will take a look at unit test failures","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-16T23:29:41.607+0000","updated":"2013-10-16T23:29:41.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13797489","id":"13797489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"body":"All of the TestParse failures were due to changing maxStatsKeyPrefixLength from 200 to 150 - the plan xml needed to be updated. I was not able to reproduce the errors for TestMinimrCliDriver or TestNegativeCliDriver errors, either on MacOS or CentOS VM. Uploading patch v2 and keeping my fingers crossed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jdere","name":"jdere","key":"jdere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Dere","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-17T00:54:16.592+0000","updated":"2013-10-17T00:54:16.592+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13798396","id":"13798396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:green}Overall{color}: +1 all checks pass\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12608852/HIVE-5559.2.patch\n\n{color:green}SUCCESS:{color} +1 4416 tests passed\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/1158/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/1158/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-10-17T20:51:25.676+0000","updated":"2013-10-17T20:51:25.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13798645","id":"13798645","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-18T00:11:41.260+0000","updated":"2013-10-18T00:11:41.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13800361","id":"13800361","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to trunk. Thanks, Jason!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-21T05:03:34.537+0000","updated":"2013-10-21T05:03:34.537+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13800978","id":"13800978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop2-ptest #146 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/146/])\nHIVE-5559 : Stats publisher fails for list bucketing when IDs are too long (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1534024)\n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java\n* /hive/trunk/ql/src/test/queries/clientpositive/stats_list_bucket.q\n* /hive/trunk/ql/src/test/results/clientpositive/stats_list_bucket.q.out\n* /hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-10-21T19:18:43.357+0000","updated":"2013-10-21T19:18:43.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13801078","id":"13801078","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop2 #514 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/514/])\nHIVE-5559 : Stats publisher fails for list bucketing when IDs are too long (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1534024)\n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java\n* /hive/trunk/ql/src/test/queries/clientpositive/stats_list_bucket.q\n* /hive/trunk/ql/src/test/results/clientpositive/stats_list_bucket.q.out\n* /hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-10-21T21:14:11.578+0000","updated":"2013-10-21T21:14:11.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13801124","id":"13801124","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-h0.21 #2412 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2412/])\nHIVE-5559 : Stats publisher fails for list bucketing when IDs are too long (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1534024)\n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java\n* /hive/trunk/ql/src/test/queries/clientpositive/stats_list_bucket.q\n* /hive/trunk/ql/src/test/results/clientpositive/stats_list_bucket.q.out\n* /hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-10-21T21:34:18.917+0000","updated":"2013-10-21T21:34:18.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12674039/comment/13801127","id":"13801127","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop1-ptest #209 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/209/])\nHIVE-5559 : Stats publisher fails for list bucketing when IDs are too long (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1534024)\n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java\n* /hive/trunk/ql/src/test/queries/clientpositive/stats_list_bucket.q\n* /hive/trunk/ql/src/test/results/clientpositive/stats_list_bucket.q.out\n* /hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-10-21T21:34:19.819+0000","updated":"2013-10-21T21:34:19.819+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-5559/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1oz3b:"}}