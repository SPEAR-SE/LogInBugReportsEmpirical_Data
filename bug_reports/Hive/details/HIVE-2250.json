{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12512486","self":"https://issues.apache.org/jira/rest/api/2/issue/12512486","key":"HIVE-2250","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2011-09-08T07:13:21.921+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Feb 15 12:03:07 UTC 2017","customfield_12310420":"35804","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2250/watchers","watchCount":12,"isWatching":false},"created":"2011-07-01T17:07:24.317+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315150","id":"12315150","description":"released","name":"0.7.0","archived":false,"released":true,"releaseDate":"2011-03-29"}],"issuelinks":[{"id":"12350985","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12350985","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12515560","key":"HIVE-2316","self":"https://issues.apache.org/jira/rest/api/2/issue/12515560","fields":{"summary":"MapJoin optimizer can make the wrong decision on compressed tables","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subramanian","name":"subramanian","key":"subramanian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"subramanian raghunathan","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-02-15T12:03:07.773+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313604","id":"12313604","name":"CLI","description":"Command-line interpreter for Hive.\n"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12314270","id":"12314270","name":"Diagnosability","description":"Error messages, logging, diagnostics, etc."}],"timeoriginalestimate":null,"description":"Commands executed in this order:\n\nuser@node # hive\nhive> SET hive.exec.compress.output=true; \nhive> SET io.seqfile.compression.type=BLOCK;\nhive> CREATE TABLE table_name ( [...] ) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t' STORED AS SEQUENCEFILE;\nhive> CREATE TABLE staging_table ( [...] ) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\nhive> LOAD DATA LOCAL INPATH 'file:///root/input/' OVERWRITE INTO TABLE staging_table;\nhive> INSERT OVERWRITE TABLE table_name SELECT * FROM staging_table;\n(Map reduce job to change to sequence file...)\nhive> DESCRIBE EXTENDED table_name;\n\nDetailed Table Information      Table(tableName:table_name, dbName:benchmarking, owner:root, createTime:1309480053, lastAccessTime:0, retention:0, sd:StorageDescriptor(cols:[FieldSchema(name:session_key, type:string, comment:null), FieldSchema(name:remote_address, type:string, comment:null), FieldSchema(name:canister_lssn, type:string, comment:null), FieldSchema(name:canister_session_id, type:bigint, comment:null), FieldSchema(name:tltsid, type:string, comment:null), FieldSchema(name:tltuid, type:string, comment:null), FieldSchema(name:tltvid, type:string, comment:null), FieldSchema(name:canister_server, type:string, comment:null), FieldSchema(name:session_timestamp, type:string, comment:null), FieldSchema(name:session_duration, type:string, comment:null), FieldSchema(name:hit_count, type:bigint, comment:null), FieldSchema(name:http_user_agent, type:string, comment:null), FieldSchema(name:extractid, type:bigint, comment:null), FieldSchema(name:site_link, type:string, comment:null), FieldSchema(name:dt, type:string, comment:null), FieldSchema(name:hour, type:int, comment:null)], location:hdfs://hadoop2/user/hive/warehouse/benchmarking.db/table_name, inputFormat:org.apache.hadoop.mapred.SequenceFileInputFormat, outputFormat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat, compressed:false, numBuckets:-1, serdeInfo:SerDeInfo(name:null, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:{serialization.format=   , field.delim=\n\n*** SEE ABOVE: Compression is set to FALSE, even though contents of table is compressed.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12493555","id":"12493555","filename":"HIVE-2250.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subramanian","name":"subramanian","key":"subramanian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"subramanian raghunathan","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-08T07:10:06.269+0000","size":12457,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12493555/HIVE-2250.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123751","customfield_12312823":null,"summary":"\"DESCRIBE EXTENDED table_name\" shows inconsistent compression information.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tpowell","name":"tpowell","key":"tpowell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Travis Powell","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tpowell","name":"tpowell","key":"tpowell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Travis Powell","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"RHEL, Full Cloudera stack","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512486/comment/13100116","id":"13100116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subramanian","name":"subramanian","key":"subramanian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"subramanian raghunathan","active":true,"timeZone":"Etc/UTC"},"body":"Handled the following scenarios \n\nCreate table \nCreate table like\nAlter table fileformat\n\nBased on the Inputformat if its type is secquenceFileFormat , then compression flag is set to true and vice versa.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=subramanian","name":"subramanian","key":"subramanian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"subramanian raghunathan","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-08T07:13:21.921+0000","updated":"2011-09-08T07:13:21.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512486/comment/13133817","id":"13133817","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=he+yongqiang","name":"he yongqiang","key":"he yongqiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"He Yongqiang","active":true,"timeZone":"Etc/UTC"},"body":"If a table's fileformat is seqfile, it does not mean the data is compressed. \nI guess a better way to populate this information is from the MoveTask. eg a 'insert overwrite ...' normally has 2 taks, one is the mapreduce task, which use the compression configuration, and the other is the load task which is a data load task. And i think they share the same conf.\n\nBut not sure about how compression info for queries like \"load data local inpath ''\".\n\nWe can focus on correcting the \"insert overwrite \" in this task.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=he+yongqiang","name":"he yongqiang","key":"he yongqiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"He Yongqiang","active":true,"timeZone":"Etc/UTC"},"created":"2011-10-24T03:25:41.083+0000","updated":"2011-10-24T03:25:41.083+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512486/comment/13507271","id":"13507271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"body":"If we don't really make use of the IS_COMPRESSED attribute of a table, should we just get rid of it (or at least not print it in the {{describe extended/formatted}} output, which causes great confusion as it is always certainly {{No}})?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-30T11:20:44.870+0000","updated":"2012-11-30T11:20:44.870+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512486/comment/14502264","id":"14502264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Yibing","name":"Yibing","key":"yibing","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yibing Shi","active":true,"timeZone":"Australia/Sydney"},"body":"+1\nThis is really confusing!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Yibing","name":"Yibing","key":"yibing","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yibing Shi","active":true,"timeZone":"Australia/Sydney"},"created":"2015-04-20T02:53:51.374+0000","updated":"2015-04-20T02:53:51.374+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12512486/comment/15867705","id":"15867705","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=viktor.gerdin","name":"viktor.gerdin","key":"viktor.gerdin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=viktor.gerdin&avatarId=26032","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=viktor.gerdin&avatarId=26032","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=viktor.gerdin&avatarId=26032","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=viktor.gerdin&avatarId=26032"},"displayName":"Viktor Gerdin","active":true,"timeZone":"Europe/Stockholm"},"body":"+1 This is still a great confusion. (on Hive version 1.2.1.2.4)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=viktor.gerdin","name":"viktor.gerdin","key":"viktor.gerdin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=viktor.gerdin&avatarId=26032","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=viktor.gerdin&avatarId=26032","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=viktor.gerdin&avatarId=26032","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=viktor.gerdin&avatarId=26032"},"displayName":"Viktor Gerdin","active":true,"timeZone":"Europe/Stockholm"},"created":"2017-02-15T12:03:07.773+0000","updated":"2017-02-15T12:03:07.773+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2250/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lj53:"}}