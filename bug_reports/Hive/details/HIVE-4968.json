{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12660957","self":"https://issues.apache.org/jira/rest/api/2/issue/12660957","key":"HIVE-4968","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324312","id":"12324312","description":"released","name":"0.12.0","archived":false,"released":true,"releaseDate":"2013-10-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-07-31T21:07:47.989+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Oct 15 23:30:45 UTC 2013","customfield_12310420":"341146","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_108717560_*|*_1_*:*_2_*:*_15780182_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-08-02T04:55:43.680+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4968/watchers","watchCount":4,"isWatching":false},"created":"2013-07-31T18:20:45.966+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-15T23:30:45.238+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"{code:Sql}\nSELECT tmp3.key, tmp3.value, tmp3.count\nFROM (SELECT tmp1.key as key, tmp1.value as value, tmp2.count as count\n      FROM (SELECT key, value\n            FROM src) tmp1\n      JOIN (SELECT count(*) as count\n            FROM src) tmp2\n      ) tmp3;\n{\\code}\nThe plan is executable.\n\n{code:sql}\nSELECT tmp3.key, tmp3.value, tmp3.count\nFROM (SELECT tmp1.key as key, tmp1.value as value, tmp2.count as count\n      FROM (SELECT *\n            FROM src) tmp1\n      JOIN (SELECT count(*) as count\n            FROM src) tmp2\n      ) tmp3;\n{\\code}\nThe plan is executable.\n\n{code}\nSELECT tmp4.key, tmp4.value, tmp4.count\nFROM (SELECT tmp2.key as key, tmp2.value as value, tmp3.count as count\n      FROM (SELECT *\n            FROM (SELECT key, value\n                  FROM src) tmp1 ) tmp2\n      JOIN (SELECT count(*) as count\n            FROM src) tmp3\n      ) tmp4;\n{\\code}\nThe plan is not executable.\n\nThe plan related to the MapJoin is\n{code}\n Stage: Stage-5\n    Map Reduce Local Work\n      Alias -> Map Local Tables:\n        tmp4:tmp2:tmp1:src \n          Fetch Operator\n            limit: -1\n      Alias -> Map Local Operator Tree:\n        tmp4:tmp2:tmp1:src \n          TableScan\n            alias: src\n            Select Operator\n              expressions:\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n              outputColumnNames: _col0, _col1\n              HashTable Sink Operator\n                condition expressions:\n                  0 \n                  1 {_col0}\n                handleSkewJoin: false\n                keys:\n                  0 []\n                  1 []\n                Position of Big Table: 1\n\n  Stage: Stage-4\n    Map Reduce\n      Alias -> Map Operator Tree:\n        $INTNAME \n            Map Join Operator\n              condition map:\n                   Inner Join 0 to 1\n              condition expressions:\n                0 \n                1 {_col0}\n              handleSkewJoin: false\n              keys:\n                0 []\n                1 []\n              outputColumnNames: _col2\n              Position of Big Table: 1\n              Select Operator\n                expressions:\n                      expr: _col0\n                      type: string\n                      expr: _col1\n                      type: string\n                      expr: _col2\n                      type: bigint\n                outputColumnNames: _col0, _col1, _col2\n                File Output Operator\n                  compressed: false\n                  GlobalTableId: 0\n                  table:\n                      input format: org.apache.hadoop.mapred.TextInputFormat\n                      output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n      Local Work:\n        Map Reduce Local Work\n{\\code}\nThe outputColumnNames of MapJoin is '_col2'. But it should be '_col0, _col1, _col2'","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12595274","id":"12595274","filename":"HIVE-4968.D11901.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T21:07:48.073+0000","size":18071,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12595274/HIVE-4968.D11901.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12595301","id":"12595301","filename":"HIVE-4968.D11901.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T23:59:46.961+0000","size":20562,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"341464","customfield_12312823":null,"summary":"When deduplicating multiple SelectOperators, we should update RowResolver accordinly","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13725551","id":"13725551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"body":"I have difficulty to summarize this problem in a concise and precise way... Will update the summary once I find a good one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"created":"2013-07-31T18:28:05.913+0000","updated":"2013-07-31T18:28:05.913+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13725677","id":"13725677","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"body":"New summary has been updated","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"created":"2013-07-31T20:22:30.960+0000","updated":"2013-07-31T20:22:30.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13725724","id":"13725724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"yhuai requested code review of \"HIVE-4968 [jira] When deduplicate multiple SelectOperators, we should update RowResolver accordinly\".\n\nReviewers: JIRA\n\nMerge remote-tracking branch 'origin/trunk' into HIVE-4968\n\nSELECT tmp3.key, tmp3.value, tmp3.count\nFROM (SELECT tmp1.key as key, tmp1.value as value, tmp2.count as count\n      FROM (SELECT key, value\n            FROM src) tmp1\n      JOIN (SELECT count(*) as count\n            FROM src) tmp2\n      ) tmp3;\n\nThe plan is executable.\n\nSELECT tmp3.key, tmp3.value, tmp3.count\nFROM (SELECT tmp1.key as key, tmp1.value as value, tmp2.count as count\n      FROM (SELECT *\n            FROM src) tmp1\n      JOIN (SELECT count(*) as count\n            FROM src) tmp2\n      ) tmp3;\n\nThe plan is executable.\n\nSELECT tmp4.key, tmp4.value, tmp4.count\nFROM (SELECT tmp2.key as key, tmp2.value as value, tmp3.count as count\n      FROM (SELECT *\n            FROM (SELECT key, value\n                  FROM src) tmp1 ) tmp2\n      JOIN (SELECT count(*) as count\n            FROM src) tmp3\n      ) tmp4;\n\nThe plan is not executable.\n\nThe plan related to the MapJoin is\n\n Stage: Stage-5\n    Map Reduce Local Work\n      Alias -> Map Local Tables:\n        tmp4:tmp2:tmp1:src\n          Fetch Operator\n            limit: -1\n      Alias -> Map Local Operator Tree:\n        tmp4:tmp2:tmp1:src\n          TableScan\n            alias: src\n            Select Operator\n              expressions:\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n              outputColumnNames: _col0, _col1\n              HashTable Sink Operator\n                condition expressions:\n                  0\n                  1 {_col0}\n                handleSkewJoin: false\n                keys:\n                  0 []\n                  1 []\n                Position of Big Table: 1\n\n  Stage: Stage-4\n    Map Reduce\n      Alias -> Map Operator Tree:\n        $INTNAME\n            Map Join Operator\n              condition map:\n                   Inner Join 0 to 1\n              condition expressions:\n                0\n                1 {_col0}\n              handleSkewJoin: false\n              keys:\n                0 []\n                1 []\n              outputColumnNames: _col2\n              Position of Big Table: 1\n              Select Operator\n                expressions:\n                      expr: _col0\n                      type: string\n                      expr: _col1\n                      type: string\n                      expr: _col2\n                      type: bigint\n                outputColumnNames: _col0, _col1, _col2\n                File Output Operator\n                  compressed: false\n                  GlobalTableId: 0\n                  table:\n                      input format: org.apache.hadoop.mapred.TextInputFormat\n                      output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n      Local Work:\n        Map Reduce Local Work\n\nThe outputColumnNames of MapJoin is '_col2'. But it should be '_col0, _col1, _col2'\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D11901\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n  ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n  ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n\nMANAGE HERALD RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/28407/\n\nTo: JIRA, yhuai\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T21:07:47.989+0000","updated":"2013-07-31T21:07:47.989+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13725783","id":"13725783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"ashutoshc has accepted the revision \"HIVE-4968 [jira] When deduplicate multiple SelectOperators, we should update RowResolver accordinly\".\n\n  Looks good. Some minor comments.\n\nINLINE COMMENTS\n  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java:399 You are not using this method. Lets not add this.\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java:104 Can you add a comment saying something like we need to set row resolver of parent from the child which is in parse context to preserve column mappings.\n  Feel free to improve on the wording here.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D11901\n\nBRANCH\n  HIVE-4968\n\nARCANIST PROJECT\n  hive\n\nTo: JIRA, ashutoshc, yhuai\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T22:19:46.830+0000","updated":"2013-07-31T22:19:46.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13725874","id":"13725874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"yhuai updated the revision \"HIVE-4968 [jira] When deduplicate multiple SelectOperators, we should update RowResolver accordinly\".\n\n  addressed Ashutosh's comments\n\nReviewers: ashutoshc, JIRA\n\nREVISION DETAIL\n  https://reviews.facebook.net/D11901\n\nCHANGE SINCE LAST DIFF\n  https://reviews.facebook.net/D11901?vs=36669&id=36693#toc\n\nBRANCH\n  HIVE-4968\n\nARCANIST PROJECT\n  hive\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n  ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n  ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n\nTo: JIRA, ashutoshc, yhuai\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T23:59:46.828+0000","updated":"2013-07-31T23:59:46.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13725875","id":"13725875","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"body":"addressed Ashutosh's comments","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yhuai","name":"yhuai","key":"yhuai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yhuai&avatarId=23452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yhuai&avatarId=23452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yhuai&avatarId=23452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yhuai&avatarId=23452"},"displayName":"Yin Huai","active":true,"timeZone":"America/New_York"},"created":"2013-08-01T00:00:24.837+0000","updated":"2013-08-01T00:00:24.837+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13726060","id":"13726060","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:green}Overall{color}: +1 all checks pass\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch\n\n{color:green}SUCCESS:{color} +1 2749 tests passed\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/268/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/268/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-08-01T05:41:21.020+0000","updated":"2013-08-01T05:41:21.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13726126","id":"13726126","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 2749 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hcatalog.mapreduce.TestHCatHiveCompatibility.testPartedRead\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/270/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/270/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests failed with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-08-01T06:41:25.864+0000","updated":"2013-08-01T06:41:25.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13727327","id":"13727327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to trunk. Thanks, Yin!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-02T04:55:43.700+0000","updated":"2013-08-02T04:55:43.700+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13727499","id":"13727499","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop2-ptest #41 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/41/])\nHIVE-4968 : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1509543)\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n* /hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-02T09:25:14.598+0000","updated":"2013-08-02T09:25:14.598+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13727538","id":"13727538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #113 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/113/])\nHIVE-4968 : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1509543)\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n* /hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-02T10:22:59.989+0000","updated":"2013-08-02T10:22:59.989+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13728039","id":"13728039","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"ABORTED: Integrated in Hive-trunk-hadoop2 #322 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/322/])\nHIVE-4968 : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1509543)\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n* /hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-02T20:16:13.874+0000","updated":"2013-08-02T20:16:13.874+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13728422","id":"13728422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hive-trunk-h0.21 #2240 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2240/])\nHIVE-4968 : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1509543)\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n* /hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-03T03:24:27.594+0000","updated":"2013-08-03T03:24:27.594+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12660957/comment/13796067","id":"13796067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-15T23:30:45.230+0000","updated":"2013-10-15T23:30:45.230+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4968/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1mu5r:"}}