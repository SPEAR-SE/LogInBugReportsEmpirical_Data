{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12972148","self":"https://issues.apache.org/jira/rest/api/2/issue/12972148","key":"HIVE-13822","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340269","id":"12340269","name":"2.3.0","archived":false,"released":true,"releaseDate":"2017-07-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-05-31T19:03:13.035+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Aug 03 23:16:52 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_5_*:*_5030449293_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_5_*:*_1370213636","customfield_12312321":null,"resolutiondate":"2016-08-05T20:33:49.881+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-13822/watchers","watchCount":2,"isWatching":false},"created":"2016-05-23T18:36:07.354+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12467454","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12467454","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12949298","key":"HIVE-13269","self":"https://issues.apache.org/jira/rest/api/2/issue/12949298","fields":{"summary":"Simplify comparison expressions using column stats","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-21T17:45:57.498+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Thanks to [~jcamachorodriguez] for uncovering this issue as part of HIVE-13269. StatsSetupConst.areColumnStatsUptoDate() is used to check whether stats are up-to-date.  In case of PerfCliDriver, ‘false’ (thus, not up-to-date) is returned and the following debug message in the logs:\n\n{code}\nIn StatsSetupConst, JsonParser can not parse COLUMN_STATS. (line 190 in StatsSetupConst)\n{code}\n\nLooks like the issue started happening after HIVE-12261 went in. \n\nThe fix would be to replace\n{color:red}COLUMN_STATS_ACCURATE,true{color}\nwith\n{color:green}COLUMN_STATS_ACCURATE,{\"COLUMN_STATS\":{\"key\":\"true\",\"value\":\"true\"},\"BASIC_STATS\":\"true\"}{color}\nwhere key, value are the column names.\nin data/files/tpcds-perf/metastore_export/csv/TABLE_PARAMS.txt","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335837","id":"12335837","name":"2.2.0","archived":false,"released":true,"releaseDate":"2017-07-25"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12807493","id":"12807493","filename":"HIVE-13822.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-01T18:35:37.304+0000","size":16845,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12807493/HIVE-13822.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12819715","id":"12819715","filename":"HIVE-13822.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-22T20:51:25.632+0000","size":119002,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12819715/HIVE-13822.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12821433","id":"12821433","filename":"HIVE-13822.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-01T22:07:35.368+0000","size":148774,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12821433/HIVE-13822.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12821944","id":"12821944","filename":"HIVE-13822.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-03T22:44:55.284+0000","size":142912,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12821944/HIVE-13822.4.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"TestPerfCliDriver throws warning in StatsSetupConst that  JsonParser cannot parse COLUMN_STATS","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15308373","id":"15308373","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"Removing 2.1.0 target as issue is not tagged as Critical/Blocker and the RC will be created tomorrow. Please feel free to commit to branch-2.1 anyway and fix for 2.1.0 if this happens before the release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-31T19:03:13.035+0000","updated":"2016-05-31T19:03:13.035+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15308713","id":"15308713","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hsubramaniyan] Any update on this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-31T21:51:56.204+0000","updated":"2016-05-31T21:51:56.204+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15314124","id":"15314124","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12807493/HIVE-13822.1.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 70 failed/errored test(s), 10183 tests executed\n*Failed tests:*\n{noformat}\nTestJdbcWithMiniHA - did not produce a TEST-*.xml file\nTestJdbcWithMiniMr - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-vector_distinct_2.q-tez_joins_explain.q-cte_mat_1.q-and-12-more - did not produce a TEST-*.xml file\nTestOperationLoggingAPIWithTez - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query12\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query13\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query15\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query17\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query18\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query19\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query20\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query21\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query22\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query25\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query26\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query27\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query28\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query29\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query3\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query31\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query32\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query34\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query39\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query40\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query42\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query43\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query45\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query46\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query48\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query50\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query51\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query52\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query54\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query55\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query58\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query64\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query65\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query66\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query67\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query68\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query7\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query71\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query72\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query73\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query75\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query76\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query79\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query80\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query82\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query84\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query85\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query87\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query88\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query89\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query90\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query91\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query92\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query93\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query94\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query95\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query96\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query97\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query98\n{noformat}\n\nTest results: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/509/testReport\nConsole output: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/509/console\nTest logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-509/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 70 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12807493 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-06-03T13:46:06.342+0000","updated":"2016-06-03T13:46:06.342+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15314264","id":"15314264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Failures look related.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-03T15:17:07.752+0000","updated":"2016-06-03T15:17:07.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15331864","id":"15331864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hsubramaniyan] Any update on this one?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-15T14:47:14.971+0000","updated":"2016-06-15T14:47:14.971+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15373655","id":"15373655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"body":"These are 2 errors associated with the failures :\n{code}\n2016-07-12T13:40:26,485 ERROR [e9d17784-f33f-4422-8fe3-748aeba57491 main] ql.Driver: FAILED: RuntimeException Invalid Stats number of null > no of tuples\njava.lang.RuntimeException: Invalid Stats number of null > no of tuples\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.FilterSelectivityEstimator.visitCall(FilterSelectivityEstimator.java:97)\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.FilterSelectivityEstimator.visitCall(FilterSelectivityEstimator.java:43)\n        at org.apache.calcite.rex.RexCall.accept(RexCall.java:108)\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.FilterSelectivityEstimator.computeConjunctionSelectivity(FilterSelectivityEstimator.java:214)\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.FilterSelectivityEstimator.visitCall(FilterSelectivityEstimator.java:75)\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.FilterSelectivityEstimator.visitCall(FilterSelectivityEstimator.java:43)\n        at org.apache.calcite.rex.RexCall.accept(RexCall.java:108)\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.FilterSelectivityEstimator.estimateSelectivity(FilterSelectivityEstimator.java:54)\n        at org.apache.hadoop.hive.ql.optimizer.calcite.stats.HiveRelMdSelectivity.getSelectivity(HiveRelMdSelectivity.java:55)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.ReflectiveRelMetadataProvider$1$1.invoke(ReflectiveRelMetadataProvider.java:213)\n        at com.sun.proxy.$Proxy123.getSelectivity(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.ChainedRelMetadataProvider$ChainedInvocationHandler.invoke(ChainedRelMetadataProvider.java:112)\n        at com.sun.proxy.$Proxy123.getSelectivity(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.ChainedRelMetadataProvider$ChainedInvocationHandler.invoke(ChainedRelMetadataProvider.java:112)\n        at com.sun.proxy.$Proxy123.getSelectivity(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.CachingRelMetadataProvider$CachingInvocationHandler.invoke(CachingRelMetadataProvider.java:129)\n        at com.sun.proxy.$Proxy123.getSelectivity(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.ChainedRelMetadataProvider$ChainedInvocationHandler.invoke(ChainedRelMetadataProvider.java:112)\n        at com.sun.proxy.$Proxy123.getSelectivity(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.CachingRelMetadataProvider$CachingInvocationHandler.invoke(CachingRelMetadataProvider.java:129)\n        at com.sun.proxy.$Proxy123.getSelectivity(Unknown Source)\n        at org.apache.calcite.rel.metadata.RelMetadataQuery.getSelectivity(RelMetadataQuery.java:234)\n        at org.apache.calcite.rel.metadata.RelMdUtil.estimateFilteredRows(RelMdUtil.java:718)\n        at org.apache.calcite.rel.metadata.RelMdRowCount.getRowCount(RelMdRowCount.java:118)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.calcite.rel.metadata.ReflectiveRelMetadataProvider$1$1.invoke(ReflectiveRelMetadataProvider.java:213)\n{code}\n\nThe second error is \n{code}\n2016-07-12T13:40:21,612 DEBUG [e9d17784-f33f-4422-8fe3-748aeba57491 main] parse.TypeCheckCtx: Setting error: [Line 2:153 Invalid table alias or column reference 'ws_ext_sales_price': (possible column names are: .(tok_table_or_col i_item_id), .(tok_table_or_col i_item_desc), .(tok_table_or_col i_category), .(tok_table_or_col i_class), .(tok_tabl\\\ne_or_col i_current_price), .(tok_function sum (tok_table_or_col ws_ext_sales_price)))] from (tok_table_or_col ws_ext_sales_price)\njava.lang.Exception\n        at org.apache.hadoop.hive.ql.parse.TypeCheckCtx.setError(TypeCheckCtx.java:162) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$ColumnExprProcessor.process(TypeCheckProcFactory.java:653) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:158) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:217) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:163) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:11232) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11188) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:4195) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:3977) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:9410) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:9365) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:10232) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:10110) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genOPTree(SemanticAnalyzer.java:10781) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10792) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10489) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:75) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:435) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:326) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1156) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1249) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1082) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1070) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:232) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:183) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:399) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:335) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClientInternal(QTestUtil.java:1143) [classes/:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:1117) [classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.runTest(TestPerfCliDriver.java:390) [test-classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query12(TestPerfCliDriver.java:137) [test-classes/:?]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_79]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_79]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_79]\n{code}\n\nThe first one looks like the stats doesnt tally properly. The second issue looks like a internal issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-12T20:48:43.986+0000","updated":"2016-07-12T20:48:43.986+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15383338","id":"15383338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Second one i dont think is a fatal error and can be ignored. First one did look like a problem of incorrect stats being loaded in metastore.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-19T00:07:23.539+0000","updated":"2016-07-19T00:07:23.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15390366","id":"15390366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"I wonder why plan didnt change for other queries. May be a good idea to make PerfCliDriver work with {{hive.in.test}} set to true.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-22T23:42:03.309+0000","updated":"2016-07-22T23:42:03.309+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15390978","id":"15390978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12819715/HIVE-13822.2.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 14 failed/errored test(s), 10342 tests executed\n*Failed tests:*\n{noformat}\nTestMsgBusConnection - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query17\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query72\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query85\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query89\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query91\norg.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testCheckPermissions\norg.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testGetToken\norg.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testConnections\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/620/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/620/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-620/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 14 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12819715 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-07-24T07:07:06.845+0000","updated":"2016-07-24T07:07:06.845+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15402908","id":"15402908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"body":"Looked at why some of these qfile changes are missing:\n1.\n{code}\n2016-08-01T14:50:03,831 DEBUG [630ce616-f45b-4c59-b8c2-6e27e80e2cca main] parse.TypeCheckCtx: Setting error: [Line 2:121 Invalid table alias or column reference 'ws_ext_sales_price': (possible column names are: .(tok_table_or_col i_item_id), .(tok_table_or_col i_item_desc\\\n), .(tok_table_or_col i_category), .(tok_table_or_col i_class), .(tok_table_or_col i_current_price), .(tok_function sum (tok_table_or_col ws_ext_sales_price)))] from (tok_table_or_col ws_ext_sales_price)\njava.lang.Exception\n        at org.apache.hadoop.hive.ql.parse.TypeCheckCtx.setError(TypeCheckCtx.java:162) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$ColumnExprProcessor.process(TypeCheckProcFactory.java:653) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:158) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:217) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:163) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:11252) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11208) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:4195) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:3977) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:9428) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:9383) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:10250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:10128) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genOPTree(SemanticAnalyzer.java:10801) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10812) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10507) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:75) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:435) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:326) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1169) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1288) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1095) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1083) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:232) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:183) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:399) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:335) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClientInternal(QTestUtil.java:1143) [classes/:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:1117) [classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.runTest(TestPerfCliDriver.java:390) [test-classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query12(TestPerfCliDriver.java:137) [test-classes/:?]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_71]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_71]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_71]\n        at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_71]\n        at junit.framework.TestCase.runTest(TestCase.java:176) [junit-4.11.jar:?]\n        at junit.framework.TestCase.runBare(TestCase.java:141) [junit-4.11.jar:?]\n        at junit.framework.TestResult$1.protect(TestResult.java:122) [junit-4.11.jar:?]\n        at junit.framework.TestResult.runProtected(TestResult.java:142) [junit-4.11.jar:?]\n        at junit.framework.TestResult.run(TestResult.java:125) [junit-4.11.jar:?]\n        at junit.framework.TestCase.run(TestCase.java:129) [junit-4.11.jar:?]\n        at junit.framework.TestSuite.runTest(TestSuite.java:255) [junit-4.11.jar:?]\n        at junit.framework.TestSuite.run(TestSuite.java:250) [junit-4.11.jar:?]\n        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84) [junit-4.11.jar:?]\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264) [surefire-junit4-2.16.jar:2.16]\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.16.jar:2.16]\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124) [surefire-junit4-2.16.jar:2.16]\n        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200) [surefire-booter-2.16.jar:2.16]\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153) [surefire-booter-2.16.jar:2.16]\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.16.jar:2.16]\n{code}\n\n2. \n{code}\n        at org.apache.hadoop.hive.ql.parse.TypeCheckCtx.setError(TypeCheckCtx.java:162) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$ColumnExprProcessor.process(TypeCheckProcFactory.java:647) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:158) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:217) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:163) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:11252) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11208) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genSelectLogicalPlan(CalcitePlanner.java:3007) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genLogicalPlan(CalcitePlanner.java:3169) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.apply(CalcitePlanner.java:949) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.apply(CalcitePlanner.java:903) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.calcite.tools.Frameworks$1.apply(Frameworks.java:113) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.calcite.prepare.CalcitePrepareImpl.perform(CalcitePrepareImpl.java:969) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.calcite.tools.Frameworks.withPrepare(Frameworks.java:149) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.calcite.tools.Frameworks.withPlanner(Frameworks.java:106) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.getOptimizedAST(CalcitePlanner.java:721) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:287) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10812) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:246) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n\tat org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:75) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:435) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:326) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1169) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1288) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1095) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1083) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:232) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:183) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:399) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:335) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClientInternal(QTestUtil.java:1143) [classes/:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:1117) [classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.runTest(TestPerfCliDriver.java:390) [test-classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query17(TestPerfCliDriver.java:149) [test-classes/:?]\n{code}\n\n3. \n{code}\n2016-08-01T14:50:43,828 DEBUG [630ce616-f45b-4c59-b8c2-6e27e80e2cca main] parse.TypeCheckCtx: Setting error: [Line 2:4908 Expression not in GROUP BY key 'cs_ext_list_price'] from (tok_table_or_col cs_ext_list_price)\njava.lang.Exception\n        at org.apache.hadoop.hive.ql.parse.TypeCheckCtx.setError(TypeCheckCtx.java:162) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$ColumnExprProcessor.process(TypeCheckProcFactory.java:647) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:158) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:217) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:163) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:11252) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11208) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11176) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11170) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genFilterRelNode(CalcitePlanner.java:1766) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genFilterRelNode(CalcitePlanner.java:1933) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genGBHavingLogicalPlan(CalcitePlanner.java:3256) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genLogicalPlan(CalcitePlanner.java:3165) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genLogicalPlan(CalcitePlanner.java:3071) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genLogicalPlan(CalcitePlanner.java:3110) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genLogicalPlan(CalcitePlanner.java:3071) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.genLogicalPlan(CalcitePlanner.java:3110) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.apply(CalcitePlanner.java:949) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner$CalcitePlannerAction.apply(CalcitePlanner.java:903) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.calcite.tools.Frameworks$1.apply(Frameworks.java:113) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.calcite.prepare.CalcitePrepareImpl.perform(CalcitePrepareImpl.java:969) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.calcite.tools.Frameworks.withPrepare(Frameworks.java:149) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.calcite.tools.Frameworks.withPlanner(Frameworks.java:106) [calcite-core-1.6.0.jar:1.6.0]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.getOptimizedAST(CalcitePlanner.java:721) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:287) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10812) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:246) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:75) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250) [hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:435) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:326) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1169) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1288) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1095) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1083) [hive-exec-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:232) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:183) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:399) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:335) [hive-cli-2.2.0-SNAPSHOT.jar:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClientInternal(QTestUtil.java:1143) [classes/:?]\n        at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:1117) [classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.runTest(TestPerfCliDriver.java:390) [test-classes/:?]\n        at org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query64(TestPerfCliDriver.java:261) [test-classes/:?]\n{code}\n\nquery20, query32, query45, query64, query98 all have one of the above stack traces caused mostly by return path issue related bugs. These are the only kind of exceptions/warnings I see in the hive.log after running with hive.in.test = true. The question here is whether to fix these exceptions as part of return path related jira or this jira. I would prefer the former.\nPatch#3 has resolved the issue mentioned in this jira title.\n\nThanks\nHari","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-01T22:07:10.582+0000","updated":"2016-08-01T22:07:10.582+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15402924","id":"15402924","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Those errors are not related to return path. They can be ignored. Can you add hive.in.test in hive-site.xml for test too?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-01T22:16:02.500+0000","updated":"2016-08-01T22:16:02.500+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15402998","id":"15402998","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ashutoshc] hive.in.test=true is already there in data/conf/perf-reg/hive-site.xml","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-01T23:02:31.520+0000","updated":"2016-08-01T23:02:31.520+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15404019","id":"15404019","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12821433/HIVE-13822.3.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 11 failed/errored test(s), 10422 tests executed\n*Failed tests:*\n{noformat}\nTestMsgBusConnection - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_orc_llap_counters\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query17\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query72\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query85\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query89\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query91\norg.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorImmediateAllocation\norg.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.stringifyValidTxns\norg.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testTxnRange\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/733/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/733/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-733/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 11 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12821433 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-08-02T14:01:41.405+0000","updated":"2016-08-02T14:01:41.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15404132","id":"15404132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-02T14:56:36.511+0000","updated":"2016-08-02T14:56:36.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12972148/comment/15406797","id":"15406797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"body":"The failures were file diffs which went away after a rebase. Re uploading the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hsubramaniyan","name":"hsubramaniyan","key":"hsubramaniyan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hsubramaniyan&avatarId=23453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hsubramaniyan&avatarId=23453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hsubramaniyan&avatarId=23453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hsubramaniyan&avatarId=23453"},"displayName":"Hari Sankar Sivarama Subramaniyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-03T23:16:52.502+0000","updated":"2016-08-03T23:16:52.502+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-13822/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2ydtj:"}}