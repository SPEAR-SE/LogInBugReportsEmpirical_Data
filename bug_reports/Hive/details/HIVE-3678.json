{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12615045","self":"https://issues.apache.org/jira/rest/api/2/issue/12615045","key":"HIVE-3678","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320745","id":"12320745","description":"released","name":"0.10.0","archived":false,"released":true,"releaseDate":"2013-01-11"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-11-08T19:03:11.390+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jan 10 19:53:58 UTC 2013","customfield_12310420":"255599","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_794380188_*|*_1_*:*_1_*:*_1032549908_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-11-28T02:43:02.538+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3678/watchers","watchCount":6,"isWatching":false},"created":"2012-11-06T23:14:12.463+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12360495","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360495","type":{"id":"12310060","name":"Container","inward":"Is contained by","outward":"contains","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060"},"outwardIssue":{"id":"12616291","key":"HIVE-3712","self":"https://issues.apache.org/jira/rest/api/2/issue/12616291","fields":{"summary":"Use varbinary instead of longvarbinary to store min and max column values in column stats schema","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12359932","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12359932","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"inwardIssue":{"id":"12465176","key":"HIVE-1362","self":"https://issues.apache.org/jira/rest/api/2/issue/12465176","fields":{"summary":"Optimizer statistics on columns in tables and partitions","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-01-10T19:53:58.582+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312584","id":"12312584","name":"Metastore","description":"Tracks issue dealing with metastore."}],"timeoriginalestimate":null,"description":"Add upgrade script for column statistics schema changes for Postgres/MySQL/Oracle/Derby","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12554090","id":"12554090","filename":"HIVE-3678.1.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-18T22:03:44.774+0000","size":37318,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12554090/HIVE-3678.1.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12554254","id":"12554254","filename":"HIVE-3678.2.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-19T23:07:31.667+0000","size":36875,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12554254/HIVE-3678.2.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12554955","id":"12554955","filename":"HIVE-3678.3.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-27T03:14:16.063+0000","size":38829,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12554955/HIVE-3678.3.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555050","id":"12555050","filename":"HIVE-3678.4.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-27T19:16:06.118+0000","size":38829,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12555050/HIVE-3678.4.patch.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"90250","customfield_12312823":null,"summary":"Add metastore upgrade scripts for column stats schema changes","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13493392","id":"13493392","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gangtimliu","name":"gangtimliu","key":"gangtimliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gang Tim Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shreepadma] thank you for working on it. \n\nDo you have plan when you submit a patch? I know it takes efforts to code and test in 4 different types of databases. \n\nWould you please release mysql version first? Then file a jira to follow up Postgres/Oracle/Derby. Just a suggestion for fast release but up to you to decide. \n\nthanks a lot again Tim","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gangtimliu","name":"gangtimliu","key":"gangtimliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gang Tim Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T19:03:11.390+0000","updated":"2012-11-08T19:03:11.390+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13493587","id":"13493587","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"@Tim: I'm currently working on providing the upgrade scripts for different databases. Since there is a plan to release Hive 0.10 soon, we have to provide upgrade scripts for all of them. Thanks.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-08T22:59:11.734+0000","updated":"2012-11-08T22:59:11.734+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13493589","id":"13493589","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gangtimliu","name":"gangtimliu","key":"gangtimliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gang Tim Liu","active":true,"timeZone":"America/Los_Angeles"},"body":"sure. no problem. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gangtimliu","name":"gangtimliu","key":"gangtimliu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gang Tim Liu","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T23:02:21.040+0000","updated":"2012-11-08T23:02:21.040+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13499930","id":"13499930","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"Review board link: https://reviews.apache.org/r/8119/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-18T22:20:59.633+0000","updated":"2012-11-18T22:20:59.633+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500500","id":"13500500","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"The upgrade scripts look good to me. As for HIVE-3712 which is included in this patch, I have started to wonder if it would be better for the metastore DB to store the column stats values (e.g. min/max value, num trues/falses, min/max/avg length, etc) as a JSON text blob. This approach would make the code more portable by eliminating dependencies on specific DBs and will also make it easier to add new fields in the future. The big downside of this approach is that we won't be able to push down column stats filters on these fields, but I'm not convinced that this is a practical use case in the first place.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-19T18:51:00.439+0000","updated":"2012-11-19T18:51:00.439+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500526","id":"13500526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"With the changes from HIVE-3712, the column schema has *no* dependency on any specific db. The column schema, with the changes from HIVE-3712, uses simple data types, which are supported across DBs. The primary motivation for making the change to the schema in HIVE-3712 was to avoid storing column statistics fields as a BLOB. The problem with using a BLOB is a) BLOBs are designed to store large volumes of data in the order of GBs and are hence stored outside the row. A consequence of this design is BLOBs don't perform well for storing small amounts of data. While some DBs such as Oracle inline small BLOBs, all DBs don't. While BLOBs are the only practical choice for storing data whose size is not known in advance, it is an overkill for storing around 100 bytes of data, and b) there is no uniform support across DB vendors and versions. Hence I don't really see the value in storing this as a JSON BLOB.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-19T19:26:38.329+0000","updated":"2012-11-19T19:26:38.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500570","id":"13500570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry for the confusion. When I wrote \"blob\" I was trying to convey only that the field will be opaque to the DB (since it's a JSON struct), not that it will actually be stored in a BLOB column. If we store the JSON struct in a VARCHAR we have at least 4000 bytes to work with.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-19T19:47:51.909+0000","updated":"2012-11-19T19:47:51.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500599","id":"13500599","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"I agree with Carl, making it easier to evolve such that its independent of exact type will be a win. We already have one such use-case with BigDecimal support being added over on HIVE-2693. \n\nAlso, following looks unintentional change.\n{code}\n -- Constraints for table PARTITION_KEYS\n-ALTER TABLE PARTITION_KEYS ADD CONSTRAINT PARTITION_KEYS_FK1 FOREIGN KEY (TBL_ID) REFERENCES TBLS (TBL_ID) INITIALLY DEFERRED ;\n+ALTER TABLE PARTITION_KEYS ADD CONSTRAINT PARTITION_KEYS_FK1 FOREIGN KEY (TBTB_ID) REFERENCES TBLS (TBL_ID) INITIALLY DEFERRED ;\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-19T20:10:27.569+0000","updated":"2012-11-19T20:10:27.569+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500673","id":"13500673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"The problem with storing column statistics as a JSON blob in a varchar is some databases such as Oracle limit the size of varchar to 4000 bytes. While this may seem sufficient, JSON is verbose and the size of the JSON \"blob\" can exceed 4000 bytes, especially if we choose to evolve the statistics later. There is also additional serialization and deserialization cost while writing and reading statistics. Given that the column statistics schema consists of simple data types and is portable across DB vendors and versions, I'd prefer to keep things the way they are.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-19T22:03:29.232+0000","updated":"2012-11-19T22:03:29.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500714","id":"13500714","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. The problem with storing column statistics as a JSON blob in a varchar is some databases such as Oracle limit the size of varchar to 4000 bytes. While this may seem sufficient, JSON is verbose and the size of the JSON \"blob\" can exceed 4000 bytes, especially if we choose to evolve the statistics later.\n\nGiven the stats fields that exist right now, what's the longest JSON blob that we expect to create? Does it come anywhere close to 4000 bytes in length?\n\nbq. There is also additional serialization and deserialization cost while writing and reading statistics.\n\nThis would be an issue if we were worried about filtering stats records based on stats values, but I don't think that's a practical use case.\n\nbq. Given that the column statistics schema consists of simple data types and is portable across DB vendors and versions...\n\nThe goal with this change is to make the schema even more portable by modifying it to depend on fewer datatypes.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-19T23:02:34.277+0000","updated":"2012-11-19T23:02:34.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13500750","id":"13500750","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"Most users use multi byte variable width character set for storing varchar, so the number of characters available to store the JSON \"blob\" is less than 4000 characters and assuming an encoding of 3-4 bytes/character it is ~1000 characters. While 1000 characters may be sufficient today, it would not be as we add more fields to the JSON \"blob\" as a result of adding new types of statistics. When we exceed the 1000 character limit on the JSON blob, it is not clear how we would store the new types of statistics that we gather. While storing the statistics in a JSON \"blob\" may seem to help avoid schema upgrades in the short term (this is not entirely clear to me because I don't know what the max size of the initial JSON blob could be in the worst case, but I'm assuming this for the sake of the argument), it would complicate upgrade when we hit the 1000 character limit. At that point, we will have no easy, simple way to evolve the schema.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-20T00:24:25.921+0000","updated":"2012-11-20T00:24:25.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13501392","id":"13501392","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Shreepadma, \nAny thoughts on how we are going to store low and high values for BigDecimal column? Seems like there are four possibilites:\n* We can add two more column in M*ColumnStatistics table of type BigDecimal: BigDecimalLowValue and BigDecimalHighValue. But is BigDecimal type supported consistently across different DBs?\n* We can have these two columns of type Double, but then we loose precision.\n* We can store as plain strings in column of type varchar.\n* We can store in json format in column of type varchar.\n\nWhat do you think will be the best way?\n\nI imagine there are other numeric types too for which neither of long or double will be a good choice. This question will come up again if we choose to add support for these later.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-20T19:26:27.389+0000","updated":"2012-11-20T19:26:27.389+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13502440","id":"13502440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"@Ashutosh: My answers are inline.\n\nWe can add two more column in M*ColumnStatistics table of type BigDecimal: BigDecimalLowValue and BigDecimalHighValue. But is BigDecimal type supported consistently across different DBs?\nAgreed, BigDecimal is not consistently supported across DBs. Hence we can't add a BigDecimal column consistently across DB vendors and versions easily.\n\nWe can have these two columns of type Double, but then we loose precision.\nYes, we can store BigDecimal and Long as Double but we will lose precision. \n\nWe can store as plain strings in column of type varchar.\nThe maximum number of digits after the decimal point in a BigDecimal number is unlimited for all practical purpose. If we stored it in a varchar, it could result in truncation of some digits following the decimal point in some cases, but this seems to be the only practical solution.\n\nWe can store in json format in column of type varchar.\nThe maximum number of digits in a BigDecimal number after the decimal point is unlimited for all practical purposes (Java allows nearly 2 billion digits after the decimal point). At this time, we collect MIN, MAX column values for numeric columns. If we stored BigDecimal value, we may exceed the varchar size limit and as a result truncate the JSON \"blob\". This would result in a malformed JSON object. Additionally we will also lose some of the column statistics.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-21T23:46:05.582+0000","updated":"2012-11-21T23:46:05.582+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13503420","id":"13503420","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"@Shreepadma, Seems like you are suggesting to store BigDecimal statistics as plain strings in CLOBs. I think its a fair choice. As I am thinking more about choice between one json blob for all stats Vs different column for diff stat, I am inclining towards different columns. Apart from performance argument for (de)serialization, extra code that we have to write to do (de)serialization will present more opportunities to introduce bugs, its always good to avoid writing code unless its useful in substantial ways. \nIn nutshell, I am +1 on the patch as it is. Unless, Carl has some other suggestions, lets go with it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-24T20:01:37.400+0000","updated":"2012-11-24T20:01:37.400+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13503425","id":"13503425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"@Ashutosh: Thanks for your comments. Do you think it makes sense to store numeric long/double/bigdecimal values in a varchar column? I don't see consistent BLOB/CLOB support across DB vendors and versions. If you agree, I'll make the change to store these numeric values in a varchar column and post a new patch. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-24T20:53:47.871+0000","updated":"2012-11-24T20:53:47.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13503438","id":"13503438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Lets stick with long and double for numeric types (as it is at the moment), we shouldn't untype the data unless there is a strong reason for it. For BigDecimal, lets go with varchar column.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-24T23:27:18.226+0000","updated":"2012-11-24T23:27:18.226+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13503531","id":"13503531","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"@Ashutosh: If store long/double types as a varchar instead of storing it as a numeric type, we can avoid evolving the schema when we add a BigDecimal type. That's the only benefit I see for storing long/double as a varchar. However, I agree with you that we should avoid untyping data when possible. Let me know your thoughts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-25T18:57:21.385+0000","updated":"2012-11-25T18:57:21.385+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13503535","id":"13503535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Lets store numeric types with long/double. Can you add varchar column for BigDecimal in the patch. Lets finish the work while we are at it and get it in.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-25T19:18:52.640+0000","updated":"2012-11-25T19:18:52.640+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13504337","id":"13504337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"@Ashutosh: I've uploaded a new patch which adds 2 varchar columns for storing BigDecimal low and high values. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-27T03:13:58.074+0000","updated":"2012-11-27T03:13:58.074+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13504338","id":"13504338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"Updated patch is available on both JIRA and RB. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-27T03:15:24.846+0000","updated":"2012-11-27T03:15:24.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13504416","id":"13504416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 patch looks good, though fails to apply cleanly. Can you update the patch on latest trunk?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-27T07:14:56.264+0000","updated":"2012-11-27T07:14:56.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13504852","id":"13504852","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"Uploaded patch rebased off tip of trunk. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-27T19:16:29.838+0000","updated":"2012-11-27T19:16:29.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13504869","id":"13504869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks, Shreepadma for updating patch. Running tests now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-27T19:39:30.638+0000","updated":"2012-11-27T19:39:30.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13505180","id":"13505180","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to trunk and 0.10 Thanks, Shreepadma!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-28T02:43:02.554+0000","updated":"2012-11-28T02:43:02.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13505430","id":"13505430","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #1822 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1822/])\n    HIVE-3678 : Add metastore upgrade scripts for column stats schema changes (Shreepadma via Ashutosh Chauhan) (Revision 1414509)\n\n     Result = ABORTED\nhashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1414509\nFiles : \n* /hive/trunk/metastore/scripts/upgrade/derby/012-HIVE-1362.derby.sql\n* /hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql\n* /hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql\n* /hive/trunk/metastore/scripts/upgrade/mysql/012-HIVE-1362.mysql.sql\n* /hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql\n* /hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql\n* /hive/trunk/metastore/scripts/upgrade/oracle/012-HIVE-1362.oracle.sql\n* /hive/trunk/metastore/scripts/upgrade/oracle/hive-schema-0.10.0.oracle.sql\n* /hive/trunk/metastore/scripts/upgrade/postgres/012-HIVE-1362.postgres.sql\n* /hive/trunk/metastore/scripts/upgrade/postgres/hive-schema-0.10.0.postgres.sql\n* /hive/trunk/metastore/scripts/upgrade/postgres/upgrade-0.9.0-to-0.10.0.postgres.sql\n* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java\n* /hive/trunk/metastore/src/model/org/apache/hadoop/hive/metastore/model/MPartitionColumnStatistics.java\n* /hive/trunk/metastore/src/model/org/apache/hadoop/hive/metastore/model/MTableColumnStatistics.java\n* /hive/trunk/metastore/src/model/package.jdo\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-11-28T13:02:43.326+0000","updated":"2012-11-28T13:02:43.326+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13548200","id":"13548200","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])\n    HIVE-3678 : Add metastore upgrade scripts for column stats schema changes (Shreepadma via Ashutosh Chauhan) (Revision 1414509)\n\n     Result = ABORTED\nhashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1414509\nFiles : \n* /hive/trunk/metastore/scripts/upgrade/derby/012-HIVE-1362.derby.sql\n* /hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql\n* /hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql\n* /hive/trunk/metastore/scripts/upgrade/mysql/012-HIVE-1362.mysql.sql\n* /hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql\n* /hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql\n* /hive/trunk/metastore/scripts/upgrade/oracle/012-HIVE-1362.oracle.sql\n* /hive/trunk/metastore/scripts/upgrade/oracle/hive-schema-0.10.0.oracle.sql\n* /hive/trunk/metastore/scripts/upgrade/postgres/012-HIVE-1362.postgres.sql\n* /hive/trunk/metastore/scripts/upgrade/postgres/hive-schema-0.10.0.postgres.sql\n* /hive/trunk/metastore/scripts/upgrade/postgres/upgrade-0.9.0-to-0.10.0.postgres.sql\n* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java\n* /hive/trunk/metastore/src/model/org/apache/hadoop/hive/metastore/model/MPartitionColumnStatistics.java\n* /hive/trunk/metastore/src/model/org/apache/hadoop/hive/metastore/model/MTableColumnStatistics.java\n* /hive/trunk/metastore/src/model/package.jdo\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-09T10:24:47.710+0000","updated":"2013-01-09T10:24:47.710+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615045/comment/13550253","id":"13550253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-10T19:53:58.578+0000","updated":"2013-01-10T19:53:58.578+0000"}],"maxResults":27,"total":27,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3678/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0fspr:"}}