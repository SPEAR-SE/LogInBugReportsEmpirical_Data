{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13157010","self":"https://issues.apache.org/jira/rest/api/2/issue/13157010","key":"HIVE-19418","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12343014","id":"12343014","description":"","name":"3.1.0","archived":false,"released":true,"releaseDate":"2018-07-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343343","id":"12343343","name":"4.0.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-05-04T00:57:33.189+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 31 01:33:07 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_966206251_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_1954229650","customfield_12312321":null,"resolutiondate":"2018-06-06T19:41:44.782+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-19418/watchers","watchCount":9,"isWatching":false},"created":"2018-05-04T00:27:48.929+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"10.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12537486","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12537486","type":{"id":"12310560","name":"Problem/Incident","inward":"is caused by","outward":"causes","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310560"},"outwardIssue":{"id":"13169092","key":"HIVE-20034","self":"https://issues.apache.org/jira/rest/api/2/issue/13169092","fields":{"summary":"Roll back MetaStore exception handling changes for backward compatibility","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12533472","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12533472","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13157671","key":"HIVE-19442","self":"https://issues.apache.org/jira/rest/api/2/issue/13157671","fields":{"summary":"convert Hive stats to deltas","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12535949","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12535949","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13164539","key":"HIVE-19820","self":"https://issues.apache.org/jira/rest/api/2/issue/13164539","fields":{"summary":"add ACID stats support to background stats updater and fix bunch of edge cases found in SU tests","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12536858","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12536858","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13108186","key":"HIVE-17751","self":"https://issues.apache.org/jira/rest/api/2/issue/13108186","fields":{"summary":"Separate HMS Client and HMS server into separate sub-modules","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-07-31T01:33:07.311+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12322671","id":"12322671","name":"Transactions","description":"Transaction management and ACID"}],"timeoriginalestimate":null,"description":"There's a JIRA HIVE-19416 to add snapshot version to stats for MM/ACID tables to make them usable in a transaction without breaking ACID (for metadata-only optimization). However, stats for ACID tables can still become unusable if e.g. two parallel inserts run - neither sees the data written by the other, so after both finish, the snapshots on either set of stats won't match the current snapshot and the stats will be unusable.\r\n\r\nAdditionally, for ACID and non-ACID tables alike, a lot of the stats, with some exceptions like numRows, cannot be aggregated (i.e. you cannot combine ndvs from two inserts), and for ACID even less can be aggregated (you cannot derive min/max if some rows are deleted but you don't scan the rest of the dataset).\r\n\r\nTherefore we will add background logic to metastore (similar to, and partially inside, the ACID compactor) to update stats.\r\nIt will have 3 modes of operation.\r\n1) Off.\r\n2) Update only the stats that exist but are out of date (generating stats can be expensive, so if the user is only analyzing a subset of tables it should be able to only update that subset). We can simply look at existing stats and only analyze for the relevant partitions and columns.\r\n3) On: 2 + create stats for all tables and columns missing stats.\r\nThere will also be a table parameter to skip stats update. \r\n\r\nIn phase 1, the process will operate outside of compactor, and run analyze command on the table. The analyze command will automatically save the stats with ACID snapshot information if needed, based on HIVE-19416, so we don't need to do any special state management and this will work for all table types. However it's also more expensive.\r\n\r\nIn phase 2, we can explore adding stats collection during MM compaction that uses a temp table. If we don't have open writers during major compaction (so we overwrite all of the data), the temp table stats can simply be copied over to the main table with correct snapshot information, saving us a table scan.\r\n\r\nIn phase 3, we can add custom stats collection logic to full ACID compactor that is not query based, the same way as we'd do for (2). Alternatively we can wait for ACID compactor to become query based and just reuse (2).\r\n\r\n\r\n\r\n\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12923755","id":"12923755","filename":"HIVE-19418.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-16T19:15:29.392+0000","size":81170,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12923755/HIVE-19418.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12924666","id":"12924666","filename":"HIVE-19418.02.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-23T00:54:59.234+0000","size":81170,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12924666/HIVE-19418.02.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12925235","id":"12925235","filename":"HIVE-19418.03.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-26T01:30:12.206+0000","size":81268,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12925235/HIVE-19418.03.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12925840","id":"12925840","filename":"HIVE-19418.04.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-31T02:35:22.706+0000","size":87038,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12925840/HIVE-19418.04.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12925979","id":"12925979","filename":"HIVE-19418.05.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-31T20:26:45.027+0000","size":87038,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12925979/HIVE-19418.05.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12926175","id":"12926175","filename":"HIVE-19418.06.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-01T21:17:55.005+0000","size":88246,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12926175/HIVE-19418.06.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12926169","id":"12926169","filename":"HIVE-19418.06.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-01T21:02:51.524+0000","size":88246,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12926169/HIVE-19418.06.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12926621","id":"12926621","filename":"HIVE-19418.07.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-05T19:20:25.604+0000","size":88246,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12926621/HIVE-19418.07.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12926449","id":"12926449","filename":"HIVE-19418.07.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-04T20:59:54.694+0000","size":88246,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12926449/HIVE-19418.07.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12923411","id":"12923411","filename":"HIVE-19418.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-15T04:51:09.100+0000","size":81170,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12923411/HIVE-19418.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"add background stats updater similar to compactor","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16463241","id":"16463241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"cc [~steveyeom2017] [~ekoifman] [~ashutoshc]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-04T00:30:10.181+0000","updated":"2018-05-04T00:30:10.181+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16463257","id":"16463257","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gopalv","name":"gopalv","key":"gopalv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gopal V","active":true,"timeZone":"Asia/Kolkata"},"body":"bq. some exceptions like numRows, cannot be aggregated (i.e. you cannot combine ndvs from two inserts)\r\n\r\nFor pure insert queries all stats can be merged - because nDVs are actually stored as HyperLogLog bitsets which have a merge() op.\r\n\r\nbq. herefore we will add background logic to metastore (similar to, and partially inside, the ACID compactor)\r\n\r\nWith standalone-metastore, adding more background logic to the metastore is going to become a big problem - I'd argue that even the compactor need to be moved out & the metastore can only keep the book-keeping for pending tasks (a generic task queue + priorities) because it will no longer have a yarn-site.xml in its configurations.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gopalv","name":"gopalv","key":"gopalv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gopal V","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-05-04T00:57:33.189+0000","updated":"2018-05-04T00:57:33.189+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16464272","id":"16464272","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"HyperLogLog is not precise; ndv is used for count distinct queries, that cannot be merged.\r\nW.r.t. background logic yeah, [~alangates] had some plans for compactor, we'd have to do the same for this one. I'm assuming we'll move them into HS2, however for load balanced case there'd need to be a primary hosting them.\r\n\r\nThere's also phase 4 btw - where all the updates write increments, instead of total stats, to metastore... then, we can get stats state with one DB query, and also \"compact\" stats.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-04T18:58:42.332+0000","updated":"2018-05-04T18:58:42.332+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16466290","id":"16466290","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":" HIVE-19442 for phase 4","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-07T18:36:20.964+0000","updated":"2018-05-07T18:36:20.964+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16475284","id":"16475284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"This should eventually integrate with ACID stats to determine what stats are out of date, when that is done. Probably in separate jira if this goes in first.\r\n[~ashutoshc] can you review? This is metastore/stats related mostly for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-15T04:56:50.041+0000","updated":"2018-05-15T04:56:50.041+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16478268","id":"16478268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12923755/HIVE-19418.01.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11002/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11002/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11002/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hiveptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ date '+%Y-%m-%d %T.%3N'\n2018-05-17 00:09:36.953\n+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]\n+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'MAVEN_OPTS=-Xmx1g '\n+ MAVEN_OPTS='-Xmx1g '\n+ cd /data/hiveptest/working/\n+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-11002/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ git = \\s\\v\\n ]]\n+ [[ git = \\g\\i\\t ]]\n+ [[ -z master ]]\n+ [[ -d apache-github-source-source ]]\n+ [[ ! -d apache-github-source-source/.git ]]\n+ [[ ! -d apache-github-source-source ]]\n+ date '+%Y-%m-%d %T.%3N'\n2018-05-17 00:09:36.956\n+ cd apache-github-source-source\n+ git fetch origin\n+ git reset --hard HEAD\nHEAD is now at b329afa HIVE-19572: Add option to mask stats and data size in q files (Jesus Camacho Rodriguez, reviewed by Prasanth Jayachandran) (addendum)\n+ git clean -f -d\nRemoving ${project.basedir}/\n+ git checkout master\nAlready on 'master'\nYour branch is up-to-date with 'origin/master'.\n+ git reset --hard origin/master\nHEAD is now at b329afa HIVE-19572: Add option to mask stats and data size in q files (Jesus Camacho Rodriguez, reviewed by Prasanth Jayachandran) (addendum)\n+ git merge --ff-only origin/master\nAlready up-to-date.\n+ date '+%Y-%m-%d %T.%3N'\n2018-05-17 00:09:38.075\n+ rm -rf ../yetus_PreCommit-HIVE-Build-11002\n+ mkdir ../yetus_PreCommit-HIVE-Build-11002\n+ git gc\n+ cp -R . ../yetus_PreCommit-HIVE-Build-11002\n+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-11002/yetus\n+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hiveptest/working/scratch/build.patch\n+ [[ -f /data/hiveptest/working/scratch/build.patch ]]\n+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh\n+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch\nGoing to apply patch with: git apply -p0\n/data/hiveptest/working/scratch/build.patch:471: trailing whitespace.\n \n/data/hiveptest/working/scratch/build.patch:1481: trailing whitespace.\n \nwarning: 2 lines add whitespace errors.\n+ [[ maven == \\m\\a\\v\\e\\n ]]\n+ rm -rf /data/hiveptest/working/maven/org/apache/hive\n+ mvn -B clean install -DskipTests -T 4 -q -Dmaven.repo.local=/data/hiveptest/working/maven\nprotoc-jar: executing: [/tmp/protoc8726333768938589461.exe, --version]\nprotoc-jar: executing: [/tmp/protoc8726333768938589461.exe, -I/data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore, --java_out=/data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources, /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore/metastore.proto]\nlibprotoc 2.5.0\nANTLR Parser Generator  Version 3.5.2\nOutput file /data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources/org/apache/hadoop/hive/metastore/parser/FilterParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/parser/Filter.g\norg/apache/hadoop/hive/metastore/parser/Filter.g\nlog4j:WARN No appenders could be found for logger (DataNucleus.Persistence).\nlog4j:WARN Please initialize the log4j system properly.\nDataNucleus Enhancer (version 4.1.17) for API \"JDO\"\nDataNucleus Enhancer completed with success for 40 classes.\nANTLR Parser Generator  Version 3.5.2\nOutput file /data/hiveptest/working/apache-github-source-source/ql/target/generated-sources/antlr3/org/apache/hadoop/hive/ql/parse/HiveLexer.java does not exist: must build /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g\norg/apache/hadoop/hive/ql/parse/HiveLexer.g\nOutput file /data/hiveptest/working/apache-github-source-source/ql/target/generated-sources/antlr3/org/apache/hadoop/hive/ql/parse/HiveParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g\norg/apache/hadoop/hive/ql/parse/HiveParser.g\nwarning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: \nDecision can match input such as \"KW_CHECK {KW_EXISTS, KW_TINYINT}\" using multiple alternatives: 1, 2\n\nAs a result, alternative(s) 2 were disabled for that input\nwarning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: \nDecision can match input such as \"KW_CHECK KW_DATETIME\" using multiple alternatives: 1, 2\n\nAs a result, alternative(s) 2 were disabled for that input\nwarning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: \nDecision can match input such as \"KW_CHECK KW_DATE {LPAREN, StringLiteral}\" using multiple alternatives: 1, 2\n\nAs a result, alternative(s) 2 were disabled for that input\nwarning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: \nDecision can match input such as \"KW_CHECK KW_STRUCT LESSTHAN\" using multiple alternatives: 1, 2\n\nAs a result, alternative(s) 2 were disabled for that input\nwarning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: \nDecision can match input such as \"KW_CHECK KW_UNIONTYPE LESSTHAN\" using multiple alternatives: 1, 2\n\nAs a result, alternative(s) 2 were disabled for that input\nOutput file /data/hiveptest/working/apache-github-source-source/ql/target/generated-sources/antlr3/org/apache/hadoop/hive/ql/parse/HintParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/parse/HintParser.g\norg/apache/hadoop/hive/ql/parse/HintParser.g\nGenerating vector expression code\nGenerating vector expression test code\nProcessing annotations\nAnnotations processed\nProcessing annotations\nNo elements to process\nProcessing annotations\nAnnotations processed\nProcessing annotations\nNo elements to process\n[ERROR] Failed to execute goal on project hive-llap-server: Could not resolve dependencies for project org.apache.hive:hive-llap-server:jar:3.1.0-SNAPSHOT: Failed to collect dependencies for [org.apache.hive:hive-exec:jar:3.1.0-SNAPSHOT (compile), org.apache.hive:hive-common:jar:3.1.0-SNAPSHOT (compile), org.apache.hive:hive-llap-common:jar:3.1.0-SNAPSHOT (compile), org.apache.hive:hive-llap-client:jar:3.1.0-SNAPSHOT (compile), org.apache.hive:hive-llap-tez:jar:3.1.0-SNAPSHOT (compile), org.apache.hive:hive-shims:jar:3.1.0-SNAPSHOT (compile), org.apache.hive:hive-serde:jar:3.1.0-SNAPSHOT (compile), commons-codec:commons-codec:jar:1.7 (compile), commons-lang:commons-lang:jar:2.6 (compile), io.netty:netty-all:jar:4.1.17.Final (compile), io.netty:netty:jar:3.10.5.Final (compile), org.apache.avro:avro:jar:1.7.7 (compile), org.apache.thrift:libthrift:jar:0.9.3 (compile), com.tdunning:json:jar:1.8 (compile), org.apache.hadoop:hadoop-common:jar:3.1.0 (compile?), org.apache.hadoop:hadoop-yarn-services-core:jar:3.1.0 (compile?), org.apache.hadoop:hadoop-mapreduce-client-core:jar:3.1.0 (compile?), org.apache.orc:orc-core:jar:1.4.3 (compile), org.apache.tez:tez-runtime-internals:jar:0.9.1 (compile?), org.apache.tez:tez-runtime-library:jar:0.9.1 (compile?), org.codehaus.jettison:jettison:jar:1.1 (compile), org.eclipse.jetty:jetty-server:jar:9.3.8.v20160314 (compile), org.eclipse.jetty:jetty-util:jar:9.3.8.v20160314 (compile), org.apache.hive:hive-standalone-metastore:jar:tests:3.1.0-SNAPSHOT (test), org.apache.hadoop:hadoop-common:jar:tests:3.1.0 (test), org.apache.hadoop:hadoop-hdfs:jar:3.1.0 (test), org.apache.hive:hive-llap-common:jar:tests:3.1.0-SNAPSHOT (compile), org.apache.hadoop:hadoop-hdfs:jar:tests:3.1.0 (test), junit:junit:jar:4.11 (test), org.mockito:mockito-all:jar:1.10.19 (test), com.sun.jersey:jersey-servlet:jar:1.19 (test), org.apache.hbase:hbase-hadoop2-compat:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-client:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-server:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-mapreduce:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-common:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-hadoop-compat:jar:2.0.0-alpha4 (compile), org.slf4j:slf4j-api:jar:1.7.10 (compile)]: Failed to read artifact descriptor for org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Could not transfer artifact org.glassfish:javax.el:pom:3.0.1-b06-SNAPSHOT from/to jvnet-nexus-snapshots (https://maven.java.net/content/repositories/snapshots): Failed to transfer file: https://maven.java.net/content/repositories/snapshots/org/glassfish/javax.el/3.0.1-b06-SNAPSHOT/javax.el-3.0.1-b06-SNAPSHOT.pom. Return code is: 402 , ReasonPhrase:Payment Required. -> [Help 1]\n[ERROR] Failed to execute goal on project hive-hbase-handler: Could not resolve dependencies for project org.apache.hive:hive-hbase-handler:jar:3.1.0-SNAPSHOT: Failed to collect dependencies for [org.apache.hive:hive-exec:jar:3.1.0-SNAPSHOT (compile), commons-lang:commons-lang:jar:2.6 (compile), org.apache.hadoop:hadoop-common:jar:3.1.0 (compile?), org.apache.hadoop:hadoop-mapreduce-client-core:jar:3.1.0 (compile?), org.apache.hbase:hbase-hadoop2-compat:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-client:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-server:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-mapreduce:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-common:jar:2.0.0-alpha4 (compile), org.apache.hbase:hbase-hadoop-compat:jar:2.0.0-alpha4 (compile), org.apache.hadoop:hadoop-hdfs:jar:tests:3.1.0 (test), org.apache.hbase:hbase-hadoop2-compat:jar:tests:2.0.0-alpha4 (compile), org.apache.hbase:hbase-common:jar:tests:2.0.0-alpha4 (test), org.apache.hbase:hbase-server:jar:tests:2.0.0-alpha4 (test), org.apache.hbase:hbase-mapreduce:jar:tests:2.0.0-alpha4 (test), org.apache.hbase:hbase-hadoop-compat:jar:tests:2.0.0-alpha4 (test), org.eclipse.jetty:jetty-runner:jar:9.3.8.v20160314 (test), com.sun.jersey:jersey-servlet:jar:1.19 (test), org.apache.hadoop:hadoop-common:jar:tests:3.1.0 (test), junit:junit:jar:4.11 (test), org.apache.avro:avro:jar:1.7.6 (compile), org.slf4j:slf4j-api:jar:1.7.10 (compile), org.mockito:mockito-all:jar:1.10.19 (test)]: Failed to read artifact descriptor for org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Could not transfer artifact org.glassfish:javax.el:pom:3.0.1-b06-SNAPSHOT from/to jvnet-nexus-snapshots (https://maven.java.net/content/repositories/snapshots): Failed to transfer file: https://maven.java.net/content/repositories/snapshots/org/glassfish/javax.el/3.0.1-b06-SNAPSHOT/javax.el-3.0.1-b06-SNAPSHOT.pom. Return code is: 402 , ReasonPhrase:Payment Required. -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <goals> -rf :hive-llap-server\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12923755 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-17T00:12:21.742+0000","updated":"2018-05-17T00:12:21.742+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16478684","id":"16478684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 39s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 41s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m  4s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m 16s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 49s{color} | {color:blue} ql in master has 2320 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 52s{color} | {color:blue} standalone-metastore in master has 215 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 15s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 18s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 28s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m  0s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  2m  0s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 10s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 38s{color} | {color:red} ql: The patch generated 31 new + 119 unchanged - 0 fixed = 150 total (was 119) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 27s{color} | {color:red} standalone-metastore: The patch generated 11 new + 1407 unchanged - 0 fixed = 1418 total (was 1407) {color} |\r\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 2 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m  5s{color} | {color:red} ql generated 4 new + 2320 unchanged - 0 fixed = 2324 total (was 2320) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m  5s{color} | {color:red} standalone-metastore generated 2 new + 214 unchanged - 1 fixed = 216 total (was 215) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 26s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 35m  7s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(String)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(String)  At StatsUpdaterThread.java:[line 226] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 506] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 654] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 407] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$14.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8235] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1619] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11021/dev-support/hive-personality.sh |\r\n| git revision | master / b329afa |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/whitespace-eol.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus/new-findbugs-standalone-metastore.html |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11021/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-17T07:46:40.146+0000","updated":"2018-05-17T07:46:40.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16478717","id":"16478717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12923843/HIVE-19418.02.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 6 failed/errored test(s), 14416 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_stats] (batchId=159)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Embedded] (batchId=209)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Remote] (batchId=209)\norg.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema.testMapWithComplexData[5] (batchId=196)\norg.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteDate2 (batchId=196)\norg.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteTinyint (batchId=196)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11021/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11021/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11021/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 6 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12923843 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-17T08:13:47.403+0000","updated":"2018-05-17T08:13:47.403+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16479621","id":"16479621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Test failures looks bogus. Given the state of HiveQA it makes no sense to rerun for now, I'm assuming there will anyway be some changes based on the review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-17T20:00:38.492+0000","updated":"2018-05-17T20:00:38.492+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16486532","id":"16486532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Rebased the patch (no conflicts, just some offset changes) to run HiveQA again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-23T00:55:27.337+0000","updated":"2018-05-23T00:55:27.337+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16488802","id":"16488802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  1s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 37s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 49s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m  0s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m 16s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 51s{color} | {color:blue} ql in master has 2322 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 52s{color} | {color:blue} standalone-metastore in master has 216 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 13s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 31s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m  4s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  2m  4s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 39s{color} | {color:red} ql: The patch generated 31 new + 120 unchanged - 0 fixed = 151 total (was 120) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 27s{color} | {color:red} standalone-metastore: The patch generated 11 new + 1407 unchanged - 0 fixed = 1418 total (was 1407) {color} |\r\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 2 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m  5s{color} | {color:red} ql generated 4 new + 2322 unchanged - 0 fixed = 2326 total (was 2322) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m  5s{color} | {color:red} standalone-metastore generated 2 new + 215 unchanged - 1 fixed = 217 total (was 216) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 23s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 35m 21s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(String)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(String)  At StatsUpdaterThread.java:[line 226] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 506] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 654] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 407] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$14.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8235] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1619] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11179/dev-support/hive-personality.sh |\r\n| git revision | master / 29e4f3b |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/whitespace-eol.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus/new-findbugs-standalone-metastore.html |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11179/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-24T11:07:15.685+0000","updated":"2018-05-24T11:07:15.685+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16488825","id":"16488825","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12924666/HIVE-19418.02.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 14388 tests executed\n*Failed tests:*\n{noformat}\nTestJdbcNonKrbSASLWithMiniKdc - did not produce a TEST-*.xml file (likely timed out) (batchId=255)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Embedded] (batchId=210)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Remote] (batchId=210)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11179/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11179/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11179/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 3 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12924666 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-24T11:34:46.895+0000","updated":"2018-05-24T11:34:46.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16491451","id":"16491451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Rebased and updated the patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-26T01:31:28.116+0000","updated":"2018-05-26T01:31:28.116+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16492668","id":"16492668","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 23s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 12s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 50s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m 12s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 29s{color} | {color:blue} ql in master has 2324 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 47s{color} | {color:blue} standalone-metastore in master has 216 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 49s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 29s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 56s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m 56s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m  9s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 35s{color} | {color:red} ql: The patch generated 32 new + 120 unchanged - 0 fixed = 152 total (was 120) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 27s{color} | {color:red} standalone-metastore: The patch generated 10 new + 1408 unchanged - 0 fixed = 1418 total (was 1408) {color} |\r\n| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 2 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 47s{color} | {color:red} ql generated 4 new + 2324 unchanged - 0 fixed = 2328 total (was 2324) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  2m 49s{color} | {color:red} standalone-metastore generated 2 new + 215 unchanged - 1 fixed = 217 total (was 216) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 51s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 11s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 31m 46s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(String)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(String)  At StatsUpdaterThread.java:[line 223] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 503] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 651] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 404] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$15.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8251] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1619] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11297/dev-support/hive-personality.sh |\r\n| git revision | master / 43945fb |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/whitespace-eol.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus/new-findbugs-standalone-metastore.html |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11297/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-28T13:23:38.737+0000","updated":"2018-05-28T13:23:38.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16492700","id":"16492700","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12925235/HIVE-19418.03.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 14416 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Embedded] (batchId=210)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Remote] (batchId=210)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11297/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11297/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11297/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12925235 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-05-28T13:54:50.638+0000","updated":"2018-05-28T13:54:50.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16496000","id":"16496000","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Removed string concatenation","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-31T02:35:39.909+0000","updated":"2018-05-31T02:35:39.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16496690","id":"16496690","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-31T15:10:18.132+0000","updated":"2018-05-31T15:10:18.132+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16498136","id":"16498136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 38s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 46s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 54s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m 11s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 36s{color} | {color:blue} ql in master has 2278 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 54s{color} | {color:blue} standalone-metastore in master has 214 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 55s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 31s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 56s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m 56s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 10s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 36s{color} | {color:red} ql: The patch generated 32 new + 120 unchanged - 0 fixed = 152 total (was 120) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 29s{color} | {color:red} standalone-metastore: The patch generated 16 new + 1453 unchanged - 0 fixed = 1469 total (was 1453) {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 52s{color} | {color:red} ql generated 4 new + 2278 unchanged - 0 fixed = 2282 total (was 2278) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  2m 57s{color} | {color:red} standalone-metastore generated 2 new + 213 unchanged - 1 fixed = 215 total (was 214) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 54s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 33m 26s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:[line 221] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 501] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 642] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 402] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$15.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8408] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1628] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11414/dev-support/hive-personality.sh |\r\n| git revision | master / 28779d2 |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus/new-findbugs-standalone-metastore.html |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11414/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-01T15:33:25.803+0000","updated":"2018-06-01T15:33:25.803+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16498165","id":"16498165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12925979/HIVE-19418.05.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 14453 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testAlterTableNullDatabaseInNew[Embedded] (batchId=211)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testAlterTableNullDatabaseInNew[Remote] (batchId=211)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Embedded] (batchId=211)\norg.apache.hadoop.hive.metastore.client.TestTablesCreateDropAlterTruncate.testCreateTableNullDatabase[Remote] (batchId=211)\norg.apache.hive.jdbc.TestJdbcWithMiniLlapArrow.testDataTypes (batchId=242)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11414/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11414/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11414/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 5 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12925979 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-01T16:03:34.838+0000","updated":"2018-06-01T16:03:34.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16498571","id":"16498571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Updated the test, extra null checks in the helper caused some exception types to change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-01T21:03:10.441+0000","updated":"2018-06-01T21:03:10.441+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16499116","id":"16499116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 29s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 13s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 48s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m 11s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 26s{color} | {color:blue} ql in master has 2278 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 35s{color} | {color:blue} standalone-metastore in master has 214 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 49s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 28s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 45s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m 45s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m  9s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 35s{color} | {color:red} ql: The patch generated 32 new + 120 unchanged - 0 fixed = 152 total (was 120) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 27s{color} | {color:red} standalone-metastore: The patch generated 16 new + 1470 unchanged - 0 fixed = 1486 total (was 1470) {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 41s{color} | {color:red} ql generated 4 new + 2278 unchanged - 0 fixed = 2282 total (was 2278) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  2m 52s{color} | {color:red} standalone-metastore generated 2 new + 213 unchanged - 1 fixed = 215 total (was 214) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 51s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 11s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 31m 26s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:[line 221] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 501] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 642] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 402] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$15.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8408] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1628] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11444/dev-support/hive-personality.sh |\r\n| git revision | master / 4463c2b |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus/new-findbugs-standalone-metastore.html |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11444/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-02T16:10:31.581+0000","updated":"2018-06-02T16:10:31.581+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16499119","id":"16499119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12926175/HIVE-19418.06.patch\n\n{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 14446 tests executed\n*Failed tests:*\n{noformat}\nTestActivePassiveHA - did not produce a TEST-*.xml file (likely timed out) (batchId=242)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11444/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11444/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11444/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12926175 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-02T16:39:39.471+0000","updated":"2018-06-02T16:39:39.471+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16499470","id":"16499470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12926175/HIVE-19418.06.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11477/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11477/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11477/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nTests exited with: Exception: Patch URL https://issues.apache.org/jira/secure/attachment/12926175/HIVE-19418.06.patch was found in seen patch url's cache and a test was probably run already on it. Aborting...\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12926175 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-03T16:23:46.999+0000","updated":"2018-06-03T16:23:46.999+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16500844","id":"16500844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Cannot repro this after a few runs and the logs are gone. Trying again...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-04T21:00:31.446+0000","updated":"2018-06-04T21:00:31.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16502238","id":"16502238","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 25s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  5m 35s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 48s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m  9s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 22s{color} | {color:blue} ql in master has 2280 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 37s{color} | {color:blue} standalone-metastore in master has 214 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 48s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 27s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 48s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m 48s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m  9s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 33s{color} | {color:red} ql: The patch generated 32 new + 120 unchanged - 0 fixed = 152 total (was 120) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 27s{color} | {color:red} standalone-metastore: The patch generated 16 new + 1470 unchanged - 0 fixed = 1486 total (was 1470) {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 39s{color} | {color:red} ql generated 4 new + 2280 unchanged - 0 fixed = 2284 total (was 2280) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  2m 42s{color} | {color:red} standalone-metastore generated 2 new + 213 unchanged - 1 fixed = 215 total (was 214) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 47s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 11s{color} | {color:red} The patch generated 2 ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 30m 17s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:[line 221] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 501] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 642] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 402] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$15.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8408] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1628] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11529/dev-support/hive-personality.sh |\r\n| git revision | master / 98982e6 |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/new-findbugs-standalone-metastore.html |\r\n| asflicense | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus/patch-asflicense-problems.txt |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11529/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-05T18:20:41.483+0000","updated":"2018-06-05T18:20:41.483+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16502295","id":"16502295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12926449/HIVE-19418.07.patch\n\n{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 14475 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitions (batchId=241)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitionsMultiInsert (batchId=241)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomCreatedDynamicPartitionsUnionAll (batchId=241)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerCustomNonExistent (batchId=241)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerHighBytesRead (batchId=241)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerHighShuffleBytes (batchId=241)\norg.apache.hive.jdbc.TestTriggersWorkloadManager.testTriggerVertexRawInputSplitsNoKill (batchId=241)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11529/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11529/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11529/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 7 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12926449 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-05T18:49:56.878+0000","updated":"2018-06-05T18:49:56.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16503531","id":"16503531","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 31s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 20s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 47s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m  8s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 27s{color} | {color:blue} ql in master has 2280 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 32s{color} | {color:blue} standalone-metastore in master has 214 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 45s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} hcatalog-unit in the patch failed. {color} |\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 26s{color} | {color:red} ql in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m 47s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m 47s{color} | {color:green} the patch passed {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m  9s{color} | {color:red} itests/hcatalog-unit: The patch generated 1 new + 27 unchanged - 0 fixed = 28 total (was 27) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 33s{color} | {color:red} ql: The patch generated 32 new + 120 unchanged - 0 fixed = 152 total (was 120) {color} |\r\n| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 25s{color} | {color:red} standalone-metastore: The patch generated 16 new + 1470 unchanged - 0 fixed = 1486 total (was 1470) {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 34s{color} | {color:red} ql generated 4 new + 2280 unchanged - 0 fixed = 2284 total (was 2280) {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  2m 51s{color} | {color:red} standalone-metastore generated 2 new + 213 unchanged - 1 fixed = 215 total (was 214) {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 50s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 11s{color} | {color:red} The patch generated 2 ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 31m  7s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| FindBugs | module:ql |\r\n|  |  Dead store to writeIds in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.processOneTable(MetaStoreUtils$FullTableName)  At StatsUpdaterThread.java:[line 221] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.markAnalyzeDone(StatsUpdaterThread$AnalyzeWork)  At StatsUpdaterThread.java:[line 501] |\r\n|  |  Synchronization performed on java.util.concurrent.atomic.AtomicInteger in org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.waitForQueuedCommands()  At StatsUpdaterThread.java:[line 642] |\r\n|  |  org.apache.hadoop.hive.ql.stats.StatsUpdaterThread.buildPartColStr(Table) concatenates strings using + in a loop  At StatsUpdaterThread.java:in a loop  At StatsUpdaterThread.java:[line 402] |\r\n| FindBugs | module:standalone-metastore |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$15.run(List) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 8408] |\r\n|  |  org.apache.hadoop.hive.metastore.ObjectStore$4.getJdoResult(ObjectStore$GetHelper) concatenates strings using + in a loop  At ObjectStore.java:in a loop  At ObjectStore.java:[line 1628] |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11562/dev-support/hive-personality.sh |\r\n| git revision | master / 0992d82 |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/patch-mvninstall-itests_hcatalog-unit.txt |\r\n| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/patch-mvninstall-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/diff-checkstyle-itests_hcatalog-unit.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/diff-checkstyle-ql.txt |\r\n| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/diff-checkstyle-standalone-metastore.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/new-findbugs-ql.html |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/new-findbugs-standalone-metastore.html |\r\n| asflicense | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus/patch-asflicense-problems.txt |\r\n| modules | C: itests/hcatalog-unit ql standalone-metastore U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11562/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-06T16:19:51.600+0000","updated":"2018-06-06T16:19:51.600+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16503568","id":"16503568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12926621/HIVE-19418.07.patch\n\n{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.\n\n{color:green}SUCCESS:{color} +1 due to 14476 tests passed\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/11562/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/11562/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11562/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12926621 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-06-06T16:49:49.312+0000","updated":"2018-06-06T16:49:49.312+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16503804","id":"16503804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to branches. Thanks for the review!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-06T19:41:44.815+0000","updated":"2018-06-06T19:41:44.815+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16504359","id":"16504359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"body":"org.apache.hadoop.hive.ql.stats.TestStatsUpdaterThread have failed ; but I was not able to reproduce it (run it >3 times)\r\nHIVE-19237 ; https://builds.apache.org/job/PreCommit-HIVE-Build/11575/testReport/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"created":"2018-06-07T07:53:03.056+0000","updated":"2018-06-07T07:53:03.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16505084","id":"16505084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like it was making progress when it died, the metastore was just slow.\r\nI'll increase timeouts in addendum patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-07T18:54:21.134+0000","updated":"2018-06-07T18:54:21.134+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16509120","id":"16509120","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgarg","name":"vgarg","key":"vgarg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vgarg&avatarId=30430","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vgarg&avatarId=30430","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vgarg&avatarId=30430","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vgarg&avatarId=30430"},"displayName":"Vineet Garg","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sershe] This patch in branch-3 is causing following failures (I have confirmed it using git bisect)\r\n* org.apache.hadoop.hive.metastore.client.TestFunctions.testCreateFunctionNullDatabaseName[Embedded]\r\n* org.apache.hadoop.hive.metastore.client.TestFunctions.testCreateFunctionNullDatabaseName[Remote]\r\n\r\nCan you please fix these tests or revert your patch from branch-3? I don't understand why this was pushed to branch-3 without a test run.\r\n\r\nRef: https://builds.apache.org/job/PreCommit-HIVE-Build/11694/testReport/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgarg","name":"vgarg","key":"vgarg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vgarg&avatarId=30430","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vgarg&avatarId=30430","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vgarg&avatarId=30430","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vgarg&avatarId=30430"},"displayName":"Vineet Garg","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-12T03:21:52.564+0000","updated":"2018-06-12T03:21:52.564+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16509188","id":"16509188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alishap","name":"alishap","key":"alishap","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alisha Prabhu","active":true,"timeZone":"Etc/UTC"},"body":"Hi [~sershe], [~kgyrtkirk] , \r\nI am able to reproduce the failure for TestStatsUpdaterThread on our local environment(x86, ppc64le). The said test case has passed after increasing the timeout.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alishap","name":"alishap","key":"alishap","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alisha Prabhu","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-12T04:54:57.611+0000","updated":"2018-06-12T08:55:41.149+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16510038","id":"16510038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Let me fix in an addendum commit on branch-3.\r\nWe've increased timeouts for TestStatsUpdaterThread, however it may be that for one of the tests the timeout needs to be increased further.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-12T19:00:10.522+0000","updated":"2018-06-12T19:00:10.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16510136","id":"16510136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-12T20:11:53.850+0000","updated":"2018-06-12T20:11:53.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16521996","id":"16521996","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvary","name":"pvary","key":"pvary","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Vary","active":true,"timeZone":"Europe/Budapest"},"body":"Hi [~sershe],\r\nI see that this patch changed the Exception thrown by {{HiveMetaStoreClient.alter_table}} and {{HiveMetaStoreClient.createTable}} from {{MetaException}} to {{InvalidOperationException}}. Is this an intentional change? I am asking because on the dev list there was a discussion about cleaning up the exception handling of the MetaStore thrift interface, but we finally decided against it so we can keep backward compatibility. Do we have different plans for 4.0.0?\r\nThanks,\r\nPeter","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvary","name":"pvary","key":"pvary","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Vary","active":true,"timeZone":"Europe/Budapest"},"created":"2018-06-25T08:18:12.233+0000","updated":"2018-06-25T08:18:12.233+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16526097","id":"16526097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvary","name":"pvary","key":"pvary","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Vary","active":true,"timeZone":"Europe/Budapest"},"body":"[~sershe], [~alangates]: As per our discussion on hive-dev list (See:[Apache dev list archive|http://mail-archives.apache.org/mod_mbox/hive-dev/201712.mbox/%3CCDF09DF1-746E-4A4F-8644-8B441F386937%40cloudera.com%3E]), I think the consensus was that we would like to keep the original exceptions for the MetaStore Thrift API.\r\n\r\nShall I create a new patch whichreverts back the part of this change where in{{HiveMetaStoreClient.createTable}}we started to throw{{InvalidOperationException}}instead of the original {{MetaException}}. Or we see enough reasons to reopen the discussion?\r\n Thanks,\r\n Peter","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvary","name":"pvary","key":"pvary","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Vary","active":true,"timeZone":"Europe/Budapest"},"created":"2018-06-28T08:35:10.012+0000","updated":"2018-06-28T08:35:10.012+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16526553","id":"16526553","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"body":"I prefer to keep the exceptions the same for backwards compatibility, so I'd be in favor of changing it back.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-28T17:05:36.160+0000","updated":"2018-06-28T17:05:36.160+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16526670","id":"16526670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Sure, works for me. I feel these calls (with nulls, etc) are silly enough that noone should be intentionally handling exceptions for them, so it can throw anything.\r\nPlease don't revert the functionality of this patch though...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-06-28T18:46:22.616+0000","updated":"2018-06-28T18:46:22.616+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16527294","id":"16527294","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvary","name":"pvary","key":"pvary","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Vary","active":true,"timeZone":"Europe/Budapest"},"body":"[~sershe]: But of course. Reverting the whole change was never my intention :). In Hungary we say: Do not throw out the baby with the bathwater :)\r\n\r\nFiled:HIVE-20034","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pvary","name":"pvary","key":"pvary","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Vary","active":true,"timeZone":"Europe/Budapest"},"created":"2018-06-29T07:47:45.274+0000","updated":"2018-06-29T07:47:45.274+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157010/comment/16562845","id":"16562845","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgarg","name":"vgarg","key":"vgarg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vgarg&avatarId=30430","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vgarg&avatarId=30430","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vgarg&avatarId=30430","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vgarg&avatarId=30430"},"displayName":"Vineet Garg","active":true,"timeZone":"America/Los_Angeles"},"body":"This is released in Hive 3.1.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgarg","name":"vgarg","key":"vgarg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vgarg&avatarId=30430","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vgarg&avatarId=30430","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vgarg&avatarId=30430","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vgarg&avatarId=30430"},"displayName":"Vineet Garg","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-31T01:33:07.305+0000","updated":"2018-07-31T01:33:07.305+0000"}],"maxResults":41,"total":41,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-19418/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3tbt3:"}}