{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13151566","self":"https://issues.apache.org/jira/rest/api/2/issue/13151566","key":"HIVE-19169","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2018-04-18T18:49:12.064+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Apr 18 18:49:12 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-19169/watchers","watchCount":2,"isWatching":false},"created":"2018-04-11T06:56:44.931+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-04-18T18:49:12.064+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12328311","id":"12328311","name":"llap"}],"timeoriginalestimate":null,"description":"a more or less recent hive/master with tpcds1000; while running only 1 query at a time on the cluster; sometimes a \"timeout\" happens - this could be even a misconfiguration problem...I'm not sure I've set it up correctly.\r\n\r\nwhat I see from: it seems like the attempt have entered the queue and accepted - after almost 90 seconds there are messages that it will be pre-empted - and the 90 sec timeout happens.\r\n\r\nhive.log; example: attempt_1522319554594_0065_19_05_000119_14 failed\r\n{code}\r\n2018-04-10T13:20:25,178 ERROR [HiveServer2-Background-Pool: Thread-4194]: SessionState (SessionState.java:printError(1214)) - Vertex failed, vertexName=Reducer 3, vertexId=vertex_1522319554594_0065_19_05, diagnostics=[Task failed, taskId=task_1522319554594_0065_19_05_000119, diagnostics=[TaskAttempt 0 killed, TaskAttempt 1 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_1 Timed out after 90 secs], TaskAttempt 2 killed, TaskAttempt 3 killed, TaskAttempt 4 killed, TaskAttempt 5 killed, TaskAttempt 6 killed, TaskAttempt 7 killed, TaskAttempt 8 killed, TaskAttempt 9 killed, TaskAttempt 10 killed, TaskAttempt 11 killed, TaskAttempt 12 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_12 Timed out after 90 secs], TaskAttempt 13 killed, TaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs], TaskAttempt 15 failed, info=[org.apache.hadoop.ipc.RemoteException(java.lang.RuntimeException): attempt_1522319554594_0065_19_08_000018_6 was not registered and couldn't be removed\r\n2018-04-10T13:20:25,260 ERROR [HiveServer2-Background-Pool: Thread-4194]: ql.Driver (SessionState.java:printError(1214)) - FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.tez.TezTask. Vertex failed, vertexName=Reducer 3, vertexId=vertex_1522319554594_0065_19_05, diagnostics=[Task failed, taskId=task_1522319554594_0065_19_05_000119, diagnostics=[TaskAttempt 0 killed, TaskAttempt 1 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_1 Timed out after 90 secs], TaskAttempt 2 killed, TaskAttempt 3 killed, TaskAttempt 4 killed, TaskAttempt 5 killed, TaskAttempt 6 killed, TaskAttempt 7 killed, TaskAttempt 8 killed, TaskAttempt 9 killed, TaskAttempt 10 killed, TaskAttempt 11 killed, TaskAttempt 12 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_12 Timed out after 90 secs], TaskAttempt 13 killed, TaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs], TaskAttempt 15 failed, info=[org.apache.hadoop.ipc.RemoteException(java.lang.RuntimeException): attempt_1522319554594_0065_19_08_000018_6 was not registered and couldn't be removed\r\norg.apache.hive.service.cli.HiveSQLException: Error while processing statement: FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.tez.TezTask. Vertex failed, vertexName=Reducer 3, vertexId=vertex_1522319554594_0065_19_05, diagnostics=[Task failed, taskId=task_1522319554594_0065_19_05_000119, diagnostics=[TaskAttempt 0 killed, TaskAttempt 1 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_1 Timed out after 90 secs], TaskAttempt 2 killed, TaskAttempt 3 killed, TaskAttempt 4 killed, TaskAttempt 5 killed, TaskAttempt 6 killed, TaskAttempt 7 killed, TaskAttempt 8 killed, TaskAttempt 9 killed, TaskAttempt 10 killed, TaskAttempt 11 killed, TaskAttempt 12 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_12 Timed out after 90 secs], TaskAttempt 13 killed, TaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs], TaskAttempt 15 failed, info=[org.apache.hadoop.ipc.RemoteException(java.lang.RuntimeException): attempt_1522319554594_0065_19_08_000018_6 was not registered and couldn't be removed\r\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: Vertex failed, vertexName=Reducer 3, vertexId=vertex_1522319554594_0065_19_05, diagnostics=[Task failed, taskId=task_1522319554594_0065_19_05_000119, diagnostics=[TaskAttempt 0 killed, TaskAttempt 1 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_1 Timed out after 90 secs], TaskAttempt 2 killed, TaskAttempt 3 killed, TaskAttempt 4 killed, TaskAttempt 5 killed, TaskAttempt 6 killed, TaskAttempt 7 killed, TaskAttempt 8 killed, TaskAttempt 9 killed, TaskAttempt 10 killed, TaskAttempt 11 killed, TaskAttempt 12 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_12 Timed out after 90 secs], TaskAttempt 13 killed, TaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs], TaskAttempt 15 failed, info=[org.apache.hadoop.ipc.RemoteException(java.lang.RuntimeException): attempt_1522319554594_0065_19_08_000018_6 was not registered and couldn't be removed\r\n\r\n{code}\r\n\r\ntezam logs for the attempt\r\n{code}\r\n2018-04-10 13:18:45,430 [INFO] [TaskSchedulerEventHandlerThread] |tezplugins.LlapTaskSchedulerService|: Received allocateRequest. task=attempt_1522319554594_0065_19_05_000119_14, priority=194, capability=<memory:3072, vCores:1>, hosts=null\r\n2018-04-10 13:18:45,440 [INFO] [LlapScheduler] |tezplugins.LlapTaskSchedulerService|: Assigned #67763, task=TaskInfo{task=attempt_1522319554594_0065_19_05_000119_14, priority=194, startTime=0, containerId=null, uniqueId=69780, localityDelayTimeout=1127144039} on node={lemon-9.openstacklocal:50155, id=2a3562c1-1094-499f-9d83-5c3b5cf34663, canAcceptTask=true, st=10, ac=1, commF=false, disabled=false}, to container=container_222212222_0065_01_067763\r\n2018-04-10 13:18:45,440 [INFO] [LlapScheduler] |GuaranteedTasks|: Registering attempt_1522319554594_0065_19_05_000119_14; false\r\n2018-04-10 13:18:45,446 [INFO] [Dispatcher thread {Central}] |impl.TaskAttemptImpl|: TaskAttempt: [attempt_1522319554594_0065_19_05_000119_14] submitted. Is using containerId: [container_222212222_0065_01_067763] on NM: [lemon-9.openstacklocal:50155]\r\n2018-04-10 13:18:45,446 [INFO] [Dispatcher thread {Central}] |HistoryEventHandler.criticalEvents|: [HISTORY][DAG:dag_1522319554594_0065_19][Event:TASK_ATTEMPT_STARTED]: vertexName=Reducer 3, taskAttemptId=attempt_1522319554594_0065_19_05_000119_14, startTime=1523366325446, containerId=container_222212222_0065_01_067763, nodeId=lemon-9.openstacklocal:50155\r\n2018-04-10 13:18:45,464 [INFO] [TaskCommunicator # 9] |tezplugins.LlapTaskCommunicator|: Successfully launched task: attempt_1522319554594_0065_19_05_000119_14\r\n2018-04-10 13:18:45,464 [INFO] [TaskCommunicator # 9] |GuaranteedTasks|: Received response for attempt_1522319554594_0065_19_05_000119_14, true\r\n2018-04-10 13:19:08,743 [INFO] [IPC Server handler 15 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_05_000128_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, \r\n2018-04-10 13:19:18,728 [INFO] [IPC Server handler 11 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:19:28,726 [INFO] [IPC Server handler 28 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:19:38,726 [INFO] [IPC Server handler 15 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:19:48,726 [INFO] [IPC Server handler 17 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:19:58,726 [INFO] [IPC Server handler 5 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:20:08,726 [INFO] [IPC Server handler 2 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:20:18,727 [INFO] [IPC Server handler 17 on 35408] |tezplugins.LlapTaskCommunicator|: The tasks we expected to be on the node are not there: attempt_1522319554594_0065_19_05_000130_14, attempt_1522319554594_0065_19_05_000191_14, attempt_1522319554594_0065_19_08_000018_6, attempt_1522319554594_0065_19_08_000022_6, attempt_1522319554594_0065_19_05_000181_14, attempt_1522319554594_0065_19_05_000131_15, attempt_1522319554594_0065_19_05_000214_15, attempt_1522319554594_0065_19_05_000093_11, attempt_1522319554594_0065_19_05_000119_14, attempt_1522319554594_0065_19_08_000025_7, \r\n2018-04-10 13:20:24,594 [INFO] [Dispatcher thread {Central}] |HistoryEventHandler.criticalEvents|: [HISTORY][DAG:dag_1522319554594_0065_19][Event:TASK_ATTEMPT_FINISHED]: vertexName=Reducer 3, taskAttemptId=attempt_1522319554594_0065_19_05_000119_14, creationTime=1523366325392, allocationTime=1523366325443, startTime=1523366325446, finishTime=1523366424594, timeTaken=99148, status=FAILED, taskFailureType=NON_FATAL, errorEnum=TASK_HEARTBEAT_ERROR, diagnostics=AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs, nodeHttpAddress=http://lemon-9.openstacklocal:15002, counters=Counters: 0\r\n2018-04-10 13:20:24,600 [INFO] [TaskSchedulerEventHandlerThread] |GuaranteedTasks|: Unregistering attempt_1522319554594_0065_19_05_000119_14; false\r\n2018-04-10 13:20:24,600 [INFO] [TaskSchedulerEventHandlerThread] |tezplugins.LlapTaskSchedulerService|: Processing de-allocate request for task=attempt_1522319554594_0065_19_05_000119_14, state=ASSIGNED, endReason=OTHER\r\n2018-04-10 13:20:24,603 [INFO] [Dispatcher thread {Central}] |node.AMNodeImpl|: Attempt failedon node: lemon-9.openstacklocal:50155 TA: attempt_1522319554594_0065_19_05_000119_14, container: container_222212222_0065_01_067763, numFailedTAs: 57\r\n2018-04-10 13:20:24,605 [INFO] [Dispatcher thread {Central}] |impl.VertexImpl|: Source task attempt completed for vertex: vertex_1522319554594_0065_19_07 [Reducer 10] attempt: attempt_1522319554594_0065_19_05_000119_14 with state: FAILED vertexState: RUNNING\r\n2018-04-10 13:20:24,605 [INFO] [Dispatcher thread {Central}] |impl.VertexImpl|: Source task attempt completed for vertex: vertex_1522319554594_0065_19_11 [Reducer 4] attempt: attempt_1522319554594_0065_19_05_000119_14 with state: FAILED vertexState: RUNNING\r\n2018-04-10 13:20:24,605 [INFO] [Dispatcher thread {Central}] |impl.VertexImpl|: Source task attempt completed for vertex: vertex_1522319554594_0065_19_06 [Reducer 9] attempt: attempt_1522319554594_0065_19_05_000119_14 with state: FAILED vertexState: RUNNING\r\nTaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs]\r\n2018-04-10 13:20:25,020 [INFO] [Dispatcher thread {Central}] |HistoryEventHandler.criticalEvents|: [HISTORY][DAG:dag_1522319554594_0065_19][Event:VERTEX_FINISHED]: vertexName=Reducer 3, vertexId=vertex_1522319554594_0065_19_05, initRequestedTime=1523363710631, initedTime=1523363710645, startRequestedTime=1523363713645, startedTime=1523363713646, finishTime=1523366425017, timeTaken=2711371, status=FAILED, diagnostics=Task failed, taskId=task_1522319554594_0065_19_05_000119, diagnostics=[TaskAttempt 0 killed, TaskAttempt 1 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_1 Timed out after 90 secs], TaskAttempt 2 killed, TaskAttempt 3 killed, TaskAttempt 4 killed, TaskAttempt 5 killed, TaskAttempt 6 killed, TaskAttempt 7 killed, TaskAttempt 8 killed, TaskAttempt 9 killed, TaskAttempt 10 killed, TaskAttempt 11 killed, TaskAttempt 12 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_12 Timed out after 90 secs], TaskAttempt 13 killed, TaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs], TaskAttempt 15 failed, info=[org.apache.hadoop.ipc.RemoteException(java.lang.RuntimeException): attempt_1522319554594_0065_19_08_000018_6 was not registered and couldn't be removed\r\n2018-04-10 13:20:25,157 [INFO] [Dispatcher thread {Central}] |HistoryEventHandler.criticalEvents|: [HISTORY][DAG:dag_1522319554594_0065_19][Event:DAG_FINISHED]: dagId=dag_1522319554594_0065_19, startTime=1523363710305, finishTime=1523366425121, timeTaken=2714816, status=FAILED, diagnostics=Vertex failed, vertexName=Reducer 3, vertexId=vertex_1522319554594_0065_19_05, diagnostics=[Task failed, taskId=task_1522319554594_0065_19_05_000119, diagnostics=[TaskAttempt 0 killed, TaskAttempt 1 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_1 Timed out after 90 secs], TaskAttempt 2 killed, TaskAttempt 3 killed, TaskAttempt 4 killed, TaskAttempt 5 killed, TaskAttempt 6 killed, TaskAttempt 7 killed, TaskAttempt 8 killed, TaskAttempt 9 killed, TaskAttempt 10 killed, TaskAttempt 11 killed, TaskAttempt 12 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_12 Timed out after 90 secs], TaskAttempt 13 killed, TaskAttempt 14 failed, info=[AttemptID:attempt_1522319554594_0065_19_05_000119_14 Timed out after 90 secs], TaskAttempt 15 failed, info=[org.apache.hadoop.ipc.RemoteException(java.lang.RuntimeException): attempt_1522319554594_0065_19_08_000018_6 was not registered and couldn't be removed\r\n\r\n{code}\r\n\r\nfrom llap0 logs; filtered for attempt_1522319554594_0065_19_05_000119_14 ; ordered by time:\r\n{code}\r\njava.lang.RuntimeException: attempt_1522319554594_0065_19_05_000119_14 was not registered and couldn't be removed\r\n2018-04-10T13:18:45,455 INFO  [IPC Server handler 3 on 50155 ()] org.apache.hadoop.hive.llap.daemon.impl.ContainerRunnerImpl: Queueing container for execution: fragemendId=attempt_1522319554594_0065_19_05_000119_14, am_details=lemon-8.openstacklocal:35408, taskInfo= fragment 119 attempt 14, user=hive, queryId=hive_20180410113951_2fc85570-df7a-4cb1-8499-74d11f227e0d, appIdString=application_1522319554594_0065, appAttemptNum=1, containerIdString=container_222212222_0065_01_067763, dagName=with ws as\r\n2018-04-10T13:18:45,457  INFO [IPC Server handler 3 on 50155 (1522319554594_0065_19_05_000119_14)] impl.ContainerRunnerImpl: SubmissionState for attempt_1522319554594_0065_19_05_000119_14 : ACCEPTED \r\n2018-04-10T13:19:13,533 INFO  [Wait-Queue-Scheduler-0 ()] org.apache.hadoop.hive.llap.daemon.impl.TaskExecutorService: Adding attempt_1522319554594_0065_19_05_000119_14 to pre-emption queue\r\n2018-04-10T13:19:13,533 INFO  [Wait-Queue-Scheduler-0 ()] org.apache.hadoop.hive.llap.daemon.impl.TaskExecutorService: Attempting to execute TaskWrapper{task=attempt_1522319554594_0065_19_05_000119_14, inWaitQueue=true, inPreemptionQueue=false, registeredForNotifications=true, canFinish=true, canFinish(in queue)=true, isGuaranteed=false, firstAttemptStartTime=1523364757720, dagStartTime=1523363710305, withinDagPriority=194, vertexParallelism= 297, selfAndUpstreamParallelism= 1286, selfAndUpstreamComplete= 1243}\r\n2018-04-10T13:19:13,534 WARN  [ExecutionCompletionThread #0 ()] org.apache.hadoop.hive.llap.daemon.impl.TaskExecutorService: Received onSuccess/onFailure for a fragment for which a completing message was not received: attempt_1522319554594_0065_19_05_000119_14\r\n2018-04-10T13:19:13,536 ERROR [ExecutionCompletionThread #0 ()] org.apache.hadoop.hive.llap.daemon.impl.TaskExecutorService: Failed notification received: Stacktrace: java.lang.RuntimeException: attempt_1522319554594_0065_19_05_000119_14 was not registered and couldn't be removed\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"llap: Timed out after 90 secs","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13151566/comment/16433495","id":"16433495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"body":"this could be known issue ; but I wasn't able to locate a relevant jira - I'm using an at least 2-3 weeks old version of master","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"created":"2018-04-11T06:59:28.910+0000","updated":"2018-04-11T06:59:28.910+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13151566/comment/16433507","id":"16433507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"body":"to provide better context: I'm working on reoptimizing the queries - so these queries are known to have a bad initial plan (usually map join is used - but its not gonna work; and will eventually get an oom) the problem is that it fails with timeout - in which case there won't be a retry...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"created":"2018-04-11T07:14:11.162+0000","updated":"2018-04-11T07:14:11.162+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13151566/comment/16442444","id":"16442444","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"body":"I'm seeing this again with tpcds#64; I think this might be related to the fact that the query has a lot of locks\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kgyrtkirk","name":"kgyrtkirk","key":"kgyrtkirk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kgyrtkirk&avatarId=32755","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kgyrtkirk&avatarId=32755","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kgyrtkirk&avatarId=32755","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kgyrtkirk&avatarId=32755"},"displayName":"Zoltan Haindrich","active":true,"timeZone":"Europe/Budapest"},"created":"2018-04-18T12:48:42.750+0000","updated":"2018-04-18T12:48:42.750+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13151566/comment/16443029","id":"16443029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Can you check GC logs to see if it's hitting heavy GC that causes things to time out?\r\nOverall, if you can send me logs via some channel it might be helpful.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-04-18T18:49:12.064+0000","updated":"2018-04-18T18:49:12.064+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-19169/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3sehz:"}}