{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12838246","self":"https://issues.apache.org/jira/rest/api/2/issue/12838246","key":"HIVE-11024","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332154","id":"12332154","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332641","id":"12332641","description":"Hive 2.0.0","name":"2.0.0","archived":false,"released":true,"releaseDate":"2016-02-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-07-15T00:18:18.886+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Nov 12 19:01:13 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2439628651_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_130242854","customfield_12312321":null,"resolutiondate":"2015-07-16T12:29:35.539+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11024/watchers","watchCount":4,"isWatching":false},"created":"2015-06-16T18:38:24.071+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326450","id":"12326450","description":"released","name":"0.14.0","archived":false,"released":true,"releaseDate":"2014-11-12"}],"issuelinks":[{"id":"12436641","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12436641","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12862107","key":"HIVE-11748","self":"https://issues.apache.org/jira/rest/api/2/issue/12862107","fields":{"summary":"HivePreparedStatement's setTimestamp() does not quote value as required","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-02-16T23:53:26.846+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12325007","id":"12325007","name":"Hive"}],"timeoriginalestimate":null,"description":"Inserting a row with a Date parameter marker (PreparedStatement.setDate()) fails with ParseException:\n\nException: org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: ParseException line 1:41 mismatched input '-' expecting ) near '1980' in statement\norg.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: ParseException line 1:41 mismatched input '-' expecting ) near '1980' in statement\n        at org.apache.hive.jdbc.Utils.verifySuccess(Utils.java:231)\n        at org.apache.hive.jdbc.Utils.verifySuccessWithInfo(Utils.java:217)\n        at org.apache.hive.jdbc.HiveStatement.execute(HiveStatement.java:254)\n        at org.apache.hive.jdbc.HiveStatement.executeUpdate(HiveStatement.java:4\n06)\n        at org.apache.hive.jdbc.HivePreparedStatement.executeUpdate(HivePrepared\nStatement.java:117)\n        at repro1.main(repro1.java:90)\nCaused by: org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: ParseException line 1:41 mismatched input '-' expecting ) near '1980' in statement\n        at org.apache.hive.service.cli.operation.Operation.toSQLException(Operat\nion.java:314)\n        at org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperati\non.java:102)\n        at org.apache.hive.service.cli.operation.SQLOperation.runInternal(SQLOpe\nration.java:171)\n\n\n\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nREPRO:\n----------\n\n/*\n * It may be freely used, modified, and distributed with no restrictions.\n */\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSetMetaData;\nimport java.io.Reader;\n\n/**\n */\npublic class repro1\n{\n  /**\n   * Main method.\n   * \n   * @param args\n   *    no arguments required\n   */\n  public static void main(String [] args)\n  {\n    Connection con = null;\n    Statement stmt = null;\n    ResultSet rst = null;\n\n    String drptab = \"DROP TABLE SDLJUNK\";\n    String crttab = \"CREATE TABLE SDLJUNK(I INT, D DATE)\";\n    String instab = \"INSERT INTO TABLE SDLJUNK VALUES (1, ? )\";\n\n    try {\n\n      System.out.println(\"=================================================\");\n      System.out.println(\"Problem description:\");\n      System.out.println(\"After setting a value for a DATE parameter marker \");\n      System.out.println(\" with PreparedStatement.setDate(),\"); \n      System.out.println(\" an INSERT statement fails execution with error:  \"); \n      System.out.println(\"                                                  \"); \n      System.out.println(\"  Error while compiling statement: FAILED: \");\n      System.out.println(\"ParseException line 1:78 mismatched input '-' \");\n      System.out.println(\" expecting ) near '1980' in statement\"); \n      System.out.println(\"=================================================\");\n      System.out.println(\"\");\n      // Create new instance of JDBC Driver and make connection.\n      System.out.println(\"Registering Driver.\");\n      Class.forName(\"org.apache.hive.jdbc.HiveDriver\");\n\n      String url=\"jdbc:hive2://hwhive:10000/R729999D\";\n      System.out.println(\"Making a connection to: \"+url);\n      con = DriverManager.getConnection(url, \"hive\", \"hive\");     \n      System.out.println(\"Connection successful.\\n\");\n\n      DatabaseMetaData dbmd = con.getMetaData();\n\n      System.out.println(\"getDatabaseProductName() = \"+dbmd.getDatabaseProductName());\n      System.out.println(\"getDatabaseProductVersion() = \"+dbmd.getDatabaseProductVersion());\n      System.out.println(\"getDriverName() = \"+dbmd.getDriverName());\n      System.out.println(\"getDriverVersion() = \"+dbmd.getDriverVersion());\n\n      try {\n         System.out.println(\"con.createStatement()\");\n         stmt = con.createStatement();\n\n         System.out.println(drptab);\n         stmt.executeUpdate(drptab);\n         }\n\n      catch (Exception ex)\n      {\t\n        System.out.println(\"Exception: \" + ex);\n      }\n\n      System.out.println(crttab);\n      stmt.executeUpdate(crttab);\n\n      System.out.println(\"preparing: \"+instab);\n      PreparedStatement pstmt = con.prepareStatement(instab);\n\n\n      System.out.println(\"calling setDate() for parameter marker\");\n\n      java.sql.Date dt = java.sql.Date.valueOf(\"1980-12-26\");\n      pstmt.setDate(1, dt);\n//    pstmt.setString(1, \"1980-12-26\");\n\n      System.out.println(\"executing: \"+instab);\n      pstmt.executeUpdate();\n\n//    System.out.println(\"committing\");\n//    con.commit();\n    }\n\n    catch (Exception ex)\n    {\t\n      System.out.println(\"Exception: \" + ex);\n      ex.printStackTrace();\n    }\n\n    finally\n    {\t\t\t\n      if (con != null)\n      {\t\n        try\n        {\t\n          // Close the connection\n          con.close();\t\t\t\t\n        }\n        catch (SQLException ex)\n        {\t\n          System.out.println(\"SQLException: \" + ex);\n        }\n      }\n    } \n  }\n\n  //-------------------------------------------------------------------\n  // dispResultSet\n  // Displays all columns and rows in the given result set\n  //-------------------------------------------------------------------\n\n  private static void dispResultSet (ResultSet rs)\n\tthrows SQLException\n  {\n    int i;\n\n    // Get the ResultSetMetaData.  This will be used for\n    // the column headings\n\n    ResultSetMetaData rsmd = rs.getMetaData ();\n\n    // Get the number of columns in the result set\n\n    int numCols = rsmd.getColumnCount ();\n\n    // Display column headings\n\n    for (i=1; i<=numCols; i++) {\n      if (i > 1) System.out.print(\",\");\n      System.out.print(rsmd.getColumnLabel(i));\n    }\n\n    System.out.println(\"\");\n\n    // Display data, fetching until end of the result set\n\n    boolean more = rs.next ();\n    while (more) {\n\n      // Loop through each column, getting the\n      // column data and displaying\n\n      for (i=1; i<=numCols; i++) {\n        if (i > 1) System.out.print(\",\");\n          System.out.print(rs.getString(i));\n      }\n      System.out.println(\"\");\n\n      // Fetch the next result set row\n\n      more = rs.next ();\n    }\n  }\n}\n\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\nREPRO OUTPUT:\n----------------------\n\nPicked up _JAVA_OPTIONS: -Xms128m -Xmx256m\n=================================================\nProblem description:\nAfter setting a value for a DATE parameter marker \n with PreparedStatement.setDate(),\n an INSERT statement fails execution with error:  \n                                                  \n  Error while compiling statement: FAILED: \nParseException line 1:78 mismatched input '-' \n expecting ) near '1980' in statement\n=================================================\n\nRegistering Driver.\nMaking a connection to: jdbc:hive2://hwhive:10000/R729999D\nlog4j:WARN No appenders could be found for logger (org.apache.hive.jdbc.Utils).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\nConnection successful.\n\ngetDatabaseProductName() = Apache Hive\ngetDatabaseProductVersion() = 0.14.0.2.2.0.0-2041\ngetDriverName() = Hive JDBC\ngetDriverVersion() = 0.14.0.2.2.0.0-2041\ncon.createStatement()\nDROP TABLE SDLJUNK\nCREATE TABLE SDLJUNK(I INT, D DATE)\npreparing: INSERT INTO TABLE SDLJUNK VALUES (1, ? )\ncalling setDate() for parameter marker\nexecuting: INSERT INTO TABLE SDLJUNK VALUES (1, ? )\nException: org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: ParseException line 1:41 mismatched input '-' expecting ) near '1980' in statement\norg.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: ParseException line 1:41 mismatched input '-' expecting ) near '1980' in statement\n\tat org.apache.hive.jdbc.Utils.verifySuccess(Utils.java:231)\n\tat org.apache.hive.jdbc.Utils.verifySuccessWithInfo(Utils.java:217)\n\tat org.apache.hive.jdbc.HiveStatement.execute(HiveStatement.java:254)\n\tat org.apache.hive.jdbc.HiveStatement.executeUpdate(HiveStatement.java:406)\n\tat org.apache.hive.jdbc.HivePreparedStatement.executeUpdate(HivePreparedStatement.java:117)\n\tat repro1.main(repro1.java:90)\nCaused by: org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: ParseException line 1:41 mismatched input '-' expecting ) near '1980' in statement\n\tat org.apache.hive.service.cli.operation.Operation.toSQLException(Operation.java:314)\n\tat org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:102)\n\tat org.apache.hive.service.cli.operation.SQLOperation.runInternal(SQLOperation.java:171)\n\tat org.apache.hive.service.cli.operation.Operation.run(Operation.java:256)\n\tat org.apache.hive.service.cli.session.HiveSessionImpl.executeStatementInternal(HiveSessionImpl.java:376)\n\tat org.apache.hive.service.cli.session.HiveSessionImpl.executeStatementAsync(HiveSessionImpl.java:363)\n\tat org.apache.hive.service.cli.CLIService.executeStatementAsync(CLIService.java:247)\n\tat org.apache.hive.service.cli.thrift.ThriftCLIService.ExecuteStatement(ThriftCLIService.java:401)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1313)\n\tat org.apache.hive.service.cli.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1298)\n\tat org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)\n\tat org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\n\tat org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:56)\n\tat org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:206)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: org.apache.hadoop.hive.ql.parse.ParseException:line 1:41 mismatched input '-' expecting ) near '1980' in statement\n\tat org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:202)\n\tat org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:166)\n\tat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:389)\n\tat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:303)\n\tat org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1067)\n\tat org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:1061)\n\tat org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:100)\n\t... 15 more\n\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++\nENVIRONMENT:\n---------------------\nexport CLASSPATH=.:/qas/hive14/hive-serde.jar:/qas/hive14/hive-exec.jar:/qas/hive14/slf4j-api-1.7.5.jar:/qas/hive14/libfb303-0.9.0.jar:/qas/hive14/hive-service.jar:/qas/hive14/httpclient-4.2.5.jar:/qas/hive14/hive-metastore.jar:/qas/hive14/hive-common.jar:/qas/hive14/httpcore-4.2.5.jar:/qas/hive14/hive-jdbc.jar:/qas/hive14/hadoop-common.jar:/qas/hive14/libthrift-0.9.0.jar:/qas/hive14/hive-shims.jar:/qas/hive14/log4j-1.2.16.jar:/qas/hive14/commons-logging-1.1.3.jar\nexport PATH=$JDK_HOME/bin:$PATH\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12745359","id":"12745359","filename":"HIVE-11024.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-15T00:18:18.882+0000","size":1741,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12745359/HIVE-11024.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12745477","id":"12745477","filename":"HIVE-11024.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-15T16:35:56.097+0000","size":1826,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12745477/HIVE-11024.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Error inserting a date value via parameter marker (PreparedStatement.setDate)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sergiolob","name":"sergiolob","key":"sergiolob","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Lob","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sergiolob","name":"sergiolob","key":"sergiolob","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Lob","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux lnxx64r6 2.6.32-131.0.15.el6.x86_64 #1 SMP Tue May 10 15:42:40 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14627331","id":"14627331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"body":"Date value need quoted in query.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-15T00:18:18.886+0000","updated":"2015-07-15T00:18:18.886+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14627332","id":"14627332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"body":"Need code review. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-15T00:18:52.715+0000","updated":"2015-07-15T00:18:52.715+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14627528","id":"14627528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12745359/HIVE-11024.1.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 9191 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4615/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4615/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4615/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12745359 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-07-15T05:12:55.128+0000","updated":"2015-07-15T05:12:55.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14628069","id":"14628069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"body":"The failure is not related.\norg.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json:\njava.sql.SQLException: Table/View 'TXNS' already exists in Schema 'APP'.\n[~szehon], [~spena] could you review the change? Thanks\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-15T13:41:41.149+0000","updated":"2015-07-15T13:41:41.149+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14628205","id":"14628205","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"body":"The patch looks good [~ychena].\nJust one thing, I think it should be good to add an assert after the ResultSet line to validate that the test is OK by checking that the date string is returned. What do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"created":"2015-07-15T15:12:02.184+0000","updated":"2015-07-15T15:12:02.184+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14628322","id":"14628322","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"body":"[~spena], thanks for the advice. Attach the second patch with check for returns. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ychena","name":"ychena","key":"ychena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yongzhi Chen","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-15T16:35:37.867+0000","updated":"2015-07-15T16:35:37.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14628563","id":"14628563","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:green}Overall{color}: +1 all checks pass\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12745477/HIVE-11024.2.patch\n\n{color:green}SUCCESS:{color} +1 9192 tests passed\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4620/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4620/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4620/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12745477 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-07-15T19:09:04.476+0000","updated":"2015-07-15T19:09:04.476+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14628650","id":"14628650","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"body":"Looks good.\n+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"created":"2015-07-15T20:15:38.338+0000","updated":"2015-07-15T20:15:38.338+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/14629645","id":"14629645","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"body":"Thanks [~ychena] for your contribution.\nI committed this to master.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"created":"2015-07-16T12:29:35.565+0000","updated":"2015-07-16T12:29:35.565+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/15001528","id":"15001528","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Should this issue be backported to branch-1? It looks like a bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T02:12:15.852+0000","updated":"2015-11-12T02:12:15.852+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/15002407","id":"15002407","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"body":"Cherry-picked and tested on branch-1 (1.3.0)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spena","name":"spena","key":"spena","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergio Peña","active":true,"timeZone":"America/Chicago"},"created":"2015-11-12T16:57:56.192+0000","updated":"2015-11-12T16:57:56.192+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12838246/comment/15002655","id":"15002655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-12T19:01:13.399+0000","updated":"2015-11-12T19:01:13.399+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11024/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2g47z:"}}