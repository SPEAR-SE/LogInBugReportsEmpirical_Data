{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12996811","self":"https://issues.apache.org/jira/rest/api/2/issue/12996811","key":"HIVE-14525","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-08-13T15:03:39.715+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 23 05:46:16 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-14525/watchers","watchCount":3,"isWatching":false},"created":"2016-08-12T01:29:00.422+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["beeline"],"customfield_12312333":null,"customfield_12310230":"Beeline","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335837","id":"12335837","name":"2.2.0","archived":false,"released":true,"releaseDate":"2017-07-25"}],"issuelinks":[{"id":"12477564","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12477564","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12993671","key":"HIVE-14389","self":"https://issues.apache.org/jira/rest/api/2/issue/12993671","fields":{"summary":"Beeline should not output query and prompt to stdout","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-25T12:30:28.846+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324409","id":"12324409","name":"Beeline"}],"timeoriginalestimate":null,"description":"simple test. note that i'm looking to get a tsv file back.\n\n{code}\n$ beeline -u dwrdevnn1 --showHeader=false --outputformat=tsv2 <<SQL >stdout 2>stderr\n> select count(*)\n> from default.dual;\n> SQL\n{code}\n\ninstead i get this in stdout:\n\n{code}\n$ cat stdout\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000> select count(*)\n. . . . . . . . . . . . . . . . . . . . . . .> from default.dual;\n0\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000> \n{code}\n\ni should only get one row which is the *result* of the query (which is 0) - not the ovthe loggy kind of lines you see above. that stuff goes to stderr my friends.\n\nalso i refer to this ticket b/c the last comment suggested so - its close but not exactly the same.\nhttps://issues.apache.org/jira/browse/HIVE-14183\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12824839","id":"12824839","filename":"HIVE-14525.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T13:39:28.068+0000","size":1003,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12824839/HIVE-14525.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12824848","id":"12824848","filename":"HIVE-14525.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T14:43:16.892+0000","size":995,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12824848/HIVE-14525.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12824871","id":"12824871","filename":"HIVE-14525.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T15:16:33.691+0000","size":941,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12824871/HIVE-14525.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12824898","id":"12824898","filename":"HIVE-14525.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T17:41:25.160+0000","size":942,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12824898/HIVE-14525.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12824838","id":"12824838","filename":"HIVE-14525.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T13:28:55.654+0000","size":938,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12824838/HIVE-14525.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"beeline still writing log data to stdout as of version 2.1.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15419956","id":"15419956","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"The \"loggy kind of lines\" contains the query, which is the subject of the other issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-13T15:03:39.715+0000","updated":"2016-08-13T15:03:39.715+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15420119","id":"15420119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"body":"ok.  lemme back up for a sec.\n\nwould people agree with me that stdout is reserved for *results* and stderr is where everything else goes? like info, debug, errors and warnings and anything else that comes up?  This is especially relevant for csv and tsv style output (machine readable.) for pretty output with ascii art around the results (human readable) it isn't quite as critical.\n\ni'm curious if there is disagreement here.\n\nfor context i'd like to create a tsv file and i'd like to use beeline. :)    i suppose the de-facto method would be to use insert overwrite [local] directory and rsync the thing back to the cient - but i was hoping i could do it all through beeline.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-13T23:28:32.669+0000","updated":"2016-08-13T23:28:32.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15420959","id":"15420959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"The prompt and other debug info is echoed to stdout only if --silent=true is not set.\nThese are supressed if on commandline -f file AND --silent=true are present.\n\nBeeline cannot detect command line output redirection. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-15T13:19:32.045+0000","updated":"2016-08-15T13:19:32.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15425848","id":"15425848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"body":"good to know. thanks.\n\n>The prompt and other debug info is echoed to stdout\n\n     that's what i have a problem with - stdout.  instead, i submit beeline should echo that stuff to stderr.    I want to see to progress and all the log info -  that's great stuff to have - it just can't be to stdout where *results* go!   pretty sure is standard linux etiquette.  I'm not crazy! :o","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-18T03:14:17.431+0000","updated":"2016-08-18T03:14:17.431+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15430757","id":"15430757","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"The ConsoleReader class should not echo back to stdout when consuming a line with readLine method.\n\nIf ! isSlilent we echo it back with .info() method with prompt.\n\nPlease review my patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T13:34:37.039+0000","updated":"2016-08-22T13:34:37.039+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15430894","id":"15430894","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"https://reviews.apache.org/r/51287/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T14:43:16.898+0000","updated":"2016-08-22T14:43:16.898+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15430909","id":"15430909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"HIVE-14525","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T14:51:03.802+0000","updated":"2016-08-22T14:51:03.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15430964","id":"15430964","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"Whitespace fixes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T15:16:33.695+0000","updated":"2016-08-22T15:16:33.695+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15431245","id":"15431245","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12824871/HIVE-14525.3.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 11 failed/errored test(s), 10471 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_1]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_2]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[load_dyn_part1]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[load_dyn_part2]\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1]\norg.apache.hive.beeline.cli.TestHiveCli.testSetPromptValue\norg.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB1\norg.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB2\norg.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB3\norg.apache.hive.service.cli.operation.TestOperationLoggingLayout.testSwitchLogLayout\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/953/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/953/console\nTest logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-953/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 11 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12824871 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-08-22T17:35:57.041+0000","updated":"2016-08-22T17:35:57.041+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15431256","id":"15431256","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"Missing spaces. See review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T17:41:25.164+0000","updated":"2016-08-22T17:41:25.164+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15431307","id":"15431307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"body":"Will not pass existing tests with verifyCMD method.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcsanady","name":"mcsanady","key":"mcsanady","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mcsanady&avatarId=29451","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mcsanady&avatarId=29451","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mcsanady&avatarId=29451","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mcsanady&avatarId=29451"},"displayName":"Miklos Csanady","active":true,"timeZone":"Europe/Budapest"},"created":"2016-08-22T18:00:29.095+0000","updated":"2016-08-22T18:00:29.095+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12996811/comment/15432183","id":"15432183","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"body":"Hi Miklos,\nThanks for the quick work on patching this up!\n\nI haven't had a chance yet to look at your patch yet but that said i did encounter some other twists wrt to reading from stdin - and then what happens on stdout.  Figured it be good to get your thoughts.\n\n\ncase #1.  -f switch.   consistent with above problem i described.  you may have fixed this though it is using the -f switch and not stdin in this case.\n{quote}\n    $ cat test.sql\nselect\n\"foo\",\n\"bar\"\n;\n   $  beeline -u dwrdevnn1 --showheader=false --outputformat=tsv2 >stdout 2>stderr -f test.sql    #-f switch\n   $ cat stdout\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000> select\n. . . . . . . . . . . . . . . . . . . . . . .> \"foo\",\n. . . . . . . . . . . . . . . . . . . . . . .> \"bar\"\n. . . . . . . . . . . . . . . . . . . . . . .> ;\nfoo     bar\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000>\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000>\n{quote}\n\n\n\ncase #2 . stdin  .  In this case EVEN THE REAL OUTPUT has \". . . . . .\"  in front of it - unlike case #1 above.\n\n{quote}\n$ echo -e 'select\\n\"foo\",\\n\"bar\"' |  beeline -u dwrdevnn1 --showheader=false --outputformat=tsv2 >stdout 2>stderr\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000> select\n. . . . . . . . . . . . . . . . . . . . . . .> \"foo\",\n. . . . . . . . . . . . . . . . . . . . . . .> \"bar\"\n. . . . . . . . . . . . . . . . . . . . . . .> foo      bar\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000>\n{quote}\n\ncase #3   -  when beeline run from cron (or in a case where there is no tty)  I simulate this by ssh'ing to localhost and running query.\n\n{quote}\n$ cat test1.sh\n#!/bin/bash\nbeeline -u dwrdevnn1 --showheader=false --outputformat=tsv2 >stdout 2>stderr <<SQL\nselect\n\"foo\",\n\"bar\"\n;\nSQL\n\n$ ssh localhost \"test1.sh\"\n\n$ cat stdout\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000> . . . . . . . . . . . . . . . . . . . . . . .> . . . . . . . . . . . . . . . . . . . . . . .> . . . . . . . . . . . . . . . . . . . . . . .> foo        bar\n0: jdbc:hive2://dwrdevnn1.sv2.trulia.com:1000>\n\n(all newlines are gone. and the echo'ing of the actual SQL is missing - so all you get are the two different kinds of prefixes. )\n{quote}\n\ni'll review you patch probably tomorrow but wanted to get you this information now.  case #3 (running from cron) is the kicker we just ran into today.\n\nthanks again Miklos.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=spragues","name":"spragues","key":"spragues","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"stephen sprague","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-23T05:46:16.423+0000","updated":"2016-08-23T05:46:16.423+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-14525/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i328in:"}}